(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var S2={exports:{}},Ud={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function RT(){if(Jw)return Ud;Jw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:o,ref:a!==void 0?a:null,props:s}}return Ud.Fragment=e,Ud.jsx=r,Ud.jsxs=r,Ud}var Zw;function IT(){return Zw||(Zw=1,S2.exports=RT()),S2.exports}var u=IT(),T2={exports:{}},vr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function DT(){if(e_)return vr;e_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(J){return J===null||typeof J!="object"?null:(J=y&&J[y]||J["@@iterator"],typeof J=="function"?J:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function E(J,Ne,L){this.props=J,this.context=Ne,this.refs=k,this.updater=L||b}E.prototype.isReactComponent={},E.prototype.setState=function(J,Ne){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,Ne,"setState")},E.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function S(){}S.prototype=E.prototype;function j(J,Ne,L){this.props=J,this.context=Ne,this.refs=k,this.updater=L||b}var M=j.prototype=new S;M.constructor=j,A(M,E.prototype),M.isPureReactComponent=!0;var H=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function P(J,Ne,L,z,G,Y){return L=Y.ref,{$$typeof:t,type:J,key:Ne,ref:L!==void 0?L:null,props:Y}}function D(J,Ne){return P(J.type,Ne,void 0,void 0,void 0,J.props)}function I(J){return typeof J=="object"&&J!==null&&J.$$typeof===t}function U(J){var Ne={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(L){return Ne[L]})}var R=/\/+/g;function C(J,Ne){return typeof J=="object"&&J!==null&&J.key!=null?U(""+J.key):Ne.toString(36)}function B(){}function W(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(B,B):(J.status="pending",J.then(function(Ne){J.status==="pending"&&(J.status="fulfilled",J.value=Ne)},function(Ne){J.status==="pending"&&(J.status="rejected",J.reason=Ne)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function ue(J,Ne,L,z,G){var Y=typeof J;(Y==="undefined"||Y==="boolean")&&(J=null);var Z=!1;if(J===null)Z=!0;else switch(Y){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(J.$$typeof){case t:case e:Z=!0;break;case p:return Z=J._init,ue(Z(J._payload),Ne,L,z,G)}}if(Z)return G=G(J),Z=z===""?"."+C(J,0):z,H(G)?(L="",Z!=null&&(L=Z.replace(R,"$&/")+"/"),ue(G,Ne,L,"",function(we){return we})):G!=null&&(I(G)&&(G=D(G,L+(G.key==null||J&&J.key===G.key?"":(""+G.key).replace(R,"$&/")+"/")+Z)),Ne.push(G)),1;Z=0;var de=z===""?".":z+":";if(H(J))for(var xe=0;xe<J.length;xe++)z=J[xe],Y=de+C(z,xe),Z+=ue(z,Ne,L,Y,G);else if(xe=v(J),typeof xe=="function")for(J=xe.call(J),xe=0;!(z=J.next()).done;)z=z.value,Y=de+C(z,xe++),Z+=ue(z,Ne,L,Y,G);else if(Y==="object"){if(typeof J.then=="function")return ue(W(J),Ne,L,z,G);throw Ne=String(J),Error("Objects are not valid as a React child (found: "+(Ne==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":Ne)+"). If you meant to render a collection of children, use an array instead.")}return Z}function ae(J,Ne,L){if(J==null)return J;var z=[],G=0;return ue(J,z,"","",function(Y){return Ne.call(L,Y,G++)}),z}function le(J){if(J._status===-1){var Ne=J._result;Ne=Ne(),Ne.then(function(L){(J._status===0||J._status===-1)&&(J._status=1,J._result=L)},function(L){(J._status===0||J._status===-1)&&(J._status=2,J._result=L)}),J._status===-1&&(J._status=0,J._result=Ne)}if(J._status===1)return J._result.default;throw J._result}var se=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(Ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function ne(){}return vr.Children={map:ae,forEach:function(J,Ne,L){ae(J,function(){Ne.apply(this,arguments)},L)},count:function(J){var Ne=0;return ae(J,function(){Ne++}),Ne},toArray:function(J){return ae(J,function(Ne){return Ne})||[]},only:function(J){if(!I(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},vr.Component=E,vr.Fragment=r,vr.Profiler=a,vr.PureComponent=j,vr.StrictMode=n,vr.Suspense=h,vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,vr.__COMPILER_RUNTIME={__proto__:null,c:function(J){return K.H.useMemoCache(J)}},vr.cache=function(J){return function(){return J.apply(null,arguments)}},vr.cloneElement=function(J,Ne,L){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var z=A({},J.props),G=J.key,Y=void 0;if(Ne!=null)for(Z in Ne.ref!==void 0&&(Y=void 0),Ne.key!==void 0&&(G=""+Ne.key),Ne)!X.call(Ne,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&Ne.ref===void 0||(z[Z]=Ne[Z]);var Z=arguments.length-2;if(Z===1)z.children=L;else if(1<Z){for(var de=Array(Z),xe=0;xe<Z;xe++)de[xe]=arguments[xe+2];z.children=de}return P(J.type,G,void 0,void 0,Y,z)},vr.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:s,_context:J},J},vr.createElement=function(J,Ne,L){var z,G={},Y=null;if(Ne!=null)for(z in Ne.key!==void 0&&(Y=""+Ne.key),Ne)X.call(Ne,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(G[z]=Ne[z]);var Z=arguments.length-2;if(Z===1)G.children=L;else if(1<Z){for(var de=Array(Z),xe=0;xe<Z;xe++)de[xe]=arguments[xe+2];G.children=de}if(J&&J.defaultProps)for(z in Z=J.defaultProps,Z)G[z]===void 0&&(G[z]=Z[z]);return P(J,Y,void 0,void 0,null,G)},vr.createRef=function(){return{current:null}},vr.forwardRef=function(J){return{$$typeof:c,render:J}},vr.isValidElement=I,vr.lazy=function(J){return{$$typeof:p,_payload:{_status:-1,_result:J},_init:le}},vr.memo=function(J,Ne){return{$$typeof:d,type:J,compare:Ne===void 0?null:Ne}},vr.startTransition=function(J){var Ne=K.T,L={};K.T=L;try{var z=J(),G=K.S;G!==null&&G(L,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ne,se)}catch(Y){se(Y)}finally{K.T=Ne}},vr.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},vr.use=function(J){return K.H.use(J)},vr.useActionState=function(J,Ne,L){return K.H.useActionState(J,Ne,L)},vr.useCallback=function(J,Ne){return K.H.useCallback(J,Ne)},vr.useContext=function(J){return K.H.useContext(J)},vr.useDebugValue=function(){},vr.useDeferredValue=function(J,Ne){return K.H.useDeferredValue(J,Ne)},vr.useEffect=function(J,Ne,L){var z=K.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(J,Ne)},vr.useId=function(){return K.H.useId()},vr.useImperativeHandle=function(J,Ne,L){return K.H.useImperativeHandle(J,Ne,L)},vr.useInsertionEffect=function(J,Ne){return K.H.useInsertionEffect(J,Ne)},vr.useLayoutEffect=function(J,Ne){return K.H.useLayoutEffect(J,Ne)},vr.useMemo=function(J,Ne){return K.H.useMemo(J,Ne)},vr.useOptimistic=function(J,Ne){return K.H.useOptimistic(J,Ne)},vr.useReducer=function(J,Ne,L){return K.H.useReducer(J,Ne,L)},vr.useRef=function(J){return K.H.useRef(J)},vr.useState=function(J){return K.H.useState(J)},vr.useSyncExternalStore=function(J,Ne,L){return K.H.useSyncExternalStore(J,Ne,L)},vr.useTransition=function(){return K.H.useTransition()},vr.version="19.1.0",vr}var t_;function xv(){return t_||(t_=1,T2.exports=DT()),T2.exports}var be=xv(),C2={exports:{}},Vd={},R2={exports:{}},I2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function jT(){return r_||(r_=1,function(t){function e(ae,le){var se=ae.length;ae.push(le);e:for(;0<se;){var ne=se-1>>>1,J=ae[ne];if(0<a(J,le))ae[ne]=le,ae[se]=J,se=ne;else break e}}function r(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var le=ae[0],se=ae.pop();if(se!==le){ae[0]=se;e:for(var ne=0,J=ae.length,Ne=J>>>1;ne<Ne;){var L=2*(ne+1)-1,z=ae[L],G=L+1,Y=ae[G];if(0>a(z,se))G<J&&0>a(Y,z)?(ae[ne]=Y,ae[G]=se,ne=G):(ae[ne]=z,ae[L]=se,ne=L);else if(G<J&&0>a(Y,se))ae[ne]=Y,ae[G]=se,ne=G;else break e}}return le}function a(ae,le){var se=ae.sortIndex-le.sortIndex;return se!==0?se:ae.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var h=[],d=[],p=1,y=null,v=3,b=!1,A=!1,k=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function H(ae){for(var le=r(d);le!==null;){if(le.callback===null)n(d);else if(le.startTime<=ae)n(d),le.sortIndex=le.expirationTime,e(h,le);else break;le=r(d)}}function K(ae){if(k=!1,H(ae),!A)if(r(h)!==null)A=!0,X||(X=!0,C());else{var le=r(d);le!==null&&ue(K,le.startTime-ae)}}var X=!1,P=-1,D=5,I=-1;function U(){return E?!0:!(t.unstable_now()-I<D)}function R(){if(E=!1,X){var ae=t.unstable_now();I=ae;var le=!0;try{e:{A=!1,k&&(k=!1,j(P),P=-1),b=!0;var se=v;try{t:{for(H(ae),y=r(h);y!==null&&!(y.expirationTime>ae&&U());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,v=y.priorityLevel;var J=ne(y.expirationTime<=ae);if(ae=t.unstable_now(),typeof J=="function"){y.callback=J,H(ae),le=!0;break t}y===r(h)&&n(h),H(ae)}else n(h);y=r(h)}if(y!==null)le=!0;else{var Ne=r(d);Ne!==null&&ue(K,Ne.startTime-ae),le=!1}}break e}finally{y=null,v=se,b=!1}le=void 0}}finally{le?C():X=!1}}}var C;if(typeof M=="function")C=function(){M(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=R,C=function(){W.postMessage(null)}}else C=function(){S(R,0)};function ue(ae,le){P=S(function(){ae(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var se=v;v=le;try{return ae()}finally{v=se}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(ae,le){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var se=v;v=ae;try{return le()}finally{v=se}},t.unstable_scheduleCallback=function(ae,le,se){var ne=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ne+se:ne):se=ne,ae){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=se+J,ae={id:p++,callback:le,priorityLevel:ae,startTime:se,expirationTime:J,sortIndex:-1},se>ne?(ae.sortIndex=se,e(d,ae),r(h)===null&&ae===r(d)&&(k?(j(P),P=-1):k=!0,ue(K,se-ne))):(ae.sortIndex=J,e(h,ae),A||b||(A=!0,X||(X=!0,C()))),ae},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(ae){var le=v;return function(){var se=v;v=le;try{return ae.apply(this,arguments)}finally{v=se}}}}(I2)),I2}var n_;function LT(){return n_||(n_=1,R2.exports=jT()),R2.exports}var D2={exports:{}},Os={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function OT(){if(a_)return Os;a_=1;var t=xv();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Os.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Os.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(h,d,null,p)},Os.flushSync=function(h){var d=o.T,p=n.p;try{if(o.T=null,n.p=2,h)return h()}finally{o.T=d,n.p=p,n.d.f()}},Os.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},Os.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Os.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Os.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},Os.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Os.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},Os.requestFormReset=function(h){n.d.r(h)},Os.unstable_batchedUpdates=function(h,d){return h(d)},Os.useFormState=function(h,d,p){return o.H.useFormState(h,d,p)},Os.useFormStatus=function(){return o.H.useHostTransitionStatus()},Os.version="19.1.0",Os}var s_;function kk(){if(s_)return D2.exports;s_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),D2.exports=OT(),D2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function PT(){if(i_)return Vd;i_=1;var t=LT(),e=xv(),r=kk();function n(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function o(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function c(i){if(s(i)!==i)throw Error(n(188))}function h(i){var l=i.alternate;if(!l){if(l=s(i),l===null)throw Error(n(188));return l!==i?null:i}for(var f=i,m=l;;){var w=f.return;if(w===null)break;var N=w.alternate;if(N===null){if(m=w.return,m!==null){f=m;continue}break}if(w.child===N.child){for(N=w.child;N;){if(N===f)return c(w),i;if(N===m)return c(w),l;N=N.sibling}throw Error(n(188))}if(f.return!==m.return)f=w,m=N;else{for(var Q=!1,me=w.child;me;){if(me===f){Q=!0,f=w,m=N;break}if(me===m){Q=!0,m=w,f=N;break}me=me.sibling}if(!Q){for(me=N.child;me;){if(me===f){Q=!0,f=N,m=w;break}if(me===m){Q=!0,m=N,f=w;break}me=me.sibling}if(!Q)throw Error(n(189))}}if(f.alternate!==m)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?i:l}function d(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=d(i),l!==null)return l;i=i.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function C(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case E:return"Profiler";case k:return"StrictMode";case K:return"Suspense";case X:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case M:return(i.displayName||"Context")+".Provider";case j:return(i._context.displayName||"Context")+".Consumer";case H:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return l=i.displayName||null,l!==null?l:W(i.type)||"Memo";case D:l=i._payload,i=i._init;try{return W(i(l))}catch{}}return null}var ue=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ne=[],J=-1;function Ne(i){return{current:i}}function L(i){0>J||(i.current=ne[J],ne[J]=null,J--)}function z(i,l){J++,ne[J]=i.current,i.current=l}var G=Ne(null),Y=Ne(null),Z=Ne(null),de=Ne(null);function xe(i,l){switch(z(Z,l),z(Y,i),z(G,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?Nw(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=Nw(l),i=Sw(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(G),z(G,i)}function we(){L(G),L(Y),L(Z)}function je(i){i.memoizedState!==null&&z(de,i);var l=G.current,f=Sw(l,i.type);l!==f&&(z(Y,i),z(G,f))}function tt(i){Y.current===i&&(L(G),L(Y)),de.current===i&&(L(de),Od._currentValue=se)}var ee=Object.prototype.hasOwnProperty,Te=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,Le=t.unstable_shouldYield,pe=t.unstable_requestPaint,Ke=t.unstable_now,xt=t.unstable_getCurrentPriorityLevel,st=t.unstable_ImmediatePriority,pt=t.unstable_UserBlockingPriority,_t=t.unstable_NormalPriority,bt=t.unstable_LowPriority,Dt=t.unstable_IdlePriority,Ut=t.log,Wt=t.unstable_setDisableYieldValue,Pt=null,Mt=null;function Ht(i){if(typeof Ut=="function"&&Wt(i),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(Pt,i)}catch{}}var It=Math.clz32?Math.clz32:Dr,Tt=Math.log,vt=Math.LN2;function Dr(i){return i>>>=0,i===0?32:31-(Tt(i)/vt|0)|0}var qt=256,_n=4194304;function gr(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Wr(i,l,f){var m=i.pendingLanes;if(m===0)return 0;var w=0,N=i.suspendedLanes,Q=i.pingedLanes;i=i.warmLanes;var me=m&134217727;return me!==0?(m=me&~N,m!==0?w=gr(m):(Q&=me,Q!==0?w=gr(Q):f||(f=me&~i,f!==0&&(w=gr(f))))):(me=m&~N,me!==0?w=gr(me):Q!==0?w=gr(Q):f||(f=m&~i,f!==0&&(w=gr(f)))),w===0?0:l!==0&&l!==w&&(l&N)===0&&(N=w&-w,f=l&-l,N>=f||N===32&&(f&4194048)!==0)?l:w}function ga(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function wr(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(){var i=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),i}function on(){var i=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),i}function Un(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function na(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Yr(i,l,f,m,w,N){var Q=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var me=i.entanglements,Ce=i.expirationTimes,Ye=i.hiddenUpdates;for(f=Q&~f;0<f;){var it=31-It(f),ht=1<<it;me[it]=0,Ce[it]=-1;var Je=Ye[it];if(Je!==null)for(Ye[it]=null,it=0;it<Je.length;it++){var et=Je[it];et!==null&&(et.lane&=-536870913)}f&=~ht}m!==0&&$t(i,m,0),N!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=N&~(Q&~l))}function $t(i,l,f){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-It(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|f&4194090}function Sr(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var m=31-It(f),w=1<<m;w&l|i[m]&l&&(i[m]|=l),f&=~w}}function Ga(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Nn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function aa(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:$w(i.type))}function ls(i,l){var f=le.p;try{return le.p=i,l()}finally{le.p=f}}var Rt=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Rt,Mr="__reactProps$"+Rt,fn="__reactContainer$"+Rt,kn="__reactEvents$"+Rt,Sn="__reactListeners$"+Rt,ie="__reactHandles$"+Rt,Ae="__reactResources$"+Rt,ye="__reactMarker$"+Rt;function ve(i){delete i[Xr],delete i[Mr],delete i[kn],delete i[Sn],delete i[ie]}function ke(i){var l=i[Xr];if(l)return l;for(var f=i.parentNode;f;){if(l=f[fn]||f[Xr]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=Iw(i);i!==null;){if(f=i[Xr])return f;i=Iw(i)}return l}i=f,f=i.parentNode}return null}function Ee(i){if(i=i[Xr]||i[fn]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function ze(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(n(33))}function Ze(i){var l=i[Ae];return l||(l=i[Ae]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Fe(i){i[ye]=!0}var Ge=new Set,Xe={};function ft(i,l){kt(i,l),kt(i+"Capture",l)}function kt(i,l){for(Xe[i]=l,i=0;i<l.length;i++)Ge.add(l[i])}var Ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wt={},At={};function Qt(i){return ee.call(At,i)?!0:ee.call(wt,i)?!1:Ct.test(i)?At[i]=!0:(wt[i]=!0,!1)}function _r(i,l,f){if(Qt(l))if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+f)}}function kr(i,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+f)}}function Tr(i,l,f,m){if(m===null)i.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(l,f,""+m)}}var Ra,fi;function xa(i){if(Ra===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Ra=l&&l[1]||"",fi=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+i+fi}var $a=!1;function cs(i,l){if(!i||$a)return"";$a=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(et){var Je=et}Reflect.construct(i,[],ht)}else{try{ht.call()}catch(et){Je=et}i.call(ht.prototype)}}else{try{throw Error()}catch(et){Je=et}(ht=i())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(et){if(et&&Je&&typeof et.stack=="string")return[et.stack,Je.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),Q=N[0],me=N[1];if(Q&&me){var Ce=Q.split(`
`),Ye=me.split(`
`);for(w=m=0;m<Ce.length&&!Ce[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Ye.length&&!Ye[w].includes("DetermineComponentFrameRoot");)w++;if(m===Ce.length||w===Ye.length)for(m=Ce.length-1,w=Ye.length-1;1<=m&&0<=w&&Ce[m]!==Ye[w];)w--;for(;1<=m&&0<=w;m--,w--)if(Ce[m]!==Ye[w]){if(m!==1||w!==1)do if(m--,w--,0>w||Ce[m]!==Ye[w]){var it=`
`+Ce[m].replace(" at new "," at ");return i.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",i.displayName)),it}while(1<=m&&0<=w);break}}}finally{$a=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?xa(f):""}function Ia(i){switch(i.tag){case 26:case 27:case 5:return xa(i.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 15:return cs(i.type,!1);case 11:return cs(i.type.render,!1);case 1:return cs(i.type,!0);case 31:return xa("Activity");default:return""}}function xn(i){try{var l="";do l+=Ia(i),i=i.return;while(i);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ya(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vl(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function du(i){var l=vl(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,N=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return w.call(this)},set:function(Q){m=""+Q,N.call(this,Q)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(Q){m=""+Q},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function to(i){i._valueTracker||(i._valueTracker=du(i))}function mc(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return i&&(m=vl(i)?i.checked?"true":"false":i.value),i=m,i!==f?(l.setValue(i),!0):!1}function Da(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bl=/[\n"\\]/g;function Fr(i){return i.replace(bl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ja(i,l,f,m,w,N,Q,me){i.name="",Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.type=Q:i.removeAttribute("type"),l!=null?Q==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+ya(l)):i.value!==""+ya(l)&&(i.value=""+ya(l)):Q!=="submit"&&Q!=="reset"||i.removeAttribute("value"),l!=null?no(i,Q,ya(l)):f!=null?no(i,Q,ya(f)):m!=null&&i.removeAttribute("value"),w==null&&N!=null&&(i.defaultChecked=!!N),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?i.name=""+ya(me):i.removeAttribute("name")}function ro(i,l,f,m,w,N,Q,me){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),l!=null||f!=null){if(!(N!=="submit"&&N!=="reset"||l!=null))return;f=f!=null?""+ya(f):"",l=l!=null?""+ya(l):f,me||l===i.value||(i.value=l),i.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=me?i.checked:!!m,i.defaultChecked=!!m,Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"&&(i.name=Q)}function no(i,l,f){l==="number"&&Da(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function hi(i,l,f,m){if(i=i.options,l){l={};for(var w=0;w<f.length;w++)l["$"+f[w]]=!0;for(f=0;f<i.length;f++)w=l.hasOwnProperty("$"+i[f].value),i[f].selected!==w&&(i[f].selected=w),w&&m&&(i[f].defaultSelected=!0)}else{for(f=""+ya(f),l=null,w=0;w<i.length;w++){if(i[w].value===f){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}l!==null||i[w].disabled||(l=i[w])}l!==null&&(l.selected=!0)}}function Zr(i,l,f){if(l!=null&&(l=""+ya(l),l!==i.value&&(i.value=l),f==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=f!=null?""+ya(f):""}function ao(i,l,f,m){if(l==null){if(m!=null){if(f!=null)throw Error(n(92));if(ue(m)){if(1<m.length)throw Error(n(93));m=m[0]}f=m}f==null&&(f=""),l=f}f=ya(l),i.defaultValue=f,m=i.textContent,m===f&&m!==""&&m!==null&&(i.value=m)}function Es(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var Di=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(i,l,f){var m=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,f):typeof f!="number"||f===0||Di.has(l)?l==="float"?i.cssFloat=f:i[l]=(""+f).trim():i[l]=f+"px"}function pc(i,l,f){if(l!=null&&typeof l!="object")throw Error(n(62));if(i=i.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&f[w]!==m&&mu(i,w,m)}else for(var N in l)l.hasOwnProperty(N)&&mu(i,N,l[N])}function gc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ji=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Li(i){return wl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var di=null;function hn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Oi=null,mi=null;function Jt(i){var l=Ee(i);if(l&&(i=l.stateNode)){var f=i[Mr]||null;e:switch(i=l.stateNode,l.type){case"input":if(ja(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Fr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==i&&m.form===i.form){var w=m[Mr]||null;if(!w)throw Error(n(90));ja(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<f.length;l++)m=f[l],m.form===i.form&&mc(m)}break e;case"textarea":Zr(i,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&hi(i,!!f.multiple,l,!1)}}}var pi=!1;function pu(i,l,f){if(pi)return i(l,f);pi=!0;try{var m=i(l);return m}finally{if(pi=!1,(Oi!==null||mi!==null)&&(Gp(),Oi&&(l=Oi,i=mi,mi=Oi=null,Jt(l),i)))for(l=0;l<i.length;l++)Jt(i[l])}}function Ka(i,l){var f=i.stateNode;if(f===null)return null;var m=f[Mr]||null;if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(Ns)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){us=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{us=!1}var Ss=null,so=null,Pi=null;function xc(){if(Pi)return Pi;var i,l=so,f=l.length,m,w="value"in Ss?Ss.value:Ss.textContent,N=w.length;for(i=0;i<f&&l[i]===w[i];i++);var Q=f-i;for(m=1;m<=Q&&l[f-m]===w[N-m];m++);return Pi=w.slice(i,1<m?1-m:void 0)}function Ts(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Wa(){return!0}function xi(){return!1}function Wn(i){function l(f,m,w,N,Q){this._reactName=f,this._targetInst=w,this.type=m,this.nativeEvent=N,this.target=Q,this.currentTarget=null;for(var me in i)i.hasOwnProperty(me)&&(f=i[me],this[me]=f?f(N):N[me]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Wa:xi,this.isPropagationStopped=xi,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),l}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=Wn(Cr),yi=p({},Cr,{view:0,detail:0}),yc=Wn(yi),jo,Lo,ei,Ya=p({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ei&&(ei&&i.type==="mousemove"?(jo=i.screenX-ei.screenX,Lo=i.screenY-ei.screenY):Lo=jo=0,ei=i),jo)},movementY:function(i){return"movementY"in i?i.movementY:Lo}}),Yn=Wn(Ya),gu=p({},Ya,{dataTransfer:0}),oo=Wn(gu),La=p({},yi,{relatedTarget:0}),lo=Wn(La),Mi=p({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),_l=Wn(Mi),Oo=p({},Cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kl=Wn(Oo),vc=p({},Cr,{data:0}),Po=Wn(vc),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Al[i])?!!l[i]:!1}function uo(){return Fo}var xu=p({},yi,{key:function(i){if(i.key){var l=co[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Ts(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Mo[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(i){return i.type==="keypress"?Ts(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ts(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Fi=Wn(xu),fo=p({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Wn(fo),Xa=p({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),El=Wn(Xa),T=p({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),re=Wn(T),Se=p({},Ya,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=Wn(Se),Be=p({},Cr,{newState:0,oldState:0}),nt=Wn(Be),gt=[9,13,27,32],Nt=Ns&&"CompositionEvent"in window,x=null;Ns&&"documentMode"in document&&(x=document.documentMode);var F=Ns&&"TextEvent"in window&&!x,q=Ns&&(!Nt||x&&8<x&&11>=x),he=" ",Me=!1;function We(i,l){switch(i){case"keyup":return gt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zt=!1;function Rr(i,l){switch(i){case"compositionend":return yt(l);case"keypress":return l.which!==32?null:(Me=!0,he);case"textInput":return i=l.data,i===he&&Me?null:i;default:return null}}function cr(i,l){if(Zt)return i==="compositionend"||!Nt&&We(i,l)?(i=xc(),Pi=so=Ss=null,Zt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return q&&l.locale!=="ko"?null:l.data;default:return null}}var en={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!en[i.type]:l==="textarea"}function vi(i,l,f,m){Oi?mi?mi.push(m):mi=[m]:Oi=m,l=Qp(l,"onChange"),0<l.length&&(f=new io("onChange","change",null,f,m),i.push({event:f,listeners:l}))}var Vn=null,Cs=null;function ho(i){ww(i,0)}function Nl(i){var l=ze(i);if(mc(l))return i}function yu(i,l){if(i==="change")return l}var bc=!1;if(Ns){var sa;if(Ns){var Sl="oninput"in document;if(!Sl){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),Sl=typeof wc.oninput=="function"}sa=Sl}else sa=!1;bc=sa&&(!document.documentMode||9<document.documentMode)}function _c(){Vn&&(Vn.detachEvent("onpropertychange",vu),Cs=Vn=null)}function vu(i){if(i.propertyName==="value"&&Nl(Cs)){var l=[];vi(l,Cs,i,hn(i)),pu(ho,l)}}function Rs(i,l,f){i==="focusin"?(_c(),Vn=l,Cs=f,Vn.attachEvent("onpropertychange",vu)):i==="focusout"&&_c()}function rd(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nl(Cs)}function T0(i,l){if(i==="click")return Nl(l)}function Rf(i,l){if(i==="input"||i==="change")return Nl(l)}function bi(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var va=typeof Object.is=="function"?Object.is:bi;function Tl(i,l){if(va(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var w=f[m];if(!ee.call(l,w)||!va(i[w],l[w]))return!1}return!0}function C0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Uo(i,l){var f=C0(i);i=0;for(var m;f;){if(f.nodeType===3){if(m=i+f.textContent.length,i<=l&&m>=l)return{node:f,offset:l-i};i=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=C0(f)}}function Cl(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Cl(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function fs(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Da(i.document);l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=Da(i.document)}return l}function Oa(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var Rl=Ns&&"documentMode"in document&&11>=document.documentMode,Is=null,Bi=null,mo=null,Ui=!1;function Ln(i,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ui||Is==null||Is!==Da(m)||(m=Is,"selectionStart"in m&&Oa(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),mo&&Tl(mo,m)||(mo=m,m=Qp(Bi,"onSelect"),0<m.length&&(l=new io("onSelect","select",null,l,f),i.push({event:l,listeners:m}),l.target=Is)))}function Vi(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var Xn={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},Ds={},kc={};Ns&&(kc=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function po(i){if(Ds[i])return Ds[i];if(!Xn[i])return i;var l=Xn[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in kc)return Ds[i]=l[f];return i}var bu=po("animationend"),Il=po("animationiteration"),Dl=po("animationstart"),jl=po("transitionrun"),Ac=po("transitionstart"),wu=po("transitioncancel"),Ll=po("transitionend"),Vo=new Map,Ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ec.push("scrollEnd");function On(i,l){Vo.set(i,l),ft(l,[i])}var ti=new WeakMap;function Ar(i,l){if(typeof i=="object"&&i!==null){var f=ti.get(i);return f!==void 0?f:(l={value:i,source:l,stack:xn(l)},ti.set(i,l),l)}return{value:i,source:l,stack:xn(l)}}var Er=[],yn=0,zn=0;function wi(){for(var i=yn,l=zn=yn=0;l<i;){var f=Er[l];Er[l++]=null;var m=Er[l];Er[l++]=null;var w=Er[l];Er[l++]=null;var N=Er[l];if(Er[l++]=null,m!==null&&w!==null){var Q=m.pending;Q===null?w.next=w:(w.next=Q.next,Q.next=w),m.pending=w}N!==0&&If(f,w,N)}}function Ol(i,l,f,m){Er[yn++]=i,Er[yn++]=l,Er[yn++]=f,Er[yn++]=m,zn|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function Pl(i,l,f,m){return Ol(i,l,f,m),Nc(i)}function zo(i,l){return Ol(i,null,null,l),Nc(i)}function If(i,l,f){i.lanes|=f;var m=i.alternate;m!==null&&(m.lanes|=f);for(var w=!1,N=i.return;N!==null;)N.childLanes|=f,m=N.alternate,m!==null&&(m.childLanes|=f),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(w=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,w&&l!==null&&(w=31-It(f),i=N.hiddenUpdates,m=i[w],m===null?i[w]=[l]:m.push(l),l.lane=f|536870912),N):null}function Nc(i){if(50<Sd)throw Sd=0,Qx=null,Error(n(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var ba={};function _i(i,l,f,m){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(i,l,f,m){return new _i(i,l,f,m)}function _u(i){return i=i.prototype,!(!i||!i.isReactComponent)}function go(i,l){var f=i.alternate;return f===null?(f=Qa(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function R0(i,l){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,l=f.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Sc(i,l,f,m,w,N){var Q=0;if(m=i,typeof i=="function")_u(i)&&(Q=1);else if(typeof i=="string")Q=xT(i,f,G.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Qa(31,f,l,w),i.elementType=I,i.lanes=N,i;case A:return qo(f.children,w,N,l);case k:Q=8,w|=24;break;case E:return i=Qa(12,f,l,w|2),i.elementType=E,i.lanes=N,i;case K:return i=Qa(13,f,l,w),i.elementType=K,i.lanes=N,i;case X:return i=Qa(19,f,l,w),i.elementType=X,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case S:case M:Q=10;break e;case j:Q=9;break e;case H:Q=11;break e;case P:Q=14;break e;case D:Q=16,m=null;break e}Q=29,f=Error(n(130,i===null?"null":typeof i,"")),m=null}return l=Qa(Q,f,l,w),l.elementType=i,l.type=m,l.lanes=N,l}function qo(i,l,f,m){return i=Qa(7,i,m,l),i.lanes=f,i}function Df(i,l,f){return i=Qa(6,i,null,l),i.lanes=f,i}function I0(i,l,f){return l=Qa(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Ml=[],Ho=0,ku=null,jf=0,ki=[],ri=0,Tc=null,Go=1,$o="";function Cc(i,l){Ml[Ho++]=jf,Ml[Ho++]=ku,ku=i,jf=l}function pp(i,l,f){ki[ri++]=Go,ki[ri++]=$o,ki[ri++]=Tc,Tc=i;var m=Go;i=$o;var w=32-It(m)-1;m&=~(1<<w),f+=1;var N=32-It(l)+w;if(30<N){var Q=w-w%5;N=(m&(1<<Q)-1).toString(32),m>>=Q,w-=Q,Go=1<<32-It(l)+w|f<<w|m,$o=N+i}else Go=1<<N|f<<w|m,$o=i}function D0(i){i.return!==null&&(Cc(i,1),pp(i,1,0))}function j0(i){for(;i===ku;)ku=Ml[--Ho],Ml[Ho]=null,jf=Ml[--Ho],Ml[Ho]=null;for(;i===Tc;)Tc=ki[--ri],ki[ri]=null,$o=ki[--ri],ki[ri]=null,Go=ki[--ri],ki[ri]=null}var ia=null,Pn=null,Qr=!1,Fl=null,xo=!1,nd=Error(n(519));function Rc(i){var l=Error(n(418,""));throw Au(Ar(l,i)),nd}function gp(i){var l=i.stateNode,f=i.type,m=i.memoizedProps;switch(l[Xr]=i,l[Mr]=m,f){case"dialog":Lr("cancel",l),Lr("close",l);break;case"iframe":case"object":case"embed":Lr("load",l);break;case"video":case"audio":for(f=0;f<Cd.length;f++)Lr(Cd[f],l);break;case"source":Lr("error",l);break;case"img":case"image":case"link":Lr("error",l),Lr("load",l);break;case"details":Lr("toggle",l);break;case"input":Lr("invalid",l),ro(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),to(l);break;case"select":Lr("invalid",l);break;case"textarea":Lr("invalid",l),ao(l,m.value,m.defaultValue,m.children),to(l)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||m.suppressHydrationWarning===!0||Ew(l.textContent,f)?(m.popover!=null&&(Lr("beforetoggle",l),Lr("toggle",l)),m.onScroll!=null&&Lr("scroll",l),m.onScrollEnd!=null&&Lr("scrollend",l),m.onClick!=null&&(l.onclick=Jp),l=!0):l=!1,l||Rc(i)}function Ko(i){for(ia=i.return;ia;)switch(ia.tag){case 5:case 13:xo=!1;return;case 27:case 3:xo=!0;return;default:ia=ia.return}}function hs(i){if(i!==ia)return!1;if(!Qr)return Ko(i),Qr=!0,!1;var l=i.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||d2(i.type,i.memoizedProps)),f=!f),f&&Pn&&Rc(i),Ko(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(f=i.data,f==="/$"){if(l===0){Pn=tl(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;i=i.nextSibling}Pn=null}}else l===27?(l=Pn,Vu(i.type)?(i=x2,x2=null,Pn=i):Pn=l):Pn=ia?tl(i.stateNode.nextSibling):null;return!0}function ni(){Pn=ia=null,Qr=!1}function xp(){var i=Fl;return i!==null&&(Ni===null?Ni=i:Ni.push.apply(Ni,i),Fl=null),i}function Au(i){Fl===null?Fl=[i]:Fl.push(i)}var yo=Ne(null),wa=null,Wo=null;function Bl(i,l,f){z(yo,l._currentValue),l._currentValue=f}function vo(i){i._currentValue=yo.current,L(yo)}function Lf(i,l,f){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===f)break;i=i.return}}function Of(i,l,f,m){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var N=w.dependencies;if(N!==null){var Q=w.child;N=N.firstContext;e:for(;N!==null;){var me=N;N=w;for(var Ce=0;Ce<l.length;Ce++)if(me.context===l[Ce]){N.lanes|=f,me=N.alternate,me!==null&&(me.lanes|=f),Lf(N.return,f,i),m||(Q=null);break e}N=me.next}}else if(w.tag===18){if(Q=w.return,Q===null)throw Error(n(341));Q.lanes|=f,N=Q.alternate,N!==null&&(N.lanes|=f),Lf(Q,f,i),Q=null}else Q=w.child;if(Q!==null)Q.return=w;else for(Q=w;Q!==null;){if(Q===i){Q=null;break}if(w=Q.sibling,w!==null){w.return=Q.return,Q=w;break}Q=Q.return}w=Q}}function Eu(i,l,f,m){i=null;for(var w=l,N=!1;w!==null;){if(!N){if((w.flags&524288)!==0)N=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var Q=w.alternate;if(Q===null)throw Error(n(387));if(Q=Q.memoizedProps,Q!==null){var me=w.type;va(w.pendingProps.value,Q.value)||(i!==null?i.push(me):i=[me])}}else if(w===de.current){if(Q=w.alternate,Q===null)throw Error(n(387));Q.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(Od):i=[Od])}w=w.return}i!==null&&Of(l,i,f,m),l.flags|=262144}function Pf(i){for(i=i.firstContext;i!==null;){if(!va(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function bo(i){wa=i,Wo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function oa(i){return Mf(wa,i)}function Ul(i,l){return wa===null&&bo(i),Mf(i,l)}function Mf(i,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Wo===null){if(i===null)throw Error(n(308));Wo=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Wo=Wo.next=l;return f}var _x=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(f,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(f){return f()})}},yp=t.unstable_scheduleCallback,kx=t.unstable_NormalPriority,la={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new _x,data:new Map,refCount:0}}function L0(i){i.refCount--,i.refCount===0&&yp(kx,function(){i.controller.abort()})}var O0=null,sd=0,Ic=0,Yo=null;function Ax(i,l){if(O0===null){var f=O0=[];sd=0,Ic=a2(),Yo={status:"pending",value:void 0,then:function(m){f.push(m)}}}return sd++,l.then(vp,vp),l}function vp(){if(--sd===0&&O0!==null){Yo!==null&&(Yo.status="fulfilled");var i=O0;O0=null,Ic=0,Yo=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function bp(i,l){var f=[],m={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<f.length;w++)(0,f[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),m}var g=ae.S;ae.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Ax(i,l),g!==null&&g(i,l)};var _=Ne(null);function O(){var i=_.current;return i!==null?i:Cn.pooledCache}function V(i,l){l===null?z(_,_.current):z(_,l.pool)}function te(){var i=O();return i===null?null:{parent:la._currentValue,pool:i}}var oe=Error(n(460)),ce=Error(n(474)),fe=Error(n(542)),ge={then:function(){}};function _e(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ie(){}function $e(i,l,f){switch(f=i[f],f===void 0?i.push(l):f!==l&&(l.then(Ie,Ie),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ct(i),i;default:if(typeof l.status=="string")l.then(Ie,Ie);else{if(i=Cn,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ct(i),i}throw qe=l,oe}}var qe=null;function Ue(){if(qe===null)throw Error(n(459));var i=qe;return qe=null,i}function ct(i){if(i===oe||i===fe)throw Error(n(483))}var rt=!1;function De(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pe(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function at(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ut(i,l,f){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(mn&2)!==0){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=Nc(i),If(i,null,f),l}return Ol(i,m,l,f),Nc(i)}function ot(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,f|=m,l.lanes=f,Sr(i,f)}}function jt(i,l){var f=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var w=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var Q={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};N===null?w=N=Q:N=N.next=Q,f=f.next}while(f!==null);N===null?w=N=l:N=N.next=l}else w=N=l;f={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}var Et=!1;function Gt(){if(Et){var i=Yo;if(i!==null)throw i}}function St(i,l,f,m){Et=!1;var w=i.updateQueue;rt=!1;var N=w.firstBaseUpdate,Q=w.lastBaseUpdate,me=w.shared.pending;if(me!==null){w.shared.pending=null;var Ce=me,Ye=Ce.next;Ce.next=null,Q===null?N=Ye:Q.next=Ye,Q=Ce;var it=i.alternate;it!==null&&(it=it.updateQueue,me=it.lastBaseUpdate,me!==Q&&(me===null?it.firstBaseUpdate=Ye:me.next=Ye,it.lastBaseUpdate=Ce))}if(N!==null){var ht=w.baseState;Q=0,it=Ye=Ce=null,me=N;do{var Je=me.lane&-536870913,et=Je!==me.lane;if(et?(Hr&Je)===Je:(m&Je)===Je){Je!==0&&Je===Ic&&(Et=!0),it!==null&&(it=it.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var or=i,er=me;Je=l;var bn=f;switch(er.tag){case 1:if(or=er.payload,typeof or=="function"){ht=or.call(bn,ht,Je);break e}ht=or;break e;case 3:or.flags=or.flags&-65537|128;case 0:if(or=er.payload,Je=typeof or=="function"?or.call(bn,ht,Je):or,Je==null)break e;ht=p({},ht,Je);break e;case 2:rt=!0}}Je=me.callback,Je!==null&&(i.flags|=64,et&&(i.flags|=8192),et=w.callbacks,et===null?w.callbacks=[Je]:et.push(Je))}else et={lane:Je,tag:me.tag,payload:me.payload,callback:me.callback,next:null},it===null?(Ye=it=et,Ce=ht):it=it.next=et,Q|=Je;if(me=me.next,me===null){if(me=w.shared.pending,me===null)break;et=me,me=et.next,et.next=null,w.lastBaseUpdate=et,w.shared.pending=null}}while(!0);it===null&&(Ce=ht),w.baseState=Ce,w.firstBaseUpdate=Ye,w.lastBaseUpdate=it,N===null&&(w.shared.lanes=0),Mu|=Q,i.lanes=Q,i.memoizedState=ht}}function zr(i,l){if(typeof i!="function")throw Error(n(191,i));i.call(l)}function tn(i,l){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)zr(f[i],l)}var br=Ne(null),yr=Ne(0);function cn(i,l){i=Vc,z(yr,i),z(br,l),Vc=i|l.baseLanes}function rn(){z(yr,Vc),z(br,br.current)}function ur(){Vc=yr.current,L(br),L(yr)}var dn=0,Xt=null,nr=null,Br=null,qr=!1,_a=!1,ca=!1,qn=0,Hn=0,Qn=null,Ai=0;function nn(){throw Error(n(321))}function Jn(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!va(i[f],l[f]))return!1;return!0}function zi(i,l,f,m,w,N){return dn=N,Xt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ae.H=i===null||i.memoizedState===null?sb:ib,ca=!1,N=f(m,w),ca=!1,_a&&(N=Dc(l,f,m,w)),Vl(i),N}function Vl(i){ae.H=Dp;var l=nr!==null&&nr.next!==null;if(dn=0,Br=nr=Xt=null,qr=!1,Hn=0,Qn=null,l)throw Error(n(300));i===null||Ja||(i=i.dependencies,i!==null&&Pf(i)&&(Ja=!0))}function Dc(i,l,f,m){Xt=i;var w=0;do{if(_a&&(Qn=null),Hn=0,_a=!1,25<=w)throw Error(n(301));if(w+=1,Br=nr=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}ae.H=TS,N=l(f,m)}while(_a);return N}function zl(){var i=ae.H,l=i.useState()[0];return l=typeof l.then=="function"?ql(l):l,i=i.useState()[0],(nr!==null?nr.memoizedState:null)!==i&&(Xt.flags|=1024),l}function Tn(){var i=qn!==0;return qn=0,i}function P0(i,l,f){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~f}function Ff(i){if(qr){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}qr=!1}dn=0,Br=nr=Xt=null,_a=!1,Hn=qn=0,Qn=null}function ds(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Xt.memoizedState=Br=i:Br=Br.next=i,Br}function In(){if(nr===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=nr.next;var l=Br===null?Xt.memoizedState:Br.next;if(l!==null)Br=l,nr=i;else{if(i===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));nr=i,i={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},Br===null?Xt.memoizedState=Br=i:Br=Br.next=i}return Br}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var l=Hn;return Hn+=1,Qn===null&&(Qn=[]),i=$e(Qn,i,l),l=Xt,(Br===null?l.memoizedState:Br.next)===null&&(l=l.alternate,ae.H=l===null||l.memoizedState===null?sb:ib),i}function js(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===M)return oa(i)}throw Error(n(438,String(i)))}function Hl(i){var l=null,f=Xt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=Xt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=jc(),Xt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(i),m=0;m<i;m++)f[m]=U;return l.index++,f}function Ls(i,l){return typeof l=="function"?l(i):l}function M0(i){var l=In();return Nu(l,nr,i)}function Nu(i,l,f){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=f;var w=i.baseQueue,N=m.pending;if(N!==null){if(w!==null){var Q=w.next;w.next=N.next,N.next=Q}l.baseQueue=w=N,m.pending=null}if(N=i.baseState,w===null)i.memoizedState=N;else{l=w.next;var me=Q=null,Ce=null,Ye=l,it=!1;do{var ht=Ye.lane&-536870913;if(ht!==Ye.lane?(Hr&ht)===ht:(dn&ht)===ht){var Je=Ye.revertLane;if(Je===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),ht===Ic&&(it=!0);else if((dn&Je)===Je){Ye=Ye.next,Je===Ic&&(it=!0);continue}else ht={lane:0,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Ce===null?(me=Ce=ht,Q=N):Ce=Ce.next=ht,Xt.lanes|=Je,Mu|=Je;ht=Ye.action,ca&&f(N,ht),N=Ye.hasEagerState?Ye.eagerState:f(N,ht)}else Je={lane:ht,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Ce===null?(me=Ce=Je,Q=N):Ce=Ce.next=Je,Xt.lanes|=ht,Mu|=ht;Ye=Ye.next}while(Ye!==null&&Ye!==l);if(Ce===null?Q=N:Ce.next=me,!va(N,i.memoizedState)&&(Ja=!0,it&&(f=Yo,f!==null)))throw f;i.memoizedState=N,i.baseState=Q,i.baseQueue=Ce,m.lastRenderedState=N}return w===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Bf(i){var l=In(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=i;var m=f.dispatch,w=f.pending,N=l.memoizedState;if(w!==null){f.pending=null;var Q=w=w.next;do N=i(N,Q.action),Q=Q.next;while(Q!==w);va(N,l.memoizedState)||(Ja=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),f.lastRenderedState=N}return[N,m]}function F0(i,l,f){var m=Xt,w=In(),N=Qr;if(N){if(f===void 0)throw Error(n(407));f=f()}else f=l();var Q=!va((nr||w).memoizedState,f);Q&&(w.memoizedState=f,Ja=!0),w=w.queue;var me=Su.bind(null,m,w,i);if(Ru(2048,8,me,[i]),w.getSnapshot!==l||Q||Br!==null&&Br.memoizedState.tag&1){if(m.flags|=2048,Qo(9,z0(),B0.bind(null,m,w,f,l),null),Cn===null)throw Error(n(349));N||(dn&124)!==0||Uf(m,l,f)}return f}function Uf(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=Xt.updateQueue,l===null?(l=jc(),Xt.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function B0(i,l,f,m){l.value=f,l.getSnapshot=m,wp(l)&&_p(i)}function Su(i,l,f){return f(function(){wp(l)&&_p(i)})}function wp(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!va(i,f)}catch{return!0}}function _p(i){var l=zo(i,2);l!==null&&Wi(l,i,2)}function U0(i){var l=ds();if(typeof i=="function"){var f=i;if(i=f(),ca){Ht(!0);try{f()}finally{Ht(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:i},l}function Xo(i,l,f,m){return i.baseState=f,Nu(i,nr,typeof m=="function"?m:Ls)}function Ex(i,l,f,m,w){if(Ip(i))throw Error(n(485));if(i=l.action,i!==null){var N={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Q){N.listeners.push(Q)}};ae.T!==null?f(!0):N.isTransition=!1,m(N),f=l.pending,f===null?(N.next=l.pending=N,kp(l,N)):(N.next=f.next,l.pending=f.next=N)}}function kp(i,l){var f=l.action,m=l.payload,w=i.state;if(l.isTransition){var N=ae.T,Q={};ae.T=Q;try{var me=f(w,m),Ce=ae.S;Ce!==null&&Ce(Q,me),Ap(i,l,me)}catch(Ye){Tu(i,l,Ye)}finally{ae.T=N}}else try{N=f(w,m),Ap(i,l,N)}catch(Ye){Tu(i,l,Ye)}}function Ap(i,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){id(i,l,m)},function(m){return Tu(i,l,m)}):id(i,l,f)}function id(i,l,f){l.status="fulfilled",l.value=f,od(l),i.state=f,l=i.pending,l!==null&&(f=l.next,f===l?i.pending=null:(f=f.next,l.next=f,kp(i,f)))}function Tu(i,l,f){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,od(l),l=l.next;while(l!==m)}i.action=null}function od(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function ld(i,l){return l}function V0(i,l){if(Qr){var f=Cn.formState;if(f!==null){e:{var m=Xt;if(Qr){if(Pn){t:{for(var w=Pn,N=xo;w.nodeType!==8;){if(!N){w=null;break t}if(w=tl(w.nextSibling),w===null){w=null;break t}}N=w.data,w=N==="F!"||N==="F"?w:null}if(w){Pn=tl(w.nextSibling),m=w.data==="F!";break e}}Rc(m)}m=!1}m&&(l=f[0])}}return f=ds(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:l},f.queue=m,f=rb.bind(null,Xt,m),m.dispatch=f,m=U0(!1),N=Nx.bind(null,Xt,!1,m.queue),m=ds(),w={state:l,dispatch:null,action:i,pending:null},m.queue=w,f=Ex.bind(null,Xt,w,N,f),w.dispatch=f,m.memoizedState=i,[l,f,!1]}function Vf(i){var l=In();return Cu(l,nr,i)}function Cu(i,l,f){if(l=Nu(i,l,ld)[0],i=M0(Ls)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=ql(l)}catch(Q){throw Q===oe?fe:Q}else m=l;l=In();var w=l.queue,N=w.dispatch;return f!==l.memoizedState&&(Xt.flags|=2048,Qo(9,z0(),Ep.bind(null,w,f),null)),[m,N,i]}function Ep(i,l){i.action=l}function Np(i){var l=In(),f=nr;if(f!==null)return Cu(l,f,i);In(),l=l.memoizedState,f=In();var m=f.queue.dispatch;return f.memoizedState=i,[l,m,!1]}function Qo(i,l,f,m){return i={tag:i,create:f,deps:m,inst:l,next:null},l=Xt.updateQueue,l===null&&(l=jc(),Xt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=i.next=i:(m=f.next,f.next=i,i.next=m,l.lastEffect=i),i}function z0(){return{destroy:void 0,resource:void 0}}function zf(){return In().memoizedState}function qi(i,l,f,m){var w=ds();m=m===void 0?null:m,Xt.flags|=i,w.memoizedState=Qo(1|l,z0(),f,m)}function Ru(i,l,f,m){var w=In();m=m===void 0?null:m;var N=w.memoizedState.inst;nr!==null&&m!==null&&Jn(m,nr.memoizedState.deps)?w.memoizedState=Qo(l,N,f,m):(Xt.flags|=i,w.memoizedState=Qo(1|l,N,f,m))}function cd(i,l){qi(8390656,8,i,l)}function Sp(i,l){Ru(2048,8,i,l)}function ud(i,l){return Ru(4,2,i,l)}function Lc(i,l){return Ru(4,4,i,l)}function Tp(i,l){if(typeof l=="function"){i=i();var f=l(i);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function fd(i,l,f){f=f!=null?f.concat([i]):null,Ru(4,4,Tp.bind(null,l,i),f)}function hd(){}function dd(i,l){var f=In();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&Jn(l,m[1])?m[0]:(f.memoizedState=[i,l],i)}function Cp(i,l){var f=In();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&Jn(l,m[1]))return m[0];if(m=i(),ca){Ht(!0);try{i()}finally{Ht(!1)}}return f.memoizedState=[m,l],m}function Oc(i,l,f){return f===void 0||(dn&1073741824)!==0?i.memoizedState=l:(i.memoizedState=f,i=Jb(),Xt.lanes|=i,Mu|=i,f)}function qf(i,l,f,m){return va(f,l)?f:br.current!==null?(i=Oc(i,f,m),va(i,l)||(Ja=!0),i):(dn&42)===0?(Ja=!0,i.memoizedState=f):(i=Jb(),Xt.lanes|=i,Mu|=i,l)}function q0(i,l,f,m,w){var N=le.p;le.p=N!==0&&8>N?N:8;var Q=ae.T,me={};ae.T=me,Nx(i,!1,l,f);try{var Ce=w(),Ye=ae.S;if(Ye!==null&&Ye(me,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var it=bp(Ce,m);xd(i,l,it,Ki(i))}else xd(i,l,m,Ki(i))}catch(ht){xd(i,l,{then:function(){},status:"rejected",reason:ht},Ki())}finally{le.p=N,ae.T=Q}}function Jo(){}function wo(i,l,f,m){if(i.tag!==5)throw Error(n(476));var w=Zo(i).queue;q0(i,w,l,se,f===null?Jo:function(){return H0(i),f(m)})}function Zo(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:se},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:f},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function H0(i){var l=Zo(i).next.queue;xd(i,l,{},Ki())}function G0(){return oa(Od)}function md(){return In().memoizedState}function Rp(){return In().memoizedState}function pd(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var f=Ki();i=at(f);var m=ut(l,i,f);m!==null&&(Wi(m,l,f),ot(m,l,f)),l={cache:ad()},i.payload=l;return}l=l.return}}function gd(i,l,f){var m=Ki();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Ip(i)?nb(l,f):(f=Pl(i,l,f,m),f!==null&&(Wi(f,i,m),ab(f,l,m)))}function rb(i,l,f){var m=Ki();xd(i,l,f,m)}function xd(i,l,f,m){var w={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ip(i))nb(l,w);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var Q=l.lastRenderedState,me=N(Q,f);if(w.hasEagerState=!0,w.eagerState=me,va(me,Q))return Ol(i,l,w,0),Cn===null&&wi(),!1}catch{}finally{}if(f=Pl(i,l,w,m),f!==null)return Wi(f,i,m),ab(f,l,m),!0}return!1}function Nx(i,l,f,m){if(m={lane:2,revertLane:a2(),action:m,hasEagerState:!1,eagerState:null,next:null},Ip(i)){if(l)throw Error(n(479))}else l=Pl(i,f,m,2),l!==null&&Wi(l,i,2)}function Ip(i){var l=i.alternate;return i===Xt||l!==null&&l===Xt}function nb(i,l){_a=qr=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function ab(i,l,f){if((f&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,f|=m,l.lanes=f,Sr(i,f)}}var Dp={readContext:oa,use:js,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn},sb={readContext:oa,use:js,useCallback:function(i,l){return ds().memoizedState=[i,l===void 0?null:l],i},useContext:oa,useEffect:cd,useImperativeHandle:function(i,l,f){f=f!=null?f.concat([i]):null,qi(4194308,4,Tp.bind(null,l,i),f)},useLayoutEffect:function(i,l){return qi(4194308,4,i,l)},useInsertionEffect:function(i,l){qi(4,2,i,l)},useMemo:function(i,l){var f=ds();l=l===void 0?null:l;var m=i();if(ca){Ht(!0);try{i()}finally{Ht(!1)}}return f.memoizedState=[m,l],m},useReducer:function(i,l,f){var m=ds();if(f!==void 0){var w=f(l);if(ca){Ht(!0);try{f(l)}finally{Ht(!1)}}}else w=l;return m.memoizedState=m.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},m.queue=i,i=i.dispatch=gd.bind(null,Xt,i),[m.memoizedState,i]},useRef:function(i){var l=ds();return i={current:i},l.memoizedState=i},useState:function(i){i=U0(i);var l=i.queue,f=rb.bind(null,Xt,l);return l.dispatch=f,[i.memoizedState,f]},useDebugValue:hd,useDeferredValue:function(i,l){var f=ds();return Oc(f,i,l)},useTransition:function(){var i=U0(!1);return i=q0.bind(null,Xt,i.queue,!0,!1),ds().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,f){var m=Xt,w=ds();if(Qr){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),Cn===null)throw Error(n(349));(Hr&124)!==0||Uf(m,l,f)}w.memoizedState=f;var N={value:f,getSnapshot:l};return w.queue=N,cd(Su.bind(null,m,N,i),[i]),m.flags|=2048,Qo(9,z0(),B0.bind(null,m,N,f,l),null),f},useId:function(){var i=ds(),l=Cn.identifierPrefix;if(Qr){var f=$o,m=Go;f=(m&~(1<<32-It(m)-1)).toString(32)+f,l="«"+l+"R"+f,f=qn++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=Ai++,l="«"+l+"r"+f.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:G0,useFormState:V0,useActionState:V0,useOptimistic:function(i){var l=ds();l.memoizedState=l.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Nx.bind(null,Xt,!0,f),f.dispatch=l,[i,l]},useMemoCache:Hl,useCacheRefresh:function(){return ds().memoizedState=pd.bind(null,Xt)}},ib={readContext:oa,use:js,useCallback:dd,useContext:oa,useEffect:Sp,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:Lc,useMemo:Cp,useReducer:M0,useRef:zf,useState:function(){return M0(Ls)},useDebugValue:hd,useDeferredValue:function(i,l){var f=In();return qf(f,nr.memoizedState,i,l)},useTransition:function(){var i=M0(Ls)[0],l=In().memoizedState;return[typeof i=="boolean"?i:ql(i),l]},useSyncExternalStore:F0,useId:md,useHostTransitionStatus:G0,useFormState:Vf,useActionState:Vf,useOptimistic:function(i,l){var f=In();return Xo(f,nr,i,l)},useMemoCache:Hl,useCacheRefresh:Rp},TS={readContext:oa,use:js,useCallback:dd,useContext:oa,useEffect:Sp,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:Lc,useMemo:Cp,useReducer:Bf,useRef:zf,useState:function(){return Bf(Ls)},useDebugValue:hd,useDeferredValue:function(i,l){var f=In();return nr===null?Oc(f,i,l):qf(f,nr.memoizedState,i,l)},useTransition:function(){var i=Bf(Ls)[0],l=In().memoizedState;return[typeof i=="boolean"?i:ql(i),l]},useSyncExternalStore:F0,useId:md,useHostTransitionStatus:G0,useFormState:Np,useActionState:Np,useOptimistic:function(i,l){var f=In();return nr!==null?Xo(f,nr,i,l):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:Hl,useCacheRefresh:Rp},Hf=null,yd=0;function jp(i){var l=yd;return yd+=1,Hf===null&&(Hf=[]),$e(Hf,i,l)}function vd(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Lp(i,l){throw l.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function ob(i){var l=i._init;return l(i._payload)}function lb(i){function l(Ve,Oe){if(i){var He=Ve.deletions;He===null?(Ve.deletions=[Oe],Ve.flags|=16):He.push(Oe)}}function f(Ve,Oe){if(!i)return null;for(;Oe!==null;)l(Ve,Oe),Oe=Oe.sibling;return null}function m(Ve){for(var Oe=new Map;Ve!==null;)Ve.key!==null?Oe.set(Ve.key,Ve):Oe.set(Ve.index,Ve),Ve=Ve.sibling;return Oe}function w(Ve,Oe){return Ve=go(Ve,Oe),Ve.index=0,Ve.sibling=null,Ve}function N(Ve,Oe,He){return Ve.index=He,i?(He=Ve.alternate,He!==null?(He=He.index,He<Oe?(Ve.flags|=67108866,Oe):He):(Ve.flags|=67108866,Oe)):(Ve.flags|=1048576,Oe)}function Q(Ve){return i&&Ve.alternate===null&&(Ve.flags|=67108866),Ve}function me(Ve,Oe,He,lt){return Oe===null||Oe.tag!==6?(Oe=Df(He,Ve.mode,lt),Oe.return=Ve,Oe):(Oe=w(Oe,He),Oe.return=Ve,Oe)}function Ce(Ve,Oe,He,lt){var Vt=He.type;return Vt===A?it(Ve,Oe,He.props.children,lt,He.key):Oe!==null&&(Oe.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===D&&ob(Vt)===Oe.type)?(Oe=w(Oe,He.props),vd(Oe,He),Oe.return=Ve,Oe):(Oe=Sc(He.type,He.key,He.props,null,Ve.mode,lt),vd(Oe,He),Oe.return=Ve,Oe)}function Ye(Ve,Oe,He,lt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==He.containerInfo||Oe.stateNode.implementation!==He.implementation?(Oe=I0(He,Ve.mode,lt),Oe.return=Ve,Oe):(Oe=w(Oe,He.children||[]),Oe.return=Ve,Oe)}function it(Ve,Oe,He,lt,Vt){return Oe===null||Oe.tag!==7?(Oe=qo(He,Ve.mode,lt,Vt),Oe.return=Ve,Oe):(Oe=w(Oe,He),Oe.return=Ve,Oe)}function ht(Ve,Oe,He){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=Df(""+Oe,Ve.mode,He),Oe.return=Ve,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case v:return He=Sc(Oe.type,Oe.key,Oe.props,null,Ve.mode,He),vd(He,Oe),He.return=Ve,He;case b:return Oe=I0(Oe,Ve.mode,He),Oe.return=Ve,Oe;case D:var lt=Oe._init;return Oe=lt(Oe._payload),ht(Ve,Oe,He)}if(ue(Oe)||C(Oe))return Oe=qo(Oe,Ve.mode,He,null),Oe.return=Ve,Oe;if(typeof Oe.then=="function")return ht(Ve,jp(Oe),He);if(Oe.$$typeof===M)return ht(Ve,Ul(Ve,Oe),He);Lp(Ve,Oe)}return null}function Je(Ve,Oe,He,lt){var Vt=Oe!==null?Oe.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Vt!==null?null:me(Ve,Oe,""+He,lt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case v:return He.key===Vt?Ce(Ve,Oe,He,lt):null;case b:return He.key===Vt?Ye(Ve,Oe,He,lt):null;case D:return Vt=He._init,He=Vt(He._payload),Je(Ve,Oe,He,lt)}if(ue(He)||C(He))return Vt!==null?null:it(Ve,Oe,He,lt,null);if(typeof He.then=="function")return Je(Ve,Oe,jp(He),lt);if(He.$$typeof===M)return Je(Ve,Oe,Ul(Ve,He),lt);Lp(Ve,He)}return null}function et(Ve,Oe,He,lt,Vt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Ve=Ve.get(He)||null,me(Oe,Ve,""+lt,Vt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case v:return Ve=Ve.get(lt.key===null?He:lt.key)||null,Ce(Oe,Ve,lt,Vt);case b:return Ve=Ve.get(lt.key===null?He:lt.key)||null,Ye(Oe,Ve,lt,Vt);case D:var Ir=lt._init;return lt=Ir(lt._payload),et(Ve,Oe,He,lt,Vt)}if(ue(lt)||C(lt))return Ve=Ve.get(He)||null,it(Oe,Ve,lt,Vt,null);if(typeof lt.then=="function")return et(Ve,Oe,He,jp(lt),Vt);if(lt.$$typeof===M)return et(Ve,Oe,He,Ul(Oe,lt),Vt);Lp(Oe,lt)}return null}function or(Ve,Oe,He,lt){for(var Vt=null,Ir=null,Kt=Oe,tr=Oe=0,es=null;Kt!==null&&tr<He.length;tr++){Kt.index>tr?(es=Kt,Kt=null):es=Kt.sibling;var an=Je(Ve,Kt,He[tr],lt);if(an===null){Kt===null&&(Kt=es);break}i&&Kt&&an.alternate===null&&l(Ve,Kt),Oe=N(an,Oe,tr),Ir===null?Vt=an:Ir.sibling=an,Ir=an,Kt=es}if(tr===He.length)return f(Ve,Kt),Qr&&Cc(Ve,tr),Vt;if(Kt===null){for(;tr<He.length;tr++)Kt=ht(Ve,He[tr],lt),Kt!==null&&(Oe=N(Kt,Oe,tr),Ir===null?Vt=Kt:Ir.sibling=Kt,Ir=Kt);return Qr&&Cc(Ve,tr),Vt}for(Kt=m(Kt);tr<He.length;tr++)es=et(Kt,Ve,tr,He[tr],lt),es!==null&&(i&&es.alternate!==null&&Kt.delete(es.key===null?tr:es.key),Oe=N(es,Oe,tr),Ir===null?Vt=es:Ir.sibling=es,Ir=es);return i&&Kt.forEach(function($u){return l(Ve,$u)}),Qr&&Cc(Ve,tr),Vt}function er(Ve,Oe,He,lt){if(He==null)throw Error(n(151));for(var Vt=null,Ir=null,Kt=Oe,tr=Oe=0,es=null,an=He.next();Kt!==null&&!an.done;tr++,an=He.next()){Kt.index>tr?(es=Kt,Kt=null):es=Kt.sibling;var $u=Je(Ve,Kt,an.value,lt);if($u===null){Kt===null&&(Kt=es);break}i&&Kt&&$u.alternate===null&&l(Ve,Kt),Oe=N($u,Oe,tr),Ir===null?Vt=$u:Ir.sibling=$u,Ir=$u,Kt=es}if(an.done)return f(Ve,Kt),Qr&&Cc(Ve,tr),Vt;if(Kt===null){for(;!an.done;tr++,an=He.next())an=ht(Ve,an.value,lt),an!==null&&(Oe=N(an,Oe,tr),Ir===null?Vt=an:Ir.sibling=an,Ir=an);return Qr&&Cc(Ve,tr),Vt}for(Kt=m(Kt);!an.done;tr++,an=He.next())an=et(Kt,Ve,tr,an.value,lt),an!==null&&(i&&an.alternate!==null&&Kt.delete(an.key===null?tr:an.key),Oe=N(an,Oe,tr),Ir===null?Vt=an:Ir.sibling=an,Ir=an);return i&&Kt.forEach(function(CT){return l(Ve,CT)}),Qr&&Cc(Ve,tr),Vt}function bn(Ve,Oe,He,lt){if(typeof He=="object"&&He!==null&&He.type===A&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case v:e:{for(var Vt=He.key;Oe!==null;){if(Oe.key===Vt){if(Vt=He.type,Vt===A){if(Oe.tag===7){f(Ve,Oe.sibling),lt=w(Oe,He.props.children),lt.return=Ve,Ve=lt;break e}}else if(Oe.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===D&&ob(Vt)===Oe.type){f(Ve,Oe.sibling),lt=w(Oe,He.props),vd(lt,He),lt.return=Ve,Ve=lt;break e}f(Ve,Oe);break}else l(Ve,Oe);Oe=Oe.sibling}He.type===A?(lt=qo(He.props.children,Ve.mode,lt,He.key),lt.return=Ve,Ve=lt):(lt=Sc(He.type,He.key,He.props,null,Ve.mode,lt),vd(lt,He),lt.return=Ve,Ve=lt)}return Q(Ve);case b:e:{for(Vt=He.key;Oe!==null;){if(Oe.key===Vt)if(Oe.tag===4&&Oe.stateNode.containerInfo===He.containerInfo&&Oe.stateNode.implementation===He.implementation){f(Ve,Oe.sibling),lt=w(Oe,He.children||[]),lt.return=Ve,Ve=lt;break e}else{f(Ve,Oe);break}else l(Ve,Oe);Oe=Oe.sibling}lt=I0(He,Ve.mode,lt),lt.return=Ve,Ve=lt}return Q(Ve);case D:return Vt=He._init,He=Vt(He._payload),bn(Ve,Oe,He,lt)}if(ue(He))return or(Ve,Oe,He,lt);if(C(He)){if(Vt=C(He),typeof Vt!="function")throw Error(n(150));return He=Vt.call(He),er(Ve,Oe,He,lt)}if(typeof He.then=="function")return bn(Ve,Oe,jp(He),lt);if(He.$$typeof===M)return bn(Ve,Oe,Ul(Ve,He),lt);Lp(Ve,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Oe!==null&&Oe.tag===6?(f(Ve,Oe.sibling),lt=w(Oe,He),lt.return=Ve,Ve=lt):(f(Ve,Oe),lt=Df(He,Ve.mode,lt),lt.return=Ve,Ve=lt),Q(Ve)):f(Ve,Oe)}return function(Ve,Oe,He,lt){try{yd=0;var Vt=bn(Ve,Oe,He,lt);return Hf=null,Vt}catch(Kt){if(Kt===oe||Kt===fe)throw Kt;var Ir=Qa(29,Kt,null,Ve.mode);return Ir.lanes=lt,Ir.return=Ve,Ir}finally{}}}var Gf=lb(!0),cb=lb(!1),_o=Ne(null),Gl=null;function Iu(i){var l=i.alternate;z(Pa,Pa.current&1),z(_o,i),Gl===null&&(l===null||br.current!==null||l.memoizedState!==null)&&(Gl=i)}function ub(i){if(i.tag===22){if(z(Pa,Pa.current),z(_o,i),Gl===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Gl=i)}}else Du()}function Du(){z(Pa,Pa.current),z(_o,_o.current)}function Pc(i){L(_o),Gl===i&&(Gl=null),L(Pa)}var Pa=Ne(0);function Op(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||g2(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Sx(i,l,f,m){l=i.memoizedState,f=f(m,l),f=f==null?l:p({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Tx={enqueueSetState:function(i,l,f){i=i._reactInternals;var m=Ki(),w=at(m);w.payload=l,f!=null&&(w.callback=f),l=ut(i,w,m),l!==null&&(Wi(l,i,m),ot(l,i,m))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var m=Ki(),w=at(m);w.tag=1,w.payload=l,f!=null&&(w.callback=f),l=ut(i,w,m),l!==null&&(Wi(l,i,m),ot(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=Ki(),m=at(f);m.tag=2,l!=null&&(m.callback=l),l=ut(i,m,f),l!==null&&(Wi(l,i,f),ot(l,i,f))}};function fb(i,l,f,m,w,N,Q){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,N,Q):l.prototype&&l.prototype.isPureReactComponent?!Tl(f,m)||!Tl(w,N):!0}function hb(i,l,f,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==i&&Tx.enqueueReplaceState(l,l.state,null)}function $0(i,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(i=i.defaultProps){f===l&&(f=p({},f));for(var w in i)f[w]===void 0&&(f[w]=i[w])}return f}var Pp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function db(i){Pp(i)}function mb(i){console.error(i)}function pb(i){Pp(i)}function Mp(i,l){try{var f=i.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function gb(i,l,f){try{var m=i.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Cx(i,l,f){return f=at(f),f.tag=3,f.payload={element:null},f.callback=function(){Mp(i,l)},f}function xb(i){return i=at(i),i.tag=3,i}function yb(i,l,f,m){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var N=m.value;i.payload=function(){return w(N)},i.callback=function(){gb(l,f,m)}}var Q=f.stateNode;Q!==null&&typeof Q.componentDidCatch=="function"&&(i.callback=function(){gb(l,f,m),typeof w!="function"&&(Fu===null?Fu=new Set([this]):Fu.add(this));var me=m.stack;this.componentDidCatch(m.value,{componentStack:me!==null?me:""})})}function CS(i,l,f,m,w){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&Eu(l,f,w,!0),f=_o.current,f!==null){switch(f.tag){case 13:return Gl===null?Zx():f.alternate===null&&Zn===0&&(Zn=3),f.flags&=-257,f.flags|=65536,f.lanes=w,m===ge?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),t2(i,m,w)),!1;case 22:return f.flags|=65536,m===ge?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),t2(i,m,w)),!1}throw Error(n(435,f.tag))}return t2(i,m,w),Zx(),!1}if(Qr)return l=_o.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==nd&&(i=Error(n(422),{cause:m}),Au(Ar(i,f)))):(m!==nd&&(l=Error(n(423),{cause:m}),Au(Ar(l,f))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,m=Ar(m,f),w=Cx(i.stateNode,m,w),jt(i,w),Zn!==4&&(Zn=2)),!1;var N=Error(n(520),{cause:m});if(N=Ar(N,f),Nd===null?Nd=[N]:Nd.push(N),Zn!==4&&(Zn=2),l===null)return!0;m=Ar(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,i=w&-w,f.lanes|=i,i=Cx(f.stateNode,m,i),jt(f,i),!1;case 1:if(l=f.type,N=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Fu===null||!Fu.has(N))))return f.flags|=65536,w&=-w,f.lanes|=w,w=xb(w),yb(w,i,f,m),jt(f,w),!1}f=f.return}while(f!==null);return!1}var vb=Error(n(461)),Ja=!1;function ms(i,l,f,m){l.child=i===null?cb(l,null,f,m):Gf(l,i.child,f,m)}function bb(i,l,f,m,w){f=f.render;var N=l.ref;if("ref"in m){var Q={};for(var me in m)me!=="ref"&&(Q[me]=m[me])}else Q=m;return bo(l),m=zi(i,l,f,Q,N,w),me=Tn(),i!==null&&!Ja?(P0(i,l,w),Mc(i,l,w)):(Qr&&me&&D0(l),l.flags|=1,ms(i,l,m,w),l.child)}function wb(i,l,f,m,w){if(i===null){var N=f.type;return typeof N=="function"&&!_u(N)&&N.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=N,_b(i,l,N,m,w)):(i=Sc(f.type,null,m,l,l.mode,w),i.ref=l.ref,i.return=l,l.child=i)}if(N=i.child,!Mx(i,w)){var Q=N.memoizedProps;if(f=f.compare,f=f!==null?f:Tl,f(Q,m)&&i.ref===l.ref)return Mc(i,l,w)}return l.flags|=1,i=go(N,m),i.ref=l.ref,i.return=l,l.child=i}function _b(i,l,f,m,w){if(i!==null){var N=i.memoizedProps;if(Tl(N,m)&&i.ref===l.ref)if(Ja=!1,l.pendingProps=m=N,Mx(i,w))(i.flags&131072)!==0&&(Ja=!0);else return l.lanes=i.lanes,Mc(i,l,w)}return Rx(i,l,f,m,w)}function kb(i,l,f){var m=l.pendingProps,w=m.children,N=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=N!==null?N.baseLanes|f:f,i!==null){for(w=l.child=i.child,N=0;w!==null;)N=N|w.lanes|w.childLanes,w=w.sibling;l.childLanes=N&~m}else l.childLanes=0,l.child=null;return Ab(i,l,m,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&V(l,N!==null?N.cachePool:null),N!==null?cn(l,N):rn(),ub(l);else return l.lanes=l.childLanes=536870912,Ab(i,l,N!==null?N.baseLanes|f:f,f)}else N!==null?(V(l,N.cachePool),cn(l,N),Du(),l.memoizedState=null):(i!==null&&V(l,null),rn(),Du());return ms(i,l,w,f),l.child}function Ab(i,l,f,m){var w=O();return w=w===null?null:{parent:la._currentValue,pool:w},l.memoizedState={baseLanes:f,cachePool:w},i!==null&&V(l,null),rn(),ub(l),i!==null&&Eu(i,l,m,!0),null}function Fp(i,l){var f=l.ref;if(f===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(i===null||i.ref!==f)&&(l.flags|=4194816)}}function Rx(i,l,f,m,w){return bo(l),f=zi(i,l,f,m,void 0,w),m=Tn(),i!==null&&!Ja?(P0(i,l,w),Mc(i,l,w)):(Qr&&m&&D0(l),l.flags|=1,ms(i,l,f,w),l.child)}function Eb(i,l,f,m,w,N){return bo(l),l.updateQueue=null,f=Dc(l,m,f,w),Vl(i),m=Tn(),i!==null&&!Ja?(P0(i,l,N),Mc(i,l,N)):(Qr&&m&&D0(l),l.flags|=1,ms(i,l,f,N),l.child)}function Nb(i,l,f,m,w){if(bo(l),l.stateNode===null){var N=ba,Q=f.contextType;typeof Q=="object"&&Q!==null&&(N=oa(Q)),N=new f(m,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Tx,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=m,N.state=l.memoizedState,N.refs={},De(l),Q=f.contextType,N.context=typeof Q=="object"&&Q!==null?oa(Q):ba,N.state=l.memoizedState,Q=f.getDerivedStateFromProps,typeof Q=="function"&&(Sx(l,f,Q,m),N.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(Q=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),Q!==N.state&&Tx.enqueueReplaceState(N,N.state,null),St(l,m,N,w),Gt(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){N=l.stateNode;var me=l.memoizedProps,Ce=$0(f,me);N.props=Ce;var Ye=N.context,it=f.contextType;Q=ba,typeof it=="object"&&it!==null&&(Q=oa(it));var ht=f.getDerivedStateFromProps;it=typeof ht=="function"||typeof N.getSnapshotBeforeUpdate=="function",me=l.pendingProps!==me,it||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(me||Ye!==Q)&&hb(l,N,m,Q),rt=!1;var Je=l.memoizedState;N.state=Je,St(l,m,N,w),Gt(),Ye=l.memoizedState,me||Je!==Ye||rt?(typeof ht=="function"&&(Sx(l,f,ht,m),Ye=l.memoizedState),(Ce=rt||fb(l,f,Ce,m,Je,Ye,Q))?(it||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Ye),N.props=m,N.state=Ye,N.context=Q,m=Ce):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{N=l.stateNode,Pe(i,l),Q=l.memoizedProps,it=$0(f,Q),N.props=it,ht=l.pendingProps,Je=N.context,Ye=f.contextType,Ce=ba,typeof Ye=="object"&&Ye!==null&&(Ce=oa(Ye)),me=f.getDerivedStateFromProps,(Ye=typeof me=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Q!==ht||Je!==Ce)&&hb(l,N,m,Ce),rt=!1,Je=l.memoizedState,N.state=Je,St(l,m,N,w),Gt();var et=l.memoizedState;Q!==ht||Je!==et||rt||i!==null&&i.dependencies!==null&&Pf(i.dependencies)?(typeof me=="function"&&(Sx(l,f,me,m),et=l.memoizedState),(it=rt||fb(l,f,it,m,Je,et,Ce)||i!==null&&i.dependencies!==null&&Pf(i.dependencies))?(Ye||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,et,Ce),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,et,Ce)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||Q===i.memoizedProps&&Je===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&Je===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=et),N.props=m,N.state=et,N.context=Ce,m=it):(typeof N.componentDidUpdate!="function"||Q===i.memoizedProps&&Je===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&Je===i.memoizedState||(l.flags|=1024),m=!1)}return N=m,Fp(i,l),m=(l.flags&128)!==0,N||m?(N=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,i!==null&&m?(l.child=Gf(l,i.child,null,w),l.child=Gf(l,null,f,w)):ms(i,l,f,w),l.memoizedState=N.state,i=l.child):i=Mc(i,l,w),i}function Sb(i,l,f,m){return ni(),l.flags|=256,ms(i,l,f,m),l.child}var Ix={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dx(i){return{baseLanes:i,cachePool:te()}}function jx(i,l,f){return i=i!==null?i.childLanes&~f:0,l&&(i|=ko),i}function Tb(i,l,f){var m=l.pendingProps,w=!1,N=(l.flags&128)!==0,Q;if((Q=N)||(Q=i!==null&&i.memoizedState===null?!1:(Pa.current&2)!==0),Q&&(w=!0,l.flags&=-129),Q=(l.flags&32)!==0,l.flags&=-33,i===null){if(Qr){if(w?Iu(l):Du(),Qr){var me=Pn,Ce;if(Ce=me){e:{for(Ce=me,me=xo;Ce.nodeType!==8;){if(!me){me=null;break e}if(Ce=tl(Ce.nextSibling),Ce===null){me=null;break e}}me=Ce}me!==null?(l.memoizedState={dehydrated:me,treeContext:Tc!==null?{id:Go,overflow:$o}:null,retryLane:536870912,hydrationErrors:null},Ce=Qa(18,null,null,0),Ce.stateNode=me,Ce.return=l,l.child=Ce,ia=l,Pn=null,Ce=!0):Ce=!1}Ce||Rc(l)}if(me=l.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return g2(me)?l.lanes=32:l.lanes=536870912,null;Pc(l)}return me=m.children,m=m.fallback,w?(Du(),w=l.mode,me=Bp({mode:"hidden",children:me},w),m=qo(m,w,f,null),me.return=l,m.return=l,me.sibling=m,l.child=me,w=l.child,w.memoizedState=Dx(f),w.childLanes=jx(i,Q,f),l.memoizedState=Ix,m):(Iu(l),Lx(l,me))}if(Ce=i.memoizedState,Ce!==null&&(me=Ce.dehydrated,me!==null)){if(N)l.flags&256?(Iu(l),l.flags&=-257,l=Ox(i,l,f)):l.memoizedState!==null?(Du(),l.child=i.child,l.flags|=128,l=null):(Du(),w=m.fallback,me=l.mode,m=Bp({mode:"visible",children:m.children},me),w=qo(w,me,f,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,Gf(l,i.child,null,f),m=l.child,m.memoizedState=Dx(f),m.childLanes=jx(i,Q,f),l.memoizedState=Ix,l=w);else if(Iu(l),g2(me)){if(Q=me.nextSibling&&me.nextSibling.dataset,Q)var Ye=Q.dgst;Q=Ye,m=Error(n(419)),m.stack="",m.digest=Q,Au({value:m,source:null,stack:null}),l=Ox(i,l,f)}else if(Ja||Eu(i,l,f,!1),Q=(f&i.childLanes)!==0,Ja||Q){if(Q=Cn,Q!==null&&(m=f&-f,m=(m&42)!==0?1:Ga(m),m=(m&(Q.suspendedLanes|f))!==0?0:m,m!==0&&m!==Ce.retryLane))throw Ce.retryLane=m,zo(i,m),Wi(Q,i,m),vb;me.data==="$?"||Zx(),l=Ox(i,l,f)}else me.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=Ce.treeContext,Pn=tl(me.nextSibling),ia=l,Qr=!0,Fl=null,xo=!1,i!==null&&(ki[ri++]=Go,ki[ri++]=$o,ki[ri++]=Tc,Go=i.id,$o=i.overflow,Tc=l),l=Lx(l,m.children),l.flags|=4096);return l}return w?(Du(),w=m.fallback,me=l.mode,Ce=i.child,Ye=Ce.sibling,m=go(Ce,{mode:"hidden",children:m.children}),m.subtreeFlags=Ce.subtreeFlags&65011712,Ye!==null?w=go(Ye,w):(w=qo(w,me,f,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,me=i.child.memoizedState,me===null?me=Dx(f):(Ce=me.cachePool,Ce!==null?(Ye=la._currentValue,Ce=Ce.parent!==Ye?{parent:Ye,pool:Ye}:Ce):Ce=te(),me={baseLanes:me.baseLanes|f,cachePool:Ce}),w.memoizedState=me,w.childLanes=jx(i,Q,f),l.memoizedState=Ix,m):(Iu(l),f=i.child,i=f.sibling,f=go(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,i!==null&&(Q=l.deletions,Q===null?(l.deletions=[i],l.flags|=16):Q.push(i)),l.child=f,l.memoizedState=null,f)}function Lx(i,l){return l=Bp({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Bp(i,l){return i=Qa(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ox(i,l,f){return Gf(l,i.child,null,f),i=Lx(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Cb(i,l,f){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),Lf(i.return,l,f)}function Px(i,l,f,m,w){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:w}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=f,N.tailMode=w)}function Rb(i,l,f){var m=l.pendingProps,w=m.revealOrder,N=m.tail;if(ms(i,l,m.children,f),m=Pa.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Cb(i,f,l);else if(i.tag===19)Cb(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(z(Pa,m),w){case"forwards":for(f=l.child,w=null;f!==null;)i=f.alternate,i!==null&&Op(i)===null&&(w=f),f=f.sibling;f=w,f===null?(w=l.child,l.child=null):(w=f.sibling,f.sibling=null),Px(l,!1,w,f,N);break;case"backwards":for(f=null,w=l.child,l.child=null;w!==null;){if(i=w.alternate,i!==null&&Op(i)===null){l.child=w;break}i=w.sibling,w.sibling=f,f=w,w=i}Px(l,!0,f,null,N);break;case"together":Px(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Mc(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),Mu|=l.lanes,(f&l.childLanes)===0)if(i!==null){if(Eu(i,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,f=go(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=go(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function Mx(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Pf(i)))}function RS(i,l,f){switch(l.tag){case 3:xe(l,l.stateNode.containerInfo),Bl(l,la,i.memoizedState.cache),ni();break;case 27:case 5:je(l);break;case 4:xe(l,l.stateNode.containerInfo);break;case 10:Bl(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Iu(l),l.flags|=128,null):(f&l.child.childLanes)!==0?Tb(i,l,f):(Iu(l),i=Mc(i,l,f),i!==null?i.sibling:null);Iu(l);break;case 19:var w=(i.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(Eu(i,l,f,!1),m=(f&l.childLanes)!==0),w){if(m)return Rb(i,l,f);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),z(Pa,Pa.current),m)break;return null;case 22:case 23:return l.lanes=0,kb(i,l,f);case 24:Bl(l,la,i.memoizedState.cache)}return Mc(i,l,f)}function Ib(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps)Ja=!0;else{if(!Mx(i,f)&&(l.flags&128)===0)return Ja=!1,RS(i,l,f);Ja=(i.flags&131072)!==0}else Ja=!1,Qr&&(l.flags&1048576)!==0&&pp(l,jf,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var m=l.elementType,w=m._init;if(m=w(m._payload),l.type=m,typeof m=="function")_u(m)?(i=$0(m,i),l.tag=1,l=Nb(null,l,m,i,f)):(l.tag=0,l=Rx(null,l,m,i,f));else{if(m!=null){if(w=m.$$typeof,w===H){l.tag=11,l=bb(null,l,m,i,f);break e}else if(w===P){l.tag=14,l=wb(null,l,m,i,f);break e}}throw l=W(m)||m,Error(n(306,l,""))}}return l;case 0:return Rx(i,l,l.type,l.pendingProps,f);case 1:return m=l.type,w=$0(m,l.pendingProps),Nb(i,l,m,w,f);case 3:e:{if(xe(l,l.stateNode.containerInfo),i===null)throw Error(n(387));m=l.pendingProps;var N=l.memoizedState;w=N.element,Pe(i,l),St(l,m,null,f);var Q=l.memoizedState;if(m=Q.cache,Bl(l,la,m),m!==N.cache&&Of(l,[la],f,!0),Gt(),m=Q.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:Q.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=Sb(i,l,m,f);break e}else if(m!==w){w=Ar(Error(n(424)),l),Au(w),l=Sb(i,l,m,f);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Pn=tl(i.firstChild),ia=l,Qr=!0,Fl=null,xo=!0,f=cb(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(ni(),m===w){l=Mc(i,l,f);break e}ms(i,l,m,f)}l=l.child}return l;case 26:return Fp(i,l),i===null?(f=Ow(l.type,null,l.pendingProps,null))?l.memoizedState=f:Qr||(f=l.type,i=l.pendingProps,m=Zp(Z.current).createElement(f),m[Xr]=l,m[Mr]=i,gs(m,f,i),Fe(m),l.stateNode=m):l.memoizedState=Ow(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return je(l),i===null&&Qr&&(m=l.stateNode=Dw(l.type,l.pendingProps,Z.current),ia=l,xo=!0,w=Pn,Vu(l.type)?(x2=w,Pn=tl(m.firstChild)):Pn=w),ms(i,l,l.pendingProps.children,f),Fp(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Qr&&((w=m=Pn)&&(m=aT(m,l.type,l.pendingProps,xo),m!==null?(l.stateNode=m,ia=l,Pn=tl(m.firstChild),xo=!1,w=!0):w=!1),w||Rc(l)),je(l),w=l.type,N=l.pendingProps,Q=i!==null?i.memoizedProps:null,m=N.children,d2(w,N)?m=null:Q!==null&&d2(w,Q)&&(l.flags|=32),l.memoizedState!==null&&(w=zi(i,l,zl,null,null,f),Od._currentValue=w),Fp(i,l),ms(i,l,m,f),l.child;case 6:return i===null&&Qr&&((i=f=Pn)&&(f=sT(f,l.pendingProps,xo),f!==null?(l.stateNode=f,ia=l,Pn=null,i=!0):i=!1),i||Rc(l)),null;case 13:return Tb(i,l,f);case 4:return xe(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Gf(l,null,m,f):ms(i,l,m,f),l.child;case 11:return bb(i,l,l.type,l.pendingProps,f);case 7:return ms(i,l,l.pendingProps,f),l.child;case 8:return ms(i,l,l.pendingProps.children,f),l.child;case 12:return ms(i,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,Bl(l,l.type,m.value),ms(i,l,m.children,f),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,bo(l),w=oa(w),m=m(w),l.flags|=1,ms(i,l,m,f),l.child;case 14:return wb(i,l,l.type,l.pendingProps,f);case 15:return _b(i,l,l.type,l.pendingProps,f);case 19:return Rb(i,l,f);case 31:return m=l.pendingProps,f=l.mode,m={mode:m.mode,children:m.children},i===null?(f=Bp(m,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=go(i.child,m),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return kb(i,l,f);case 24:return bo(l),m=oa(la),i===null?(w=O(),w===null&&(w=Cn,N=ad(),w.pooledCache=N,N.refCount++,N!==null&&(w.pooledCacheLanes|=f),w=N),l.memoizedState={parent:m,cache:w},De(l),Bl(l,la,w)):((i.lanes&f)!==0&&(Pe(i,l),St(l,null,null,f),Gt()),w=i.memoizedState,N=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Bl(l,la,m)):(m=N.cache,Bl(l,la,m),m!==w.cache&&Of(l,[la],f,!0))),ms(i,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function Fc(i){i.flags|=4}function Db(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Uw(l)){if(l=_o.current,l!==null&&((Hr&4194048)===Hr?Gl!==null:(Hr&62914560)!==Hr&&(Hr&536870912)===0||l!==Gl))throw qe=ge,ce;i.flags|=8192}}function Up(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?on():536870912,i.lanes|=l,Yf|=l)}function bd(i,l){if(!Qr)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Gn(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,m=0;if(l)for(var w=i.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)f|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=f,l}function IS(i,l,f){var m=l.pendingProps;switch(j0(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(l),null;case 1:return Gn(l),null;case 3:return f=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),vo(la),we(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(hs(l)?Fc(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,xp())),Gn(l),null;case 26:return f=l.memoizedState,i===null?(Fc(l),f!==null?(Gn(l),Db(l,f)):(Gn(l),l.flags&=-16777217)):f?f!==i.memoizedState?(Fc(l),Gn(l),Db(l,f)):(Gn(l),l.flags&=-16777217):(i.memoizedProps!==m&&Fc(l),Gn(l),l.flags&=-16777217),null;case 27:tt(l),f=Z.current;var w=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Fc(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Gn(l),null}i=G.current,hs(l)?gp(l):(i=Dw(w,m,f),l.stateNode=i,Fc(l))}return Gn(l),null;case 5:if(tt(l),f=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Fc(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Gn(l),null}if(i=G.current,hs(l))gp(l);else{switch(w=Zp(Z.current),i){case 1:i=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:i=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":i=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":i=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?w.createElement(f,{is:m.is}):w.createElement(f)}}i[Xr]=l,i[Mr]=m;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)i.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=i;e:switch(gs(i,f,m),f){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Fc(l)}}return Gn(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&Fc(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(i=Z.current,hs(l)){if(i=l.stateNode,f=l.memoizedProps,m=null,w=ia,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}i[Xr]=l,i=!!(i.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||Ew(i.nodeValue,f)),i||Rc(l)}else i=Zp(i).createTextNode(m),i[Xr]=l,l.stateNode=i}return Gn(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=hs(l),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Xr]=l}else ni(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Gn(l),w=!1}else w=xp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(Pc(l),l):(Pc(l),null)}if(Pc(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=m!==null,i=i!==null&&i.memoizedState!==null,f){m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool);var N=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==w&&(m.flags|=2048)}return f!==i&&f&&(l.child.flags|=8192),Up(l,l.updateQueue),Gn(l),null;case 4:return we(),i===null&&l2(l.stateNode.containerInfo),Gn(l),null;case 10:return vo(l.type),Gn(l),null;case 19:if(L(Pa),w=l.memoizedState,w===null)return Gn(l),null;if(m=(l.flags&128)!==0,N=w.rendering,N===null)if(m)bd(w,!1);else{if(Zn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(N=Op(i),N!==null){for(l.flags|=128,bd(w,!1),i=N.updateQueue,l.updateQueue=i,Up(l,i),l.subtreeFlags=0,i=f,f=l.child;f!==null;)R0(f,i),f=f.sibling;return z(Pa,Pa.current&1|2),l.child}i=i.sibling}w.tail!==null&&Ke()>qp&&(l.flags|=128,m=!0,bd(w,!1),l.lanes=4194304)}else{if(!m)if(i=Op(N),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,Up(l,i),bd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!N.alternate&&!Qr)return Gn(l),null}else 2*Ke()-w.renderingStartTime>qp&&f!==536870912&&(l.flags|=128,m=!0,bd(w,!1),l.lanes=4194304);w.isBackwards?(N.sibling=l.child,l.child=N):(i=w.last,i!==null?i.sibling=N:l.child=N,w.last=N)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=Ke(),l.sibling=null,i=Pa.current,z(Pa,m?i&1|2:i&1),l):(Gn(l),null);case 22:case 23:return Pc(l),ur(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(Gn(l),l.subtreeFlags&6&&(l.flags|=8192)):Gn(l),f=l.updateQueue,f!==null&&Up(l,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),i!==null&&L(_),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),vo(la),Gn(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function DS(i,l){switch(j0(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return vo(la),we(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return tt(l),null;case 13:if(Pc(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));ni()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return L(Pa),null;case 4:return we(),null;case 10:return vo(l.type),null;case 22:case 23:return Pc(l),ur(),i!==null&&L(_),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return vo(la),null;case 25:return null;default:return null}}function jb(i,l){switch(j0(l),l.tag){case 3:vo(la),we();break;case 26:case 27:case 5:tt(l);break;case 4:we();break;case 13:Pc(l);break;case 19:L(Pa);break;case 10:vo(l.type);break;case 22:case 23:Pc(l),ur(),i!==null&&L(_);break;case 24:vo(la)}}function wd(i,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var w=m.next;f=w;do{if((f.tag&i)===i){m=void 0;var N=f.create,Q=f.inst;m=N(),Q.destroy=m}f=f.next}while(f!==w)}}catch(me){An(l,l.return,me)}}function ju(i,l,f){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var N=w.next;m=N;do{if((m.tag&i)===i){var Q=m.inst,me=Q.destroy;if(me!==void 0){Q.destroy=void 0,w=l;var Ce=f,Ye=me;try{Ye()}catch(it){An(w,Ce,it)}}}m=m.next}while(m!==N)}}catch(it){An(l,l.return,it)}}function Lb(i){var l=i.updateQueue;if(l!==null){var f=i.stateNode;try{tn(l,f)}catch(m){An(i,i.return,m)}}}function Ob(i,l,f){f.props=$0(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(m){An(i,l,m)}}function _d(i,l){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof f=="function"?i.refCleanup=f(m):f.current=m}}catch(w){An(i,l,w)}}function $l(i,l){var f=i.ref,m=i.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(w){An(i,l,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){An(i,l,w)}else f.current=null}function Pb(i){var l=i.type,f=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(w){An(i,i.return,w)}}function Fx(i,l,f){try{var m=i.stateNode;ZS(m,i.type,f,l),m[Mr]=l}catch(w){An(i,i.return,w)}}function Mb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vu(i.type)||i.tag===4}function Bx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Mb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ux(i,l,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(i),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Jp));else if(m!==4&&(m===27&&Vu(i.type)&&(f=i.stateNode,l=null),i=i.child,i!==null))for(Ux(i,l,f),i=i.sibling;i!==null;)Ux(i,l,f),i=i.sibling}function Vp(i,l,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(m!==4&&(m===27&&Vu(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(Vp(i,l,f),i=i.sibling;i!==null;)Vp(i,l,f),i=i.sibling}function Fb(i){var l=i.stateNode,f=i.memoizedProps;try{for(var m=i.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);gs(l,m,f),l[Xr]=i,l[Mr]=f}catch(N){An(i,i.return,N)}}var Bc=!1,ua=!1,Vx=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,Za=null;function jS(i,l){if(i=i.containerInfo,f2=sg,i=fs(i),Oa(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var w=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var Q=0,me=-1,Ce=-1,Ye=0,it=0,ht=i,Je=null;t:for(;;){for(var et;ht!==f||w!==0&&ht.nodeType!==3||(me=Q+w),ht!==N||m!==0&&ht.nodeType!==3||(Ce=Q+m),ht.nodeType===3&&(Q+=ht.nodeValue.length),(et=ht.firstChild)!==null;)Je=ht,ht=et;for(;;){if(ht===i)break t;if(Je===f&&++Ye===w&&(me=Q),Je===N&&++it===m&&(Ce=Q),(et=ht.nextSibling)!==null)break;ht=Je,Je=ht.parentNode}ht=et}f=me===-1||Ce===-1?null:{start:me,end:Ce}}else f=null}f=f||{start:0,end:0}}else f=null;for(h2={focusedElem:i,selectionRange:f},sg=!1,Za=l;Za!==null;)if(l=Za,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,Za=i;else for(;Za!==null;){switch(l=Za,N=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,f=l,w=N.memoizedProps,N=N.memoizedState,m=f.stateNode;try{var or=$0(f.type,w,f.elementType===f.type);i=m.getSnapshotBeforeUpdate(or,N),m.__reactInternalSnapshotBeforeUpdate=i}catch(er){An(f,f.return,er)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,f=i.nodeType,f===9)p2(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":p2(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=l.sibling,i!==null){i.return=l.return,Za=i;break}Za=l.return}}function Ub(i,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Lu(i,f),m&4&&wd(5,f);break;case 1:if(Lu(i,f),m&4)if(i=f.stateNode,l===null)try{i.componentDidMount()}catch(Q){An(f,f.return,Q)}else{var w=$0(f.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(w,l,i.__reactInternalSnapshotBeforeUpdate)}catch(Q){An(f,f.return,Q)}}m&64&&Lb(f),m&512&&_d(f,f.return);break;case 3:if(Lu(i,f),m&64&&(i=f.updateQueue,i!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{tn(i,l)}catch(Q){An(f,f.return,Q)}}break;case 27:l===null&&m&4&&Fb(f);case 26:case 5:Lu(i,f),l===null&&m&4&&Pb(f),m&512&&_d(f,f.return);break;case 12:Lu(i,f);break;case 13:Lu(i,f),m&4&&qb(i,f),m&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=zS.bind(null,f),iT(i,f))));break;case 22:if(m=f.memoizedState!==null||Bc,!m){l=l!==null&&l.memoizedState!==null||ua,w=Bc;var N=ua;Bc=m,(ua=l)&&!N?Ou(i,f,(f.subtreeFlags&8772)!==0):Lu(i,f),Bc=w,ua=N}break;case 30:break;default:Lu(i,f)}}function Vb(i){var l=i.alternate;l!==null&&(i.alternate=null,Vb(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&ve(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Mn=null,Ei=!1;function Uc(i,l,f){for(f=f.child;f!==null;)zb(i,l,f),f=f.sibling}function zb(i,l,f){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(Pt,f)}catch{}switch(f.tag){case 26:ua||$l(f,l),Uc(i,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:ua||$l(f,l);var m=Mn,w=Ei;Vu(f.type)&&(Mn=f.stateNode,Ei=!1),Uc(i,l,f),Id(f.stateNode),Mn=m,Ei=w;break;case 5:ua||$l(f,l);case 6:if(m=Mn,w=Ei,Mn=null,Uc(i,l,f),Mn=m,Ei=w,Mn!==null)if(Ei)try{(Mn.nodeType===9?Mn.body:Mn.nodeName==="HTML"?Mn.ownerDocument.body:Mn).removeChild(f.stateNode)}catch(N){An(f,l,N)}else try{Mn.removeChild(f.stateNode)}catch(N){An(f,l,N)}break;case 18:Mn!==null&&(Ei?(i=Mn,Rw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),Bd(i)):Rw(Mn,f.stateNode));break;case 4:m=Mn,w=Ei,Mn=f.stateNode.containerInfo,Ei=!0,Uc(i,l,f),Mn=m,Ei=w;break;case 0:case 11:case 14:case 15:ua||ju(2,f,l),ua||ju(4,f,l),Uc(i,l,f);break;case 1:ua||($l(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&Ob(f,l,m)),Uc(i,l,f);break;case 21:Uc(i,l,f);break;case 22:ua=(m=ua)||f.memoizedState!==null,Uc(i,l,f),ua=m;break;default:Uc(i,l,f)}}function qb(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bd(i)}catch(f){An(l,l.return,f)}}function LS(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Bb),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Bb),l;default:throw Error(n(435,i.tag))}}function zx(i,l){var f=LS(i);l.forEach(function(m){var w=qS.bind(null,i,m);f.has(m)||(f.add(m),m.then(w,w))})}function Hi(i,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var w=f[m],N=i,Q=l,me=Q;e:for(;me!==null;){switch(me.tag){case 27:if(Vu(me.type)){Mn=me.stateNode,Ei=!1;break e}break;case 5:Mn=me.stateNode,Ei=!1;break e;case 3:case 4:Mn=me.stateNode.containerInfo,Ei=!0;break e}me=me.return}if(Mn===null)throw Error(n(160));zb(N,Q,w),Mn=null,Ei=!1,N=w.alternate,N!==null&&(N.return=null),w.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Hb(l,i),l=l.sibling}var el=null;function Hb(i,l){var f=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Hi(l,i),Gi(i),m&4&&(ju(3,i,i.return),wd(3,i),ju(5,i,i.return));break;case 1:Hi(l,i),Gi(i),m&512&&(ua||f===null||$l(f,f.return)),m&64&&Bc&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var w=el;if(Hi(l,i),Gi(i),m&512&&(ua||f===null||$l(f,f.return)),m&4){var N=f!==null?f.memoizedState:null;if(m=i.memoizedState,f===null)if(m===null)if(i.stateNode===null){e:{m=i.type,f=i.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":N=w.getElementsByTagName("title")[0],(!N||N[ye]||N[Xr]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=w.createElement(m),w.head.insertBefore(N,w.querySelector("head > title"))),gs(N,m,f),N[Xr]=i,Fe(N),m=N;break e;case"link":var Q=Fw("link","href",w).get(m+(f.href||""));if(Q){for(var me=0;me<Q.length;me++)if(N=Q[me],N.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&N.getAttribute("rel")===(f.rel==null?null:f.rel)&&N.getAttribute("title")===(f.title==null?null:f.title)&&N.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){Q.splice(me,1);break t}}N=w.createElement(m),gs(N,m,f),w.head.appendChild(N);break;case"meta":if(Q=Fw("meta","content",w).get(m+(f.content||""))){for(me=0;me<Q.length;me++)if(N=Q[me],N.getAttribute("content")===(f.content==null?null:""+f.content)&&N.getAttribute("name")===(f.name==null?null:f.name)&&N.getAttribute("property")===(f.property==null?null:f.property)&&N.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&N.getAttribute("charset")===(f.charSet==null?null:f.charSet)){Q.splice(me,1);break t}}N=w.createElement(m),gs(N,m,f),w.head.appendChild(N);break;default:throw Error(n(468,m))}N[Xr]=i,Fe(N),m=N}i.stateNode=m}else Bw(w,i.type,i.stateNode);else i.stateNode=Mw(w,m,i.memoizedProps);else N!==m?(N===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):N.count--,m===null?Bw(w,i.type,i.stateNode):Mw(w,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Fx(i,i.memoizedProps,f.memoizedProps)}break;case 27:Hi(l,i),Gi(i),m&512&&(ua||f===null||$l(f,f.return)),f!==null&&m&4&&Fx(i,i.memoizedProps,f.memoizedProps);break;case 5:if(Hi(l,i),Gi(i),m&512&&(ua||f===null||$l(f,f.return)),i.flags&32){w=i.stateNode;try{Es(w,"")}catch(et){An(i,i.return,et)}}m&4&&i.stateNode!=null&&(w=i.memoizedProps,Fx(i,w,f!==null?f.memoizedProps:w)),m&1024&&(Vx=!0);break;case 6:if(Hi(l,i),Gi(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,f=i.stateNode;try{f.nodeValue=m}catch(et){An(i,i.return,et)}}break;case 3:if(rg=null,w=el,el=eg(l.containerInfo),Hi(l,i),el=w,Gi(i),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Bd(l.containerInfo)}catch(et){An(i,i.return,et)}Vx&&(Vx=!1,Gb(i));break;case 4:m=el,el=eg(i.stateNode.containerInfo),Hi(l,i),Gi(i),el=m;break;case 12:Hi(l,i),Gi(i);break;case 13:Hi(l,i),Gi(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Wx=Ke()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,zx(i,m)));break;case 22:w=i.memoizedState!==null;var Ce=f!==null&&f.memoizedState!==null,Ye=Bc,it=ua;if(Bc=Ye||w,ua=it||Ce,Hi(l,i),ua=it,Bc=Ye,Gi(i),m&8192)e:for(l=i.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(f===null||Ce||Bc||ua||K0(i)),f=null,l=i;;){if(l.tag===5||l.tag===26){if(f===null){Ce=f=l;try{if(N=Ce.stateNode,w)Q=N.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none";else{me=Ce.stateNode;var ht=Ce.memoizedProps.style,Je=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;me.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(et){An(Ce,Ce.return,et)}}}else if(l.tag===6){if(f===null){Ce=l;try{Ce.stateNode.nodeValue=w?"":Ce.memoizedProps}catch(et){An(Ce,Ce.return,et)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,zx(i,f))));break;case 19:Hi(l,i),Gi(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,zx(i,m)));break;case 30:break;case 21:break;default:Hi(l,i),Gi(i)}}function Gi(i){var l=i.flags;if(l&2){try{for(var f,m=i.return;m!==null;){if(Mb(m)){f=m;break}m=m.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var w=f.stateNode,N=Bx(i);Vp(i,N,w);break;case 5:var Q=f.stateNode;f.flags&32&&(Es(Q,""),f.flags&=-33);var me=Bx(i);Vp(i,me,Q);break;case 3:case 4:var Ce=f.stateNode.containerInfo,Ye=Bx(i);Ux(i,Ye,Ce);break;default:throw Error(n(161))}}catch(it){An(i,i.return,it)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Gb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Gb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Lu(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Ub(i,l.alternate,l),l=l.sibling}function K0(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:ju(4,l,l.return),K0(l);break;case 1:$l(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&Ob(l,l.return,f),K0(l);break;case 27:Id(l.stateNode);case 26:case 5:$l(l,l.return),K0(l);break;case 22:l.memoizedState===null&&K0(l);break;case 30:K0(l);break;default:K0(l)}i=i.sibling}}function Ou(i,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=i,N=l,Q=N.flags;switch(N.tag){case 0:case 11:case 15:Ou(w,N,f),wd(4,N);break;case 1:if(Ou(w,N,f),m=N,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ye){An(m,m.return,Ye)}if(m=N,w=m.updateQueue,w!==null){var me=m.stateNode;try{var Ce=w.shared.hiddenCallbacks;if(Ce!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Ce.length;w++)zr(Ce[w],me)}catch(Ye){An(m,m.return,Ye)}}f&&Q&64&&Lb(N),_d(N,N.return);break;case 27:Fb(N);case 26:case 5:Ou(w,N,f),f&&m===null&&Q&4&&Pb(N),_d(N,N.return);break;case 12:Ou(w,N,f);break;case 13:Ou(w,N,f),f&&Q&4&&qb(w,N);break;case 22:N.memoizedState===null&&Ou(w,N,f),_d(N,N.return);break;case 30:break;default:Ou(w,N,f)}l=l.sibling}}function qx(i,l){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&L0(f))}function Hx(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&L0(i))}function Kl(i,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)$b(i,l,f,m),l=l.sibling}function $b(i,l,f,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Kl(i,l,f,m),w&2048&&wd(9,l);break;case 1:Kl(i,l,f,m);break;case 3:Kl(i,l,f,m),w&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&L0(i)));break;case 12:if(w&2048){Kl(i,l,f,m),i=l.stateNode;try{var N=l.memoizedProps,Q=N.id,me=N.onPostCommit;typeof me=="function"&&me(Q,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Ce){An(l,l.return,Ce)}}else Kl(i,l,f,m);break;case 13:Kl(i,l,f,m);break;case 23:break;case 22:N=l.stateNode,Q=l.alternate,l.memoizedState!==null?N._visibility&2?Kl(i,l,f,m):kd(i,l):N._visibility&2?Kl(i,l,f,m):(N._visibility|=2,$f(i,l,f,m,(l.subtreeFlags&10256)!==0)),w&2048&&qx(Q,l);break;case 24:Kl(i,l,f,m),w&2048&&Hx(l.alternate,l);break;default:Kl(i,l,f,m)}}function $f(i,l,f,m,w){for(w=w&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var N=i,Q=l,me=f,Ce=m,Ye=Q.flags;switch(Q.tag){case 0:case 11:case 15:$f(N,Q,me,Ce,w),wd(8,Q);break;case 23:break;case 22:var it=Q.stateNode;Q.memoizedState!==null?it._visibility&2?$f(N,Q,me,Ce,w):kd(N,Q):(it._visibility|=2,$f(N,Q,me,Ce,w)),w&&Ye&2048&&qx(Q.alternate,Q);break;case 24:$f(N,Q,me,Ce,w),w&&Ye&2048&&Hx(Q.alternate,Q);break;default:$f(N,Q,me,Ce,w)}l=l.sibling}}function kd(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=i,m=l,w=m.flags;switch(m.tag){case 22:kd(f,m),w&2048&&qx(m.alternate,m);break;case 24:kd(f,m),w&2048&&Hx(m.alternate,m);break;default:kd(f,m)}l=l.sibling}}var Ad=8192;function Kf(i){if(i.subtreeFlags&Ad)for(i=i.child;i!==null;)Kb(i),i=i.sibling}function Kb(i){switch(i.tag){case 26:Kf(i),i.flags&Ad&&i.memoizedState!==null&&vT(el,i.memoizedState,i.memoizedProps);break;case 5:Kf(i);break;case 3:case 4:var l=el;el=eg(i.stateNode.containerInfo),Kf(i),el=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Ad,Ad=16777216,Kf(i),Ad=l):Kf(i));break;default:Kf(i)}}function Wb(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Ed(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Za=m,Xb(m,i)}Wb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yb(i),i=i.sibling}function Yb(i){switch(i.tag){case 0:case 11:case 15:Ed(i),i.flags&2048&&ju(9,i,i.return);break;case 3:Ed(i);break;case 12:Ed(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,zp(i)):Ed(i);break;default:Ed(i)}}function zp(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Za=m,Xb(m,i)}Wb(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:ju(8,l,l.return),zp(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,zp(l));break;default:zp(l)}i=i.sibling}}function Xb(i,l){for(;Za!==null;){var f=Za;switch(f.tag){case 0:case 11:case 15:ju(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:L0(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Za=m;else e:for(f=i;Za!==null;){m=Za;var w=m.sibling,N=m.return;if(Vb(m),m===f){Za=null;break e}if(w!==null){w.return=N,Za=w;break e}Za=N}}}var OS={getCacheForType:function(i){var l=oa(la),f=l.data.get(i);return f===void 0&&(f=i(),l.data.set(i,f)),f}},PS=typeof WeakMap=="function"?WeakMap:Map,mn=0,Cn=null,jr=null,Hr=0,pn=0,$i=null,Pu=!1,Wf=!1,Gx=!1,Vc=0,Zn=0,Mu=0,W0=0,$x=0,ko=0,Yf=0,Nd=null,Ni=null,Kx=!1,Wx=0,qp=1/0,Hp=null,Fu=null,ps=0,Bu=null,Xf=null,Qf=0,Yx=0,Xx=null,Qb=null,Sd=0,Qx=null;function Ki(){if((mn&2)!==0&&Hr!==0)return Hr&-Hr;if(ae.T!==null){var i=Ic;return i!==0?i:a2()}return aa()}function Jb(){ko===0&&(ko=(Hr&536870912)===0||Qr?As():536870912);var i=_o.current;return i!==null&&(i.flags|=32),ko}function Wi(i,l,f){(i===Cn&&(pn===2||pn===9)||i.cancelPendingCommit!==null)&&(Jf(i,0),Uu(i,Hr,ko,!1)),na(i,f),((mn&2)===0||i!==Cn)&&(i===Cn&&((mn&2)===0&&(W0|=f),Zn===4&&Uu(i,Hr,ko,!1)),Wl(i))}function Zb(i,l,f){if((mn&6)!==0)throw Error(n(327));var m=!f&&(l&124)===0&&(l&i.expiredLanes)===0||ga(i,l),w=m?BS(i,l):e2(i,l,!0),N=m;do{if(w===0){Wf&&!m&&Uu(i,l,0,!1);break}else{if(f=i.current.alternate,N&&!MS(f)){w=e2(i,l,!1),N=!1;continue}if(w===2){if(N=l,i.errorRecoveryDisabledLanes&N)var Q=0;else Q=i.pendingLanes&-536870913,Q=Q!==0?Q:Q&536870912?536870912:0;if(Q!==0){l=Q;e:{var me=i;w=Nd;var Ce=me.current.memoizedState.isDehydrated;if(Ce&&(Jf(me,Q).flags|=256),Q=e2(me,Q,!1),Q!==2){if(Gx&&!Ce){me.errorRecoveryDisabledLanes|=N,W0|=N,w=4;break e}N=Ni,Ni=w,N!==null&&(Ni===null?Ni=N:Ni.push.apply(Ni,N))}w=Q}if(N=!1,w!==2)continue}}if(w===1){Jf(i,0),Uu(i,l,0,!0);break}e:{switch(m=i,N=w,N){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Uu(m,l,ko,!Pu);break e;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(w=Wx+300-Ke(),10<w)){if(Uu(m,l,ko,!Pu),Wr(m,0,!0)!==0)break e;m.timeoutHandle=Tw(ew.bind(null,m,f,Ni,Hp,Kx,l,ko,W0,Yf,Pu,N,2,-0,0),w);break e}ew(m,f,Ni,Hp,Kx,l,ko,W0,Yf,Pu,N,0,-0,0)}}break}while(!0);Wl(i)}function ew(i,l,f,m,w,N,Q,me,Ce,Ye,it,ht,Je,et){if(i.timeoutHandle=-1,ht=l.subtreeFlags,(ht&8192||(ht&16785408)===16785408)&&(Ld={stylesheets:null,count:0,unsuspend:yT},Kb(l),ht=bT(),ht!==null)){i.cancelPendingCommit=ht(ow.bind(null,i,l,N,f,m,w,Q,me,Ce,it,1,Je,et)),Uu(i,N,Q,!Ye);return}ow(i,l,N,f,m,w,Q,me,Ce)}function MS(i){for(var l=i;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var w=f[m],N=w.getSnapshot;w=w.value;try{if(!va(N(),w))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Uu(i,l,f,m){l&=~$x,l&=~W0,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var w=l;0<w;){var N=31-It(w),Q=1<<N;m[N]=-1,w&=~Q}f!==0&&$t(i,f,l)}function Gp(){return(mn&6)===0?(Td(0),!1):!0}function Jx(){if(jr!==null){if(pn===0)var i=jr.return;else i=jr,Wo=wa=null,Ff(i),Hf=null,yd=0,i=jr;for(;i!==null;)jb(i.alternate,i),i=i.return;jr=null}}function Jf(i,l){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,tT(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),Jx(),Cn=i,jr=f=go(i.current,null),Hr=l,pn=0,$i=null,Pu=!1,Wf=ga(i,l),Gx=!1,Yf=ko=$x=W0=Mu=Zn=0,Ni=Nd=null,Kx=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var w=31-It(m),N=1<<w;l|=i[w],m&=~N}return Vc=l,wi(),f}function tw(i,l){Xt=null,ae.H=Dp,l===oe||l===fe?(l=Ue(),pn=3):l===ce?(l=Ue(),pn=4):pn=l===vb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,$i=l,jr===null&&(Zn=1,Mp(i,Ar(l,i.current)))}function rw(){var i=ae.H;return ae.H=Dp,i===null?Dp:i}function nw(){var i=ae.A;return ae.A=OS,i}function Zx(){Zn=4,Pu||(Hr&4194048)!==Hr&&_o.current!==null||(Wf=!0),(Mu&134217727)===0&&(W0&134217727)===0||Cn===null||Uu(Cn,Hr,ko,!1)}function e2(i,l,f){var m=mn;mn|=2;var w=rw(),N=nw();(Cn!==i||Hr!==l)&&(Hp=null,Jf(i,l)),l=!1;var Q=Zn;e:do try{if(pn!==0&&jr!==null){var me=jr,Ce=$i;switch(pn){case 8:Jx(),Q=6;break e;case 3:case 2:case 9:case 6:_o.current===null&&(l=!0);var Ye=pn;if(pn=0,$i=null,Zf(i,me,Ce,Ye),f&&Wf){Q=0;break e}break;default:Ye=pn,pn=0,$i=null,Zf(i,me,Ce,Ye)}}FS(),Q=Zn;break}catch(it){tw(i,it)}while(!0);return l&&i.shellSuspendCounter++,Wo=wa=null,mn=m,ae.H=w,ae.A=N,jr===null&&(Cn=null,Hr=0,wi()),Q}function FS(){for(;jr!==null;)aw(jr)}function BS(i,l){var f=mn;mn|=2;var m=rw(),w=nw();Cn!==i||Hr!==l?(Hp=null,qp=Ke()+500,Jf(i,l)):Wf=ga(i,l);e:do try{if(pn!==0&&jr!==null){l=jr;var N=$i;t:switch(pn){case 1:pn=0,$i=null,Zf(i,l,N,1);break;case 2:case 9:if(_e(N)){pn=0,$i=null,sw(l);break}l=function(){pn!==2&&pn!==9||Cn!==i||(pn=7),Wl(i)},N.then(l,l);break e;case 3:pn=7;break e;case 4:pn=5;break e;case 7:_e(N)?(pn=0,$i=null,sw(l)):(pn=0,$i=null,Zf(i,l,N,7));break;case 5:var Q=null;switch(jr.tag){case 26:Q=jr.memoizedState;case 5:case 27:var me=jr;if(!Q||Uw(Q)){pn=0,$i=null;var Ce=me.sibling;if(Ce!==null)jr=Ce;else{var Ye=me.return;Ye!==null?(jr=Ye,$p(Ye)):jr=null}break t}}pn=0,$i=null,Zf(i,l,N,5);break;case 6:pn=0,$i=null,Zf(i,l,N,6);break;case 8:Jx(),Zn=6;break e;default:throw Error(n(462))}}US();break}catch(it){tw(i,it)}while(!0);return Wo=wa=null,ae.H=m,ae.A=w,mn=f,jr!==null?0:(Cn=null,Hr=0,wi(),Zn)}function US(){for(;jr!==null&&!Le();)aw(jr)}function aw(i){var l=Ib(i.alternate,i,Vc);i.memoizedProps=i.pendingProps,l===null?$p(i):jr=l}function sw(i){var l=i,f=l.alternate;switch(l.tag){case 15:case 0:l=Eb(f,l,l.pendingProps,l.type,void 0,Hr);break;case 11:l=Eb(f,l,l.pendingProps,l.type.render,l.ref,Hr);break;case 5:Ff(l);default:jb(f,l),l=jr=R0(l,Vc),l=Ib(f,l,Vc)}i.memoizedProps=i.pendingProps,l===null?$p(i):jr=l}function Zf(i,l,f,m){Wo=wa=null,Ff(l),Hf=null,yd=0;var w=l.return;try{if(CS(i,w,l,f,Hr)){Zn=1,Mp(i,Ar(f,i.current)),jr=null;return}}catch(N){if(w!==null)throw jr=w,N;Zn=1,Mp(i,Ar(f,i.current)),jr=null;return}l.flags&32768?(Qr||m===1?i=!0:Wf||(Hr&536870912)!==0?i=!1:(Pu=i=!0,(m===2||m===9||m===3||m===6)&&(m=_o.current,m!==null&&m.tag===13&&(m.flags|=16384))),iw(l,i)):$p(l)}function $p(i){var l=i;do{if((l.flags&32768)!==0){iw(l,Pu);return}i=l.return;var f=IS(l.alternate,l,Vc);if(f!==null){jr=f;return}if(l=l.sibling,l!==null){jr=l;return}jr=l=i}while(l!==null);Zn===0&&(Zn=5)}function iw(i,l){do{var f=DS(i.alternate,i);if(f!==null){f.flags&=32767,jr=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(i=i.sibling,i!==null)){jr=i;return}jr=i=f}while(i!==null);Zn=6,jr=null}function ow(i,l,f,m,w,N,Q,me,Ce){i.cancelPendingCommit=null;do Kp();while(ps!==0);if((mn&6)!==0)throw Error(n(327));if(l!==null){if(l===i.current)throw Error(n(177));if(N=l.lanes|l.childLanes,N|=zn,Yr(i,f,N,Q,me,Ce),i===Cn&&(jr=Cn=null,Hr=0),Xf=l,Bu=i,Qf=f,Yx=N,Xx=w,Qb=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,HS(_t,function(){return hw(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=ae.T,ae.T=null,w=le.p,le.p=2,Q=mn,mn|=4;try{jS(i,l,f)}finally{mn=Q,le.p=w,ae.T=m}}ps=1,lw(),cw(),uw()}}function lw(){if(ps===1){ps=0;var i=Bu,l=Xf,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=ae.T,ae.T=null;var m=le.p;le.p=2;var w=mn;mn|=4;try{Hb(l,i);var N=h2,Q=fs(i.containerInfo),me=N.focusedElem,Ce=N.selectionRange;if(Q!==me&&me&&me.ownerDocument&&Cl(me.ownerDocument.documentElement,me)){if(Ce!==null&&Oa(me)){var Ye=Ce.start,it=Ce.end;if(it===void 0&&(it=Ye),"selectionStart"in me)me.selectionStart=Ye,me.selectionEnd=Math.min(it,me.value.length);else{var ht=me.ownerDocument||document,Je=ht&&ht.defaultView||window;if(Je.getSelection){var et=Je.getSelection(),or=me.textContent.length,er=Math.min(Ce.start,or),bn=Ce.end===void 0?er:Math.min(Ce.end,or);!et.extend&&er>bn&&(Q=bn,bn=er,er=Q);var Ve=Uo(me,er),Oe=Uo(me,bn);if(Ve&&Oe&&(et.rangeCount!==1||et.anchorNode!==Ve.node||et.anchorOffset!==Ve.offset||et.focusNode!==Oe.node||et.focusOffset!==Oe.offset)){var He=ht.createRange();He.setStart(Ve.node,Ve.offset),et.removeAllRanges(),er>bn?(et.addRange(He),et.extend(Oe.node,Oe.offset)):(He.setEnd(Oe.node,Oe.offset),et.addRange(He))}}}}for(ht=[],et=me;et=et.parentNode;)et.nodeType===1&&ht.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<ht.length;me++){var lt=ht[me];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}sg=!!f2,h2=f2=null}finally{mn=w,le.p=m,ae.T=f}}i.current=l,ps=2}}function cw(){if(ps===2){ps=0;var i=Bu,l=Xf,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=ae.T,ae.T=null;var m=le.p;le.p=2;var w=mn;mn|=4;try{Ub(i,l.alternate,l)}finally{mn=w,le.p=m,ae.T=f}}ps=3}}function uw(){if(ps===4||ps===3){ps=0,pe();var i=Bu,l=Xf,f=Qf,m=Qb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ps=5:(ps=0,Xf=Bu=null,fw(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(Fu=null),Nn(f),l=l.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(Pt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=ae.T,w=le.p,le.p=2,ae.T=null;try{for(var N=i.onRecoverableError,Q=0;Q<m.length;Q++){var me=m[Q];N(me.value,{componentStack:me.stack})}}finally{ae.T=l,le.p=w}}(Qf&3)!==0&&Kp(),Wl(i),w=i.pendingLanes,(f&4194090)!==0&&(w&42)!==0?i===Qx?Sd++:(Sd=0,Qx=i):Sd=0,Td(0)}}function fw(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,L0(l)))}function Kp(i){return lw(),cw(),uw(),hw()}function hw(){if(ps!==5)return!1;var i=Bu,l=Yx;Yx=0;var f=Nn(Qf),m=ae.T,w=le.p;try{le.p=32>f?32:f,ae.T=null,f=Xx,Xx=null;var N=Bu,Q=Qf;if(ps=0,Xf=Bu=null,Qf=0,(mn&6)!==0)throw Error(n(331));var me=mn;if(mn|=4,Yb(N.current),$b(N,N.current,Q,f),mn=me,Td(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(Pt,N)}catch{}return!0}finally{le.p=w,ae.T=m,fw(i,l)}}function dw(i,l,f){l=Ar(f,l),l=Cx(i.stateNode,l,2),i=ut(i,l,2),i!==null&&(na(i,2),Wl(i))}function An(i,l,f){if(i.tag===3)dw(i,i,f);else for(;l!==null;){if(l.tag===3){dw(l,i,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Fu===null||!Fu.has(m))){i=Ar(f,i),f=xb(2),m=ut(l,f,2),m!==null&&(yb(f,m,l,i),na(m,2),Wl(m));break}}l=l.return}}function t2(i,l,f){var m=i.pingCache;if(m===null){m=i.pingCache=new PS;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(f)||(Gx=!0,w.add(f),i=VS.bind(null,i,l,f),l.then(i,i))}function VS(i,l,f){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,Cn===i&&(Hr&f)===f&&(Zn===4||Zn===3&&(Hr&62914560)===Hr&&300>Ke()-Wx?(mn&2)===0&&Jf(i,0):$x|=f,Yf===Hr&&(Yf=0)),Wl(i)}function mw(i,l){l===0&&(l=on()),i=zo(i,l),i!==null&&(na(i,l),Wl(i))}function zS(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),mw(i,f)}function qS(i,l){var f=0;switch(i.tag){case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(f=w.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(l),mw(i,f)}function HS(i,l){return Te(i,l)}var Wp=null,eh=null,r2=!1,Yp=!1,n2=!1,Y0=0;function Wl(i){i!==eh&&i.next===null&&(eh===null?Wp=eh=i:eh=eh.next=i),Yp=!0,r2||(r2=!0,$S())}function Td(i,l){if(!n2&&Yp){n2=!0;do for(var f=!1,m=Wp;m!==null;){if(i!==0){var w=m.pendingLanes;if(w===0)var N=0;else{var Q=m.suspendedLanes,me=m.pingedLanes;N=(1<<31-It(42|i)+1)-1,N&=w&~(Q&~me),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(f=!0,yw(m,N))}else N=Hr,N=Wr(m,m===Cn?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||ga(m,N)||(f=!0,yw(m,N));m=m.next}while(f);n2=!1}}function GS(){pw()}function pw(){Yp=r2=!1;var i=0;Y0!==0&&(eT()&&(i=Y0),Y0=0);for(var l=Ke(),f=null,m=Wp;m!==null;){var w=m.next,N=gw(m,l);N===0?(m.next=null,f===null?Wp=w:f.next=w,w===null&&(eh=f)):(f=m,(i!==0||(N&3)!==0)&&(Yp=!0)),m=w}Td(i)}function gw(i,l){for(var f=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var Q=31-It(N),me=1<<Q,Ce=w[Q];Ce===-1?((me&f)===0||(me&m)!==0)&&(w[Q]=wr(me,l)):Ce<=l&&(i.expiredLanes|=me),N&=~me}if(l=Cn,f=Hr,f=Wr(i,i===l?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,f===0||i===l&&(pn===2||pn===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Qe(m),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||ga(i,f)){if(l=f&-f,l===i.callbackPriority)return l;switch(m!==null&&Qe(m),Nn(f)){case 2:case 8:f=pt;break;case 32:f=_t;break;case 268435456:f=Dt;break;default:f=_t}return m=xw.bind(null,i),f=Te(f,m),i.callbackPriority=l,i.callbackNode=f,l}return m!==null&&m!==null&&Qe(m),i.callbackPriority=2,i.callbackNode=null,2}function xw(i,l){if(ps!==0&&ps!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(Kp()&&i.callbackNode!==f)return null;var m=Hr;return m=Wr(i,i===Cn?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(Zb(i,m,l),gw(i,Ke()),i.callbackNode!=null&&i.callbackNode===f?xw.bind(null,i):null)}function yw(i,l){if(Kp())return null;Zb(i,l,!0)}function $S(){rT(function(){(mn&6)!==0?Te(st,GS):pw()})}function a2(){return Y0===0&&(Y0=As()),Y0}function vw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Li(""+i)}function bw(i,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,i.id&&f.setAttribute("form",i.id),l.parentNode.insertBefore(f,l),i=new FormData(i),f.parentNode.removeChild(f),i}function KS(i,l,f,m,w){if(l==="submit"&&f&&f.stateNode===w){var N=vw((w[Mr]||null).action),Q=m.submitter;Q&&(l=(l=Q[Mr]||null)?vw(l.formAction):Q.getAttribute("formAction"),l!==null&&(N=l,Q=null));var me=new io("action","action",null,m,w);i.push({event:me,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Y0!==0){var Ce=Q?bw(w,Q):new FormData(w);wo(f,{pending:!0,data:Ce,method:w.method,action:N},null,Ce)}}else typeof N=="function"&&(me.preventDefault(),Ce=Q?bw(w,Q):new FormData(w),wo(f,{pending:!0,data:Ce,method:w.method,action:N},N,Ce))},currentTarget:w}]})}}for(var s2=0;s2<Ec.length;s2++){var i2=Ec[s2],WS=i2.toLowerCase(),YS=i2[0].toUpperCase()+i2.slice(1);On(WS,"on"+YS)}On(bu,"onAnimationEnd"),On(Il,"onAnimationIteration"),On(Dl,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(jl,"onTransitionRun"),On(Ac,"onTransitionStart"),On(wu,"onTransitionCancel"),On(Ll,"onTransitionEnd"),kt("onMouseEnter",["mouseout","mouseover"]),kt("onMouseLeave",["mouseout","mouseover"]),kt("onPointerEnter",["pointerout","pointerover"]),kt("onPointerLeave",["pointerout","pointerover"]),ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function ww(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var m=i[f],w=m.event;m=m.listeners;e:{var N=void 0;if(l)for(var Q=m.length-1;0<=Q;Q--){var me=m[Q],Ce=me.instance,Ye=me.currentTarget;if(me=me.listener,Ce!==N&&w.isPropagationStopped())break e;N=me,w.currentTarget=Ye;try{N(w)}catch(it){Pp(it)}w.currentTarget=null,N=Ce}else for(Q=0;Q<m.length;Q++){if(me=m[Q],Ce=me.instance,Ye=me.currentTarget,me=me.listener,Ce!==N&&w.isPropagationStopped())break e;N=me,w.currentTarget=Ye;try{N(w)}catch(it){Pp(it)}w.currentTarget=null,N=Ce}}}}function Lr(i,l){var f=l[kn];f===void 0&&(f=l[kn]=new Set);var m=i+"__bubble";f.has(m)||(_w(l,i,2,!1),f.add(m))}function o2(i,l,f){var m=0;l&&(m|=4),_w(f,i,m,l)}var Xp="_reactListening"+Math.random().toString(36).slice(2);function l2(i){if(!i[Xp]){i[Xp]=!0,Ge.forEach(function(f){f!=="selectionchange"&&(XS.has(f)||o2(f,!1,i),o2(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Xp]||(l[Xp]=!0,o2("selectionchange",!1,l))}}function _w(i,l,f,m){switch($w(l)){case 2:var w=kT;break;case 8:w=AT;break;default:w=_2}f=w.bind(null,l,f,i),w=void 0,!us||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(l,f,{capture:!0,passive:w}):i.addEventListener(l,f,!0):w!==void 0?i.addEventListener(l,f,{passive:w}):i.addEventListener(l,f,!1)}function c2(i,l,f,m,w){var N=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var Q=m.tag;if(Q===3||Q===4){var me=m.stateNode.containerInfo;if(me===w)break;if(Q===4)for(Q=m.return;Q!==null;){var Ce=Q.tag;if((Ce===3||Ce===4)&&Q.stateNode.containerInfo===w)return;Q=Q.return}for(;me!==null;){if(Q=ke(me),Q===null)return;if(Ce=Q.tag,Ce===5||Ce===6||Ce===26||Ce===27){m=N=Q;continue e}me=me.parentNode}}m=m.return}pu(function(){var Ye=N,it=hn(f),ht=[];e:{var Je=Vo.get(i);if(Je!==void 0){var et=io,or=i;switch(i){case"keypress":if(Ts(f)===0)break e;case"keydown":case"keyup":et=Fi;break;case"focusin":or="focus",et=lo;break;case"focusout":or="blur",et=lo;break;case"beforeblur":case"afterblur":et=lo;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=El;break;case bu:case Il:case Dl:et=_l;break;case Ll:et=re;break;case"scroll":case"scrollend":et=yc;break;case"wheel":et=Re;break;case"copy":case"cut":case"paste":et=kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Bo;break;case"toggle":case"beforetoggle":et=nt}var er=(l&4)!==0,bn=!er&&(i==="scroll"||i==="scrollend"),Ve=er?Je!==null?Je+"Capture":null:Je;er=[];for(var Oe=Ye,He;Oe!==null;){var lt=Oe;if(He=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||He===null||Ve===null||(lt=Ka(Oe,Ve),lt!=null&&er.push(Rd(Oe,lt,He))),bn)break;Oe=Oe.return}0<er.length&&(Je=new et(Je,or,null,f,it),ht.push({event:Je,listeners:er}))}}if((l&7)===0){e:{if(Je=i==="mouseover"||i==="pointerover",et=i==="mouseout"||i==="pointerout",Je&&f!==di&&(or=f.relatedTarget||f.fromElement)&&(ke(or)||or[fn]))break e;if((et||Je)&&(Je=it.window===it?it:(Je=it.ownerDocument)?Je.defaultView||Je.parentWindow:window,et?(or=f.relatedTarget||f.toElement,et=Ye,or=or?ke(or):null,or!==null&&(bn=s(or),er=or.tag,or!==bn||er!==5&&er!==27&&er!==6)&&(or=null)):(et=null,or=Ye),et!==or)){if(er=Yn,lt="onMouseLeave",Ve="onMouseEnter",Oe="mouse",(i==="pointerout"||i==="pointerover")&&(er=Bo,lt="onPointerLeave",Ve="onPointerEnter",Oe="pointer"),bn=et==null?Je:ze(et),He=or==null?Je:ze(or),Je=new er(lt,Oe+"leave",et,f,it),Je.target=bn,Je.relatedTarget=He,lt=null,ke(it)===Ye&&(er=new er(Ve,Oe+"enter",or,f,it),er.target=He,er.relatedTarget=bn,lt=er),bn=lt,et&&or)t:{for(er=et,Ve=or,Oe=0,He=er;He;He=th(He))Oe++;for(He=0,lt=Ve;lt;lt=th(lt))He++;for(;0<Oe-He;)er=th(er),Oe--;for(;0<He-Oe;)Ve=th(Ve),He--;for(;Oe--;){if(er===Ve||Ve!==null&&er===Ve.alternate)break t;er=th(er),Ve=th(Ve)}er=null}else er=null;et!==null&&kw(ht,Je,et,er,!1),or!==null&&bn!==null&&kw(ht,bn,or,er,!0)}}e:{if(Je=Ye?ze(Ye):window,et=Je.nodeName&&Je.nodeName.toLowerCase(),et==="select"||et==="input"&&Je.type==="file")var Vt=yu;else if(ln(Je))if(bc)Vt=Rf;else{Vt=rd;var Ir=Rs}else et=Je.nodeName,!et||et.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Ye&&gc(Ye.elementType)&&(Vt=yu):Vt=T0;if(Vt&&(Vt=Vt(i,Ye))){vi(ht,Vt,f,it);break e}Ir&&Ir(i,Je,Ye),i==="focusout"&&Ye&&Je.type==="number"&&Ye.memoizedProps.value!=null&&no(Je,"number",Je.value)}switch(Ir=Ye?ze(Ye):window,i){case"focusin":(ln(Ir)||Ir.contentEditable==="true")&&(Is=Ir,Bi=Ye,mo=null);break;case"focusout":mo=Bi=Is=null;break;case"mousedown":Ui=!0;break;case"contextmenu":case"mouseup":case"dragend":Ui=!1,Ln(ht,f,it);break;case"selectionchange":if(Rl)break;case"keydown":case"keyup":Ln(ht,f,it)}var Kt;if(Nt)e:{switch(i){case"compositionstart":var tr="onCompositionStart";break e;case"compositionend":tr="onCompositionEnd";break e;case"compositionupdate":tr="onCompositionUpdate";break e}tr=void 0}else Zt?We(i,f)&&(tr="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(tr="onCompositionStart");tr&&(q&&f.locale!=="ko"&&(Zt||tr!=="onCompositionStart"?tr==="onCompositionEnd"&&Zt&&(Kt=xc()):(Ss=it,so="value"in Ss?Ss.value:Ss.textContent,Zt=!0)),Ir=Qp(Ye,tr),0<Ir.length&&(tr=new Po(tr,i,null,f,it),ht.push({event:tr,listeners:Ir}),Kt?tr.data=Kt:(Kt=yt(f),Kt!==null&&(tr.data=Kt)))),(Kt=F?Rr(i,f):cr(i,f))&&(tr=Qp(Ye,"onBeforeInput"),0<tr.length&&(Ir=new Po("onBeforeInput","beforeinput",null,f,it),ht.push({event:Ir,listeners:tr}),Ir.data=Kt)),KS(ht,i,Ye,f,it)}ww(ht,l)})}function Rd(i,l,f){return{instance:i,listener:l,currentTarget:f}}function Qp(i,l){for(var f=l+"Capture",m=[];i!==null;){var w=i,N=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||N===null||(w=Ka(i,f),w!=null&&m.unshift(Rd(i,w,N)),w=Ka(i,l),w!=null&&m.push(Rd(i,w,N))),i.tag===3)return m;i=i.return}return[]}function th(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function kw(i,l,f,m,w){for(var N=l._reactName,Q=[];f!==null&&f!==m;){var me=f,Ce=me.alternate,Ye=me.stateNode;if(me=me.tag,Ce!==null&&Ce===m)break;me!==5&&me!==26&&me!==27||Ye===null||(Ce=Ye,w?(Ye=Ka(f,N),Ye!=null&&Q.unshift(Rd(f,Ye,Ce))):w||(Ye=Ka(f,N),Ye!=null&&Q.push(Rd(f,Ye,Ce)))),f=f.return}Q.length!==0&&i.push({event:l,listeners:Q})}var QS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function Aw(i){return(typeof i=="string"?i:""+i).replace(QS,`
`).replace(JS,"")}function Ew(i,l){return l=Aw(l),Aw(i)===l}function Jp(){}function vn(i,l,f,m,w,N){switch(f){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Es(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Es(i,""+m);break;case"className":kr(i,"class",m);break;case"tabIndex":kr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(i,f,m);break;case"style":pc(i,m,N);break;case"data":if(l!=="object"){kr(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||f!=="href")){i.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=Li(""+m),i.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(f==="formAction"?(l!=="input"&&vn(i,l,"name",w.name,w,null),vn(i,l,"formEncType",w.formEncType,w,null),vn(i,l,"formMethod",w.formMethod,w,null),vn(i,l,"formTarget",w.formTarget,w,null)):(vn(i,l,"encType",w.encType,w,null),vn(i,l,"method",w.method,w,null),vn(i,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=Li(""+m),i.setAttribute(f,m);break;case"onClick":m!=null&&(i.onclick=Jp);break;case"onScroll":m!=null&&Lr("scroll",i);break;case"onScrollEnd":m!=null&&Lr("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(n(60));i.innerHTML=f}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}f=Li(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""+m):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":m===!0?i.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,m):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(f,m):i.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(f):i.setAttribute(f,m);break;case"popover":Lr("beforetoggle",i),Lr("toggle",i),_r(i,"popover",m);break;case"xlinkActuate":Tr(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Tr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Tr(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Tr(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Tr(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Tr(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Tr(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Tr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Tr(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_r(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=ji.get(f)||f,_r(i,f,m))}}function u2(i,l,f,m,w,N){switch(f){case"style":pc(i,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(f=m.__html,f!=null){if(w.children!=null)throw Error(n(60));i.innerHTML=f}}break;case"children":typeof m=="string"?Es(i,m):(typeof m=="number"||typeof m=="bigint")&&Es(i,""+m);break;case"onScroll":m!=null&&Lr("scroll",i);break;case"onScrollEnd":m!=null&&Lr("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Jp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xe.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),l=f.slice(2,w?f.length-7:void 0),N=i[Mr]||null,N=N!=null?N[f]:null,typeof N=="function"&&i.removeEventListener(l,N,w),typeof m=="function")){typeof N!="function"&&N!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(l,m,w);break e}f in i?i[f]=m:m===!0?i.setAttribute(f,""):_r(i,f,m)}}}function gs(i,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lr("error",i),Lr("load",i);var m=!1,w=!1,N;for(N in f)if(f.hasOwnProperty(N)){var Q=f[N];if(Q!=null)switch(N){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:vn(i,l,N,Q,f,null)}}w&&vn(i,l,"srcSet",f.srcSet,f,null),m&&vn(i,l,"src",f.src,f,null);return;case"input":Lr("invalid",i);var me=N=Q=w=null,Ce=null,Ye=null;for(m in f)if(f.hasOwnProperty(m)){var it=f[m];if(it!=null)switch(m){case"name":w=it;break;case"type":Q=it;break;case"checked":Ce=it;break;case"defaultChecked":Ye=it;break;case"value":N=it;break;case"defaultValue":me=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,l));break;default:vn(i,l,m,it,f,null)}}ro(i,N,me,Ce,Ye,Q,w,!1),to(i);return;case"select":Lr("invalid",i),m=Q=N=null;for(w in f)if(f.hasOwnProperty(w)&&(me=f[w],me!=null))switch(w){case"value":N=me;break;case"defaultValue":Q=me;break;case"multiple":m=me;default:vn(i,l,w,me,f,null)}l=N,f=Q,i.multiple=!!m,l!=null?hi(i,!!m,l,!1):f!=null&&hi(i,!!m,f,!0);return;case"textarea":Lr("invalid",i),N=w=m=null;for(Q in f)if(f.hasOwnProperty(Q)&&(me=f[Q],me!=null))switch(Q){case"value":m=me;break;case"defaultValue":w=me;break;case"children":N=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(91));break;default:vn(i,l,Q,me,f,null)}ao(i,m,w,N),to(i);return;case"option":for(Ce in f)if(f.hasOwnProperty(Ce)&&(m=f[Ce],m!=null))switch(Ce){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:vn(i,l,Ce,m,f,null)}return;case"dialog":Lr("beforetoggle",i),Lr("toggle",i),Lr("cancel",i),Lr("close",i);break;case"iframe":case"object":Lr("load",i);break;case"video":case"audio":for(m=0;m<Cd.length;m++)Lr(Cd[m],i);break;case"image":Lr("error",i),Lr("load",i);break;case"details":Lr("toggle",i);break;case"embed":case"source":case"link":Lr("error",i),Lr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ye in f)if(f.hasOwnProperty(Ye)&&(m=f[Ye],m!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:vn(i,l,Ye,m,f,null)}return;default:if(gc(l)){for(it in f)f.hasOwnProperty(it)&&(m=f[it],m!==void 0&&u2(i,l,it,m,f,void 0));return}}for(me in f)f.hasOwnProperty(me)&&(m=f[me],m!=null&&vn(i,l,me,m,f,null))}function ZS(i,l,f,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,N=null,Q=null,me=null,Ce=null,Ye=null,it=null;for(et in f){var ht=f[et];if(f.hasOwnProperty(et)&&ht!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":Ce=ht;default:m.hasOwnProperty(et)||vn(i,l,et,null,m,ht)}}for(var Je in m){var et=m[Je];if(ht=f[Je],m.hasOwnProperty(Je)&&(et!=null||ht!=null))switch(Je){case"type":N=et;break;case"name":w=et;break;case"checked":Ye=et;break;case"defaultChecked":it=et;break;case"value":Q=et;break;case"defaultValue":me=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,l));break;default:et!==ht&&vn(i,l,Je,et,m,ht)}}ja(i,Q,me,Ce,Ye,it,N,w);return;case"select":et=Q=me=Je=null;for(N in f)if(Ce=f[N],f.hasOwnProperty(N)&&Ce!=null)switch(N){case"value":break;case"multiple":et=Ce;default:m.hasOwnProperty(N)||vn(i,l,N,null,m,Ce)}for(w in m)if(N=m[w],Ce=f[w],m.hasOwnProperty(w)&&(N!=null||Ce!=null))switch(w){case"value":Je=N;break;case"defaultValue":me=N;break;case"multiple":Q=N;default:N!==Ce&&vn(i,l,w,N,m,Ce)}l=me,f=Q,m=et,Je!=null?hi(i,!!f,Je,!1):!!m!=!!f&&(l!=null?hi(i,!!f,l,!0):hi(i,!!f,f?[]:"",!1));return;case"textarea":et=Je=null;for(me in f)if(w=f[me],f.hasOwnProperty(me)&&w!=null&&!m.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:vn(i,l,me,null,m,w)}for(Q in m)if(w=m[Q],N=f[Q],m.hasOwnProperty(Q)&&(w!=null||N!=null))switch(Q){case"value":Je=w;break;case"defaultValue":et=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==N&&vn(i,l,Q,w,m,N)}Zr(i,Je,et);return;case"option":for(var or in f)if(Je=f[or],f.hasOwnProperty(or)&&Je!=null&&!m.hasOwnProperty(or))switch(or){case"selected":i.selected=!1;break;default:vn(i,l,or,null,m,Je)}for(Ce in m)if(Je=m[Ce],et=f[Ce],m.hasOwnProperty(Ce)&&Je!==et&&(Je!=null||et!=null))switch(Ce){case"selected":i.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:vn(i,l,Ce,Je,m,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var er in f)Je=f[er],f.hasOwnProperty(er)&&Je!=null&&!m.hasOwnProperty(er)&&vn(i,l,er,null,m,Je);for(Ye in m)if(Je=m[Ye],et=f[Ye],m.hasOwnProperty(Ye)&&Je!==et&&(Je!=null||et!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,l));break;default:vn(i,l,Ye,Je,m,et)}return;default:if(gc(l)){for(var bn in f)Je=f[bn],f.hasOwnProperty(bn)&&Je!==void 0&&!m.hasOwnProperty(bn)&&u2(i,l,bn,void 0,m,Je);for(it in m)Je=m[it],et=f[it],!m.hasOwnProperty(it)||Je===et||Je===void 0&&et===void 0||u2(i,l,it,Je,m,et);return}}for(var Ve in f)Je=f[Ve],f.hasOwnProperty(Ve)&&Je!=null&&!m.hasOwnProperty(Ve)&&vn(i,l,Ve,null,m,Je);for(ht in m)Je=m[ht],et=f[ht],!m.hasOwnProperty(ht)||Je===et||Je==null&&et==null||vn(i,l,ht,Je,m,et)}var f2=null,h2=null;function Zp(i){return i.nodeType===9?i:i.ownerDocument}function Nw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sw(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function d2(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var m2=null;function eT(){var i=window.event;return i&&i.type==="popstate"?i===m2?!1:(m2=i,!0):(m2=null,!1)}var Tw=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,Cw=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof Cw<"u"?function(i){return Cw.resolve(null).then(i).catch(nT)}:Tw;function nT(i){setTimeout(function(){throw i})}function Vu(i){return i==="head"}function Rw(i,l){var f=l,m=0,w=0;do{var N=f.nextSibling;if(i.removeChild(f),N&&N.nodeType===8)if(f=N.data,f==="/$"){if(0<m&&8>m){f=m;var Q=i.ownerDocument;if(f&1&&Id(Q.documentElement),f&2&&Id(Q.body),f&4)for(f=Q.head,Id(f),Q=f.firstChild;Q;){var me=Q.nextSibling,Ce=Q.nodeName;Q[ye]||Ce==="SCRIPT"||Ce==="STYLE"||Ce==="LINK"&&Q.rel.toLowerCase()==="stylesheet"||f.removeChild(Q),Q=me}}if(w===0){i.removeChild(N),Bd(l);return}w--}else f==="$"||f==="$?"||f==="$!"?w++:m=f.charCodeAt(0)-48;else m=0;f=N}while(f);Bd(l)}function p2(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":p2(f),ve(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function aT(i,l,f,m){for(;i.nodeType===1;){var w=f;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ye])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var N=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=tl(i.nextSibling),i===null)break}return null}function sT(i,l,f){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=tl(i.nextSibling),i===null))return null;return i}function g2(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iT(i,l){var f=i.ownerDocument;if(i.data!=="$?"||f.readyState==="complete")l();else{var m=function(){l(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function tl(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var x2=null;function Iw(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}function Dw(i,l,f){switch(l=Zp(f),i){case"html":if(i=l.documentElement,!i)throw Error(n(452));return i;case"head":if(i=l.head,!i)throw Error(n(453));return i;case"body":if(i=l.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Id(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);ve(i)}var Ao=new Map,jw=new Set;function eg(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var zc=le.d;le.d={f:oT,r:lT,D:cT,C:uT,L:fT,m:hT,X:mT,S:dT,M:pT};function oT(){var i=zc.f(),l=Gp();return i||l}function lT(i){var l=Ee(i);l!==null&&l.tag===5&&l.type==="form"?H0(l):zc.r(i)}var rh=typeof document>"u"?null:document;function Lw(i,l,f){var m=rh;if(m&&typeof l=="string"&&l){var w=Fr(l);w='link[rel="'+i+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),jw.has(w)||(jw.add(w),i={rel:i,crossOrigin:f,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),gs(l,"link",i),Fe(l),m.head.appendChild(l)))}}function cT(i){zc.D(i),Lw("dns-prefetch",i,null)}function uT(i,l){zc.C(i,l),Lw("preconnect",i,l)}function fT(i,l,f){zc.L(i,l,f);var m=rh;if(m&&i&&l){var w='link[rel="preload"][as="'+Fr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Fr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Fr(f.imageSizes)+'"]')):w+='[href="'+Fr(i)+'"]';var N=w;switch(l){case"style":N=nh(i);break;case"script":N=ah(i)}Ao.has(N)||(i=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:i,as:l},f),Ao.set(N,i),m.querySelector(w)!==null||l==="style"&&m.querySelector(Dd(N))||l==="script"&&m.querySelector(jd(N))||(l=m.createElement("link"),gs(l,"link",i),Fe(l),m.head.appendChild(l)))}}function hT(i,l){zc.m(i,l);var f=rh;if(f&&i){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Fr(m)+'"][href="'+Fr(i)+'"]',N=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=ah(i)}if(!Ao.has(N)&&(i=p({rel:"modulepreload",href:i},l),Ao.set(N,i),f.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(jd(N)))return}m=f.createElement("link"),gs(m,"link",i),Fe(m),f.head.appendChild(m)}}}function dT(i,l,f){zc.S(i,l,f);var m=rh;if(m&&i){var w=Ze(m).hoistableStyles,N=nh(i);l=l||"default";var Q=w.get(N);if(!Q){var me={loading:0,preload:null};if(Q=m.querySelector(Dd(N)))me.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":l},f),(f=Ao.get(N))&&y2(i,f);var Ce=Q=m.createElement("link");Fe(Ce),gs(Ce,"link",i),Ce._p=new Promise(function(Ye,it){Ce.onload=Ye,Ce.onerror=it}),Ce.addEventListener("load",function(){me.loading|=1}),Ce.addEventListener("error",function(){me.loading|=2}),me.loading|=4,tg(Q,l,m)}Q={type:"stylesheet",instance:Q,count:1,state:me},w.set(N,Q)}}}function mT(i,l){zc.X(i,l);var f=rh;if(f&&i){var m=Ze(f).hoistableScripts,w=ah(i),N=m.get(w);N||(N=f.querySelector(jd(w)),N||(i=p({src:i,async:!0},l),(l=Ao.get(w))&&v2(i,l),N=f.createElement("script"),Fe(N),gs(N,"link",i),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(w,N))}}function pT(i,l){zc.M(i,l);var f=rh;if(f&&i){var m=Ze(f).hoistableScripts,w=ah(i),N=m.get(w);N||(N=f.querySelector(jd(w)),N||(i=p({src:i,async:!0,type:"module"},l),(l=Ao.get(w))&&v2(i,l),N=f.createElement("script"),Fe(N),gs(N,"link",i),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(w,N))}}function Ow(i,l,f,m){var w=(w=Z.current)?eg(w):null;if(!w)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=nh(f.href),f=Ze(w).hoistableStyles,m=f.get(l),m||(m={type:"style",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=nh(f.href);var N=Ze(w).hoistableStyles,Q=N.get(i);if(Q||(w=w.ownerDocument||w,Q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,Q),(N=w.querySelector(Dd(i)))&&!N._p&&(Q.instance=N,Q.state.loading=5),Ao.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ao.set(i,f),N||gT(w,i,f,Q.state))),l&&m===null)throw Error(n(528,""));return Q}if(l&&m!==null)throw Error(n(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=ah(f),f=Ze(w).hoistableScripts,m=f.get(l),m||(m={type:"script",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function nh(i){return'href="'+Fr(i)+'"'}function Dd(i){return'link[rel="stylesheet"]['+i+"]"}function Pw(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function gT(i,l,f,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),gs(l,"link",f),Fe(l),i.head.appendChild(l))}function ah(i){return'[src="'+Fr(i)+'"]'}function jd(i){return"script[async]"+i}function Mw(i,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Fr(f.href)+'"]');if(m)return l.instance=m,Fe(m),m;var w=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Fe(m),gs(m,"style",w),tg(m,f.precedence,i),l.instance=m;case"stylesheet":w=nh(f.href);var N=i.querySelector(Dd(w));if(N)return l.state.loading|=4,l.instance=N,Fe(N),N;m=Pw(f),(w=Ao.get(w))&&y2(m,w),N=(i.ownerDocument||i).createElement("link"),Fe(N);var Q=N;return Q._p=new Promise(function(me,Ce){Q.onload=me,Q.onerror=Ce}),gs(N,"link",m),l.state.loading|=4,tg(N,f.precedence,i),l.instance=N;case"script":return N=ah(f.src),(w=i.querySelector(jd(N)))?(l.instance=w,Fe(w),w):(m=f,(w=Ao.get(N))&&(m=p({},f),v2(m,w)),i=i.ownerDocument||i,w=i.createElement("script"),Fe(w),gs(w,"link",m),i.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,tg(m,f.precedence,i));return l.instance}function tg(i,l,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,N=w,Q=0;Q<m.length;Q++){var me=m[Q];if(me.dataset.precedence===l)N=me;else if(N!==w)break}N?N.parentNode.insertBefore(i,N.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(i,l.firstChild))}function y2(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function v2(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var rg=null;function Fw(i,l,f){if(rg===null){var m=new Map,w=rg=new Map;w.set(f,m)}else w=rg,m=w.get(f),m||(m=new Map,w.set(f,m));if(m.has(i))return m;for(m.set(i,null),f=f.getElementsByTagName(i),w=0;w<f.length;w++){var N=f[w];if(!(N[ye]||N[Xr]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var Q=N.getAttribute(l)||"";Q=i+Q;var me=m.get(Q);me?me.push(N):m.set(Q,[N])}}return m}function Bw(i,l,f){i=i.ownerDocument||i,i.head.insertBefore(f,l==="title"?i.querySelector("head > title"):null)}function xT(i,l,f){if(f===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Uw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ld=null;function yT(){}function vT(i,l,f){if(Ld===null)throw Error(n(475));var m=Ld;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var w=nh(f.href),N=i.querySelector(Dd(w));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=ng.bind(m),i.then(m,m)),l.state.loading|=4,l.instance=N,Fe(N);return}N=i.ownerDocument||i,f=Pw(f),(w=Ao.get(w))&&y2(f,w),N=N.createElement("link"),Fe(N);var Q=N;Q._p=new Promise(function(me,Ce){Q.onload=me,Q.onerror=Ce}),gs(N,"link",f),l.instance=N}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=ng.bind(m),i.addEventListener("load",l),i.addEventListener("error",l))}}function bT(){if(Ld===null)throw Error(n(475));var i=Ld;return i.stylesheets&&i.count===0&&b2(i,i.stylesheets),0<i.count?function(l){var f=setTimeout(function(){if(i.stylesheets&&b2(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f)}}:null}function ng(){if(this.count--,this.count===0){if(this.stylesheets)b2(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ag=null;function b2(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ag=new Map,l.forEach(wT,i),ag=null,ng.call(i))}function wT(i,l){if(!(l.state.loading&4)){var f=ag.get(i);if(f)var m=f.get(null);else{f=new Map,ag.set(i,f);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<w.length;N++){var Q=w[N];(Q.nodeName==="LINK"||Q.getAttribute("media")!=="not all")&&(f.set(Q.dataset.precedence,Q),m=Q)}m&&f.set(null,m)}w=l.instance,Q=w.getAttribute("data-precedence"),N=f.get(Q)||m,N===m&&f.set(null,w),f.set(Q,w),this.count++,m=ng.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),N?N.parentNode.insertBefore(w,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),l.state.loading|=4}}var Od={$$typeof:M,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function _T(i,l,f,m,w,N,Q,me){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Un(0),this.hiddenUpdates=Un(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=N,this.onRecoverableError=Q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function Vw(i,l,f,m,w,N,Q,me,Ce,Ye,it,ht){return i=new _T(i,l,f,Q,me,Ce,Ye,ht),l=1,N===!0&&(l|=24),N=Qa(3,null,null,l),i.current=N,N.stateNode=i,l=ad(),l.refCount++,i.pooledCache=l,l.refCount++,N.memoizedState={element:m,isDehydrated:f,cache:l},De(N),i}function zw(i){return i?(i=ba,i):ba}function qw(i,l,f,m,w,N){w=zw(w),m.context===null?m.context=w:m.pendingContext=w,m=at(l),m.payload={element:f},N=N===void 0?null:N,N!==null&&(m.callback=N),f=ut(i,m,l),f!==null&&(Wi(f,i,l),ot(f,i,l))}function Hw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function w2(i,l){Hw(i,l),(i=i.alternate)&&Hw(i,l)}function Gw(i){if(i.tag===13){var l=zo(i,67108864);l!==null&&Wi(l,i,67108864),w2(i,67108864)}}var sg=!0;function kT(i,l,f,m){var w=ae.T;ae.T=null;var N=le.p;try{le.p=2,_2(i,l,f,m)}finally{le.p=N,ae.T=w}}function AT(i,l,f,m){var w=ae.T;ae.T=null;var N=le.p;try{le.p=8,_2(i,l,f,m)}finally{le.p=N,ae.T=w}}function _2(i,l,f,m){if(sg){var w=k2(m);if(w===null)c2(i,l,m,ig,f),Kw(i,m);else if(NT(w,i,l,f,m))m.stopPropagation();else if(Kw(i,m),l&4&&-1<ET.indexOf(i)){for(;w!==null;){var N=Ee(w);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var Q=gr(N.pendingLanes);if(Q!==0){var me=N;for(me.pendingLanes|=2,me.entangledLanes|=2;Q;){var Ce=1<<31-It(Q);me.entanglements[1]|=Ce,Q&=~Ce}Wl(N),(mn&6)===0&&(qp=Ke()+500,Td(0))}}break;case 13:me=zo(N,2),me!==null&&Wi(me,N,2),Gp(),w2(N,2)}if(N=k2(m),N===null&&c2(i,l,m,ig,f),N===w)break;w=N}w!==null&&m.stopPropagation()}else c2(i,l,m,null,f)}}function k2(i){return i=hn(i),A2(i)}var ig=null;function A2(i){if(ig=null,i=ke(i),i!==null){var l=s(i);if(l===null)i=null;else{var f=l.tag;if(f===13){if(i=o(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return ig=i,null}function $w(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case st:return 2;case pt:return 8;case _t:case bt:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var E2=!1,zu=null,qu=null,Hu=null,Pd=new Map,Md=new Map,Gu=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kw(i,l){switch(i){case"focusin":case"focusout":zu=null;break;case"dragenter":case"dragleave":qu=null;break;case"mouseover":case"mouseout":Hu=null;break;case"pointerover":case"pointerout":Pd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Md.delete(l.pointerId)}}function Fd(i,l,f,m,w,N){return i===null||i.nativeEvent!==N?(i={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:N,targetContainers:[w]},l!==null&&(l=Ee(l),l!==null&&Gw(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),i)}function NT(i,l,f,m,w){switch(l){case"focusin":return zu=Fd(zu,i,l,f,m,w),!0;case"dragenter":return qu=Fd(qu,i,l,f,m,w),!0;case"mouseover":return Hu=Fd(Hu,i,l,f,m,w),!0;case"pointerover":var N=w.pointerId;return Pd.set(N,Fd(Pd.get(N)||null,i,l,f,m,w)),!0;case"gotpointercapture":return N=w.pointerId,Md.set(N,Fd(Md.get(N)||null,i,l,f,m,w)),!0}return!1}function Ww(i){var l=ke(i.target);if(l!==null){var f=s(l);if(f!==null){if(l=f.tag,l===13){if(l=o(f),l!==null){i.blockedOn=l,ls(i.priority,function(){if(f.tag===13){var m=Ki();m=Ga(m);var w=zo(f,m);w!==null&&Wi(w,f,m),w2(f,m)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function og(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=k2(i.nativeEvent);if(f===null){f=i.nativeEvent;var m=new f.constructor(f.type,f);di=m,f.target.dispatchEvent(m),di=null}else return l=Ee(f),l!==null&&Gw(l),i.blockedOn=f,!1;l.shift()}return!0}function Yw(i,l,f){og(i)&&f.delete(l)}function ST(){E2=!1,zu!==null&&og(zu)&&(zu=null),qu!==null&&og(qu)&&(qu=null),Hu!==null&&og(Hu)&&(Hu=null),Pd.forEach(Yw),Md.forEach(Yw)}function lg(i,l){i.blockedOn===l&&(i.blockedOn=null,E2||(E2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ST)))}var cg=null;function Xw(i){cg!==i&&(cg=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cg===i&&(cg=null);for(var l=0;l<i.length;l+=3){var f=i[l],m=i[l+1],w=i[l+2];if(typeof m!="function"){if(A2(m||f)===null)continue;break}var N=Ee(f);N!==null&&(i.splice(l,3),l-=3,wo(N,{pending:!0,data:w,method:f.method,action:m},m,w))}}))}function Bd(i){function l(Ce){return lg(Ce,i)}zu!==null&&lg(zu,i),qu!==null&&lg(qu,i),Hu!==null&&lg(Hu,i),Pd.forEach(l),Md.forEach(l);for(var f=0;f<Gu.length;f++){var m=Gu[f];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Gu.length&&(f=Gu[0],f.blockedOn===null);)Ww(f),f.blockedOn===null&&Gu.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var w=f[m],N=f[m+1],Q=w[Mr]||null;if(typeof N=="function")Q||Xw(f);else if(Q){var me=null;if(N&&N.hasAttribute("formAction")){if(w=N,Q=N[Mr]||null)me=Q.formAction;else if(A2(w)!==null)continue}else me=Q.action;typeof me=="function"?f[m+1]=me:(f.splice(m,3),m-=3),Xw(f)}}}function N2(i){this._internalRoot=i}ug.prototype.render=N2.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));var f=l.current,m=Ki();qw(f,m,i,l,null,null)},ug.prototype.unmount=N2.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;qw(i.current,2,null,i,null,null),Gp(),l[fn]=null}};function ug(i){this._internalRoot=i}ug.prototype.unstable_scheduleHydration=function(i){if(i){var l=aa();i={blockedOn:null,target:i,priority:l};for(var f=0;f<Gu.length&&l!==0&&l<Gu[f].priority;f++);Gu.splice(f,0,i),f===0&&Ww(i)}};var Qw=e.version;if(Qw!=="19.1.0")throw Error(n(527,Qw,"19.1.0"));le.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(l),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var TT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fg.isDisabled&&fg.supportsFiber)try{Pt=fg.inject(TT),Mt=fg}catch{}}return Vd.createRoot=function(i,l){if(!a(i))throw Error(n(299));var f=!1,m="",w=db,N=mb,Q=pb,me=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(me=l.unstable_transitionCallbacks)),l=Vw(i,1,!1,null,null,f,m,w,N,Q,me,null),i[fn]=l.current,l2(i),new N2(l)},Vd.hydrateRoot=function(i,l,f){if(!a(i))throw Error(n(299));var m=!1,w="",N=db,Q=mb,me=pb,Ce=null,Ye=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(N=f.onUncaughtError),f.onCaughtError!==void 0&&(Q=f.onCaughtError),f.onRecoverableError!==void 0&&(me=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Ce=f.unstable_transitionCallbacks),f.formState!==void 0&&(Ye=f.formState)),l=Vw(i,1,!0,l,f??null,m,w,N,Q,me,Ce,Ye),l.context=zw(null),f=l.current,m=Ki(),m=Ga(m),w=at(m),w.callback=null,ut(f,w,m),f=m,l.current.lanes=f,na(l,f),Wl(l),i[fn]=l.current,l2(i),new ug(l)},Vd.version="19.1.0",Vd}var o_;function MT(){if(o_)return C2.exports;o_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),C2.exports=PT(),C2.exports}var FT=MT(),zd={},l_;function BT(){if(l_)return zd;l_=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.parse=o,zd.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function o(v,b){const A=new s,k=v.length;if(k<2)return A;const E=(b==null?void 0:b.decode)||p;let S=0;do{const j=v.indexOf("=",S);if(j===-1)break;const M=v.indexOf(";",S),H=M===-1?k:M;if(j>H){S=v.lastIndexOf(";",j-1)+1;continue}const K=c(v,S,j),X=h(v,j,K),P=v.slice(K,X);if(A[P]===void 0){let D=c(v,j+1,H),I=h(v,H,D);const U=E(v.slice(D,I));A[P]=U}S=H+1}while(S<k);return A}function c(v,b,A){do{const k=v.charCodeAt(b);if(k!==32&&k!==9)return b}while(++b<A);return A}function h(v,b,A){for(;b>A;){const k=v.charCodeAt(--b);if(k!==32&&k!==9)return b+1}return A}function d(v,b,A){const k=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const E=k(b);if(!e.test(E))throw new TypeError(`argument val is invalid: ${b}`);let S=v+"="+E;if(!A)return S;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);S+="; Max-Age="+A.maxAge}if(A.domain){if(!r.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);S+="; Domain="+A.domain}if(A.path){if(!n.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);S+="; Path="+A.path}if(A.expires){if(!y(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);S+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(S+="; HttpOnly"),A.secure&&(S+="; Secure"),A.partitioned&&(S+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return S}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return a.call(v)==="[object Date]"}return zd}BT();var c_="popstate";function UT(t={}){function e(a,s){let{pathname:o="/",search:c="",hash:h=""}=bf(a.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),my("",{pathname:o,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let o=a.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let h=a.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof s=="string"?s:vm(s))}function n(a,s){Ro(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return zT(e,r,n,t)}function Bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ro(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VT(){return Math.random().toString(36).substring(2,10)}function u_(t,e){return{usr:t.state,key:t.key,idx:e}}function my(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bf(e):e,state:r,key:e&&e.key||n||VT()}}function vm({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function zT(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,c="POP",h=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function y(){c="POP";let E=p(),S=E==null?null:E-d;d=E,h&&h({action:c,location:k.location,delta:S})}function v(E,S){c="PUSH";let j=my(k.location,E,S);r&&r(j,E),d=p()+1;let M=u_(j,d),H=k.createHref(j);try{o.pushState(M,"",H)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;a.location.assign(H)}s&&h&&h({action:c,location:k.location,delta:1})}function b(E,S){c="REPLACE";let j=my(k.location,E,S);r&&r(j,E),d=p();let M=u_(j,d),H=k.createHref(j);o.replaceState(M,"",H),s&&h&&h({action:c,location:k.location,delta:0})}function A(E){return qT(E)}let k={get action(){return c},get location(){return t(a,o)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(c_,y),h=E,()=>{a.removeEventListener(c_,y),h=null}},createHref(E){return e(a,E)},createURL:A,encodeLocation(E){let S=A(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:b,go(E){return o.go(E)}};return k}function qT(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Bn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:vm(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Ak(t,e,r="/"){return HT(t,e,r,!1)}function HT(t,e,r,n){let a=typeof e=="string"?bf(e):e,s=ru(a.pathname||"/",r);if(s==null)return null;let o=Ek(t);GT(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let d=r8(s);c=e8(o[h],d,n)}return c}function Ek(t,e=[],r=[],n=""){let a=(s,o,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};h.relativePath.startsWith("/")&&(Bn(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=Wc([n,h.relativePath]),p=r.concat(h);s.children&&s.children.length>0&&(Bn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Ek(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:JT(d,s.index),routesMeta:p})};return t.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,o);else for(let h of Nk(s.path))a(s,o,h)}),e}function Nk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=Nk(n.join("/")),c=[];return c.push(...o.map(h=>h===""?s:[s,h].join("/"))),a&&c.push(...o),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function GT(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ZT(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var $T=/^:[\w-]+$/,KT=3,WT=2,YT=1,XT=10,QT=-2,f_=t=>t==="*";function JT(t,e){let r=t.split("/"),n=r.length;return r.some(f_)&&(n+=QT),e&&(n+=WT),r.filter(a=>!f_(a)).reduce((a,s)=>a+($T.test(s)?KT:s===""?YT:XT),n)}function ZT(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function e8(t,e,r=!1){let{routesMeta:n}=t,a={},s="/",o=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",y=Jg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),v=h.route;if(!y&&d&&r&&!n[n.length-1].route.index&&(y=Jg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(a,y.params),o.push({params:a,pathname:Wc([s,y.pathname]),pathnameBase:i8(Wc([s,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(s=Wc([s,y.pathnameBase]))}return o}function Jg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=t8(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:y},v)=>{if(p==="*"){let A=c[v]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const b=c[v];return y&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function t8(t,e=!1,r=!0){Ro(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function r8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ro(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ru(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function n8(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?bf(t):t;return{pathname:r?r.startsWith("/")?r:a8(r,e):e,search:o8(n),hash:l8(a)}}function a8(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function j2(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s8(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function yv(t){let e=s8(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function vv(t,e,r,n=!1){let a;typeof t=="string"?a=bf(t):(a={...t},Bn(!a.pathname||!a.pathname.includes("?"),j2("?","pathname","search",a)),Bn(!a.pathname||!a.pathname.includes("#"),j2("#","pathname","hash",a)),Bn(!a.search||!a.search.includes("#"),j2("#","search","hash",a)));let s=t===""||a.pathname==="",o=s?"/":a.pathname,c;if(o==null)c=r;else{let y=e.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}c=y>=0?e[y]:"/"}let h=n8(a,c),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var Wc=t=>t.join("/").replace(/\/\/+/g,"/"),i8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function c8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Sk=["POST","PUT","PATCH","DELETE"];new Set(Sk);var u8=["GET",...Sk];new Set(u8);var qh=be.createContext(null);qh.displayName="DataRouter";var O1=be.createContext(null);O1.displayName="DataRouterState";var Tk=be.createContext({isTransitioning:!1});Tk.displayName="ViewTransition";var f8=be.createContext(new Map);f8.displayName="Fetchers";var h8=be.createContext(null);h8.displayName="Await";var gl=be.createContext(null);gl.displayName="Navigation";var qm=be.createContext(null);qm.displayName="Location";var cc=be.createContext({outlet:null,matches:[],isDataRoute:!1});cc.displayName="Route";var bv=be.createContext(null);bv.displayName="RouteError";function d8(t,{relative:e}={}){Bn(Hh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=be.useContext(gl),{hash:a,pathname:s,search:o}=Hm(t,{relative:e}),c=s;return r!=="/"&&(c=s==="/"?r:Wc([r,s])),n.createHref({pathname:c,search:o,hash:a})}function Hh(){return be.useContext(qm)!=null}function lu(){return Bn(Hh(),"useLocation() may be used only in the context of a <Router> component."),be.useContext(qm).location}var Ck="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rk(t){be.useContext(gl).static||be.useLayoutEffect(t)}function wv(){let{isDataRoute:t}=be.useContext(cc);return t?N8():m8()}function m8(){Bn(Hh(),"useNavigate() may be used only in the context of a <Router> component.");let t=be.useContext(qh),{basename:e,navigator:r}=be.useContext(gl),{matches:n}=be.useContext(cc),{pathname:a}=lu(),s=JSON.stringify(yv(n)),o=be.useRef(!1);return Rk(()=>{o.current=!0}),be.useCallback((h,d={})=>{if(Ro(o.current,Ck),!o.current)return;if(typeof h=="number"){r.go(h);return}let p=vv(h,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Wc([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,s,a,t])}be.createContext(null);function Hm(t,{relative:e}={}){let{matches:r}=be.useContext(cc),{pathname:n}=lu(),a=JSON.stringify(yv(r));return be.useMemo(()=>vv(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function p8(t,e){return Ik(t,e)}function Ik(t,e,r,n){var S;Bn(Hh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=be.useContext(gl),{matches:s}=be.useContext(cc),o=s[s.length-1],c=o?o.params:{},h=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let j=p&&p.path||"";Dk(h,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=lu(),v;if(e){let j=typeof e=="string"?bf(e):e;Bn(d==="/"||((S=j.pathname)==null?void 0:S.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${j.pathname}" was given in the \`location\` prop.`),v=j}else v=y;let b=v.pathname||"/",A=b;if(d!=="/"){let j=d.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let k=Ak(t,{pathname:A});Ro(p||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ro(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=b8(k&&k.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:Wc([d,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:Wc([d,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),s,r,n);return e&&E?be.createElement(qm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function g8(){let t=E8(),e=c8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=be.createElement(be.Fragment,null,be.createElement("p",null,"💿 Hey developer 👋"),be.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",be.createElement("code",{style:s},"ErrorBoundary")," or"," ",be.createElement("code",{style:s},"errorElement")," prop on your route.")),be.createElement(be.Fragment,null,be.createElement("h2",null,"Unexpected Application Error!"),be.createElement("h3",{style:{fontStyle:"italic"}},e),r?be.createElement("pre",{style:a},r):null,o)}var x8=be.createElement(g8,null),y8=class extends be.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?be.createElement(cc.Provider,{value:this.props.routeContext},be.createElement(bv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v8({routeContext:t,match:e,children:r}){let n=be.useContext(qh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),be.createElement(cc.Provider,{value:t},r)}function b8(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r==null?void 0:r.errors;if(s!=null){let h=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Bn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let o=!1,c=-1;if(r)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=r,v=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||v){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,d,p)=>{let y,v=!1,b=null,A=null;r&&(y=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||x8,o&&(c<0&&p===0?(Dk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,A=null):c===p&&(v=!0,A=d.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,p+1)),E=()=>{let S;return y?S=b:v?S=A:d.route.Component?S=be.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=h,be.createElement(v8,{match:d,routeContext:{outlet:h,matches:k,isDataRoute:r!=null},children:S})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?be.createElement(y8,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:E(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):E()},null)}function _v(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w8(t){let e=be.useContext(qh);return Bn(e,_v(t)),e}function _8(t){let e=be.useContext(O1);return Bn(e,_v(t)),e}function k8(t){let e=be.useContext(cc);return Bn(e,_v(t)),e}function kv(t){let e=k8(t),r=e.matches[e.matches.length-1];return Bn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function A8(){return kv("useRouteId")}function E8(){var n;let t=be.useContext(bv),e=_8("useRouteError"),r=kv("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function N8(){let{router:t}=w8("useNavigate"),e=kv("useNavigate"),r=be.useRef(!1);return Rk(()=>{r.current=!0}),be.useCallback(async(a,s={})=>{Ro(r.current,Ck),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var h_={};function Dk(t,e,r){!e&&!h_[t]&&(h_[t]=!0,Ro(!1,r))}be.memo(S8);function S8({routes:t,future:e,state:r}){return Ik(t,void 0,r,e)}function Lg({to:t,replace:e,state:r,relative:n}){Bn(Hh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=be.useContext(gl);Ro(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=be.useContext(cc),{pathname:o}=lu(),c=wv(),h=vv(t,yv(s),o,n==="path"),d=JSON.stringify(h);return be.useEffect(()=>{c(JSON.parse(d),{replace:e,state:r,relative:n})},[c,d,n,e,r]),null}function $n(t){Bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T8({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){Bn(!Hh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=be.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=bf(r));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:v="default"}=r,b=be.useMemo(()=>{let A=ru(h,o);return A==null?null:{location:{pathname:A,search:d,hash:p,state:y,key:v},navigationType:n}},[o,h,d,p,y,v,n]);return Ro(b!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:be.createElement(gl.Provider,{value:c},be.createElement(qm.Provider,{children:e,value:b}))}function C8({children:t,location:e}){return p8(py(t),e)}function py(t,e=[]){let r=[];return be.Children.forEach(t,(n,a)=>{if(!be.isValidElement(n))return;let s=[...e,a];if(n.type===be.Fragment){r.push.apply(r,py(n.props.children,s));return}Bn(n.type===$n,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=py(n.props.children,s)),r.push(o)}),r}var Og="get",Pg="application/x-www-form-urlencoded";function P1(t){return t!=null&&typeof t.tagName=="string"}function R8(t){return P1(t)&&t.tagName.toLowerCase()==="button"}function I8(t){return P1(t)&&t.tagName.toLowerCase()==="form"}function D8(t){return P1(t)&&t.tagName.toLowerCase()==="input"}function j8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L8(t,e){return t.button===0&&(!e||e==="_self")&&!j8(t)}var hg=null;function O8(){if(hg===null)try{new FormData(document.createElement("form"),0),hg=!1}catch{hg=!0}return hg}var P8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function L2(t){return t!=null&&!P8.has(t)?(Ro(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pg}"`),null):t}function M8(t,e){let r,n,a,s,o;if(I8(t)){let c=t.getAttribute("action");n=c?ru(c,e):null,r=t.getAttribute("method")||Og,a=L2(t.getAttribute("enctype"))||Pg,s=new FormData(t)}else if(R8(t)||D8(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(n=h?ru(h,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||Og,a=L2(t.getAttribute("formenctype"))||L2(c.getAttribute("enctype"))||Pg,s=new FormData(c,t),!O8()){let{name:d,type:p,value:y}=t;if(p==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,y)}}else{if(P1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Og,n=null,a=Pg,o=t}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}function Av(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function F8(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function U8(t,e,r){let n=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let o=await F8(s,r);return o.links?o.links():[]}return[]}));return H8(n.flat(1).filter(B8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function d_(t,e,r,n,a,s){let o=(h,d)=>r[d]?h.route.id!==r[d].route.id:!0,c=(h,d)=>{var p;return r[d].pathname!==h.pathname||((p=r[d].route.path)==null?void 0:p.endsWith("*"))&&r[d].params["*"]!==h.params["*"]};return s==="assets"?e.filter((h,d)=>o(h,d)||c(h,d)):s==="data"?e.filter((h,d)=>{var y;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(o(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function V8(t,e,{includeHydrateFallback:r}={}){return z8(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function z8(t){return[...new Set(t)]}function q8(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function H8(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let s=JSON.stringify(q8(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G8=new Set([100,101,204,205]);function $8(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&ru(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function jk(){let t=be.useContext(qh);return Av(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function K8(){let t=be.useContext(O1);return Av(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ev=be.createContext(void 0);Ev.displayName="FrameworkContext";function Lk(){let t=be.useContext(Ev);return Av(t,"You must render this element inside a <HydratedRouter> element"),t}function W8(t,e){let r=be.useContext(Ev),[n,a]=be.useState(!1),[s,o]=be.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,v=be.useRef(null);be.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let k=S=>{S.forEach(j=>{o(j.isIntersecting)})},E=new IntersectionObserver(k,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[t]),be.useEffect(()=>{if(n){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[n]);let b=()=>{a(!0)},A=()=>{a(!1),o(!1)};return r?t!=="intent"?[s,v,{}]:[s,v,{onFocus:qd(c,b),onBlur:qd(h,A),onMouseEnter:qd(d,b),onMouseLeave:qd(p,A),onTouchStart:qd(y,b)}]:[!1,v,{}]}function qd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Y8({page:t,...e}){let{router:r}=jk(),n=be.useMemo(()=>Ak(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?be.createElement(Q8,{page:t,matches:n,...e}):null}function X8(t){let{manifest:e,routeModules:r}=Lk(),[n,a]=be.useState([]);return be.useEffect(()=>{let s=!1;return U8(t,e,r).then(o=>{s||a(o)}),()=>{s=!0}},[t,e,r]),n}function Q8({page:t,matches:e,...r}){let n=lu(),{manifest:a,routeModules:s}=Lk(),{basename:o}=jk(),{loaderData:c,matches:h}=K8(),d=be.useMemo(()=>d_(t,e,h,a,n,"data"),[t,e,h,a,n]),p=be.useMemo(()=>d_(t,e,h,a,n,"assets"),[t,e,h,a,n]),y=be.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let A=new Set,k=!1;if(e.forEach(S=>{var M;let j=a.routes[S.route.id];!j||!j.hasLoader||(!d.some(H=>H.route.id===S.route.id)&&S.route.id in c&&((M=s[S.route.id])!=null&&M.shouldRevalidate)||j.hasClientLoader?k=!0:A.add(S.route.id))}),A.size===0)return[];let E=$8(t,o);return k&&A.size>0&&E.searchParams.set("_routes",e.filter(S=>A.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[o,c,n,a,d,e,t,s]),v=be.useMemo(()=>V8(p,a),[p,a]),b=X8(p);return be.createElement(be.Fragment,null,y.map(A=>be.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...r})),v.map(A=>be.createElement("link",{key:A,rel:"modulepreload",href:A,...r})),b.map(({key:A,link:k})=>be.createElement("link",{key:A,...k})))}function J8(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Ok=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ok&&(window.__reactRouterVersion="7.6.2")}catch{}function Z8({basename:t,children:e,window:r}){let n=be.useRef();n.current==null&&(n.current=UT({window:r,v5Compat:!0}));let a=n.current,[s,o]=be.useState({action:a.action,location:a.location}),c=be.useCallback(h=>{be.startTransition(()=>o(h))},[o]);return be.useLayoutEffect(()=>a.listen(c),[a,c]),be.createElement(T8,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var Pk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nv=be.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,...v},b){let{basename:A}=be.useContext(gl),k=typeof d=="string"&&Pk.test(d),E,S=!1;if(typeof d=="string"&&k&&(E=d,Ok))try{let I=new URL(window.location.href),U=d.startsWith("//")?new URL(I.protocol+d):new URL(d),R=ru(U.pathname,A);U.origin===I.origin&&R!=null?d=R+U.search+U.hash:S=!0}catch{Ro(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=d8(d,{relative:a}),[M,H,K]=W8(n,v),X=nC(d,{replace:o,state:c,target:h,preventScrollReset:p,relative:a,viewTransition:y});function P(I){e&&e(I),I.defaultPrevented||X(I)}let D=be.createElement("a",{...v,...K,href:E||j,onClick:S||s?e:P,ref:J8(b,H),target:h,"data-discover":!k&&r==="render"?"true":void 0});return M&&!k?be.createElement(be.Fragment,null,D,be.createElement(Y8,{page:j})):D});Nv.displayName="Link";var eC=be.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:c,children:h,...d},p){let y=Hm(o,{relative:d.relative}),v=lu(),b=be.useContext(O1),{navigator:A,basename:k}=be.useContext(gl),E=b!=null&&lC(y)&&c===!0,S=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,j=v.pathname,M=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(j=j.toLowerCase(),M=M?M.toLowerCase():null,S=S.toLowerCase()),M&&k&&(M=ru(M,k)||M);const H=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let K=j===S||!a&&j.startsWith(S)&&j.charAt(H)==="/",X=M!=null&&(M===S||!a&&M.startsWith(S)&&M.charAt(S.length)==="/"),P={isActive:K,isPending:X,isTransitioning:E},D=K?e:void 0,I;typeof n=="function"?I=n(P):I=[n,K?"active":null,X?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(P):s;return be.createElement(Nv,{...d,"aria-current":D,className:I,ref:p,style:U,to:o,viewTransition:c},typeof h=="function"?h(P):h)});eC.displayName="NavLink";var tC=be.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:s,method:o=Og,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,...v},b)=>{let A=iC(),k=oC(c,{relative:d}),E=o.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&Pk.test(c),j=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let H=M.nativeEvent.submitter,K=(H==null?void 0:H.getAttribute("formmethod"))||o;A(H||M.currentTarget,{fetcherKey:e,method:K,navigate:r,replace:a,state:s,relative:d,preventScrollReset:p,viewTransition:y})};return be.createElement("form",{ref:b,method:E,action:k,onSubmit:n?h:j,...v,"data-discover":!S&&t==="render"?"true":void 0})});tC.displayName="Form";function rC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mk(t){let e=be.useContext(qh);return Bn(e,rC(t)),e}function nC(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let c=wv(),h=lu(),d=Hm(t,{relative:s});return be.useCallback(p=>{if(L8(p,e)){p.preventDefault();let y=r!==void 0?r:vm(h)===vm(d);c(t,{replace:y,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[h,c,d,r,n,e,t,a,s,o])}var aC=0,sC=()=>`__${String(++aC)}__`;function iC(){let{router:t}=Mk("useSubmit"),{basename:e}=be.useContext(gl),r=A8();return be.useCallback(async(n,a={})=>{let{action:s,method:o,encType:c,formData:h,body:d}=M8(n,e);if(a.navigate===!1){let p=a.fetcherKey||sC();await t.fetch(p,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:d,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:d,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function oC(t,{relative:e}={}){let{basename:r}=be.useContext(gl),n=be.useContext(cc);Bn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Hm(t||".",{relative:e})},o=lu();if(t==null){s.search=o.search;let c=new URLSearchParams(s.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Wc([r,s.pathname])),vm(s)}function lC(t,e={}){let r=be.useContext(Tk);Bn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Mk("useViewTransitionState"),a=Hm(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=ru(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=ru(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Jg(a.pathname,o)!=null||Jg(a.pathname,s)!=null}[...G8];var M1=kk();const cC="modulepreload",uC=function(t){return"/satis-crm/"+t},m_={},bm=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=o(r.map(d=>{if(d=uC(d),d in m_)return;m_[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":cC,p||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((b,A)=>{v.addEventListener("load",b),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},fC=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},hC=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[r++];e[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[r++],o=t[r++],c=t[r++],h=((a&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const s=t[a],o=a+1<t.length,c=o?t[a+1]:0,h=a+2<t.length,d=h?t[a+2]:0,p=s>>2,y=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,b=d&63;h||(b=64,o||(v=64)),n.push(r[p],r[y],r[v],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const s=r[t.charAt(a++)],c=a<t.length?r[t.charAt(a)]:0;++a;const d=a<t.length?r[t.charAt(a)]:64;++a;const y=a<t.length?r[t.charAt(a)]:64;if(++a,s==null||c==null||d==null||y==null)throw new dC;const v=s<<2|c>>4;if(n.push(v),d!==64){const b=c<<4&240|d>>2;if(n.push(b),y!==64){const A=d<<6&192|y;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mC=function(t){const e=Fk(t);return Bk.encodeByteArray(e,!0)},Zg=function(t){return mC(t).replace(/\./g,"")},Uk=function(t){try{return Bk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=()=>pC().__FIREBASE_DEFAULTS__,xC=()=>{if(typeof process>"u"||typeof p_>"u")return;const t=p_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uk(t[1]);return e&&JSON.parse(e)},F1=()=>{try{return fC()||gC()||xC()||yC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vk=t=>{var e,r;return(r=(e=F1())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},vC=t=>{const e=Vk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},zk=()=>{var t;return(t=F1())===null||t===void 0?void 0:t.config},qk=t=>{var e;return(e=F1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(t){return t.endsWith(".cloudworkstations.dev")}async function Hk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zg(JSON.stringify(r)),Zg(JSON.stringify(o)),""].join(".")}const tm={};function _C(){const t={prod:[],emulator:[]};for(const e of Object.keys(tm))tm[e]?t.emulator.push(e):t.prod.push(e);return t}function kC(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let g_=!1;function Gk(t,e){if(typeof window>"u"||typeof document>"u"||!Gh(window.location.host)||tm[t]===e||tm[t]||g_)return;tm[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",s=_C().prod.length>0;function o(){const v=document.getElementById(n);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{g_=!0,o()},v}function p(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=kC(n),b=r("text"),A=document.getElementById(b)||document.createElement("span"),k=r("learnmore"),E=document.getElementById(k)||document.createElement("a"),S=r("preprendIcon"),j=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;c(M),p(E,k);const H=d();h(j,S),M.append(j,A,E,H),document.body.appendChild(M)}s?(A.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qs())}function EC(){var t;const e=(t=F1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CC(){const t=Qs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RC(){return!EC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IC(){try{return typeof indexedDB=="object"}catch{return!1}}function DC(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="FirebaseError";class cu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=jC,Object.setPrototypeOf(this,cu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gm.prototype.create)}}class Gm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,s=this.errors[e],o=s?LC(s,n):"Error",c=`${this.serviceName}: ${o} (${a}).`;return new cu(a,c,n)}}function LC(t,e){return t.replace(OC,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const OC=/\{\$([^}]+)}/g;function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function of(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const s=t[a],o=e[a];if(x_(s)&&x_(o)){if(!of(s,o))return!1}else if(s!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function x_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function $d(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function Kd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function MC(t,e){const r=new FC(t,e);return r.subscribe.bind(r)}class FC{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");BC(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=O2),a.error===void 0&&(a.error=O2),a.complete===void 0&&(a.complete=O2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BC(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function O2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){return t&&t._delegate?t._delegate:t}class lf{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new bC;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zC(e))try{this.getOrInitializeService({instanceIdentifier:X0})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(e=X0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=X0){return this.instances.has(e)}getOptions(e=X0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(a,s);const o=this.instances.get(a);return o&&e(o,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:VC(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=X0){return this.component?this.component.multipleInstances?e:X0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VC(t){return t===X0?void 0:t}function zC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new UC(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Or||(Or={}));const HC={debug:Or.DEBUG,verbose:Or.VERBOSE,info:Or.INFO,warn:Or.WARN,error:Or.ERROR,silent:Or.SILENT},GC=Or.INFO,$C={[Or.DEBUG]:"log",[Or.VERBOSE]:"log",[Or.INFO]:"info",[Or.WARN]:"warn",[Or.ERROR]:"error"},KC=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=$C[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Sv=class{constructor(e){this.name=e,this._logLevel=GC,this._logHandler=KC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Or))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Or.DEBUG,...e),this._logHandler(this,Or.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Or.VERBOSE,...e),this._logHandler(this,Or.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Or.INFO,...e),this._logHandler(this,Or.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Or.WARN,...e),this._logHandler(this,Or.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Or.ERROR,...e),this._logHandler(this,Or.ERROR,...e)}};const WC=(t,e)=>e.some(r=>t instanceof r);let y_,v_;function YC(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XC(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $k=new WeakMap,gy=new WeakMap,Kk=new WeakMap,P2=new WeakMap,Tv=new WeakMap;function QC(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(o0(t.result)),a()},o=()=>{n(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&$k.set(r,t)}).catch(()=>{}),Tv.set(e,t),e}function JC(t){if(gy.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),a()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gy.set(t,e)}let xy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return o0(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZC(t){xy=t(xy)}function e7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(M2(this),e,...r);return Kk.set(n,e.sort?e.sort():[e]),o0(n)}:XC().includes(t)?function(...e){return t.apply(M2(this),e),o0($k.get(this))}:function(...e){return o0(t.apply(M2(this),e))}}function t7(t){return typeof t=="function"?e7(t):(t instanceof IDBTransaction&&JC(t),WC(t,YC())?new Proxy(t,xy):t)}function o0(t){if(t instanceof IDBRequest)return QC(t);if(P2.has(t))return P2.get(t);const e=t7(t);return e!==t&&(P2.set(t,e),Tv.set(e,t)),e}const M2=t=>Tv.get(t);function r7(t,e,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const o=indexedDB.open(t,e),c=o0(o);return n&&o.addEventListener("upgradeneeded",h=>{n(o0(o.result),h.oldVersion,h.newVersion,o0(o.transaction),h)}),r&&o.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const n7=["get","getKey","getAll","getAllKeys","count"],a7=["put","add","delete","clear"],F2=new Map;function b_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(F2.get(e))return F2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=a7.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||n7.includes(r)))return;const s=async function(o,...c){const h=this.transaction(o,a?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[r](...c),a&&h.done]))[0]};return F2.set(e,s),s}ZC(t=>({...t,get:(e,r,n)=>b_(e,r)||t.get(e,r,n),has:(e,r)=>!!b_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(i7(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function i7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yy="@firebase/app",w_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new Sv("@firebase/app"),o7="@firebase/app-compat",l7="@firebase/analytics-compat",c7="@firebase/analytics",u7="@firebase/app-check-compat",f7="@firebase/app-check",h7="@firebase/auth",d7="@firebase/auth-compat",m7="@firebase/database",p7="@firebase/data-connect",g7="@firebase/database-compat",x7="@firebase/functions",y7="@firebase/functions-compat",v7="@firebase/installations",b7="@firebase/installations-compat",w7="@firebase/messaging",_7="@firebase/messaging-compat",k7="@firebase/performance",A7="@firebase/performance-compat",E7="@firebase/remote-config",N7="@firebase/remote-config-compat",S7="@firebase/storage",T7="@firebase/storage-compat",C7="@firebase/firestore",R7="@firebase/ai",I7="@firebase/firestore-compat",D7="firebase",j7="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="[DEFAULT]",L7={[yy]:"fire-core",[o7]:"fire-core-compat",[c7]:"fire-analytics",[l7]:"fire-analytics-compat",[f7]:"fire-app-check",[u7]:"fire-app-check-compat",[h7]:"fire-auth",[d7]:"fire-auth-compat",[m7]:"fire-rtdb",[p7]:"fire-data-connect",[g7]:"fire-rtdb-compat",[x7]:"fire-fn",[y7]:"fire-fn-compat",[v7]:"fire-iid",[b7]:"fire-iid-compat",[w7]:"fire-fcm",[_7]:"fire-fcm-compat",[k7]:"fire-perf",[A7]:"fire-perf-compat",[E7]:"fire-rc",[N7]:"fire-rc-compat",[S7]:"fire-gcs",[T7]:"fire-gcs-compat",[C7]:"fire-fst",[I7]:"fire-fst-compat",[R7]:"fire-vertex","fire-js":"fire-js",[D7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Map,O7=new Map,by=new Map;function __(t,e){try{t.container.addComponent(e)}catch(r){nu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ih(t){const e=t.name;if(by.has(e))return nu.debug(`There were multiple attempts to register component ${e}.`),!1;by.set(e,t);for(const r of e1.values())__(r,t);for(const r of O7.values())__(r,t);return!0}function Cv(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function To(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},l0=new Gm("app","Firebase",P7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new lf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw l0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=j7;function Wk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:vy,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw l0.create("bad-app-name",{appName:String(a)});if(r||(r=zk()),!r)throw l0.create("no-options");const s=e1.get(a);if(s){if(of(r,s.options)&&of(n,s.config))return s;throw l0.create("duplicate-app",{appName:a})}const o=new qC(a);for(const h of by.values())o.addComponent(h);const c=new M7(r,n,o);return e1.set(a,c),c}function Yk(t=vy){const e=e1.get(t);if(!e&&t===vy&&zk())return Wk();if(!e)throw l0.create("no-app",{appName:t});return e}function c0(t,e,r){var n;let a=(n=L7[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const s=a.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${a}" with version "${e}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nu.warn(c.join(" "));return}Ih(new lf(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7="firebase-heartbeat-database",B7=1,wm="firebase-heartbeat-store";let B2=null;function Xk(){return B2||(B2=r7(F7,B7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wm)}catch(r){console.warn(r)}}}}).catch(t=>{throw l0.create("idb-open",{originalErrorMessage:t.message})})),B2}async function U7(t){try{const r=(await Xk()).transaction(wm),n=await r.objectStore(wm).get(Qk(t));return await r.done,n}catch(e){if(e instanceof cu)nu.warn(e.message);else{const r=l0.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nu.warn(r.message)}}}async function k_(t,e){try{const n=(await Xk()).transaction(wm,"readwrite");await n.objectStore(wm).put(e,Qk(t)),await n.done}catch(r){if(r instanceof cu)nu.warn(r.message);else{const n=l0.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});nu.warn(n.message)}}}function Qk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=1024,z7=30;class q7{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new G7(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>z7){const o=$7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){nu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=A_(),{heartbeatsToSend:n,unsentEntries:a}=H7(this._heartbeatsCache.heartbeats),s=Zg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return nu.warn(r),""}}}function A_(){return new Date().toISOString().substring(0,10)}function H7(t,e=V7){const r=[];let n=t.slice();for(const a of t){const s=r.find(o=>o.agent===a.agent);if(s){if(s.dates.push(a.date),E_(r)>e){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),E_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class G7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IC()?DC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await U7(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return k_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return k_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function E_(t){return Zg(JSON.stringify({version:2,heartbeats:t})).length}function $7(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t){Ih(new lf("platform-logger",e=>new s7(e),"PRIVATE")),Ih(new lf("heartbeat",e=>new q7(e),"PRIVATE")),c0(yy,w_,t),c0(yy,w_,"esm2017"),c0("fire-js","")}K7("");function Rv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Jk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W7=Jk,Zk=new Gm("auth","Firebase",Jk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new Sv("@firebase/auth");function Y7(t,...e){t1.logLevel<=Or.WARN&&t1.warn(`Auth (${$h}): ${t}`,...e)}function Mg(t,...e){t1.logLevel<=Or.ERROR&&t1.error(`Auth (${$h}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t,...e){throw Iv(t,...e)}function ec(t,...e){return Iv(t,...e)}function eA(t,e,r){const n=Object.assign(Object.assign({},W7()),{[e]:r});return new Gm("auth","Firebase",n).create(e,{appName:t.name})}function Yc(t){return eA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iv(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Zk.create(t,...e)}function sr(t,e,...r){if(!t)throw Iv(e,...r)}function Gc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mg(e),new Error(e)}function au(t,e){t||Gc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function X7(){return N_()==="http:"||N_()==="https:"}function N_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X7()||SC()||"connection"in navigator)?navigator.onLine:!0}function J7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,r){this.shortDelay=e,this.longDelay=r,au(r>e,"Short delay should be less than long delay!"),this.isMobile=AC()||TC()}get(){return Q7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){au(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tR=new Km(3e4,6e4);function uu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fu(t,e,r,n,a={}){return rA(t,a,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const c=$m(Object.assign({key:t.config.apiKey},o)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},s);return NC()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Gh(t.emulatorConfig.host)&&(d.credentials="include"),tA.fetch()(await nA(t,t.config.apiHost,r,c),d)})}async function rA(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Z7),e);try{const a=new nR(t),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw dg(t,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw dg(t,"email-already-in-use",o);if(h==="USER_DISABLED")throw dg(t,"user-disabled",o);const p=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw eA(t,p,d);ml(t,p)}}catch(a){if(a instanceof cu)throw a;ml(t,"network-request-failed",{message:String(a)})}}async function Wm(t,e,r,n,a={}){const s=await fu(t,e,r,n,a);return"mfaPendingCredential"in s&&ml(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function nA(t,e,r,n){const a=`${e}${r}?${n}`,s=t,o=s.config.emulator?Dv(t.config,a):`${t.config.apiScheme}://${a}`;return eR.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function rR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ec(this.auth,"network-request-failed")),tR.get())})}}function dg(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=ec(t,e,n);return a.customData._tokenResponse=r,a}function S_(t){return t!==void 0&&t.enterprise!==void 0}class aR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return rR(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sR(t,e){return fu(t,"GET","/v2/recaptchaConfig",uu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e){return fu(t,"POST","/v1/accounts:delete",e)}async function r1(t,e){return fu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oR(t,e=!1){const r=Ha(t),n=await r.getIdToken(e),a=jv(n);sr(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:a,token:n,authTime:rm(U2(a.auth_time)),issuedAtTime:rm(U2(a.iat)),expirationTime:rm(U2(a.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function U2(t){return Number(t)*1e3}function jv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Mg("JWT malformed, contained fewer than 3 sections"),null;try{const a=Uk(r);return a?JSON.parse(a):(Mg("Failed to decode base64 JWT payload"),null)}catch(a){return Mg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function T_(t){const e=jv(t);return sr(e,"internal-error"),sr(typeof e.exp<"u","internal-error"),sr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof cu&&lR(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function lR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=rm(this.lastLoginAt),this.creationTime=rm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(t){var e;const r=t.auth,n=await t.getIdToken(),a=await _m(t,r1(r,{idToken:n}));sr(a==null?void 0:a.users.length,r,"internal-error");const s=a.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?aA(s.providerUserInfo):[],c=fR(t.providerData,o),h=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),p=h?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new _y(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function uR(t){const e=Ha(t);await n1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fR(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function aA(t){return t.map(e=>{var{providerId:r}=e,n=Rv(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e){const r=await rA(t,{},async()=>{const n=$m({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,o=await nA(t,a,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:n};return t.emulatorConfig&&Gh(t.emulatorConfig.host)&&(h.credentials="include"),tA.fetch()(o,h)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function dR(t,e){return fu(t,"POST","/v2/accounts:revokeToken",uu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sr(e.idToken,"internal-error"),sr(typeof e.idToken<"u","internal-error"),sr(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){sr(e.length!==0,"internal-error");const r=T_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(sr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await hR(e,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,o=new vh;return n&&(sr(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),a&&(sr(typeof a=="string","internal-error",{appName:e}),o.accessToken=a),s&&(sr(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vh,this.toJSON())}_performRefresh(){return Gc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e){sr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cl{constructor(e){var{uid:r,auth:n,stsTokenManager:a}=e,s=Rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _y(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await _m(this,this.stsTokenManager.getToken(this.auth,e));return sr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return oR(this,e)}reload(){return uR(this)}_assign(e){this!==e&&(sr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new cl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){sr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await n1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(To(this.auth.app))return Promise.reject(Yc(this.auth));const e=await this.getIdToken();return await _m(this,iR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,a,s,o,c,h,d,p;const y=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(a=r.email)!==null&&a!==void 0?a:void 0,b=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=r.photoURL)!==null&&o!==void 0?o:void 0,k=(c=r.tenantId)!==null&&c!==void 0?c:void 0,E=(h=r._redirectEventId)!==null&&h!==void 0?h:void 0,S=(d=r.createdAt)!==null&&d!==void 0?d:void 0,j=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:M,emailVerified:H,isAnonymous:K,providerData:X,stsTokenManager:P}=r;sr(M&&P,e,"internal-error");const D=vh.fromJSON(this.name,P);sr(typeof M=="string",e,"internal-error"),Ku(y,e.name),Ku(v,e.name),sr(typeof H=="boolean",e,"internal-error"),sr(typeof K=="boolean",e,"internal-error"),Ku(b,e.name),Ku(A,e.name),Ku(k,e.name),Ku(E,e.name),Ku(S,e.name),Ku(j,e.name);const I=new cl({uid:M,auth:e,email:v,emailVerified:H,displayName:y,isAnonymous:K,photoURL:A,phoneNumber:b,tenantId:k,stsTokenManager:D,createdAt:S,lastLoginAt:j});return X&&Array.isArray(X)&&(I.providerData=X.map(U=>Object.assign({},U))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,r,n=!1){const a=new vh;a.updateFromServerResponse(r);const s=new cl({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await n1(s),s}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];sr(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?aA(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),c=new vh;c.updateFromIdToken(n);const h=new cl({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new _y(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;function $c(t){au(t instanceof Function,"Expected a class definition");let e=C_.get(t);return e?(au(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,C_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}sA.type="NONE";const R_=sA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e,r){return`firebase:${t}:${e}:${r}`}class bh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=Fg(this.userKey,a.apiKey,s),this.fullPersistenceKey=Fg("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await r1(this.auth,{idToken:e}).catch(()=>{});return r?cl._fromGetAccountInfoResponse(this.auth,r,e):null}return cl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new bh($c(R_),e,n);const a=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=a[0]||$c(R_);const o=Fg(n,e.config.apiKey,e.name);let c=null;for(const d of r)try{const p=await d._get(o);if(p){let y;if(typeof p=="string"){const v=await r1(e,{idToken:p}).catch(()=>{});if(!v)break;y=await cl._fromGetAccountInfoResponse(e,v,p)}else y=cl._fromJSON(e,p);d!==s&&(c=y),s=d;break}}catch{}const h=a.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new bh(s,e,n):(s=h[0],c&&await s._set(o,c.toJSON()),await Promise.all(r.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new bh(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(hA(e))return"Webos";if(oA(e))return"Safari";if((e.includes("chrome/")||lA(e))&&!e.includes("edge/"))return"Chrome";if(uA(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function iA(t=Qs()){return/firefox\//i.test(t)}function oA(t=Qs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lA(t=Qs()){return/crios\//i.test(t)}function cA(t=Qs()){return/iemobile/i.test(t)}function uA(t=Qs()){return/android/i.test(t)}function fA(t=Qs()){return/blackberry/i.test(t)}function hA(t=Qs()){return/webos/i.test(t)}function Lv(t=Qs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mR(t=Qs()){var e;return Lv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pR(){return CC()&&document.documentMode===10}function dA(t=Qs()){return Lv(t)||uA(t)||hA(t)||fA(t)||/windows phone/i.test(t)||cA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t,e=[]){let r;switch(t){case"Browser":r=I_(Qs());break;case"Worker":r=`${I_(Qs())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${$h}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,c)=>{try{const h=e(s);o(h)}catch(h){c(h)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(t,e={}){return fu(t,"GET","/v2/passwordPolicy",uu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=6;class vR{constructor(e){var r,n,a,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:yR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,a,s,o,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(r=h.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsNumericCharacter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=$c(r)),this._initializationPromise=this.queue(async()=>{var n,a,s;if(!this._deleted&&(this.persistenceManager=await bh.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await r1(this,{idToken:e}),n=await cl._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(To(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&(h!=null&&h.user)&&(a=h.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return sr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await n1(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(To(this.app))return Promise.reject(Yc(this));const r=e?Ha(e):null;return r&&sr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&sr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return To(this.app)?Promise.reject(Yc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return To(this.app)?Promise.reject(Yc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($c(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xR(this),r=new vR(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gm("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await dR(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&$c(e)||this._popupRedirectResolver;sr(r,this,"argument-error"),this.redirectPersistenceManager=await bh.create(this,[$c(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(sr(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const h=e.addObserver(r,n,a);return()=>{o=!0,h()}}else{const h=e.addObserver(r);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var e;if(To(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Y7(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function k0(t){return Ha(t)}class D_{constructor(e){this.auth=e,this.observer=null,this.addObserver=MC(r=>this.observer=r)}get next(){return sr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wR(t){B1=t}function pA(t){return B1.loadJS(t)}function _R(){return B1.recaptchaEnterpriseScript}function kR(){return B1.gapiScript}function AR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ER{constructor(){this.enterprise=new NR}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class NR{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const SR="recaptcha-enterprise",gA="NO_RECAPTCHA";class TR{constructor(e){this.type=SR,this.auth=k0(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{sR(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new aR(h);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(h=>{c(h)})})}function a(s,o,c){const h=window.grecaptcha;S_(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(gA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ER().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(c=>{if(!r&&S_(window.grecaptcha))a(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=_R();h.length!==0&&(h+=c),pA(h).then(()=>{a(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function j_(t,e,r,n=!1,a=!1){const s=new TR(t);let o;if(a)o=gA;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const c=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function a1(t,e,r,n,a){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await j_(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await j_(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e){const r=Cv(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(of(s,e??{}))return a;ml(a,"already-initialized")}return r.initialize({options:e})}function RR(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map($c);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function IR(t,e,r){const n=k0(t);sr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,s=xA(e),{host:o,port:c}=DR(e),h=c===null?"":`:${c}`,d={url:`${s}//${o}${h}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){sr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),sr(of(d,n.config.emulator)&&of(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,Gh(o)?(Hk(`${s}//${o}${h}`),Gk("Auth",!0)):jR()}function xA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DR(t){const e=xA(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:L_(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:L_(o)}}}function L_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jR(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Gc("not implemented")}_getIdTokenResponse(e){return Gc("not implemented")}_linkToIdToken(e,r){return Gc("not implemented")}_getReauthenticationResolver(e){return Gc("not implemented")}}async function LR(t,e){return fu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(t,e){return Wm(t,"POST","/v1/accounts:signInWithPassword",uu(t,e))}async function PR(t,e){return fu(t,"POST","/v1/accounts:sendOobCode",uu(t,e))}async function MR(t,e){return PR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,e){return Wm(t,"POST","/v1/accounts:signInWithEmailLink",uu(t,e))}async function BR(t,e){return Wm(t,"POST","/v1/accounts:signInWithEmailLink",uu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends Ov{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new km(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new km(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a1(e,r,"signInWithPassword",OR);case"emailLink":return FR(e,{email:this._email,oobCode:this._password});default:ml(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a1(e,n,"signUpPassword",LR);case"emailLink":return BR(e,{idToken:r,email:this._email,oobCode:this._password});default:ml(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t,e){return Wm(t,"POST","/v1/accounts:signInWithIdp",uu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="http://localhost";class cf extends Ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new cf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ml("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=r,s=Rv(r,["providerId","signInMethod"]);if(!n||!a)return null;const o=new cf(n,a);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return wh(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,wh(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,wh(e,r)}buildRequest(){const e={requestUri:UR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=$m(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zR(t){const e=$d(Kd(t)).link,r=e?$d(Kd(e)).deep_link_id:null,n=$d(Kd(t)).deep_link_id;return(n?$d(Kd(n)).link:null)||n||r||e||t}class Pv{constructor(e){var r,n,a,s,o,c;const h=$d(Kd(e)),d=(r=h.apiKey)!==null&&r!==void 0?r:null,p=(n=h.oobCode)!==null&&n!==void 0?n:null,y=VR((a=h.mode)!==null&&a!==void 0?a:null);sr(d&&p&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=p,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=h.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=zR(e);try{return new Pv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.providerId=Kh.PROVIDER_ID}static credential(e,r){return km._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Pv.parseLink(r);return sr(n,"argument-error"),km._fromEmailAndCode(e,n.code,n.tenantId)}}Kh.PROVIDER_ID="password";Kh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends yA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Ym{constructor(){super("facebook.com")}static credential(e){return cf._fromParams({providerId:Ju.PROVIDER_ID,signInMethod:Ju.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ju.credentialFromTaggedObject(e)}static credentialFromError(e){return Ju.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ju.credential(e.oauthAccessToken)}catch{return null}}}Ju.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ju.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends Ym{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return cf._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Zu.credentialFromTaggedObject(e)}static credentialFromError(e){return Zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Zu.credential(r,n)}catch{return null}}}Zu.GOOGLE_SIGN_IN_METHOD="google.com";Zu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends Ym{constructor(){super("github.com")}static credential(e){return cf._fromParams({providerId:e0.PROVIDER_ID,signInMethod:e0.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e0.credentialFromTaggedObject(e)}static credentialFromError(e){return e0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e0.credential(e.oauthAccessToken)}catch{return null}}}e0.GITHUB_SIGN_IN_METHOD="github.com";e0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Ym{constructor(){super("twitter.com")}static credential(e,r){return cf._fromParams({providerId:t0.PROVIDER_ID,signInMethod:t0.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return t0.credentialFromTaggedObject(e)}static credentialFromError(e){return t0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return t0.credential(r,n)}catch{return null}}}t0.TWITTER_SIGN_IN_METHOD="twitter.com";t0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t,e){return Wm(t,"POST","/v1/accounts:signUp",uu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const s=await cl._fromIdTokenResponse(e,n,a),o=O_(n);return new uf({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=O_(n);return new uf({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function O_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends cu{constructor(e,r,n,a){var s;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,s1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new s1(e,r,n,a)}}function vA(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?s1._fromErrorAndOperation(t,s,e,n):s})}async function HR(t,e,r=!1){const n=await _m(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return uf._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e,r=!1){const{auth:n}=t;if(To(n.app))return Promise.reject(Yc(n));const a="reauthenticate";try{const s=await _m(t,vA(n,a,e,t),r);sr(s.idToken,n,"internal-error");const o=jv(s.idToken);sr(o,n,"internal-error");const{sub:c}=o;return sr(t.uid===c,n,"user-mismatch"),uf._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ml(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t,e,r=!1){if(To(t.app))return Promise.reject(Yc(t));const n="signIn",a=await vA(t,n,e),s=await uf._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(s.user),s}async function $R(t,e){return bA(k0(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(t){const e=k0(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KR(t,e,r){const n=k0(t);await a1(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",MR)}async function WR(t,e,r){if(To(t.app))return Promise.reject(Yc(t));const n=k0(t),o=await a1(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qR).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&wA(t),h}),c=await uf._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function U1(t,e,r){return To(t.app)?Promise.reject(Yc(t)):$R(Ha(t),Kh.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&wA(t),n})}function YR(t,e,r,n){return Ha(t).onIdTokenChanged(e,r,n)}function XR(t,e,r){return Ha(t).beforeAuthStateChanged(e,r)}function QR(t,e,r,n){return Ha(t).onAuthStateChanged(e,r,n)}function Wu(t){return Ha(t).signOut()}const i1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(i1,"1"),this.storage.removeItem(i1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1e3,ZR=10;class kA extends _A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,c,h)=>{this.notifyListeners(o,h)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);pR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ZR):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},JR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}kA.type="LOCAL";const eI=kA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends _A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}AA.type="SESSION";const EA=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new V1(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:s}=r.data,o=this.handlersMap[a];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const c=Array.from(o).map(async d=>d(r.origin,s)),h=await tI(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:h})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}V1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,o;return new Promise((c,h)=>{const d=Mv("",20);a.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},n);o={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(){return window}function nI(t){tc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof tc().WorkerGlobalScope<"u"&&typeof tc().importScripts=="function"}async function aI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iI(){return NA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firebaseLocalStorageDb",oI=1,o1="firebaseLocalStorage",TA="fbase_key";class Xm{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function z1(t,e){return t.transaction([o1],e?"readwrite":"readonly").objectStore(o1)}function lI(){const t=indexedDB.deleteDatabase(SA);return new Xm(t).toPromise()}function ky(){const t=indexedDB.open(SA,oI);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(o1,{keyPath:TA})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(o1)?e(n):(n.close(),await lI(),e(await ky()))})})}async function P_(t,e,r){const n=z1(t,!0).put({[TA]:e,value:r});return new Xm(n).toPromise()}async function cI(t,e){const r=z1(t,!1).get(e),n=await new Xm(r).toPromise();return n===void 0?null:n.value}function M_(t,e){const r=z1(t,!0).delete(e);return new Xm(r).toPromise()}const uI=800,fI=3;class CA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ky(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>fI)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=V1._getInstance(iI()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await aI(),!this.activeServiceWorker)return;this.sender=new rI(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ky();return await P_(e,i1,"1"),await M_(e,i1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>P_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>cI(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>M_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=z1(a,!1).getAll();return new Xm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CA.type="LOCAL";const hI=CA;new Km(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e){return e?$c(e):(sr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends Ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return wh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return wh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function mI(t){return bA(t.auth,new Fv(t),t.bypassAuthState)}function pI(t){const{auth:e,user:r}=t;return sr(r,e,"internal-error"),GR(r,new Fv(t),t.bypassAuthState)}async function gI(t){const{auth:e,user:r}=t;return sr(r,e,"internal-error"),HR(r,new Fv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,r,n,a,s=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mI;case"linkViaPopup":case"linkViaRedirect":return gI;case"reauthViaPopup":case"reauthViaRedirect":return pI;default:ml(this.auth,"internal-error")}}resolve(e){au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Km(2e3,1e4);class ph extends RA{constructor(e,r,n,a,s){super(e,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,ph.currentPopupAction&&ph.currentPopupAction.cancel(),ph.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sr(e,this.auth,"internal-error"),e}async onExecution(){au(this.filter.length===1,"Popup operations only handle one event");const e=Mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ec(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ec(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ph.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ec(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xI.get())};e()}}ph.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="pendingRedirect",Bg=new Map;class vI extends RA{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Bg.get(this.auth._key());if(!e){try{const n=await bI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Bg.set(this.auth._key(),e)}return this.bypassAuthState||Bg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bI(t,e){const r=kI(e),n=_I(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function wI(t,e){Bg.set(t._key(),e)}function _I(t){return $c(t._redirectPersistence)}function kI(t){return Fg(yI,t.config.apiKey,t.name)}async function AI(t,e,r=!1){if(To(t.app))return Promise.reject(Yc(t));const n=k0(t),a=dI(n,e),o=await new vI(n,a,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=10*60*1e3;class NI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SI(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!IA(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ec(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EI&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(e))}saveEventToCache(e){this.cachedEventUids.add(F_(e)),this.lastProcessedEventTime=Date.now()}}function F_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(t,e={}){return fu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RI=/^https?/;async function II(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TI(t);for(const r of e)try{if(DI(r))return}catch{}ml(t,"unauthorized-domain")}function DI(t){const e=wy(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!RI.test(r))return!1;if(CI.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Km(3e4,6e4);function B_(){const t=tc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function LI(t){return new Promise((e,r)=>{var n,a,s;function o(){B_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B_(),r(ec(t,"network-request-failed"))},timeout:jI.get()})}if(!((a=(n=tc().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((s=tc().gapi)===null||s===void 0)&&s.load)o();else{const c=AR("iframefcb");return tc()[c]=()=>{gapi.load?o():r(ec(t,"network-request-failed"))},pA(`${kR()}?onload=${c}`).catch(h=>r(h))}}).catch(e=>{throw Ug=null,e})}let Ug=null;function OI(t){return Ug=Ug||LI(t),Ug}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Km(5e3,15e3),MI="__/auth/iframe",FI="emulator/auth/iframe",BI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VI(t){const e=t.config;sr(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Dv(e,FI):`https://${t.config.authDomain}/${MI}`,n={apiKey:e.apiKey,appName:t.name,v:$h},a=UI.get(t.config.apiHost);a&&(n.eid=a);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${$m(n).slice(1)}`}async function zI(t){const e=await OI(t),r=tc().gapi;return sr(r,t,"internal-error"),e.open({where:document.body,url:VI(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BI,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const o=ec(t,"network-request-failed"),c=tc().setTimeout(()=>{s(o)},PI.get());function h(){tc().clearTimeout(c),a(n)}n.ping(h).then(h,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HI=500,GI=600,$I="_blank",KI="http://localhost";class U_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WI(t,e,r,n=HI,a=GI){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},qI),{width:n.toString(),height:a.toString(),top:s,left:o}),d=Qs().toLowerCase();r&&(c=lA(d)?$I:r),iA(d)&&(e=e||KI,h.scrollbars="yes");const p=Object.entries(h).reduce((v,[b,A])=>`${v}${b}=${A},`,"");if(mR(d)&&c!=="_self")return YI(e||"",c),new U_(null);const y=window.open(e||"",c,p);sr(y,t,"popup-blocked");try{y.focus()}catch{}return new U_(y)}function YI(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="__/auth/handler",QI="emulator/auth/handler",JI=encodeURIComponent("fac");async function V_(t,e,r,n,a,s){sr(t.config.authDomain,t,"auth-domain-config-required"),sr(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:$h,eventId:a};if(e instanceof yA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))o[p]=y}if(e instanceof Ym){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),d=h?`#${JI}=${encodeURIComponent(h)}`:"";return`${ZI(t)}?${$m(c).slice(1)}${d}`}function ZI({config:t}){return t.emulator?Dv(t,QI):`https://${t.authDomain}/${XI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="webStorageSupport";class eD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EA,this._completeRedirectFn=AI,this._overrideRedirectResult=wI}async _openPopup(e,r,n,a){var s;au((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await V_(e,r,n,wy(),a);return WI(e,o,Mv())}async _openRedirect(e,r,n,a){await this._originValidation(e);const s=await V_(e,r,n,wy(),a);return nI(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(au(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await zI(e),n=new NI(e);return r.register("authEvent",a=>(sr(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(V2,{type:V2},a=>{var s;const o=(s=a==null?void 0:a[0])===null||s===void 0?void 0:s[V2];o!==void 0&&r(!!o),ml(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=II(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return dA()||oA()||Lv()}}const tD=eD;var z_="@firebase/auth",q_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){sr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aD(t){Ih(new lf("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;sr(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mA(t)},d=new bR(n,a,s,h);return RR(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ih(new lf("auth-internal",e=>{const r=k0(e.getProvider("auth").getImmediate());return(n=>new rD(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),c0(z_,q_,nD(t)),c0(z_,q_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=5*60,iD=qk("authIdTokenMaxAge")||sD;let H_=null;const oD=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>iD)return;const a=r==null?void 0:r.token;H_!==a&&(H_=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function lD(t=Yk()){const e=Cv(t,"auth");if(e.isInitialized())return e.getImmediate();const r=CR(t,{popupRedirectResolver:tD,persistence:[hI,eI,EA]}),n=qk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=oD(s.toString());XR(r,o,()=>o(r.currentUser)),YR(r,c=>o(c))}}const a=Vk("auth");return a&&IR(r,`http://${a}`),r}function cD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wR({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const s=ec("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",cD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aD("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u0,DA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,D){function I(){}I.prototype=D.prototype,P.D=D.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(U,R,C){for(var B=Array(arguments.length-2),W=2;W<arguments.length;W++)B[W-2]=arguments[W];return D.prototype[R].apply(U,B)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,D,I){I||(I=0);var U=Array(16);if(typeof D=="string")for(var R=0;16>R;++R)U[R]=D.charCodeAt(I++)|D.charCodeAt(I++)<<8|D.charCodeAt(I++)<<16|D.charCodeAt(I++)<<24;else for(R=0;16>R;++R)U[R]=D[I++]|D[I++]<<8|D[I++]<<16|D[I++]<<24;D=P.g[0],I=P.g[1],R=P.g[2];var C=P.g[3],B=D+(C^I&(R^C))+U[0]+3614090360&4294967295;D=I+(B<<7&4294967295|B>>>25),B=C+(R^D&(I^R))+U[1]+3905402710&4294967295,C=D+(B<<12&4294967295|B>>>20),B=R+(I^C&(D^I))+U[2]+606105819&4294967295,R=C+(B<<17&4294967295|B>>>15),B=I+(D^R&(C^D))+U[3]+3250441966&4294967295,I=R+(B<<22&4294967295|B>>>10),B=D+(C^I&(R^C))+U[4]+4118548399&4294967295,D=I+(B<<7&4294967295|B>>>25),B=C+(R^D&(I^R))+U[5]+1200080426&4294967295,C=D+(B<<12&4294967295|B>>>20),B=R+(I^C&(D^I))+U[6]+2821735955&4294967295,R=C+(B<<17&4294967295|B>>>15),B=I+(D^R&(C^D))+U[7]+4249261313&4294967295,I=R+(B<<22&4294967295|B>>>10),B=D+(C^I&(R^C))+U[8]+1770035416&4294967295,D=I+(B<<7&4294967295|B>>>25),B=C+(R^D&(I^R))+U[9]+2336552879&4294967295,C=D+(B<<12&4294967295|B>>>20),B=R+(I^C&(D^I))+U[10]+4294925233&4294967295,R=C+(B<<17&4294967295|B>>>15),B=I+(D^R&(C^D))+U[11]+2304563134&4294967295,I=R+(B<<22&4294967295|B>>>10),B=D+(C^I&(R^C))+U[12]+1804603682&4294967295,D=I+(B<<7&4294967295|B>>>25),B=C+(R^D&(I^R))+U[13]+4254626195&4294967295,C=D+(B<<12&4294967295|B>>>20),B=R+(I^C&(D^I))+U[14]+2792965006&4294967295,R=C+(B<<17&4294967295|B>>>15),B=I+(D^R&(C^D))+U[15]+1236535329&4294967295,I=R+(B<<22&4294967295|B>>>10),B=D+(R^C&(I^R))+U[1]+4129170786&4294967295,D=I+(B<<5&4294967295|B>>>27),B=C+(I^R&(D^I))+U[6]+3225465664&4294967295,C=D+(B<<9&4294967295|B>>>23),B=R+(D^I&(C^D))+U[11]+643717713&4294967295,R=C+(B<<14&4294967295|B>>>18),B=I+(C^D&(R^C))+U[0]+3921069994&4294967295,I=R+(B<<20&4294967295|B>>>12),B=D+(R^C&(I^R))+U[5]+3593408605&4294967295,D=I+(B<<5&4294967295|B>>>27),B=C+(I^R&(D^I))+U[10]+38016083&4294967295,C=D+(B<<9&4294967295|B>>>23),B=R+(D^I&(C^D))+U[15]+3634488961&4294967295,R=C+(B<<14&4294967295|B>>>18),B=I+(C^D&(R^C))+U[4]+3889429448&4294967295,I=R+(B<<20&4294967295|B>>>12),B=D+(R^C&(I^R))+U[9]+568446438&4294967295,D=I+(B<<5&4294967295|B>>>27),B=C+(I^R&(D^I))+U[14]+3275163606&4294967295,C=D+(B<<9&4294967295|B>>>23),B=R+(D^I&(C^D))+U[3]+4107603335&4294967295,R=C+(B<<14&4294967295|B>>>18),B=I+(C^D&(R^C))+U[8]+1163531501&4294967295,I=R+(B<<20&4294967295|B>>>12),B=D+(R^C&(I^R))+U[13]+2850285829&4294967295,D=I+(B<<5&4294967295|B>>>27),B=C+(I^R&(D^I))+U[2]+4243563512&4294967295,C=D+(B<<9&4294967295|B>>>23),B=R+(D^I&(C^D))+U[7]+1735328473&4294967295,R=C+(B<<14&4294967295|B>>>18),B=I+(C^D&(R^C))+U[12]+2368359562&4294967295,I=R+(B<<20&4294967295|B>>>12),B=D+(I^R^C)+U[5]+4294588738&4294967295,D=I+(B<<4&4294967295|B>>>28),B=C+(D^I^R)+U[8]+2272392833&4294967295,C=D+(B<<11&4294967295|B>>>21),B=R+(C^D^I)+U[11]+1839030562&4294967295,R=C+(B<<16&4294967295|B>>>16),B=I+(R^C^D)+U[14]+4259657740&4294967295,I=R+(B<<23&4294967295|B>>>9),B=D+(I^R^C)+U[1]+2763975236&4294967295,D=I+(B<<4&4294967295|B>>>28),B=C+(D^I^R)+U[4]+1272893353&4294967295,C=D+(B<<11&4294967295|B>>>21),B=R+(C^D^I)+U[7]+4139469664&4294967295,R=C+(B<<16&4294967295|B>>>16),B=I+(R^C^D)+U[10]+3200236656&4294967295,I=R+(B<<23&4294967295|B>>>9),B=D+(I^R^C)+U[13]+681279174&4294967295,D=I+(B<<4&4294967295|B>>>28),B=C+(D^I^R)+U[0]+3936430074&4294967295,C=D+(B<<11&4294967295|B>>>21),B=R+(C^D^I)+U[3]+3572445317&4294967295,R=C+(B<<16&4294967295|B>>>16),B=I+(R^C^D)+U[6]+76029189&4294967295,I=R+(B<<23&4294967295|B>>>9),B=D+(I^R^C)+U[9]+3654602809&4294967295,D=I+(B<<4&4294967295|B>>>28),B=C+(D^I^R)+U[12]+3873151461&4294967295,C=D+(B<<11&4294967295|B>>>21),B=R+(C^D^I)+U[15]+530742520&4294967295,R=C+(B<<16&4294967295|B>>>16),B=I+(R^C^D)+U[2]+3299628645&4294967295,I=R+(B<<23&4294967295|B>>>9),B=D+(R^(I|~C))+U[0]+4096336452&4294967295,D=I+(B<<6&4294967295|B>>>26),B=C+(I^(D|~R))+U[7]+1126891415&4294967295,C=D+(B<<10&4294967295|B>>>22),B=R+(D^(C|~I))+U[14]+2878612391&4294967295,R=C+(B<<15&4294967295|B>>>17),B=I+(C^(R|~D))+U[5]+4237533241&4294967295,I=R+(B<<21&4294967295|B>>>11),B=D+(R^(I|~C))+U[12]+1700485571&4294967295,D=I+(B<<6&4294967295|B>>>26),B=C+(I^(D|~R))+U[3]+2399980690&4294967295,C=D+(B<<10&4294967295|B>>>22),B=R+(D^(C|~I))+U[10]+4293915773&4294967295,R=C+(B<<15&4294967295|B>>>17),B=I+(C^(R|~D))+U[1]+2240044497&4294967295,I=R+(B<<21&4294967295|B>>>11),B=D+(R^(I|~C))+U[8]+1873313359&4294967295,D=I+(B<<6&4294967295|B>>>26),B=C+(I^(D|~R))+U[15]+4264355552&4294967295,C=D+(B<<10&4294967295|B>>>22),B=R+(D^(C|~I))+U[6]+2734768916&4294967295,R=C+(B<<15&4294967295|B>>>17),B=I+(C^(R|~D))+U[13]+1309151649&4294967295,I=R+(B<<21&4294967295|B>>>11),B=D+(R^(I|~C))+U[4]+4149444226&4294967295,D=I+(B<<6&4294967295|B>>>26),B=C+(I^(D|~R))+U[11]+3174756917&4294967295,C=D+(B<<10&4294967295|B>>>22),B=R+(D^(C|~I))+U[2]+718787259&4294967295,R=C+(B<<15&4294967295|B>>>17),B=I+(C^(R|~D))+U[9]+3951481745&4294967295,P.g[0]=P.g[0]+D&4294967295,P.g[1]=P.g[1]+(R+(B<<21&4294967295|B>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+C&4294967295}n.prototype.u=function(P,D){D===void 0&&(D=P.length);for(var I=D-this.blockSize,U=this.B,R=this.h,C=0;C<D;){if(R==0)for(;C<=I;)a(this,P,C),C+=this.blockSize;if(typeof P=="string"){for(;C<D;)if(U[R++]=P.charCodeAt(C++),R==this.blockSize){a(this,U),R=0;break}}else for(;C<D;)if(U[R++]=P[C++],R==this.blockSize){a(this,U),R=0;break}}this.h=R,this.o+=D},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var D=1;D<P.length-8;++D)P[D]=0;var I=8*this.o;for(D=P.length-8;D<P.length;++D)P[D]=I&255,I/=256;for(this.u(P),P=Array(16),D=I=0;4>D;++D)for(var U=0;32>U;U+=8)P[I++]=this.g[D]>>>U&255;return P};function s(P,D){var I=c;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=D(P)}function o(P,D){this.h=D;for(var I=[],U=!0,R=P.length-1;0<=R;R--){var C=P[R]|0;U&&C==D||(I[R]=C,U=!1)}this.g=I}var c={};function h(P){return-128<=P&&128>P?s(P,function(D){return new o([D|0],0>D?-1:0)}):new o([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return y;if(0>P)return E(d(-P));for(var D=[],I=1,U=0;P>=I;U++)D[U]=P/I|0,I*=4294967296;return new o(D,0)}function p(P,D){if(P.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P.charAt(0)=="-")return E(p(P.substring(1),D));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(D,8)),U=y,R=0;R<P.length;R+=8){var C=Math.min(8,P.length-R),B=parseInt(P.substring(R,R+C),D);8>C?(C=d(Math.pow(D,C)),U=U.j(C).add(d(B))):(U=U.j(I),U=U.add(d(B)))}return U}var y=h(0),v=h(1),b=h(16777216);t=o.prototype,t.m=function(){if(k(this))return-E(this).m();for(var P=0,D=1,I=0;I<this.g.length;I++){var U=this.i(I);P+=(0<=U?U:4294967296+U)*D,D*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A(this))return"0";if(k(this))return"-"+E(this).toString(P);for(var D=d(Math.pow(P,6)),I=this,U="";;){var R=H(I,D).g;I=S(I,R.j(D));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=R,A(I))return C+U;for(;6>C.length;)C="0"+C;U=C+U}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function A(P){if(P.h!=0)return!1;for(var D=0;D<P.g.length;D++)if(P.g[D]!=0)return!1;return!0}function k(P){return P.h==-1}t.l=function(P){return P=S(this,P),k(P)?-1:A(P)?0:1};function E(P){for(var D=P.g.length,I=[],U=0;U<D;U++)I[U]=~P.g[U];return new o(I,~P.h).add(v)}t.abs=function(){return k(this)?E(this):this},t.add=function(P){for(var D=Math.max(this.g.length,P.g.length),I=[],U=0,R=0;R<=D;R++){var C=U+(this.i(R)&65535)+(P.i(R)&65535),B=(C>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);U=B>>>16,C&=65535,B&=65535,I[R]=B<<16|C}return new o(I,I[I.length-1]&-2147483648?-1:0)};function S(P,D){return P.add(E(D))}t.j=function(P){if(A(this)||A(P))return y;if(k(this))return k(P)?E(this).j(E(P)):E(E(this).j(P));if(k(P))return E(this.j(E(P)));if(0>this.l(b)&&0>P.l(b))return d(this.m()*P.m());for(var D=this.g.length+P.g.length,I=[],U=0;U<2*D;U++)I[U]=0;for(U=0;U<this.g.length;U++)for(var R=0;R<P.g.length;R++){var C=this.i(U)>>>16,B=this.i(U)&65535,W=P.i(R)>>>16,ue=P.i(R)&65535;I[2*U+2*R]+=B*ue,j(I,2*U+2*R),I[2*U+2*R+1]+=C*ue,j(I,2*U+2*R+1),I[2*U+2*R+1]+=B*W,j(I,2*U+2*R+1),I[2*U+2*R+2]+=C*W,j(I,2*U+2*R+2)}for(U=0;U<D;U++)I[U]=I[2*U+1]<<16|I[2*U];for(U=D;U<2*D;U++)I[U]=0;return new o(I,0)};function j(P,D){for(;(P[D]&65535)!=P[D];)P[D+1]+=P[D]>>>16,P[D]&=65535,D++}function M(P,D){this.g=P,this.h=D}function H(P,D){if(A(D))throw Error("division by zero");if(A(P))return new M(y,y);if(k(P))return D=H(E(P),D),new M(E(D.g),E(D.h));if(k(D))return D=H(P,E(D)),new M(E(D.g),D.h);if(30<P.g.length){if(k(P)||k(D))throw Error("slowDivide_ only works with positive integers.");for(var I=v,U=D;0>=U.l(P);)I=K(I),U=K(U);var R=X(I,1),C=X(U,1);for(U=X(U,2),I=X(I,2);!A(U);){var B=C.add(U);0>=B.l(P)&&(R=R.add(I),C=B),U=X(U,1),I=X(I,1)}return D=S(P,R.j(D)),new M(R,D)}for(R=y;0<=P.l(D);){for(I=Math.max(1,Math.floor(P.m()/D.m())),U=Math.ceil(Math.log(I)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),C=d(I),B=C.j(D);k(B)||0<B.l(P);)I-=U,C=d(I),B=C.j(D);A(C)&&(C=v),R=R.add(C),P=S(P,B)}return new M(R,P)}t.A=function(P){return H(this,P).h},t.and=function(P){for(var D=Math.max(this.g.length,P.g.length),I=[],U=0;U<D;U++)I[U]=this.i(U)&P.i(U);return new o(I,this.h&P.h)},t.or=function(P){for(var D=Math.max(this.g.length,P.g.length),I=[],U=0;U<D;U++)I[U]=this.i(U)|P.i(U);return new o(I,this.h|P.h)},t.xor=function(P){for(var D=Math.max(this.g.length,P.g.length),I=[],U=0;U<D;U++)I[U]=this.i(U)^P.i(U);return new o(I,this.h^P.h)};function K(P){for(var D=P.g.length+1,I=[],U=0;U<D;U++)I[U]=P.i(U)<<1|P.i(U-1)>>>31;return new o(I,P.h)}function X(P,D){var I=D>>5;D%=32;for(var U=P.g.length-I,R=[],C=0;C<U;C++)R[C]=0<D?P.i(C+I)>>>D|P.i(C+I+1)<<32-D:P.i(C+I);return new o(R,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,DA=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,u0=o}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jA,Wd,LA,Vg,Ay,OA,PA,MA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,F,q){return x==Array.prototype||x==Object.prototype||(x[F]=q.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof mg=="object"&&mg];for(var F=0;F<x.length;++F){var q=x[F];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var n=r(this);function a(x,F){if(F)e:{var q=n;x=x.split(".");for(var he=0;he<x.length-1;he++){var Me=x[he];if(!(Me in q))break e;q=q[Me]}x=x[x.length-1],he=q[x],F=F(he),F!=he&&F!=null&&e(q,x,{configurable:!0,writable:!0,value:F})}}function s(x,F){x instanceof String&&(x+="");var q=0,he=!1,Me={next:function(){if(!he&&q<x.length){var We=q++;return{value:F(We,x[We]),done:!1}}return he=!0,{done:!0,value:void 0}}};return Me[Symbol.iterator]=function(){return Me},Me}a("Array.prototype.values",function(x){return x||function(){return s(this,function(F,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(x){var F=typeof x;return F=F!="object"?F:x?Array.isArray(x)?"array":F:"null",F=="array"||F=="object"&&typeof x.length=="number"}function d(x){var F=typeof x;return F=="object"&&x!=null||F=="function"}function p(x,F,q){return x.call.apply(x.bind,arguments)}function y(x,F,q){if(!x)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var Me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Me,he),x.apply(F,Me)}}return function(){return x.apply(F,arguments)}}function v(x,F,q){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,v.apply(null,arguments)}function b(x,F){var q=Array.prototype.slice.call(arguments,1);return function(){var he=q.slice();return he.push.apply(he,arguments),x.apply(this,he)}}function A(x,F){function q(){}q.prototype=F.prototype,x.aa=F.prototype,x.prototype=new q,x.prototype.constructor=x,x.Qb=function(he,Me,We){for(var yt=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)yt[Zt-2]=arguments[Zt];return F.prototype[Me].apply(he,yt)}}function k(x){const F=x.length;if(0<F){const q=Array(F);for(let he=0;he<F;he++)q[he]=x[he];return q}return[]}function E(x,F){for(let q=1;q<arguments.length;q++){const he=arguments[q];if(h(he)){const Me=x.length||0,We=he.length||0;x.length=Me+We;for(let yt=0;yt<We;yt++)x[Me+yt]=he[yt]}else x.push(he)}}class S{constructor(F,q){this.i=F,this.j=q,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function j(x){return/^[\s\xa0]*$/.test(x)}function M(){var x=c.navigator;return x&&(x=x.userAgent)?x:""}function H(x){return H[" "](x),x}H[" "]=function(){};var K=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function X(x,F,q){for(const he in x)F.call(q,x[he],he,x)}function P(x,F){for(const q in x)F.call(void 0,x[q],q,x)}function D(x){const F={};for(const q in x)F[q]=x[q];return F}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(x,F){let q,he;for(let Me=1;Me<arguments.length;Me++){he=arguments[Me];for(q in he)x[q]=he[q];for(let We=0;We<I.length;We++)q=I[We],Object.prototype.hasOwnProperty.call(he,q)&&(x[q]=he[q])}}function R(x){var F=1;x=x.split(":");const q=[];for(;0<F&&x.length;)q.push(x.shift()),F--;return x.length&&q.push(x.join(":")),q}function C(x){c.setTimeout(()=>{throw x},0)}function B(){var x=ne;let F=null;return x.g&&(F=x.g,x.g=x.g.next,x.g||(x.h=null),F.next=null),F}class W{constructor(){this.h=this.g=null}add(F,q){const he=ue.get();he.set(F,q),this.h?this.h.next=he:this.g=he,this.h=he}}var ue=new S(()=>new ae,x=>x.reset());class ae{constructor(){this.next=this.g=this.h=null}set(F,q){this.h=F,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let le,se=!1,ne=new W,J=()=>{const x=c.Promise.resolve(void 0);le=()=>{x.then(Ne)}};var Ne=()=>{for(var x;x=B();){try{x.h.call(x.g)}catch(q){C(q)}var F=ue;F.j(x),100>F.h&&(F.h++,x.next=F.g,F.g=x)}se=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(x,F){this.type=x,this.g=this.target=F,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var x=!1,F=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const q=()=>{};c.addEventListener("test",q,F),c.removeEventListener("test",q,F)}catch{}return x}();function Y(x,F){if(z.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var q=this.type=x.type,he=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=F,F=x.relatedTarget){if(K){e:{try{H(F.nodeName);var Me=!0;break e}catch{}Me=!1}Me||(F=null)}}else q=="mouseover"?F=x.fromElement:q=="mouseout"&&(F=x.toElement);this.relatedTarget=F,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:Z[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&Y.aa.h.call(this)}}A(Y,z);var Z={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),xe=0;function we(x,F,q,he,Me){this.listener=x,this.proxy=null,this.src=F,this.type=q,this.capture=!!he,this.ha=Me,this.key=++xe,this.da=this.fa=!1}function je(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function tt(x){this.src=x,this.g={},this.h=0}tt.prototype.add=function(x,F,q,he,Me){var We=x.toString();x=this.g[We],x||(x=this.g[We]=[],this.h++);var yt=Te(x,F,he,Me);return-1<yt?(F=x[yt],q||(F.fa=!1)):(F=new we(F,this.src,We,!!he,Me),F.fa=q,x.push(F)),F};function ee(x,F){var q=F.type;if(q in x.g){var he=x.g[q],Me=Array.prototype.indexOf.call(he,F,void 0),We;(We=0<=Me)&&Array.prototype.splice.call(he,Me,1),We&&(je(F),x.g[q].length==0&&(delete x.g[q],x.h--))}}function Te(x,F,q,he){for(var Me=0;Me<x.length;++Me){var We=x[Me];if(!We.da&&We.listener==F&&We.capture==!!q&&We.ha==he)return Me}return-1}var Qe="closure_lm_"+(1e6*Math.random()|0),Le={};function pe(x,F,q,he,Me){if(Array.isArray(F)){for(var We=0;We<F.length;We++)pe(x,F[We],q,he,Me);return null}return q=Wt(q),x&&x[de]?x.K(F,q,d(he)?!!he.capture:!1,Me):Ke(x,F,q,!1,he,Me)}function Ke(x,F,q,he,Me,We){if(!F)throw Error("Invalid event type");var yt=d(Me)?!!Me.capture:!!Me,Zt=Dt(x);if(Zt||(x[Qe]=Zt=new tt(x)),q=Zt.add(F,q,he,yt,We),q.proxy)return q;if(he=xt(),q.proxy=he,he.src=x,he.listener=q,x.addEventListener)G||(Me=yt),Me===void 0&&(Me=!1),x.addEventListener(F.toString(),he,Me);else if(x.attachEvent)x.attachEvent(_t(F.toString()),he);else if(x.addListener&&x.removeListener)x.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return q}function xt(){function x(q){return F.call(x.src,x.listener,q)}const F=bt;return x}function st(x,F,q,he,Me){if(Array.isArray(F))for(var We=0;We<F.length;We++)st(x,F[We],q,he,Me);else he=d(he)?!!he.capture:!!he,q=Wt(q),x&&x[de]?(x=x.i,F=String(F).toString(),F in x.g&&(We=x.g[F],q=Te(We,q,he,Me),-1<q&&(je(We[q]),Array.prototype.splice.call(We,q,1),We.length==0&&(delete x.g[F],x.h--)))):x&&(x=Dt(x))&&(F=x.g[F.toString()],x=-1,F&&(x=Te(F,q,he,Me)),(q=-1<x?F[x]:null)&&pt(q))}function pt(x){if(typeof x!="number"&&x&&!x.da){var F=x.src;if(F&&F[de])ee(F.i,x);else{var q=x.type,he=x.proxy;F.removeEventListener?F.removeEventListener(q,he,x.capture):F.detachEvent?F.detachEvent(_t(q),he):F.addListener&&F.removeListener&&F.removeListener(he),(q=Dt(F))?(ee(q,x),q.h==0&&(q.src=null,F[Qe]=null)):je(x)}}}function _t(x){return x in Le?Le[x]:Le[x]="on"+x}function bt(x,F){if(x.da)x=!0;else{F=new Y(F,this);var q=x.listener,he=x.ha||x.src;x.fa&&pt(x),x=q.call(he,F)}return x}function Dt(x){return x=x[Qe],x instanceof tt?x:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(x){return typeof x=="function"?x:(x[Ut]||(x[Ut]=function(F){return x.handleEvent(F)}),x[Ut])}function Pt(){L.call(this),this.i=new tt(this),this.M=this,this.F=null}A(Pt,L),Pt.prototype[de]=!0,Pt.prototype.removeEventListener=function(x,F,q,he){st(this,x,F,q,he)};function Mt(x,F){var q,he=x.F;if(he)for(q=[];he;he=he.F)q.push(he);if(x=x.M,he=F.type||F,typeof F=="string")F=new z(F,x);else if(F instanceof z)F.target=F.target||x;else{var Me=F;F=new z(he,x),U(F,Me)}if(Me=!0,q)for(var We=q.length-1;0<=We;We--){var yt=F.g=q[We];Me=Ht(yt,he,!0,F)&&Me}if(yt=F.g=x,Me=Ht(yt,he,!0,F)&&Me,Me=Ht(yt,he,!1,F)&&Me,q)for(We=0;We<q.length;We++)yt=F.g=q[We],Me=Ht(yt,he,!1,F)&&Me}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var x=this.i,F;for(F in x.g){for(var q=x.g[F],he=0;he<q.length;he++)je(q[he]);delete x.g[F],x.h--}}this.F=null},Pt.prototype.K=function(x,F,q,he){return this.i.add(String(x),F,!1,q,he)},Pt.prototype.L=function(x,F,q,he){return this.i.add(String(x),F,!0,q,he)};function Ht(x,F,q,he){if(F=x.i.g[String(F)],!F)return!0;F=F.concat();for(var Me=!0,We=0;We<F.length;++We){var yt=F[We];if(yt&&!yt.da&&yt.capture==q){var Zt=yt.listener,Rr=yt.ha||yt.src;yt.fa&&ee(x.i,yt),Me=Zt.call(Rr,he)!==!1&&Me}}return Me&&!he.defaultPrevented}function It(x,F,q){if(typeof x=="function")q&&(x=v(x,q));else if(x&&typeof x.handleEvent=="function")x=v(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:c.setTimeout(x,F||0)}function Tt(x){x.g=It(()=>{x.g=null,x.i&&(x.i=!1,Tt(x))},x.l);const F=x.h;x.h=null,x.m.apply(null,F)}class vt extends L{constructor(F,q){super(),this.m=F,this.l=q,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(x){L.call(this),this.h=x,this.g={}}A(Dr,L);var qt=[];function _n(x){X(x.g,function(F,q){this.g.hasOwnProperty(q)&&pt(F)},x),x.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),_n(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=c.JSON.stringify,Wr=c.JSON.parse,ga=class{stringify(x){return c.JSON.stringify(x,void 0)}parse(x){return c.JSON.parse(x,void 0)}};function wr(){}wr.prototype.h=null;function As(x){return x.h||(x.h=x.i())}function on(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function na(){z.call(this,"d")}A(na,z);function Yr(){z.call(this,"c")}A(Yr,z);var $t={},Sr=null;function Ga(){return Sr=Sr||new Pt}$t.La="serverreachability";function Nn(x){z.call(this,$t.La,x)}A(Nn,z);function aa(x){const F=Ga();Mt(F,new Nn(F))}$t.STAT_EVENT="statevent";function ls(x,F){z.call(this,$t.STAT_EVENT,x),this.stat=F}A(ls,z);function Rt(x){const F=Ga();Mt(F,new ls(F,x))}$t.Ma="timingevent";function Xr(x,F){z.call(this,$t.Ma,x),this.size=F}A(Xr,z);function Mr(x,F){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){x()},F)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function kn(x,F,q,he,Me,We){x.info(function(){if(x.g)if(We)for(var yt="",Zt=We.split("&"),Rr=0;Rr<Zt.length;Rr++){var cr=Zt[Rr].split("=");if(1<cr.length){var en=cr[0];cr=cr[1];var ln=en.split("_");yt=2<=ln.length&&ln[1]=="type"?yt+(en+"="+cr+"&"):yt+(en+"=redacted&")}}else yt=null;else yt=We;return"XMLHTTP REQ ("+he+") [attempt "+Me+"]: "+F+`
`+q+`
`+yt})}function Sn(x,F,q,he,Me,We,yt){x.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Me+"]: "+F+`
`+q+`
`+We+" "+yt})}function ie(x,F,q,he){x.info(function(){return"XMLHTTP TEXT ("+F+"): "+ye(x,q)+(he?" "+he:"")})}function Ae(x,F){x.info(function(){return"TIMEOUT: "+F})}fn.prototype.info=function(){};function ye(x,F){if(!x.g)return F;if(!F)return null;try{var q=JSON.parse(F);if(q){for(x=0;x<q.length;x++)if(Array.isArray(q[x])){var he=q[x];if(!(2>he.length)){var Me=he[1];if(Array.isArray(Me)&&!(1>Me.length)){var We=Me[0];if(We!="noop"&&We!="stop"&&We!="close")for(var yt=1;yt<Me.length;yt++)Me[yt]=""}}}}return gr(q)}catch{return F}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ee;function ze(){}A(ze,wr),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},Ee=new ze;function Ze(x,F,q,he){this.j=x,this.i=F,this.l=q,this.R=he||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}var Ge={},Xe={};function ft(x,F,q){x.L=1,x.v=ao(ja(F)),x.m=q,x.P=!0,kt(x,null)}function kt(x,F){x.F=Date.now(),At(x),x.A=ja(x.v);var q=x.A,he=x.R;Array.isArray(he)||(he=[String(he)]),Jt(q.i,"t",he),x.C=0,q=x.j.J,x.h=new Fe,x.g=re(x.j,q?F:null,!x.m),0<x.O&&(x.M=new vt(v(x.Y,x,x.g),x.O)),F=x.U,q=x.g,he=x.ca;var Me="readystatechange";Array.isArray(Me)||(Me&&(qt[0]=Me.toString()),Me=qt);for(var We=0;We<Me.length;We++){var yt=pe(q,Me[We],he||F.handleEvent,!1,F.h||F);if(!yt)break;F.g[yt.key]=yt}F=x.H?D(x.H):{},x.m?(x.u||(x.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,F)):(x.u="GET",x.g.ea(x.A,x.u,null,F)),aa(),kn(x.i,x.u,x.A,x.l,x.R,x.m)}Ze.prototype.ca=function(x){x=x.target;const F=this.M;F&&Yn(x)==3?F.j():this.Y(x)},Ze.prototype.Y=function(x){try{if(x==this.g)e:{const ln=Yn(this.g);var F=this.g.Ba();const vi=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||ln!=4||F==7||(F==8||0>=vi?aa(3):aa(2)),_r(this);var q=this.g.Z();this.X=q;t:if(Ct(this)){var he=gu(this.g);x="";var Me=he.length,We=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),kr(this);var yt="";break t}this.h.i=new c.TextDecoder}for(F=0;F<Me;F++)this.h.h=!0,x+=this.h.i.decode(he[F],{stream:!(We&&F==Me-1)});he.length=0,this.h.g+=x,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=q==200,Sn(this.i,this.u,this.A,this.l,this.R,ln,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Zt,Rr=this.g;if((Zt=Rr.g?Rr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Zt)){var cr=Zt;break t}}cr=null}if(q=cr)ie(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ra(this,q);else{this.o=!1,this.s=3,Rt(12),Tr(this),kr(this);break e}}if(this.P){q=!0;let Vn;for(;!this.J&&this.C<yt.length;)if(Vn=wt(this,yt),Vn==Xe){ln==4&&(this.s=4,Rt(14),q=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Ge){this.s=4,Rt(15),ie(this.i,this.l,yt,"[Invalid Chunk]"),q=!1;break}else ie(this.i,this.l,Vn,null),Ra(this,Vn);if(Ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||yt.length!=0||this.h.h||(this.s=1,Rt(16),q=!1),this.o=this.o&&q,!q)ie(this.i,this.l,yt,"[Invalid Chunked Response]"),Tr(this),kr(this);else if(0<yt.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),uo(en),en.M=!0,Rt(11))}}else ie(this.i,this.l,yt,null),Ra(this,yt);ln==4&&Tr(this),this.o&&!this.J&&(ln==4?fo(this.j,this):(this.o=!1,At(this)))}else oo(this.g),q==400&&0<yt.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Tr(this),kr(this)}}}catch{}finally{}};function Ct(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function wt(x,F){var q=x.C,he=F.indexOf(`
`,q);return he==-1?Xe:(q=Number(F.substring(q,he)),isNaN(q)?Ge:(he+=1,he+q>F.length?Xe:(F=F.slice(he,he+q),x.C=he+q,F)))}Ze.prototype.cancel=function(){this.J=!0,Tr(this)};function At(x){x.S=Date.now()+x.I,Qt(x,x.I)}function Qt(x,F){if(x.B!=null)throw Error("WatchDog timer not null");x.B=Mr(v(x.ba,x),F)}function _r(x){x.B&&(c.clearTimeout(x.B),x.B=null)}Ze.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(Ae(this.i,this.A),this.L!=2&&(aa(),Rt(17)),Tr(this),this.s=2,kr(this)):Qt(this,this.S-x)};function kr(x){x.j.G==0||x.J||fo(x.j,x)}function Tr(x){_r(x);var F=x.M;F&&typeof F.ma=="function"&&F.ma(),x.M=null,_n(x.U),x.g&&(F=x.g,x.g=null,F.abort(),F.ma())}function Ra(x,F){try{var q=x.j;if(q.G!=0&&(q.g==x||Ia(q.h,x))){if(!x.K&&Ia(q.h,x)&&q.G==3){try{var he=q.Da.g.parse(F)}catch{he=null}if(Array.isArray(he)&&he.length==3){var Me=he;if(Me[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<x.F)Fi(q),_l(q);else break e;Fo(q),Rt(18)}}else q.za=Me[1],0<q.za-q.T&&37500>Me[2]&&q.F&&q.v==0&&!q.C&&(q.C=Mr(v(q.Za,q),6e3));if(1>=cs(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Xa(q,11)}else if((x.K||q.g==x)&&Fi(q),!j(F))for(Me=q.Da.g.parse(F),F=0;F<Me.length;F++){let cr=Me[F];if(q.T=cr[0],cr=cr[1],q.G==2)if(cr[0]=="c"){q.K=cr[1],q.ia=cr[2];const en=cr[3];en!=null&&(q.la=en,q.j.info("VER="+q.la));const ln=cr[4];ln!=null&&(q.Aa=ln,q.j.info("SVER="+q.Aa));const vi=cr[5];vi!=null&&typeof vi=="number"&&0<vi&&(he=1.5*vi,q.L=he,q.j.info("backChannelRequestTimeoutMs_="+he)),he=q;const Vn=x.g;if(Vn){const Cs=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var We=he.h;We.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(xn(We,We.h),We.h=null))}if(he.D){const ho=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(he.ya=ho,Zr(he.I,he.D,ho))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-x.F,q.j.info("Handshake RTT: "+q.R+"ms")),he=q;var yt=x;if(he.qa=T(he,he.J?he.ia:null,he.W),yt.K){ya(he.h,yt);var Zt=yt,Rr=he.L;Rr&&(Zt.I=Rr),Zt.B&&(_r(Zt),At(Zt)),he.g=yt}else Al(he);0<q.i.length&&kl(q)}else cr[0]!="stop"&&cr[0]!="close"||Xa(q,7);else q.G==3&&(cr[0]=="stop"||cr[0]=="close"?cr[0]=="stop"?Xa(q,7):Mi(q):cr[0]!="noop"&&q.l&&q.l.ta(cr),q.v=0)}}aa(4)}catch{}}var fi=class{constructor(x,F){this.g=x,this.map=F}};function xa(x){this.l=x||10,c.PerformanceNavigationTiming?(x=c.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $a(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function cs(x){return x.h?1:x.g?x.g.size:0}function Ia(x,F){return x.h?x.h==F:x.g?x.g.has(F):!1}function xn(x,F){x.g?x.g.add(F):x.h=F}function ya(x,F){x.h&&x.h==F?x.h=null:x.g&&x.g.has(F)&&x.g.delete(F)}xa.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function vl(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let F=x.i;for(const q of x.g.values())F=F.concat(q.D);return F}return k(x.i)}function du(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(h(x)){for(var F=[],q=x.length,he=0;he<q;he++)F.push(x[he]);return F}F=[],q=0;for(he in x)F[q++]=x[he];return F}function to(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(h(x)||typeof x=="string"){var F=[];x=x.length;for(var q=0;q<x;q++)F.push(q);return F}F=[],q=0;for(const he in x)F[q++]=he;return F}}}function mc(x,F){if(x.forEach&&typeof x.forEach=="function")x.forEach(F,void 0);else if(h(x)||typeof x=="string")Array.prototype.forEach.call(x,F,void 0);else for(var q=to(x),he=du(x),Me=he.length,We=0;We<Me;We++)F.call(void 0,he[We],q&&q[We],x)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bl(x,F){if(x){x=x.split("&");for(var q=0;q<x.length;q++){var he=x[q].indexOf("="),Me=null;if(0<=he){var We=x[q].substring(0,he);Me=x[q].substring(he+1)}else We=x[q];F(We,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function Fr(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Fr){this.h=x.h,ro(this,x.j),this.o=x.o,this.g=x.g,no(this,x.s),this.l=x.l;var F=x.i,q=new di;q.i=F.i,F.g&&(q.g=new Map(F.g),q.h=F.h),hi(this,q),this.m=x.m}else x&&(F=String(x).match(Da))?(this.h=!1,ro(this,F[1]||"",!0),this.o=Es(F[2]||""),this.g=Es(F[3]||"",!0),no(this,F[4]),this.l=Es(F[5]||"",!0),hi(this,F[6]||"",!0),this.m=Es(F[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Fr.prototype.toString=function(){var x=[],F=this.j;F&&x.push(Di(F,pc,!0),":");var q=this.g;return(q||F=="file")&&(x.push("//"),(F=this.o)&&x.push(Di(F,pc,!0),"@"),x.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&x.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&x.push("/"),x.push(Di(q,q.charAt(0)=="/"?ji:gc,!0))),(q=this.i.toString())&&x.push("?",q),(q=this.m)&&x.push("#",Di(q,Li)),x.join("")};function ja(x){return new Fr(x)}function ro(x,F,q){x.j=q?Es(F,!0):F,x.j&&(x.j=x.j.replace(/:$/,""))}function no(x,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);x.s=F}else x.s=null}function hi(x,F,q){F instanceof di?(x.i=F,pu(x.i,x.h)):(q||(F=Di(F,wl)),x.i=new di(F,x.h))}function Zr(x,F,q){x.i.set(F,q)}function ao(x){return Zr(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function Es(x,F){return x?F?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Di(x,F,q){return typeof x=="string"?(x=encodeURI(x).replace(F,mu),q&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function mu(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var pc=/[#\/\?@]/g,gc=/[#\?:]/g,ji=/[#\?]/g,wl=/[#\?@]/g,Li=/#/g;function di(x,F){this.h=this.g=null,this.i=x||null,this.j=!!F}function hn(x){x.g||(x.g=new Map,x.h=0,x.i&&bl(x.i,function(F,q){x.add(decodeURIComponent(F.replace(/\+/g," ")),q)}))}t=di.prototype,t.add=function(x,F){hn(this),this.i=null,x=pi(this,x);var q=this.g.get(x);return q||this.g.set(x,q=[]),q.push(F),this.h+=1,this};function Oi(x,F){hn(x),F=pi(x,F),x.g.has(F)&&(x.i=null,x.h-=x.g.get(F).length,x.g.delete(F))}function mi(x,F){return hn(x),F=pi(x,F),x.g.has(F)}t.forEach=function(x,F){hn(this),this.g.forEach(function(q,he){q.forEach(function(Me){x.call(F,Me,he,this)},this)},this)},t.na=function(){hn(this);const x=Array.from(this.g.values()),F=Array.from(this.g.keys()),q=[];for(let he=0;he<F.length;he++){const Me=x[he];for(let We=0;We<Me.length;We++)q.push(F[he])}return q},t.V=function(x){hn(this);let F=[];if(typeof x=="string")mi(this,x)&&(F=F.concat(this.g.get(pi(this,x))));else{x=Array.from(this.g.values());for(let q=0;q<x.length;q++)F=F.concat(x[q])}return F},t.set=function(x,F){return hn(this),this.i=null,x=pi(this,x),mi(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[F]),this.h+=1,this},t.get=function(x,F){return x?(x=this.V(x),0<x.length?String(x[0]):F):F};function Jt(x,F,q){Oi(x,F),0<q.length&&(x.i=null,x.g.set(pi(x,F),k(q)),x.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],F=Array.from(this.g.keys());for(var q=0;q<F.length;q++){var he=F[q];const We=encodeURIComponent(String(he)),yt=this.V(he);for(he=0;he<yt.length;he++){var Me=We;yt[he]!==""&&(Me+="="+encodeURIComponent(String(yt[he]))),x.push(Me)}}return this.i=x.join("&")};function pi(x,F){return F=String(F),x.j&&(F=F.toLowerCase()),F}function pu(x,F){F&&!x.j&&(hn(x),x.i=null,x.g.forEach(function(q,he){var Me=he.toLowerCase();he!=Me&&(Oi(this,he),Jt(this,Me,q))},x)),x.j=F}function Ka(x,F){const q=new fn;if(c.Image){const he=new Image;he.onload=b(us,q,"TestLoadImage: loaded",!0,F,he),he.onerror=b(us,q,"TestLoadImage: error",!1,F,he),he.onabort=b(us,q,"TestLoadImage: abort",!1,F,he),he.ontimeout=b(us,q,"TestLoadImage: timeout",!1,F,he),c.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=x}else F(!1)}function Ns(x,F){const q=new fn,he=new AbortController,Me=setTimeout(()=>{he.abort(),us(q,"TestPingServer: timeout",!1,F)},1e4);fetch(x,{signal:he.signal}).then(We=>{clearTimeout(Me),We.ok?us(q,"TestPingServer: ok",!0,F):us(q,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Me),us(q,"TestPingServer: error",!1,F)})}function us(x,F,q,he,Me){try{Me&&(Me.onload=null,Me.onerror=null,Me.onabort=null,Me.ontimeout=null),he(q)}catch{}}function gi(){this.g=new ga}function Ss(x,F,q){const he=q||"";try{mc(x,function(Me,We){let yt=Me;d(Me)&&(yt=gr(Me)),F.push(he+We+"="+encodeURIComponent(yt))})}catch(Me){throw F.push(he+"type="+encodeURIComponent("_badmap")),Me}}function so(x){this.l=x.Ub||null,this.j=x.eb||!1}A(so,wr),so.prototype.g=function(){return new Pi(this.l,this.j)},so.prototype.i=function(x){return function(){return x}}({});function Pi(x,F){Pt.call(this),this.D=x,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Pi,Pt),t=Pi.prototype,t.open=function(x,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=F,this.readyState=1,Wa(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(F.body=x),(this.D||c).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var F=x.value?x.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!x.done}))&&(this.response=this.responseText+=F)}x.done?Ts(this):Wa(this),this.readyState==3&&xc(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,Ts(this))},t.Qa=function(x){this.g&&(this.response=x,Ts(this))},t.ga=function(){this.g&&Ts(this)};function Ts(x){x.readyState=4,x.l=null,x.j=null,x.v=null,Wa(x)}t.setRequestHeader=function(x,F){this.u.append(x,F)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],F=this.h.entries();for(var q=F.next();!q.done;)q=q.value,x.push(q[0]+": "+q[1]),q=F.next();return x.join(`\r
`)};function Wa(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function xi(x){let F="";return X(x,function(q,he){F+=he,F+=":",F+=q,F+=`\r
`}),F}function Wn(x,F,q){e:{for(he in q){var he=!1;break e}he=!0}he||(q=xi(q),typeof x=="string"?q!=null&&encodeURIComponent(String(q)):Zr(x,F,q))}function Cr(x){Pt.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Cr,Pt);var io=/^https?$/i,yi=["POST","PUT"];t=Cr.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,F,q,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);F=F?F.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ee.g(),this.v=this.o?As(this.o):As(Ee),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(F,String(x),!0),this.B=!1}catch(We){yc(this,We);return}if(x=q||"",q=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Me in he)q.set(Me,he[Me]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const We of he.keys())q.set(We,he.get(We));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(q.keys()).find(We=>We.toLowerCase()=="content-type"),Me=c.FormData&&x instanceof c.FormData,!(0<=Array.prototype.indexOf.call(yi,F,void 0))||he||Me||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,yt]of q)this.g.setRequestHeader(We,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ya(this),this.u=!0,this.g.send(x),this.u=!1}catch(We){yc(this,We)}};function yc(x,F){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=F,x.m=5,jo(x),ei(x)}function jo(x){x.A||(x.A=!0,Mt(x,"complete"),Mt(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,Mt(this,"complete"),Mt(this,"abort"),ei(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Cr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},t.bb=function(){Lo(this)};function Lo(x){if(x.h&&typeof o<"u"&&(!x.v[1]||Yn(x)!=4||x.Z()!=2)){if(x.u&&Yn(x)==4)It(x.Ea,0,x);else if(Mt(x,"readystatechange"),Yn(x)==4){x.h=!1;try{const yt=x.Z();e:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var q;if(!(q=F)){var he;if(he=yt===0){var Me=String(x.D).match(Da)[1]||null;!Me&&c.self&&c.self.location&&(Me=c.self.location.protocol.slice(0,-1)),he=!io.test(Me?Me.toLowerCase():"")}q=he}if(q)Mt(x,"complete"),Mt(x,"success");else{x.m=6;try{var We=2<Yn(x)?x.g.statusText:""}catch{We=""}x.l=We+" ["+x.Z()+"]",jo(x)}}finally{ei(x)}}}}function ei(x,F){if(x.g){Ya(x);const q=x.g,he=x.v[0]?()=>{}:null;x.g=null,x.v=null,F||Mt(x,"ready");try{q.onreadystatechange=he}catch{}}}function Ya(x){x.I&&(c.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function Yn(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var F=this.g.responseText;return x&&F.indexOf(x)==0&&(F=F.substring(x.length)),Wr(F)}};function gu(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function oo(x){const F={};x=(x.g&&2<=Yn(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<x.length;he++){if(j(x[he]))continue;var q=R(x[he]);const Me=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const We=F[Me]||[];F[Me]=We,We.push(q)}P(F,function(he){return he.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(x,F,q){return q&&q.internalChannelParams&&q.internalChannelParams[x]||F}function lo(x){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=La("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=La("baseRetryDelayMs",5e3,x),this.cb=La("retryDelaySeedMs",1e4,x),this.Wa=La("forwardChannelMaxRetries",2,x),this.wa=La("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new xa(x&&x.concurrentRequestLimit),this.Da=new gi,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lo.prototype,t.la=8,t.G=1,t.connect=function(x,F,q,he){Rt(0),this.W=x,this.H=F||{},q&&he!==void 0&&(this.H.OSID=q,this.H.OAID=he),this.F=this.X,this.I=T(this,null,this.W),kl(this)};function Mi(x){if(Oo(x),x.G==3){var F=x.U++,q=ja(x.I);if(Zr(q,"SID",x.K),Zr(q,"RID",F),Zr(q,"TYPE","terminate"),co(x,q),F=new Ze(x,x.j,F),F.L=2,F.v=ao(ja(q)),q=!1,c.navigator&&c.navigator.sendBeacon)try{q=c.navigator.sendBeacon(F.v.toString(),"")}catch{}!q&&c.Image&&(new Image().src=F.v,q=!0),q||(F.g=re(F.j,null),F.g.ea(F.v)),F.F=Date.now(),At(F)}El(x)}function _l(x){x.g&&(uo(x),x.g.cancel(),x.g=null)}function Oo(x){_l(x),x.u&&(c.clearTimeout(x.u),x.u=null),Fi(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&c.clearTimeout(x.s),x.s=null)}function kl(x){if(!$a(x.h)&&!x.s){x.s=!0;var F=x.Ga;le||J(),se||(le(),se=!0),ne.add(F,x),x.B=0}}function vc(x,F){return cs(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=F.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=Mr(v(x.Ga,x,F),Bo(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const Me=new Ze(this,this.j,x);let We=this.o;if(this.S&&(We?(We=D(We),U(We,this.S)):We=this.S),this.m!==null||this.O||(Me.H=We,We=null),this.P)e:{for(var F=0,q=0;q<this.i.length;q++){t:{var he=this.i[q];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(F+=he,4096<F){F=q;break e}if(F===4096||q===this.i.length-1){F=q+1;break e}}F=1e3}else F=1e3;F=Mo(this,Me,F),q=ja(this.I),Zr(q,"RID",x),Zr(q,"CVER",22),this.D&&Zr(q,"X-HTTP-Session-Id",this.D),co(this,q),We&&(this.O?F="headers="+encodeURIComponent(String(xi(We)))+"&"+F:this.m&&Wn(q,this.m,We)),xn(this.h,Me),this.Ua&&Zr(q,"TYPE","init"),this.P?(Zr(q,"$req",F),Zr(q,"SID","null"),Me.T=!0,ft(Me,q,null)):ft(Me,q,F),this.G=2}}else this.G==3&&(x?Po(this,x):this.i.length==0||$a(this.h)||Po(this))};function Po(x,F){var q;F?q=F.l:q=x.U++;const he=ja(x.I);Zr(he,"SID",x.K),Zr(he,"RID",q),Zr(he,"AID",x.T),co(x,he),x.m&&x.o&&Wn(he,x.m,x.o),q=new Ze(x,x.j,q,x.B+1),x.m===null&&(q.H=x.o),F&&(x.i=F.D.concat(x.i)),F=Mo(x,q,1e3),q.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),xn(x.h,q),ft(q,he,F)}function co(x,F){x.H&&X(x.H,function(q,he){Zr(F,he,q)}),x.l&&mc({},function(q,he){Zr(F,he,q)})}function Mo(x,F,q){q=Math.min(x.i.length,q);var he=x.l?v(x.l.Na,x.l,x):null;e:{var Me=x.i;let We=-1;for(;;){const yt=["count="+q];We==-1?0<q?(We=Me[0].g,yt.push("ofs="+We)):We=0:yt.push("ofs="+We);let Zt=!0;for(let Rr=0;Rr<q;Rr++){let cr=Me[Rr].g;const en=Me[Rr].map;if(cr-=We,0>cr)We=Math.max(0,Me[Rr].g-100),Zt=!1;else try{Ss(en,yt,"req"+cr+"_")}catch{he&&he(en)}}if(Zt){he=yt.join("&");break e}}}return x=x.i.splice(0,q),F.D=x,he}function Al(x){if(!x.g&&!x.u){x.Y=1;var F=x.Fa;le||J(),se||(le(),se=!0),ne.add(F,x),x.v=0}}function Fo(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=Mr(v(x.Fa,x),Bo(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=Mr(v(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),_l(this),xu(this))};function uo(x){x.A!=null&&(c.clearTimeout(x.A),x.A=null)}function xu(x){x.g=new Ze(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var F=ja(x.qa);Zr(F,"RID","rpc"),Zr(F,"SID",x.K),Zr(F,"AID",x.T),Zr(F,"CI",x.F?"0":"1"),!x.F&&x.ja&&Zr(F,"TO",x.ja),Zr(F,"TYPE","xmlhttp"),co(x,F),x.m&&x.o&&Wn(F,x.m,x.o),x.L&&(x.g.I=x.L);var q=x.g;x=x.ia,q.L=1,q.v=ao(ja(F)),q.m=null,q.P=!0,kt(q,x)}t.Za=function(){this.C!=null&&(this.C=null,_l(this),Fo(this),Rt(19))};function Fi(x){x.C!=null&&(c.clearTimeout(x.C),x.C=null)}function fo(x,F){var q=null;if(x.g==F){Fi(x),uo(x),x.g=null;var he=2}else if(Ia(x.h,F))q=F.D,ya(x.h,F),he=1;else return;if(x.G!=0){if(F.o)if(he==1){q=F.m?F.m.length:0,F=Date.now()-F.F;var Me=x.B;he=Ga(),Mt(he,new Xr(he,q)),kl(x)}else Al(x);else if(Me=F.s,Me==3||Me==0&&0<F.X||!(he==1&&vc(x,F)||he==2&&Fo(x)))switch(q&&0<q.length&&(F=x.h,F.i=F.i.concat(q)),Me){case 1:Xa(x,5);break;case 4:Xa(x,10);break;case 3:Xa(x,6);break;default:Xa(x,2)}}}function Bo(x,F){let q=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(q*=2),q*F}function Xa(x,F){if(x.j.info("Error code "+F),F==2){var q=v(x.fb,x),he=x.Xa;const Me=!he;he=new Fr(he||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ro(he,"https"),ao(he),Me?Ka(he.toString(),q):Ns(he.toString(),q)}else Rt(2);x.G=0,x.l&&x.l.sa(F),El(x),Oo(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function El(x){if(x.G=0,x.ka=[],x.l){const F=vl(x.h);(F.length!=0||x.i.length!=0)&&(E(x.ka,F),E(x.ka,x.i),x.h.i.length=0,k(x.i),x.i.length=0),x.l.ra()}}function T(x,F,q){var he=q instanceof Fr?ja(q):new Fr(q);if(he.g!="")F&&(he.g=F+"."+he.g),no(he,he.s);else{var Me=c.location;he=Me.protocol,F=F?F+"."+Me.hostname:Me.hostname,Me=+Me.port;var We=new Fr(null);he&&ro(We,he),F&&(We.g=F),Me&&no(We,Me),q&&(We.l=q),he=We}return q=x.D,F=x.ya,q&&F&&Zr(he,q,F),Zr(he,"VER",x.la),co(x,he),he}function re(x,F,q){if(F&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=x.Ca&&!x.pa?new Cr(new so({eb:q})):new Cr(x.pa),F.Ha(x.J),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Se(){}t=Se.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Re(){}Re.prototype.g=function(x,F){return new Be(x,F)};function Be(x,F){Pt.call(this),this.g=new lo(F),this.l=x,this.h=F&&F.messageUrlParams||null,x=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(x?x["X-WebChannel-Content-Type"]=F.messageContentType:x={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(x?x["X-WebChannel-Client-Profile"]=F.va:x={"X-WebChannel-Client-Profile":F.va}),this.g.S=x,(x=F&&F.Sb)&&!j(x)&&(this.g.m=x),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!j(F)&&(this.g.D=F,x=this.h,x!==null&&F in x&&(x=this.h,F in x&&delete x[F])),this.j=new Nt(this)}A(Be,Pt),Be.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Be.prototype.close=function(){Mi(this.g)},Be.prototype.o=function(x){var F=this.g;if(typeof x=="string"){var q={};q.__data__=x,x=q}else this.u&&(q={},q.__data__=gr(x),x=q);F.i.push(new fi(F.Ya++,x)),F.G==3&&kl(F)},Be.prototype.N=function(){this.g.l=null,delete this.j,Mi(this.g),delete this.g,Be.aa.N.call(this)};function nt(x){na.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var F=x.__sm__;if(F){e:{for(const q in F){x=q;break e}x=void 0}(this.i=x)&&(x=this.i,F=F!==null&&x in F?F[x]:void 0),this.data=F}else this.data=x}A(nt,na);function gt(){Yr.call(this),this.status=1}A(gt,Yr);function Nt(x){this.g=x}A(Nt,Se),Nt.prototype.ua=function(){Mt(this.g,"a")},Nt.prototype.ta=function(x){Mt(this.g,new nt(x))},Nt.prototype.sa=function(x){Mt(this.g,new gt)},Nt.prototype.ra=function(){Mt(this.g,"b")},Re.prototype.createWebChannel=Re.prototype.g,Be.prototype.send=Be.prototype.o,Be.prototype.open=Be.prototype.m,Be.prototype.close=Be.prototype.close,MA=function(){return new Re},PA=function(){return Ga()},OA=$t,Ay={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Vg=ve,ke.COMPLETE="complete",LA=ke,on.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,Wd=on,Cr.prototype.listenOnce=Cr.prototype.L,Cr.prototype.getLastError=Cr.prototype.Ka,Cr.prototype.getLastErrorCode=Cr.prototype.Ba,Cr.prototype.getStatus=Cr.prototype.Z,Cr.prototype.getResponseJson=Cr.prototype.Oa,Cr.prototype.getResponseText=Cr.prototype.oa,Cr.prototype.send=Cr.prototype.ea,Cr.prototype.setWithCredentials=Cr.prototype.Ha,jA=Cr}).apply(typeof mg<"u"?mg:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",K_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qs.UNAUTHENTICATED=new qs(null),qs.GOOGLE_CREDENTIALS=new qs("google-credentials-uid"),qs.FIRST_PARTY=new qs("first-party-uid"),qs.MOCK_USER=new qs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Sv("@firebase/firestore");function lh(){return ff.logLevel}function Bt(t,...e){if(ff.logLevel<=Or.DEBUG){const r=e.map(Bv);ff.debug(`Firestore (${Wh}): ${t}`,...r)}}function su(t,...e){if(ff.logLevel<=Or.ERROR){const r=e.map(Bv);ff.error(`Firestore (${Wh}): ${t}`,...r)}}function hf(t,...e){if(ff.logLevel<=Or.WARN){const r=e.map(Bv);ff.warn(`Firestore (${Wh}): ${t}`,...r)}}function Bv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,FA(t,n,r)}function FA(t,e,r){let n=`FIRESTORE (${Wh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw su(n),new Error(n)}function un(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||FA(e,a,n)}function pr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ft extends cu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(qs.UNAUTHENTICATED))}shutdown(){}}class uD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class fD{constructor(e){this.t=e,this.currentUser=qs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){un(this.o===void 0,42304);let n=this.i;const a=h=>this.i!==n?(n=this.i,r(h)):Promise.resolve();let s=new Xc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xc,e.enqueueRetryable(()=>a(this.currentUser))};const o=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},c=h=>{Bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xc)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(un(typeof n.accessToken=="string",31837,{l:n}),new BA(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return un(e===null||typeof e=="string",2055,{h:e}),new qs(e)}}class hD{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=qs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dD{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new hD(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(qs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,To(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){un(this.o===void 0,3512);const n=s=>{s.error!=null&&Bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Bt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const a=s=>{Bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(un(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new W_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=pD(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=e.charAt(a[s]%62))}return n}}function Nr(t,e){return t<e?-1:t>e?1:0}function Ey(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),a=e.codePointAt(r);if(n!==a){if(n<128&&a<128)return Nr(n,a);{const s=VA(),o=gD(s.encode(Y_(t,r)),s.encode(Y_(e,r)));return o!==0?o:Nr(n,a)}}r+=n>65535?2:1}return Nr(t.length,e.length)}function Y_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function gD(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Nr(t[r],e[r]);return Nr(t.length,e.length)}function Dh(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,Q_=1e6;class Ca{static now(){return Ca.fromMillis(Date.now())}static fromDate(e){return Ca.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Q_);return new Ca(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ft(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ft(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<X_)throw new Ft(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ft(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q_}_compareTo(e){return this.seconds===e.seconds?Nr(this.nanoseconds,e.nanoseconds):Nr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{static fromTimestamp(e){return new fr(e)}static min(){return new fr(new Ca(0,0))}static max(){return new fr(new Ca(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__name__";class Jl{constructor(e,r,n){r===void 0?r=0:r>e.length&&ir(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ir(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Jl.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Jl?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const s=Jl.compareSegments(e.get(a),r.get(a));if(s!==0)return s}return Nr(e.length,r.length)}static compareSegments(e,r){const n=Jl.isNumericId(e),a=Jl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Jl.extractNumericId(e).compare(Jl.extractNumericId(r)):Ey(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return u0.fromString(e.substring(4,e.length-2))}}class Dn extends Jl{construct(e,r,n){return new Dn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ft(dt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Dn(r)}static emptyPath(){return new Dn([])}}const xD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class as extends Jl{construct(e,r,n){return new as(e,r,n)}static isValidIdentifier(e){return xD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),as.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new as([J_])}static fromServerFormat(e){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Ft(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Ft(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ft(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,a+=2}else c==="`"?(o=!o,a++):c!=="."||o?(n+=c,a++):(s(),a++)}if(s(),o)throw new Ft(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new as(r)}static emptyPath(){return new as([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(Dn.fromString(e))}static fromName(e){return new Yt(Dn.fromString(e).popFirst(5))}static empty(){return new Yt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new Dn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=-1;function yD(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=fr.fromTimestamp(n===1e9?new Ca(r+1,0):new Ca(r,n));return new d0(a,Yt.empty(),e)}function vD(t){return new d0(t.readTime,t.key,Am)}class d0{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new d0(fr.min(),Yt.empty(),Am)}static max(){return new d0(fr.max(),Yt.empty(),Am)}}function bD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Yt.comparator(t.documentKey,e.documentKey),r!==0?r:Nr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _D{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){if(t.code!==dt.FAILED_PRECONDITION||t.message!==wD)throw t;Bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ir(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new mt((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof mt?r:mt.resolve(r)}catch(r){return mt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):mt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):mt.reject(r)}static resolve(e){return new mt((r,n)=>{r(e)})}static reject(e){return new mt((r,n)=>{n(e)})}static waitFor(e){return new mt((r,n)=>{let a=0,s=0,o=!1;e.forEach(c=>{++a,c.next(()=>{++s,o&&s===a&&r()},h=>n(h))}),o=!0,s===a&&r()})}static or(e){let r=mt.resolve(!1);for(const n of e)r=r.next(a=>a?mt.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,s)=>{n.push(r.call(this,a,s))}),this.waitFor(n)}static mapArray(e,r){return new mt((n,a)=>{const s=e.length,o=new Array(s);let c=0;for(let h=0;h<s;h++){const d=h;r(e[d]).next(p=>{o[d]=p,++c,c===s&&n(o)},p=>a(p))}})}static doWhile(e,r){return new mt((n,a)=>{const s=()=>{e()===!0?r().next(()=>{s()},a):n()};s()})}}function kD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Xh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}q1.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=-1;function H1(t){return t==null}function l1(t){return t===0&&1/t==-1/0}function AD(t){return typeof t=="number"&&Number.isInteger(t)&&!l1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="";function ED(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Z_(e)),e=ND(t.get(r),e);return Z_(e)}function ND(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const s=t.charAt(a);switch(s){case"\0":r+="";break;case zA:r+="";break;default:r+=s}}return r}function Z_(t){return t+zA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function A0(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function qA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,r){this.comparator=e,this.root=r||xs.EMPTY}insert(e,r){return new Kn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pg(this.root,e,this.comparator,!1)}getReverseIterator(){return new pg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pg(this.root,e,this.comparator,!0)}}class pg{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,r,n,a,s){this.key=e,this.value=r,this.color=n??xs.RED,this.left=a??xs.EMPTY,this.right=s??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,s){return new xs(e??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const s=n(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return xs.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ir(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ir(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ir(27949);return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1;xs.EMPTY=new class{constructor(){this.size=0}get key(){throw ir(57766)}get value(){throw ir(16141)}get color(){throw ir(16727)}get left(){throw ir(29726)}get right(){throw ir(36894)}copy(e,r,n,a,s){return this}insert(e,r,n){return new xs(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new t4(this.data.getIterator())}getIteratorFrom(e){return new t4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new za(this.comparator);return r.data=e,r}}class t4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.fields=e,e.sort(as.comparator)}static empty(){return new Ji([])}unionWith(e){let r=new za(as.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ji(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Dh(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HA("Invalid base64 string: "+s):s}}(e);return new is(r)}static fromUint8Array(e){const r=function(a){let s="";for(let o=0;o<a.length;++o)s+=String.fromCharCode(a[o]);return s}(e);return new is(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}is.EMPTY_BYTE_STRING=new is("");const SD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function m0(t){if(un(!!t,39018),typeof t=="string"){let e=0;const r=SD.exec(t);if(un(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ha(t.seconds),nanos:ha(t.nanos)}}function ha(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function p0(t){return typeof t=="string"?is.fromBase64String(t):is.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",$A="__type__",KA="__previous_value__",WA="__local_write_time__";function zv(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[$A])===null||r===void 0?void 0:r.stringValue)===GA}function G1(t){const e=t.mapValue.fields[KA];return zv(e)?G1(e):e}function Em(t){const e=m0(t.mapValue.fields[WA].timestampValue);return new Ca(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,r,n,a,s,o,c,h,d,p){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const c1="(default)";class jh{constructor(e,r){this.projectId=e,this.database=r||c1}static empty(){return new jh("","")}get isDefaultDatabase(){return this.database===c1}isEqual(e){return e instanceof jh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="__type__",CD="__max__",gg={mapValue:{}},XA="__vector__",u1="value";function g0(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zv(t)?4:ID(t)?9007199254740991:RD(t)?10:11:ir(28295,{value:t})}function sc(t,e){if(t===e)return!0;const r=g0(t);if(r!==g0(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Em(t).isEqual(Em(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const o=m0(a.timestampValue),c=m0(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,s){return p0(a.bytesValue).isEqual(p0(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,s){return ha(a.geoPointValue.latitude)===ha(s.geoPointValue.latitude)&&ha(a.geoPointValue.longitude)===ha(s.geoPointValue.longitude)}(t,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return ha(a.integerValue)===ha(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const o=ha(a.doubleValue),c=ha(s.doubleValue);return o===c?l1(o)===l1(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Dh(t.arrayValue.values||[],e.arrayValue.values||[],sc);case 10:case 11:return function(a,s){const o=a.mapValue.fields||{},c=s.mapValue.fields||{};if(e4(o)!==e4(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(c[h]===void 0||!sc(o[h],c[h])))return!1;return!0}(t,e);default:return ir(52216,{left:t})}}function Nm(t,e){return(t.values||[]).find(r=>sc(r,e))!==void 0}function Lh(t,e){if(t===e)return 0;const r=g0(t),n=g0(e);if(r!==n)return Nr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Nr(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=ha(s.integerValue||s.doubleValue),h=ha(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return r4(t.timestampValue,e.timestampValue);case 4:return r4(Em(t),Em(e));case 5:return Ey(t.stringValue,e.stringValue);case 6:return function(s,o){const c=p0(s),h=p0(o);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),h=o.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=Nr(c[d],h[d]);if(p!==0)return p}return Nr(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=Nr(ha(s.latitude),ha(o.latitude));return c!==0?c:Nr(ha(s.longitude),ha(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return n4(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,h,d,p;const y=s.fields||{},v=o.fields||{},b=(c=y[u1])===null||c===void 0?void 0:c.arrayValue,A=(h=v[u1])===null||h===void 0?void 0:h.arrayValue,k=Nr(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return k!==0?k:n4(b,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===gg.mapValue&&o===gg.mapValue)return 0;if(s===gg.mapValue)return 1;if(o===gg.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),d=o.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const v=Ey(h[y],p[y]);if(v!==0)return v;const b=Lh(c[h[y]],d[p[y]]);if(b!==0)return b}return Nr(h.length,p.length)}(t.mapValue,e.mapValue);default:throw ir(23264,{Pe:r})}}function r4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nr(t,e);const r=m0(t),n=m0(e),a=Nr(r.seconds,n.seconds);return a!==0?a:Nr(r.nanos,n.nanos)}function n4(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=Lh(r[a],n[a]);if(s)return s}return Nr(r.length,n.length)}function Oh(t){return Ny(t)}function Ny(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=m0(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return p0(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Yt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=Ny(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const o of n)s?s=!1:a+=",",a+=`${o}:${Ny(r.fields[o])}`;return a+"}"}(t.mapValue):ir(61005,{value:t})}function zg(t){switch(g0(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=G1(t);return e?16+zg(e):16;case 5:return 2*t.stringValue.length;case 6:return p0(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,s)=>a+zg(s),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return A0(n.fields,(s,o)=>{a+=s.length+zg(o)}),a}(t.mapValue);default:throw ir(13486,{value:t})}}function a4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function qv(t){return!!t&&"arrayValue"in t}function s4(t){return!!t&&"nullValue"in t}function i4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qg(t){return!!t&&"mapValue"in t}function RD(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[YA])===null||r===void 0?void 0:r.stringValue)===XA}function nm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return A0(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=nm(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=nm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function ID(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!qg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=nm(r)}setAll(e){let r=as.emptyPath(),n={},a=[];e.forEach((o,c)=>{if(!r.isImmediateParentOf(c)){const h=this.getFieldsMap(r);this.applyChanges(h,n,a),n={},a=[],r=c.popLast()}o?n[c.lastSegment()]=nm(o):a.push(c.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(e){const r=this.field(e.popLast());qg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return sc(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];qg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){A0(r,(a,s)=>e[a]=s);for(const a of n)delete e[a]}clone(){return new Ci(nm(this.value))}}function QA(t){const e=[];return A0(t.fields,(r,n)=>{const a=new as([r]);if(qg(n)){const s=QA(n.mapValue).fields;if(s.length===0)e.push(a);else for(const o of s)e.push(a.child(o))}else e.push(a)}),new Ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,r,n,a,s,o,c){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Gs(e,0,fr.min(),fr.min(),fr.min(),Ci.empty(),0)}static newFoundDocument(e,r,n,a){return new Gs(e,1,r,fr.min(),n,a,0)}static newNoDocument(e,r){return new Gs(e,2,r,fr.min(),fr.min(),Ci.empty(),0)}static newUnknownDocument(e,r){return new Gs(e,3,r,fr.min(),fr.min(),Ci.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(fr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,r){this.position=e,this.inclusive=r}}function o4(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const s=e[a],o=t.position[a];if(s.field.isKeyField()?n=Yt.comparator(Yt.fromName(o.referenceValue),r.key):n=Lh(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function l4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!sc(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,r="asc"){this.field=e,this.dir=r}}function DD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class Ta extends JA{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new LD(e,r,n):r==="array-contains"?new MD(e,n):r==="in"?new FD(e,n):r==="not-in"?new BD(e,n):r==="array-contains-any"?new UD(e,n):new Ta(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new OD(e,n):new PD(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Lh(r,this.value)):r!==null&&g0(this.value)===g0(r)&&this.matchesComparison(Lh(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ir(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pl extends JA{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new pl(e,r)}matches(e){return ZA(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ZA(t){return t.op==="and"}function eE(t){return jD(t)&&ZA(t)}function jD(t){for(const e of t.filters)if(e instanceof pl)return!1;return!0}function Ty(t){if(t instanceof Ta)return t.field.canonicalString()+t.op.toString()+Oh(t.value);if(eE(t))return t.filters.map(e=>Ty(e)).join(",");{const e=t.filters.map(r=>Ty(r)).join(",");return`${t.op}(${e})`}}function tE(t,e){return t instanceof Ta?function(n,a){return a instanceof Ta&&n.op===a.op&&n.field.isEqual(a.field)&&sc(n.value,a.value)}(t,e):t instanceof pl?function(n,a){return a instanceof pl&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,o,c)=>s&&tE(o,a.filters[c]),!0):!1}(t,e):void ir(19439)}function rE(t){return t instanceof Ta?function(r){return`${r.field.canonicalString()} ${r.op} ${Oh(r.value)}`}(t):t instanceof pl?function(r){return r.op.toString()+" {"+r.getFilters().map(rE).join(" ,")+"}"}(t):"Filter"}class LD extends Ta{constructor(e,r,n){super(e,r,n),this.key=Yt.fromName(n.referenceValue)}matches(e){const r=Yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class OD extends Ta{constructor(e,r){super(e,"in",r),this.keys=nE("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class PD extends Ta{constructor(e,r){super(e,"not-in",r),this.keys=nE("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function nE(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Yt.fromName(n.referenceValue))}class MD extends Ta{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return qv(r)&&Nm(r.arrayValue,this.value)}}class FD extends Ta{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Nm(this.value.arrayValue,r)}}class BD extends Ta{constructor(e,r){super(e,"not-in",r)}matches(e){if(Nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Nm(this.value.arrayValue,r)}}class UD extends Ta{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!qv(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Nm(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,r=null,n=[],a=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=o,this.endAt=c,this.Ie=null}}function c4(t,e=null,r=[],n=[],a=null,s=null,o=null){return new VD(t,e,r,n,a,s,o)}function Hv(t){const e=pr(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Ty(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),H1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Oh(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Oh(n)).join(",")),e.Ie=r}return e.Ie}function Gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!DD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!tE(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l4(t.startAt,e.startAt)&&l4(t.endAt,e.endAt)}function Cy(t){return Yt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,r=null,n=[],a=[],s=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function zD(t,e,r,n,a,s,o,c){return new Qh(t,e,r,n,a,s,o,c)}function $1(t){return new Qh(t)}function u4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aE(t){return t.collectionGroup!==null}function am(t){const e=pr(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new za(as.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Sm(s,n))}),r.has(as.keyField().canonicalString())||e.Ee.push(new Sm(as.keyField(),n))}return e.Ee}function rc(t){const e=pr(t);return e.de||(e.de=qD(e,am(t))),e.de}function qD(t,e){if(t.limitType==="F")return c4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new Sm(a.field,s)});const r=t.endAt?new f1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new f1(t.startAt.position,t.startAt.inclusive):null;return c4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Ry(t,e){const r=t.filters.concat([e]);return new Qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function h1(t,e,r){return new Qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function K1(t,e){return Gv(rc(t),rc(e))&&t.limitType===e.limitType}function sE(t){return`${Hv(rc(t))}|lt:${t.limitType}`}function ch(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>rE(a)).join(", ")}]`),H1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Oh(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Oh(a)).join(",")),`Target(${n})`}(rc(t))}; limitType=${t.limitType})`}function W1(t,e){return e.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Yt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,a){for(const s of am(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(o,c,h){const d=o4(o,c,h);return o.inclusive?d<=0:d<0}(n.startAt,am(n),a)||n.endAt&&!function(o,c,h){const d=o4(o,c,h);return o.inclusive?d>=0:d>0}(n.endAt,am(n),a))}(t,e)}function HD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iE(t){return(e,r)=>{let n=!1;for(const a of am(t)){const s=GD(a,e,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function GD(t,e,r){const n=t.field.isKeyField()?Yt.comparator(e.key,r.key):function(s,o,c){const h=o.data.field(s),d=c.data.field(s);return h!==null&&d!==null?Lh(h,d):ir(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ir(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){A0(this.inner,(r,n)=>{for(const[a,s]of n)e(a,s)})}isEmpty(){return qA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Kn(Yt.comparator);function iu(){return $D}const oE=new Kn(Yt.comparator);function Yd(...t){let e=oE;for(const r of t)e=e.insert(r.key,r);return e}function lE(t){let e=oE;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ef(){return sm()}function cE(){return sm()}function sm(){return new wf(t=>t.toString(),(t,e)=>t.isEqual(e))}const KD=new Kn(Yt.comparator),WD=new za(Yt.comparator);function Pr(...t){let e=WD;for(const r of t)e=e.add(r);return e}const YD=new za(Nr);function XD(){return YD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l1(e)?"-0":e}}function uE(t){return{integerValue:""+t}}function QD(t,e){return AD(e)?uE(e):$v(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this._=void 0}}function JD(t,e,r){return t instanceof Tm?function(a,s){const o={fields:{[$A]:{stringValue:GA},[WA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&zv(s)&&(s=G1(s)),s&&(o.fields[KA]=s),{mapValue:o}}(r,e):t instanceof Cm?hE(t,e):t instanceof Rm?dE(t,e):function(a,s){const o=fE(a,s),c=f4(o)+f4(a.Re);return Sy(o)&&Sy(a.Re)?uE(c):$v(a.serializer,c)}(t,e)}function ZD(t,e,r){return t instanceof Cm?hE(t,e):t instanceof Rm?dE(t,e):r}function fE(t,e){return t instanceof d1?function(n){return Sy(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Tm extends Y1{}class Cm extends Y1{constructor(e){super(),this.elements=e}}function hE(t,e){const r=mE(e);for(const n of t.elements)r.some(a=>sc(a,n))||r.push(n);return{arrayValue:{values:r}}}class Rm extends Y1{constructor(e){super(),this.elements=e}}function dE(t,e){let r=mE(e);for(const n of t.elements)r=r.filter(a=>!sc(a,n));return{arrayValue:{values:r}}}class d1 extends Y1{constructor(e,r){super(),this.serializer=e,this.Re=r}}function f4(t){return ha(t.integerValue||t.doubleValue)}function mE(t){return qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,r){this.field=e,this.transform=r}}function tj(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof Cm&&a instanceof Cm||n instanceof Rm&&a instanceof Rm?Dh(n.elements,a.elements,sc):n instanceof d1&&a instanceof d1?sc(n.Re,a.Re):n instanceof Tm&&a instanceof Tm}(t.transform,e.transform)}class rj{constructor(e,r){this.version=e,this.transformResults=r}}class Co{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Co}static exists(e){return new Co(void 0,e)}static updateTime(e){return new Co(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class X1{}function pE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kv(t.key,Co.none()):new Qm(t.key,t.data,Co.none());{const r=t.data,n=Ci.empty();let a=new za(as.comparator);for(let s of e.fields)if(!a.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),a=a.add(s)}return new E0(t.key,n,new Ji(a.toArray()),Co.none())}}function nj(t,e,r){t instanceof Qm?function(a,s,o){const c=a.value.clone(),h=d4(a.fieldTransforms,s,o.transformResults);c.setAll(h),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):t instanceof E0?function(a,s,o){if(!Hg(a.precondition,s))return void s.convertToUnknownDocument(o.version);const c=d4(a.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(gE(a)),h.setAll(c),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(t,e,r):function(a,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function im(t,e,r,n){return t instanceof Qm?function(s,o,c,h){if(!Hg(s.precondition,o))return c;const d=s.value.clone(),p=m4(s.fieldTransforms,h,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,r,n):t instanceof E0?function(s,o,c,h){if(!Hg(s.precondition,o))return c;const d=m4(s.fieldTransforms,h,o),p=o.data;return p.setAll(gE(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,r,n):function(s,o,c){return Hg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,r)}function aj(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),s=fE(n.transform,a||null);s!=null&&(r===null&&(r=Ci.empty()),r.set(n.field,s))}return r||null}function h4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Dh(n,a,(s,o)=>tj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qm extends X1{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class E0 extends X1{constructor(e,r,n,a,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gE(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function d4(t,e,r){const n=new Map;un(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let a=0;a<r.length;a++){const s=t[a],o=s.transform,c=e.data.field(s.field);n.set(s.field,ZD(o,c,r[a]))}return n}function m4(t,e,r){const n=new Map;for(const a of t){const s=a.transform,o=r.data.field(a.field);n.set(a.field,JD(s,o,e))}return n}class Kv extends X1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sj extends X1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&nj(s,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=im(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=im(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=cE();return this.mutations.forEach(a=>{const s=e.get(a.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=r.has(a.key)?null:c;const h=pE(o,c);h!==null&&n.set(a.key,h),o.isValidDocument()||o.convertToNoDocument(fr.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Pr())}isEqual(e){return this.batchId===e.batchId&&Dh(this.mutations,e.mutations,(r,n)=>h4(r,n))&&Dh(this.baseMutations,e.baseMutations,(r,n)=>h4(r,n))}}class Wv{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){un(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return KD}();const s=e.mutations;for(let o=0;o<s.length;o++)a=a.insert(s[o].key,n[o].version);return new Wv(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa,Gr;function cj(t){switch(t){case dt.OK:return ir(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return ir(15467,{code:t})}}function xE(t){if(t===void 0)return su("GRPC error has no .code"),dt.UNKNOWN;switch(t){case Aa.OK:return dt.OK;case Aa.CANCELLED:return dt.CANCELLED;case Aa.UNKNOWN:return dt.UNKNOWN;case Aa.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Aa.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Aa.INTERNAL:return dt.INTERNAL;case Aa.UNAVAILABLE:return dt.UNAVAILABLE;case Aa.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Aa.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Aa.NOT_FOUND:return dt.NOT_FOUND;case Aa.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Aa.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Aa.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Aa.ABORTED:return dt.ABORTED;case Aa.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Aa.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Aa.DATA_LOSS:return dt.DATA_LOSS;default:return ir(39323,{code:t})}}(Gr=Aa||(Aa={}))[Gr.OK=0]="OK",Gr[Gr.CANCELLED=1]="CANCELLED",Gr[Gr.UNKNOWN=2]="UNKNOWN",Gr[Gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gr[Gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gr[Gr.NOT_FOUND=5]="NOT_FOUND",Gr[Gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gr[Gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gr[Gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gr[Gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gr[Gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gr[Gr.ABORTED=10]="ABORTED",Gr[Gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gr[Gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gr[Gr.INTERNAL=13]="INTERNAL",Gr[Gr.UNAVAILABLE=14]="UNAVAILABLE",Gr[Gr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new u0([4294967295,4294967295],0);function p4(t){const e=VA().encode(t),r=new DA;return r.update(e),new Uint8Array(r.digest())}function g4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new u0([r,n],0),new u0([a,s],0)]}class Yv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Xd(`Invalid padding: ${r}`);if(n<0)throw new Xd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Xd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Xd(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=u0.fromNumber(this.pe)}we(e,r,n){let a=e.add(r.multiply(u0.fromNumber(n)));return a.compare(uj)===1&&(a=new u0([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=p4(e),[n,a]=g4(r);for(let s=0;s<this.hashCount;s++){const o=this.we(n,a,s);if(!this.be(o))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Yv(s,a,r);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.pe===0)return;const r=p4(e),[n,a]=g4(r);for(let s=0;s<this.hashCount;s++){const o=this.we(n,a,s);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,r,n,a,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Jm.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Q1(fr.min(),a,new Kn(Nr),iu(),Pr())}}class Jm{constructor(e,r,n,a,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Jm(n,r,Pr(),Pr(),Pr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,r,n,a){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=a}}class yE{constructor(e,r){this.targetId=e,this.Ce=r}}class vE{constructor(e,r,n=is.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class x4{constructor(){this.Fe=0,this.Me=y4(),this.xe=is.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pr(),r=Pr(),n=Pr();return this.Me.forEach((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:ir(38017,{changeType:s})}}),new Jm(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=y4()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,un(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fj{constructor(e){this.ze=e,this.je=new Map,this.He=iu(),this.Je=xg(),this.Ye=xg(),this.Ze=new Kn(Nr)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:ir(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(e){const r=e.targetId,n=e.Ce.count,a=this._t(r);if(a){const s=a.target;if(Cy(s))if(n===0){const o=new Yt(s.path);this.tt(r,o,Gs.newNoDocument(o,fr.min()))}else un(n===1,20013,{expectedCount:n});else{const o=this.ut(r);if(o!==n){const c=this.ct(e),h=c?this.lt(c,e,o):1;if(h!==0){this.st(r);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,d)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:s=0}=r;let o,c;try{o=p0(n).toUint8Array()}catch(h){if(h instanceof HA)return hf("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Yv(o,a,s)}catch(h){return hf(h instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(s=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.tt(r,s,null),a++)}),a}It(e){const r=new Map;this.je.forEach((s,o)=>{const c=this._t(o);if(c){if(s.current&&Cy(c.target)){const h=new Yt(c.target.path);this.Et(h).has(o)||this.dt(o,h)||this.tt(o,h,Gs.newNoDocument(h,e))}s.Le&&(r.set(o,s.qe()),s.Qe())}});let n=Pr();this.Ye.forEach((s,o)=>{let c=!0;o.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const a=new Q1(e,r,this.Ze,this.He,n);return this.He=iu(),this.Je=xg(),this.Ye=xg(),this.Ze=new Kn(Nr),a}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const a=this.rt(e);this.dt(e,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new x4,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new za(Nr),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new za(Nr),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Bt("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new x4),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function xg(){return new Kn(Yt.comparator)}function y4(){return new Kn(Yt.comparator)}const hj={asc:"ASCENDING",desc:"DESCENDING"},dj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mj={and:"AND",or:"OR"};class pj{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Iy(t,e){return t.useProto3Json||H1(e)?e:{value:e}}function m1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gj(t,e){return m1(t,e.toTimestamp())}function nc(t){return un(!!t,49232),fr.fromTimestamp(function(r){const n=m0(r);return new Ca(n.seconds,n.nanos)}(t))}function Xv(t,e){return Dy(t,e).canonicalString()}function Dy(t,e){const r=function(a){return new Dn(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function wE(t){const e=Dn.fromString(t);return un(NE(e),10190,{key:e.toString()}),e}function jy(t,e){return Xv(t.databaseId,e.path)}function z2(t,e){const r=wE(e);if(r.get(1)!==t.databaseId.projectId)throw new Ft(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ft(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Yt(kE(r))}function _E(t,e){return Xv(t.databaseId,e)}function xj(t){const e=wE(t);return e.length===4?Dn.emptyPath():kE(e)}function Ly(t){return new Dn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kE(t){return un(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function v4(t,e,r){return{name:jy(t,e),fields:r.value.mapValue.fields}}function yj(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ir(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(un(p===void 0||typeof p=="string",58123),is.fromBase64String(p||"")):(un(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),is.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const p=d.code===void 0?dt.UNKNOWN:xE(d.code);return new Ft(p,d.message||"")}(o);r=new vE(n,a,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=z2(t,n.document.name),s=nc(n.document.updateTime),o=n.document.createTime?nc(n.document.createTime):fr.min(),c=new Ci({mapValue:{fields:n.document.fields}}),h=Gs.newFoundDocument(a,s,o,c),d=n.targetIds||[],p=n.removedTargetIds||[];r=new Gg(d,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=z2(t,n.document),s=n.readTime?nc(n.readTime):fr.min(),o=Gs.newNoDocument(a,s),c=n.removedTargetIds||[];r=new Gg([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=z2(t,n.document),s=n.removedTargetIds||[];r=new Gg([],s,a,null)}else{if(!("filter"in e))return ir(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:s}=n,o=new lj(a,s),c=n.targetId;r=new yE(c,o)}}return r}function vj(t,e){let r;if(e instanceof Qm)r={update:v4(t,e.key,e.value)};else if(e instanceof Kv)r={delete:jy(t,e.key)};else if(e instanceof E0)r={update:v4(t,e.key,e.data),updateMask:Tj(e.fieldMask)};else{if(!(e instanceof sj))return ir(16599,{ft:e.type});r={verify:jy(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const c=o.transform;if(c instanceof Tm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Cm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Rm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof d1)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw ir(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:gj(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ir(27497)}(t,e.precondition)),r}function bj(t,e){return t&&t.length>0?(un(e!==void 0,14353),t.map(r=>function(a,s){let o=a.updateTime?nc(a.updateTime):nc(s);return o.isEqual(fr.min())&&(o=nc(s)),new rj(o,a.transformResults||[])}(r,e))):[]}function wj(t,e){return{documents:[_E(t,e.path)]}}function _j(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=_E(t,a);const s=function(d){if(d.length!==0)return EE(pl.create(d,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:uh(v.field),direction:Ej(v.dir)}}(p))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const c=Iy(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:r,parent:a}}function kj(t){let e=xj(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){un(n===1,65062);const p=r.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];r.where&&(s=function(y){const v=AE(y);return v instanceof pl&&eE(v)?v.getFilters():[v]}(r.where));let o=[];r.orderBy&&(o=function(y){return y.map(v=>function(A){return new Sm(fh(A.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(r.orderBy));let c=null;r.limit&&(c=function(y){let v;return v=typeof y=="object"?y.value:y,H1(v)?null:v}(r.limit));let h=null;r.startAt&&(h=function(y){const v=!!y.before,b=y.values||[];return new f1(b,v)}(r.startAt));let d=null;return r.endAt&&(d=function(y){const v=!y.before,b=y.values||[];return new f1(b,v)}(r.endAt)),zD(e,a,o,s,c,"F",h,d)}function Aj(t,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ir(28987,{purpose:a})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function AE(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=fh(r.unaryFilter.field);return Ta.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=fh(r.unaryFilter.field);return Ta.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fh(r.unaryFilter.field);return Ta.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fh(r.unaryFilter.field);return Ta.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ir(61313);default:return ir(60726)}}(t):t.fieldFilter!==void 0?function(r){return Ta.create(fh(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ir(58110);default:return ir(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return pl.create(r.compositeFilter.filters.map(n=>AE(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ir(1026)}}(r.compositeFilter.op))}(t):ir(30097,{filter:t})}function Ej(t){return hj[t]}function Nj(t){return dj[t]}function Sj(t){return mj[t]}function uh(t){return{fieldPath:t.canonicalString()}}function fh(t){return as.fromServerFormat(t.fieldPath)}function EE(t){return t instanceof Ta?function(r){if(r.op==="=="){if(i4(r.value))return{unaryFilter:{field:uh(r.field),op:"IS_NAN"}};if(s4(r.value))return{unaryFilter:{field:uh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(i4(r.value))return{unaryFilter:{field:uh(r.field),op:"IS_NOT_NAN"}};if(s4(r.value))return{unaryFilter:{field:uh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uh(r.field),op:Nj(r.op),value:r.value}}}(t):t instanceof pl?function(r){const n=r.getFilters().map(a=>EE(a));return n.length===1?n[0]:{compositeFilter:{op:Sj(r.op),filters:n}}}(t):ir(54877,{filter:t})}function Tj(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function NE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,r,n,a,s=fr.min(),o=fr.min(),c=is.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new n0(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new n0(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.wt=e}}function Rj(t){const e=kj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?h1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(){this.Cn=new Dj}addToCollectionParentIndex(e,r){return this.Cn.add(r),mt.resolve()}getCollectionParents(e,r){return mt.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return mt.resolve()}deleteFieldIndex(e,r){return mt.resolve()}deleteAllFieldIndexes(e){return mt.resolve()}createTargetIndexes(e,r){return mt.resolve()}getDocumentsMatchingTarget(e,r){return mt.resolve(null)}getIndexType(e,r){return mt.resolve(0)}getFieldIndexes(e,r){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,r){return mt.resolve(d0.min())}getMinOffsetFromCollectionGroup(e,r){return mt.resolve(d0.min())}updateCollectionGroup(e,r,n){return mt.resolve()}updateIndexEntries(e,r){return mt.resolve()}}class Dj{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new za(Dn.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new za(Dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class Ti{static withCacheSize(e){return new Ti(e,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(SE,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ph(0)}static lr(){return new Ph(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="LruGarbageCollector",jj=1048576;function _4([t,e],[r,n]){const a=Nr(t,r);return a===0?Nr(e,n):a}class Lj{constructor(e){this.Er=e,this.buffer=new za(_4),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();_4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Oj{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Bt(w4,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Xh(r)?Bt(w4,"Ignoring IndexedDB error during garbage collection: ",r):await Yh(r)}await this.mr(3e5)})}}class Pj{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return mt.resolve(q1.le);const n=new Lj(r);return this.gr.forEachTarget(e,a=>n.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>n.Rr(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Bt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(b4)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b4):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,a,s,o,c,h,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,o=Date.now(),this.nthSequenceNumber(e,a))).next(y=>(n=y,c=Date.now(),this.removeTargets(e,n,r))).next(y=>(s=y,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(y=>(d=Date.now(),lh()<=Or.DEBUG&&Bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${a} in `+(c-o)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:y})))}}function Mj(t,e){return new Pj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.changes=new wf(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Gs.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?mt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&im(n.mutation,a,Ji.empty(),Ca.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Pr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Pr()){const a=ef();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(s=>{let o=Yd();return s.forEach((c,h)=>{o=o.insert(c,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=ef();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Pr()))}populateOverlays(e,r,n){const a=[];return n.forEach(s=>{r.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((o,c)=>{r.set(o,c)})})}computeViews(e,r,n,a){let s=iu();const o=sm(),c=function(){return sm()}();return r.forEach((h,d)=>{const p=n.get(d.key);a.has(d.key)&&(p===void 0||p.mutation instanceof E0)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),im(p.mutation,d,p.mutation.getFieldMask(),Ca.now())):o.set(d.key,Ji.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((d,p)=>o.set(d,p)),r.forEach((d,p)=>{var y;return c.set(d,new Bj(p,(y=o.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,r){const n=sm();let a=new Kn((o,c)=>o-c),s=Pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const c of o)c.keys().forEach(h=>{const d=r.get(h);if(d===null)return;let p=n.get(h)||Ji.empty();p=c.applyToLocalView(d,p),n.set(h,p);const y=(a.get(c.batchId)||Pr()).add(h);a=a.insert(c.batchId,y)})}).next(()=>{const o=[],c=a.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=cE();p.forEach(v=>{if(!s.has(v)){const b=pE(r.get(v),n.get(v));b!==null&&y.set(v,b),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,y))}return mt.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(o){return Yt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):aE(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(s=>{const o=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-s.size):mt.resolve(ef());let c=Am,h=s;return o.next(d=>mt.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(p)?mt.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{h=h.insert(p,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,h,d,Pr())).next(p=>({batchId:c,changes:lE(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Yt(r)).next(n=>{let a=Yd();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const s=r.collectionGroup;let o=Yd();return this.indexManager.getCollectionParents(e,s).next(c=>mt.forEach(c,h=>{const d=function(y,v){return new Qh(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(r,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,a).next(p=>{p.forEach((y,v)=>{o=o.insert(y,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,a))).next(o=>{s.forEach((h,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Gs.newInvalidDocument(p)))});let c=Yd();return o.forEach((h,d)=>{const p=s.get(h);p!==void 0&&im(p.mutation,d,Ji.empty(),Ca.now()),W1(r,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return mt.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:nc(a.createTime)}}(r)),mt.resolve()}getNamedQuery(e,r){return mt.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(a){return{name:a.name,query:Rj(a.bundledQuery),readTime:nc(a.readTime)}}(r)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.overlays=new Kn(Yt.comparator),this.Qr=new Map}getOverlay(e,r){return mt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ef();return mt.forEach(r,a=>this.getOverlay(e,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,s)=>{this.St(e,r,s)}),mt.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Qr.get(n);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(n)),mt.resolve()}getOverlaysForCollection(e,r,n){const a=ef(),s=r.length+1,o=new Yt(r.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>n&&a.set(h.getKey(),h)}return mt.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let s=new Kn((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let p=s.get(d.largestBatchId);p===null&&(p=ef(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=ef(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=a)););return mt.resolve(c)}St(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const o=this.Qr.get(a.largestBatchId).delete(n.key);this.Qr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new oj(r,n));let s=this.Qr.get(r);s===void 0&&(s=Pr(),this.Qr.set(r,s)),this.Qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(){this.sessionToken=is.EMPTY_BYTE_STRING}getSessionToken(e){return mt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.$r=new za(ts.Ur),this.Kr=new za(ts.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new ts(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new ts(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new Yt(new Dn([])),n=new ts(r,e),a=new ts(r,e+1),s=[];return this.Kr.forEachInRange([n,a],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new Yt(new Dn([])),n=new ts(r,e),a=new ts(r,e+1);let s=Pr();return this.Kr.forEachInRange([n,a],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new ts(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ts{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return Yt.comparator(e.key,r.key)||Nr(e.Zr,r.Zr)}static Wr(e,r){return Nr(e.Zr,r.Zr)||Yt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new za(ts.Ur)}checkEmpty(e){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ij(s,r,n,a);this.mutationQueue.push(o);for(const c of a)this.Xr=this.Xr.add(new ts(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return mt.resolve(o)}lookupMutationBatch(e,r){return mt.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ti(n),s=a<0?0:a;return mt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?Vv:this.nr-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ts(r,0),a=new ts(r,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([n,a],o=>{const c=this.ei(o.Zr);s.push(c)}),mt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new za(Nr);return r.forEach(a=>{const s=new ts(a,0),o=new ts(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],c=>{n=n.add(c.Zr)})}),mt.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let s=n;Yt.isDocumentKey(s)||(s=s.child(""));const o=new ts(new Yt(s),0);let c=new za(Nr);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===a&&(c=c.add(h.Zr)),!0)},o),mt.resolve(this.ni(c))}ni(e){const r=[];return e.forEach(n=>{const a=this.ei(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){un(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return mt.forEach(r.mutations,a=>{const s=new ts(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new ts(r,0),a=this.Xr.firstAfterOrEqual(n);return mt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,mt.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.ii=e,this.docs=function(){return new Kn(Yt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,o=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return mt.resolve(n?n.document.mutableCopy():Gs.newInvalidDocument(r))}getEntries(e,r){let n=iu();return r.forEach(a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():Gs.newInvalidDocument(a))}),mt.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let s=iu();const o=r.path,c=new Yt(o.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||bD(vD(p),n)<=0||(a.has(p.key)||W1(r,p))&&(s=s.insert(p.key,p.mutableCopy()))}return mt.resolve(s)}getAllFromCollectionGroup(e,r,n,a){ir(9500)}si(e,r){return mt.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new $j(this)}getSize(e){return mt.resolve(this.size)}}class $j extends Fj{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Br.addEntry(e,a)):this.Br.removeEntry(n)}),mt.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.persistence=e,this.oi=new wf(r=>Hv(r),Gv),this.lastRemoteSnapshotVersion=fr.min(),this.highestTargetId=0,this._i=0,this.ai=new Qv,this.targetCount=0,this.ui=Ph.cr()}forEachTarget(e,r){return this.oi.forEach((n,a)=>r(a)),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),mt.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Ph(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,mt.resolve()}updateTargetData(e,r){return this.Tr(r),mt.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,r,n){let a=0;const s=[];return this.oi.forEach((o,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),mt.waitFor(s).next(()=>a)}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return mt.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),mt.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(o=>{s.push(a.markPotentiallyOrphaned(e,o))}),mt.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),mt.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return mt.resolve(n)}containsKey(e,r){return mt.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,r){this.ci={},this.overlays={},this.li=new q1(0),this.hi=!1,this.hi=!0,this.Pi=new qj,this.referenceDelegate=e(this),this.Ti=new Kj(this),this.indexManager=new Ij,this.remoteDocumentCache=function(a){return new Gj(a)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new Cj(r),this.Ei=new Vj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new zj,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new Hj(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){Bt("MemoryPersistence","Starting transaction:",e);const a=new Wj(this.li.next());return this.referenceDelegate.di(),n(a).next(s=>this.referenceDelegate.Ai(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ri(e,r){return mt.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class Wj extends _D{constructor(e){super(),this.currentSequenceNumber=e}}class Jv{constructor(e){this.persistence=e,this.Vi=new Qv,this.mi=null}static fi(e){return new Jv(e)}get gi(){if(this.mi)return this.mi;throw ir(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),mt.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),mt.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),mt.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(a=>this.gi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(s=>this.gi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.gi,n=>{const a=Yt.fromPath(n);return this.pi(e,a).next(s=>{s||r.removeEntry(a,fr.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return mt.or([()=>mt.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class p1{constructor(e,r){this.persistence=e,this.yi=new wf(n=>ED(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Mj(this,r)}static fi(e,r){return new p1(e,r)}di(){}Ai(e){return mt.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}br(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return mt.forEach(this.yi,(n,a)=>this.Dr(e,n,a).next(s=>s?mt.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.si(e,o=>this.Dr(e,o,r).next(c=>{c||(n++,s.removeEntry(o,fr.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),mt.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),mt.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),mt.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),mt.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=zg(e.data.value)),r}Dr(e,r,n){return mt.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.yi.get(r);return mt.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.ds=n,this.As=a}static Rs(e,r){let n=Pr(),a=Pr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new Zv(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return RC()?8:kD(Qs())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,a){const s={result:null};return this.ws(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,r,a,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Yj;return this.Ss(e,r,o).next(c=>{if(s.result=c,this.fs)return this.Ds(e,r,o,c.size)})}).next(()=>s.result)}Ds(e,r,n,a){return n.documentReadCount<this.gs?(lh()<=Or.DEBUG&&Bt("QueryEngine","SDK will not create cache indexes for query:",ch(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),mt.resolve()):(lh()<=Or.DEBUG&&Bt("QueryEngine","Query:",ch(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ps*a?(lh()<=Or.DEBUG&&Bt("QueryEngine","The SDK decides to create cache indexes for query:",ch(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rc(r))):mt.resolve())}ws(e,r){if(u4(r))return mt.resolve(null);let n=rc(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=h1(r,null,"F"),n=rc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=Pr(...s);return this.ys.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(h=>{const d=this.vs(r,c);return this.Cs(r,d,o,h.readTime)?this.ws(e,h1(r,null,"F")):this.Fs(e,d,r,h)}))})))}bs(e,r,n,a){return u4(r)||a.isEqual(fr.min())?mt.resolve(null):this.ys.getDocuments(e,n).next(s=>{const o=this.vs(r,s);return this.Cs(r,o,n,a)?mt.resolve(null):(lh()<=Or.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ch(r)),this.Fs(e,o,r,yD(a,Am)).next(c=>c))})}vs(e,r){let n=new za(iE(e));return r.forEach((a,s)=>{W1(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,r,n){return lh()<=Or.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",ch(r)),this.ys.getDocumentsMatchingQuery(e,r,d0.min(),n)}Fs(e,r,n,a){return this.ys.getDocumentsMatchingQuery(e,n,a).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="LocalStore",Qj=3e8;class Jj{constructor(e,r,n,a){this.persistence=e,this.Ms=r,this.serializer=a,this.xs=new Kn(Nr),this.Os=new wf(s=>Hv(s),Gv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uj(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function Zj(t,e,r,n){return new Jj(t,e,r,n)}async function CE(t,e){const r=pr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(s=>(a=s,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],c=[];let h=Pr();for(const d of a){o.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of s){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return r.localDocuments.getDocuments(n,h).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:c}))})})}function eL(t,e){const r=pr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),s=r.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,p){const y=d.batch,v=y.keys();let b=mt.resolve();return v.forEach(A=>{b=b.next(()=>p.getEntry(h,A)).next(k=>{const E=d.docVersions.get(A);un(E!==null,48541),k.version.compareTo(E)<0&&(y.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),p.addEntry(k)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let h=Pr();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function RE(t){const e=pr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function tL(t,e){const r=pr(t),n=e.snapshotVersion;let a=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r.Bs.newChangeBuffer({trackRemovals:!0});a=r.xs;const c=[];e.targetChanges.forEach((p,y)=>{const v=a.get(y);if(!v)return;c.push(r.Ti.removeMatchingKeys(s,p.removedDocuments,y).next(()=>r.Ti.addMatchingKeys(s,p.addedDocuments,y)));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(is.EMPTY_BYTE_STRING,fr.min()).withLastLimboFreeSnapshotVersion(fr.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),a=a.insert(y,b),function(k,E,S){return k.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Qj?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(v,b,p)&&c.push(r.Ti.updateTargetData(s,b))});let h=iu(),d=Pr();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(rL(s,o,e.documentUpdates).next(p=>{h=p.qs,d=p.Qs})),!n.isEqual(fr.min())){const p=r.Ti.getLastRemoteSnapshotVersion(s).next(y=>r.Ti.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(p)}return mt.waitFor(c).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,h,d)).next(()=>h)}).then(s=>(r.xs=a,s))}function rL(t,e,r){let n=Pr(),a=Pr();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=iu();return r.forEach((c,h)=>{const d=s.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),h.isNoDocument()&&h.version.isEqual(fr.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):Bt(e5,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:o,Qs:a}})}function nL(t,e){const r=pr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Vv),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function aL(t,e){const r=pr(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Ti.getTargetData(n,e).next(s=>s?(a=s,mt.resolve(a)):r.Ti.allocateTargetId(n).next(o=>(a=new n0(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ti.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.xs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.xs=r.xs.insert(n.targetId,n),r.Os.set(e,n.targetId)),n})}async function Oy(t,e,r){const n=pr(t),a=n.xs.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,a))}catch(o){if(!Xh(o))throw o;Bt(e5,`Failed to update sequence numbers for target ${e}: ${o}`)}n.xs=n.xs.remove(e),n.Os.delete(a.target)}function k4(t,e,r){const n=pr(t);let a=fr.min(),s=Pr();return n.persistence.runTransaction("Execute query","readwrite",o=>function(h,d,p){const y=pr(h),v=y.Os.get(p);return v!==void 0?mt.resolve(y.xs.get(v)):y.Ti.getTargetData(d,p)}(n,o,rc(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(o,c.targetId).next(h=>{s=h})}).next(()=>n.Ms.getDocumentsMatchingQuery(o,e,r?a:fr.min(),r?s:Pr())).next(c=>(sL(n,HD(e),c),{documents:c,$s:s})))}function sL(t,e,r){let n=t.Ns.get(e)||fr.min();r.forEach((a,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Ns.set(e,n)}class A4{constructor(){this.activeTargetIds=XD()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iL{constructor(){this.xo=new A4,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new A4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="ConnectivityMonitor";class N4{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Bt(E4,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Bt(E4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg=null;function Py(){return yg===null?yg=function(){return 268435456+Math.round(2147483648*Math.random())}():yg++,"0x"+yg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="RestConnection",lL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cL{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${a}`,this.Go=this.databaseId.database===c1?`project_id=${n}`:`project_id=${n}&database_id=${a}`}zo(e,r,n,a,s){const o=Py(),c=this.jo(e,r.toUriEncodedString());Bt(q2,`Sending RPC '${e}' ${o}:`,c,n);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,a,s);const{host:d}=new URL(c),p=Gh(d);return this.Jo(e,c,h,n,p).then(y=>(Bt(q2,`Received RPC '${e}' ${o}: `,y),y),y=>{throw hf(q2,`RPC '${e}' ${o} failed with error: `,y,"url: ",c,"request:",n),y})}Yo(e,r,n,a,s,o){return this.zo(e,r,n,a,s)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>e[s]=a),n&&n.headers.forEach((a,s)=>e[s]=a)}jo(e,r){const n=lL[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="WebChannelConnection";class fL extends cL{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,s){const o=Py();return new Promise((c,h)=>{const d=new jA;d.setWithCredentials(!0),d.listenOnce(LA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Vg.NO_ERROR:const y=d.getResponseJson();Bt(Ps,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case Vg.TIMEOUT:Bt(Ps,`RPC '${e}' ${o} timed out`),h(new Ft(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Vg.HTTP_ERROR:const v=d.getStatus();if(Bt(Ps,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b==null?void 0:b.error;if(A&&A.status&&A.message){const k=function(S){const j=S.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(j)>=0?j:dt.UNKNOWN}(A.status);h(new Ft(k,A.message))}else h(new Ft(dt.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Ft(dt.UNAVAILABLE,"Connection failed."));break;default:ir(9055,{h_:e,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Bt(Ps,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Bt(Ps,`RPC '${e}' ${o} sending request:`,a),d.send(r,"POST",p,n,15)})}I_(e,r,n){const a=Py(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MA(),c=PA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,r,n),h.encodeInitMessageHeaders=!0;const p=s.join("");Bt(Ps,`Creating RPC '${e}' stream ${a}: ${p}`,h);const y=o.createWebChannel(p,h);this.E_(y);let v=!1,b=!1;const A=new uL({Zo:E=>{b?Bt(Ps,`Not sending because RPC '${e}' stream ${a} is closed:`,E):(v||(Bt(Ps,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),Bt(Ps,`RPC '${e}' stream ${a} sending:`,E),y.send(E))},Xo:()=>y.close()}),k=(E,S,j)=>{E.listen(S,M=>{try{j(M)}catch(H){setTimeout(()=>{throw H},0)}})};return k(y,Wd.EventType.OPEN,()=>{b||(Bt(Ps,`RPC '${e}' stream ${a} transport opened.`),A.__())}),k(y,Wd.EventType.CLOSE,()=>{b||(b=!0,Bt(Ps,`RPC '${e}' stream ${a} transport closed`),A.u_(),this.d_(y))}),k(y,Wd.EventType.ERROR,E=>{b||(b=!0,hf(Ps,`RPC '${e}' stream ${a} transport errored. Name:`,E.name,"Message:",E.message),A.u_(new Ft(dt.UNAVAILABLE,"The operation could not be completed")))}),k(y,Wd.EventType.MESSAGE,E=>{var S;if(!b){const j=E.data[0];un(!!j,16349);const M=j,H=(M==null?void 0:M.error)||((S=M[0])===null||S===void 0?void 0:S.error);if(H){Bt(Ps,`RPC '${e}' stream ${a} received error:`,H);const K=H.status;let X=function(I){const U=Aa[I];if(U!==void 0)return xE(U)}(K),P=H.message;X===void 0&&(X=dt.INTERNAL,P="Unknown error status: "+K+" with message "+H.message),b=!0,A.u_(new Ft(X,P)),y.close()}else Bt(Ps,`RPC '${e}' stream ${a} received:`,j),A.c_(j)}}),k(c,OA.STAT_EVENT,E=>{E.stat===Ay.PROXY?Bt(Ps,`RPC '${e}' stream ${a} detected buffering proxy`):E.stat===Ay.NOPROXY&&Bt(Ps,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(r=>r===e)}}function H2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){return new pj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,r,n=1e3,a=1.5,s=6e4){this.xi=e,this.timerId=r,this.A_=n,this.R_=a,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const r=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),a=Math.max(0,r-n);a>0&&Bt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="PersistentStream";class DE{constructor(e,r,n,a,s,o,c,h){this.xi=e,this.S_=n,this.D_=a,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new IE(e,r)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,r){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():r&&r.code===dt.RESOURCE_EXHAUSTED?(su(r.toString()),su("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):r&&r.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),r=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.v_===r&&this.z_(n,a)},n=>{e(()=>{const a=new Ft(dt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(a)})})}z_(e,r){const n=this.G_(this.v_);this.stream=this.H_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{n(()=>this.j_(a))}),this.stream.onMessage(a=>{n(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Bt(S4,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return r=>{this.xi.enqueueAndForget(()=>this.v_===e?r():(Bt(S4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hL extends DE{constructor(e,r,n,a,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,o),this.serializer=s}H_(e,r){return this.connection.I_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const r=yj(this.serializer,e),n=function(s){if(!("targetChange"in s))return fr.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?fr.min():o.readTime?nc(o.readTime):fr.min()}(e);return this.listener.Y_(r,n)}Z_(e){const r={};r.database=Ly(this.serializer),r.addTarget=function(s,o){let c;const h=o.target;if(c=Cy(h)?{documents:wj(s,h)}:{query:_j(s,h).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=bE(s,o.resumeToken);const d=Iy(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(fr.min())>0){c.readTime=m1(s,o.snapshotVersion.toTimestamp());const d=Iy(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const n=Aj(this.serializer,e);n&&(r.labels=n),this.Q_(r)}X_(e){const r={};r.database=Ly(this.serializer),r.removeTarget=e,this.Q_(r)}}class dL extends DE{constructor(e,r,n,a,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,r){return this.connection.I_("Write",e,r)}J_(e){return un(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,un(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){un(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const r=bj(e.writeResults,e.commitTime),n=nc(e.commitTime);return this.listener.ra(n,r)}ia(){const e={};e.database=Ly(this.serializer),this.Q_(e)}ta(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>vj(this.serializer,n))};this.Q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{}class pL extends mL{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Ft(dt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,Dy(r,n),a,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ft(dt.UNKNOWN,s.toString())})}Yo(e,r,n,a,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Yo(e,Dy(r,n),a,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ft(dt.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class gL{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(su(r),this.ua=!1):Bt("OnlineStateTracker",r)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="RemoteStore";class xL{constructor(e,r,n,a,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{n.enqueueAndForget(async()=>{_f(this)&&(Bt(df,"Restarting streams for network reachability change."),await async function(h){const d=pr(h);d.da.add(4),await Zm(d),d.Va.set("Unknown"),d.da.delete(4),await Z1(d)}(this))})}),this.Va=new gL(n,a)}}async function Z1(t){if(_f(t))for(const e of t.Aa)await e(!0)}async function Zm(t){for(const e of t.Aa)await e(!1)}function jE(t,e){const r=pr(t);r.Ea.has(e.targetId)||(r.Ea.set(e.targetId,e),a5(r)?n5(r):Jh(r).N_()&&r5(r,e))}function t5(t,e){const r=pr(t),n=Jh(r);r.Ea.delete(e),n.N_()&&LE(r,e),r.Ea.size===0&&(n.N_()?n.k_():_f(r)&&r.Va.set("Unknown"))}function r5(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Jh(t).Z_(e)}function LE(t,e){t.ma.Ke(e),Jh(t).X_(e)}function n5(t){t.ma=new fj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Jh(t).start(),t.Va.ca()}function a5(t){return _f(t)&&!Jh(t).O_()&&t.Ea.size>0}function _f(t){return pr(t).da.size===0}function OE(t){t.ma=void 0}async function yL(t){t.Va.set("Online")}async function vL(t){t.Ea.forEach((e,r)=>{r5(t,e)})}async function bL(t,e){OE(t),a5(t)?(t.Va.Pa(e),n5(t)):t.Va.set("Unknown")}async function wL(t,e,r){if(t.Va.set("Online"),e instanceof vE&&e.state===2&&e.cause)try{await async function(a,s){const o=s.cause;for(const c of s.targetIds)a.Ea.has(c)&&(await a.remoteSyncer.rejectListen(c,o),a.Ea.delete(c),a.ma.removeTarget(c))}(t,e)}catch(n){Bt(df,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await g1(t,n)}else if(e instanceof Gg?t.ma.Xe(e):e instanceof yE?t.ma.ot(e):t.ma.nt(e),!r.isEqual(fr.min()))try{const n=await RE(t.localStore);r.compareTo(n)>=0&&await function(s,o){const c=s.ma.It(o);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.Ea.get(d);p&&s.Ea.set(d,p.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,d)=>{const p=s.Ea.get(h);if(!p)return;s.Ea.set(h,p.withResumeToken(is.EMPTY_BYTE_STRING,p.snapshotVersion)),LE(s,h);const y=new n0(p.target,h,d,p.sequenceNumber);r5(s,y)}),s.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){Bt(df,"Failed to raise snapshot:",n),await g1(t,n)}}async function g1(t,e,r){if(!Xh(e))throw e;t.da.add(1),await Zm(t),t.Va.set("Offline"),r||(r=()=>RE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Bt(df,"Retrying IndexedDB access"),await r(),t.da.delete(1),await Z1(t)})}function PE(t,e){return e().catch(r=>g1(t,r,e))}async function ex(t){const e=pr(t),r=x0(e);let n=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Vv;for(;_L(e);)try{const a=await nL(e.localStore,n);if(a===null){e.Ia.length===0&&r.k_();break}n=a.batchId,kL(e,a)}catch(a){await g1(e,a)}ME(e)&&FE(e)}function _L(t){return _f(t)&&t.Ia.length<10}function kL(t,e){t.Ia.push(e);const r=x0(t);r.N_()&&r.ea&&r.ta(e.mutations)}function ME(t){return _f(t)&&!x0(t).O_()&&t.Ia.length>0}function FE(t){x0(t).start()}async function AL(t){x0(t).ia()}async function EL(t){const e=x0(t);for(const r of t.Ia)e.ta(r.mutations)}async function NL(t,e,r){const n=t.Ia.shift(),a=Wv.from(n,e,r);await PE(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await ex(t)}async function SL(t,e){e&&x0(t).ea&&await async function(n,a){if(function(o){return cj(o)&&o!==dt.ABORTED}(a.code)){const s=n.Ia.shift();x0(n).L_(),await PE(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await ex(n)}}(t,e),ME(t)&&FE(t)}async function T4(t,e){const r=pr(t);r.asyncQueue.verifyOperationInProgress(),Bt(df,"RemoteStore received new credentials");const n=_f(r);r.da.add(3),await Zm(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.da.delete(3),await Z1(r)}async function TL(t,e){const r=pr(t);e?(r.da.delete(2),await Z1(r)):e||(r.da.add(2),await Zm(r),r.Va.set("Unknown"))}function Jh(t){return t.fa||(t.fa=function(r,n,a){const s=pr(r);return s.oa(),new hL(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{e_:yL.bind(null,t),n_:vL.bind(null,t),i_:bL.bind(null,t),Y_:wL.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),a5(t)?n5(t):t.Va.set("Unknown")):(await t.fa.stop(),OE(t))})),t.fa}function x0(t){return t.ga||(t.ga=function(r,n,a){const s=pr(r);return s.oa(),new dL(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:AL.bind(null,t),i_:SL.bind(null,t),na:EL.bind(null,t),ra:NL.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await ex(t)):(await t.ga.stop(),t.Ia.length>0&&(Bt(df,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,r,n,a,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new Xc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,s){const o=Date.now()+n,c=new s5(e,r,o,a,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ft(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i5(t,e){if(su("AsyncQueue",`${e}: ${t}`),Xh(t))return new Ft(dt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{static emptySet(e){return new _h(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Yt.comparator(r.key,n.key):(r,n)=>Yt.comparator(r.key,n.key),this.keyedMap=Yd(),this.sortedSet=new Kn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof _h)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new _h;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.pa=new Kn(Yt.comparator)}track(e){const r=e.doc.key,n=this.pa.get(r);n?e.type!==0&&n.type===3?this.pa=this.pa.insert(r,e):e.type===3&&n.type!==1?this.pa=this.pa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.pa=this.pa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.pa=this.pa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.pa=this.pa.remove(r):e.type===1&&n.type===2?this.pa=this.pa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.pa=this.pa.insert(r,{type:2,doc:e.doc}):ir(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(r,e)}wa(){const e=[];return this.pa.inorderTraversal((r,n)=>{e.push(n)}),e}}class Mh{constructor(e,r,n,a,s,o,c,h,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,a,s){const o=[];return r.forEach(c=>{o.push({type:0,doc:c})}),new Mh(e,r,_h.emptySet(r),o,n,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&K1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class RL{constructor(){this.queries=R4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=pr(r),s=a.queries;a.queries=R4(),s.forEach((o,c)=>{for(const h of c.Sa)h.onError(n)})})(this,new Ft(dt.ABORTED,"Firestore shutting down"))}}function R4(){return new wf(t=>sE(t),K1)}async function o5(t,e){const r=pr(t);let n=3;const a=e.query;let s=r.queries.get(a);s?!s.Da()&&e.va()&&(n=2):(s=new CL,n=e.va()?0:1);try{switch(n){case 0:s.ba=await r.onListen(a,!0);break;case 1:s.ba=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(o){const c=i5(o,`Initialization of query '${ch(e.query)}' failed`);return void e.onError(c)}r.queries.set(a,s),s.Sa.push(e),e.Fa(r.onlineState),s.ba&&e.Ma(s.ba)&&c5(r)}async function l5(t,e){const r=pr(t),n=e.query;let a=3;const s=r.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?a=e.va()?0:1:!s.Da()&&e.va()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function IL(t,e){const r=pr(t);let n=!1;for(const a of e){const s=a.query,o=r.queries.get(s);if(o){for(const c of o.Sa)c.Ma(a)&&(n=!0);o.ba=a}}n&&c5(r)}function DL(t,e,r){const n=pr(t),a=n.queries.get(e);if(a)for(const s of a.Sa)s.onError(r);n.queries.delete(e)}function c5(t){t.Ca.forEach(e=>{e.next()})}var My,I4;(I4=My||(My={})).xa="default",I4.Cache="cache";class u5{constructor(e,r,n){this.query=e,this.Oa=r,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Mh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Na?this.La(e)&&(this.Oa.next(e),r=!0):this.ka(e,this.onlineState)&&(this.qa(e),r=!0),this.Ba=e,r}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let r=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),r=!0),r}ka(e,r){if(!e.fromCache||!this.va())return!0;const n=r!=="Offline";return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}La(e){if(e.docChanges.length>0)return!0;const r=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}qa(e){e=Mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==My.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.key=e}}class UE{constructor(e){this.key=e}}class jL{constructor(e,r){this.query=e,this.Ha=r,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pr(),this.mutatedKeys=Pr(),this.Za=iE(e),this.Xa=new _h(this.Za)}get eu(){return this.Ha}tu(e,r){const n=r?r.nu:new C4,a=r?r.Xa:this.Xa;let s=r?r.mutatedKeys:this.mutatedKeys,o=a,c=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((p,y)=>{const v=a.get(p),b=W1(this.query,y)?y:null,A=!!v&&this.mutatedKeys.has(v.key),k=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;v&&b?v.data.isEqual(b.data)?A!==k&&(n.track({type:3,doc:b}),E=!0):this.ru(v,b)||(n.track({type:2,doc:b}),E=!0,(h&&this.Za(b,h)>0||d&&this.Za(b,d)<0)&&(c=!0)):!v&&b?(n.track({type:0,doc:b}),E=!0):v&&!b&&(n.track({type:1,doc:v}),E=!0,(h||d)&&(c=!0)),E&&(b?(o=o.add(b),s=k?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{Xa:o,nu:n,Cs:c,mutatedKeys:s}}ru(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((p,y)=>function(b,A){const k=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ir(20277,{Vt:E})}};return k(b)-k(A)}(p.type,y.type)||this.Za(p.doc,y.doc)),this.iu(n),a=a!=null&&a;const c=r&&!a?this.su():[],h=this.Ya.size===0&&this.current&&!a?1:0,d=h!==this.Ja;return this.Ja=h,o.length!==0||d?{snapshot:new Mh(this.query,e.Xa,s,o,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new C4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(r=>this.Ha=this.Ha.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ha=this.Ha.delete(r)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Pr(),this.Xa.forEach(n=>{this._u(n.key)&&(this.Ya=this.Ya.add(n.key))});const r=[];return e.forEach(n=>{this.Ya.has(n)||r.push(new UE(n))}),this.Ya.forEach(n=>{e.has(n)||r.push(new BE(n))}),r}au(e){this.Ha=e.$s,this.Ya=Pr();const r=this.tu(e.documents);return this.applyChanges(r,!0)}uu(){return Mh.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const f5="SyncEngine";class LL{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class OL{constructor(e){this.key=e,this.cu=!1}}class PL{constructor(e,r,n,a,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new wf(c=>sE(c),K1),this.Pu=new Map,this.Tu=new Set,this.Iu=new Kn(Yt.comparator),this.Eu=new Map,this.du=new Qv,this.Au={},this.Ru=new Map,this.Vu=Ph.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function ML(t,e,r=!0){const n=$E(t);let a;const s=n.hu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.uu()):a=await VE(n,e,r,!0),a}async function FL(t,e){const r=$E(t);await VE(r,e,!0,!1)}async function VE(t,e,r,n){const a=await aL(t.localStore,rc(e)),s=a.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let c;return n&&(c=await BL(t,e,s,o==="current",a.resumeToken)),t.isPrimaryClient&&r&&jE(t.remoteStore,a),c}async function BL(t,e,r,n,a){t.fu=(y,v,b)=>async function(k,E,S,j){let M=E.view.tu(S);M.Cs&&(M=await k4(k.localStore,E.query,!1).then(({documents:P})=>E.view.tu(P,M)));const H=j&&j.targetChanges.get(E.targetId),K=j&&j.targetMismatches.get(E.targetId)!=null,X=E.view.applyChanges(M,k.isPrimaryClient,H,K);return j4(k,E.targetId,X.ou),X.snapshot}(t,y,v,b);const s=await k4(t.localStore,e,!0),o=new jL(e,s.$s),c=o.tu(s.documents),h=Jm.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),d=o.applyChanges(c,t.isPrimaryClient,h);j4(t,r,d.ou);const p=new LL(e,r,o);return t.hu.set(e,p),t.Pu.has(r)?t.Pu.get(r).push(e):t.Pu.set(r,[e]),d.snapshot}async function UL(t,e,r){const n=pr(t),a=n.hu.get(e),s=n.Pu.get(a.targetId);if(s.length>1)return n.Pu.set(a.targetId,s.filter(o=>!K1(o,e))),void n.hu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Oy(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&t5(n.remoteStore,a.targetId),Fy(n,a.targetId)}).catch(Yh)):(Fy(n,a.targetId),await Oy(n.localStore,a.targetId,!0))}async function VL(t,e){const r=pr(t),n=r.hu.get(e),a=r.Pu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),t5(r.remoteStore,n.targetId))}async function zL(t,e,r){const n=YL(t);try{const a=await function(o,c){const h=pr(o),d=Ca.now(),p=c.reduce((b,A)=>b.add(A.key),Pr());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=iu(),k=Pr();return h.Bs.getEntries(b,p).next(E=>{A=E,A.forEach((S,j)=>{j.isValidDocument()||(k=k.add(S))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,A)).next(E=>{y=E;const S=[];for(const j of c){const M=aj(j,y.get(j.key).overlayedDocument);M!=null&&S.push(new E0(j.key,M,QA(M.value.mapValue),Co.exists(!0)))}return h.mutationQueue.addMutationBatch(b,d,S,c)}).next(E=>{v=E;const S=E.applyToLocalDocumentSet(y,k);return h.documentOverlayCache.saveOverlays(b,E.batchId,S)})}).then(()=>({batchId:v.batchId,changes:lE(y)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(o,c,h){let d=o.Au[o.currentUser.toKey()];d||(d=new Kn(Nr)),d=d.insert(c,h),o.Au[o.currentUser.toKey()]=d}(n,a.batchId,r),await ep(n,a.changes),await ex(n.remoteStore)}catch(a){const s=i5(a,"Failed to persist write");r.reject(s)}}async function zE(t,e){const r=pr(t);try{const n=await tL(r.localStore,e);e.targetChanges.forEach((a,s)=>{const o=r.Eu.get(s);o&&(un(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?o.cu=!0:a.modifiedDocuments.size>0?un(o.cu,14607):a.removedDocuments.size>0&&(un(o.cu,42227),o.cu=!1))}),await ep(r,n,e)}catch(n){await Yh(n)}}function D4(t,e,r){const n=pr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.hu.forEach((s,o)=>{const c=o.view.Fa(e);c.snapshot&&a.push(c.snapshot)}),function(o,c){const h=pr(o);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const v of y.Sa)v.Fa(c)&&(d=!0)}),d&&c5(h)}(n.eventManager,e),a.length&&n.lu.Y_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function qL(t,e,r){const n=pr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Eu.get(e),s=a&&a.key;if(s){let o=new Kn(Yt.comparator);o=o.insert(s,Gs.newNoDocument(s,fr.min()));const c=Pr().add(s),h=new Q1(fr.min(),new Map,new Kn(Nr),o,c);await zE(n,h),n.Iu=n.Iu.remove(s),n.Eu.delete(e),h5(n)}else await Oy(n.localStore,e,!1).then(()=>Fy(n,e,r)).catch(Yh)}async function HL(t,e){const r=pr(t),n=e.batch.batchId;try{const a=await eL(r.localStore,e);HE(r,n,null),qE(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ep(r,a)}catch(a){await Yh(a)}}async function GL(t,e,r){const n=pr(t);try{const a=await function(o,c){const h=pr(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(un(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(n.localStore,e);HE(n,e,r),qE(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await ep(n,a)}catch(a){await Yh(a)}}function qE(t,e){(t.Ru.get(e)||[]).forEach(r=>{r.resolve()}),t.Ru.delete(e)}function HE(t,e,r){const n=pr(t);let a=n.Au[n.currentUser.toKey()];if(a){const s=a.get(e);s&&(r?s.reject(r):s.resolve(),a=a.remove(e)),n.Au[n.currentUser.toKey()]=a}}function Fy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Pu.get(e))t.hu.delete(n),r&&t.lu.gu(n,r);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(n=>{t.du.containsKey(n)||GE(t,n)})}function GE(t,e){t.Tu.delete(e.path.canonicalString());const r=t.Iu.get(e);r!==null&&(t5(t.remoteStore,r),t.Iu=t.Iu.remove(e),t.Eu.delete(r),h5(t))}function j4(t,e,r){for(const n of r)n instanceof BE?(t.du.addReference(n.key,e),$L(t,n)):n instanceof UE?(Bt(f5,"Document no longer in limbo: "+n.key),t.du.removeReference(n.key,e),t.du.containsKey(n.key)||GE(t,n.key)):ir(19791,{pu:n})}function $L(t,e){const r=e.key,n=r.path.canonicalString();t.Iu.get(r)||t.Tu.has(n)||(Bt(f5,"New document in limbo: "+r),t.Tu.add(n),h5(t))}function h5(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const r=new Yt(Dn.fromString(e)),n=t.Vu.next();t.Eu.set(n,new OL(r)),t.Iu=t.Iu.insert(r,n),jE(t.remoteStore,new n0(rc($1(r.path)),n,"TargetPurposeLimboResolution",q1.le))}}async function ep(t,e,r){const n=pr(t),a=[],s=[],o=[];n.hu.isEmpty()||(n.hu.forEach((c,h)=>{o.push(n.fu(h,e,r).then(d=>{var p;if((d||r)&&n.isPrimaryClient){const y=d?!d.fromCache:(p=r==null?void 0:r.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){a.push(d);const y=Zv.Rs(h.targetId,d);s.push(y)}}))}),await Promise.all(o),n.lu.Y_(a),await async function(h,d){const p=pr(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>mt.forEach(d,v=>mt.forEach(v.ds,b=>p.persistence.referenceDelegate.addReference(y,v.targetId,b)).next(()=>mt.forEach(v.As,b=>p.persistence.referenceDelegate.removeReference(y,v.targetId,b)))))}catch(y){if(!Xh(y))throw y;Bt(e5,"Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const b=p.xs.get(v),A=b.snapshotVersion,k=b.withLastLimboFreeSnapshotVersion(A);p.xs=p.xs.insert(v,k)}}}(n.localStore,s))}async function KL(t,e){const r=pr(t);if(!r.currentUser.isEqual(e)){Bt(f5,"User change. New user:",e.toKey());const n=await CE(r.localStore,e);r.currentUser=e,function(s,o){s.Ru.forEach(c=>{c.forEach(h=>{h.reject(new Ft(dt.CANCELLED,o))})}),s.Ru.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ep(r,n.ks)}}function WL(t,e){const r=pr(t),n=r.Eu.get(e);if(n&&n.cu)return Pr().add(n.key);{let a=Pr();const s=r.Pu.get(e);if(!s)return a;for(const o of s){const c=r.hu.get(o);a=a.unionWith(c.view.eu)}return a}}function $E(t){const e=pr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qL.bind(null,e),e.lu.Y_=IL.bind(null,e.eventManager),e.lu.gu=DL.bind(null,e.eventManager),e}function YL(t){const e=pr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GL.bind(null,e),e}class x1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=J1(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,r){return null}Cu(e,r){return null}Du(e){return Zj(this.persistence,new Xj,e.initialUser,this.serializer)}Su(e){return new TE(Jv.fi,this.serializer)}bu(e){return new iL}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}x1.provider={build:()=>new x1};class XL extends x1{constructor(e){super(),this.cacheSizeBytes=e}vu(e,r){un(this.persistence.referenceDelegate instanceof p1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Oj(n,e.asyncQueue,r)}Su(e){const r=this.cacheSizeBytes!==void 0?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new TE(n=>p1.fi(n,r),this.serializer)}}class By{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>D4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=KL.bind(null,this.syncEngine),await TL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RL}()}createDatastore(e){const r=J1(e.databaseInfo.databaseId),n=function(s){return new fL(s)}(e.databaseInfo);return function(s,o,c,h){return new pL(s,o,c,h)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,s,o,c){return new xL(n,a,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,r=>D4(this.syncEngine,r,0),function(){return N4.C()?new N4:new oL}())}createSyncEngine(e,r){return function(a,s,o,c,h,d,p){const y=new PL(a,s,o,c,h,d);return p&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const s=pr(a);Bt(df,"RemoteStore shutting down."),s.da.add(5),await Zm(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}By.provider={build:()=>new By};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):su("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="FirestoreClient";class QL{constructor(e,r,n,a,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=qs.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Bt(y0,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Bt(y0,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=i5(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function G2(t,e){t.asyncQueue.verifyOperationInProgress(),Bt(y0,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await CE(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function L4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await JL(t);Bt(y0,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>T4(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>T4(e.remoteStore,a)),t._onlineComponents=e}async function JL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Bt(y0,"Using user provided OfflineComponentProvider");try{await G2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===dt.FAILED_PRECONDITION||a.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;hf("Error using user provided cache. Falling back to memory cache: "+r),await G2(t,new x1)}}else Bt(y0,"Using default OfflineComponentProvider"),await G2(t,new XL(void 0));return t._offlineComponents}async function KE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Bt(y0,"Using user provided OnlineComponentProvider"),await L4(t,t._uninitializedComponentsProvider._online)):(Bt(y0,"Using default OnlineComponentProvider"),await L4(t,new By))),t._onlineComponents}function ZL(t){return KE(t).then(e=>e.syncEngine)}async function y1(t){const e=await KE(t),r=e.eventManager;return r.onListen=ML.bind(null,e.syncEngine),r.onUnlisten=UL.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=FL.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=VL.bind(null,e.syncEngine),r}function e9(t,e,r={}){const n=new Xc;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,h,d){const p=new d5({next:v=>{p.xu(),o.enqueueAndForget(()=>l5(s,y));const b=v.docs.has(c);!b&&v.fromCache?d.reject(new Ft(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?d.reject(new Ft(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new u5($1(c.path),p,{includeMetadataChanges:!0,Qa:!0});return o5(s,y)}(await y1(t),t.asyncQueue,e,r,n)),n.promise}function t9(t,e,r={}){const n=new Xc;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,h,d){const p=new d5({next:v=>{p.xu(),o.enqueueAndForget(()=>l5(s,y)),v.fromCache&&h.source==="server"?d.reject(new Ft(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new u5(c,p,{includeMetadataChanges:!0,Qa:!0});return o5(s,y)}(await y1(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t,e,r){if(!r)throw new Ft(dt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XE(t,e,r,n){if(e===!0&&n===!0)throw new Ft(dt.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function P4(t){if(!Yt.isDocumentKey(t))throw new Ft(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M4(t){if(Yt.isDocumentKey(t))throw new Ft(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ir(12329,{type:typeof t})}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ft(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=tx(t);throw new Ft(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firestore.googleapis.com",F4=!0;class B4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ft(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=F4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:F4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jj)throw new Ft(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WE((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ft(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ft(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ft(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rx{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ft(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ft(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new UA;switch(n.type){case"firstParty":return new dD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ft(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=O4.get(r);n&&(Bt("ComponentProvider","Removing Datastore"),O4.delete(r),n.terminate())}(this),Promise.resolve()}}function JE(t,e,r,n={}){var a;t=li(t,rx);const s=Gh(e),o=t._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${r}`;s&&(Hk(`https://${h}`),Gk("Firestore",!0)),o.host!==QE&&o.host!==h&&hf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:s,emulatorOptions:n});if(!of(d,c)&&(t._setSettings(d),n.mockUserToken)){let p,y;if(typeof n.mockUserToken=="string")p=n.mockUserToken,y=qs.MOCK_USER;else{p=wC(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const v=n.mockUserToken.sub||n.mockUserToken.user_id;if(!v)throw new Ft(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new qs(v)}t._authCredentials=new uD(new BA(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uc(this.firestore,e,this._query)}}class ws{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class Qc extends uc{constructor(e,r,n){super(e,r,$1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new Yt(e))}withConverter(e){return new Qc(this.firestore,e,this._path)}}function hr(t,e,...r){if(t=Ha(t),YE("collection","path",e),t instanceof rx){const n=Dn.fromString(e,...r);return M4(n),new Qc(t,null,n)}{if(!(t instanceof ws||t instanceof Qc))throw new Ft(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dn.fromString(e,...r));return M4(n),new Qc(t.firestore,null,n)}}function sn(t,e,...r){if(t=Ha(t),arguments.length===1&&(e=Uv.newId()),YE("doc","path",e),t instanceof rx){const n=Dn.fromString(e,...r);return P4(n),new ws(t,null,new Yt(n))}{if(!(t instanceof ws||t instanceof Qc))throw new Ft(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dn.fromString(e,...r));return P4(n),new ws(t.firestore,t instanceof Qc?t.converter:null,new Yt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="AsyncQueue";class V4{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new IE(this,"async_queue_retry"),this.rc=()=>{const n=H2();n&&Bt(U4,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=e;const r=H2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const r=H2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const r=new Xc;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Xh(e))throw e;Bt(U4,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const r=this.sc.then(()=>(this.ec=!0,e().catch(n=>{throw this.Xu=n,this.ec=!1,su("INTERNAL UNHANDLED ERROR: ",z4(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=r,r}enqueueAfterDelay(e,r,n){this.oc(),this.nc.indexOf(e)>-1&&(r=0);const a=s5.createAndSchedule(this,e,r,n,s=>this.uc(s));return this.Zu.push(a),a}oc(){this.Xu&&ir(47125,{cc:z4(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const r of this.Zu)if(r.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Zu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const r=this.Zu.indexOf(e);this.Zu.splice(r,1)}}function z4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const s of n)if(s in a&&typeof a[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ic extends rx{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new V4,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V4(e),this._firestoreClient=void 0,await e}}}function ZE(t,e){const r=typeof t=="object"?t:Yk(),n=typeof t=="string"?t:c1,a=Cv(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=vC("firestore");s&&JE(a,...s)}return a}function tp(t){if(t._terminated)throw new Ft(dt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r9(t),t._firestoreClient}function r9(t){var e,r,n;const a=t._freezeSettings(),s=function(c,h,d,p){return new TD(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,WE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new QL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mf(is.fromBase64String(e))}catch(r){throw new Ft(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new mf(is.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ft(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new as(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ft(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ft(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nr(this._lat,e._lat)||Nr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=/^__.*__$/;class a9{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new E0(e,this.data,this.fieldMask,r,this.fieldTransforms):new Qm(e,this.data,r,this.fieldTransforms)}}class e6{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new E0(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function t6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ir(40011,{Ic:t})}}class m5{constructor(e,r,n,a,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new m5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.dc({path:n,Rc:!1});return a.Vc(e),a}mc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.dc({path:n,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return v1(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(t6(this.Ic)&&n9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class s9{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||J1(e)}bc(e,r,n,a=!1){return new m5({Ic:e,methodName:r,wc:n,path:as.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sx(t){const e=t._freezeSettings(),r=J1(t._databaseId);return new s9(t._databaseId,!!e.ignoreUndefinedProperties,r)}function r6(t,e,r,n,a,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,r,a);g5("Data must be an object, but it was:",o,n);const c=n6(n,o);let h,d;if(s.merge)h=new Ji(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const v=Uy(e,y,r);if(!o.contains(v))throw new Ft(dt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);s6(p,v)||p.push(v)}h=new Ji(p),d=o.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=o.fieldTransforms;return new a9(new Ci(c),h,d)}class ix extends np{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ix}}class p5 extends np{_toFieldTransform(e){return new ej(e.path,new Tm)}isEqual(e){return e instanceof p5}}function i9(t,e,r,n){const a=t.bc(1,e,r);g5("Data must be an object, but it was:",a,n);const s=[],o=Ci.empty();A0(n,(h,d)=>{const p=x5(e,h,r);d=Ha(d);const y=a.mc(p);if(d instanceof ix)s.push(p);else{const v=ap(d,y);v!=null&&(s.push(p),o.set(p,v))}});const c=new Ji(s);return new e6(o,c,a.fieldTransforms)}function o9(t,e,r,n,a,s){const o=t.bc(1,e,r),c=[Uy(e,n,r)],h=[a];if(s.length%2!=0)throw new Ft(dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(Uy(e,s[v])),h.push(s[v+1]);const d=[],p=Ci.empty();for(let v=c.length-1;v>=0;--v)if(!s6(d,c[v])){const b=c[v];let A=h[v];A=Ha(A);const k=o.mc(b);if(A instanceof ix)d.push(b);else{const E=ap(A,k);E!=null&&(d.push(b),p.set(b,E))}}const y=new Ji(d);return new e6(p,y,o.fieldTransforms)}function l9(t,e,r,n=!1){return ap(r,t.bc(n?4:3,e))}function ap(t,e){if(a6(t=Ha(t)))return g5("Unsupported field value:",e,t),n6(t,e);if(t instanceof np)return function(n,a){if(!t6(a.Ic))throw a.gc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(n,a){const s=[];let o=0;for(const c of n){let h=ap(c,a.fc(o));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,a){if((n=Ha(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return QD(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ca.fromDate(n);return{timestampValue:m1(a.serializer,s)}}if(n instanceof Ca){const s=new Ca(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:m1(a.serializer,s)}}if(n instanceof nx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mf)return{bytesValue:bE(a.serializer,n._byteString)};if(n instanceof ws){const s=a.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw a.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xv(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof ax)return function(o,c){return{mapValue:{fields:{[YA]:{stringValue:XA},[u1]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return $v(c.serializer,d)})}}}}}}(n,a);throw a.gc(`Unsupported field value: ${tx(n)}`)}(t,e)}function n6(t,e){const r={};return qA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):A0(t,(n,a)=>{const s=ap(a,e.Ac(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function a6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ca||t instanceof nx||t instanceof mf||t instanceof ws||t instanceof np||t instanceof ax)}function g5(t,e,r){if(!a6(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=tx(r);throw n==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+n)}}function Uy(t,e,r){if((e=Ha(e))instanceof rp)return e._internalPath;if(typeof e=="string")return x5(t,e);throw v1("Field path arguments must be of type string or ",t,!1,void 0,r)}const c9=new RegExp("[~\\*/\\[\\]]");function x5(t,e,r){if(e.search(c9)>=0)throw v1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new rp(...e.split("."))._internalPath}catch{throw v1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function v1(t,e,r,n,a){const s=n&&!n.isEmpty(),o=a!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${n}`),o&&(h+=` in document ${a}`),h+=")"),new Ft(dt.INVALID_ARGUMENT,c+t+h)}function s6(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,r,n,a,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ox("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class u9 extends i6{data(){return super.data()}}function ox(t,e){return typeof e=="string"?x5(t,e):e instanceof rp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ft(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y5{}class lx extends y5{}function Sa(t,e,...r){let n=[];e instanceof y5&&n.push(e),n=n.concat(r),function(s){const o=s.filter(h=>h instanceof cx).length,c=s.filter(h=>h instanceof sp).length;if(o>1||o>0&&c>0)throw new Ft(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class sp extends lx{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new sp(e,r,n)}_apply(e){const r=this._parse(e);return c6(e._query,r),new uc(e.firestore,e.converter,Ry(e._query,r))}_parse(e){const r=sx(e.firestore);return function(s,o,c,h,d,p,y){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ft(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){G4(y,p);const A=[];for(const k of y)A.push(H4(h,s,k));v={arrayValue:{values:A}}}else v=H4(h,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||G4(y,p),v=l9(c,o,y,p==="in"||p==="not-in");return Ta.create(d,p,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function $s(t,e,r){const n=e,a=ox("where",t);return sp._create(a,n,r)}class cx extends y5{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new cx(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:pl.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,s){let o=a;const c=s.getFlattenedFilters();for(const h of c)c6(o,h),o=Ry(o,h)}(e._query,r),new uc(e.firestore,e.converter,Ry(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ux extends lx{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new ux(e,r)}_apply(e){const r=function(a,s,o){if(a.startAt!==null)throw new Ft(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ft(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sm(s,o)}(e._query,this._field,this._direction);return new uc(e.firestore,e.converter,function(a,s){const o=a.explicitOrderBy.concat([s]);return new Qh(a.path,a.collectionGroup,o,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}function v5(t,e="asc"){const r=e,n=ox("orderBy",t);return ux._create(n,r)}class fx extends lx{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new fx(e,r,n)}_apply(e){return new uc(e.firestore,e.converter,h1(e._query,this._limit,this._limitType))}}function l6(t){return fx._create("limit",t,"F")}function H4(t,e,r){if(typeof(r=Ha(r))=="string"){if(r==="")throw new Ft(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aE(e)&&r.indexOf("/")!==-1)throw new Ft(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Dn.fromString(r));if(!Yt.isDocumentKey(n))throw new Ft(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return a4(t,new Yt(n))}if(r instanceof ws)return a4(t,r._key);throw new Ft(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tx(r)}.`)}function G4(t,e){if(!Array.isArray(t)||t.length===0)throw new Ft(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c6(t,e){const r=function(a,s){for(const o of a)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ft(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ft(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class u6{convertValue(e,r="none"){switch(g0(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ha(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(p0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ir(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return A0(e,(a,s)=>{n[a]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,a;const s=(a=(n=(r=e.fields)===null||r===void 0?void 0:r[u1].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(o=>ha(o.doubleValue));return new ax(s)}convertGeoPoint(e){return new nx(ha(e.latitude),ha(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=G1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Em(e));default:return null}}convertTimestamp(e){const r=m0(e);return new Ca(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dn.fromString(e);un(NE(n),9688,{name:e});const a=new jh(n.get(1),n.get(3)),s=new Yt(n.popFirst(5));return a.isEqual(r)||su(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b5 extends i6{constructor(e,r,n,a,s,o){super(e,r,n,a,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(ox("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class om extends b5{data(e={}){return super.data(e)}}class w5{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new gh(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new om(this._firestore,this._userDataWriter,n.key,n,new gh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ft(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map(c=>{const h=new om(a._firestore,a._userDataWriter,c.doc.key,c.doc,new gh(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}})}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const h=new om(a._firestore,a._userDataWriter,c.doc.key,c.doc,new gh(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,p=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:f9(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function f9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ir(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){t=li(t,ws);const e=li(t.firestore,ic);return e9(tp(e),t._key).then(r=>h6(e,t,r))}class _5 extends u6{constructor(e){super(),this.firestore=e}convertBytes(e){return new mf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,r)}}function Vr(t){t=li(t,uc);const e=li(t.firestore,ic),r=tp(e),n=new _5(e);return o6(t._query),t9(r,t._query).then(a=>new w5(e,n,t,a))}function Fh(t,e,r){t=li(t,ws);const n=li(t.firestore,ic),a=f6(t.converter,e);return op(n,[r6(sx(n),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,Co.none())])}function ul(t,e,r,...n){t=li(t,ws);const a=li(t.firestore,ic),s=sx(a);let o;return o=typeof(e=Ha(e))=="string"||e instanceof rp?o9(s,"updateDoc",t._key,e,r,n):i9(s,"updateDoc",t._key,e),op(a,[o.toMutation(t._key,Co.exists(!0))])}function hx(t){return op(li(t.firestore,ic),[new Kv(t._key,Co.none())])}function ip(t,e){const r=li(t.firestore,ic),n=sn(t),a=f6(t.converter,e);return op(r,[r6(sx(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,Co.exists(!1))]).then(()=>n)}function Vy(t,...e){var r,n,a;t=Ha(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||q4(e[o])||(s=e[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(q4(e[o])){const y=e[o];e[o]=(r=y.next)===null||r===void 0?void 0:r.bind(y),e[o+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),e[o+2]=(a=y.complete)===null||a===void 0?void 0:a.bind(y)}let h,d,p;if(t instanceof ws)d=li(t.firestore,ic),p=$1(t._key.path),h={next:y=>{e[o]&&e[o](h6(d,t,y))},error:e[o+1],complete:e[o+2]};else{const y=li(t,uc);d=li(y.firestore,ic),p=y._query;const v=new _5(d);h={next:b=>{e[o]&&e[o](new w5(d,v,y,b))},error:e[o+1],complete:e[o+2]},o6(t._query)}return function(v,b,A,k){const E=new d5(k),S=new u5(b,E,A);return v.asyncQueue.enqueueAndForget(async()=>o5(await y1(v),S)),()=>{E.xu(),v.asyncQueue.enqueueAndForget(async()=>l5(await y1(v),S))}}(tp(d),p,c,h)}function op(t,e){return function(n,a){const s=new Xc;return n.asyncQueue.enqueueAndForget(async()=>zL(await ZL(n),a,s)),s.promise}(tp(t),e)}function h6(t,e,r){const n=r.docs.get(e._key),a=new _5(t);return new b5(t,a,e._key,n,new gh(r.hasPendingWrites,r.fromCache),e.converter)}function Bh(){return new p5("serverTimestamp")}(function(e,r=!0){(function(a){Wh=a})($h),Ih(new lf("firestore",(n,{instanceIdentifier:a,options:s})=>{const o=n.getProvider("app").getImmediate(),c=new ic(new fD(n.getProvider("auth-internal")),new mD(o,n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ft(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(d.options.projectId,p)}(o,a),o);return s=Object.assign({useFetchStreams:r},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),c0($_,K_,e),c0($_,K_,"esm2017")})();const h9=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:u6,Bytes:mf,CollectionReference:Qc,DocumentReference:ws,DocumentSnapshot:b5,FieldPath:rp,FieldValue:np,Firestore:ic,FirestoreError:Ft,GeoPoint:nx,Query:uc,QueryCompositeFilterConstraint:cx,QueryConstraint:lx,QueryDocumentSnapshot:om,QueryFieldFilterConstraint:sp,QueryLimitConstraint:fx,QueryOrderByConstraint:ux,QuerySnapshot:w5,SnapshotMetadata:gh,Timestamp:Ca,VectorValue:ax,_AutoId:Uv,_ByteString:is,_DatabaseId:jh,_DocumentKey:Yt,_EmptyAuthCredentialsProvider:UA,_FieldPath:as,_cast:li,_logWarn:hf,_validateIsNotUsedTogether:XE,addDoc:ip,collection:hr,connectFirestoreEmulator:JE,deleteDoc:hx,doc:sn,ensureFirestoreConfigured:tp,executeWrite:op,getDoc:Xi,getDocs:Vr,getFirestore:ZE,limit:l6,onSnapshot:Vy,orderBy:v5,query:Sa,serverTimestamp:Bh,setDoc:Fh,updateDoc:ul,where:$s},Symbol.toStringTag,{value:"Module"}));var d9="firebase",m9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */c0(d9,m9,"app");const p9={apiKey:"AIzaSyB43OqFebSz7JoqGmSk4ybzQouhkwKLaOo",authDomain:"satistakip-bc5c4.firebaseapp.com",projectId:"satistakip-bc5c4",storageBucket:"satistakip-bc5c4.firebasestorage.app",messagingSenderId:"931339446084",appId:"1:931339446084:web:d934b0bee4311198ecd911"},d6=Wk(p9),ai=lD(d6),Lt=ZE(d6),il={INFO:"info",WARNING:"warning",ERROR:"error",SUCCESS:"success",SECURITY:"security"},wn={AUTH:"authentication",USER_MANAGEMENT:"user_management",SALES:"sales",SYSTEM:"system",DATA:"data",SECURITY:"security",NAVIGATION:"navigation",UI_INTERACTION:"ui_interaction",FORM:"form_interaction",FILTER:"filter_search",EXPORT:"export_download"};class g9{constructor(){this.isEnabled=!0}async log(e,r,n,a={},s=null,o=null){if(!this.isEnabled)return;const c=(a==null?void 0:a.email)||"";if(!(s==="wupaniyazilim@gmail.com"||c==="wupaniyazilim@gmail.com"||o==="Admin User"||c.includes("wupaniyazilim@gmail.com")))try{const h={level:e,category:r,action:n,details:typeof a=="object"?a:{message:a},userId:s||"system",userName:o||"System",timestamp:Bh(),userAgent:navigator.userAgent,url:window.location.href,ip:await this.getClientIP()};await ip(hr(Lt,"system_logs"),h)}catch(h){console.error("Log kaydedilirken hata:",h)}}getConsoleMethod(e){switch(e){case il.ERROR:return console.error;case il.WARNING:return console.warn;case il.SUCCESS:case il.INFO:return console.info;case il.SECURITY:return console.warn;default:return console.log}}async getClientIP(){try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{return"unknown"}}async info(e,r,n,a,s){return this.log(il.INFO,e,r,n,a,s)}async warning(e,r,n,a,s){return this.log(il.WARNING,e,r,n,a,s)}async error(e,r,n,a,s){return this.log(il.ERROR,e,r,n,a,s)}async success(e,r,n,a,s){return this.log(il.SUCCESS,e,r,n,a,s)}async security(e,r,n,a,s){return this.log(il.SECURITY,e,r,n,a,s)}async logUserLogin(e,r,n){return this.success(wn.AUTH,"User Login",{email:n,loginTime:new Date().toISOString()},e,r)}async logUserLogout(e,r,n){return this.info(wn.AUTH,"User Logout",{email:n,logoutTime:new Date().toISOString()},e,r)}async logFailedLogin(e,r){return this.warning(wn.SECURITY,"Failed Login Attempt",{email:e,reason:r,attemptTime:new Date().toISOString()})}async logUserCreated(e,r,n,a){return this.success(wn.USER_MANAGEMENT,"User Created",{newUserEmail:n,newUserRole:a,createdBy:r},e,r)}async logUserUpdated(e,r,n,a){return this.info(wn.USER_MANAGEMENT,"User Updated",{targetUserEmail:n,changes:a,updatedBy:r},e,r)}async logUserDeleted(e,r,n){return this.warning(wn.USER_MANAGEMENT,"User Deleted",{deletedUserEmail:n,deletedBy:r},e,r)}async logUserActivated(e,r,n){return this.success(wn.USER_MANAGEMENT,"User Activated",{targetUserEmail:n,activatedBy:r},e,r)}async logUserDeactivated(e,r,n){return this.warning(wn.USER_MANAGEMENT,"User Deactivated",{targetUserEmail:n,deactivatedBy:r},e,r)}async logSalesRecordCreated(e,r,n){return this.success(wn.SALES,"Sales Record Created",{customerPhone:n.telefon,channel:n.kanal,status:n.durum},e,r)}async logSalesRecordUpdated(e,r,n,a){return this.info(wn.SALES,"Sales Record Updated",{recordId:n,changes:a},e,r)}async logSalesRecordDeleted(e,r,n){return this.warning(wn.SALES,"Sales Record Deleted",{recordId:n},e,r)}async logSystemSettingsChanged(e,r,n,a){return this.info(wn.SYSTEM,"System Settings Changed",{settingType:n,changes:a,changedBy:r},e,r)}async logDataExport(e,r,n,a){return this.info(wn.DATA,"Data Export",{exportType:n,recordCount:a,exportTime:new Date().toISOString()},e,r)}async logUnauthorizedAccess(e,r,n,a){return this.security(wn.SECURITY,"Unauthorized Access Attempt",{attemptedAction:n,resource:a,attemptTime:new Date().toISOString()},e,r)}async logPageNavigation(e,r,n,a){return this.info(wn.NAVIGATION,"Page Navigation",{fromPage:n,toPage:a,navigationTime:new Date().toISOString(),userAgent:navigator.userAgent,screenSize:`${window.screen.width}x${window.screen.height}`},e,r)}async logSidebarMenuClick(e,r,n,a){return this.info(wn.UI_INTERACTION,"Sidebar Menu Click",{menuItem:n,menuPath:a,clickTime:new Date().toISOString(),windowSize:`${window.innerWidth}x${window.innerHeight}`},e,r)}async logButtonClick(e,r,n,a,s){return this.info(wn.UI_INTERACTION,"Button Click",{buttonName:n,buttonAction:a,pageContext:s,clickTime:new Date().toISOString()},e,r)}async logFormSubmission(e,r,n,a,s){return this.info(wn.FORM,"Form Submission",{formName:n,fieldCount:Object.keys(a).length,isSuccess:s,submissionTime:new Date().toISOString(),fields:Object.keys(a)},e,r)}async logSearchFilter(e,r,n,a,s,o){return this.info(wn.FILTER,"Search/Filter Applied",{filterType:n,filterValue:a,resultCount:s,pageContext:o,searchTime:new Date().toISOString()},e,r)}async logDataExportDetailed(e,r,n,a,s,o){return this.info(wn.EXPORT,"Data Export",{exportType:n,dataType:a,recordCount:s,appliedFilters:o,exportTime:new Date().toISOString(),fileSize:"calculated_after_export"},e,r)}async logModalInteraction(e,r,n,a,s){return this.info(wn.UI_INTERACTION,"Modal Interaction",{modalName:n,action:a,modalData:s,interactionTime:new Date().toISOString()},e,r)}async logTableInteraction(e,r,n,a,s){return this.info(wn.UI_INTERACTION,"Table Interaction",{tableName:n,action:a,details:s,interactionTime:new Date().toISOString()},e,r)}async logSettingsChange(e,r,n,a,s,o){return this.info(wn.SYSTEM,"Settings Changed",{settingName:n,oldValue:a,newValue:s,settingCategory:o,changeTime:new Date().toISOString()},e,r)}async logFileUpload(e,r,n,a,s,o){return this.info(wn.DATA,"File Upload",{fileName:n,fileSize:a,fileType:s,uploadContext:o,uploadTime:new Date().toISOString()},e,r)}async logAPICall(e,r,n,a,s,o){return this.info(wn.SYSTEM,"API Call",{endpoint:n,method:a,responseStatus:s,responseTime:o,callTime:new Date().toISOString()},e,r)}async logUserSessionActivity(e,r,n,a,s){return this.info(wn.AUTH,"Session Activity",{activity:n,duration:a,pageContext:s,activityTime:new Date().toISOString()},e,r)}async logSessionTimeout(e,r,n,a){return this.info(wn.AUTH,"Session Timeout",{email:n,timeoutMinutes:a,reason:"Inactivity timeout",timeoutTime:new Date().toISOString()},e,r)}}const vs=new g9,m6=()=>{{console.log=()=>{},console.info=()=>{},console.warn=()=>{};const t=console.error;console.error=(...e)=>{const r=e.map(n=>typeof n=="string"?n.replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,"[EMAIL_HIDDEN]").replace(/\b0[0-9]{10}\b/g,"[PHONE_HIDDEN]").replace(/\b[A-Za-z0-9]{20,}\b/g,"[ID_HIDDEN]"):n);t(...r)}}},x9=Object.freeze(Object.defineProperty({__proto__:null,LOG_CATEGORIES:wn,LOG_LEVELS:il,default:vs,setupSecureLogging:m6},Symbol.toStringTag,{value:"Module"})),p6=be.createContext(),os=()=>{const t=be.useContext(p6);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},y9=({children:t})=>{const[e,r]=be.useState(null),[n,a]=be.useState(null),[s,o]=be.useState(null),[c,h]=be.useState(!0),[d,p]=be.useState(480),[y,v]=be.useState(Date.now());be.useEffect(()=>{if(!e)return;const K=setInterval(()=>{if(!e||!d||!y)return;const P=Date.now()-y,D=d*60*1e3;P>=D&&b()},3e4);return()=>clearInterval(K)},[e,y,d]),be.useEffect(()=>{if(!e)return;const H=()=>{v(Date.now())},K=["mousedown","mousemove","keypress","scroll","touchstart","click"];return K.forEach(X=>{document.addEventListener(X,H,!0)}),()=>{K.forEach(X=>{document.removeEventListener(X,H,!0)})}},[e]),be.useEffect(()=>{(async()=>{var K;try{const X=await Xi(sn(Lt,"system_settings","main"));if(X.exists()){const P=X.data();(K=P.security)!=null&&K.sessionTimeout&&p(P.security.sessionTimeout)}}catch(X){console.error("Sistem ayarları yüklenirken hata:",X)}})()},[]);const b=async()=>{var H;try{e&&e.email!=="wupaniyazilim@gmail.com"&&await vs.logSessionTimeout(e.uid,e.name||((H=e.email)==null?void 0:H.split("@")[0])||"Kullanıcı",e.email,d),sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),await Wu(ai),a(null),o(null),r(null),alert(`Oturum zaman aşımına uğradı (${d} dakika). Tekrar giriş yapmanız gerekiyor.`)}catch(K){console.error("Oturum zaman aşımı işlenirken hata:",K),await Wu(ai),a(null),o(null),r(null)}},A=async(H,K)=>{const X=await U1(ai,H,K),P=X.user.uid,D=sn(Lt,"users",P),I=await Xi(D);if(I.exists()&&I.data().isActive===!1)throw await Wu(ai),new Error("Hesabınız pasif durumda. Lütfen yöneticinizle iletişime geçin.");return X},k=async()=>{var H;e&&e.email!=="wupaniyazilim@gmail.com"&&await vs.logUserLogout(e.uid,e.name||((H=e.email)==null?void 0:H.split("@")[0])||"Kullanıcı",e.email),sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),await Wu(ai),a(null),o(null),r(null)},E=H=>KR(ai,H),S=async H=>{try{const K=sn(Lt,"users",H),X=await Xi(K);if(X.exists()){const P=X.data();return{role:{Admin:"admin",admin:"admin","Team Leader":"teamLeader",teamLeader:"teamLeader",Personnel:"personnel",personnel:"personnel"}[P.role]||"personnel",name:P.name||P.email||"Kullanıcı",active:P.isActive}}return{role:"personnel",name:"Kullanıcı",active:!1}}catch(K){return console.error("Rol alınırken hata:",K),{role:"personnel",name:"Kullanıcı",active:!1}}};be.useEffect(()=>QR(ai,async K=>{if(K)try{const X=sessionStorage.getItem("switchedUser"),P=sessionStorage.getItem("originalAdmin");if(X&&P){const D=JSON.parse(X),U={Admin:"admin",admin:"admin","Team Leader":"teamLeader",teamLeader:"teamLeader",Personnel:"personnel",personnel:"personnel"}[D.role]||"personnel",R={uid:D.uid,email:D.email,role:U,name:D.name,isSwitched:!0,originalAdmin:JSON.parse(P)};r(R),a(U),o(D.name)}else{(X||P)&&(sessionStorage.removeItem("switchedUser"),sessionStorage.removeItem("originalAdmin"));const D=sn(Lt,"users",K.uid),I=await Xi(D);if(I.exists()){const U=I.data();if(U.isActive===!1){await Wu(ai),r(null),a(null),o(null),h(!1);return}const R=await S(K.uid);a(R.role),o(R.name);const C={...K,role:R.role,name:R.name,active:U.isActive,isSwitched:!1};r(C),U.email!=="wupaniyazilim@gmail.com"&&await(await bm(async()=>{const{default:W}=await Promise.resolve().then(()=>x9);return{default:W}},[])).default.logUserLogin(K.uid,R.name,U.email)}else await Wu(ai),r(null),a(null),o(null)}}catch(X){console.error("Kullanıcı durumu kontrol edilirken hata:",X),await Wu(ai),r(null),a(null),o(null)}else r(null),a(null),o(null);h(!1)}),[]);const M={currentUser:e,userRole:n,userName:s,login:A,logout:k,resetPassword:E,checkUserStatus:async()=>{if(e)try{const H=sn(Lt,"users",e.uid),K=await Xi(H);return K.exists()?K.data().isActive===!1?(await Wu(ai),r(null),a(null),o(null),!1):!0:!1}catch(H){return console.error("Kullanıcı durumu kontrol edilirken hata:",H),!1}return!1},loading:c,sessionTimeout:d,lastActivity:y,timeUntilTimeout:d*60*1e3-(Date.now()-y)};return u.jsx(p6.Provider,{value:M,children:!c&&t})},g6=be.createContext(),v9=()=>{const t=be.useContext(g6);if(!t)throw new Error("useDarkMode must be used within a DarkModeProvider");return t},b9=({children:t})=>{const[e,r]=be.useState(()=>{const s=localStorage.getItem("darkMode");return s?JSON.parse(s):window.matchMedia("(prefers-color-scheme: dark)").matches});be.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const a={darkMode:e,toggleDarkMode:()=>{r(s=>!s)}};return u.jsx(g6.Provider,{value:a,children:t})};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),$4=t=>{const e=_9(t);return e.charAt(0).toUpperCase()+e.slice(1)},x6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),k9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=be.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...c},h)=>be.createElement("svg",{ref:h,...A9,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:x6("lucide",a),...!s&&!k9(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,p])=>be.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(t,e)=>{const r=be.forwardRef(({className:n,...a},s)=>be.createElement(E9,{ref:s,iconNode:e,className:x6(`lucide-${w9($4(t))}`,`lucide-${t}`,n),...a}));return r.displayName=$4(t),r};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zy=Ot("activity",N9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],y6=Ot("arrow-down",S9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],C9=Ot("arrow-left",T9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Hc=Ot("arrow-up",R9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],v6=Ot("award",I9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],j9=Ot("briefcase",D9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],qy=Ot("building-2",L9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Im=Ot("calendar",O9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Uh=Ot("chart-column",P9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Hy=Ot("chart-pie",M9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],B9=Ot("check-check",F9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V9=Ot("check",U9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],k5=Ot("chevron-down",z9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],H9=Ot("chevron-left",q9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],b6=Ot("chevron-right",G9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],K9=Ot("chevron-up",$9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],N0=Ot("circle-alert",W9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ri=Ot("circle-check-big",Y9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$2=Ot("circle-x",X9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Gy=Ot("clock",Q9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],$y=Ot("crown",J9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],lm=Ot("database",Z9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],A5=Ot("download",eO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],w6=Ot("eye-off",tO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lp=Ot("eye",rO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ky=Ot("file-spreadsheet",nO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$g=Ot("file-text",aO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_6=Ot("funnel",sO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],oO=Ot("hard-drive",iO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wy=Ot("info",lO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vg=Ot("layout-dashboard",cO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],k6=Ot("list",uO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],A6=Ot("lock",fO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],b1=Ot("log-in",hO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],K4=Ot("log-out",dO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pO=Ot("mail",mO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],xO=Ot("maximize-2",gO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],vO=Ot("medal",yO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],E6=Ot("menu",bO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],W4=Ot("message-circle",wO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],kO=Ot("minimize-2",_O);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M5 12h14",key:"1ays0h"}]],Y4=Ot("minus",AO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],NO=Ot("monitor",EO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],X4=Ot("moon",SO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],CO=Ot("pause",TO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],IO=Ot("phone",RO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],jO=Ot("play",DO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rf=Ot("plus",LO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Jc=Ot("refresh-cw",OO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],MO=Ot("rotate-ccw",PO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pf=Ot("save",FO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],N6=Ot("search",BO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VO=Ot("send",UO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],qO=Ot("server",zO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E5=Ot("settings",HO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bs=Ot("shield",GO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],dx=Ot("square-pen",$O);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],WO=Ot("star",KO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Q4=Ot("sun",YO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],gf=Ot("target",XO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kh=Ot("trash-2",QO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],w1=Ot("trending-up",JO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dm=Ot("triangle-alert",ZO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],K2=Ot("trophy",eP);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rP=Ot("upload",tP);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zc=Ot("user-check",nP);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],W2=Ot("user-x",aP);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],f0=Ot("user",sP);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ua=Ot("users",iP);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oc=Ot("x",oP);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cP=Ot("zap",lP),uP=()=>{const[t,e]=be.useState(""),[r,n]=be.useState(""),[a,s]=be.useState(!1),[o,c]=be.useState(""),[h,d]=be.useState(!1),{login:p}=os(),y=async v=>{var b;if(v.preventDefault(),!t||!r){c("Lütfen tüm alanları doldurun");return}try{c(""),s(!0);const A=await p(t,r);A!=null&&A.user&&t!=="wupaniyazilim@gmail.com"&&await vs.logUserLogin(A.user.uid,A.user.displayName||((b=A.user.email)==null?void 0:b.split("@")[0])||"Kullanıcı",t)}catch(A){console.error("Giriş hatası:",A);let k="Bilinmeyen hata";A.message.includes("Hesabınız pasif")?(c("Hesabınız pasif durumda. Lütfen yöneticinizle iletişime geçin."),k="Hesap pasif durumda"):A.code==="auth/user-not-found"?(c("Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı."),k="Kullanıcı bulunamadı"):A.code==="auth/wrong-password"?(c("Hatalı şifre."),k="Hatalı şifre"):A.code==="auth/invalid-email"?(c("Geçersiz e-posta adresi."),k="Geçersiz e-posta"):A.code==="auth/invalid-credential"?(c("Geçersiz e-posta veya şifre."),k="Geçersiz bilgiler"):(c("Giriş yapılırken bir hata oluştu. Lütfen tekrar deneyin."),k=A.message||"Giriş hatası"),t!=="wupaniyazilim@gmail.com"&&await vs.logFailedLogin(t,k)}s(!1)};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4 relative overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-200 to-purple-300 rounded-full opacity-20 float-animation"}),u.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-lavender-200 to-lavender-300 rounded-full opacity-20 float-animation",style:{animationDelay:"3s"}}),u.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-periwinkle-200 to-periwinkle-300 rounded-full opacity-10 float-animation",style:{animationDelay:"1.5s"}})]}),u.jsx("div",{className:"w-full max-w-lg mx-auto",children:u.jsxs("div",{className:"card-modern p-10 shadow-modern-hover",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-purple rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:u.jsx(b1,{className:"h-8 w-8 text-white"})}),u.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-2",children:"Hoş Geldiniz"}),u.jsx("p",{className:"text-gray-600 font-medium",children:"Hesabınıza giriş yapın"})]}),o&&u.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center space-x-3 animate-pulse",children:[u.jsx(N0,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),u.jsx("span",{className:"text-red-700 text-sm font-medium",children:o})]}),u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"E-posta Adresi"}),u.jsx("div",{className:"relative",children:u.jsx("input",{type:"email",value:t,onChange:v=>e(v.target.value),className:"input-modern",placeholder:"",required:!0})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Şifre"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:h?"text":"password",value:r,onChange:v=>n(v.target.value),className:"input-modern pr-12",placeholder:"",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-purple-600 transition-colors",children:h?u.jsx(w6,{className:"h-5 w-5"}):u.jsx(lp,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-purple-300 rounded"}),u.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 font-medium",children:"Beni hatırla"})]}),u.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full flex items-center justify-center space-x-2",children:a?u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spin-smooth"}):u.jsxs(u.Fragment,{children:[u.jsx(b1,{className:"h-5 w-5"}),u.jsx("span",{children:"Giriş Yap"})]})})]})]})})]})},fP=()=>{const{currentUser:t}=os(),e=wv(),[r,n]=be.useState({totalRecords:0,successfulSales:0,totalRecordsChange:"0%",successfulSalesChange:"0%"}),[a,s]=be.useState(!0),[o,c]=be.useState(""),[h,d]=be.useState([]),[p,y]=be.useState([]);return be.useEffect(()=>{const v=async()=>{var E,S,j;try{if(t!=null&&t.uid){const M=hr(Lt,"users"),H=Sa(M,$s("uid","==",t.uid)),K=await Vr(H);if(K.empty)c(((S=t.email)==null?void 0:S.split("@")[0])||"Kullanıcı");else{const X=K.docs[0].data();c(X.name||((E=X.email)==null?void 0:E.split("@")[0])||"Kullanıcı")}}}catch(M){console.error("Kullanıcı adı alınırken hata:",M),c(((j=t==null?void 0:t.email)==null?void 0:j.split("@")[0])||"Kullanıcı")}},b=async()=>{try{if(t!=null&&t.uid){const E=new Date,S=new Date(E.getFullYear(),E.getMonth(),E.getDate(),0,0,0),j=new Date(E.getFullYear(),E.getMonth(),E.getDate(),23,59,59),M=new Date(E);M.setDate(M.getDate()-1);const H=new Date(M.getFullYear(),M.getMonth(),M.getDate(),0,0,0),K=new Date(M.getFullYear(),M.getMonth(),M.getDate(),23,59,59);let X;(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="teamLeader"?X=Sa(hr(Lt,"sales_records")):X=Sa(hr(Lt,"sales_records"),$s("createdBy","==",t.uid));let D=(await Vr(X)).docs.map(se=>se.data());const I=D.filter(se=>{if(se.createdAt)try{const ne=se.createdAt.toDate?se.createdAt.toDate():new Date(se.createdAt);return ne>=S&&ne<=j}catch{return!1}if(se.tarih)try{const ne=new Date(se.tarih);if(!isNaN(ne.getTime()))return ne>=S&&ne<=j}catch{return!1}return!1}),U=D.filter(se=>{if(se.createdAt)try{const ne=se.createdAt.toDate?se.createdAt.toDate():new Date(se.createdAt);return ne>=H&&ne<=K}catch{return!1}if(se.tarih)try{const ne=new Date(se.tarih);if(!isNaN(ne.getTime()))return ne>=H&&ne<=K}catch{return!1}return!1}),R=I.length,C=I.filter(se=>se.detay==="Satış Sağlandı"||se.detay==="Satış sağlandı").length,B=U.length,W=U.filter(se=>se.detay==="Satış Sağlandı"||se.detay==="Satış sağlandı").length,ue=(se,ne)=>{if(ne===0)return se>0?"+100%":"0%";const J=(se-ne)/ne*100;return J>0?`+${Math.round(J)}%`:`${Math.round(J)}%`},ae=ue(R,B),le=ue(C,W);n({totalRecords:R,successfulSales:C,totalRecordsChange:ae,successfulSalesChange:le})}}catch(E){console.error("İstatistikler alınırken hata:",E),n({totalRecords:0,successfulSales:0,totalRecordsChange:"0%",successfulSalesChange:"0%"})}},A=async()=>{try{if(t!=null&&t.uid&&((t==null?void 0:t.role)==="personnel"||(t==null?void 0:t.role)==="teamLeader")){const E=hr(Lt,"targets"),S=Sa(E,$s("userId","==",t.uid)),M=(await Vr(S)).docs.map(H=>({id:H.id,...H.data()}));d(M)}}catch(E){console.error("Hedefler alınırken hata:",E)}},k=async()=>{try{const E=new Date,S=new Date(2025,5,1),j=new Date(E.getFullYear(),E.getMonth()+1,0,23,59,59),M=hr(Lt,"sales_records"),X=(await Vr(M)).docs.map(B=>B.data()).filter(B=>{let W=null;if(B.createdAt)try{W=B.createdAt.toDate?B.createdAt.toDate():new Date(B.createdAt)}catch{}if(!W&&B.tarih)try{W=new Date(B.tarih),isNaN(W.getTime())&&(W=null)}catch{}if(!W)return!1;const ue=W>=S&&W<=j,ae=B.detay==="Satış Sağlandı"||B.detay==="Satış sağlandı"||B.detay==="Satış Bilgisi";return ue&&ae&&B.createdBy}),P={};X.forEach(B=>{const W=B.createdBy;W&&(P[W]=(P[W]||0)+1)});const D=hr(Lt,"users"),I=await Vr(D),U={},R={};I.docs.forEach(B=>{var le,se;const W=B.data(),ue=B.id,ae=W.uid||ue;ae&&(U[ae]={name:W.name||((le=W.email)==null?void 0:le.split("@")[0])||"Bilinmeyen",email:W.email,role:W.role}),W.email&&(R[W.email]={name:W.name||((se=W.email)==null?void 0:se.split("@")[0])||"Bilinmeyen",email:W.email,role:W.role})});const C=Object.entries(P).map(([B,W])=>{let ue=U[B];return!ue&&B.includes("@")&&(ue=R[B]),{userId:B,salesCount:W,userName:(ue==null?void 0:ue.name)||"Bilinmeyen Kullanıcı",userEmail:(ue==null?void 0:ue.email)||"",userRole:(ue==null?void 0:ue.role)||"personnel"}}).sort((B,W)=>W.salesCount-B.salesCount).slice(0,3);y(C)}catch(E){console.error("En iyi performanslar alınırken hata:",E),y([])}};v(),b(),A(),k(),s(!1)},[t]),a?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full spin-smooth mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 font-medium",children:"Veriler yükleniyor..."})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[u.jsx("div",{className:"card-modern p-8 bg-gradient-lavender",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-purple rounded-2xl flex items-center justify-center shadow-lg",children:u.jsx(Zc,{className:"h-8 w-8 text-white"})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-4xl font-bold text-gradient-purple",children:["Hoş Geldiniz, ",o||"Kullanıcı","! 👋"]}),u.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 font-medium mt-2",children:["Satış Takip CRM - ",u.jsx("strong",{children:new Date().toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})})," günü özeti"]}),u.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[u.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:[u.jsx(j9,{className:"h-4 w-4 mr-1"}),(t==null?void 0:t.role)==="admin"?"Yönetici":(t==null?void 0:t.role)==="teamLeader"?"Takım Lideri":"Personel"]}),u.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[u.jsx(zy,{className:"h-4 w-4 mr-1"}),"Aktif"]})]})]})]}),u.jsx("div",{className:"hidden lg:block",children:u.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-200 to-purple-300 rounded-full opacity-20 float-animation"})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card-modern p-6 hover:scale-105 transition-transform duration-300",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(Uh,{className:"h-6 w-6 text-white"})}),u.jsxs("div",{className:"flex items-center space-x-1 text-sm font-semibold text-green-600",children:[u.jsx(Hc,{className:"h-4 w-4"}),u.jsx("span",{children:r.totalRecordsChange})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Bugünkü Toplam Kayıt"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:r.totalRecords.toLocaleString("tr-TR")})]})]}),u.jsxs("div",{className:"card-modern p-6 hover:scale-105 transition-transform duration-300",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(Ri,{className:"h-6 w-6 text-white"})}),u.jsxs("div",{className:"flex items-center space-x-1 text-sm font-semibold text-green-600",children:[u.jsx(Hc,{className:"h-4 w-4"}),u.jsx("span",{children:r.successfulSalesChange})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Bugünkü Başarılı Satışlar"}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:r.successfulSales.toLocaleString("tr-TR")})]})]})]}),u.jsxs("div",{className:"card-modern p-8",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:u.jsx(cP,{className:"h-5 w-5 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Hızlı İşlemler"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("button",{onClick:()=>e("/records"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:u.jsx(lp,{className:"h-6 w-6 text-white"})}),u.jsx(Hc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Kayıtları Görüntüle"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Tüm satış kayıtlarını listele"})]}),u.jsxs("button",{onClick:()=>e("/add-record"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:u.jsx(rf,{className:"h-6 w-6 text-white"})}),u.jsx(Hc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Yeni Kayıt Ekle"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Yeni satış kaydı oluştur"})]}),(t==null?void 0:t.role)==="admin"&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>e("/analytics"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:u.jsx(Hy,{className:"h-6 w-6 text-white"})}),u.jsx(Hc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Analitik Raporları"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Detaylı analitik ve raporlar"})]}),u.jsxs("button",{onClick:()=>e("/user-management"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:u.jsx(Ua,{className:"h-6 w-6 text-white"})}),u.jsx(Hc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Kullanıcı Yönetimi"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Personel ekle ve düzenle"})]})]}),(t==null?void 0:t.role)==="teamLeader"&&u.jsxs("button",{onClick:()=>e("/analytics"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:u.jsx(Hy,{className:"h-6 w-6 text-white"})}),u.jsx(Hc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Analitik Raporları"}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Detaylı analitik ve raporlar"})]})]})]}),u.jsxs("div",{className:"card-modern p-8",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center",children:u.jsx(K2,{className:"h-5 w-5 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Zirveye Adını Yazdıranlar"}),u.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:"Bu Ay En İyi 3 Satışçı"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.length>0?p.map((v,b)=>{const k=[{title:"🥇 ALTIN",bgGradient:"from-yellow-400 via-yellow-500 to-yellow-600",borderColor:"border-yellow-300",textColor:"text-yellow-800",icon:K2,iconBg:"bg-gradient-to-br from-yellow-500 to-yellow-600"},{title:"🥈 GÜMÜŞ",bgGradient:"from-gray-300 via-gray-400 to-gray-500",borderColor:"border-gray-300",textColor:"text-gray-800",icon:vO,iconBg:"bg-gradient-to-br from-gray-400 to-gray-500"},{title:"🥉 BRONZ",bgGradient:"from-orange-400 via-orange-500 to-orange-600",borderColor:"border-orange-300",textColor:"text-orange-800",icon:v6,iconBg:"bg-gradient-to-br from-orange-500 to-orange-600"}][b],E=k.icon;return u.jsx("div",{className:`relative p-6 rounded-2xl border-2 ${k.borderColor} bg-gradient-to-br ${k.bgGradient} shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`w-16 h-16 ${k.iconBg} rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg`,children:u.jsx(E,{className:"h-8 w-8 text-white"})}),u.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:k.title}),u.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:v.userName}),u.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-3 backdrop-blur-sm",children:[u.jsx("p",{className:"text-2xl font-bold text-white",children:v.salesCount}),u.jsx("p",{className:"text-sm text-white opacity-90",children:"Başarılı Satış"})]}),b===0&&u.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:u.jsx("span",{className:"text-yellow-800 font-bold text-sm",children:"👑"})})]})},v.userId)}):u.jsxs("div",{className:"col-span-3 text-center py-8",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(K2,{className:"h-8 w-8 text-gray-400"})}),u.jsx("p",{className:"text-gray-500 font-medium",children:"Bu ay henüz satış verisi bulunmuyor"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"İlk satışları yapan personeller burada görünecek"})]})})]}),((t==null?void 0:t.role)==="personnel"||(t==null?void 0:t.role)==="teamLeader")&&h.length>0&&u.jsxs("div",{className:"card-modern p-8",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:u.jsx(gf,{className:"h-5 w-5 text-white"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Hedeflerim"})]}),u.jsxs("div",{className:"space-y-6",children:[h.map(v=>{const b=new Date().toISOString().slice(0,7);if(!(v.period===b))return null;const k=Math.min(r.successfulSales/v.targetValue*100,100),E=Math.round(k);return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Hedef: ",v.targetValue," ",v.targetType==="monthly"?"Aylık":"Yıllık"," Satış"]}),u.jsxs("span",{className:"text-sm font-bold text-green-600",children:[E,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${E}%`}})}),u.jsxs("p",{className:"text-xs text-gray-500",children:[r.successfulSales," / ",v.targetValue," satış tamamlandı"]}),v.description&&u.jsx("p",{className:"text-xs text-gray-400 italic",children:v.description})]},v.id)}),u.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-100",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Başarı Oranı"}),u.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[r.totalRecords>0?Math.round(r.successfulSales/r.totalRecords*100):0,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${r.totalRecords>0?r.successfulSales/r.totalRecords*100:0}%`}})}),u.jsxs("p",{className:"text-xs text-gray-500",children:[r.successfulSales," başarılı / ",r.totalRecords," toplam"]})]})]})]}),u.jsx("div",{className:"card-modern p-6 bg-gradient-periwinkle",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("p",{className:"text-gray-600 font-medium",children:["Bugün ",u.jsx("span",{className:"font-bold text-purple-700",children:r.totalRecords})," yeni kayıt eklediniz. Bu ay toplam ",u.jsx("span",{className:"font-bold text-purple-700",children:r.totalRecords})," kayıt oluşturdunuz."]}),u.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Başarı oranınız: ",u.jsxs("span",{className:"font-semibold text-green-600",children:[r.totalRecords>0?Math.round(r.successfulSales/r.totalRecords*100):0,"%"]})]})]})})]})})},mx=({isOpen:t,onClose:e,title:r,message:n,type:a="info",onConfirm:s,confirmText:o="Tamam",cancelText:c="İptal",showCancel:h=!1})=>{if(!t)return null;const d=()=>{switch(a){case"success":return u.jsx(Ri,{className:"h-6 w-6 text-green-600 dark:text-green-400"});case"warning":return u.jsx(Dm,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"});case"error":return u.jsx(N0,{className:"h-6 w-6 text-red-600 dark:text-red-400"});case"confirm":return u.jsx(Dm,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"});default:return u.jsx(Wy,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}},p=()=>{switch(a){case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-400";case"warning":case"confirm":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500 dark:bg-yellow-600 dark:hover:bg-yellow-700 dark:focus:ring-yellow-400";case"error":return"bg-red-600 hover:bg-red-700 focus:ring-red-500 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-400";default:return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-400"}},y=()=>{s?s():e()},v=A=>{A.target===A.currentTarget&&e()},b=document.getElementById("modal-root")||document.body;return M1.createPortal(u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:v,children:u.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-auto border border-gray-200 dark:border-gray-700",onClick:A=>A.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[d(),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:r})]}),u.jsx("button",{onClick:e,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:u.jsx(oc,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"p-4",children:u.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line",children:n})}),u.jsxs("div",{className:"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 dark:border-gray-700",children:[h&&u.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-gray-400 dark:focus:ring-offset-gray-800",children:c}),u.jsx("button",{onClick:y,className:`px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ${p()}`,children:o})]})]})}),b)};function gn(t){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(t)}var Ks=Uint8Array,Zi=Uint16Array,N5=Int32Array,px=new Ks([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gx=new Ks([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Yy=new Ks([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),S6=function(t,e){for(var r=new Zi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new N5(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},T6=S6(px,2),C6=T6.b,Xy=T6.r;C6[28]=258,Xy[258]=28;var R6=S6(gx,0),hP=R6.b,J4=R6.r,Qy=new Zi(32768);for(var jn=0;jn<32768;++jn){var Yu=(jn&43690)>>1|(jn&21845)<<1;Yu=(Yu&52428)>>2|(Yu&13107)<<2,Yu=(Yu&61680)>>4|(Yu&3855)<<4,Qy[jn]=((Yu&65280)>>8|(Yu&255)<<8)>>1}var ac=function(t,e,r){for(var n=t.length,a=0,s=new Zi(e);a<n;++a)t[a]&&++s[t[a]-1];var o=new Zi(e);for(a=1;a<e;++a)o[a]=o[a-1]+s[a-1]<<1;var c;if(r){c=new Zi(1<<e);var h=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],p=e-t[a],y=o[t[a]-1]++<<p,v=y|(1<<p)-1;y<=v;++y)c[Qy[y]>>h]=d}else for(c=new Zi(n),a=0;a<n;++a)t[a]&&(c[a]=Qy[o[t[a]-1]++]>>15-t[a]);return c},v0=new Ks(288);for(var jn=0;jn<144;++jn)v0[jn]=8;for(var jn=144;jn<256;++jn)v0[jn]=9;for(var jn=256;jn<280;++jn)v0[jn]=7;for(var jn=280;jn<288;++jn)v0[jn]=8;var jm=new Ks(32);for(var jn=0;jn<32;++jn)jm[jn]=5;var dP=ac(v0,9,0),mP=ac(v0,9,1),pP=ac(jm,5,0),gP=ac(jm,5,1),Y2=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},rl=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},X2=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},S5=function(t){return(t+7)/8|0},I6=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ks(t.subarray(e,r))},xP=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ol=function(t,e,r){var n=new Error(e||xP[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,ol),!r)throw n;return n},yP=function(t,e,r,n){var a=t.length,s=0;if(!a||e.f&&!e.l)return r||new Ks(0);var o=!r,c=o||e.i!=2,h=e.i;o&&(r=new Ks(a*3));var d=function(tt){var ee=r.length;if(tt>ee){var Te=new Ks(Math.max(ee*2,tt));Te.set(r),r=Te}},p=e.f||0,y=e.p||0,v=e.b||0,b=e.l,A=e.d,k=e.m,E=e.n,S=a*8;do{if(!b){p=rl(t,y,1);var j=rl(t,y+1,3);if(y+=3,j)if(j==1)b=mP,A=gP,k=9,E=5;else if(j==2){var X=rl(t,y,31)+257,P=rl(t,y+10,15)+4,D=X+rl(t,y+5,31)+1;y+=14;for(var I=new Ks(D),U=new Ks(19),R=0;R<P;++R)U[Yy[R]]=rl(t,y+R*3,7);y+=P*3;for(var C=Y2(U),B=(1<<C)-1,W=ac(U,C,1),R=0;R<D;){var ue=W[rl(t,y,B)];y+=ue&15;var M=ue>>4;if(M<16)I[R++]=M;else{var ae=0,le=0;for(M==16?(le=3+rl(t,y,3),y+=2,ae=I[R-1]):M==17?(le=3+rl(t,y,7),y+=3):M==18&&(le=11+rl(t,y,127),y+=7);le--;)I[R++]=ae}}var se=I.subarray(0,X),ne=I.subarray(X);k=Y2(se),E=Y2(ne),b=ac(se,k,1),A=ac(ne,E,1)}else ol(1);else{var M=S5(y)+4,H=t[M-4]|t[M-3]<<8,K=M+H;if(K>a){h&&ol(0);break}c&&d(v+H),r.set(t.subarray(M,K),v),e.b=v+=H,e.p=y=K*8,e.f=p;continue}if(y>S){h&&ol(0);break}}c&&d(v+131072);for(var J=(1<<k)-1,Ne=(1<<E)-1,L=y;;L=y){var ae=b[X2(t,y)&J],z=ae>>4;if(y+=ae&15,y>S){h&&ol(0);break}if(ae||ol(2),z<256)r[v++]=z;else if(z==256){L=y,b=null;break}else{var G=z-254;if(z>264){var R=z-257,Y=px[R];G=rl(t,y,(1<<Y)-1)+C6[R],y+=Y}var Z=A[X2(t,y)&Ne],de=Z>>4;Z||ol(3),y+=Z&15;var ne=hP[de];if(de>3){var Y=gx[de];ne+=X2(t,y)&(1<<Y)-1,y+=Y}if(y>S){h&&ol(0);break}c&&d(v+131072);var xe=v+G;if(v<ne){var we=s-ne,je=Math.min(ne,xe);for(we+v<0&&ol(3);v<je;++v)r[v]=n[we+v]}for(;v<xe;++v)r[v]=r[v-ne]}}e.l=b,e.p=L,e.b=v,e.f=p,b&&(p=1,e.m=k,e.d=A,e.n=E)}while(!p);return v!=r.length&&o?I6(r,0,v):r.subarray(0,v)},qc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Hd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Q2=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,s=r.slice();if(!a)return{t:j6,l:0};if(a==1){var o=new Ks(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(K,X){return K.f-X.f}),r.push({s:-1,f:25001});var c=r[0],h=r[1],d=0,p=1,y=2;for(r[0]={s:-1,f:c.f+h.f,l:c,r:h};p!=a-1;)c=r[r[d].f<r[y].f?d++:y++],h=r[d!=p&&r[d].f<r[y].f?d++:y++],r[p++]={s:-1,f:c.f+h.f,l:c,r:h};for(var v=s[0].s,n=1;n<a;++n)s[n].s>v&&(v=s[n].s);var b=new Zi(v+1),A=Jy(r[p-1],b,0);if(A>e){var n=0,k=0,E=A-e,S=1<<E;for(s.sort(function(X,P){return b[P.s]-b[X.s]||X.f-P.f});n<a;++n){var j=s[n].s;if(b[j]>e)k+=S-(1<<A-b[j]),b[j]=e;else break}for(k>>=E;k>0;){var M=s[n].s;b[M]<e?k-=1<<e-b[M]++-1:++n}for(;n>=0&&k;--n){var H=s[n].s;b[H]==e&&(--b[H],++k)}A=e}return{t:new Ks(b),l:A}},Jy=function(t,e,r){return t.s==-1?Math.max(Jy(t.l,e,r+1),Jy(t.r,e,r+1)):e[t.s]=r},Z4=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Zi(++e),n=0,a=t[0],s=1,o=function(h){r[n++]=h},c=1;c<=e;++c)if(t[c]==a&&c!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[c]}return{c:r.subarray(0,n),n:e}},Gd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},D6=function(t,e,r){var n=r.length,a=S5(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var s=0;s<n;++s)t[a+s+4]=r[s];return(a+4+n)*8},e3=function(t,e,r,n,a,s,o,c,h,d,p){qc(e,p++,r),++a[256];for(var y=Q2(a,15),v=y.t,b=y.l,A=Q2(s,15),k=A.t,E=A.l,S=Z4(v),j=S.c,M=S.n,H=Z4(k),K=H.c,X=H.n,P=new Zi(19),D=0;D<j.length;++D)++P[j[D]&31];for(var D=0;D<K.length;++D)++P[K[D]&31];for(var I=Q2(P,7),U=I.t,R=I.l,C=19;C>4&&!U[Yy[C-1]];--C);var B=d+5<<3,W=Gd(a,v0)+Gd(s,jm)+o,ue=Gd(a,v)+Gd(s,k)+o+14+3*C+Gd(P,U)+2*P[16]+3*P[17]+7*P[18];if(h>=0&&B<=W&&B<=ue)return D6(e,p,t.subarray(h,h+d));var ae,le,se,ne;if(qc(e,p,1+(ue<W)),p+=2,ue<W){ae=ac(v,b,0),le=v,se=ac(k,E,0),ne=k;var J=ac(U,R,0);qc(e,p,M-257),qc(e,p+5,X-1),qc(e,p+10,C-4),p+=14;for(var D=0;D<C;++D)qc(e,p+3*D,U[Yy[D]]);p+=3*C;for(var Ne=[j,K],L=0;L<2;++L)for(var z=Ne[L],D=0;D<z.length;++D){var G=z[D]&31;qc(e,p,J[G]),p+=U[G],G>15&&(qc(e,p,z[D]>>5&127),p+=z[D]>>12)}}else ae=dP,le=v0,se=pP,ne=jm;for(var D=0;D<c;++D){var Y=n[D];if(Y>255){var G=Y>>18&31;Hd(e,p,ae[G+257]),p+=le[G+257],G>7&&(qc(e,p,Y>>23&31),p+=px[G]);var Z=Y&31;Hd(e,p,se[Z]),p+=ne[Z],Z>3&&(Hd(e,p,Y>>5&8191),p+=gx[Z])}else Hd(e,p,ae[Y]),p+=le[Y]}return Hd(e,p,ae[256]),p+le[256]},vP=new N5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),j6=new Ks(0),bP=function(t,e,r,n,a,s){var o=s.z||t.length,c=new Ks(n+o+5*(1+Math.ceil(o/7e3))+a),h=c.subarray(n,c.length-a),d=s.l,p=(s.r||0)&7;if(e){p&&(h[0]=s.r>>3);for(var y=vP[e-1],v=y>>13,b=y&8191,A=(1<<r)-1,k=s.p||new Zi(32768),E=s.h||new Zi(A+1),S=Math.ceil(r/3),j=2*S,M=function(Qe){return(t[Qe]^t[Qe+1]<<S^t[Qe+2]<<j)&A},H=new N5(25e3),K=new Zi(288),X=new Zi(32),P=0,D=0,I=s.i||0,U=0,R=s.w||0,C=0;I+2<o;++I){var B=M(I),W=I&32767,ue=E[B];if(k[W]=ue,E[B]=W,R<=I){var ae=o-I;if((P>7e3||U>24576)&&(ae>423||!d)){p=e3(t,h,0,H,K,X,D,U,C,I-C,p),U=P=D=0,C=I;for(var le=0;le<286;++le)K[le]=0;for(var le=0;le<30;++le)X[le]=0}var se=2,ne=0,J=b,Ne=W-ue&32767;if(ae>2&&B==M(I-Ne))for(var L=Math.min(v,ae)-1,z=Math.min(32767,I),G=Math.min(258,ae);Ne<=z&&--J&&W!=ue;){if(t[I+se]==t[I+se-Ne]){for(var Y=0;Y<G&&t[I+Y]==t[I+Y-Ne];++Y);if(Y>se){if(se=Y,ne=Ne,Y>L)break;for(var Z=Math.min(Ne,Y-2),de=0,le=0;le<Z;++le){var xe=I-Ne+le&32767,we=k[xe],je=xe-we&32767;je>de&&(de=je,ue=xe)}}}W=ue,ue=k[W],Ne+=W-ue&32767}if(ne){H[U++]=268435456|Xy[se]<<18|J4[ne];var tt=Xy[se]&31,ee=J4[ne]&31;D+=px[tt]+gx[ee],++K[257+tt],++X[ee],R=I+se,++P}else H[U++]=t[I],++K[t[I]]}}for(I=Math.max(I,R);I<o;++I)H[U++]=t[I],++K[t[I]];p=e3(t,h,d,H,K,X,D,U,C,I-C,p),d||(s.r=p&7|h[p/8|0]<<3,p-=7,s.h=E,s.p=k,s.i=I,s.w=R)}else{for(var I=s.w||0;I<o+d;I+=65535){var Te=I+65535;Te>=o&&(h[p/8|0]=d,Te=o),p=D6(h,p+1,t.subarray(I,Te))}s.i=o}return I6(c,0,n+S5(p)+a)},L6=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,s=r.length|0,o=0;o!=s;){for(var c=Math.min(o+2655,s);o<c;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},wP=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Ks(s.length+t.length);o.set(s),o.set(t,s.length),t=o,a.w=s.length}return bP(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},O6=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},_P=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=L6();a.p(e.dictionary),O6(t,2,a.d())}},kP=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ol(6,"invalid zlib data"),(t[1]>>5&1)==1&&ol(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Zy(t,e){e||(e={});var r=L6();r.p(t);var n=wP(t,e,e.dictionary?6:2,4);return _P(n,e),O6(n,n.length-4,r.d()),n}function AP(t,e){return yP(t.subarray(kP(t),-4),{i:2},e,e)}var EP=typeof TextDecoder<"u"&&new TextDecoder,NP=0;try{EP.decode(j6,{stream:!0}),NP=1}catch{}var ar=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function J2(){ar.console&&typeof ar.console.log=="function"&&ar.console.log.apply(ar.console,arguments)}var En={log:J2,warn:function(t){ar.console&&(typeof ar.console.warn=="function"?ar.console.warn.apply(ar.console,arguments):J2.call(null,arguments))},error:function(t){ar.console&&(typeof ar.console.error=="function"?ar.console.error.apply(ar.console,arguments):J2(t))}};function Z2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Q0(n.response,e,r)},n.onerror=function(){En.error("could not download file")},n.send()}function t3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function bg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var cm,ev,Q0=ar.saveAs||((typeof window>"u"?"undefined":gn(window))!=="object"||window!==ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ar.URL||ar.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?t3(a.href)?Z2(t,e,r):bg(a,a.target="_blank"):bg(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){bg(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(t3(t))Z2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){bg(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:gn(s)!=="object"&&(En.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Z2(t,e,r);var a=t.type==="application/octet-stream",s=/constructor/i.test(ar.HTMLElement)||ar.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":gn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},c.readAsDataURL(t)}else{var h=ar.URL||ar.webkitURL,d=h.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function P6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),"#"+c+h+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ey(t,e){var r=t[0],n=t[1],a=t[2],s=t[3];r=Ms(r,n,a,s,e[0],7,-680876936),s=Ms(s,r,n,a,e[1],12,-389564586),a=Ms(a,s,r,n,e[2],17,606105819),n=Ms(n,a,s,r,e[3],22,-1044525330),r=Ms(r,n,a,s,e[4],7,-176418897),s=Ms(s,r,n,a,e[5],12,1200080426),a=Ms(a,s,r,n,e[6],17,-1473231341),n=Ms(n,a,s,r,e[7],22,-45705983),r=Ms(r,n,a,s,e[8],7,1770035416),s=Ms(s,r,n,a,e[9],12,-1958414417),a=Ms(a,s,r,n,e[10],17,-42063),n=Ms(n,a,s,r,e[11],22,-1990404162),r=Ms(r,n,a,s,e[12],7,1804603682),s=Ms(s,r,n,a,e[13],12,-40341101),a=Ms(a,s,r,n,e[14],17,-1502002290),r=Fs(r,n=Ms(n,a,s,r,e[15],22,1236535329),a,s,e[1],5,-165796510),s=Fs(s,r,n,a,e[6],9,-1069501632),a=Fs(a,s,r,n,e[11],14,643717713),n=Fs(n,a,s,r,e[0],20,-373897302),r=Fs(r,n,a,s,e[5],5,-701558691),s=Fs(s,r,n,a,e[10],9,38016083),a=Fs(a,s,r,n,e[15],14,-660478335),n=Fs(n,a,s,r,e[4],20,-405537848),r=Fs(r,n,a,s,e[9],5,568446438),s=Fs(s,r,n,a,e[14],9,-1019803690),a=Fs(a,s,r,n,e[3],14,-187363961),n=Fs(n,a,s,r,e[8],20,1163531501),r=Fs(r,n,a,s,e[13],5,-1444681467),s=Fs(s,r,n,a,e[2],9,-51403784),a=Fs(a,s,r,n,e[7],14,1735328473),r=Bs(r,n=Fs(n,a,s,r,e[12],20,-1926607734),a,s,e[5],4,-378558),s=Bs(s,r,n,a,e[8],11,-2022574463),a=Bs(a,s,r,n,e[11],16,1839030562),n=Bs(n,a,s,r,e[14],23,-35309556),r=Bs(r,n,a,s,e[1],4,-1530992060),s=Bs(s,r,n,a,e[4],11,1272893353),a=Bs(a,s,r,n,e[7],16,-155497632),n=Bs(n,a,s,r,e[10],23,-1094730640),r=Bs(r,n,a,s,e[13],4,681279174),s=Bs(s,r,n,a,e[0],11,-358537222),a=Bs(a,s,r,n,e[3],16,-722521979),n=Bs(n,a,s,r,e[6],23,76029189),r=Bs(r,n,a,s,e[9],4,-640364487),s=Bs(s,r,n,a,e[12],11,-421815835),a=Bs(a,s,r,n,e[15],16,530742520),r=Us(r,n=Bs(n,a,s,r,e[2],23,-995338651),a,s,e[0],6,-198630844),s=Us(s,r,n,a,e[7],10,1126891415),a=Us(a,s,r,n,e[14],15,-1416354905),n=Us(n,a,s,r,e[5],21,-57434055),r=Us(r,n,a,s,e[12],6,1700485571),s=Us(s,r,n,a,e[3],10,-1894986606),a=Us(a,s,r,n,e[10],15,-1051523),n=Us(n,a,s,r,e[1],21,-2054922799),r=Us(r,n,a,s,e[8],6,1873313359),s=Us(s,r,n,a,e[15],10,-30611744),a=Us(a,s,r,n,e[6],15,-1560198380),n=Us(n,a,s,r,e[13],21,1309151649),r=Us(r,n,a,s,e[4],6,-145523070),s=Us(s,r,n,a,e[11],10,-1120210379),a=Us(a,s,r,n,e[2],15,718787259),n=Us(n,a,s,r,e[9],21,-343485551),t[0]=a0(r,t[0]),t[1]=a0(n,t[1]),t[2]=a0(a,t[2]),t[3]=a0(s,t[3])}function xx(t,e,r,n,a,s){return e=a0(a0(e,t),a0(n,s)),a0(e<<a|e>>>32-a,r)}function Ms(t,e,r,n,a,s,o){return xx(e&r|~e&n,t,e,a,s,o)}function Fs(t,e,r,n,a,s,o){return xx(e&n|r&~n,t,e,a,s,o)}function Bs(t,e,r,n,a,s,o){return xx(e^r^n,t,e,a,s,o)}function Us(t,e,r,n,a,s,o){return xx(r^(e|~n),t,e,a,s,o)}function M6(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ey(n,SP(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(ey(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,ey(n,a),n}function SP(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}cm=ar.atob.bind(ar),ev=ar.btoa.bind(ar);var r3="0123456789abcdef".split("");function TP(t){for(var e="",r=0;r<4;r++)e+=r3[t>>8*r+4&15]+r3[t>>8*r&15];return e}function CP(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function tv(t){return M6(t).map(CP).join("")}var RP=function(t){for(var e=0;e<t.length;e++)t[e]=TP(t[e]);return t.join("")}(M6("hello"))!="5d41402abc4b2a76b9719d911017c592";function a0(t,e){if(RP){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function rv(t,e){var r,n,a,s;if(t!==r){for(var o=(a=t,s=1+(256/t.length>>0),new Array(s+1).join(a)),c=[],h=0;h<256;h++)c[h]=h;var d=0;for(h=0;h<256;h++){var p=c[h];d=(d+p+o.charCodeAt(h))%256,c[h]=c[d],c[d]=p}r=t,n=c}else c=n;var y=e.length,v=0,b=0,A="";for(h=0;h<y;h++)b=(b+(p=c[v=(v+1)%256]))%256,c[v]=c[b],c[b]=p,o=c[(c[v]+c[b])%256],A+=String.fromCharCode(e.charCodeAt(h)^o);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var n3={print:4,modify:8,copy:16,"annot-forms":32};function hh(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(c){if(n3.perm!==void 0)throw new Error("Invalid permission: "+c);a+=n3[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=tv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=rv(this.encryptionKey,this.padding)}function dh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function a3(t){if(gn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(c){ar.console&&En.error("jsPDF PubSub Error",c.message,c)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function _1(t){if(!(this instanceof _1))return new _1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function F6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function J0(t,e,r,n,a){if(!(this instanceof J0))return new J0(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,F6.call(this,n,a)}function xh(t,e,r,n,a){if(!(this instanceof xh))return new xh(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,F6.call(this,n,a)}function rr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],c=1,h=16,d="S",p=null;gn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var y=t.putOnlyUsedFonts||!1,v={},b={internal:{},__private__:{}};b.__private__.PubSub=a3;var A="1.3",k=b.__private__.getPdfVersion=function(){return A};b.__private__.setPdfVersion=function(T){A=T};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return E};var S=b.__private__.getPageFormat=function(T){return E[T]};a=a||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},M=j.COMPAT;function H(){this.saveGraphicsState(),pe(new Rt(vt,0,0,-vt,0,Xa()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),d="n",M=j.ADVANCED}function K(){this.restoreGraphicsState(),d="S",M=j.COMPAT}var X=b.__private__.combineFontStyleAndFontWeight=function(T,re){if(T=="bold"&&re=="normal"||T=="bold"&&re==400||T=="normal"&&re=="italic"||T=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(T=re==400||re==="normal"?T==="italic"?"italic":"normal":re!=700&&re!=="bold"||T!=="normal"?(re==700?"bold":re)+""+T:"bold"),T};b.advancedAPI=function(T){var re=M===j.COMPAT;return re&&H.call(this),typeof T!="function"||(T(this),re&&K.call(this)),this},b.compatAPI=function(T){var re=M===j.ADVANCED;return re&&K.call(this),typeof T!="function"||(T(this),re&&H.call(this)),this},b.isAdvancedAPI=function(){return M===j.ADVANCED};var P,D=function(T){if(M!==j.ADVANCED)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=b.roundToPrecision=b.__private__.roundToPrecision=function(T,re){var Se=e||re;if(isNaN(T)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(Se).replace(/0+$/,"")};P=b.hpf=b.__private__.hpf=typeof h=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return I(T,h)}:h==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return I(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return I(T,16)};var U=b.f2=b.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return I(T,2)},R=b.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return I(T,3)},C=b.scale=b.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return M===j.COMPAT?T*vt:M===j.ADVANCED?T:void 0},B=function(T){return M===j.COMPAT?Xa()-T:M===j.ADVANCED?T:void 0},W=function(T){return C(B(T))};b.__private__.setPrecision=b.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var ue,ae="00000000000000000000000000000000",le=b.__private__.getFileId=function(){return ae},se=b.__private__.setFileId=function(T){return ae=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(hn=new hh(p.userPermissions,p.userPassword,p.ownerPassword,ae)),ae};b.setFileId=function(T){return se(T),this},b.getFileId=function(){return le()};var ne=b.__private__.convertDateToPDFDate=function(T){var re=T.getTimezoneOffset(),Se=re<0?"+":"-",Re=Math.floor(Math.abs(re/60)),Be=Math.abs(re%60),nt=[Se,G(Re),"'",G(Be),"'"].join("");return["D:",T.getFullYear(),G(T.getMonth()+1),G(T.getDate()),G(T.getHours()),G(T.getMinutes()),G(T.getSeconds()),nt].join("")},J=b.__private__.convertPDFDateToDate=function(T){var re=parseInt(T.substr(2,4),10),Se=parseInt(T.substr(6,2),10)-1,Re=parseInt(T.substr(8,2),10),Be=parseInt(T.substr(10,2),10),nt=parseInt(T.substr(12,2),10),gt=parseInt(T.substr(14,2),10);return new Date(re,Se,Re,Be,nt,gt,0)},Ne=b.__private__.setCreationDate=function(T){var re;if(T===void 0&&(T=new Date),T instanceof Date)re=ne(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=T}return ue=re},L=b.__private__.getCreationDate=function(T){var re=ue;return T==="jsDate"&&(re=J(ue)),re};b.setCreationDate=function(T){return Ne(T),this},b.getCreationDate=function(T){return L(T)};var z,G=b.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},Y=b.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},Z=0,de=[],xe=[],we=0,je=[],tt=[],ee=!1,Te=xe,Qe=function(){Z=0,we=0,xe=[],de=[],je=[],ye=Sn(),ve=Sn()};b.__private__.setCustomOutputDestination=function(T){ee=!0,Te=T};var Le=function(T){ee||(Te=T)};b.__private__.resetCustomOutputDestination=function(){ee=!1,Te=xe};var pe=b.__private__.out=function(T){return T=T.toString(),we+=T.length+1,Te.push(T),Te},Ke=b.__private__.write=function(T){return pe(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},xt=b.__private__.getArrayBuffer=function(T){for(var re=T.length,Se=new ArrayBuffer(re),Re=new Uint8Array(Se);re--;)Re[re]=T.charCodeAt(re);return Se},st=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return st};var pt=t.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(T){return pt=M===j.ADVANCED?T/vt:T,this};var _t,bt=b.__private__.getFontSize=b.getFontSize=function(){return M===j.COMPAT?pt:pt*vt},Dt=t.R2L||!1;b.__private__.setR2L=b.setR2L=function(T){return Dt=T,this},b.__private__.getR2L=b.getR2L=function(){return Dt};var Ut,Wt=b.__private__.setZoomMode=function(T){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))_t=T;else if(isNaN(T)){if(re.indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');_t=T}else _t=parseInt(T,10)};b.__private__.getZoomMode=function(){return _t};var Pt,Mt=b.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');Ut=T};b.__private__.getPageMode=function(){return Ut};var Ht=b.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');Pt=T};b.__private__.getLayoutMode=function(){return Pt},b.__private__.setDisplayMode=b.setDisplayMode=function(T,re,Se){return Wt(T),Ht(re),Mt(Se),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(T){if(Object.keys(It).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[T]},b.__private__.getDocumentProperties=function(){return It},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(T){for(var re in It)It.hasOwnProperty(re)&&T[re]&&(It[re]=T[re]);return this},b.__private__.setDocumentProperty=function(T,re){if(Object.keys(It).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[T]=re};var Tt,vt,Dr,qt,_n,gr={},Wr={},ga=[],wr={},As={},on={},Un={},na=null,Yr=0,$t=[],Sr=new a3(b),Ga=t.hotfixes||[],Nn={},aa={},ls=[],Rt=function T(re,Se,Re,Be,nt,gt){if(!(this instanceof T))return new T(re,Se,Re,Be,nt,gt);isNaN(re)&&(re=1),isNaN(Se)&&(Se=0),isNaN(Re)&&(Re=0),isNaN(Be)&&(Be=1),isNaN(nt)&&(nt=0),isNaN(gt)&&(gt=0),this._matrix=[re,Se,Re,Be,nt,gt]};Object.defineProperty(Rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(T)},Rt.prototype.multiply=function(T){var re=T.sx*this.sx+T.shy*this.shx,Se=T.sx*this.shy+T.shy*this.sy,Re=T.shx*this.sx+T.sy*this.shx,Be=T.shx*this.shy+T.sy*this.sy,nt=T.tx*this.sx+T.ty*this.shx+this.tx,gt=T.tx*this.shy+T.ty*this.sy+this.ty;return new Rt(re,Se,Re,Be,nt,gt)},Rt.prototype.decompose=function(){var T=this.sx,re=this.shy,Se=this.shx,Re=this.sy,Be=this.tx,nt=this.ty,gt=Math.sqrt(T*T+re*re),Nt=(T/=gt)*Se+(re/=gt)*Re;Se-=T*Nt,Re-=re*Nt;var x=Math.sqrt(Se*Se+Re*Re);return Nt/=x,T*(Re/=x)<re*(Se/=x)&&(T=-T,re=-re,Nt=-Nt,gt=-gt),{scale:new Rt(gt,0,0,x,0,0),translate:new Rt(1,0,0,1,Be,nt),rotate:new Rt(T,re,-re,T,0,0),skew:new Rt(1,0,Nt,1,0,0)}},Rt.prototype.toString=function(T){return this.join(" ")},Rt.prototype.inversed=function(){var T=this.sx,re=this.shy,Se=this.shx,Re=this.sy,Be=this.tx,nt=this.ty,gt=1/(T*Re-re*Se),Nt=Re*gt,x=-re*gt,F=-Se*gt,q=T*gt;return new Rt(Nt,x,F,q,-Nt*Be-F*nt,-x*Be-q*nt)},Rt.prototype.applyToPoint=function(T){var re=T.x*this.sx+T.y*this.shx+this.tx,Se=T.x*this.shy+T.y*this.sy+this.ty;return new Mo(re,Se)},Rt.prototype.applyToRectangle=function(T){var re=this.applyToPoint(T),Se=this.applyToPoint(new Mo(T.x+T.w,T.y+T.h));return new Al(re.x,re.y,Se.x-re.x,Se.y-re.y)},Rt.prototype.clone=function(){var T=this.sx,re=this.shy,Se=this.shx,Re=this.sy,Be=this.tx,nt=this.ty;return new Rt(T,re,Se,Re,Be,nt)},b.Matrix=Rt;var Xr=b.matrixMult=function(T,re){return re.multiply(T)},Mr=new Rt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Mr;var fn=function(T,re){if(!As[T]){var Se=(re instanceof J0?"Sh":"P")+(Object.keys(wr).length+1).toString(10);re.id=Se,As[T]=Se,wr[Se]=re,Sr.publish("addPattern",re)}};b.ShadingPattern=J0,b.TilingPattern=xh,b.addShadingPattern=function(T,re){return D("addShadingPattern()"),fn(T,re),this},b.beginTilingPattern=function(T){D("beginTilingPattern()"),uo(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},b.endTilingPattern=function(T,re){D("endTilingPattern()"),re.stream=tt[z].join(`
`),fn(T,re),Sr.publish("endTilingPattern",re),ls.pop().restore()};var kn=b.__private__.newObject=function(){var T=Sn();return ie(T,!0),T},Sn=b.__private__.newObjectDeferred=function(){return Z++,de[Z]=function(){return we},Z},ie=function(T,re){return re=typeof re=="boolean"&&re,de[T]=we,re&&pe(T+" 0 obj"),T},Ae=b.__private__.newAdditionalObject=function(){var T={objId:Sn(),content:""};return je.push(T),T},ye=Sn(),ve=Sn(),ke=b.__private__.decodeColorString=function(T){var re=T.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Se=parseFloat(re[0]);re=[Se,Se,Se,"r"]}for(var Re="#",Be=0;Be<3;Be++)Re+=("0"+Math.floor(255*parseFloat(re[Be])).toString(16)).slice(-2);return Re},Ee=b.__private__.encodeColorString=function(T){var re;typeof T=="string"&&(T={ch1:T});var Se=T.ch1,Re=T.ch2,Be=T.ch3,nt=T.ch4,gt=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var Nt=new P6(Se);if(Nt.ok)Se=Nt.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var x=parseInt(Se.substr(1),16);Se=x>>16&255,Re=x>>8&255,Be=255&x}if(Re===void 0||nt===void 0&&Se===Re&&Re===Be)if(typeof Se=="string")re=Se+" "+gt[0];else switch(T.precision){case 2:re=U(Se/255)+" "+gt[0];break;case 3:default:re=R(Se/255)+" "+gt[0]}else if(nt===void 0||gn(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return re=["1.","1.","1.",gt[1]].join(" ");if(typeof Se=="string")re=[Se,Re,Be,gt[1]].join(" ");else switch(T.precision){case 2:re=[U(Se/255),U(Re/255),U(Be/255),gt[1]].join(" ");break;default:case 3:re=[R(Se/255),R(Re/255),R(Be/255),gt[1]].join(" ")}}else if(typeof Se=="string")re=[Se,Re,Be,nt,gt[2]].join(" ");else switch(T.precision){case 2:re=[U(Se),U(Re),U(Be),U(nt),gt[2]].join(" ");break;case 3:default:re=[R(Se),R(Re),R(Be),R(nt),gt[2]].join(" ")}return re},ze=b.__private__.getFilters=function(){return o},Ze=b.__private__.putStream=function(T){var re=(T=T||{}).data||"",Se=T.filters||ze(),Re=T.alreadyAppliedFilters||[],Be=T.addLength1||!1,nt=re.length,gt=T.objectId,Nt=function(Zt){return Zt};if(p!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Nt=hn.encryptor(gt,0));var x={};Se===!0&&(Se=["FlateEncode"]);var F=T.additionalKeyValues||[],q=(x=rr.API.processDataByFilters!==void 0?rr.API.processDataByFilters(re,Se):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(x.data.length!==0&&(F.push({key:"Length",value:x.data.length}),Be===!0&&F.push({key:"Length1",value:nt})),q.length!=0)if(q.split("/").length-1==1)F.push({key:"Filter",value:q});else{F.push({key:"Filter",value:"["+q+"]"});for(var he=0;he<F.length;he+=1)if(F[he].key==="DecodeParms"){for(var Me=[],We=0;We<x.reverseChain.split("/").length-1;We+=1)Me.push("null");Me.push(F[he].value),F[he].value="["+Me.join(" ")+"]"}}pe("<<");for(var yt=0;yt<F.length;yt++)pe("/"+F[yt].key+" "+F[yt].value);pe(">>"),x.data.length!==0&&(pe("stream"),pe(Nt(x.data)),pe("endstream"))},Fe=b.__private__.putPage=function(T){var re=T.number,Se=T.data,Re=T.objId,Be=T.contentsObjId;ie(Re,!0),pe("<</Type /Page"),pe("/Parent "+T.rootDictionaryObjId+" 0 R"),pe("/Resources "+T.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(P(T.mediaBox.bottomLeftX))+" "+parseFloat(P(T.mediaBox.bottomLeftY))+" "+P(T.mediaBox.topRightX)+" "+P(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&pe("/CropBox ["+P(T.cropBox.bottomLeftX)+" "+P(T.cropBox.bottomLeftY)+" "+P(T.cropBox.topRightX)+" "+P(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&pe("/BleedBox ["+P(T.bleedBox.bottomLeftX)+" "+P(T.bleedBox.bottomLeftY)+" "+P(T.bleedBox.topRightX)+" "+P(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&pe("/TrimBox ["+P(T.trimBox.bottomLeftX)+" "+P(T.trimBox.bottomLeftY)+" "+P(T.trimBox.topRightX)+" "+P(T.trimBox.topRightY)+"]"),T.artBox!==null&&pe("/ArtBox ["+P(T.artBox.bottomLeftX)+" "+P(T.artBox.bottomLeftY)+" "+P(T.artBox.topRightX)+" "+P(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&pe("/UserUnit "+T.userUnit),Sr.publish("putPage",{objId:Re,pageContext:$t[re],pageNumber:re,page:Se}),pe("/Contents "+Be+" 0 R"),pe(">>"),pe("endobj");var nt=Se.join(`
`);return M===j.ADVANCED&&(nt+=`
Q`),ie(Be,!0),Ze({data:nt,filters:ze(),objectId:Be}),pe("endobj"),Re},Ge=b.__private__.putPages=function(){var T,re,Se=[];for(T=1;T<=Yr;T++)$t[T].objId=Sn(),$t[T].contentsObjId=Sn();for(T=1;T<=Yr;T++)Se.push(Fe({number:T,data:tt[T],objId:$t[T].objId,contentsObjId:$t[T].contentsObjId,mediaBox:$t[T].mediaBox,cropBox:$t[T].cropBox,bleedBox:$t[T].bleedBox,trimBox:$t[T].trimBox,artBox:$t[T].artBox,userUnit:$t[T].userUnit,rootDictionaryObjId:ye,resourceDictionaryObjId:ve}));ie(ye,!0),pe("<</Type /Pages");var Re="/Kids [";for(re=0;re<Yr;re++)Re+=Se[re]+" 0 R ";pe(Re+"]"),pe("/Count "+Yr),pe(">>"),pe("endobj"),Sr.publish("postPutPages")},Xe=function(T){Sr.publish("putFont",{font:T,out:pe,newObject:kn,putStream:Ze}),T.isAlreadyPutted!==!0&&(T.objectNumber=kn(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+dh(T.postScriptName)),pe("/Subtype /Type1"),typeof T.encoding=="string"&&pe("/Encoding /"+T.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},ft=function(){for(var T in gr)gr.hasOwnProperty(T)&&(y===!1||y===!0&&v.hasOwnProperty(T))&&Xe(gr[T])},kt=function(T){T.objectNumber=kn();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[P(T.x),P(T.y),P(T.x+T.width),P(T.y+T.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var Se=T.pages[1].join(`
`);Ze({data:Se,additionalKeyValues:re,objectId:T.objectNumber}),pe("endobj")},Ct=function(){for(var T in Nn)Nn.hasOwnProperty(T)&&kt(Nn[T])},wt=function(T,re){var Se,Re=[],Be=1/(re-1);for(Se=0;Se<1;Se+=Be)Re.push(Se);if(Re.push(1),T[0].offset!=0){var nt={offset:0,color:T[0].color};T.unshift(nt)}if(T[T.length-1].offset!=1){var gt={offset:1,color:T[T.length-1].color};T.push(gt)}for(var Nt="",x=0,F=0;F<Re.length;F++){for(Se=Re[F];Se>T[x+1].offset;)x++;var q=T[x].offset,he=(Se-q)/(T[x+1].offset-q),Me=T[x].color,We=T[x+1].color;Nt+=Y(Math.round((1-he)*Me[0]+he*We[0]).toString(16))+Y(Math.round((1-he)*Me[1]+he*We[1]).toString(16))+Y(Math.round((1-he)*Me[2]+he*We[2]).toString(16))}return Nt.trim()},At=function(T,re){re||(re=21);var Se=kn(),Re=wt(T.colors,re),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+re+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze({data:Re,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),pe("endobj"),T.objectNumber=kn(),pe("<< /ShadingType "+T.type),pe("/ColorSpace /DeviceRGB");var nt="/Coords ["+P(parseFloat(T.coords[0]))+" "+P(parseFloat(T.coords[1]))+" ";T.type===2?nt+=P(parseFloat(T.coords[2]))+" "+P(parseFloat(T.coords[3])):nt+=P(parseFloat(T.coords[2]))+" "+P(parseFloat(T.coords[3]))+" "+P(parseFloat(T.coords[4]))+" "+P(parseFloat(T.coords[5])),pe(nt+="]"),T.matrix&&pe("/Matrix ["+T.matrix.toString()+"]"),pe("/Function "+Se+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Qt=function(T,re){var Se=Sn(),Re=kn();re.push({resourcesOid:Se,objectOid:Re}),T.objectNumber=Re;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+T.boundingBox.map(P).join(" ")+"]"}),Be.push({key:"XStep",value:P(T.xStep)}),Be.push({key:"YStep",value:P(T.yStep)}),Be.push({key:"Resources",value:Se+" 0 R"}),T.matrix&&Be.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Ze({data:T.stream,additionalKeyValues:Be,objectId:T.objectNumber}),pe("endobj")},_r=function(T){var re;for(re in wr)wr.hasOwnProperty(re)&&(wr[re]instanceof J0?At(wr[re]):wr[re]instanceof xh&&Qt(wr[re],T))},kr=function(T){for(var re in T.objectNumber=kn(),pe("<<"),T)switch(re){case"opacity":pe("/ca "+U(T[re]));break;case"stroke-opacity":pe("/CA "+U(T[re]))}pe(">>"),pe("endobj")},Tr=function(){var T;for(T in on)on.hasOwnProperty(T)&&kr(on[T])},Ra=function(){for(var T in pe("/XObject <<"),Nn)Nn.hasOwnProperty(T)&&Nn[T].objectNumber>=0&&pe("/"+T+" "+Nn[T].objectNumber+" 0 R");Sr.publish("putXobjectDict"),pe(">>")},fi=function(){hn.oid=kn(),pe("<<"),pe("/Filter /Standard"),pe("/V "+hn.v),pe("/R "+hn.r),pe("/U <"+hn.toHexString(hn.U)+">"),pe("/O <"+hn.toHexString(hn.O)+">"),pe("/P "+hn.P),pe(">>"),pe("endobj")},xa=function(){for(var T in pe("/Font <<"),gr)gr.hasOwnProperty(T)&&(y===!1||y===!0&&v.hasOwnProperty(T))&&pe("/"+T+" "+gr[T].objectNumber+" 0 R");pe(">>")},$a=function(){if(Object.keys(wr).length>0){for(var T in pe("/Shading <<"),wr)wr.hasOwnProperty(T)&&wr[T]instanceof J0&&wr[T].objectNumber>=0&&pe("/"+T+" "+wr[T].objectNumber+" 0 R");Sr.publish("putShadingPatternDict"),pe(">>")}},cs=function(T){if(Object.keys(wr).length>0){for(var re in pe("/Pattern <<"),wr)wr.hasOwnProperty(re)&&wr[re]instanceof b.TilingPattern&&wr[re].objectNumber>=0&&wr[re].objectNumber<T&&pe("/"+re+" "+wr[re].objectNumber+" 0 R");Sr.publish("putTilingPatternDict"),pe(">>")}},Ia=function(){if(Object.keys(on).length>0){var T;for(T in pe("/ExtGState <<"),on)on.hasOwnProperty(T)&&on[T].objectNumber>=0&&pe("/"+T+" "+on[T].objectNumber+" 0 R");Sr.publish("putGStateDict"),pe(">>")}},xn=function(T){ie(T.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),xa(),$a(),cs(T.objectOid),Ia(),Ra(),pe(">>"),pe("endobj")},ya=function(){var T=[];ft(),Tr(),Ct(),_r(T),Sr.publish("putResources"),T.forEach(xn),xn({resourcesOid:ve,objectOid:Number.MAX_SAFE_INTEGER}),Sr.publish("postPutResources")},vl=function(){Sr.publish("putAdditionalObjects");for(var T=0;T<je.length;T++){var re=je[T];ie(re.objId,!0),pe(re.content),pe("endobj")}Sr.publish("postPutAdditionalObjects")},du=function(T){Wr[T.fontName]=Wr[T.fontName]||{},Wr[T.fontName][T.fontStyle]=T.id},to=function(T,re,Se,Re,Be){var nt={id:"F"+(Object.keys(gr).length+1).toString(10),postScriptName:T,fontName:re,fontStyle:Se,encoding:Re,isStandardFont:Be||!1,metadata:{}};return Sr.publish("addFont",{font:nt,instance:this}),gr[nt.id]=nt,du(nt),nt.id},mc=function(T){for(var re=0,Se=st.length;re<Se;re++){var Re=to.call(this,T[re][0],T[re][1],T[re][2],st[re][3],!0);y===!1&&(v[Re]=!0);var Be=T[re][0].split("-");du({id:Re,fontName:Be[0],fontStyle:Be[1]||""})}Sr.publish("addFonts",{fonts:gr,dictionary:Wr})},Da=function(T){return T.foo=function(){try{return T.apply(this,arguments)}catch(Re){var re=Re.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var Se="Error in function "+re.split(`
`)[0].split("<")[0]+": "+Re.message;if(!ar.console)throw new Error(Se);ar.console.error(Se,Re),ar.alert&&alert(Se)}},T.foo.bar=T,T.foo},bl=function(T,re){var Se,Re,Be,nt,gt,Nt,x,F,q;if(Be=(re=re||{}).sourceEncoding||"Unicode",gt=re.outputEncoding,(re.autoencode||gt)&&gr[Tt].metadata&&gr[Tt].metadata[Be]&&gr[Tt].metadata[Be].encoding&&(nt=gr[Tt].metadata[Be].encoding,!gt&&gr[Tt].encoding&&(gt=gr[Tt].encoding),!gt&&nt.codePages&&(gt=nt.codePages[0]),typeof gt=="string"&&(gt=nt[gt]),gt)){for(x=!1,Nt=[],Se=0,Re=T.length;Se<Re;Se++)(F=gt[T.charCodeAt(Se)])?Nt.push(String.fromCharCode(F)):Nt.push(T[Se]),Nt[Se].charCodeAt(0)>>8&&(x=!0);T=Nt.join("")}for(Se=T.length;x===void 0&&Se!==0;)T.charCodeAt(Se-1)>>8&&(x=!0),Se--;if(!x)return T;for(Nt=re.noBOM?[]:[254,255],Se=0,Re=T.length;Se<Re;Se++){if((q=(F=T.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+T+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(q),Nt.push(F-(q<<8))}return String.fromCharCode.apply(void 0,Nt)},Fr=b.__private__.pdfEscape=b.pdfEscape=function(T,re){return bl(T,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ja=b.__private__.beginPage=function(T){tt[++Yr]=[],$t[Yr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},hi(Yr),Le(tt[z])},ro=function(T,re){var Se,Re,Be;switch(r=re||r,typeof T=="string"&&(Se=S(T.toLowerCase()),Array.isArray(Se)&&(Re=Se[0],Be=Se[1])),Array.isArray(T)&&(Re=T[0]*vt,Be=T[1]*vt),isNaN(Re)&&(Re=a[0],Be=a[1]),(Re>14400||Be>14400)&&(En.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Be=Math.min(14400,Be)),a=[Re,Be],r.substr(0,1)){case"l":Be>Re&&(a=[Be,Re]);break;case"p":Re>Be&&(a=[Be,Re])}ja(a),yc(io),pe(La),vc!==0&&pe(vc+" J"),Po!==0&&pe(Po+" j"),Sr.publish("addPage",{pageNumber:Yr})},no=function(T){T>0&&T<=Yr&&(tt.splice(T,1),$t.splice(T,1),Yr--,z>Yr&&(z=Yr),this.setPage(z))},hi=function(T){T>0&&T<=Yr&&(z=T)},Zr=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return tt.length-1},ao=function(T,re,Se){var Re,Be=void 0;return Se=Se||{},T=T!==void 0?T:gr[Tt].fontName,re=re!==void 0?re:gr[Tt].fontStyle,Re=T.toLowerCase(),Wr[Re]!==void 0&&Wr[Re][re]!==void 0?Be=Wr[Re][re]:Wr[T]!==void 0&&Wr[T][re]!==void 0?Be=Wr[T][re]:Se.disableWarning===!1&&En.warn("Unable to look up font label for font '"+T+"', '"+re+"'. Refer to getFontList() for available fonts."),Be||Se.noFallback||(Be=Wr.times[re])==null&&(Be=Wr.times.normal),Be},Es=b.__private__.putInfo=function(){var T=kn(),re=function(Re){return Re};for(var Se in p!==null&&(re=hn.encryptor(T,0)),pe("<<"),pe("/Producer ("+Fr(re("jsPDF "+rr.version))+")"),It)It.hasOwnProperty(Se)&&It[Se]&&pe("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+Fr(re(It[Se]))+")");pe("/CreationDate ("+Fr(re(ue))+")"),pe(">>"),pe("endobj")},Di=b.__private__.putCatalog=function(T){var re=(T=T||{}).rootDictionaryObjId||ye;switch(kn(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+re+" 0 R"),_t||(_t="fullwidth"),_t){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+_t;Se.substr(Se.length-1)==="%"&&(_t=parseInt(_t)/100),typeof _t=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+U(_t)+"]")}switch(Pt||(Pt="continuous"),Pt){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Ut&&pe("/PageMode /"+Ut),Sr.publish("putCatalog"),pe(">>"),pe("endobj")},mu=b.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(Z+1)),pe("/Root "+Z+" 0 R"),pe("/Info "+(Z-1)+" 0 R"),p!==null&&pe("/Encrypt "+hn.oid+" 0 R"),pe("/ID [ <"+ae+"> <"+ae+"> ]"),pe(">>")},pc=b.__private__.putHeader=function(){pe("%PDF-"+A),pe("%ºß¬à")},gc=b.__private__.putXRef=function(){var T="0000000000";pe("xref"),pe("0 "+(Z+1)),pe("0000000000 65535 f ");for(var re=1;re<=Z;re++)typeof de[re]=="function"?pe((T+de[re]()).slice(-10)+" 00000 n "):de[re]!==void 0?pe((T+de[re]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},ji=b.__private__.buildDocument=function(){Qe(),Le(xe),Sr.publish("buildDocument"),pc(),Ge(),vl(),ya(),p!==null&&fi(),Es(),Di();var T=we;return gc(),mu(),pe("startxref"),pe(""+T),pe("%%EOF"),Le(tt[z]),xe.join(`
`)},wl=b.__private__.getBlob=function(T){return new Blob([xt(T)],{type:"application/pdf"})},Li=b.output=b.__private__.output=Da(function(T,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",T){case void 0:return ji();case"save":b.save(re.filename);break;case"arraybuffer":return xt(ji());case"blob":return wl(ji());case"bloburi":case"bloburl":if(ar.URL!==void 0&&typeof ar.URL.createObjectURL=="function")return ar.URL&&ar.URL.createObjectURL(wl(ji()))||void 0;En.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Re=ji();try{Se=ev(Re)}catch{Se=ev(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+re.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Be=re.pdfObjectUrl,nt="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Nt=ar.open();return Nt!==null&&Nt.document.write(gt),Nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var x='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',F=ar.open();if(F!==null){F.document.write(x);var q=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=re.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(q.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var he='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',Me=ar.open();if(Me!==null&&(Me.document.write(he),Me.document.title=re.filename),Me||typeof safari>"u")return Me;break;case"datauri":case"dataurl":return ar.document.location.href=this.output("datauristring",re);default:return null}}),di=function(T){return Array.isArray(Ga)===!0&&Ga.indexOf(T)>-1};switch(n){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=di("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);vt=n}var hn=null;Ne(),se();var Oi=function(T){return p!==null?hn.encryptor(T,0):function(re){return re}},mi=b.__private__.getPageInfo=b.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[T].objId,pageNumber:T,pageContext:$t[T]}},Jt=b.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in $t)if($t[re].objId===T)break;return mi(re)},pi=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:$t[z].objId,pageNumber:z,pageContext:$t[z]}};b.addPage=function(){return ro.apply(this,arguments),this},b.setPage=function(){return hi.apply(this,arguments),Le.call(this,tt[z]),this},b.insertPage=function(T){return this.addPage(),this.movePage(z,T),this},b.movePage=function(T,re){var Se,Re;if(T>re){Se=tt[T],Re=$t[T];for(var Be=T;Be>re;Be--)tt[Be]=tt[Be-1],$t[Be]=$t[Be-1];tt[re]=Se,$t[re]=Re,this.setPage(re)}else if(T<re){Se=tt[T],Re=$t[T];for(var nt=T;nt<re;nt++)tt[nt]=tt[nt+1],$t[nt]=$t[nt+1];tt[re]=Se,$t[re]=Re,this.setPage(re)}return this},b.deletePage=function(){return no.apply(this,arguments),this},b.__private__.text=b.text=function(T,re,Se,Re,Be){var nt,gt,Nt,x,F,q,he,Me,We,yt=(Re=Re||{}).scope||this;if(typeof T=="number"&&typeof re=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Zt=Se;Se=re,re=T,T=Zt}if(arguments[3]instanceof Rt?(D("The transform parameter of text() with a Matrix value"),We=Be):(Nt=arguments[4],x=arguments[5],gn(he=arguments[3])==="object"&&he!==null||(typeof Nt=="string"&&(x=Nt,Nt=null),typeof he=="string"&&(x=he,he=null),typeof he=="number"&&(Nt=he,he=null),Re={flags:he,angle:Nt,align:x})),isNaN(re)||isNaN(Se)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return yt;var Rr="",cr=!1,en=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:Cr,ln=yt.internal.scaleFactor;function vi(Ar){return Ar=Ar.split("	").join(Array(Re.TabLen||9).join(" ")),Fr(Ar,he)}function Vn(Ar){for(var Er,yn=Ar.concat(),zn=[],wi=yn.length;wi--;)typeof(Er=yn.shift())=="string"?zn.push(Er):Array.isArray(Ar)&&(Er.length===1||Er[1]===void 0&&Er[2]===void 0)?zn.push(Er[0]):zn.push([Er[0],Er[1],Er[2]]);return zn}function Cs(Ar,Er){var yn;if(typeof Ar=="string")yn=Er(Ar)[0];else if(Array.isArray(Ar)){for(var zn,wi,Ol=Ar.concat(),Pl=[],zo=Ol.length;zo--;)typeof(zn=Ol.shift())=="string"?Pl.push(Er(zn)[0]):Array.isArray(zn)&&typeof zn[0]=="string"&&(wi=Er(zn[0],zn[1],zn[2]),Pl.push([wi[0],wi[1],wi[2]]));yn=Pl}return yn}var ho=!1,Nl=!0;if(typeof T=="string")ho=!0;else if(Array.isArray(T)){var yu=T.concat();gt=[];for(var bc,sa=yu.length;sa--;)(typeof(bc=yu.shift())!="string"||Array.isArray(bc)&&typeof bc[0]!="string")&&(Nl=!1);ho=Nl}if(ho===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Sl=pt/yt.internal.scaleFactor,wc=Sl*(en-1);switch(Re.baseline){case"bottom":Se-=wc;break;case"top":Se+=Sl-wc;break;case"hanging":Se+=Sl-2*wc;break;case"middle":Se+=Sl/2-wc}if((q=Re.maxWidth||0)>0&&(typeof T=="string"?T=yt.splitTextToSize(T,q):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(Ar,Er){return Ar.concat(yt.splitTextToSize(Er,q))},[]))),nt={text:T,x:re,y:Se,options:Re,mutex:{pdfEscape:Fr,activeFontKey:Tt,fonts:gr,activeFontSize:pt}},Sr.publish("preProcessText",nt),T=nt.text,Nt=(Re=nt.options).angle,!(We instanceof Rt)&&Nt&&typeof Nt=="number"){Nt*=Math.PI/180,Re.rotationDirection===0&&(Nt=-Nt),M===j.ADVANCED&&(Nt=-Nt);var _c=Math.cos(Nt),vu=Math.sin(Nt);We=new Rt(_c,vu,-vu,_c,0,0)}else Nt&&Nt instanceof Rt&&(We=Nt);M!==j.ADVANCED||We||(We=Mr),(F=Re.charSpace||Oo)!==void 0&&(Rr+=P(C(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Me=Re.horizontalScale)!==void 0&&(Rr+=P(100*Me)+` Tz
`),Re.lang;var Rs=-1,rd=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,T0=yt.internal.getCurrentPageInfo().pageContext;switch(rd){case 0:case!1:case"fill":Rs=0;break;case 1:case!0:case"stroke":Rs=1;break;case 2:case"fillThenStroke":Rs=2;break;case 3:case"invisible":Rs=3;break;case 4:case"fillAndAddForClipping":Rs=4;break;case 5:case"strokeAndAddPathForClipping":Rs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Rs=6;break;case 7:case"addToPathForClipping":Rs=7}var Rf=T0.usedRenderingMode!==void 0?T0.usedRenderingMode:-1;Rs!==-1?Rr+=Rs+` Tr
`:Rf!==-1&&(Rr+=`0 Tr
`),Rs!==-1&&(T0.usedRenderingMode=Rs),x=Re.align||"left";var bi,va=pt*en,Tl=yt.internal.pageSize.getWidth(),C0=gr[Tt];F=Re.charSpace||Oo,q=Re.maxWidth||0,he=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Uo=[],Cl=function(Ar){return yt.getStringUnitWidth(Ar,{font:C0,charSpace:F,fontSize:pt,doKerning:!1})*pt/ln};if(Object.prototype.toString.call(T)==="[object Array]"){var fs;gt=Vn(T),x!=="left"&&(bi=gt.map(Cl));var Oa,Rl=0;if(x==="right"){re-=bi[0],T=[],sa=gt.length;for(var Is=0;Is<sa;Is++)Is===0?(Oa=Ya(re),fs=Yn(Se)):(Oa=C(Rl-bi[Is]),fs=-va),T.push([gt[Is],Oa,fs]),Rl=bi[Is]}else if(x==="center"){re-=bi[0]/2,T=[],sa=gt.length;for(var Bi=0;Bi<sa;Bi++)Bi===0?(Oa=Ya(re),fs=Yn(Se)):(Oa=C((Rl-bi[Bi])/2),fs=-va),T.push([gt[Bi],Oa,fs]),Rl=bi[Bi]}else if(x==="left"){T=[],sa=gt.length;for(var mo=0;mo<sa;mo++)T.push(gt[mo])}else if(x==="justify"&&C0.encoding==="Identity-H"){T=[],sa=gt.length,q=q!==0?q:Tl;for(var Ui=0,Ln=0;Ln<sa;Ln++)if(fs=Ln===0?Yn(Se):-va,Oa=Ln===0?Ya(re):Ui,Ln<sa-1){var Vi=C((q-bi[Ln])/(gt[Ln].split(" ").length-1)),Xn=gt[Ln].split(" ");T.push([Xn[0]+" ",Oa,fs]),Ui=0;for(var Ds=1;Ds<Xn.length;Ds++){var kc=(Cl(Xn[Ds-1]+" "+Xn[Ds])-Cl(Xn[Ds]))*ln+Vi;Ds==Xn.length-1?T.push([Xn[Ds],kc,0]):T.push([Xn[Ds]+" ",kc,0]),Ui-=kc}}else T.push([gt[Ln],Oa,fs]);T.push(["",Ui,0])}else{if(x!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],sa=gt.length,q=q!==0?q:Tl,Ln=0;Ln<sa;Ln++)fs=Ln===0?Yn(Se):-va,Oa=Ln===0?Ya(re):0,Ln<sa-1?Uo.push(P(C((q-bi[Ln])/(gt[Ln].split(" ").length-1)))):Uo.push(0),T.push([gt[Ln],Oa,fs])}}var po=typeof Re.R2L=="boolean"?Re.R2L:Dt;po===!0&&(T=Cs(T,function(Ar,Er,yn){return[Ar.split("").reverse().join(""),Er,yn]})),nt={text:T,x:re,y:Se,options:Re,mutex:{pdfEscape:Fr,activeFontKey:Tt,fonts:gr,activeFontSize:pt}},Sr.publish("postProcessText",nt),T=nt.text,cr=nt.mutex.isHex||!1;var bu=gr[Tt].encoding;bu!=="WinAnsiEncoding"&&bu!=="StandardEncoding"||(T=Cs(T,function(Ar,Er,yn){return[vi(Ar),Er,yn]})),gt=Vn(T),T=[];for(var Il,Dl,jl,Ac=0,wu=1,Ll=Array.isArray(gt[0])?wu:Ac,Vo="",Ec=function(Ar,Er,yn){var zn="";return yn instanceof Rt?(yn=typeof Re.angle=="number"?Xr(yn,new Rt(1,0,0,1,Ar,Er)):Xr(new Rt(1,0,0,1,Ar,Er),yn),M===j.ADVANCED&&(yn=Xr(new Rt(1,0,0,-1,0,0),yn)),zn=yn.join(" ")+` Tm
`):zn=P(Ar)+" "+P(Er)+` Td
`,zn},On=0;On<gt.length;On++){switch(Vo="",Ll){case wu:jl=(cr?"<":"(")+gt[On][0]+(cr?">":")"),Il=parseFloat(gt[On][1]),Dl=parseFloat(gt[On][2]);break;case Ac:jl=(cr?"<":"(")+gt[On]+(cr?">":")"),Il=Ya(re),Dl=Yn(Se)}Uo!==void 0&&Uo[On]!==void 0&&(Vo=Uo[On]+` Tw
`),On===0?T.push(Vo+Ec(Il,Dl,We)+jl):Ll===Ac?T.push(Vo+jl):Ll===wu&&T.push(Vo+Ec(Il,Dl,We)+jl)}T=Ll===Ac?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var ti=`BT
/`;return ti+=Tt+" "+pt+` Tf
`,ti+=P(pt*en)+` TL
`,ti+=Mi+`
`,ti+=Rr,ti+=T,pe(ti+="ET"),v[Tt]=!0,yt};var pu=b.__private__.clip=b.clip=function(T){return pe(T==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return pu("evenodd")},b.__private__.discardPath=b.discardPath=function(){return pe("n"),this};var Ka=b.__private__.isValidStyle=function(T){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(re=!0),re};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(T){return Ka(T)&&(d=T),this};var Ns=b.__private__.getStyle=b.getStyle=function(T){var re=d;switch(T){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=T}return re},us=b.close=function(){return pe("h"),this};b.stroke=function(){return pe("S"),this},b.fill=function(T){return gi("f",T),this},b.fillEvenOdd=function(T){return gi("f*",T),this},b.fillStroke=function(T){return gi("B",T),this},b.fillStrokeEvenOdd=function(T){return gi("B*",T),this};var gi=function(T,re){gn(re)==="object"?Pi(re,T):pe(T)},Ss=function(T){T===null||M===j.ADVANCED&&T===void 0||(T=Ns(T),pe(T))};function so(T,re,Se,Re,Be){var nt=new xh(re||this.boundingBox,Se||this.xStep,Re||this.yStep,this.gState,Be||this.matrix);nt.stream=this.stream;var gt=T+"$$"+this.cloneIndex+++"$$";return fn(gt,nt),nt}var Pi=function(T,re){var Se=As[T.key],Re=wr[Se];if(Re instanceof J0)pe("q"),pe(xc(re)),Re.gState&&b.setGState(Re.gState),pe(T.matrix.toString()+" cm"),pe("/"+Se+" sh"),pe("Q");else if(Re instanceof xh){var Be=new Rt(1,0,0,-1,0,Xa());T.matrix&&(Be=Be.multiply(T.matrix||Mr),Se=so.call(Re,T.key,T.boundingBox,T.xStep,T.yStep,Be).id),pe("q"),pe("/Pattern cs"),pe("/"+Se+" scn"),Re.gState&&b.setGState(Re.gState),pe(re),pe("Q")}},xc=function(T){switch(T){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ts=b.moveTo=function(T,re){return pe(P(C(T))+" "+P(W(re))+" m"),this},Wa=b.lineTo=function(T,re){return pe(P(C(T))+" "+P(W(re))+" l"),this},xi=b.curveTo=function(T,re,Se,Re,Be,nt){return pe([P(C(T)),P(W(re)),P(C(Se)),P(W(Re)),P(C(Be)),P(W(nt)),"c"].join(" ")),this};b.__private__.line=b.line=function(T,re,Se,Re,Be){if(isNaN(T)||isNaN(re)||isNaN(Se)||isNaN(Re)||!Ka(Be))throw new Error("Invalid arguments passed to jsPDF.line");return M===j.COMPAT?this.lines([[Se-T,Re-re]],T,re,[1,1],Be||"S"):this.lines([[Se-T,Re-re]],T,re,[1,1]).stroke()},b.__private__.lines=b.lines=function(T,re,Se,Re,Be,nt){var gt,Nt,x,F,q,he,Me,We,yt,Zt,Rr,cr;if(typeof T=="number"&&(cr=Se,Se=re,re=T,T=cr),Re=Re||[1,1],nt=nt||!1,isNaN(re)||isNaN(Se)||!Array.isArray(T)||!Array.isArray(Re)||!Ka(Be)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ts(re,Se),gt=Re[0],Nt=Re[1],F=T.length,Zt=re,Rr=Se,x=0;x<F;x++)(q=T[x]).length===2?(Zt=q[0]*gt+Zt,Rr=q[1]*Nt+Rr,Wa(Zt,Rr)):(he=q[0]*gt+Zt,Me=q[1]*Nt+Rr,We=q[2]*gt+Zt,yt=q[3]*Nt+Rr,Zt=q[4]*gt+Zt,Rr=q[5]*Nt+Rr,xi(he,Me,We,yt,Zt,Rr));return nt&&us(),Ss(Be),this},b.path=function(T){for(var re=0;re<T.length;re++){var Se=T[re],Re=Se.c;switch(Se.op){case"m":Ts(Re[0],Re[1]);break;case"l":Wa(Re[0],Re[1]);break;case"c":xi.apply(this,Re);break;case"h":us()}}return this},b.__private__.rect=b.rect=function(T,re,Se,Re,Be){if(isNaN(T)||isNaN(re)||isNaN(Se)||isNaN(Re)||!Ka(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return M===j.COMPAT&&(Re=-Re),pe([P(C(T)),P(W(re)),P(C(Se)),P(C(Re)),"re"].join(" ")),Ss(Be),this},b.__private__.triangle=b.triangle=function(T,re,Se,Re,Be,nt,gt){if(isNaN(T)||isNaN(re)||isNaN(Se)||isNaN(Re)||isNaN(Be)||isNaN(nt)||!Ka(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-T,Re-re],[Be-Se,nt-Re],[T-Be,re-nt]],T,re,[1,1],gt,!0),this},b.__private__.roundedRect=b.roundedRect=function(T,re,Se,Re,Be,nt,gt){if(isNaN(T)||isNaN(re)||isNaN(Se)||isNaN(Re)||isNaN(Be)||isNaN(nt)||!Ka(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nt=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*Se),nt=Math.min(nt,.5*Re),this.lines([[Se-2*Be,0],[Be*Nt,0,Be,nt-nt*Nt,Be,nt],[0,Re-2*nt],[0,nt*Nt,-Be*Nt,nt,-Be,nt],[2*Be-Se,0],[-Be*Nt,0,-Be,-nt*Nt,-Be,-nt],[0,2*nt-Re],[0,-nt*Nt,Be*Nt,-nt,Be,-nt]],T+Be,re,[1,1],gt,!0),this},b.__private__.ellipse=b.ellipse=function(T,re,Se,Re,Be){if(isNaN(T)||isNaN(re)||isNaN(Se)||isNaN(Re)||!Ka(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*Se,gt=4/3*(Math.SQRT2-1)*Re;return Ts(T+Se,re),xi(T+Se,re-gt,T+nt,re-Re,T,re-Re),xi(T-nt,re-Re,T-Se,re-gt,T-Se,re),xi(T-Se,re+gt,T-nt,re+Re,T,re+Re),xi(T+nt,re+Re,T+Se,re+gt,T+Se,re),Ss(Be),this},b.__private__.circle=b.circle=function(T,re,Se,Re){if(isNaN(T)||isNaN(re)||isNaN(Se)||!Ka(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,re,Se,Se,Re)},b.setFont=function(T,re,Se){return Se&&(re=X(re,Se)),Tt=ao(T,re,{disableWarning:!1}),this};var Wn=b.__private__.getFont=b.getFont=function(){return gr[ao.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var T,re,Se={};for(T in Wr)if(Wr.hasOwnProperty(T))for(re in Se[T]=[],Wr[T])Wr[T].hasOwnProperty(re)&&Se[T].push(re);return Se},b.addFont=function(T,re,Se,Re,Be){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(Se=X(Se,Re)),Be=Be||"Identity-H",to.call(this,T,re,Se,Be)};var Cr,io=t.lineWidth||.200025,yi=b.__private__.getLineWidth=b.getLineWidth=function(){return io},yc=b.__private__.setLineWidth=b.setLineWidth=function(T){return io=T,pe(P(C(T))+" w"),this};b.__private__.setLineDash=rr.API.setLineDash=rr.API.setLineDashPattern=function(T,re){if(T=T||[],re=re||0,isNaN(re)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(Se){return P(C(Se))}).join(" "),re=P(C(re)),pe("["+T+"] "+re+" d"),this};var jo=b.__private__.getLineHeight=b.getLineHeight=function(){return pt*Cr};b.__private__.getLineHeight=b.getLineHeight=function(){return pt*Cr};var Lo=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(Cr=T),this},ei=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Cr};Lo(t.lineHeight);var Ya=b.__private__.getHorizontalCoordinate=function(T){return C(T)},Yn=b.__private__.getVerticalCoordinate=function(T){return M===j.ADVANCED?T:$t[z].mediaBox.topRightY-$t[z].mediaBox.bottomLeftY-C(T)},gu=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(T){return P(Ya(T))},oo=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(T){return P(Yn(T))},La=t.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return ke(La)},b.__private__.setStrokeColor=b.setDrawColor=function(T,re,Se,Re){return La=Ee({ch1:T,ch2:re,ch3:Se,ch4:Re,pdfColorType:"draw",precision:2}),pe(La),this};var lo=t.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return ke(lo)},b.__private__.setFillColor=b.setFillColor=function(T,re,Se,Re){return lo=Ee({ch1:T,ch2:re,ch3:Se,ch4:Re,pdfColorType:"fill",precision:2}),pe(lo),this};var Mi=t.textColor||"0 g",_l=b.__private__.getTextColor=b.getTextColor=function(){return ke(Mi)};b.__private__.setTextColor=b.setTextColor=function(T,re,Se,Re){return Mi=Ee({ch1:T,ch2:re,ch3:Se,ch4:Re,pdfColorType:"text",precision:3}),this};var Oo=t.charSpace,kl=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Oo||0)};b.__private__.setCharSpace=b.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Oo=T,this};var vc=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(T){var re=b.CapJoinStyles[T];if(re===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vc=re,pe(re+" J"),this};var Po=0;b.__private__.setLineJoin=b.setLineJoin=function(T){var re=b.CapJoinStyles[T];if(re===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Po=re,pe(re+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(P(C(T))+" M"),this},b.GState=_1,b.setGState=function(T){(T=typeof T=="string"?on[Un[T]]:co(null,T)).equals(na)||(pe("/"+T.id+" gs"),na=T)};var co=function(T,re){if(!T||!Un[T]){var Se=!1;for(var Re in on)if(on.hasOwnProperty(Re)&&on[Re].equals(re)){Se=!0;break}if(Se)re=on[Re];else{var Be="GS"+(Object.keys(on).length+1).toString(10);on[Be]=re,re.id=Be}return T&&(Un[T]=re.id),Sr.publish("addGState",re),re}};b.addGState=function(T,re){return co(T,re),this},b.saveGraphicsState=function(){return pe("q"),ga.push({key:Tt,size:pt,color:Mi}),this},b.restoreGraphicsState=function(){pe("Q");var T=ga.pop();return Tt=T.key,pt=T.size,Mi=T.color,na=null,this},b.setCurrentTransformationMatrix=function(T){return pe(T.toString()+" cm"),this},b.comment=function(T){return pe("#"+T),this};var Mo=function(T,re){var Se=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(nt){isNaN(nt)||(Se=parseFloat(nt))}});var Re=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(nt){isNaN(nt)||(Re=parseFloat(nt))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(nt){Be=nt.toString()}}),this},Al=function(T,re,Se,Re){Mo.call(this,T,re),this.type="rect";var Be=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(gt){isNaN(gt)||(Be=parseFloat(gt))}});var nt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(gt){isNaN(gt)||(nt=parseFloat(gt))}}),this},Fo=function(){this.page=Yr,this.currentPage=z,this.pages=tt.slice(0),this.pagesContext=$t.slice(0),this.x=Dr,this.y=qt,this.matrix=_n,this.width=fo(z),this.height=Xa(z),this.outputDestination=Te,this.id="",this.objectNumber=-1};Fo.prototype.restore=function(){Yr=this.page,z=this.currentPage,$t=this.pagesContext,tt=this.pages,Dr=this.x,qt=this.y,_n=this.matrix,Bo(z,this.width),El(z,this.height),Te=this.outputDestination};var uo=function(T,re,Se,Re,Be){ls.push(new Fo),Yr=z=0,tt=[],Dr=T,qt=re,_n=Be,ja([Se,Re])},xu=function(T){if(aa[T])ls.pop().restore();else{var re=new Fo,Se="Xo"+(Object.keys(Nn).length+1).toString(10);re.id=Se,aa[T]=Se,Nn[Se]=re,Sr.publish("addFormObject",re),ls.pop().restore()}};for(var Fi in b.beginFormObject=function(T,re,Se,Re,Be){return uo(T,re,Se,Re,Be),this},b.endFormObject=function(T){return xu(T),this},b.doFormObject=function(T,re){var Se=Nn[aa[T]];return pe("q"),pe(re.toString()+" cm"),pe("/"+Se.id+" Do"),pe("Q"),this},b.getFormObject=function(T){var re=Nn[aa[T]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},b.save=function(T,re){return T=T||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Q0(wl(ji()),T),typeof Q0.unload=="function"&&ar.setTimeout&&setTimeout(Q0.unload,911),this):new Promise(function(Se,Re){try{var Be=Q0(wl(ji()),T);typeof Q0.unload=="function"&&ar.setTimeout&&setTimeout(Q0.unload,911),Se(Be)}catch(nt){Re(nt.message)}})},rr.API)rr.API.hasOwnProperty(Fi)&&(Fi==="events"&&rr.API.events.length?function(T,re){var Se,Re,Be;for(Be=re.length-1;Be!==-1;Be--)Se=re[Be][0],Re=re[Be][1],T.subscribe.apply(T,[Se].concat(typeof Re=="function"?[Re]:Re))}(Sr,rr.API.events):b[Fi]=rr.API[Fi]);var fo=b.getPageWidth=function(T){return($t[T=T||z].mediaBox.topRightX-$t[T].mediaBox.bottomLeftX)/vt},Bo=b.setPageWidth=function(T,re){$t[T].mediaBox.topRightX=re*vt+$t[T].mediaBox.bottomLeftX},Xa=b.getPageHeight=function(T){return($t[T=T||z].mediaBox.topRightY-$t[T].mediaBox.bottomLeftY)/vt},El=b.setPageHeight=function(T,re){$t[T].mediaBox.topRightY=re*vt+$t[T].mediaBox.bottomLeftY};return b.internal={pdfEscape:Fr,getStyle:Ns,getFont:Wn,getFontSize:bt,getCharSpace:kl,getTextColor:_l,getLineHeight:jo,getLineHeightFactor:ei,getLineWidth:yi,write:Ke,getHorizontalCoordinate:Ya,getVerticalCoordinate:Yn,getCoordinateString:gu,getVerticalCoordinateString:oo,collections:{},newObject:kn,newAdditionalObject:Ae,newObjectDeferred:Sn,newObjectDeferredBegin:ie,getFilters:ze,putStream:Ze,events:Sr,scaleFactor:vt,pageSize:{getWidth:function(){return fo(z)},setWidth:function(T){Bo(z,T)},getHeight:function(){return Xa(z)},setHeight:function(T){El(z,T)}},encryptionOptions:p,encryption:hn,getEncryptor:Oi,output:Li,getNumberOfPages:Zr,pages:tt,out:pe,f2:U,f3:R,getPageInfo:mi,getPageInfoByObjId:Jt,getCurrentPageInfo:pi,getPDFVersion:k,Point:Mo,Rectangle:Al,Matrix:Rt,hasHotfix:di},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return fo(z)},set:function(T){Bo(z,T)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Xa(z)},set:function(T){El(z,T)},enumerable:!0,configurable:!0}),mc.call(b,st),Tt="F1",ro(a,r),Sr.publish("initialized"),b}hh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},hh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hh.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},hh.prototype.processOwnerPassword=function(t,e){return rv(tv(e).substr(0,5),t)},hh.prototype.encryptor=function(t,e){var r=tv(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return rv(r,n)}},_1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||gn(t)!==gn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},rr.API={events:[]},rr.version="3.0.1";var ea=rr.API,T5=1,kf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dr=function(t){return t.toFixed(2)},Xu=function(t){return t.toFixed(5)};ea.__acroform__={};var Ii=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},s3=function(t){return t*T5},Xl=function(t){var e=new U6,r=zt.internal.getHeight(t)||0,n=zt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(dr(n)),Number(dr(r))],e},IP=ea.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},DP=ea.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},jP=ea.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},da=ea.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jP(t,e-1)},ma=ea.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IP(t,e-1)},pa=ea.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return DP(t,e-1)},LP=ea.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],s=t[1],o=t[2],c=t[3],h={};return h.lowerLeft_X=r(a)||0,h.lowerLeft_Y=n(s+c)||0,h.upperRight_X=r(a+o)||0,h.upperRight_Y=n(s)||0,[Number(dr(h.lowerLeft_X)),Number(dr(h.lowerLeft_Y)),Number(dr(h.upperRight_X)),Number(dr(h.upperRight_Y))]},OP=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=nv(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+dr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Xl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},nv=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(R){return R.split(`
`)}):a.map(function(R){return[R]});var s=r,o=zt.internal.getHeight(t)||0;o=o<0?-o:o;var c=zt.internal.getWidth(t)||0;c=c<0?-c:c;var h=function(R,C,B){if(R+1<a.length){var W=C+" "+a[R+1][0];return wg(W,t,B).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var d,p,y=wg("3",t,s).height,v=t.multiline?o-s:(o-y)/2,b=v+=2,A=0,k=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+wg(e,t,s=12).width+", FieldWidth:"+c+`
`;break}for(var S="",j=0,M=0;M<a.length;M++)if(a.hasOwnProperty(M)){var H=!1;if(a[M].length!==1&&E!==a[M].length-1){if((y+2)*(j+2)+2>o)continue e;S+=a[M][E],H=!0,k=M,M--}else{S=(S+=a[M][E]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var K=parseInt(M),X=h(K,S,s),P=M>=a.length-1;if(X&&!P){S+=" ",E=0;continue}if(X||P){if(P)k=K;else if(t.multiline&&(y+2)*(j+2)+2>o)continue e}else{if(!t.multiline||(y+2)*(j+2)+2>o)continue e;k=K}}for(var D="",I=A;I<=k;I++){var U=a[I];if(t.multiline){if(I===k){D+=U[E]+" ",E=(E+1)%U.length;continue}if(I===A){D+=U[U.length-1]+" ";continue}}D+=U[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,p=wg(D,t,s).width,t.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;case"left":default:d=2}e+=dr(d)+" "+dr(b)+` Td
`,e+="("+kf(D)+`) Tj
`,e+=-dr(d)+` 0 Td
`,b=-(s+2),p=0,A=H?k:k+1,j++,S=""}break}return n.text=e,n.fontSize=s,n},wg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},PP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},MP=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},FP=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),gn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},BP=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(PP)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");T5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new V6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&MP(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var c=n[o],h=[],d=c.Rect;if(c.Rect&&(c.Rect=LP(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=zt.createDefaultAppearanceStream(c),gn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=OP(c);h.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var y="";for(var v in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(v)){var b=c.appearanceStreamContent[v];if(y+="/"+v+" ",y+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var o in b)if(b.hasOwnProperty(o)){var A=b[o];typeof A=="function"&&(A=A.call(a,c)),y+="/"+o+" "+A+" ",a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A)}}else typeof(A=b)=="function"&&(A=A.call(a,c)),y+="/"+o+" "+A,a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A);y+=">>"}h.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:c.objId}),a.internal.out("endobj")}s&&FP(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},B6=ea.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",s=0;s<t.length;s++)switch(s!==0&&(a+=" "),gn(t[s])){case"boolean":case"number":case"object":a+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+kf(n(t[s].toString()))+")"):a+=t[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ty=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+kf(n(t))+")"},Zl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zl.prototype.toString=function(){return this.objId+" 0 R"},Zl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Zl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:B6(a,this.objId,this.scope)}):a instanceof Zl?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var U6=function(){Zl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ii(U6,Zl);var V6=function(){Zl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+kf(r(t))+")"}},set:function(r){t=r}})};Ii(V6,Zl);var xl=function t(){Zl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!da(e,3)},set:function(S){S?this.F=ma(e,3):this.F=pa(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof k1)return;s="FieldObject"+t.FieldNum++}var S=function(j){return j};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+kf(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/T5:d},set:function(S){d=S}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(S){p=S}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof k1||this instanceof nf))return ty(y,this.objId,this.scope)},set:function(S){S=S.toString(),y=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ns?v:ty(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=this instanceof ns?S:S.substr(0,1)==="("?sh(S.substr(1,S.length-2)):sh(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ns?sh(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof ns?"/"+S:S}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ns?b:ty(b,this.objId,this.scope)},set:function(S){S=S.toString(),b=this instanceof ns?S:S.substr(0,1)==="("?sh(S.substr(1,S.length-2)):sh(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ns?sh(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof ns?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(S){S=!!S,k=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(S){A=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,1)},set:function(S){S?this.Ff=ma(this.Ff,1):this.Ff=pa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,2)},set:function(S){S?this.Ff=ma(this.Ff,2):this.Ff=pa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,3)},set:function(S){S?this.Ff=ma(this.Ff,3):this.Ff=pa(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');E=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(E){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};Ii(xl,Zl);var Ah=function(){xl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return B6(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,c){c||(c=1);for(var h,d=[];h=o.exec(s);)d.push(h[c]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,18)},set:function(r){r?this.Ff=ma(this.Ff,18):this.Ff=pa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ma(this.Ff,19):this.Ff=pa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,20)},set:function(r){r?(this.Ff=ma(this.Ff,20),e.sort()):this.Ff=pa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,22)},set:function(r){r?this.Ff=ma(this.Ff,22):this.Ff=pa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(r){r?this.Ff=ma(this.Ff,23):this.Ff=pa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,27)},set:function(r){r?this.Ff=ma(this.Ff,27):this.Ff=pa(this.Ff,27)}}),this.hasAppearanceStream=!1};Ii(Ah,xl);var Eh=function(){Ah.call(this),this.fontName="helvetica",this.combo=!1};Ii(Eh,Ah);var Nh=function(){Eh.call(this),this.combo=!0};Ii(Nh,Eh);var Kg=function(){Nh.call(this),this.edit=!0};Ii(Kg,Nh);var ns=function(){xl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,15)},set:function(r){r?this.Ff=ma(this.Ff,15):this.Ff=pa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,16)},set:function(r){r?this.Ff=ma(this.Ff,16):this.Ff=pa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,17)},set:function(r){r?this.Ff=ma(this.Ff,17):this.Ff=pa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(r){r?this.Ff=ma(this.Ff,26):this.Ff=pa(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+kf(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){gn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ii(ns,xl);var Wg=function(){ns.call(this),this.pushButton=!0};Ii(Wg,ns);var Sh=function(){ns.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ii(Sh,ns);var k1=function(){var t,e;xl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+kf(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){gn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ii(k1,xl),Sh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Sh.prototype.createOption=function(t){var e=new k1;return e.Parent=this,e.optionName=t,this.Kids.push(e),UP.call(this.scope,e),e};var Yg=function(){ns.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};Ii(Yg,ns);var nf=function(){xl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,13)},set:function(e){e?this.Ff=ma(this.Ff,13):this.Ff=pa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,21)},set:function(e){e?this.Ff=ma(this.Ff,21):this.Ff=pa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(e){e?this.Ff=ma(this.Ff,23):this.Ff=pa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,24)},set:function(e){e?this.Ff=ma(this.Ff,24):this.Ff=pa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,25)},set:function(e){e?this.Ff=ma(this.Ff,25):this.Ff=pa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(e){e?this.Ff=ma(this.Ff,26):this.Ff=pa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ii(nf,xl);var Xg=function(){nf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,14)},set:function(t){t?this.Ff=ma(this.Ff,14):this.Ff=pa(this.Ff,14)}}),this.password=!0};Ii(Xg,nf);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Xl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=nv(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+dr(zt.internal.getWidth(t))+" "+dr(zt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+dr(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Xl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],s=zt.internal.getHeight(t),o=zt.internal.getWidth(t),c=nv(t,t.caption);return a.push("1 g"),a.push("0 0 "+dr(o)+" "+dr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+dr(o-1)+" "+dr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+dr(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Xl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dr(zt.internal.getWidth(t))+" "+dr(zt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=zt.RadioButton.Circle.YesNormal,e.D[t]=zt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Xl(t);e.scope=t.scope;var r=[],n=zt.internal.getWidth(t)<=zt.internal.getHeight(t)?zt.internal.getWidth(t)/4:zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=zt.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Xu(zt.internal.getWidth(t)/2)+" "+Xu(zt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Xl(t);e.scope=t.scope;var r=[],n=zt.internal.getWidth(t)<=zt.internal.getHeight(t)?zt.internal.getWidth(t)/4:zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*zt.internal.Bezier_C).toFixed(5)),o=Number((n*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xu(zt.internal.getWidth(t)/2)+" "+Xu(zt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Xu(zt.internal.getWidth(t)/2)+" "+Xu(zt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Xl(t);e.scope=t.scope;var r=[],n=zt.internal.getWidth(t)<=zt.internal.getHeight(t)?zt.internal.getWidth(t)/4:zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xu(zt.internal.getWidth(t)/2)+" "+Xu(zt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=zt.RadioButton.Cross.YesNormal,e.D[t]=zt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Xl(t);e.scope=t.scope;var r=[],n=zt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+dr(zt.internal.getWidth(t)-2)+" "+dr(zt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(dr(n.x1.x)+" "+dr(n.x1.y)+" m"),r.push(dr(n.x2.x)+" "+dr(n.x2.y)+" l"),r.push(dr(n.x4.x)+" "+dr(n.x4.y)+" m"),r.push(dr(n.x3.x)+" "+dr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Xl(t);e.scope=t.scope;var r=zt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+dr(zt.internal.getWidth(t))+" "+dr(zt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+dr(zt.internal.getWidth(t)-2)+" "+dr(zt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(dr(r.x1.x)+" "+dr(r.x1.y)+" m"),n.push(dr(r.x2.x)+" "+dr(r.x2.y)+" l"),n.push(dr(r.x4.x)+" "+dr(r.x4.y)+" m"),n.push(dr(r.x3.x)+" "+dr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Xl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+dr(zt.internal.getWidth(t))+" "+dr(zt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};zt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=zt.internal.getWidth(t),r=zt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},zt.internal.getWidth=function(t){var e=0;return gn(t)==="object"&&(e=s3(t.Rect[2])),e},zt.internal.getHeight=function(t){var e=0;return gn(t)==="object"&&(e=s3(t.Rect[3])),e};var UP=ea.addField=function(t){if(BP(this,t),!(t instanceof xl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ea.AcroFormChoiceField=Ah,ea.AcroFormListBox=Eh,ea.AcroFormComboBox=Nh,ea.AcroFormEditBox=Kg,ea.AcroFormButton=ns,ea.AcroFormPushButton=Wg,ea.AcroFormRadioButton=Sh,ea.AcroFormCheckBox=Yg,ea.AcroFormTextField=nf,ea.AcroFormPasswordField=Xg,ea.AcroFormAppearance=zt,ea.AcroForm={ChoiceField:Ah,ListBox:Eh,ComboBox:Nh,EditBox:Kg,Button:ns,PushButton:Wg,RadioButton:Sh,CheckBox:Yg,TextField:nf,PasswordField:Xg,Appearance:zt},rr.AcroForm={ChoiceField:Ah,ListBox:Eh,ComboBox:Nh,EditBox:Kg,Button:ns,PushButton:Wg,RadioButton:Sh,CheckBox:Yg,TextField:nf,PasswordField:Xg,Appearance:zt};rr.AcroForm;function z6(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(R,C){var B,W,ue,ae,le,se=e;if((C=C||e)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(X(R))for(le in r)for(ue=r[le],B=0;B<ue.length;B+=1){for(ae=!0,W=0;W<ue[B].length;W+=1)if(ue[B][W]!==void 0&&ue[B][W]!==R[W]){ae=!1;break}if(ae===!0){se=le;break}}else for(le in r)for(ue=r[le],B=0;B<ue.length;B+=1){for(ae=!0,W=0;W<ue[B].length;W+=1)if(ue[B][W]!==void 0&&ue[B][W]!==R.charCodeAt(W)){ae=!1;break}if(ae===!0){se=le;break}}return se===e&&C!==e&&(se=C),se},a=function R(C){for(var B=this.internal.write,W=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:C.width}),ae.push({key:"Height",value:C.height}),C.colorSpace===E.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===E.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var le="",se=0,ne=C.transparency.length;se<ne;se++)le+=C.transparency[se]+" "+C.transparency[se]+" ";ae.push({key:"Mask",value:"["+le+"]"})}C.sMask!==void 0&&ae.push({key:"SMask",value:C.objectId+1+" 0 R"});var J=C.filter!==void 0?["/"+C.filter]:void 0;if(W({data:C.data,additionalKeyValues:ae,alreadyAppliedFilters:J,objectId:C.objectId}),B("endobj"),"sMask"in C&&C.sMask!==void 0){var Ne="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,L={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:Ne,data:C.sMask};"filter"in C&&(L.filter=C.filter),R.call(this,L)}if(C.colorSpace===E.INDEXED){var z=this.internal.newObject();W({data:D(new Uint8Array(C.palette)),objectId:z}),B("endobj")}},s=function(){var R=this.internal.collections.addImage_images;for(var C in R)a.call(this,R[C])},o=function(){var R,C=this.internal.collections.addImage_images,B=this.internal.write;for(var W in C)B("/I"+(R=C[W]).index,R.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},h=function(){var R=this.internal.collections.addImage_images;return c.call(this),R},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(R){return typeof t["process"+R.toUpperCase()]=="function"},y=function(R){return gn(R)==="object"&&R.nodeType===1},v=function(R,C){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var B=""+R.getAttribute("src");if(B.indexOf("data:image/")===0)return cm(unescape(B).split("base64,").pop());var W=t.loadFile(B,!0);if(W!==void 0)return W}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var ue;switch(C){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;case"JPEG":case"JPG":default:ue="image/jpeg"}return cm(R.toDataURL(ue,1).split("base64,").pop())}},b=function(R){var C=this.internal.collections.addImage_images;if(C){for(var B in C)if(R===C[B].alias)return C[B]}},A=function(R,C,B){return R||C||(R=-96,C=-96),R<0&&(R=-1*B.width*72/R/this.internal.scaleFactor),C<0&&(C=-1*B.height*72/C/this.internal.scaleFactor),R===0&&(R=C*B.width/B.height),C===0&&(C=R*B.height/B.width),[R,C]},k=function(R,C,B,W,ue,ae){var le=A.call(this,B,W,ue),se=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,J=h.call(this);if(B=le[0],W=le[1],J[ue.index]=ue,ae){ae*=Math.PI/180;var Ne=Math.cos(ae),L=Math.sin(ae),z=function(Y){return Y.toFixed(4)},G=[z(Ne),z(L),z(-1*L),z(Ne),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,se(R),ne(C+W),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([se(B),"0","0",se(W),"0","0","cm"].join(" "))):this.internal.write([se(B),"0","0",se(W),se(R),ne(C+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=t.__addimage__.sHashCode=function(R){var C,B,W=0;if(typeof R=="string")for(B=R.length,C=0;C<B;C++)W=(W<<5)-W+R.charCodeAt(C),W|=0;else if(X(R))for(B=R.byteLength/2,C=0;C<B;C++)W=(W<<5)-W+R[C],W|=0;return W},M=t.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var C=!0;return R.length===0&&(C=!1),R.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(C=!1),C},H=t.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var C=R.indexOf(",");return C<0?null:R.substring(0,C).trim().endsWith("base64")?R.substring(C+1):null},K=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(R){return K()&&R instanceof ArrayBuffer};var X=t.__addimage__.isArrayBufferView=function(R){return K()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},P=t.__addimage__.binaryStringToUint8Array=function(R){for(var C=R.length,B=new Uint8Array(C),W=0;W<C;W++)B[W]=R.charCodeAt(W);return B},D=t.__addimage__.arrayBufferToBinaryString=function(R){for(var C="",B=X(R)?R:new Uint8Array(R),W=0;W<B.length;W+=8192)C+=String.fromCharCode.apply(null,B.subarray(W,W+8192));return C};t.addImage=function(){var R,C,B,W,ue,ae,le,se,ne;if(typeof arguments[1]=="number"?(C=e,B=arguments[1],W=arguments[2],ue=arguments[3],ae=arguments[4],le=arguments[5],se=arguments[6],ne=arguments[7]):(C=arguments[1],B=arguments[2],W=arguments[3],ue=arguments[4],ae=arguments[5],le=arguments[6],se=arguments[7],ne=arguments[8]),gn(R=arguments[0])==="object"&&!y(R)&&"imageData"in R){var J=R;R=J.imageData,C=J.format||C||e,B=J.x||B||0,W=J.y||W||0,ue=J.w||J.width||ue,ae=J.h||J.height||ae,le=J.alias||le,se=J.compression||se,ne=J.rotation||J.angle||ne}var Ne=this.internal.getFilters();if(se===void 0&&Ne.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(B)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var L=I.call(this,R,C,le,se);return k.call(this,B,W,ue,ae,L,ne),this};var I=function(R,C,B,W){var ue,ae,le;if(typeof R=="string"&&n(R)===e){R=unescape(R);var se=U(R,!1);(se!==""||(se=t.loadFile(R,!0))!==void 0)&&(R=se)}if(y(R)&&(R=v(R,C)),C=n(R,C),!p(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((le=B)==null||le.length===0)&&(B=function(ne){return typeof ne=="string"||X(ne)?j(ne):X(ne.data)?j(ne.data):null}(R)),(ue=b.call(this,B))||(K()&&(R instanceof Uint8Array||C==="RGBA"||(ae=R,R=P(R))),ue=this["process"+C.toUpperCase()](R,d.call(this),B,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:S.NONE}(W),ae)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},U=t.__addimage__.convertBase64ToBinaryString=function(R,C){C=typeof C!="boolean"||C;var B,W="";if(typeof R=="string"){var ue;B=(ue=H(R))!==null&&ue!==void 0?ue:R;try{W=cm(B)}catch(ae){if(C)throw M(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(R){var C,B,W="";if(y(R)&&(R=v(R)),typeof R=="string"&&n(R)===e&&((W=U(R,!1))===""&&(W=t.loadFile(R)||""),R=W),B=n(R),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!K()||R instanceof Uint8Array||(R=P(R)),!(C=this["process"+B.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=B,C}})(rr.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};rr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,p=!1,y=0;y<d.length&&!p;y++)switch((n=d[y]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){n=d[v];var b=this.internal.pdfEscape,A=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(k.objId),j=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+b(S(n.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+h.objId+" 0 R",s+=" /T ("+b(S(j))+") >>",k.content=s;var M=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+M,n.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(k.objId,"0 R",E.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var H=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(A(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var K=this.annotations._nameMap[n.options.name];n.options.pageNumber=K.page,n.options.top=K.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var X=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+X+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,s,o){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(r),y:d(n),w:h(r+a),h:d(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,a,s){var o,c,h=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var p=this.splitTextToSize(r,c).length;o=Math.ceil(d*p)}else c=h,o=d;return this.text(r,n,a,s),a+=.2*d,s.align==="center"&&(n-=h/2),s.align==="right"&&(n-=h),this.link(n,a-d,c,o,s),h},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(rr.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},c=t.__arabicParser__.isArabicEndLetter=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(k){return o(k)&&a.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length==4},y=t.__arabicParser__.resolveLigatures=function(k){var E=0,S=r,j="",M=0;for(E=0;E<k.length;E+=1)S[k.charCodeAt(E)]!==void 0?(M++,typeof(S=S[k.charCodeAt(E)])=="number"&&(j+=String.fromCharCode(S),S=r,M=0),E===k.length-1&&(S=r,j+=k.charAt(E-(M-1)),E-=M-1,M=0)):(S=r,j+=k.charAt(E-M),E-=M,M=0);return j};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(k,E,S){return o(k)?s(k)===!1?-1:!d(k)||!o(E)&&!o(S)||!o(S)&&c(E)||c(k)&&!o(E)||c(k)&&h(E)||c(k)&&c(E)?0:p(k)&&o(E)&&!c(E)&&o(S)&&d(S)?3:c(k)||!o(S)?1:2:-1},b=function(k){var E=0,S=0,j=0,M="",H="",K="",X=(k=k||"").split("\\s+"),P=[];for(E=0;E<X.length;E+=1){for(P.push(""),S=0;S<X[E].length;S+=1)M=X[E][S],H=X[E][S-1],K=X[E][S+1],o(M)?(j=v(M,H,K),P[E]+=j!==-1?String.fromCharCode(e[M.charCodeAt(0)][j]):M):P[E]+=M;P[E]=y(P[E])}return P.join(" ")},A=t.__arabicParser__.processArabic=t.processArabic=function(){var k,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(E)){var j=0;for(S=[],j=0;j<E.length;j+=1)Array.isArray(E[j])?S.push([b(E[j][0]),E[j][1],E[j][2]]):S.push([b(E[j])]);k=S}else k=b(E);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",A])}(rr.API),rr.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(rr.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(k){A=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,d){n.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,b=0,A=0,k=0,E=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var S=d.maxWidth;S>0?typeof h=="string"?h=this.splitTextToSize(h,S):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(M,H){return M.concat(E.splitTextToSize(H,S))},[])):h=Array.isArray(h)?h:[h];for(var j=0;j<h.length;j++)b<(k=this.getStringUnitWidth(h[j],{font:y})*p)&&(b=k);return b!==0&&(A=h.length),{w:b/=v,h:Math.max((A*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var h;h=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===h.lineNumber?(h.x=(d.x||0)+(d.width||0),h.y=d.y||0):d.y+d.height+h.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=y.top,b&&v&&(this.printHeaderRow(h.lineNumber,!0),h.y+=v[0].height)):h.y=d.y+d.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,r===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};t.table=function(h,d,p,y,v){if(n.call(this),!p)throw new Error("No data for PDF table.");var b,A,k,E,S=[],j=[],M=[],H={},K={},X=[],P=[],D=(v=v||{}).autoSize||!1,I=v.printHeaders!==!1,U=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,R=v.margins||Object.assign({width:this.getPageWidth()},e),C=typeof v.padding=="number"?v.padding:3,B=v.headerBackgroundColor||"#c8c8c8",W=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=W,this.setFontSize(U),y==null)j=S=Object.keys(p[0]),M=S.map(function(){return"left"});else if(Array.isArray(y)&&gn(y[0])==="object")for(S=y.map(function(J){return J.name}),j=y.map(function(J){return J.prompt||J.name||""}),M=y.map(function(J){return J.align||"left"}),b=0;b<y.length;b+=1)K[y[b].name]=y[b].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(j=S=y,M=S.map(function(){return"left"}));if(D||Array.isArray(y)&&typeof y[0]=="string")for(b=0;b<S.length;b+=1){for(H[E=S[b]]=p.map(function(J){return J[E]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(j[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=H[E],this.setFont(void 0,"normal"),k=0;k<A.length;k+=1)X.push(this.getTextDimensions(A[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[E]=Math.max.apply(null,X)+C+C,X=[]}if(I){var ue={};for(b=0;b<S.length;b+=1)ue[S[b]]={},ue[S[b]].text=j[b],ue[S[b]].align=M[b];var ae=c.call(this,ue,K);P=S.map(function(J){return new s(h,d,K[J],ae,ue[J].text,void 0,ue[J].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var le=y.reduce(function(J,Ne){return J[Ne.name]=Ne.align,J},{});for(b=0;b<p.length;b+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:b,data:p[b]},this);var se=c.call(this,p[b],K);for(k=0;k<S.length;k+=1){var ne=p[b][S[k]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:b,col:k,data:ne},this),o.call(this,new s(h,d,K[S[k]],se,ne,b+2,le[S[k]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=d,this};var c=function(h,d){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(h).map(function(b){var A=h[b];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,d[b]-p-p)},this).map(function(b){return this.getLineHeightFactor()*b.length*y/v+p+p},this).reduce(function(b,A){return Math.max(b,A)},0)};t.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){p=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,v.push(p)),p.lineNumber=h;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(A)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(rr.API);var q6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},H6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],av=z6(H6),G6=[100,200,300,400,500,600,700,800,900],VP=z6(G6);function sv(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return q6[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(s){return typeof av[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function i3(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var zP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},o3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function qP(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},zP,r.genericFontFamilies||{}),s=null,o=null,c=0;c<e.length;++c)if(a[(s=sv(e[c])).family]&&(s.family=a[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+l3(s)+"' and default family '"+n+"'.");if(o=function(h,d){if(d[h])return d[h];var p=av[h],y=p<=av.normal?-1:1,v=i3(d,H6,p,y);if(!v)throw new Error("Could not find a matching font-stretch value for "+h);return v}(s.stretch,o),o=function(h,d){if(d[h])return d[h];for(var p=q6[h],y=0;y<p.length;++y)if(d[p[y]])return d[p[y]];throw new Error("Could not find a matching font-style for "+h)}(s.style,o),!(o=function(h,d){if(d[h])return d[h];if(h===400&&d[500])return d[500];if(h===500&&d[400])return d[400];var p=VP[h],y=i3(d,G6,p,h<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+h);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+l3(s)+"'.");return o}function c3(t){return t.trimLeft()}function HP(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function GP(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var _g,u3,f3,ry=["times"];(function(t){var e,r,n,a,s,o,c,h,d,p=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new h,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,d=new p}]);var y=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=L;Object.defineProperty(this,"pdf",{get:function(){return z}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(Le){G=!!Le}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(Le){Y=!!Le}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(Le){isNaN(Le)||(Z=Le)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Le){isNaN(Le)||(de=Le)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Le){var pe;typeof Le=="number"?pe=[Le,Le,Le,Le]:((pe=new Array(4))[0]=Le[0],pe[1]=Le.length>=2?Le[1]:pe[0],pe[2]=Le.length>=3?Le[2]:pe[0],pe[3]=Le.length>=4?Le[3]:pe[1]),d.margin=pe}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Le){xe=Le}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(Le){we=Le}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Le){je=Le}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Le){Le instanceof p&&(d=Le)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Le){d.path=Le}});var tt=[];Object.defineProperty(this,"ctxStack",{get:function(){return tt},set:function(Le){tt=Le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Le){var pe;pe=v(Le),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Le){var pe=v(Le);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Le){["butt","round","square"].indexOf(Le)!==-1&&(this.ctx.lineCap=Le,this.pdf.setLineCap(Le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Le){isNaN(Le)||(this.ctx.lineWidth=Le,this.pdf.setLineWidth(Le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Le){["bevel","round","miter"].indexOf(Le)!==-1&&(this.ctx.lineJoin=Le,this.pdf.setLineJoin(Le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Le){isNaN(Le)||(this.ctx.miterLimit=Le,this.pdf.setMiterLimit(Le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Le){this.ctx.textBaseline=Le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Le){["right","end","center","left","start"].indexOf(Le)!==-1&&(this.ctx.textAlign=Le)}});var ee=null;function Te(Le,pe){if(ee===null){var Ke=function(xt){var st=[];return Object.keys(xt).forEach(function(pt){xt[pt].forEach(function(_t){var bt=null;switch(_t){case"bold":bt={family:pt,weight:"bold"};break;case"italic":bt={family:pt,style:"italic"};break;case"bolditalic":bt={family:pt,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:pt}}bt!==null&&(bt.ref={name:pt,style:_t},st.push(bt))})}),st}(Le.getFontList());ee=function(xt){for(var st={},pt=0;pt<xt.length;++pt){var _t=sv(xt[pt]),bt=_t.family,Dt=_t.stretch,Ut=_t.style,Wt=_t.weight;st[bt]=st[bt]||{},st[bt][Dt]=st[bt][Dt]||{},st[bt][Dt][Ut]=st[bt][Dt][Ut]||{},st[bt][Dt][Ut][Wt]=_t}return st}(Ke.concat(pe))}return ee}var Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(Le){ee=null,Qe=Le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Le){var pe;if(this.ctx.font=Le,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Le))!==null){var Ke=pe[1];pe[2];var xt=pe[3],st=pe[4];pe[5];var pt=pe[6],_t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(st)[2];st=Math.floor(_t==="px"?parseFloat(st)*this.pdf.internal.scaleFactor:_t==="em"?parseFloat(st)*this.pdf.getFontSize():parseFloat(st)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(st);var bt=function(It){var Tt,vt,Dr=[],qt=It.trim();if(qt==="")return ry;if(qt in o3)return[o3[qt]];for(;qt!=="";){switch(vt=null,Tt=(qt=c3(qt)).charAt(0)){case'"':case"'":vt=HP(qt.substring(1),Tt);break;default:vt=GP(qt)}if(vt===null||(Dr.push(vt[0]),(qt=c3(vt[1]))!==""&&qt.charAt(0)!==","))return ry;qt=qt.replace(/^,/,"")}return Dr}(pt);if(this.fontFaces){var Dt=qP(Te(this.pdf,this.fontFaces),bt.map(function(It){return{family:It,stretch:"normal",weight:xt,style:Ke}}));this.pdf.setFont(Dt.ref.name,Dt.ref.style)}else{var Ut="";(xt==="bold"||parseInt(xt,10)>=700||Ke==="bold")&&(Ut="bold"),Ke==="italic"&&(Ut+="italic"),Ut.length===0&&(Ut="normal");for(var Wt="",Pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Mt=0;Mt<bt.length;Mt++){if(this.pdf.internal.getFont(bt[Mt],Ut,{noFallback:!0,disableWarning:!0})!==void 0){Wt=bt[Mt];break}if(Ut==="bolditalic"&&this.pdf.internal.getFont(bt[Mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Wt=bt[Mt],Ut="bold";else if(this.pdf.internal.getFont(bt[Mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Wt=bt[Mt],Ut="normal";break}}if(Wt===""){for(var Ht=0;Ht<bt.length;Ht++)if(Pt[bt[Ht]]){Wt=Pt[bt[Ht]];break}}Wt=Wt===""?"Times":Wt,this.pdf.setFont(Wt,Ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Le){this.ctx.globalCompositeOperation=Le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Le){this.ctx.globalAlpha=Le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Le){this.ctx.lineDashOffset=Le,Ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Le){this.ctx.lineDash=Le,Ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Le){this.ctx.ignoreClearRect=!!Le}})};y.prototype.setLineDash=function(L){this.lineDash=L},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){H.call(this,"fill",!1)},y.prototype.stroke=function(){H.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(L,z){if(isNaN(L)||isNaN(z))throw En.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(L,z)},y.prototype.closePath=function(){var L=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&gn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){L=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},y.prototype.lineTo=function(L,z){if(isNaN(L)||isNaN(z))throw En.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},y.prototype.quadraticCurveTo=function(L,z,G,Y){if(isNaN(G)||isNaN(Y)||isNaN(L)||isNaN(z))throw En.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o(G,Y)),de=this.ctx.transform.applyToPoint(new o(L,z));this.path.push({type:"qct",x1:de.x,y1:de.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},y.prototype.bezierCurveTo=function(L,z,G,Y,Z,de){if(isNaN(Z)||isNaN(de)||isNaN(L)||isNaN(z)||isNaN(G)||isNaN(Y))throw En.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(Z,de)),we=this.ctx.transform.applyToPoint(new o(L,z)),je=this.ctx.transform.applyToPoint(new o(G,Y));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:je.x,y2:je.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},y.prototype.arc=function(L,z,G,Y,Z,de){if(isNaN(L)||isNaN(z)||isNaN(G)||isNaN(Y)||isNaN(Z))throw En.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(L,z));L=xe.x,z=xe.y;var we=this.ctx.transform.applyToPoint(new o(0,G)),je=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(we.x-je.x,2)+Math.pow(we.y-je.y,2))}Math.abs(Z-Y)>=2*Math.PI&&(Y=0,Z=2*Math.PI),this.path.push({type:"arc",x:L,y:z,radius:G,startAngle:Y,endAngle:Z,counterclockwise:de})},y.prototype.arcTo=function(L,z,G,Y,Z){throw new Error("arcTo not implemented.")},y.prototype.rect=function(L,z,G,Y){if(isNaN(L)||isNaN(z)||isNaN(G)||isNaN(Y))throw En.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,z),this.lineTo(L+G,z),this.lineTo(L+G,z+Y),this.lineTo(L,z+Y),this.lineTo(L,z),this.lineTo(L+G,z),this.lineTo(L,z)},y.prototype.fillRect=function(L,z,G,Y){if(isNaN(L)||isNaN(z)||isNaN(G)||isNaN(Y))throw En.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,z,G,Y),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},y.prototype.strokeRect=function(L,z,G,Y){if(isNaN(L)||isNaN(z)||isNaN(G)||isNaN(Y))throw En.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(L,z,G,Y),this.stroke())},y.prototype.clearRect=function(L,z,G,Y){if(isNaN(L)||isNaN(z)||isNaN(G)||isNaN(Y))throw En.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,z,G,Y))},y.prototype.save=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},y.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(z),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(L){var z,G,Y,Z;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))z=0,G=0,Y=0,Z=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(de!==null)z=parseInt(de[1]),G=parseInt(de[2]),Y=parseInt(de[3]),Z=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)z=parseInt(de[1]),G=parseInt(de[2]),Y=parseInt(de[3]),Z=parseFloat(de[4]);else{if(Z=1,typeof L=="string"&&L.charAt(0)!=="#"){var xe=new P6(L);L=xe.ok?xe.toHex():"#000000"}L.length===4?(z=L.substring(1,2),z+=z,G=L.substring(2,3),G+=G,Y=L.substring(3,4),Y+=Y):(z=L.substring(1,3),G=L.substring(3,5),Y=L.substring(5,7)),z=parseInt(z,16),G=parseInt(G,16),Y=parseInt(Y,16)}}return{r:z,g:G,b:Y,a:Z,style:L}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(L,z,G,Y){if(isNaN(z)||isNaN(G)||typeof L!="string")throw En.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!b.call(this)){var Z=se(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;C.call(this,{text:L,x:z,y:G,scale:de,angle:Z,align:this.textAlign,maxWidth:Y})}},y.prototype.strokeText=function(L,z,G,Y){if(isNaN(z)||isNaN(G)||typeof L!="string")throw En.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){Y=isNaN(Y)?void 0:Y;var Z=se(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;C.call(this,{text:L,x:z,y:G,scale:de,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:Y})}},y.prototype.measureText=function(L){if(typeof L!="string")throw En.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,G=this.pdf.internal.scaleFactor,Y=z.internal.getFontSize(),Z=z.getStringUnitWidth(L)*Y/z.internal.scaleFactor,de=function(xe){var we=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this};return new de({width:Z*=Math.round(96*G/72*1e4)/1e4})},y.prototype.scale=function(L,z){if(isNaN(L)||isNaN(z))throw En.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new h(L,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},y.prototype.rotate=function(L){if(isNaN(L))throw En.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new h(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},y.prototype.translate=function(L,z){if(isNaN(L)||isNaN(z))throw En.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new h(1,0,0,1,L,z);this.ctx.transform=this.ctx.transform.multiply(G)},y.prototype.transform=function(L,z,G,Y,Z,de){if(isNaN(L)||isNaN(z)||isNaN(G)||isNaN(Y)||isNaN(Z)||isNaN(de))throw En.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new h(L,z,G,Y,Z,de);this.ctx.transform=this.ctx.transform.multiply(xe)},y.prototype.setTransform=function(L,z,G,Y,Z,de){L=isNaN(L)?1:L,z=isNaN(z)?0:z,G=isNaN(G)?0:G,Y=isNaN(Y)?1:Y,Z=isNaN(Z)?0:Z,de=isNaN(de)?0:de,this.ctx.transform=new h(L,z,G,Y,Z,de)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(L,z,G,Y,Z,de,xe,we,je){var tt=this.pdf.getImageProperties(L),ee=1,Te=1,Qe=1,Le=1;Y!==void 0&&we!==void 0&&(Qe=we/Y,Le=je/Z,ee=tt.width/Y*we/Y,Te=tt.height/Z*je/Z),de===void 0&&(de=z,xe=G,z=0,G=0),Y!==void 0&&we===void 0&&(we=Y,je=Z),Y===void 0&&we===void 0&&(we=tt.width,je=tt.height);for(var pe,Ke=this.ctx.transform.decompose(),xt=se(Ke.rotate.shx),st=new h,pt=(st=(st=(st=st.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new c(de-z*Qe,xe-G*Le,Y*ee,Z*Te)),_t=E.call(this,pt),bt=[],Dt=0;Dt<_t.length;Dt+=1)bt.indexOf(_t[Dt])===-1&&bt.push(_t[Dt]);if(M(bt),this.autoPaging)for(var Ut=bt[0],Wt=bt[bt.length-1],Pt=Ut;Pt<Wt+1;Pt++){this.pdf.setPage(Pt);var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=Pt===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Pt===1?0:It+(Pt-2)*Tt;if(this.ctx.clip_path.length!==0){var Dr=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(pe,this.posX+this.margin[3],-vt+Ht+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=Dr}var qt=JSON.parse(JSON.stringify(pt));qt=j([qt],this.posX+this.margin[3],-vt+Ht+this.ctx.prevPageLastElemOffset)[0];var _n=(Pt>Ut||Pt<Wt)&&k.call(this);_n&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Tt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,xt),_n&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,xt)};var E=function(L,z,G){var Y=[];z=z||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Y.push(Math.floor((L.y+Z)/G)+1);break;case"arc":Y.push(Math.floor((L.y+Z-L.radius)/G)+1),Y.push(Math.floor((L.y+Z+L.radius)/G)+1);break;case"qct":var de=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Y.push(Math.floor((de.y+Z)/G)+1),Y.push(Math.floor((de.y+de.h+Z)/G)+1);break;case"bct":var xe=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Y.push(Math.floor((xe.y+Z)/G)+1),Y.push(Math.floor((xe.y+xe.h+Z)/G)+1);break;case"rect":Y.push(Math.floor((L.y+Z)/G)+1),Y.push(Math.floor((L.y+L.h+Z)/G)+1)}for(var we=0;we<Y.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<Y[we];)S.call(this);return Y},S=function(){var L=this.fillStyle,z=this.strokeStyle,G=this.font,Y=this.lineCap,Z=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=z,this.font=G,this.lineCap=Y,this.lineWidth=Z,this.lineJoin=de},j=function(L,z,G){for(var Y=0;Y<L.length;Y++)switch(L[Y].type){case"bct":L[Y].x2+=z,L[Y].y2+=G;case"qct":L[Y].x1+=z,L[Y].y1+=G;case"mt":case"lt":case"arc":default:L[Y].x+=z,L[Y].y+=G}return L},M=function(L){return L.sort(function(z,G){return z-G})},H=function(L,z){for(var G,Y,Z=this.fillStyle,de=this.strokeStyle,xe=this.lineCap,we=this.lineWidth,je=Math.abs(we*this.ctx.transform.scaleX),tt=this.lineJoin,ee=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Qe=[],Le=0;Le<Te.length;Le++)if(Te[Le].x!==void 0)for(var pe=E.call(this,Te[Le]),Ke=0;Ke<pe.length;Ke+=1)Qe.indexOf(pe[Ke])===-1&&Qe.push(pe[Ke]);for(var xt=0;xt<Qe.length;xt++)for(;this.pdf.internal.getNumberOfPages()<Qe[xt];)S.call(this);if(M(Qe),this.autoPaging)for(var st=Qe[0],pt=Qe[Qe.length-1],_t=st;_t<pt+1;_t++){this.pdf.setPage(_t),this.fillStyle=Z,this.strokeStyle=de,this.lineCap=xe,this.lineWidth=je,this.lineJoin=tt;var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=_t===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=_t===1?0:Ut+(_t-2)*Wt;if(this.ctx.clip_path.length!==0){var Mt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(G,this.posX+this.margin[3],-Pt+Dt+this.ctx.prevPageLastElemOffset),K.call(this,L,!0),this.path=Mt}if(Y=JSON.parse(JSON.stringify(ee)),this.path=j(Y,this.posX+this.margin[3],-Pt+Dt+this.ctx.prevPageLastElemOffset),z===!1||_t===0){var Ht=(_t>st||_t<pt)&&k.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Wt,null).clip().discardPath()),K.call(this,L,z),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=je,K.call(this,L,z),this.lineWidth=we;this.path=ee},K=function(L,z){if((L!=="stroke"||z||!A.call(this))&&(L==="stroke"||z||!b.call(this))){for(var G,Y,Z=[],de=this.path,xe=0;xe<de.length;xe++){var we=de[xe];switch(we.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:we,deltas:[],abs:[]});break;case"lt":var je=Z.length;if(de[xe-1]&&!isNaN(de[xe-1].x)&&(G=[we.x-de[xe-1].x,we.y-de[xe-1].y],je>0)){for(;je>=0;je--)if(Z[je-1].close!==!0&&Z[je-1].begin!==!0){Z[je-1].deltas.push(G),Z[je-1].abs.push(we);break}}break;case"bct":G=[we.x1-de[xe-1].x,we.y1-de[xe-1].y,we.x2-de[xe-1].x,we.y2-de[xe-1].y,we.x-de[xe-1].x,we.y-de[xe-1].y],Z[Z.length-1].deltas.push(G);break;case"qct":var tt=de[xe-1].x+2/3*(we.x1-de[xe-1].x),ee=de[xe-1].y+2/3*(we.y1-de[xe-1].y),Te=we.x+2/3*(we.x1-we.x),Qe=we.y+2/3*(we.y1-we.y),Le=we.x,pe=we.y;G=[tt-de[xe-1].x,ee-de[xe-1].y,Te-de[xe-1].x,Qe-de[xe-1].y,Le-de[xe-1].x,pe-de[xe-1].y],Z[Z.length-1].deltas.push(G);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(we)}}Y=z?null:L==="stroke"?"stroke":"fill";for(var Ke=!1,xt=0;xt<Z.length;xt++)if(Z[xt].arc)for(var st=Z[xt].abs,pt=0;pt<st.length;pt++){var _t=st[pt];_t.type==="arc"?D.call(this,_t.x,_t.y,_t.radius,_t.startAngle,_t.endAngle,_t.counterclockwise,void 0,z,!Ke):B.call(this,_t.x,_t.y),Ke=!0}else if(Z[xt].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(Z[xt].begin!==!0){var bt=Z[xt].start.x,Dt=Z[xt].start.y;W.call(this,Z[xt].deltas,bt,Dt),Ke=!0}Y&&I.call(this,Y),z&&U.call(this)}},X=function(L){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-G;case"top":return L+z-G;case"hanging":return L+z-2*G;case"middle":return L+z/2-G;case"ideographic":return L;case"alphabetic":default:return L}},P=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(z,G){this.colorStops.push([z,G])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(L,z,G,Y,Z,de,xe,we,je){for(var tt=ae.call(this,G,Y,Z,de),ee=0;ee<tt.length;ee++){var Te=tt[ee];ee===0&&(je?R.call(this,Te.x1+L,Te.y1+z):B.call(this,Te.x1+L,Te.y1+z)),ue.call(this,L,z,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}we?U.call(this):I.call(this,xe)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(L,z){this.pdf.internal.out(r(L)+" "+n(z)+" m")},C=function(L){var z;switch(L.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var G=this.pdf.getTextDimensions(L.text),Y=X.call(this,L.y),Z=P.call(this,Y)-G.h,de=this.ctx.transform.applyToPoint(new o(L.x,Y)),xe=this.ctx.transform.decompose(),we=new h;we=(we=(we=we.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var je,tt,ee,Te=this.ctx.transform.applyToRectangle(new c(L.x,Y,G.w,G.h)),Qe=we.applyToRectangle(new c(L.x,Z,G.w,G.h)),Le=E.call(this,Qe),pe=[],Ke=0;Ke<Le.length;Ke+=1)pe.indexOf(Le[Ke])===-1&&pe.push(Le[Ke]);if(M(pe),this.autoPaging)for(var xt=pe[0],st=pe[pe.length-1],pt=xt;pt<st+1;pt++){this.pdf.setPage(pt);var _t=pt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[2],Ut=Dt-this.margin[0],Wt=this.pdf.internal.pageSize.width-this.margin[1],Pt=Wt-this.margin[3],Mt=pt===1?0:bt+(pt-2)*Ut;if(this.ctx.clip_path.length!==0){var Ht=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(je,this.posX+this.margin[3],-1*Mt+_t),K.call(this,"fill",!0),this.path=Ht}var It=j([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-Mt+_t+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*L.scale),ee=this.lineWidth,this.lineWidth=ee*L.scale);var Tt=this.autoPaging!=="text";if(Tt||It.y+It.h<=Dt){if(Tt||It.y>=_t&&It.x<=Wt){var vt=Tt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Wt-It.x)[0],Dr=j([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Mt+_t+this.ctx.prevPageLastElemOffset)[0],qt=Tt&&(pt>xt||pt<st)&&k.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Ut,null).clip().discardPath()),this.pdf.text(vt,Dr.x,Dr.y,{angle:L.angle,align:z,renderingMode:L.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else It.y<Dt&&(this.ctx.prevPageLastElemOffset+=Dt-It.y);L.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=ee)}else L.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*L.scale),ee=this.lineWidth,this.lineWidth=ee*L.scale),this.pdf.text(L.text,de.x+this.posX,de.y+this.posY,{angle:L.angle,align:z,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=ee)},B=function(L,z,G,Y){G=G||0,Y=Y||0,this.pdf.internal.out(r(L+G)+" "+n(z+Y)+" l")},W=function(L,z,G){return this.pdf.lines(L,z,G,null,null)},ue=function(L,z,G,Y,Z,de,xe,we){this.pdf.internal.out([e(a(G+L)),e(s(Y+z)),e(a(Z+L)),e(s(de+z)),e(a(xe+L)),e(s(we+z)),"c"].join(" "))},ae=function(L,z,G,Y){for(var Z=2*Math.PI,de=Math.PI/2;z>G;)z-=Z;var xe=Math.abs(G-z);xe<Z&&Y&&(xe=Z-xe);for(var we=[],je=Y?-1:1,tt=z;xe>1e-5;){var ee=tt+je*Math.min(xe,de);we.push(le.call(this,L,tt,ee)),xe-=Math.abs(ee-tt),tt=ee}return we},le=function(L,z,G){var Y=(G-z)/2,Z=L*Math.cos(Y),de=L*Math.sin(Y),xe=Z,we=-de,je=xe*xe+we*we,tt=je+xe*Z+we*de,ee=4/3*(Math.sqrt(2*je*tt)-tt)/(xe*de-we*Z),Te=xe-ee*we,Qe=we+ee*xe,Le=Te,pe=-Qe,Ke=Y+z,xt=Math.cos(Ke),st=Math.sin(Ke);return{x1:L*Math.cos(z),y1:L*Math.sin(z),x2:Te*xt-Qe*st,y2:Te*st+Qe*xt,x3:Le*xt-pe*st,y3:Le*st+pe*xt,x4:L*Math.cos(G),y4:L*Math.sin(G)}},se=function(L){return 180*L/Math.PI},ne=function(L,z,G,Y,Z,de){var xe=L+.5*(G-L),we=z+.5*(Y-z),je=Z+.5*(G-Z),tt=de+.5*(Y-de),ee=Math.min(L,Z,xe,je),Te=Math.max(L,Z,xe,je),Qe=Math.min(z,de,we,tt),Le=Math.max(z,de,we,tt);return new c(ee,Qe,Te-ee,Le-Qe)},J=function(L,z,G,Y,Z,de,xe,we){var je,tt,ee,Te,Qe,Le,pe,Ke,xt,st,pt,_t,bt,Dt,Ut=G-L,Wt=Y-z,Pt=Z-G,Mt=de-Y,Ht=xe-Z,It=we-de;for(tt=0;tt<41;tt++)xt=(pe=(ee=L+(je=tt/40)*Ut)+je*((Qe=G+je*Pt)-ee))+je*(Qe+je*(Z+je*Ht-Qe)-pe),st=(Ke=(Te=z+je*Wt)+je*((Le=Y+je*Mt)-Te))+je*(Le+je*(de+je*It-Le)-Ke),tt==0?(pt=xt,_t=st,bt=xt,Dt=st):(pt=Math.min(pt,xt),_t=Math.min(_t,st),bt=Math.max(bt,xt),Dt=Math.max(Dt,st));return new c(Math.round(pt),Math.round(_t),Math.round(bt-pt),Math.round(Dt-_t))},Ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,z,G=(L=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:z}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(rr.API),function(t){var e=function(s){var o,c,h,d,p,y,v,b,A,k;for(c=[],h=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>h;h+=4)(p=(s.charCodeAt(h)<<24)+(s.charCodeAt(h+1)<<16)+(s.charCodeAt(h+2)<<8)+s.charCodeAt(h+3))!==0?(y=(p=((p=((p=((p=(p-(k=p%85))/85)-(A=p%85))/85)-(b=p%85))/85)-(v=p%85))/85)%85,c.push(y+33,v+33,b+33,A+33,k+33)):c.push(122);return function(E,S){for(var j=S;j>0;j--)E.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var o,c,h,d,p,y=String,v="length",b=255,A="charCodeAt",k="slice",E="replace";for(s[k](-2),s=s[k](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),h=[],d=0,p=(s+=o="uuuuu"[k](s[v]%5||5))[v];p>d;d+=5)c=52200625*(s[A](d)-33)+614125*(s[A](d+1)-33)+7225*(s[A](d+2)-33)+85*(s[A](d+3)-33)+(s[A](d+4)-33),h.push(b&c>>24,b&c>>16,b&c>>8,b&c);return function(S,j){for(var M=j;M>0;M--)S.pop()}(h,o[v]),y.fromCharCode.apply(y,h)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",h=0;h<s.length;h+=2)c+=String.fromCharCode("0x"+(s[h]+s[h+1]));return c},a=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return s=(o=Zy(o)).reduce(function(h,d){return h+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,o){var c=0,h=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=n(h),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:h,reverseChain:d.reverse().join(" ")}}}(rr.API),function(t){t.loadFile=function(e,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(h,d,p){var y=new XMLHttpRequest,v=0,b=function(A){var k=A.length,E=[],S=String.fromCharCode;for(v=0;v<k;v+=1)E.push(S(255&A.charCodeAt(v)));return E.join("")};if(y.open("GET",h,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?p(b(this.responseText)):p(void 0)}),y.send(null),d&&y.status===200)return b(y.responseText)}(a,s,o)}catch{}return c}(e,r,n)},t.loadImageFile=t.loadFile}(rr.API),function(t){function e(){return(ar.html2canvas?Promise.resolve(ar.html2canvas):bm(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ar.DOMPurify?Promise.resolve(ar.DOMPurify):bm(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=gn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(o,c){var h=document.createElement(o);for(var d in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[d]=c.style[d];return h},s=function o(c){var h=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),h);return d=(d=d.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(h){return this.set({src:a("div",{innerHTML:o,dompurify:h})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function h(d,p){for(var y=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)p!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||y.appendChild(h(v,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(y.width=d.width,y.height=d.height,y.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(y.value=d.value),y.addEventListener("load",function(){y.scrollTop=d.scrollTop,y.scrollLeft=d.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var h=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=d,d)for(var v=0;v<d.length;++v){var b=d[v],A=b.src.find(function(k){return k.format==="truetype"});A&&h.addFont(A.url,b.ref.name,b.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(h){if(h in s.template.prop)return function(){this.prop[h]=o[h]};switch(h){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[h]=o[h]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var h=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(h):h})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(h,d){return Math.floor(h*d/72*96)}return this.then(function(){(o=o||rr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,h,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,h,d){return this.setProgress(o?this.progress.val+o:null,c||null,h?this.progress.n+h:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,c){var h=this;return this.thenCore(o,c,function(d,p){return h.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,d),y}).then(d,p).then(function(y){return h.updateProgress(1),y})})},s.prototype.thenCore=function(o,c,h){h=h||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=h.call(d,o,c);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(h){c=c.thenCore(h)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,rr.getPageSize=function(o,c,h){if(gn(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,h=d.format||h}c=c||"mm",h=h||"a4",o=(""+(o||"P")).toLowerCase();var p,y=(""+h).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var b,A=0,k=0;if(v.hasOwnProperty(y))A=v[y][1]/p,k=v[y][0]/p;else try{A=h[1],k=h[0]}catch{throw new Error("Invalid format: "+h)}if(o==="p"||o==="portrait")o="p",k>A&&(b=k,k=A,A=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",A>k&&(b=k,k=A,A=b)}return{width:k,height:A,unit:c,k:p,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(sv):null;var h=new s(c);return c.worker?h:h.from(o).doCallback()}}(rr.API),rr.API.addJS=function(t){return f3=t,this.internal.events.subscribe("postPutResources",function(){_g=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_g+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),u3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+f3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_g!==void 0&&u3!==void 0&&this.internal.out("/Names <</JavaScript "+_g+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],c=n.exec(o);if(c!=null){var h=c[1];r.internal.newObjectDeferredBegin(h,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(s=0;s<d;s++){var y=r.internal.newObject();p.push(y);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var b=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<p.length;s++)r.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+b+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var h=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(rr.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,s,o,c){var h,d=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(h=function(y){for(var v,b=256*y.charCodeAt(4)+y.charCodeAt(5),A=y.length,k={width:0,height:0,numcomponents:1},E=4;E<A;E+=2){if(E+=b,e.indexOf(y.charCodeAt(E+1))!==-1){v=256*y.charCodeAt(E+5)+y.charCodeAt(E+6),k={width:256*y.charCodeAt(E+7)+y.charCodeAt(E+8),height:v,numcomponents:y.charCodeAt(E+9)};break}b=256*y.charCodeAt(E+2)+y.charCodeAt(E+3)}return k}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:r,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:d,index:n,alias:a}}return p}}(rr.API);var ih,kg,h3,d3,m3,$P=function(){var t,e,r;function n(s){var o,c,h,d,p,y,v,b,A,k,E,S,j,M;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),A=(function(){var H,K;for(K=[],H=0;H<4;++H)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,y.delay=1e3*p/d,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(A==="fdAT"&&(this.pos+=4,o-=4),s=(y!=null?y.data:void 0)||this.imgData,S=0;0<=o?S<o:S>o;0<=o?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((k=h-this.transparency.indexed.length)>0)for(j=0;0<=k?j<k:j>k;0<=k?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":v=(E=this.read(o)).indexOf(0),b=String.fromCharCode.apply(String,E.slice(0,v)),this.text[b]=String.fromCharCode.apply(String,E.slice(v+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(M=this.colorType)===4||M===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),h=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(y,v,b,A){var k,E,S,j,M,H,K,X,P,D,I,U,R,C,B,W,ue,ae,le,se,ne,J=Math.ceil((d.width-y)/b),Ne=Math.ceil((d.height-v)/A),L=d.width==J&&d.height==Ne;for(C=o*J,U=L?c:new Uint8Array(C*Ne),H=s.length,R=0,E=0;R<Ne&&h<H;){switch(s[h++]){case 0:for(j=ue=0;ue<C;j=ue+=1)U[E++]=s[h++];break;case 1:for(j=ae=0;ae<C;j=ae+=1)k=s[h++],M=j<o?0:U[E-o],U[E++]=(k+M)%256;break;case 2:for(j=le=0;le<C;j=le+=1)k=s[h++],S=(j-j%o)/o,B=R&&U[(R-1)*C+S*o+j%o],U[E++]=(B+k)%256;break;case 3:for(j=se=0;se<C;j=se+=1)k=s[h++],S=(j-j%o)/o,M=j<o?0:U[E-o],B=R&&U[(R-1)*C+S*o+j%o],U[E++]=(k+Math.floor((M+B)/2))%256;break;case 4:for(j=ne=0;ne<C;j=ne+=1)k=s[h++],S=(j-j%o)/o,M=j<o?0:U[E-o],R===0?B=W=0:(B=U[(R-1)*C+S*o+j%o],W=S&&U[(R-1)*C+(S-1)*o+j%o]),K=M+B-W,X=Math.abs(K-M),D=Math.abs(K-B),I=Math.abs(K-W),P=X<=D&&X<=I?M:D<=I?B:W,U[E++]=(k+P)%256;break;default:throw new Error("Invalid filter algorithm: "+s[h-1])}if(!L){var z=((v+R*A)*d.width+y)*o,G=R*C;for(j=0;j<J;j+=1){for(var Y=0;Y<o;Y+=1)c[z++]=U[G++];z+=(b-1)*o}}R++}}return s=AP(s),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},n.prototype.decodePalette=function(){var s,o,c,h,d,p,y,v,b;for(c=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+c.length),h=0,s=0,o=y=0,v=c.length;y<v;o=y+=3)d[h++]=c[o],d[h++]=c[o+1],d[h++]=c[o+2],d[h++]=(b=p[s++])!=null?b:255;return d},n.prototype.copyToImageData=function(s,o){var c,h,d,p,y,v,b,A,k,E,S;if(h=this.colors,k=null,c=this.hasAlphaChannel,this.palette.length&&(k=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),h=4,c=!0),A=(d=s.data||s).length,y=k||o,p=v=0,h===1)for(;p<A;)b=k?4*o[p/4]:v,E=y[b++],d[p++]=E,d[p++]=E,d[p++]=E,d[p++]=c?y[b++]:255,v=b;else for(;p<A;)b=k?4*o[p/4]:v,d[p++]=y[b++],d[p++]=y[b++],d[p++]=y[b++],d[p++]=c?y[b++]:255,v=b},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(ar)==="[object Window]"){try{e=ar.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(s){var o;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,c,h,d,p,y,v,b;if(this.animation){for(b=[],c=p=0,y=(v=this.animation.frames).length;p<y;c=++p)o=v[c],h=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(h,d),o.imageData=h,b.push(o.image=t(h));return b}},n.prototype.renderFrame=function(s,o){var c,h,d;return c=(h=this.animation.frames)[o],d=h[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},n.prototype.animate=function(s){var o,c,h,d,p,y,v=this;return c=0,y=this.animation,d=y.numFrames,h=y.frames,p=y.numPlays,(o=function(){var b,A;if(b=c++%d,A=h[b],v.renderFrame(s,b),d>1&&c/d<p)return v.animation._timeout=setTimeout(o,A.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function KP(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],s=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var c=null,h=null;s&&(c=e,h=o,e+=3*o);var d=!0,p=[],y=0,v=null,b=0,A=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,A=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];y=t[e++]|t[e++]<<8,v=t[e++],(1&k)==0&&(v=null),b=k>>2&7,e++;break;case 254:for(;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,H=t[e++],K=H>>6&1,X=1<<(7&H)+1,P=c,D=h,I=!1;H>>7&&(I=!0,P=e,D=X,e+=3*X);var U=e;for(e++;;){var R;if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}p.push({x:E,y:S,width:j,height:M,has_local_palette:I,palette_offset:P,palette_size:D,data_offset:U,data_length:e-U,transparent_index:v,interlaced:!!K,delay:y,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return A},this.frameInfo=function(C){if(C<0||C>=p.length)throw new Error("Frame index out of range.");return p[C]},this.decodeAndBlitFrameBGRA=function(C,B){var W=this.frameInfo(C),ue=W.width*W.height,ae=new Uint8Array(ue);p3(t,W.data_offset,ae,ue);var le=W.palette_offset,se=W.transparent_index;se===null&&(se=256);var ne=W.width,J=r-ne,Ne=ne,L=4*(W.y*r+W.x),z=4*((W.y+W.height)*r+W.x),G=L,Y=4*J;W.interlaced===!0&&(Y+=4*r*7);for(var Z=8,de=0,xe=ae.length;de<xe;++de){var we=ae[de];if(Ne===0&&(Ne=ne,(G+=Y)>=z&&(Y=4*J+4*r*(Z-1),G=L+(ne+J)*(Z<<1),Z>>=1)),we===se)G+=4;else{var je=t[le+3*we],tt=t[le+3*we+1],ee=t[le+3*we+2];B[G++]=ee,B[G++]=tt,B[G++]=je,B[G++]=255}--Ne}},this.decodeAndBlitFrameRGBA=function(C,B){var W=this.frameInfo(C),ue=W.width*W.height,ae=new Uint8Array(ue);p3(t,W.data_offset,ae,ue);var le=W.palette_offset,se=W.transparent_index;se===null&&(se=256);var ne=W.width,J=r-ne,Ne=ne,L=4*(W.y*r+W.x),z=4*((W.y+W.height)*r+W.x),G=L,Y=4*J;W.interlaced===!0&&(Y+=4*r*7);for(var Z=8,de=0,xe=ae.length;de<xe;++de){var we=ae[de];if(Ne===0&&(Ne=ne,(G+=Y)>=z&&(Y=4*J+4*r*(Z-1),G=L+(ne+J)*(Z<<1),Z>>=1)),we===se)G+=4;else{var je=t[le+3*we],tt=t[le+3*we+1],ee=t[le+3*we+2];B[G++]=je,B[G++]=tt,B[G++]=ee,B[G++]=255}--Ne}}}function p3(t,e,r,n){for(var a=t[e++],s=1<<a,o=s+1,c=o+1,h=a+1,d=(1<<h)-1,p=0,y=0,v=0,b=t[e++],A=new Int32Array(4096),k=null;;){for(;p<16&&b!==0;)y|=t[e++]<<p,p+=8,b===1?b=t[e++]:--b;if(p<h)break;var E=y&d;if(y>>=h,p-=h,E!==s){if(E===o)break;for(var S=E<c?E:k,j=0,M=S;M>s;)M=A[M]>>8,++j;var H=M;if(v+j+(S!==E?1:0)>n)return void En.log("Warning, gif stream longer than expected.");r[v++]=H;var K=v+=j;for(S!==E&&(r[v++]=H),M=S;j--;)M=A[M],r[--K]=255&M,M>>=8;k!==null&&c<4096&&(A[c++]=k<<8|H,c>=d+1&&h<12&&(++h,d=d<<1|1)),k=E}else c=o+1,d=(1<<(h=a+1))-1,k=null}return v!==n&&En.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ny(t){var e,r,n,a,s,o=Math.floor,c=new Array(64),h=new Array(64),d=new Array(64),p=new Array(64),y=new Array(65535),v=new Array(65535),b=new Array(64),A=new Array(64),k=[],E=0,S=7,j=new Array(64),M=new Array(64),H=new Array(64),K=new Array(256),X=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(L,z){for(var G=0,Y=0,Z=new Array,de=1;de<=16;de++){for(var xe=1;xe<=L[de];xe++)Z[z[Y]]=[],Z[z[Y]][0]=G,Z[z[Y]][1]=de,Y++,G++;G*=2}return Z}function le(L){for(var z=L[0],G=L[1]-1;G>=0;)z&1<<G&&(E|=1<<S),G--,--S<0&&(E==255?(se(255),se(0)):se(E),S=7,E=0)}function se(L){k.push(L)}function ne(L){se(L>>8&255),se(255&L)}function J(L,z,G,Y,Z){for(var de,xe=Z[0],we=Z[240],je=function(st,pt){var _t,bt,Dt,Ut,Wt,Pt,Mt,Ht,It,Tt,vt=0;for(It=0;It<8;++It){_t=st[vt],bt=st[vt+1],Dt=st[vt+2],Ut=st[vt+3],Wt=st[vt+4],Pt=st[vt+5],Mt=st[vt+6];var Dr=_t+(Ht=st[vt+7]),qt=_t-Ht,_n=bt+Mt,gr=bt-Mt,Wr=Dt+Pt,ga=Dt-Pt,wr=Ut+Wt,As=Ut-Wt,on=Dr+wr,Un=Dr-wr,na=_n+Wr,Yr=_n-Wr;st[vt]=on+na,st[vt+4]=on-na;var $t=.707106781*(Yr+Un);st[vt+2]=Un+$t,st[vt+6]=Un-$t;var Sr=.382683433*((on=As+ga)-(Yr=gr+qt)),Ga=.5411961*on+Sr,Nn=1.306562965*Yr+Sr,aa=.707106781*(na=ga+gr),ls=qt+aa,Rt=qt-aa;st[vt+5]=Rt+Ga,st[vt+3]=Rt-Ga,st[vt+1]=ls+Nn,st[vt+7]=ls-Nn,vt+=8}for(vt=0,It=0;It<8;++It){_t=st[vt],bt=st[vt+8],Dt=st[vt+16],Ut=st[vt+24],Wt=st[vt+32],Pt=st[vt+40],Mt=st[vt+48];var Xr=_t+(Ht=st[vt+56]),Mr=_t-Ht,fn=bt+Mt,kn=bt-Mt,Sn=Dt+Pt,ie=Dt-Pt,Ae=Ut+Wt,ye=Ut-Wt,ve=Xr+Ae,ke=Xr-Ae,Ee=fn+Sn,ze=fn-Sn;st[vt]=ve+Ee,st[vt+32]=ve-Ee;var Ze=.707106781*(ze+ke);st[vt+16]=ke+Ze,st[vt+48]=ke-Ze;var Fe=.382683433*((ve=ye+ie)-(ze=kn+Mr)),Ge=.5411961*ve+Fe,Xe=1.306562965*ze+Fe,ft=.707106781*(Ee=ie+kn),kt=Mr+ft,Ct=Mr-ft;st[vt+40]=Ct+Ge,st[vt+24]=Ct-Ge,st[vt+8]=kt+Xe,st[vt+56]=kt-Xe,vt++}for(It=0;It<64;++It)Tt=st[It]*pt[It],b[It]=Tt>0?Tt+.5|0:Tt-.5|0;return b}(L,z),tt=0;tt<64;++tt)A[P[tt]]=je[tt];var ee=A[0]-G;G=A[0],ee==0?le(Y[0]):(le(Y[v[de=32767+ee]]),le(y[de]));for(var Te=63;Te>0&&A[Te]==0;)Te--;if(Te==0)return le(xe),G;for(var Qe,Le=1;Le<=Te;){for(var pe=Le;A[Le]==0&&Le<=Te;)++Le;var Ke=Le-pe;if(Ke>=16){Qe=Ke>>4;for(var xt=1;xt<=Qe;++xt)le(we);Ke&=15}de=32767+A[Le],le(Z[(Ke<<4)+v[de]]),le(y[de]),Le++}return Te!=63&&le(xe),G}function Ne(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(z){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var Z=o((G[Y]*z+50)/100);Z=Math.min(Math.max(Z,1),255),c[P[Y]]=Z}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var we=o((de[xe]*z+50)/100);we=Math.min(Math.max(we,1),255),h[P[xe]]=we}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tt=0,ee=0;ee<8;ee++)for(var Te=0;Te<8;Te++)d[tt]=1/(c[P[tt]]*je[ee]*je[Te]*8),p[tt]=1/(h[P[tt]]*je[ee]*je[Te]*8),tt++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,z){z&&Ne(z),k=new Array,E=0,S=7,ne(65496),ne(65504),ne(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),ne(1),ne(1),se(0),se(0),function(){ne(65499),ne(132),se(0);for(var bt=0;bt<64;bt++)se(c[bt]);se(1);for(var Dt=0;Dt<64;Dt++)se(h[Dt])}(),function(bt,Dt){ne(65472),ne(17),se(8),ne(Dt),ne(bt),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)}(L.width,L.height),function(){ne(65476),ne(418),se(0);for(var bt=0;bt<16;bt++)se(D[bt+1]);for(var Dt=0;Dt<=11;Dt++)se(I[Dt]);se(16);for(var Ut=0;Ut<16;Ut++)se(U[Ut+1]);for(var Wt=0;Wt<=161;Wt++)se(R[Wt]);se(1);for(var Pt=0;Pt<16;Pt++)se(C[Pt+1]);for(var Mt=0;Mt<=11;Mt++)se(B[Mt]);se(17);for(var Ht=0;Ht<16;Ht++)se(W[Ht+1]);for(var It=0;It<=161;It++)se(ue[It])}(),ne(65498),ne(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var G=0,Y=0,Z=0;E=0,S=7,this.encode.displayName="_encode_";for(var de,xe,we,je,tt,ee,Te,Qe,Le,pe=L.data,Ke=L.width,xt=L.height,st=4*Ke,pt=0;pt<xt;){for(de=0;de<st;){for(tt=st*pt+de,Te=-1,Qe=0,Le=0;Le<64;Le++)ee=tt+(Qe=Le>>3)*st+(Te=4*(7&Le)),pt+Qe>=xt&&(ee-=st*(pt+1+Qe-xt)),de+Te>=st&&(ee-=de+Te-st+4),xe=pe[ee++],we=pe[ee++],je=pe[ee++],j[Le]=(X[xe]+X[we+256>>0]+X[je+512>>0]>>16)-128,M[Le]=(X[xe+768>>0]+X[we+1024>>0]+X[je+1280>>0]>>16)-128,H[Le]=(X[xe+1280>>0]+X[we+1536>>0]+X[je+1792>>0]>>16)-128;G=J(j,d,G,e,n),Y=J(M,p,Y,r,a),Z=J(H,p,Z,r,a),de+=32}pt+=8}if(S>=0){var _t=[];_t[1]=S+1,_t[0]=(1<<S+1)-1,le(_t)}return ne(65497),new Uint8Array(k)},t=t||50,function(){for(var L=String.fromCharCode,z=0;z<256;z++)K[z]=L(z)}(),e=ae(D,I),r=ae(C,B),n=ae(U,R),a=ae(W,ue),function(){for(var L=1,z=2,G=1;G<=15;G++){for(var Y=L;Y<z;Y++)v[32767+Y]=G,y[32767+Y]=[],y[32767+Y][1]=G,y[32767+Y][0]=Y;for(var Z=-(z-1);Z<=-L;Z++)v[32767+Z]=G,y[32767+Z]=[],y[32767+Z][1]=G,y[32767+Z][0]=z-1+Z;L<<=1,z<<=1}}(),function(){for(var L=0;L<256;L++)X[L]=19595*L,X[L+256>>0]=38470*L,X[L+512>>0]=7471*L+32768,X[L+768>>0]=-11059*L,X[L+1024>>0]=-21709*L,X[L+1280>>0]=32768*L+8421375,X[L+1536>>0]=-27439*L,X[L+1792>>0]=-5329*L}(),Ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function g3(t){function e(D){if(!D)throw Error("assert :P")}function r(D,I,U){for(var R=0;4>R;R++)if(D[I+R]!=U.charCodeAt(R))return!0;return!1}function n(D,I,U,R,C){for(var B=0;B<C;B++)D[I+B]=U[R+B]}function a(D,I,U,R){for(var C=0;C<R;C++)D[I+C]=U}function s(D){return new Int32Array(D)}function o(D,I){for(var U=[],R=0;R<D;R++)U.push(new I);return U}function c(D,I){var U=[];return function R(C,B,W){for(var ue=W[B],ae=0;ae<ue&&(C.push(W.length>B+1?[]:new I),!(W.length<B+1));ae++)R(C[ae],B+1,W)}(U,0,D),U}var h=function(){var D=this;function I(g,_){for(var O=1<<_-1>>>0;g&O;)O>>>=1;return O?(g&O-1)+O:g}function U(g,_,O,V,te){e(!(V%O));do g[_+(V-=O)]=te;while(0<V)}function R(g,_,O,V,te){if(e(2328>=te),512>=te)var oe=s(512);else if((oe=s(te))==null)return 0;return function(ce,fe,ge,_e,Ie,$e){var qe,Ue,ct=fe,rt=1<<ge,De=s(16),Pe=s(16);for(e(Ie!=0),e(_e!=null),e(ce!=null),e(0<ge),Ue=0;Ue<Ie;++Ue){if(15<_e[Ue])return 0;++De[_e[Ue]]}if(De[0]==Ie)return 0;for(Pe[1]=0,qe=1;15>qe;++qe){if(De[qe]>1<<qe)return 0;Pe[qe+1]=Pe[qe]+De[qe]}for(Ue=0;Ue<Ie;++Ue)qe=_e[Ue],0<_e[Ue]&&($e[Pe[qe]++]=Ue);if(Pe[15]==1)return(_e=new C).g=0,_e.value=$e[0],U(ce,ct,1,rt,_e),rt;var at,ut=-1,ot=rt-1,jt=0,Et=1,Gt=1,St=1<<ge;for(Ue=0,qe=1,Ie=2;qe<=ge;++qe,Ie<<=1){if(Et+=Gt<<=1,0>(Gt-=De[qe]))return 0;for(;0<De[qe];--De[qe])(_e=new C).g=qe,_e.value=$e[Ue++],U(ce,ct+jt,Ie,St,_e),jt=I(jt,qe)}for(qe=ge+1,Ie=2;15>=qe;++qe,Ie<<=1){if(Et+=Gt<<=1,0>(Gt-=De[qe]))return 0;for(;0<De[qe];--De[qe]){if(_e=new C,(jt&ot)!=ut){for(ct+=St,at=1<<(ut=qe)-ge;15>ut&&!(0>=(at-=De[ut]));)++ut,at<<=1;rt+=St=1<<(at=ut-ge),ce[fe+(ut=jt&ot)].g=at+ge,ce[fe+ut].value=ct-fe-ut}_e.g=qe-ge,_e.value=$e[Ue++],U(ce,ct+(jt>>ge),Ie,St,_e),jt=I(jt,qe)}}return Et!=2*Pe[15]-1?0:rt}(g,_,O,V,te,oe)}function C(){this.value=this.g=0}function B(){this.value=this.g=0}function W(){this.G=o(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(sa,B)}function ue(g,_,O,V){e(g!=null),e(_!=null),e(2147483648>V),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=O,g.Jd=_,g.Yc=O+V,g.Zc=4<=V?O+V-4+1:O,de(g)}function ae(g,_){for(var O=0;0<_--;)O|=we(g,128)<<_;return O}function le(g,_){var O=ae(g,_);return xe(g)?-O:O}function se(g,_,O,V){var te,oe=0;for(e(g!=null),e(_!=null),e(4294967288>V),g.Sb=V,g.Ra=0,g.u=0,g.h=0,4<V&&(V=4),te=0;te<V;++te)oe+=_[O+te]<<8*te;g.Ra=oe,g.bb=V,g.oa=_,g.pa=O}function ne(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<_c-8>>>0,++g.bb,g.u-=8;G(g)&&(g.h=1,g.u=0)}function J(g,_){if(e(0<=_),!g.h&&_<=wc){var O=z(g)&Sl[_];return g.u+=_,ne(g),O}return g.h=1,g.u=0}function Ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(g){return g.Ra>>>(g.u&_c-1)>>>0}function G(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>_c}function Y(g,_){g.u=_,g.h=G(g)}function Z(g){g.u>=vu&&(e(g.u>=vu),ne(g))}function de(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function xe(g){return ae(g,1)}function we(g,_){var O=g.Ca;0>g.b&&de(g);var V=g.b,te=O*_>>>8,oe=(g.I>>>V>te)+0;for(oe?(O-=te,g.I-=te+1<<V>>>0):O=te+1,V=O,te=0;256<=V;)te+=8,V>>=8;return V=7^te+Rs[V],g.b-=V,g.Ca=(O<<V)-1,oe}function je(g,_,O){g[_+0]=O>>24&255,g[_+1]=O>>16&255,g[_+2]=O>>8&255,g[_+3]=O>>0&255}function tt(g,_){return g[_+0]<<0|g[_+1]<<8}function ee(g,_){return tt(g,_)|g[_+2]<<16}function Te(g,_){return tt(g,_)|tt(g,_+2)<<16}function Qe(g,_){var O=1<<_;return e(g!=null),e(0<_),g.X=s(O),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function Le(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),n(_.X,0,g.X,0,1<<_.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function Ke(g,_,O,V){e(O!=null),e(V!=null);var te=O[0],oe=V[0];return te==0&&(te=(g*oe+_/2)/_),oe==0&&(oe=(_*te+g/2)/g),0>=te||0>=oe?0:(O[0]=te,V[0]=oe,1)}function xt(g,_){return g+(1<<_)-1>>>_}function st(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function pt(g,_){D[_]=function(O,V,te,oe,ce,fe,ge){var _e;for(_e=0;_e<ce;++_e){var Ie=D[g](fe[ge+_e-1],te,oe+_e);fe[ge+_e]=st(O[V+_e],Ie)}}}function _t(){this.ud=this.hd=this.jd=0}function bt(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function Dt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ut(g,_){return Dt(g+(g-_+.5>>1))}function Wt(g,_,O){return Math.abs(_-O)-Math.abs(g-O)}function Pt(g,_,O,V,te,oe,ce){for(V=oe[ce-1],O=0;O<te;++O)oe[ce+O]=V=st(g[_+O],V)}function Mt(g,_,O,V,te){var oe;for(oe=0;oe<O;++oe){var ce=g[_+oe],fe=ce>>8&255,ge=16711935&(ge=(ge=16711935&ce)+((fe<<16)+fe));V[te+oe]=(4278255360&ce)+ge>>>0}}function Ht(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function It(g,_,O,V,te,oe){var ce;for(ce=0;ce<V;++ce){var fe=_[O+ce],ge=fe>>>8,_e=fe,Ie=255&(Ie=(Ie=fe>>>16)+((g.jd<<24>>24)*(ge<<24>>24)>>>5));_e=255&(_e=(_e=_e+((g.hd<<24>>24)*(ge<<24>>24)>>>5))+((g.ud<<24>>24)*(Ie<<24>>24)>>>5)),te[oe+ce]=(4278255360&fe)+(Ie<<16)+_e}}function Tt(g,_,O,V,te){D[_]=function(oe,ce,fe,ge,_e,Ie,$e,qe,Ue){for(ge=$e;ge<qe;++ge)for($e=0;$e<Ue;++$e)_e[Ie++]=te(fe[V(oe[ce++])])},D[g]=function(oe,ce,fe,ge,_e,Ie,$e){var qe=8>>oe.b,Ue=oe.Ea,ct=oe.K[0],rt=oe.w;if(8>qe)for(oe=(1<<oe.b)-1,rt=(1<<qe)-1;ce<fe;++ce){var De,Pe=0;for(De=0;De<Ue;++De)De&oe||(Pe=V(ge[_e++])),Ie[$e++]=te(ct[Pe&rt]),Pe>>=qe}else D["VP8LMapColor"+O](ge,_e,ct,rt,Ie,$e,ce,fe,Ue)}}function vt(g,_,O,V,te){for(O=_+O;_<O;){var oe=g[_++];V[te++]=oe>>16&255,V[te++]=oe>>8&255,V[te++]=oe>>0&255}}function Dr(g,_,O,V,te){for(O=_+O;_<O;){var oe=g[_++];V[te++]=oe>>16&255,V[te++]=oe>>8&255,V[te++]=oe>>0&255,V[te++]=oe>>24&255}}function qt(g,_,O,V,te){for(O=_+O;_<O;){var oe=(ce=g[_++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;V[te++]=oe,V[te++]=ce}}function _n(g,_,O,V,te){for(O=_+O;_<O;){var oe=(ce=g[_++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;V[te++]=oe,V[te++]=ce}}function gr(g,_,O,V,te){for(O=_+O;_<O;){var oe=g[_++];V[te++]=oe>>0&255,V[te++]=oe>>8&255,V[te++]=oe>>16&255}}function Wr(g,_,O,V,te,oe){if(oe==0)for(O=_+O;_<O;)je(V,((oe=g[_++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),te+=32;else n(V,te,g,_,O)}function ga(g,_){D[_][0]=D[g+"0"],D[_][1]=D[g+"1"],D[_][2]=D[g+"2"],D[_][3]=D[g+"3"],D[_][4]=D[g+"4"],D[_][5]=D[g+"5"],D[_][6]=D[g+"6"],D[_][7]=D[g+"7"],D[_][8]=D[g+"8"],D[_][9]=D[g+"9"],D[_][10]=D[g+"10"],D[_][11]=D[g+"11"],D[_][12]=D[g+"12"],D[_][13]=D[g+"13"],D[_][14]=D[g+"0"],D[_][15]=D[g+"0"]}function wr(g){return g==I0||g==Ml||g==Ho||g==ku}function As(){this.eb=[],this.size=this.A=this.fb=0}function on(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Un(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new As,this.f.kb=new on,this.sd=null}function na(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $t(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Sr(g,_){var O=g.T,V=_.ba.f.RGBA,te=V.eb,oe=V.fb+g.ka*V.A,ce=wa[_.ba.S],fe=g.y,ge=g.O,_e=g.f,Ie=g.N,$e=g.ea,qe=g.W,Ue=_.cc,ct=_.dc,rt=_.Mc,De=_.Nc,Pe=g.ka,at=g.ka+g.T,ut=g.U,ot=ut+1>>1;for(Pe==0?ce(fe,ge,null,null,_e,Ie,$e,qe,_e,Ie,$e,qe,te,oe,null,null,ut):(ce(_.ec,_.fc,fe,ge,Ue,ct,rt,De,_e,Ie,$e,qe,te,oe-V.A,te,oe,ut),++O);Pe+2<at;Pe+=2)Ue=_e,ct=Ie,rt=$e,De=qe,Ie+=g.Rc,qe+=g.Rc,oe+=2*V.A,ce(fe,(ge+=2*g.fa)-g.fa,fe,ge,Ue,ct,rt,De,_e,Ie,$e,qe,te,oe-V.A,te,oe,ut);return ge+=g.fa,g.j+at<g.o?(n(_.ec,_.fc,fe,ge,ut),n(_.cc,_.dc,_e,Ie,ot),n(_.Mc,_.Nc,$e,qe,ot),O--):1&at||ce(fe,ge,null,null,_e,Ie,$e,qe,_e,Ie,$e,qe,te,oe+V.A,null,null,ut),O}function Ga(g,_,O){var V=g.F,te=[g.J];if(V!=null){var oe=g.U,ce=_.ba.S,fe=ce==Sc||ce==Ho;_=_.ba.f.RGBA;var ge=[0],_e=g.ka;ge[0]=g.T,g.Kb&&(_e==0?--ge[0]:(--_e,te[0]-=g.width),g.j+g.ka+g.T==g.o&&(ge[0]=g.o-g.j-_e));var Ie=_.eb;_e=_.fb+_e*_.A,g=Er(V,te[0],g.width,oe,ge,Ie,_e+(fe?0:3),_.A),e(O==ge),g&&wr(ce)&&ti(Ie,_e,fe,oe,ge,_.A)}return 0}function Nn(g){var _=g.ma,O=_.ba.S,V=11>O,te=O==_u||O==R0||O==Sc||O==qo||O==12||wr(O);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Nl(_.Oa,g,te?11:12))return 0;if(te&&wr(O)&&gt(),g.da)alert("todo:use_scaling");else{if(V){if(_.Ib=$t,g.Kb){if(O=g.U+1>>1,_.memory=s(g.U+2*O),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+O,_.Ib=Sr,gt()}}else alert("todo:EmitYUV");te&&(_.Jb=Ga,V&&Be())}if(V&&!yp){for(g=0;256>g;++g)kx[g]=89858*(g-128)+oa>>bo,L0[g]=-22014*(g-128)+oa,ad[g]=-45773*(g-128),la[g]=113618*(g-128)+oa>>bo;for(g=Ul;g<Mf;++g)_=76283*(g-16)+oa>>bo,O0[g-Ul]=en(_,255),sd[g-Ul]=en(_+8>>4,15);yp=1}return 1}function aa(g){var _=g.ma,O=g.U,V=g.T;return e(!(1&g.ka)),0>=O||0>=V?0:(O=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,O),_.Dc+=O,1)}function ls(g){g.ma.memory=null}function Rt(g,_,O,V){return J(g,8)!=47?0:(_[0]=J(g,14)+1,O[0]=J(g,14)+1,V[0]=J(g,1),J(g,3)!=0?0:!g.h)}function Xr(g,_){if(4>g)return g+1;var O=g-2>>1;return(2+(1&g)<<O)+J(_,O)+1}function Mr(g,_){return 120<_?_-120:1<=(O=((O=$o[_-1])>>4)*g+(8-(15&O)))?O:1;var O}function fn(g,_,O){var V=z(O),te=g[_+=255&V].g-8;return 0<te&&(Y(O,O.u+8),V=z(O),_+=g[_].value,_+=V&(1<<te)-1),Y(O,O.u+g[_].g),g[_].value}function kn(g,_,O){return O.g+=g.g,O.value+=g.value<<_>>>0,e(8>=O.g),g.g}function Sn(g,_,O){var V=g.xc;return e((_=V==0?0:g.vc[g.md*(O>>V)+(_>>V)])<g.Wb),g.Ya[_]}function ie(g,_,O,V){var te=g.ab,oe=g.c*_,ce=g.C;_=ce+_;var fe=O,ge=V;for(V=g.Ta,O=g.Ua;0<te--;){var _e=g.gc[te],Ie=ce,$e=_,qe=fe,Ue=ge,ct=(ge=V,fe=O,_e.Ea);switch(e(Ie<$e),e($e<=_e.nc),_e.hc){case 2:Rf(qe,Ue,($e-Ie)*ct,ge,fe);break;case 0:var rt=Ie,De=$e,Pe=ge,at=fe,ut=(St=_e).Ea;rt==0&&(rd(qe,Ue,null,null,1,Pe,at),Pt(qe,Ue+1,0,0,ut-1,Pe,at+1),Ue+=ut,at+=ut,++rt);for(var ot=1<<St.b,jt=ot-1,Et=xt(ut,St.b),Gt=St.K,St=St.w+(rt>>St.b)*Et;rt<De;){var zr=Gt,tn=St,br=1;for(T0(qe,Ue,Pe,at-ut,1,Pe,at);br<ut;){var yr=(br&~jt)+ot;yr>ut&&(yr=ut),(0,Uo[zr[tn++]>>8&15])(qe,Ue+ +br,Pe,at+br-ut,yr-br,Pe,at+br),br=yr}Ue+=ut,at+=ut,++rt&jt||(St+=Et)}$e!=_e.nc&&n(ge,fe-ct,ge,fe+($e-Ie-1)*ct,ct);break;case 1:for(ct=qe,De=Ue,ut=(qe=_e.Ea)-(at=qe&~(Pe=(Ue=1<<_e.b)-1)),rt=xt(qe,_e.b),ot=_e.K,_e=_e.w+(Ie>>_e.b)*rt;Ie<$e;){for(jt=ot,Et=_e,Gt=new _t,St=De+at,zr=De+qe;De<St;)Ht(jt[Et++],Gt),Cl(Gt,ct,De,Ue,ge,fe),De+=Ue,fe+=Ue;De<zr&&(Ht(jt[Et++],Gt),Cl(Gt,ct,De,ut,ge,fe),De+=ut,fe+=ut),++Ie&Pe||(_e+=rt)}break;case 3:if(qe==ge&&Ue==fe&&0<_e.b){for(De=ge,qe=ct=fe+($e-Ie)*ct-(at=($e-Ie)*xt(_e.Ea,_e.b)),Ue=ge,Pe=fe,rt=[],at=(ut=at)-1;0<=at;--at)rt[at]=Ue[Pe+at];for(at=ut-1;0<=at;--at)De[qe+at]=rt[at];bi(_e,Ie,$e,ge,ct,ge,fe)}else bi(_e,Ie,$e,qe,Ue,ge,fe)}fe=V,ge=O}ge!=O&&n(V,O,fe,ge,oe)}function Ae(g,_){var O=g.V,V=g.Ba+g.c*g.C,te=_-g.C;if(e(_<=g.l.o),e(16>=te),0<te){var oe=g.l,ce=g.Ta,fe=g.Ua,ge=oe.width;if(ie(g,te,O,V),te=fe=[fe],e((O=g.C)<(V=_)),e(oe.v<oe.va),V>oe.o&&(V=oe.o),O<oe.j){var _e=oe.j-O;O=oe.j,te[0]+=_e*ge}if(O>=V?O=0:(te[0]+=4*oe.v,oe.ka=O-oe.j,oe.U=oe.va-oe.v,oe.T=V-O,O=1),O){if(fe=fe[0],11>(O=g.ca).S){var Ie=O.f.RGBA,$e=(V=O.S,te=oe.U,oe=oe.T,_e=Ie.eb,Ie.A),qe=oe;for(Ie=Ie.fb+g.Ma*Ie.A;0<qe--;){var Ue=ce,ct=fe,rt=te,De=_e,Pe=Ie;switch(V){case Qa:fs(Ue,ct,rt,De,Pe);break;case _u:Oa(Ue,ct,rt,De,Pe);break;case I0:Oa(Ue,ct,rt,De,Pe),ti(De,Pe,0,rt,1,0);break;case go:Bi(Ue,ct,rt,De,Pe);break;case R0:Wr(Ue,ct,rt,De,Pe,1);break;case Ml:Wr(Ue,ct,rt,De,Pe,1),ti(De,Pe,0,rt,1,0);break;case Sc:Wr(Ue,ct,rt,De,Pe,0);break;case Ho:Wr(Ue,ct,rt,De,Pe,0),ti(De,Pe,1,rt,1,0);break;case qo:Rl(Ue,ct,rt,De,Pe);break;case ku:Rl(Ue,ct,rt,De,Pe),Ar(De,Pe,rt,1,0);break;case Df:Is(Ue,ct,rt,De,Pe);break;default:e(0)}fe+=ge,Ie+=$e}g.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=O.height)}}g.C=_,e(g.C<=g.i)}function ye(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var O=g.Ya[_].G,V=g.Ya[_].H;if(0<O[1][V[1]+0].g||0<O[2][V[2]+0].g||0<O[3][V[3]+0].g)return 0}return 1}function ve(g,_,O,V,te,oe){if(g.Z!=0){var ce=g.qd,fe=g.rd;for(e(yo[g.Z]!=null);_<O;++_)yo[g.Z](ce,fe,V,te,V,te,oe),ce=V,fe=te,te+=oe;g.qd=ce,g.rd=fe}}function ke(g,_){var O=g.l.ma,V=O.Z==0||O.Z==1?g.l.j:g.C;if(V=g.C<V?V:g.C,e(_<=g.l.o),_>V){var te=g.l.width,oe=O.ca,ce=O.tb+te*V,fe=g.V,ge=g.Ba+g.c*V,_e=g.gc;e(g.ab==1),e(_e[0].hc==3),Tl(_e[0],V,_,fe,ge,oe,ce),ve(O,V,_,oe,ce,te)}g.C=g.Ma=_}function Ee(g,_,O,V,te,oe,ce){var fe=g.$/V,ge=g.$%V,_e=g.m,Ie=g.s,$e=O+g.$,qe=$e;te=O+V*te;var Ue=O+V*oe,ct=280+Ie.ua,rt=g.Pb?fe:16777216,De=0<Ie.ua?Ie.Wa:null,Pe=Ie.wc,at=$e<Ue?Sn(Ie,ge,fe):null;e(g.C<oe),e(Ue<=te);var ut=!1;e:for(;;){for(;ut||$e<Ue;){var ot=0;if(fe>=rt){var jt=$e-O;e((rt=g).Pb),rt.wd=rt.m,rt.xd=jt,0<rt.s.ua&&Le(rt.s.Wa,rt.s.vb),rt=fe+pp}if(ge&Pe||(at=Sn(Ie,ge,fe)),e(at!=null),at.Qb&&(_[$e]=at.qb,ut=!0),!ut)if(Z(_e),at.jc){ot=_e,jt=_;var Et=$e,Gt=at.pd[z(ot)&sa-1];e(at.jc),256>Gt.g?(Y(ot,ot.u+Gt.g),jt[Et]=Gt.value,ot=0):(Y(ot,ot.u+Gt.g-256),e(256<=Gt.value),ot=Gt.value),ot==0&&(ut=!0)}else ot=fn(at.G[0],at.H[0],_e);if(_e.h)break;if(ut||256>ot){if(!ut)if(at.nd)_[$e]=(at.qb|ot<<8)>>>0;else{if(Z(_e),ut=fn(at.G[1],at.H[1],_e),Z(_e),jt=fn(at.G[2],at.H[2],_e),Et=fn(at.G[3],at.H[3],_e),_e.h)break;_[$e]=(Et<<24|ut<<16|ot<<8|jt)>>>0}if(ut=!1,++$e,++ge>=V&&(ge=0,++fe,ce!=null&&fe<=oe&&!(fe%16)&&ce(g,fe),De!=null))for(;qe<$e;)ot=_[qe++],De.X[(506832829*ot&4294967295)>>>De.Mb]=ot}else if(280>ot){if(ot=Xr(ot-256,_e),jt=fn(at.G[4],at.H[4],_e),Z(_e),jt=Mr(V,jt=Xr(jt,_e)),_e.h)break;if($e-O<jt||te-$e<ot)break e;for(Et=0;Et<ot;++Et)_[$e+Et]=_[$e+Et-jt];for($e+=ot,ge+=ot;ge>=V;)ge-=V,++fe,ce!=null&&fe<=oe&&!(fe%16)&&ce(g,fe);if(e($e<=te),ge&Pe&&(at=Sn(Ie,ge,fe)),De!=null)for(;qe<$e;)ot=_[qe++],De.X[(506832829*ot&4294967295)>>>De.Mb]=ot}else{if(!(ot<ct))break e;for(ut=ot-280,e(De!=null);qe<$e;)ot=_[qe++],De.X[(506832829*ot&4294967295)>>>De.Mb]=ot;ot=$e,e(!(ut>>>(jt=De).Xa)),_[ot]=jt.X[ut],ut=!0}ut||e(_e.h==G(_e))}if(g.Pb&&_e.h&&$e<te)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Le(g.s.vb,g.s.Wa);else{if(_e.h)break e;ce!=null&&ce(g,fe>oe?oe:fe),g.a=0,g.$=$e-O}return 1}return g.a=3,0}function ze(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function Ze(){var g=new xu;return g==null?null:(g.a=0,g.xb=Au,ga("Predictor","VP8LPredictors"),ga("Predictor","VP8LPredictors_C"),ga("PredictorAdd","VP8LPredictorsAdd"),ga("PredictorAdd","VP8LPredictorsAdd_C"),Rf=Mt,Cl=It,fs=vt,Oa=Dr,Rl=qt,Is=_n,Bi=gr,D.VP8LMapColor32b=va,D.VP8LMapColor8b=C0,g)}function Fe(g,_,O,V,te){var oe=1,ce=[g],fe=[_],ge=V.m,_e=V.s,Ie=null,$e=0;e:for(;;){if(O)for(;oe&&J(ge,1);){var qe=ce,Ue=fe,ct=V,rt=1,De=ct.m,Pe=ct.gc[ct.ab],at=J(De,2);if(ct.Oc&1<<at)oe=0;else{switch(ct.Oc|=1<<at,Pe.hc=at,Pe.Ea=qe[0],Pe.nc=Ue[0],Pe.K=[null],++ct.ab,e(4>=ct.ab),at){case 0:case 1:Pe.b=J(De,3)+2,rt=Fe(xt(Pe.Ea,Pe.b),xt(Pe.nc,Pe.b),0,ct,Pe.K),Pe.K=Pe.K[0];break;case 3:var ut,ot=J(De,8)+1,jt=16<ot?0:4<ot?1:2<ot?2:3;if(qe[0]=xt(Pe.Ea,jt),Pe.b=jt,ut=rt=Fe(ot,1,0,ct,Pe.K)){var Et,Gt=ot,St=Pe,zr=1<<(8>>St.b),tn=s(zr);if(tn==null)ut=0;else{var br=St.K[0],yr=St.w;for(tn[0]=St.K[0][0],Et=1;Et<1*Gt;++Et)tn[Et]=st(br[yr+Et],tn[Et-1]);for(;Et<4*zr;++Et)tn[Et]=0;St.K[0]=null,St.K[0]=tn,ut=1}}rt=ut;break;case 2:break;default:e(0)}oe=rt}}if(ce=ce[0],fe=fe[0],oe&&J(ge,1)&&!(oe=1<=($e=J(ge,4))&&11>=$e)){V.a=3;break e}var cn;if(cn=oe)t:{var rn,ur,dn,Xt=V,nr=ce,Br=fe,qr=$e,_a=O,ca=Xt.m,qn=Xt.s,Hn=[null],Qn=1,Ai=0,nn=Cc[qr];r:for(;;){if(_a&&J(ca,1)){var Jn=J(ca,3)+2,zi=xt(nr,Jn),Vl=xt(Br,Jn),Dc=zi*Vl;if(!Fe(zi,Vl,0,Xt,Hn))break r;for(Hn=Hn[0],qn.xc=Jn,rn=0;rn<Dc;++rn){var zl=Hn[rn]>>8&65535;Hn[rn]=zl,zl>=Qn&&(Qn=zl+1)}}if(ca.h)break r;for(ur=0;5>ur;++ur){var Tn=ri[ur];!ur&&0<qr&&(Tn+=1<<qr),Ai<Tn&&(Ai=Tn)}var P0=o(Qn*nn,C),Ff=Qn,ds=o(Ff,W);if(ds==null)var In=null;else e(65536>=Ff),In=ds;var jc=s(Ai);if(In==null||jc==null||P0==null){Xt.a=1;break r}var ql=P0;for(rn=dn=0;rn<Qn;++rn){var js=In[rn],Hl=js.G,Ls=js.H,M0=0,Nu=1,Bf=0;for(ur=0;5>ur;++ur){Tn=ri[ur],Hl[ur]=ql,Ls[ur]=dn,!ur&&0<qr&&(Tn+=1<<qr);a:{var F0,Uf=Tn,B0=Xt,Su=jc,wp=ql,_p=dn,U0=0,Xo=B0.m,Ex=J(Xo,1);if(a(Su,0,0,Uf),Ex){var kp=J(Xo,1)+1,Ap=J(Xo,1),id=J(Xo,Ap==0?1:8);Su[id]=1,kp==2&&(Su[id=J(Xo,8)]=1);var Tu=1}else{var od=s(19),ld=J(Xo,4)+4;if(19<ld){B0.a=3;var V0=0;break a}for(F0=0;F0<ld;++F0)od[Go[F0]]=J(Xo,3);var Vf=void 0,Cu=void 0,Ep=B0,Np=od,Qo=Uf,z0=Su,zf=0,qi=Ep.m,Ru=8,cd=o(128,C);n:for(;R(cd,0,7,Np,19);){if(J(qi,1)){var Sp=2+2*J(qi,3);if((Vf=2+J(qi,Sp))>Qo)break n}else Vf=Qo;for(Cu=0;Cu<Qo&&Vf--;){Z(qi);var ud=cd[0+(127&z(qi))];Y(qi,qi.u+ud.g);var Lc=ud.value;if(16>Lc)z0[Cu++]=Lc,Lc!=0&&(Ru=Lc);else{var Tp=Lc==16,fd=Lc-16,hd=ki[fd],dd=J(qi,jf[fd])+hd;if(Cu+dd>Qo)break n;for(var Cp=Tp?Ru:0;0<dd--;)z0[Cu++]=Cp}}zf=1;break n}zf||(Ep.a=3),Tu=zf}(Tu=Tu&&!Xo.h)&&(U0=R(wp,_p,8,Su,Uf)),Tu&&U0!=0?V0=U0:(B0.a=3,V0=0)}if(V0==0)break r;if(Nu&&Tc[ur]==1&&(Nu=ql[dn].g==0),M0+=ql[dn].g,dn+=V0,3>=ur){var Oc,qf=jc[0];for(Oc=1;Oc<Tn;++Oc)jc[Oc]>qf&&(qf=jc[Oc]);Bf+=qf}}if(js.nd=Nu,js.Qb=0,Nu&&(js.qb=(Hl[3][Ls[3]+0].value<<24|Hl[1][Ls[1]+0].value<<16|Hl[2][Ls[2]+0].value)>>>0,M0==0&&256>Hl[0][Ls[0]+0].value&&(js.Qb=1,js.qb+=Hl[0][Ls[0]+0].value<<8)),js.jc=!js.Qb&&6>Bf,js.jc){var q0,Jo=js;for(q0=0;q0<sa;++q0){var wo=q0,Zo=Jo.pd[wo],H0=Jo.G[0][Jo.H[0]+wo];256<=H0.value?(Zo.g=H0.g+256,Zo.value=H0.value):(Zo.g=0,Zo.value=0,wo>>=kn(H0,8,Zo),wo>>=kn(Jo.G[1][Jo.H[1]+wo],16,Zo),wo>>=kn(Jo.G[2][Jo.H[2]+wo],0,Zo),kn(Jo.G[3][Jo.H[3]+wo],24,Zo))}}}qn.vc=Hn,qn.Wb=Qn,qn.Ya=In,qn.yc=P0,cn=1;break t}cn=0}if(!(oe=cn)){V.a=3;break e}if(0<$e){if(_e.ua=1<<$e,!Qe(_e.Wa,$e)){V.a=1,oe=0;break e}}else _e.ua=0;var G0=V,md=ce,Rp=fe,pd=G0.s,gd=pd.xc;if(G0.c=md,G0.i=Rp,pd.md=xt(md,gd),pd.wc=gd==0?-1:(1<<gd)-1,O){V.xb=xp;break e}if((Ie=s(ce*fe))==null){V.a=1,oe=0;break e}oe=(oe=Ee(V,Ie,0,ce,fe,fe,null))&&!ge.h;break e}return oe?(te!=null?te[0]=Ie:(e(Ie==null),e(O)),V.$=0,O||ze(_e)):ze(_e),oe}function Ge(g,_){var O=g.c*g.i,V=O+_+16*_;return e(g.c<=_),g.V=s(V),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+O+_,1)}function Xe(g,_){var O=g.C,V=_-O,te=g.V,oe=g.Ba+g.c*O;for(e(_<=g.l.o);0<V;){var ce=16<V?16:V,fe=g.l.ma,ge=g.l.width,_e=ge*ce,Ie=fe.ca,$e=fe.tb+ge*O,qe=g.Ta,Ue=g.Ua;ie(g,ce,te,oe),yn(qe,Ue,Ie,$e,_e),ve(fe,O,O+ce,Ie,$e,ge),V-=ce,te+=ce*g.c,O+=ce}e(O==_),g.C=g.Ma=_}function ft(){this.ub=this.yd=this.td=this.Rb=0}function kt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ct(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function wt(){this.Yb=function(){var g=[];return function _(O,V,te){for(var oe=te[V],ce=0;ce<oe&&(O.push(te.length>V+1?[]:0),!(te.length<V+1));ce++)_(O[ce],V+1,te)}(g,0,[3,11]),g}()}function At(){this.jb=s(3),this.Wc=c([4,8],wt),this.Xc=c([4,17],wt)}function Qt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function _r(){this.ld=this.La=this.dd=this.tc=0}function kr(){this.Na=this.la=0}function Tr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ra(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fi(){this.uc=this.M=this.Nb=0,this.wa=Array(new _r),this.Y=0,this.ya=Array(new Ra),this.aa=0,this.l=new cs}function xa(){this.y=s(16),this.f=s(8),this.ea=s(8)}function $a(){this.cb=this.a=0,this.sc="",this.m=new Ne,this.Od=new ft,this.Kc=new kt,this.ed=new Qt,this.Qa=new Ct,this.Ic=this.$c=this.Aa=0,this.D=new fi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ne),this.ia=0,this.pb=o(4,Tr),this.Pa=new At,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xa),this.Hd=0,this.rb=Array(new kr),this.sb=0,this.wa=Array(new _r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ra),this.L=this.aa=0,this.gd=c([4,2],_r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ia(){var g=new $a;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,ia||(ia=du)),g}function xn(g,_,O){return g.a==0&&(g.a=_,g.sc=O,g.cb=0),0}function ya(g,_,O){return 3<=O&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function vl(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return xn(g,2,"null VP8Io passed to VP8GetHeaders()");var O=_.data,V=_.w,te=_.ha;if(4>te)return xn(g,7,"Truncated header.");var oe=O[V+0]|O[V+1]<<8|O[V+2]<<16,ce=g.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return xn(g,3,"Incorrect keyframe parameters.");if(!ce.yd)return xn(g,4,"Frame not displayable.");V+=3,te-=3;var fe=g.Kc;if(ce.Rb){if(7>te)return xn(g,7,"cannot parse picture header");if(!ya(O,V,te))return xn(g,3,"Bad code word");fe.c=16383&(O[V+4]<<8|O[V+3]),fe.Td=O[V+4]>>6,fe.i=16383&(O[V+6]<<8|O[V+5]),fe.Ud=O[V+6]>>6,V+=7,te-=7,g.za=fe.c+15>>4,g.Ub=fe.i+15>>4,_.width=fe.c,_.height=fe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((oe=g.Pa).jb,0,255,oe.jb.length),e((oe=g.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(ce.ub>te)return xn(g,7,"bad partition length");ue(oe=g.m,O,V,ce.ub),V+=ce.ub,te-=ce.ub,ce.Rb&&(fe.Ld=xe(oe),fe.Kd=xe(oe)),fe=g.Qa;var ge,_e=g.Pa;if(e(oe!=null),e(fe!=null),fe.Cb=xe(oe),fe.Cb){if(fe.Bb=xe(oe),xe(oe)){for(fe.Fb=xe(oe),ge=0;4>ge;++ge)fe.Zb[ge]=xe(oe)?le(oe,7):0;for(ge=0;4>ge;++ge)fe.Lb[ge]=xe(oe)?le(oe,6):0}if(fe.Bb)for(ge=0;3>ge;++ge)_e.jb[ge]=xe(oe)?ae(oe,8):255}else fe.Bb=0;if(oe.Ka)return xn(g,3,"cannot parse segment header");if((fe=g.ed).zd=xe(oe),fe.Tb=ae(oe,6),fe.wb=ae(oe,3),fe.Pc=xe(oe),fe.Pc&&xe(oe)){for(_e=0;4>_e;++_e)xe(oe)&&(fe.vd[_e]=le(oe,6));for(_e=0;4>_e;++_e)xe(oe)&&(fe.od[_e]=le(oe,6))}if(g.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return xn(g,3,"cannot parse filter header");var Ie=te;if(te=ge=V,V=ge+Ie,fe=Ie,g.Xb=(1<<ae(g.m,2))-1,Ie<3*(_e=g.Xb))O=7;else{for(ge+=3*_e,fe-=3*_e,Ie=0;Ie<_e;++Ie){var $e=O[te+0]|O[te+1]<<8|O[te+2]<<16;$e>fe&&($e=fe),ue(g.Jc[+Ie],O,ge,$e),ge+=$e,fe-=$e,te+=3}ue(g.Jc[+_e],O,ge,fe),O=ge<V?0:5}if(O!=0)return xn(g,O,"cannot parse partitions");for(O=ae(ge=g.m,7),te=xe(ge)?le(ge,4):0,V=xe(ge)?le(ge,4):0,fe=xe(ge)?le(ge,4):0,_e=xe(ge)?le(ge,4):0,ge=xe(ge)?le(ge,4):0,Ie=g.Qa,$e=0;4>$e;++$e){if(Ie.Cb){var qe=Ie.Zb[$e];Ie.Fb||(qe+=O)}else{if(0<$e){g.pb[$e]=g.pb[0];continue}qe=O}var Ue=g.pb[$e];Ue.Sc[0]=D0[en(qe+te,127)],Ue.Sc[1]=j0[en(qe+0,127)],Ue.Eb[0]=2*D0[en(qe+V,127)],Ue.Eb[1]=101581*j0[en(qe+fe,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=D0[en(qe+_e,117)],Ue.Qc[1]=j0[en(qe+ge,127)],Ue.lc=qe+ge}if(!ce.Rb)return xn(g,4,"Not a key frame.");for(xe(oe),ce=g.Pa,O=0;4>O;++O){for(te=0;8>te;++te)for(V=0;3>V;++V)for(fe=0;11>fe;++fe)_e=we(oe,Rc[O][te][V][fe])?ae(oe,8):xo[O][te][V][fe],ce.Wc[O][te].Yb[V][fe]=_e;for(te=0;17>te;++te)ce.Xc[O][te]=ce.Wc[O][gp[te]]}return g.kc=xe(oe),g.kc&&(g.Bd=ae(oe,8)),g.cb=1}function du(g,_,O,V,te,oe,ce){var fe=_[te].Yb[O];for(O=0;16>te;++te){if(!we(g,fe[O+0]))return te;for(;!we(g,fe[O+1]);)if(fe=_[++te].Yb[0],O=0,te==16)return 16;var ge=_[te+1].Yb;if(we(g,fe[O+2])){var _e=g,Ie=0;if(we(_e,(qe=fe)[($e=O)+3]))if(we(_e,qe[$e+6])){for(fe=0,$e=2*(Ie=we(_e,qe[$e+8]))+(qe=we(_e,qe[$e+9+Ie])),Ie=0,qe=Pn[$e];qe[fe];++fe)Ie+=Ie+we(_e,qe[fe]);Ie+=3+(8<<$e)}else we(_e,qe[$e+7])?(Ie=7+2*we(_e,165),Ie+=we(_e,145)):Ie=5+we(_e,159);else Ie=we(_e,qe[$e+4])?3+we(_e,qe[$e+5]):2;fe=ge[2]}else Ie=1,fe=ge[1];ge=ce+Qr[te],0>(_e=g).b&&de(_e);var $e,qe=_e.b,Ue=($e=_e.Ca>>1)-(_e.I>>qe)>>31;--_e.b,_e.Ca+=Ue,_e.Ca|=1,_e.I-=($e+1&Ue)<<qe,oe[ge]=((Ie^Ue)-Ue)*V[(0<te)+0]}return 16}function to(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,a(g.zc,0,0,g.zc.length),g.ja=0}function mc(g,_){if(g==null)return 0;if(_==null)return xn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!vl(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var O=Yo[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-O>>4,g.zb=_.j-O>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+O>>4,g.Hb=_.va+15+O>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var V=g.ed;for(O=0;4>O;++O){var te;if(g.Qa.Cb){var oe=g.Qa.Lb[O];g.Qa.Fb||(oe+=V.Tb)}else oe=V.Tb;for(te=0;1>=te;++te){var ce=g.gd[O][te],fe=oe;if(V.Pc&&(fe+=V.vd[0],te&&(fe+=V.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var ge=fe;0<V.wb&&(ge=4<V.wb?ge>>2:ge>>1)>9-V.wb&&(ge=9-V.wb),1>ge&&(ge=1),ce.dd=ge,ce.tc=2*fe+ge,ce.ld=40<=fe?2:15<=fe?1:0}else ce.tc=0;ce.La=te}}}O=0}else xn(g,6,"Frame setup failed"),O=g.a;if(O=O==0){if(O){g.$c=0,0<g.Aa||(g.Ic=vp);e:{O=g.Ic,V=4*(ge=g.za);var _e=32*ge,Ie=ge+1,$e=0<g.L?ge*(0<g.Aa?2:1):0,qe=(g.Aa==2?2:1)*ge;if((ce=V+832+(te=3*(16*O+Yo[g.L])/2*_e)+(oe=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=ce)O=0;else{if(ce>g.Vb){if(g.Vb=0,g.Ec=s(ce),g.Fc=0,g.Ec==null){O=xn(g,1,"no memory during frame initialization.");break e}g.Vb=ce}ce=g.Ec,fe=g.Fc,g.Ac=ce,g.Bc=fe,fe+=V,g.Gd=o(_e,xa),g.Hd=0,g.rb=o(Ie+1,kr),g.sb=1,g.wa=$e?o($e,_r):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ge),e(!0),g.oc=ce,g.pc=fe,fe+=832,g.ya=o(qe,Ra),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ge),g.R=16*ge,g.B=8*ge,ge=(_e=Yo[g.L])*g.R,_e=_e/2*g.B,g.sa=ce,g.ta=fe+ge,g.qa=g.sa,g.ra=g.ta+16*O*g.R+_e,g.Ha=g.qa,g.Ia=g.ra+8*O*g.B+_e,g.$c=0,fe+=te,g.mb=oe?ce:null,g.nb=oe?fe:null,e(fe+oe<=g.Fc+g.Vb),to(g),a(g.Ac,g.Bc,0,V),O=1}}if(O){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!zo){for(O=-255;255>=O;++O)zn[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)wi[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)Ol[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)Pl[255+O]=0>O?0:255<O?255:O;zo=1}mo=Es,Ui=no,Vi=hi,Xn=Zr,Ds=ao,Ln=ro,kc=lo,po=Mi,bu=kl,Il=vc,Dl=_l,jl=Oo,Ac=Po,wu=co,Ll=ei,Vo=Ya,Ec=Yn,On=gu,hs[0]=Ka,hs[1]=mu,hs[2]=pi,hs[3]=pu,hs[4]=Ns,hs[5]=gi,hs[6]=us,hs[7]=Ss,hs[8]=Pi,hs[9]=so,Ko[0]=di,Ko[1]=gc,Ko[2]=ji,Ko[3]=wl,Ko[4]=hn,Ko[5]=Oi,Ko[6]=mi,ni[0]=xi,ni[1]=pc,ni[2]=xc,ni[3]=Ts,ni[4]=Cr,ni[5]=Wn,ni[6]=io,O=1}else O=0}O&&(O=function(Ue,ct){for(Ue.M=0;Ue.M<Ue.Va;++Ue.M){var rt,De=Ue.Jc[Ue.M&Ue.Xb],Pe=Ue.m,at=Ue;for(rt=0;rt<at.za;++rt){var ut=Pe,ot=at,jt=ot.Ac,Et=ot.Bc+4*rt,Gt=ot.zc,St=ot.ya[ot.aa+rt];if(ot.Qa.Bb?St.$b=we(ut,ot.Pa.jb[0])?2+we(ut,ot.Pa.jb[2]):we(ut,ot.Pa.jb[1]):St.$b=0,ot.kc&&(St.Ad=we(ut,ot.Bd)),St.Za=!we(ut,145)+0,St.Za){var zr=St.Ob,tn=0;for(ot=0;4>ot;++ot){var br,yr=Gt[0+ot];for(br=0;4>br;++br){yr=nd[jt[Et+br]][yr];for(var cn=Fl[we(ut,yr[0])];0<cn;)cn=Fl[2*cn+we(ut,yr[cn])];yr=-cn,jt[Et+br]=yr}n(zr,tn,jt,Et,4),tn+=4,Gt[0+ot]=yr}}else yr=we(ut,156)?we(ut,128)?1:3:we(ut,163)?2:0,St.Ob[0]=yr,a(jt,Et,yr,4),a(Gt,0,yr,4);St.Dd=we(ut,142)?we(ut,114)?we(ut,183)?1:3:2:0}if(at.m.Ka)return xn(Ue,7,"Premature end-of-partition0 encountered.");for(;Ue.ja<Ue.za;++Ue.ja){if(at=De,ut=(Pe=Ue).rb[Pe.sb-1],jt=Pe.rb[Pe.sb+Pe.ja],rt=Pe.ya[Pe.aa+Pe.ja],Et=Pe.kc?rt.Ad:0)ut.la=jt.la=0,rt.Za||(ut.Na=jt.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var rn,ur;if(ut=jt,jt=at,Et=Pe.Pa.Xc,Gt=Pe.ya[Pe.aa+Pe.ja],St=Pe.pb[Gt.$b],ot=Gt.ad,zr=0,tn=Pe.rb[Pe.sb-1],yr=br=0,a(ot,zr,0,384),Gt.Za)var dn=0,Xt=Et[3];else{cn=s(16);var nr=ut.Na+tn.Na;if(nr=ia(jt,Et[1],nr,St.Eb,0,cn,0),ut.Na=tn.Na=(0<nr)+0,1<nr)mo(cn,0,ot,zr);else{var Br=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)ot[zr+cn]=Br}dn=1,Xt=Et[0]}var qr=15&ut.la,_a=15&tn.la;for(cn=0;4>cn;++cn){var ca=1&_a;for(Br=ur=0;4>Br;++Br)qr=qr>>1|(ca=(nr=ia(jt,Xt,nr=ca+(1&qr),St.Sc,dn,ot,zr))>dn)<<7,ur=ur<<2|(3<nr?3:1<nr?2:ot[zr+0]!=0),zr+=16;qr>>=4,_a=_a>>1|ca<<7,br=(br<<8|ur)>>>0}for(Xt=qr,dn=_a>>4,rn=0;4>rn;rn+=2){for(ur=0,qr=ut.la>>4+rn,_a=tn.la>>4+rn,cn=0;2>cn;++cn){for(ca=1&_a,Br=0;2>Br;++Br)nr=ca+(1&qr),qr=qr>>1|(ca=0<(nr=ia(jt,Et[2],nr,St.Qc,0,ot,zr)))<<3,ur=ur<<2|(3<nr?3:1<nr?2:ot[zr+0]!=0),zr+=16;qr>>=2,_a=_a>>1|ca<<5}yr|=ur<<4*rn,Xt|=qr<<4<<rn,dn|=(240&_a)<<rn}ut.la=Xt,tn.la=dn,Gt.Hc=br,Gt.Gc=yr,Gt.ia=43690&yr?0:St.ia,Et=!(br|yr)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[rt.$b][rt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!Et),at.Ka)return xn(Ue,7,"Premature end-of-file encountered.")}if(to(Ue),Pe=ct,at=1,rt=(De=Ue).D,ut=0<De.L&&De.M>=De.zb&&De.M<=De.Va,De.Aa==0)e:{if(rt.M=De.M,rt.uc=ut,Cs(De,rt),at=1,rt=(ur=De.D).Nb,ut=(yr=Yo[De.L])*De.R,jt=yr/2*De.B,cn=16*rt*De.R,Br=8*rt*De.B,Et=De.sa,Gt=De.ta-ut+cn,St=De.qa,ot=De.ra-jt+Br,zr=De.Ha,tn=De.Ia-jt+Br,_a=(qr=ur.M)==0,br=qr>=De.Va-1,De.Aa==2&&Cs(De,ur),ur.uc)for(ca=(nr=De).D.M,e(nr.D.uc),ur=nr.yb;ur<nr.Hb;++ur){dn=ur,Xt=ca;var qn=(Hn=(Tn=nr).D).Nb;rn=Tn.R;var Hn=Hn.wa[Hn.Y+dn],Qn=Tn.sa,Ai=Tn.ta+16*qn*rn+16*dn,nn=Hn.dd,Jn=Hn.tc;if(Jn!=0)if(e(3<=Jn),Tn.L==1)0<dn&&Vo(Qn,Ai,rn,Jn+4),Hn.La&&On(Qn,Ai,rn,Jn),0<Xt&&Ll(Qn,Ai,rn,Jn+4),Hn.La&&Ec(Qn,Ai,rn,Jn);else{var zi=Tn.B,Vl=Tn.qa,Dc=Tn.ra+8*qn*zi+8*dn,zl=Tn.Ha,Tn=Tn.Ia+8*qn*zi+8*dn;qn=Hn.ld,0<dn&&(po(Qn,Ai,rn,Jn+4,nn,qn),Il(Vl,Dc,zl,Tn,zi,Jn+4,nn,qn)),Hn.La&&(jl(Qn,Ai,rn,Jn,nn,qn),wu(Vl,Dc,zl,Tn,zi,Jn,nn,qn)),0<Xt&&(kc(Qn,Ai,rn,Jn+4,nn,qn),bu(Vl,Dc,zl,Tn,zi,Jn+4,nn,qn)),Hn.La&&(Dl(Qn,Ai,rn,Jn,nn,qn),Ac(Vl,Dc,zl,Tn,zi,Jn,nn,qn))}}if(De.ia&&alert("todo:DitherRow"),Pe.put!=null){if(ur=16*qr,qr=16*(qr+1),_a?(Pe.y=De.sa,Pe.O=De.ta+cn,Pe.f=De.qa,Pe.N=De.ra+Br,Pe.ea=De.Ha,Pe.W=De.Ia+Br):(ur-=yr,Pe.y=Et,Pe.O=Gt,Pe.f=St,Pe.N=ot,Pe.ea=zr,Pe.W=tn),br||(qr-=yr),qr>Pe.o&&(qr=Pe.o),Pe.F=null,Pe.J=null,De.Fa!=null&&0<De.Fa.length&&ur<qr&&(Pe.J=El(De,Pe,ur,qr-ur),Pe.F=De.mb,Pe.F==null&&Pe.F.length==0)){at=xn(De,3,"Could not decode alpha data.");break e}ur<Pe.j&&(yr=Pe.j-ur,ur=Pe.j,e(!(1&yr)),Pe.O+=De.R*yr,Pe.N+=De.B*(yr>>1),Pe.W+=De.B*(yr>>1),Pe.F!=null&&(Pe.J+=Pe.width*yr)),ur<qr&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=ur-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=qr-ur,at=Pe.put(Pe))}rt+1!=De.Ic||br||(n(De.sa,De.ta-ut,Et,Gt+16*De.R,ut),n(De.qa,De.ra-jt,St,ot+8*De.B,jt),n(De.Ha,De.Ia-jt,zr,tn+8*De.B,jt))}if(!at)return xn(Ue,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),O&=1}return O?(g.cb=0,O):0}function Da(g,_,O,V,te){te=g[_+O+32*V]+(te>>3),g[_+O+32*V]=-256&te?0>te?0:255:te}function bl(g,_,O,V,te,oe){Da(g,_,0,O,V+te),Da(g,_,1,O,V+oe),Da(g,_,2,O,V-oe),Da(g,_,3,O,V-te)}function Fr(g){return(20091*g>>16)+g}function ja(g,_,O,V){var te,oe=0,ce=s(16);for(te=0;4>te;++te){var fe=g[_+0]+g[_+8],ge=g[_+0]-g[_+8],_e=(35468*g[_+4]>>16)-Fr(g[_+12]),Ie=Fr(g[_+4])+(35468*g[_+12]>>16);ce[oe+0]=fe+Ie,ce[oe+1]=ge+_e,ce[oe+2]=ge-_e,ce[oe+3]=fe-Ie,oe+=4,_++}for(te=oe=0;4>te;++te)fe=(g=ce[oe+0]+4)+ce[oe+8],ge=g-ce[oe+8],_e=(35468*ce[oe+4]>>16)-Fr(ce[oe+12]),Da(O,V,0,0,fe+(Ie=Fr(ce[oe+4])+(35468*ce[oe+12]>>16))),Da(O,V,1,0,ge+_e),Da(O,V,2,0,ge-_e),Da(O,V,3,0,fe-Ie),oe++,V+=32}function ro(g,_,O,V){var te=g[_+0]+4,oe=35468*g[_+4]>>16,ce=Fr(g[_+4]),fe=35468*g[_+1]>>16;bl(O,V,0,te+ce,g=Fr(g[_+1]),fe),bl(O,V,1,te+oe,g,fe),bl(O,V,2,te-oe,g,fe),bl(O,V,3,te-ce,g,fe)}function no(g,_,O,V,te){ja(g,_,O,V),te&&ja(g,_+16,O,V+4)}function hi(g,_,O,V){Ui(g,_+0,O,V,1),Ui(g,_+32,O,V+128,1)}function Zr(g,_,O,V){var te;for(g=g[_+0]+4,te=0;4>te;++te)for(_=0;4>_;++_)Da(O,V,_,te,g)}function ao(g,_,O,V){g[_+0]&&Xn(g,_+0,O,V),g[_+16]&&Xn(g,_+16,O,V+4),g[_+32]&&Xn(g,_+32,O,V+128),g[_+48]&&Xn(g,_+48,O,V+128+4)}function Es(g,_,O,V){var te,oe=s(16);for(te=0;4>te;++te){var ce=g[_+0+te]+g[_+12+te],fe=g[_+4+te]+g[_+8+te],ge=g[_+4+te]-g[_+8+te],_e=g[_+0+te]-g[_+12+te];oe[0+te]=ce+fe,oe[8+te]=ce-fe,oe[4+te]=_e+ge,oe[12+te]=_e-ge}for(te=0;4>te;++te)ce=(g=oe[0+4*te]+3)+oe[3+4*te],fe=oe[1+4*te]+oe[2+4*te],ge=oe[1+4*te]-oe[2+4*te],_e=g-oe[3+4*te],O[V+0]=ce+fe>>3,O[V+16]=_e+ge>>3,O[V+32]=ce-fe>>3,O[V+48]=_e-ge>>3,V+=64}function Di(g,_,O){var V,te=_-32,oe=ba,ce=255-g[te-1];for(V=0;V<O;++V){var fe,ge=oe,_e=ce+g[_-1];for(fe=0;fe<O;++fe)g[_+fe]=ge[_e+g[te+fe]];_+=32}}function mu(g,_){Di(g,_,4)}function pc(g,_){Di(g,_,8)}function gc(g,_){Di(g,_,16)}function ji(g,_){var O;for(O=0;16>O;++O)n(g,_+32*O,g,_-32,16)}function wl(g,_){var O;for(O=16;0<O;--O)a(g,_,g[_-1],16),_+=32}function Li(g,_,O){var V;for(V=0;16>V;++V)a(_,O+32*V,g,16)}function di(g,_){var O,V=16;for(O=0;16>O;++O)V+=g[_-1+32*O]+g[_+O-32];Li(V>>5,g,_)}function hn(g,_){var O,V=8;for(O=0;16>O;++O)V+=g[_-1+32*O];Li(V>>4,g,_)}function Oi(g,_){var O,V=8;for(O=0;16>O;++O)V+=g[_+O-32];Li(V>>4,g,_)}function mi(g,_){Li(128,g,_)}function Jt(g,_,O){return g+2*_+O+2>>2}function pi(g,_){var O,V=_-32;for(V=new Uint8Array([Jt(g[V-1],g[V+0],g[V+1]),Jt(g[V+0],g[V+1],g[V+2]),Jt(g[V+1],g[V+2],g[V+3]),Jt(g[V+2],g[V+3],g[V+4])]),O=0;4>O;++O)n(g,_+32*O,V,0,V.length)}function pu(g,_){var O=g[_-1],V=g[_-1+32],te=g[_-1+64],oe=g[_-1+96];je(g,_+0,16843009*Jt(g[_-1-32],O,V)),je(g,_+32,16843009*Jt(O,V,te)),je(g,_+64,16843009*Jt(V,te,oe)),je(g,_+96,16843009*Jt(te,oe,oe))}function Ka(g,_){var O,V=4;for(O=0;4>O;++O)V+=g[_+O-32]+g[_-1+32*O];for(V>>=3,O=0;4>O;++O)a(g,_+32*O,V,4)}function Ns(g,_){var O=g[_-1+0],V=g[_-1+32],te=g[_-1+64],oe=g[_-1-32],ce=g[_+0-32],fe=g[_+1-32],ge=g[_+2-32],_e=g[_+3-32];g[_+0+96]=Jt(V,te,g[_-1+96]),g[_+1+96]=g[_+0+64]=Jt(O,V,te),g[_+2+96]=g[_+1+64]=g[_+0+32]=Jt(oe,O,V),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=Jt(ce,oe,O),g[_+3+64]=g[_+2+32]=g[_+1+0]=Jt(fe,ce,oe),g[_+3+32]=g[_+2+0]=Jt(ge,fe,ce),g[_+3+0]=Jt(_e,ge,fe)}function us(g,_){var O=g[_+1-32],V=g[_+2-32],te=g[_+3-32],oe=g[_+4-32],ce=g[_+5-32],fe=g[_+6-32],ge=g[_+7-32];g[_+0+0]=Jt(g[_+0-32],O,V),g[_+1+0]=g[_+0+32]=Jt(O,V,te),g[_+2+0]=g[_+1+32]=g[_+0+64]=Jt(V,te,oe),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=Jt(te,oe,ce),g[_+3+32]=g[_+2+64]=g[_+1+96]=Jt(oe,ce,fe),g[_+3+64]=g[_+2+96]=Jt(ce,fe,ge),g[_+3+96]=Jt(fe,ge,ge)}function gi(g,_){var O=g[_-1+0],V=g[_-1+32],te=g[_-1+64],oe=g[_-1-32],ce=g[_+0-32],fe=g[_+1-32],ge=g[_+2-32],_e=g[_+3-32];g[_+0+0]=g[_+1+64]=oe+ce+1>>1,g[_+1+0]=g[_+2+64]=ce+fe+1>>1,g[_+2+0]=g[_+3+64]=fe+ge+1>>1,g[_+3+0]=ge+_e+1>>1,g[_+0+96]=Jt(te,V,O),g[_+0+64]=Jt(V,O,oe),g[_+0+32]=g[_+1+96]=Jt(O,oe,ce),g[_+1+32]=g[_+2+96]=Jt(oe,ce,fe),g[_+2+32]=g[_+3+96]=Jt(ce,fe,ge),g[_+3+32]=Jt(fe,ge,_e)}function Ss(g,_){var O=g[_+0-32],V=g[_+1-32],te=g[_+2-32],oe=g[_+3-32],ce=g[_+4-32],fe=g[_+5-32],ge=g[_+6-32],_e=g[_+7-32];g[_+0+0]=O+V+1>>1,g[_+1+0]=g[_+0+64]=V+te+1>>1,g[_+2+0]=g[_+1+64]=te+oe+1>>1,g[_+3+0]=g[_+2+64]=oe+ce+1>>1,g[_+0+32]=Jt(O,V,te),g[_+1+32]=g[_+0+96]=Jt(V,te,oe),g[_+2+32]=g[_+1+96]=Jt(te,oe,ce),g[_+3+32]=g[_+2+96]=Jt(oe,ce,fe),g[_+3+64]=Jt(ce,fe,ge),g[_+3+96]=Jt(fe,ge,_e)}function so(g,_){var O=g[_-1+0],V=g[_-1+32],te=g[_-1+64],oe=g[_-1+96];g[_+0+0]=O+V+1>>1,g[_+2+0]=g[_+0+32]=V+te+1>>1,g[_+2+32]=g[_+0+64]=te+oe+1>>1,g[_+1+0]=Jt(O,V,te),g[_+3+0]=g[_+1+32]=Jt(V,te,oe),g[_+3+32]=g[_+1+64]=Jt(te,oe,oe),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=oe}function Pi(g,_){var O=g[_-1+0],V=g[_-1+32],te=g[_-1+64],oe=g[_-1+96],ce=g[_-1-32],fe=g[_+0-32],ge=g[_+1-32],_e=g[_+2-32];g[_+0+0]=g[_+2+32]=O+ce+1>>1,g[_+0+32]=g[_+2+64]=V+O+1>>1,g[_+0+64]=g[_+2+96]=te+V+1>>1,g[_+0+96]=oe+te+1>>1,g[_+3+0]=Jt(fe,ge,_e),g[_+2+0]=Jt(ce,fe,ge),g[_+1+0]=g[_+3+32]=Jt(O,ce,fe),g[_+1+32]=g[_+3+64]=Jt(V,O,ce),g[_+1+64]=g[_+3+96]=Jt(te,V,O),g[_+1+96]=Jt(oe,te,V)}function xc(g,_){var O;for(O=0;8>O;++O)n(g,_+32*O,g,_-32,8)}function Ts(g,_){var O;for(O=0;8>O;++O)a(g,_,g[_-1],8),_+=32}function Wa(g,_,O){var V;for(V=0;8>V;++V)a(_,O+32*V,g,8)}function xi(g,_){var O,V=8;for(O=0;8>O;++O)V+=g[_+O-32]+g[_-1+32*O];Wa(V>>4,g,_)}function Wn(g,_){var O,V=4;for(O=0;8>O;++O)V+=g[_+O-32];Wa(V>>3,g,_)}function Cr(g,_){var O,V=4;for(O=0;8>O;++O)V+=g[_-1+32*O];Wa(V>>3,g,_)}function io(g,_){Wa(128,g,_)}function yi(g,_,O){var V=g[_-O],te=g[_+0],oe=3*(te-V)+If[1020+g[_-2*O]-g[_+O]],ce=Nc[112+(oe+4>>3)];g[_-O]=ba[255+V+Nc[112+(oe+3>>3)]],g[_+0]=ba[255+te-ce]}function yc(g,_,O,V){var te=g[_+0],oe=g[_+O];return _i[255+g[_-2*O]-g[_-O]]>V||_i[255+oe-te]>V}function jo(g,_,O,V){return 4*_i[255+g[_-O]-g[_+0]]+_i[255+g[_-2*O]-g[_+O]]<=V}function Lo(g,_,O,V,te){var oe=g[_-3*O],ce=g[_-2*O],fe=g[_-O],ge=g[_+0],_e=g[_+O],Ie=g[_+2*O],$e=g[_+3*O];return 4*_i[255+fe-ge]+_i[255+ce-_e]>V?0:_i[255+g[_-4*O]-oe]<=te&&_i[255+oe-ce]<=te&&_i[255+ce-fe]<=te&&_i[255+$e-Ie]<=te&&_i[255+Ie-_e]<=te&&_i[255+_e-ge]<=te}function ei(g,_,O,V){var te=2*V+1;for(V=0;16>V;++V)jo(g,_+V,O,te)&&yi(g,_+V,O)}function Ya(g,_,O,V){var te=2*V+1;for(V=0;16>V;++V)jo(g,_+V*O,1,te)&&yi(g,_+V*O,1)}function Yn(g,_,O,V){var te;for(te=3;0<te;--te)ei(g,_+=4*O,O,V)}function gu(g,_,O,V){var te;for(te=3;0<te;--te)Ya(g,_+=4,O,V)}function oo(g,_,O,V,te,oe,ce,fe){for(oe=2*oe+1;0<te--;){if(Lo(g,_,O,oe,ce))if(yc(g,_,O,fe))yi(g,_,O);else{var ge=g,_e=_,Ie=O,$e=ge[_e-2*Ie],qe=ge[_e-Ie],Ue=ge[_e+0],ct=ge[_e+Ie],rt=ge[_e+2*Ie],De=27*(at=If[1020+3*(Ue-qe)+If[1020+$e-ct]])+63>>7,Pe=18*at+63>>7,at=9*at+63>>7;ge[_e-3*Ie]=ba[255+ge[_e-3*Ie]+at],ge[_e-2*Ie]=ba[255+$e+Pe],ge[_e-Ie]=ba[255+qe+De],ge[_e+0]=ba[255+Ue-De],ge[_e+Ie]=ba[255+ct-Pe],ge[_e+2*Ie]=ba[255+rt-at]}_+=V}}function La(g,_,O,V,te,oe,ce,fe){for(oe=2*oe+1;0<te--;){if(Lo(g,_,O,oe,ce))if(yc(g,_,O,fe))yi(g,_,O);else{var ge=g,_e=_,Ie=O,$e=ge[_e-Ie],qe=ge[_e+0],Ue=ge[_e+Ie],ct=Nc[112+((rt=3*(qe-$e))+4>>3)],rt=Nc[112+(rt+3>>3)],De=ct+1>>1;ge[_e-2*Ie]=ba[255+ge[_e-2*Ie]+De],ge[_e-Ie]=ba[255+$e+rt],ge[_e+0]=ba[255+qe-ct],ge[_e+Ie]=ba[255+Ue-De]}_+=V}}function lo(g,_,O,V,te,oe){oo(g,_,O,1,16,V,te,oe)}function Mi(g,_,O,V,te,oe){oo(g,_,1,O,16,V,te,oe)}function _l(g,_,O,V,te,oe){var ce;for(ce=3;0<ce;--ce)La(g,_+=4*O,O,1,16,V,te,oe)}function Oo(g,_,O,V,te,oe){var ce;for(ce=3;0<ce;--ce)La(g,_+=4,1,O,16,V,te,oe)}function kl(g,_,O,V,te,oe,ce,fe){oo(g,_,te,1,8,oe,ce,fe),oo(O,V,te,1,8,oe,ce,fe)}function vc(g,_,O,V,te,oe,ce,fe){oo(g,_,1,te,8,oe,ce,fe),oo(O,V,1,te,8,oe,ce,fe)}function Po(g,_,O,V,te,oe,ce,fe){La(g,_+4*te,te,1,8,oe,ce,fe),La(O,V+4*te,te,1,8,oe,ce,fe)}function co(g,_,O,V,te,oe,ce,fe){La(g,_+4,1,te,8,oe,ce,fe),La(O,V+4,1,te,8,oe,ce,fe)}function Mo(){this.ba=new Un,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Al(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function uo(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new C}function xu(){this.xb=this.a=0,this.l=new cs,this.ca=new Un,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new uo,this.ab=0,this.gc=o(4,Fo),this.Oc=0}function Fi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fo(g,_,O,V,te,oe,ce){for(g=g==null?0:g[_+0],_=0;_<ce;++_)te[oe+_]=g+O[V+_]&255,g=te[oe+_]}function Bo(g,_,O,V,te,oe,ce){var fe;if(g==null)fo(null,null,O,V,te,oe,ce);else for(fe=0;fe<ce;++fe)te[oe+fe]=g[_+fe]+O[V+fe]&255}function Xa(g,_,O,V,te,oe,ce){if(g==null)fo(null,null,O,V,te,oe,ce);else{var fe,ge=g[_+0],_e=ge,Ie=ge;for(fe=0;fe<ce;++fe)_e=Ie+(ge=g[_+fe])-_e,Ie=O[V+fe]+(-256&_e?0>_e?0:255:_e)&255,_e=ge,te[oe+fe]=Ie}}function El(g,_,O,V){var te=_.width,oe=_.o;if(e(g!=null&&_!=null),0>O||0>=V||O+V>oe)return null;if(!g.Cc){if(g.ga==null){var ce;if(g.ga=new Fi,(ce=g.ga==null)||(ce=_.width*_.o,e(g.Gb.length==0),g.Gb=s(ce),g.Uc=0,g.Gb==null?ce=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,ce=1),ce=!ce),!ce){ce=g.ga;var fe=g.Fa,ge=g.P,_e=g.qc,Ie=g.mb,$e=g.nb,qe=ge+1,Ue=_e-1,ct=ce.l;if(e(fe!=null&&Ie!=null&&_!=null),yo[0]=null,yo[1]=fo,yo[2]=Bo,yo[3]=Xa,ce.ca=Ie,ce.tb=$e,ce.c=_.width,ce.i=_.height,e(0<ce.c&&0<ce.i),1>=_e)_=0;else if(ce.$a=fe[ge+0]>>0&3,ce.Z=fe[ge+0]>>2&3,ce.Lc=fe[ge+0]>>4&3,ge=fe[ge+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ge)_=0;else if(ct.put=aa,ct.ac=Nn,ct.bc=ls,ct.ma=ce,ct.width=_.width,ct.height=_.height,ct.Da=_.Da,ct.v=_.v,ct.va=_.va,ct.j=_.j,ct.o=_.o,ce.$a)e:{e(ce.$a==1),_=Ze();t:for(;;){if(_==null){_=0;break e}if(e(ce!=null),ce.mc=_,_.c=ce.c,_.i=ce.i,_.l=ce.l,_.l.ma=ce,_.l.width=ce.c,_.l.height=ce.i,_.a=0,se(_.m,fe,qe,Ue),!Fe(ce.c,ce.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&ye(_.s)?(ce.ic=1,fe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(fe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(ce.ic=0,_=Ge(_,ce.c)),!_))break t;_=1;break e}ce.mc=null,_=0}else _=Ue>=ce.c*ce.i;ce=!_}if(ce)return null;g.ga.Lc!=1?g.Ga=0:V=oe-O}e(g.ga!=null),e(O+V<=oe);e:{if(_=(fe=g.ga).c,oe=fe.l.o,fe.$a==0){if(qe=g.rc,Ue=g.Vc,ct=g.Fa,ge=g.P+1+O*_,_e=g.mb,Ie=g.nb+O*_,e(ge<=g.P+g.qc),fe.Z!=0)for(e(yo[fe.Z]!=null),ce=0;ce<V;++ce)yo[fe.Z](qe,Ue,ct,ge,_e,Ie,_),qe=_e,Ue=Ie,Ie+=_,ge+=_;else for(ce=0;ce<V;++ce)n(_e,Ie,ct,ge,_),qe=_e,Ue=Ie,Ie+=_,ge+=_;g.rc=qe,g.Vc=Ue}else{if(e(fe.mc!=null),_=O+V,e((ce=fe.mc)!=null),e(_<=ce.i),ce.C>=_)_=1;else if(fe.ic||Be(),fe.ic){fe=ce.V,qe=ce.Ba,Ue=ce.c;var rt=ce.i,De=(ct=1,ge=ce.$/Ue,_e=ce.$%Ue,Ie=ce.m,$e=ce.s,ce.$),Pe=Ue*rt,at=Ue*_,ut=$e.wc,ot=De<at?Sn($e,_e,ge):null;e(De<=Pe),e(_<=rt),e(ye($e));t:for(;;){for(;!Ie.h&&De<at;){if(_e&ut||(ot=Sn($e,_e,ge)),e(ot!=null),Z(Ie),256>(rt=fn(ot.G[0],ot.H[0],Ie)))fe[qe+De]=rt,++De,++_e>=Ue&&(_e=0,++ge<=_&&!(ge%16)&&ke(ce,ge));else{if(!(280>rt)){ct=0;break t}rt=Xr(rt-256,Ie);var jt,Et=fn(ot.G[4],ot.H[4],Ie);if(Z(Ie),!(De>=(Et=Mr(Ue,Et=Xr(Et,Ie)))&&Pe-De>=rt)){ct=0;break t}for(jt=0;jt<rt;++jt)fe[qe+De+jt]=fe[qe+De+jt-Et];for(De+=rt,_e+=rt;_e>=Ue;)_e-=Ue,++ge<=_&&!(ge%16)&&ke(ce,ge);De<at&&_e&ut&&(ot=Sn($e,_e,ge))}e(Ie.h==G(Ie))}ke(ce,ge>_?_:ge);break t}!ct||Ie.h&&De<Pe?(ct=0,ce.a=Ie.h?5:3):ce.$=De,_=ct}else _=Ee(ce,ce.V,ce.Ba,ce.c,ce.i,_,Xe);if(!_){V=0;break e}}O+V>=oe&&(g.Cc=1),V=1}if(!V)return null;if(g.Cc&&((V=g.ga)!=null&&(V.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+O*te}function T(g,_,O,V,te,oe){for(;0<te--;){var ce,fe=g,ge=_+(O?1:0),_e=g,Ie=_+(O?0:3);for(ce=0;ce<V;++ce){var $e=_e[Ie+4*ce];$e!=255&&($e*=32897,fe[ge+4*ce+0]=fe[ge+4*ce+0]*$e>>23,fe[ge+4*ce+1]=fe[ge+4*ce+1]*$e>>23,fe[ge+4*ce+2]=fe[ge+4*ce+2]*$e>>23)}_+=oe}}function re(g,_,O,V,te){for(;0<V--;){var oe;for(oe=0;oe<O;++oe){var ce=g[_+2*oe+0],fe=15&(_e=g[_+2*oe+1]),ge=4369*fe,_e=(240&_e|_e>>4)*ge>>16;g[_+2*oe+0]=(240&ce|ce>>4)*ge>>16&240|(15&ce|ce<<4)*ge>>16>>4&15,g[_+2*oe+1]=240&_e|fe}_+=te}}function Se(g,_,O,V,te,oe,ce,fe){var ge,_e,Ie=255;for(_e=0;_e<te;++_e){for(ge=0;ge<V;++ge){var $e=g[_+ge];oe[ce+4*ge]=$e,Ie&=$e}_+=O,ce+=fe}return Ie!=255}function Re(g,_,O,V,te){var oe;for(oe=0;oe<te;++oe)O[V+oe]=g[_+oe]>>8}function Be(){ti=T,Ar=re,Er=Se,yn=Re}function nt(g,_,O){D[g]=function(V,te,oe,ce,fe,ge,_e,Ie,$e,qe,Ue,ct,rt,De,Pe,at,ut){var ot,jt=ut-1>>1,Et=fe[ge+0]|_e[Ie+0]<<16,Gt=$e[qe+0]|Ue[ct+0]<<16;e(V!=null);var St=3*Et+Gt+131074>>2;for(_(V[te+0],255&St,St>>16,rt,De),oe!=null&&(St=3*Gt+Et+131074>>2,_(oe[ce+0],255&St,St>>16,Pe,at)),ot=1;ot<=jt;++ot){var zr=fe[ge+ot]|_e[Ie+ot]<<16,tn=$e[qe+ot]|Ue[ct+ot]<<16,br=Et+zr+Gt+tn+524296,yr=br+2*(zr+Gt)>>3;St=yr+Et>>1,Et=(br=br+2*(Et+tn)>>3)+zr>>1,_(V[te+2*ot-1],255&St,St>>16,rt,De+(2*ot-1)*O),_(V[te+2*ot-0],255&Et,Et>>16,rt,De+(2*ot-0)*O),oe!=null&&(St=br+Gt>>1,Et=yr+tn>>1,_(oe[ce+2*ot-1],255&St,St>>16,Pe,at+(2*ot-1)*O),_(oe[ce+2*ot+0],255&Et,Et>>16,Pe,at+(2*ot+0)*O)),Et=zr,Gt=tn}1&ut||(St=3*Et+Gt+131074>>2,_(V[te+ut-1],255&St,St>>16,rt,De+(ut-1)*O),oe!=null&&(St=3*Gt+Et+131074>>2,_(oe[ce+ut-1],255&St,St>>16,Pe,at+(ut-1)*O)))}}function gt(){wa[Qa]=Wo,wa[_u]=vo,wa[go]=Bl,wa[R0]=Lf,wa[Sc]=Of,wa[qo]=Eu,wa[Df]=Pf,wa[I0]=vo,wa[Ml]=Lf,wa[Ho]=Of,wa[ku]=Eu}function Nt(g){return g&-16384?0>g?0:255:g>>_x}function x(g,_){return Nt((19077*g>>8)+(26149*_>>8)-14234)}function F(g,_,O){return Nt((19077*g>>8)-(6419*_>>8)-(13320*O>>8)+8708)}function q(g,_){return Nt((19077*g>>8)+(33050*_>>8)-17685)}function he(g,_,O,V,te){V[te+0]=x(g,O),V[te+1]=F(g,_,O),V[te+2]=q(g,_)}function Me(g,_,O,V,te){V[te+0]=q(g,_),V[te+1]=F(g,_,O),V[te+2]=x(g,O)}function We(g,_,O,V,te){var oe=F(g,_,O);_=oe<<3&224|q(g,_)>>3,V[te+0]=248&x(g,O)|oe>>5,V[te+1]=_}function yt(g,_,O,V,te){var oe=240&q(g,_)|15;V[te+0]=240&x(g,O)|F(g,_,O)>>4,V[te+1]=oe}function Zt(g,_,O,V,te){V[te+0]=255,he(g,_,O,V,te+1)}function Rr(g,_,O,V,te){Me(g,_,O,V,te),V[te+3]=255}function cr(g,_,O,V,te){he(g,_,O,V,te),V[te+3]=255}function en(g,_){return 0>g?0:g>_?_:g}function ln(g,_,O){D[g]=function(V,te,oe,ce,fe,ge,_e,Ie,$e){for(var qe=Ie+(-2&$e)*O;Ie!=qe;)_(V[te+0],oe[ce+0],fe[ge+0],_e,Ie),_(V[te+1],oe[ce+0],fe[ge+0],_e,Ie+O),te+=2,++ce,++ge,Ie+=2*O;1&$e&&_(V[te+0],oe[ce+0],fe[ge+0],_e,Ie)}}function vi(g,_,O){return O==0?g==0?_==0?6:5:_==0?4:0:O}function Vn(g,_,O,V,te){switch(g>>>30){case 3:Ui(_,O,V,te,0);break;case 2:Ln(_,O,V,te);break;case 1:Xn(_,O,V,te)}}function Cs(g,_){var O,V,te=_.M,oe=_.Nb,ce=g.oc,fe=g.pc+40,ge=g.oc,_e=g.pc+584,Ie=g.oc,$e=g.pc+600;for(O=0;16>O;++O)ce[fe+32*O-1]=129;for(O=0;8>O;++O)ge[_e+32*O-1]=129,Ie[$e+32*O-1]=129;for(0<te?ce[fe-1-32]=ge[_e-1-32]=Ie[$e-1-32]=129:(a(ce,fe-32-1,127,21),a(ge,_e-32-1,127,9),a(Ie,$e-32-1,127,9)),V=0;V<g.za;++V){var qe=_.ya[_.aa+V];if(0<V){for(O=-1;16>O;++O)n(ce,fe+32*O-4,ce,fe+32*O+12,4);for(O=-1;8>O;++O)n(ge,_e+32*O-4,ge,_e+32*O+4,4),n(Ie,$e+32*O-4,Ie,$e+32*O+4,4)}var Ue=g.Gd,ct=g.Hd+V,rt=qe.ad,De=qe.Hc;if(0<te&&(n(ce,fe-32,Ue[ct].y,0,16),n(ge,_e-32,Ue[ct].f,0,8),n(Ie,$e-32,Ue[ct].ea,0,8)),qe.Za){var Pe=ce,at=fe-32+16;for(0<te&&(V>=g.za-1?a(Pe,at,Ue[ct].y[15],4):n(Pe,at,Ue[ct+1].y,0,4)),O=0;4>O;O++)Pe[at+128+O]=Pe[at+256+O]=Pe[at+384+O]=Pe[at+0+O];for(O=0;16>O;++O,De<<=2)Pe=ce,at=fe+Ic[O],hs[qe.Ob[O]](Pe,at),Vn(De,rt,16*+O,Pe,at)}else if(Pe=vi(V,te,qe.Ob[0]),Ko[Pe](ce,fe),De!=0)for(O=0;16>O;++O,De<<=2)Vn(De,rt,16*+O,ce,fe+Ic[O]);for(O=qe.Gc,Pe=vi(V,te,qe.Dd),ni[Pe](ge,_e),ni[Pe](Ie,$e),De=rt,Pe=ge,at=_e,255&(qe=O>>0)&&(170&qe?Vi(De,256,Pe,at):Ds(De,256,Pe,at)),qe=Ie,De=$e,255&(O>>=8)&&(170&O?Vi(rt,320,qe,De):Ds(rt,320,qe,De)),te<g.Ub-1&&(n(Ue[ct].y,0,ce,fe+480,16),n(Ue[ct].f,0,ge,_e+224,8),n(Ue[ct].ea,0,Ie,$e+224,8)),O=8*oe*g.B,Ue=g.sa,ct=g.ta+16*V+16*oe*g.R,rt=g.qa,qe=g.ra+8*V+O,De=g.Ha,Pe=g.Ia+8*V+O,O=0;16>O;++O)n(Ue,ct+O*g.R,ce,fe+32*O,16);for(O=0;8>O;++O)n(rt,qe+O*g.B,ge,_e+32*O,8),n(De,Pe+O*g.B,Ie,$e+32*O,8)}}function ho(g,_,O,V,te,oe,ce,fe,ge){var _e=[0],Ie=[0],$e=0,qe=ge!=null?ge.kd:0,Ue=ge??new Al;if(g==null||12>O)return 7;Ue.data=g,Ue.w=_,Ue.ha=O,_=[_],O=[O],Ue.gb=[Ue.gb];e:{var ct=_,rt=O,De=Ue.gb;if(e(g!=null),e(rt!=null),e(De!=null),De[0]=0,12<=rt[0]&&!r(g,ct[0],"RIFF")){if(r(g,ct[0]+8,"WEBP")){De=3;break e}var Pe=Te(g,ct[0]+4);if(12>Pe||4294967286<Pe){De=3;break e}if(qe&&Pe>rt[0]-8){De=7;break e}De[0]=Pe,ct[0]+=12,rt[0]-=12}De=0}if(De!=0)return De;for(Pe=0<Ue.gb[0],O=O[0];;){e:{var at=g;rt=_,De=O;var ut=_e,ot=Ie,jt=ct=[0];if((St=$e=[$e])[0]=0,8>De[0])De=7;else{if(!r(at,rt[0],"VP8X")){if(Te(at,rt[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var Et=Te(at,rt[0]+8),Gt=1+ee(at,rt[0]+12);if(2147483648<=Gt*(at=1+ee(at,rt[0]+15))){De=3;break e}jt!=null&&(jt[0]=Et),ut!=null&&(ut[0]=Gt),ot!=null&&(ot[0]=at),rt[0]+=18,De[0]-=18,St[0]=1}De=0}}if($e=$e[0],ct=ct[0],De!=0)return De;if(rt=!!(2&ct),!Pe&&$e)return 3;if(oe!=null&&(oe[0]=!!(16&ct)),ce!=null&&(ce[0]=rt),fe!=null&&(fe[0]=0),ce=_e[0],ct=Ie[0],$e&&rt&&ge==null){De=0;break}if(4>O){De=7;break}if(Pe&&$e||!Pe&&!$e&&!r(g,_[0],"ALPH")){O=[O],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{Et=g,De=_,Pe=O;var St=Ue.gb;ut=Ue.na,ot=Ue.P,jt=Ue.Sa,Gt=22,e(Et!=null),e(Pe!=null),at=De[0];var zr=Pe[0];for(e(ut!=null),e(jt!=null),ut[0]=null,ot[0]=null,jt[0]=0;;){if(De[0]=at,Pe[0]=zr,8>zr){De=7;break e}var tn=Te(Et,at+4);if(4294967286<tn){De=3;break e}var br=8+tn+1&-2;if(Gt+=br,0<St&&Gt>St){De=3;break e}if(!r(Et,at,"VP8 ")||!r(Et,at,"VP8L")){De=0;break e}if(zr[0]<br){De=7;break e}r(Et,at,"ALPH")||(ut[0]=Et,ot[0]=at+8,jt[0]=tn),at+=br,zr-=br}}if(O=O[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],De!=0)break}O=[O],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(St=g,De=_,Pe=O,ut=Ue.gb[0],ot=Ue.Ja,jt=Ue.xa,Et=De[0],at=!r(St,Et,"VP8 "),Gt=!r(St,Et,"VP8L"),e(St!=null),e(Pe!=null),e(ot!=null),e(jt!=null),8>Pe[0])De=7;else{if(at||Gt){if(St=Te(St,Et+4),12<=ut&&St>ut-12){De=3;break e}if(qe&&St>Pe[0]-8){De=7;break e}ot[0]=St,De[0]+=8,Pe[0]-=8,jt[0]=Gt}else jt[0]=5<=Pe[0]&&St[Et+0]==47&&!(St[Et+4]>>5),ot[0]=Pe[0];De=0}if(O=O[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],_=_[0],De!=0)break;if(4294967286<Ue.Ja)return 3;if(fe==null||rt||(fe[0]=Ue.xa?2:1),ce=[ce],ct=[ct],Ue.xa){if(5>O){De=7;break}fe=ce,qe=ct,rt=oe,g==null||5>O?g=0:5<=O&&g[_+0]==47&&!(g[_+4]>>5)?(Pe=[0],St=[0],ut=[0],se(ot=new L,g,_,O),Rt(ot,Pe,St,ut)?(fe!=null&&(fe[0]=Pe[0]),qe!=null&&(qe[0]=St[0]),rt!=null&&(rt[0]=ut[0]),g=1):g=0):g=0}else{if(10>O){De=7;break}fe=ct,g==null||10>O||!ya(g,_+3,O-3)?g=0:(qe=g[_+0]|g[_+1]<<8|g[_+2]<<16,rt=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Ue.Ja||!rt||!g?g=0:(ce&&(ce[0]=rt),fe&&(fe[0]=g),g=1))}if(!g||(ce=ce[0],ct=ct[0],$e&&(_e[0]!=ce||Ie[0]!=ct)))return 3;ge!=null&&(ge[0]=Ue,ge.offset=_-ge.w,e(4294967286>_-ge.w),e(ge.offset==ge.ha-O));break}return De==0||De==7&&$e&&ge==null?(oe!=null&&(oe[0]|=Ue.na!=null&&0<Ue.na.length),V!=null&&(V[0]=ce),te!=null&&(te[0]=ct),0):De}function Nl(g,_,O){var V=_.width,te=_.height,oe=0,ce=0,fe=V,ge=te;if(_.Da=g!=null&&0<g.Da,_.Da&&(fe=g.cd,ge=g.bd,oe=g.v,ce=g.j,11>O||(oe&=-2,ce&=-2),0>oe||0>ce||0>=fe||0>=ge||oe+fe>V||ce+ge>te))return 0;if(_.v=oe,_.j=ce,_.va=oe+fe,_.o=ce+ge,_.U=fe,_.T=ge,_.da=g!=null&&0<g.da,_.da){if(!Ke(fe,ge,O=[g.ib],oe=[g.hb]))return 0;_.ib=O[0],_.hb=oe[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*V/4&&_.hb<3*te/4,_.Kb=0),1}function yu(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function bc(g,_,O,V){if(V==null||0>=g||0>=_)return 2;if(O!=null){if(O.Da){var te=O.cd,oe=O.bd,ce=-2&O.v,fe=-2&O.j;if(0>ce||0>fe||0>=te||0>=oe||ce+te>g||fe+oe>_)return 2;g=te,_=oe}if(O.da){if(!Ke(g,_,te=[O.ib],oe=[O.hb]))return 2;g=te[0],_=oe[0]}}V.width=g,V.height=_;e:{var ge=V.width,_e=V.height;if(g=V.S,0>=ge||0>=_e||!(g>=Qa&&13>g))g=2;else{if(0>=V.Rd&&V.sd==null){ce=oe=te=_=0;var Ie=(fe=ge*bp[g])*_e;if(11>g||(oe=(_e+1)/2*(_=(ge+1)/2),g==12&&(ce=(te=ge)*_e)),(_e=s(Ie+2*oe+ce))==null){g=1;break e}V.sd=_e,11>g?((ge=V.f.RGBA).eb=_e,ge.fb=0,ge.A=fe,ge.size=Ie):((ge=V.f.kb).y=_e,ge.O=0,ge.fa=fe,ge.Fd=Ie,ge.f=_e,ge.N=0+Ie,ge.Ab=_,ge.Cd=oe,ge.ea=_e,ge.W=0+Ie+oe,ge.Db=_,ge.Ed=oe,g==12&&(ge.F=_e,ge.J=0+Ie+2*oe),ge.Tc=ce,ge.lb=te)}if(_=1,te=V.S,oe=V.width,ce=V.height,te>=Qa&&13>te)if(11>te)g=V.f.RGBA,_&=(fe=Math.abs(g.A))*(ce-1)+oe<=g.size,_&=fe>=oe*bp[te],_&=g.eb!=null;else{g=V.f.kb,fe=(oe+1)/2,Ie=(ce+1)/2,ge=Math.abs(g.fa),_e=Math.abs(g.Ab);var $e=Math.abs(g.Db),qe=Math.abs(g.lb),Ue=qe*(ce-1)+oe;_&=ge*(ce-1)+oe<=g.Fd,_&=_e*(Ie-1)+fe<=g.Cd,_=(_&=$e*(Ie-1)+fe<=g.Ed)&ge>=oe&_e>=fe&$e>=fe,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,te==12&&(_&=qe>=oe,_&=Ue<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||O!=null&&O.fd&&(g=yu(V)),g}var sa=64,Sl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wc=24,_c=32,vu=8,Rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pt("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(g){return g},D.Predictor2=function(g,_,O){return _[O+0]},D.Predictor3=function(g,_,O){return _[O+1]},D.Predictor4=function(g,_,O){return _[O-1]},D.Predictor5=function(g,_,O){return bt(bt(g,_[O+1]),_[O+0])},D.Predictor6=function(g,_,O){return bt(g,_[O-1])},D.Predictor7=function(g,_,O){return bt(g,_[O+0])},D.Predictor8=function(g,_,O){return bt(_[O-1],_[O+0])},D.Predictor9=function(g,_,O){return bt(_[O+0],_[O+1])},D.Predictor10=function(g,_,O){return bt(bt(g,_[O-1]),bt(_[O+0],_[O+1]))},D.Predictor11=function(g,_,O){var V=_[O+0];return 0>=Wt(V>>24&255,g>>24&255,(_=_[O-1])>>24&255)+Wt(V>>16&255,g>>16&255,_>>16&255)+Wt(V>>8&255,g>>8&255,_>>8&255)+Wt(255&V,255&g,255&_)?V:g},D.Predictor12=function(g,_,O){var V=_[O+0];return(Dt((g>>24&255)+(V>>24&255)-((_=_[O-1])>>24&255))<<24|Dt((g>>16&255)+(V>>16&255)-(_>>16&255))<<16|Dt((g>>8&255)+(V>>8&255)-(_>>8&255))<<8|Dt((255&g)+(255&V)-(255&_)))>>>0},D.Predictor13=function(g,_,O){var V=_[O-1];return(Ut((g=bt(g,_[O+0]))>>24&255,V>>24&255)<<24|Ut(g>>16&255,V>>16&255)<<16|Ut(g>>8&255,V>>8&255)<<8|Ut(g>>0&255,V>>0&255))>>>0};var rd=D.PredictorAdd0;D.PredictorAdd1=Pt,pt("Predictor2","PredictorAdd2"),pt("Predictor3","PredictorAdd3"),pt("Predictor4","PredictorAdd4"),pt("Predictor5","PredictorAdd5"),pt("Predictor6","PredictorAdd6"),pt("Predictor7","PredictorAdd7"),pt("Predictor8","PredictorAdd8"),pt("Predictor9","PredictorAdd9"),pt("Predictor10","PredictorAdd10"),pt("Predictor11","PredictorAdd11"),pt("Predictor12","PredictorAdd12"),pt("Predictor13","PredictorAdd13");var T0=D.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Rf,bi=D.ColorIndexInverseTransform,va=D.MapARGB,Tl=D.VP8LColorIndexInverseTransformAlpha,C0=D.MapAlpha,Uo=D.VP8LPredictorsAdd=[];Uo.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Cl,fs,Oa,Rl,Is,Bi,mo,Ui,Ln,Vi,Xn,Ds,kc,po,bu,Il,Dl,jl,Ac,wu,Ll,Vo,Ec,On,ti,Ar,Er,yn,zn=s(511),wi=s(2041),Ol=s(225),Pl=s(767),zo=0,If=wi,Nc=Ol,ba=Pl,_i=zn,Qa=0,_u=1,go=2,R0=3,Sc=4,qo=5,Df=6,I0=7,Ml=8,Ho=9,ku=10,jf=[2,3,7],ki=[3,3,11],ri=[280,256,256,256,40],Tc=[0,1,1,1,0],Go=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$o=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Cc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pp=8,D0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],j0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ia=null,Pn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Qr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Fl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],nd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ko=[],hs=[],ni=[],xp=1,Au=2,yo=[],wa=[];nt("UpsampleRgbLinePair",he,3),nt("UpsampleBgrLinePair",Me,3),nt("UpsampleRgbaLinePair",cr,4),nt("UpsampleBgraLinePair",Rr,4),nt("UpsampleArgbLinePair",Zt,4),nt("UpsampleRgba4444LinePair",yt,2),nt("UpsampleRgb565LinePair",We,2);var Wo=D.UpsampleRgbLinePair,Bl=D.UpsampleBgrLinePair,vo=D.UpsampleRgbaLinePair,Lf=D.UpsampleBgraLinePair,Of=D.UpsampleArgbLinePair,Eu=D.UpsampleRgba4444LinePair,Pf=D.UpsampleRgb565LinePair,bo=16,oa=1<<bo-1,Ul=-227,Mf=482,_x=6,yp=0,kx=s(256),la=s(256),ad=s(256),L0=s(256),O0=s(Mf-Ul),sd=s(Mf-Ul);ln("YuvToRgbRow",he,3),ln("YuvToBgrRow",Me,3),ln("YuvToRgbaRow",cr,4),ln("YuvToBgraRow",Rr,4),ln("YuvToArgbRow",Zt,4),ln("YuvToRgba4444Row",yt,2),ln("YuvToRgb565Row",We,2);var Ic=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yo=[0,2,8],Ax=[8,7,6,4,4,2,2,2,1,1,1,1],vp=1;this.WebPDecodeRGBA=function(g,_,O,V,te){var oe=_u,ce=new Mo,fe=new Un;ce.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var ge=fe.width,_e=fe.height,Ie=new na;if(Ie==null||g==null)var $e=2;else e(Ie!=null),$e=ho(g,_,O,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if($e!=0?ge=0:(ge!=null&&(ge[0]=Ie.width[0]),_e!=null&&(_e[0]=Ie.height[0]),ge=1),ge){fe.width=fe.width[0],fe.height=fe.height[0],V!=null&&(V[0]=fe.width),te!=null&&(te[0]=fe.height);e:{if(V=new cs,(te=new Al).data=g,te.w=_,te.ha=O,te.kd=1,_=[0],e(te!=null),((g=ho(te.data,te.w,te.ha,null,null,null,_,null,te))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(ce!=null),V.data=te.data,V.w=te.w+te.offset,V.ha=te.ha-te.offset,V.put=aa,V.ac=Nn,V.bc=ls,V.ma=ce,te.xa){if((g=Ze())==null){ce=1;break e}if(function(qe,Ue){var ct=[0],rt=[0],De=[0];t:for(;;){if(qe==null)return 0;if(Ue==null)return qe.a=2,0;if(qe.l=Ue,qe.a=0,se(qe.m,Ue.data,Ue.w,Ue.ha),!Rt(qe.m,ct,rt,De)){qe.a=3;break t}if(qe.xb=Au,Ue.width=ct[0],Ue.height=rt[0],!Fe(ct[0],rt[0],1,qe,null))break t;return 1}return e(qe.a!=0),0}(g,V)){if(V=(_=bc(V.width,V.height,ce.Oa,ce.ba))==0){t:{V=g;r:for(;;){if(V==null){V=0;break t}if(e(V.s.yc!=null),e(V.s.Ya!=null),e(0<V.s.Wb),e((O=V.l)!=null),e((te=O.ma)!=null),V.xb!=0){if(V.ca=te.ba,V.tb=te.tb,e(V.ca!=null),!Nl(te.Oa,O,R0)){V.a=2;break r}if(!Ge(V,O.width)||O.da)break r;if((O.da||wr(V.ca.S))&&Be(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Be()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!Qe(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!Ee(V,V.V,V.Ba,V.c,V.i,O.o,Ae))break r;te.Dc=V.Ma,V=1;break t}e(V.a!=0),V=0}V=!V}V&&(_=g.a)}else _=g.a}else{if((g=new Ia)==null){ce=1;break e}if(g.Fa=te.na,g.P=te.P,g.qc=te.Sa,vl(g,V)){if((_=bc(V.width,V.height,ce.Oa,ce.ba))==0){if(g.Aa=0,O=ce.Oa,e((te=g)!=null),O!=null){if(0<(ge=0>(ge=O.Md)?0:100<ge?255:255*ge/100)){for(_e=Ie=0;4>_e;++_e)12>($e=te.pb[_e]).lc&&($e.ia=ge*Ax[0>$e.lc?0:$e.lc]>>3),Ie|=$e.ia;Ie&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=O.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}mc(g,V)||(_=g.a)}}else _=g.a}_==0&&ce.Oa!=null&&ce.Oa.fd&&(_=yu(ce.ba))}ce=_}oe=ce!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var bp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,I){for(var U="",R=0;R<4;R++)U+=String.fromCharCode(D[I++]);return U}function p(D,I){return(D[I+0]<<0|D[I+1]<<8|D[I+2]<<16)>>>0}function y(D,I){return(D[I+0]<<0|D[I+1]<<8|D[I+2]<<16|D[I+3]<<24)>>>0}new h;var v=[0],b=[0],A=[],k=new h,E=t,S=function(D,I){var U={},R=0,C=!1,B=0,W=0;if(U.frames=[],!function(z,G,Y,Z){for(var de=0;de<Z;de++)if(z[G+de]!=Y.charCodeAt(de))return!0;return!1}(D,I,"RIFF",4)){for(y(D,I+=4),I+=8;I<D.length;){var ue=d(D,I),ae=y(D,I+=4);I+=4;var le=ae+(1&ae);switch(ue){case"VP8 ":case"VP8L":U.frames[R]===void 0&&(U.frames[R]={}),(J=U.frames[R]).src_off=C?W:I-8,J.src_size=B+ae+8,R++,C&&(C=!1,B=0,W=0);break;case"VP8X":(J=U.header={}).feature_flags=D[I];var se=I+4;J.canvas_width=1+p(D,se),se+=3,J.canvas_height=1+p(D,se),se+=3;break;case"ALPH":C=!0,B=le+8,W=I-8;break;case"ANIM":(J=U.header).bgcolor=y(D,I),se=I+4,J.loop_count=(Ne=D)[(L=se)+0]<<0|Ne[L+1]<<8,se+=2;break;case"ANMF":var ne,J;(J=U.frames[R]={}).offset_x=2*p(D,I),I+=3,J.offset_y=2*p(D,I),I+=3,J.width=1+p(D,I),I+=3,J.height=1+p(D,I),I+=3,J.duration=p(D,I),I+=3,ne=D[I++],J.dispose=1&ne,J.blend=ne>>1&1}ue!="ANMF"&&(I+=le)}var Ne,L;return U}}(E,0);S.response=E,S.rgbaoutput=!0,S.dataurl=!1;var j=S.header?S.header:null,M=S.frames?S.frames:null;if(j){j.loop_counter=j.loop_count,v=[j.canvas_height],b=[j.canvas_width];for(var H=0;H<M.length&&M[H].blend!=0;H++);}var K=M[0],X=k.WebPDecodeRGBA(E,K.src_off,K.src_size,b,v);K.rgba=X,K.imgwidth=b[0],K.imgheight=v[0];for(var P=0;P<b[0]*v[0]*4;P++)A[P]=X[P];return this.width=b,this.height=v,this.data=A,this}(function(t){var e=function(){return typeof Zy=="function"},r=function(v,b,A,k){var E=4,S=o;switch(k){case t.image_compression.FAST:E=1,S=s;break;case t.image_compression.MEDIUM:E=6,S=c;break;case t.image_compression.SLOW:E=9,S=h}v=n(v,b,A,S);var j=Zy(v,{level:E});return t.__addimage__.arrayBufferToBinaryString(j)},n=function(v,b,A,k){for(var E,S,j,M=v.length/b,H=new Uint8Array(v.length+M),K=p(),X=0;X<M;X+=1){if(j=X*b,E=v.subarray(j,j+b),k)H.set(k(E,A,S),j+X);else{for(var P,D=K.length,I=[];P<D;P+=1)I[P]=K[P](E,A,S);var U=y(I.concat());H.set(I[U],j+X)}S=E}return H},a=function(v){var b=Array.apply([],v);return b.unshift(0),b},s=function(v,b){var A,k=[],E=v.length;k[0]=1;for(var S=0;S<E;S+=1)A=v[S-b]||0,k[S+1]=v[S]-A+256&255;return k},o=function(v,b,A){var k,E=[],S=v.length;E[0]=2;for(var j=0;j<S;j+=1)k=A&&A[j]||0,E[j+1]=v[j]-k+256&255;return E},c=function(v,b,A){var k,E,S=[],j=v.length;S[0]=3;for(var M=0;M<j;M+=1)k=v[M-b]||0,E=A&&A[M]||0,S[M+1]=v[M]+256-(k+E>>>1)&255;return S},h=function(v,b,A){var k,E,S,j,M=[],H=v.length;M[0]=4;for(var K=0;K<H;K+=1)k=v[K-b]||0,E=A&&A[K]||0,S=A&&A[K-b]||0,j=d(k,E,S),M[K+1]=v[K]-j+256&255;return M},d=function(v,b,A){if(v===b&&b===A)return v;var k=Math.abs(b-A),E=Math.abs(v-A),S=Math.abs(v+b-A-A);return k<=E&&k<=S?v:E<=S?b:A},p=function(){return[a,s,o,c,h]},y=function(v){var b=v.map(function(A){return A.reduce(function(k,E){return k+Math.abs(E)},0)});return b.indexOf(Math.min.apply(null,b))};t.processPNG=function(v,b,A,k){var E,S,j,M,H,K,X,P,D,I,U,R,C,B,W,ue=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(j=new $P(v)).imgData,S=j.bits,E=j.colorSpace,H=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){D=(P=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,U=new Uint8Array(D*j.colors),I=new Uint8Array(D);var le,se=j.pixelBitlength-j.bits;for(B=0,W=0;B<D;B++){for(C=P[B],le=0;le<se;)U[W++]=C>>>le&255,le+=j.bits;I[B]=C>>>le&255}}if(j.bits===16){D=(P=new Uint32Array(j.decodePixels().buffer)).length,U=new Uint8Array(D*(32/j.pixelBitlength)*j.colors),I=new Uint8Array(D*(32/j.pixelBitlength)),R=j.colors>1,B=0,W=0;for(var ne=0;B<D;)C=P[B++],U[W++]=C>>>0&255,R&&(U[W++]=C>>>16&255,C=P[B++],U[W++]=C>>>0&255),I[ne++]=C>>>16&255;S=8}k!==t.image_compression.NONE&&e()?(v=r(U,j.width*j.colors,j.colors,k),X=r(I,j.width,1,k)):(v=U,X=I,ue=void 0)}if(j.colorType===3&&(E=this.color_spaces.INDEXED,K=j.palette,j.transparency.indexed)){var J=j.transparency.indexed,Ne=0;for(B=0,D=J.length;B<D;++B)Ne+=J[B];if((Ne/=255)===D-1&&J.indexOf(0)!==-1)M=[J.indexOf(0)];else if(Ne!==D){for(P=j.decodePixels(),I=new Uint8Array(P.length),B=0,D=P.length;B<D;B++)I[B]=J[P[B]];X=r(I,j.width,1)}}var L=function(z){var G;switch(z){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(k);return ue===this.decode.FLATE_DECODE&&(ae="/Predictor "+L+" "),ae+="/Colors "+H+" /BitsPerComponent "+S+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(X&&this.__addimage__.isArrayBuffer(X)||this.__addimage__.isArrayBufferView(X))&&(X=this.__addimage__.arrayBufferToBinaryString(X)),{alias:A,data:v,index:b,filter:ue,decodeParameters:ae,transparency:M,palette:K,sMask:X,predictor:L,width:j.width,height:j.height,bitsPerComponent:S,colorSpace:E}}}})(rr.API),function(t){t.processGIF89A=function(e,r,n,a){var s=new KP(e),o=s.width,c=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var d={data:h,width:o,height:c},p=new ny(100).encode(d,100);return t.processJPEG.call(this,p,r,n,a)},t.processGIF87A=t.processGIF89A}(rr.API),nl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){En.log("bit decode error:"+r)}},nl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var h=this.palette[s>>7-c&1];this.data[o+4*c]=h.blue,this.data[o+4*c+1]=h.green,this.data[o+4*c+2]=h.red,this.data[o+4*c+3]=255}r!==0&&(this.pos+=4-r)}},nl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,c=s>>4,h=15&s,d=this.palette[c];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[h],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},nl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},nl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,h=(s>>10&e)/e*255|0,d=s>>15?255:0,p=n*this.width*4+4*a;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=d}this.pos+=t}},nl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,p=a*this.width*4+4*s;this.data[p]=d,this.data[p+1]=h,this.data[p+2]=c,this.data[p+3]=255}this.pos+=t}},nl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},nl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=s,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=o}},nl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var s=new nl(e,!1),o=s.width,c=s.height,h={data:s.getData(),width:o,height:c},d=new ny(100).encode(h,100);return t.processJPEG.call(this,d,r,n,a)}}(rr.API),g3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var s=new g3(e),o=s.width,c=s.height,h={data:s.getData(),width:o,height:c},d=new ny(100).encode(h,100);return t.processJPEG.call(this,d,r,n,a)}}(rr.API),rr.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),c=0,h=0,d=0;d<a;d+=4){var p=n[d],y=n[d+1],v=n[d+2],b=n[d+3];s[c++]=p,s[c++]=y,s[c++]=v,o[h++]=b}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},rr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ih=rr.API,kg=ih.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,h=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,p=d.fof?d.fof:1,y=e.doKerning!==!1,v=0,b=t.length,A=0,k=c[0]||h,E=[];for(r=0;r<b;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?E.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(v=y&&gn(d[n])==="object"&&!isNaN(parseInt(d[n][A],10))?d[n][A]/p:0,E.push((c[n]||k)/h+v)),A=n;return E},h3=ih.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return ih.processArabic&&(t=ih.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:kg.apply(this,arguments).reduce(function(s,o){return s+o},0)},d3=function(t,e,r,n){for(var a=[],s=0,o=t.length,c=0;s!==o&&c+e[s]<r;)c+=e[s],s++;a.push(t.slice(0,s));var h=s;for(c=0;s!==o;)c+e[s]>n&&(a.push(t.slice(h,s)),c=0,h=s),c+=e[s],s++;return h!==s&&a.push(t.slice(h,s)),a},m3=function(t,e,r){r||(r={});var n,a,s,o,c,h,d,p=[],y=[p],v=r.textIndent||0,b=0,A=0,k=t.split(" "),E=kg.apply(this,[" ",r])[0];if(h=r.lineIndent===-1?k[0].length+2:r.lineIndent||0){var S=Array(h).join(" "),j=[];k.map(function(H){(H=H.split(/\s*\n/)).length>1?j=j.concat(H.map(function(K,X){return(X&&K.length?`
`:"")+K})):j.push(H[0])}),k=j,h=h3.apply(this,[S,r])}for(s=0,o=k.length;s<o;s++){var M=0;if(n=k[s],h&&n[0]==`
`&&(n=n.substr(1),M=1),v+b+(A=(a=kg.apply(this,[n,r])).reduce(function(H,K){return H+K},0))>e||M){if(A>e){for(c=d3.apply(this,[n,a,e-(v+b),e]),p.push(c.shift()),p=[c.pop()];c.length;)y.push([c.shift()]);A=a.slice(n.length-(p[0]?p[0].length:0)).reduce(function(H,K){return H+K},0)}else p=[n];y.push(p),v=A+h,b=E}else p.push(n),v+=b+A,b=E}return d=h?function(H,K){return(K?S:"")+H.join(" ")}:function(H){return H.join(" ")},y.map(d)},ih.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var c,h,d=[];for(c=0,h=n.length;c<h;c++)d=d.concat(m3.apply(this,[n[c],o,s]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=t.__fontmetrics__.compress=function(y){var v,b,A,k,E=["{"];for(var S in y){if(v=y[S],isNaN(parseInt(S,10))?b="'"+S+"'":(S=parseInt(S,10),b=(b=s(S).slice(2)).slice(0,-1)+n[b.slice(-1)]),typeof v=="number")v<0?(A=s(v).slice(3),k="-"):(A=s(v).slice(2),k=""),A=k+A.slice(0,-1)+n[A.slice(-1)];else{if(gn(v)!=="object")throw new Error("Don't know what to do with value type "+gn(v)+".");A=o(v)}E.push(b+A)}return E.push("}"),E.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,b,A,k,E={},S=1,j=E,M=[],H="",K="",X=y.length-1,P=1;P<X;P+=1)(k=y[P])=="'"?v?(A=v.join(""),v=void 0):v=[]:v?v.push(k):k=="{"?(M.push([j,A]),j={},A=void 0):k=="}"?((b=M.pop())[0][b[1]]=j,A=void 0,j=b[0]):k=="-"?S=-1:A===void 0?r.hasOwnProperty(k)?(H+=r[k],A=parseInt(H,16)*S,S=1,H=""):H+=k:r.hasOwnProperty(k)?(K+=r[k],j[A]=parseInt(K,16)*S,S=1,A=void 0,K=""):K+=k;return E},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var v=y.font,b=p.Unicode[v.postScriptName];b&&(v.metadata.Unicode={},v.metadata.Unicode.widths=b.widths,v.metadata.Unicode.kerning=b.kerning);var A=d.Unicode[v.postScriptName];A&&(v.metadata.Unicode.encoding=A,v.encoding=A.codePages[0])}])}(rr.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(cm(c)),o.metadata=t.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(rr),function(t){function e(){return(ar.canvg?Promise.resolve(ar.canvg):bm(()=>import("./index.es-DIYi1aNS.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}rr.API.addSvgAsImage=function(r,n,a,s,o,c,h,d){if(isNaN(n)||isNaN(a))throw En.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw En.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var y=p.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,p.width,p.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return e().then(function(A){return A.fromString(y,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(v)}).then(function(){b.addImage(p.toDataURL("image/jpeg",1),n,a,s,o,h,d)})}}(),rr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},rr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),h=[],d=0,p=0,y=0;function v(A,k){var E,S=!1;for(E=0;E<A.length;E+=1)A[E]===k&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var b=c.length;for(y=0;y<b;y+=1)r[c[y]].value=r[c[y]].defaultValue,r[c[y]].explicitSet=!1}if(gn(t)==="object"){for(a in t)if(s=t[a],v(c,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&v(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")h.push(String(s[d]-1));else if(s[d].length>1){for(p=0;p<s[d].length;p+=1)typeof s[d][p]!="number"&&(n=!1);n===!0&&h.push([s[d][0]-1,s[d][1]-1].join(" "))}r[a].value="["+h.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,k=[];for(A in r)r[A].explicitSet===!0&&(r[A].type==="name"?k.push("/"+A+" /"+r[A].value):k.push("/"+A+" "+r[A].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+c.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+c+h),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(rr.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var c,h=o.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],y=0,v=s.length;y<v;++y){if(c=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(y),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},n=function(s){var o,c,h,d,p,y,v;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],y=0,v=(c=Object.keys(s).sort(function(b,A){return b-A})).length;y<v;y++)o=c[y],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),h.push("<"+o+"><"+d+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var c=o.font,h=o.out,d=o.newObject,p=o.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,v=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",A=0;A<v.length;A++)b+=String.fromCharCode(v[A]);var k=d();p({data:b,addLength1:!0,objectId:k}),h("endobj");var E=d();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:E}),h("endobj");var S=d();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+dh(c.fontName)),h("/FontFile2 "+k+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var j=d();h("<<"),h("/Type /Font"),h("/BaseFont /"+dh(c.fontName)),h("/FontDescriptor "+S+" 0 R"),h("/W "+t.API.PDFObject.convert(y)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=d(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+E+" 0 R"),h("/BaseFont /"+dh(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+j+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var c=o.font,h=o.out,d=o.newObject,p=o.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,v="",b=0;b<y.length;b++)v+=String.fromCharCode(y[b]);var A=d();p({data:v,addLength1:!0,objectId:A}),h("endobj");var k=d();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var E=d();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+A+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+dh(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=d();for(var S=0;S<c.metadata.hmtx.widths.length;S++)c.metadata.hmtx.widths[S]=parseInt(c.metadata.hmtx.widths[S]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+dh(c.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,c=s.text||"",h=s.x,d=s.y,p=s.options||{},y=s.mutex||{},v=y.pdfEscape,b=y.activeFontKey,A=y.fonts,k=b,E="",S=0,j="",M=A[k].encoding;if(A[k].encoding!=="Identity-H")return{text:c,x:h,y:d,options:p,mutex:y};for(j=c,k=b,Array.isArray(c)&&(j=c[0]),S=0;S<j.length;S+=1)A[k].metadata.hasOwnProperty("cmap")&&(o=A[k].metadata.cmap.unicode.codeMap[j[S].charCodeAt(0)]),o||j[S].charCodeAt(0)<256&&A[k].metadata.hasOwnProperty("Unicode")?E+=j[S]:E+="";var H="";return parseInt(k.slice(1))<14||M==="WinAnsiEncoding"?H=v(E,k).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(H=r(E,A[k])),y.isHex=!0,{text:H,x:h,y:d,options:p,mutex:y}};e.events.push(["postProcessText",function(s){var o=s.text||"",c=[],h={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?c.push([a(Object.assign({},h,{text:o[d][0]})).text,o[d][1],o[d][2]]):c.push(a(Object.assign({},h,{text:o[d]})).text);s.text=c}else s.text=a(Object.assign({},h,{text:o})).text}])}(rr),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(rr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,s,o,c,h,d,p,y=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,M=0;this.__bidiEngine__={};var H=function(R){var C=R.charCodeAt(),B=C>>8,W=k[B];return W!==void 0?y[256*W+(255&C)]:B===252||B===253?"AL":S.test(B)?"L":B===8?"R":"N"},K=function(R){for(var C,B=0;B<R.length;B++){if((C=H(R.charAt(B)))==="L")return!1;if(C==="R")return!0}return!1},X=function(R,C,B,W){var ue,ae,le,se,ne=C[W];switch(ne){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(ne="AN");break;case"AL":j=!0,ne="R";break;case"WS":ne="N";break;case"CS":W<1||W+1>=C.length||(ue=B[W-1])!=="EN"&&ue!=="AN"||(ae=C[W+1])!=="EN"&&ae!=="AN"?ne="N":j&&(ae="AN"),ne=ae===ue?ae:"N";break;case"ES":ne=(ue=W>0?B[W-1]:"B")==="EN"&&W+1<C.length&&C[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&B[W-1]==="EN"){ne="EN";break}if(j){ne="N";break}for(le=W+1,se=C.length;le<se&&C[le]==="ET";)le++;ne=le<se&&C[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(se=C.length,le=W+1;le<se&&C[le]==="NSM";)le++;if(le<se){var J=R[W],Ne=J>=1425&&J<=2303||J===64286;if(ue=C[le],Ne&&(ue==="R"||ue==="AL")){ne="R";break}}}ne=W<1||(ue=C[W-1])==="B"?"N":B[W-1];break;case"B":j=!1,a=!0,ne=M;break;case"S":s=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":ne="N"}return ne},P=function(R,C,B){var W=R.split("");return B&&D(W,B,{hiLevel:M}),W.reverse(),C&&C.reverse(),W.join("")},D=function(R,C,B){var W,ue,ae,le,se,ne=-1,J=R.length,Ne=0,L=[],z=M?b:v,G=[];for(j=!1,a=!1,s=!1,ue=0;ue<J;ue++)G[ue]=H(R[ue]);for(ae=0;ae<J;ae++){if(se=Ne,L[ae]=X(R,G,L,ae),W=240&(Ne=z[se][A[L[ae]]]),Ne&=15,C[ae]=le=z[Ne][5],W>0)if(W===16){for(ue=ne;ue<ae;ue++)C[ue]=1;ne=-1}else ne=-1;if(z[Ne][6])ne===-1&&(ne=ae);else if(ne>-1){for(ue=ne;ue<ae;ue++)C[ue]=le;ne=-1}G[ae]==="B"&&(C[ae]=0),B.hiLevel|=le}s&&function(Y,Z,de){for(var xe=0;xe<de;xe++)if(Y[xe]==="S"){Z[xe]=M;for(var we=xe-1;we>=0&&Y[we]==="WS";we--)Z[we]=M}}(G,C,J)},I=function(R,C,B,W,ue){if(!(ue.hiLevel<R)){if(R===1&&M===1&&!a)return C.reverse(),void(B&&B.reverse());for(var ae,le,se,ne,J=C.length,Ne=0;Ne<J;){if(W[Ne]>=R){for(se=Ne+1;se<J&&W[se]>=R;)se++;for(ne=Ne,le=se-1;ne<le;ne++,le--)ae=C[ne],C[ne]=C[le],C[le]=ae,B&&(ae=B[ne],B[ne]=B[le],B[le]=ae);Ne=se}Ne++}}},U=function(R,C,B){var W=R.split(""),ue={hiLevel:M};return B||(B=[]),D(W,B,ue),function(ae,le,se){if(se.hiLevel!==0&&p)for(var ne,J=0;J<ae.length;J++)le[J]===1&&(ne=E.indexOf(ae[J]))>=0&&(ae[J]=E[ne+1])}(W,B,ue),I(2,W,C,B,ue),I(1,W,C,B,ue),W.join("")};return this.__bidiEngine__.doBidiReorder=function(R,C,B){if(function(ue,ae){if(ae)for(var le=0;le<ue.length;le++)ae[le]=le;c===void 0&&(c=K(ue)),d===void 0&&(d=K(ue))}(R,C),o||!h||d)if(o&&h&&c^d)M=c?1:0,R=P(R,C,B);else if(!o&&h&&d)M=c?1:0,R=U(R,C,B),R=P(R,C);else if(!o||c||h||d){if(o&&!h&&c^d)R=P(R,C),c?(M=0,R=U(R,C,B)):(M=1,R=U(R,C,B),R=P(R,C));else if(o&&c&&!h&&d)M=1,R=U(R,C,B),R=P(R,C);else if(!o&&!h&&c^d){var W=p;c?(M=1,R=U(R,C,B),M=0,p=!1,R=U(R,C,B),p=W):(M=0,R=U(R,C,B),R=P(R,C),M=1,p=!1,R=U(R,C,B),p=W,R=P(R,C))}}else M=0,R=U(R,C,B);else M=c?1:0,R=U(R,C,B);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,h=R.isOutputVisual,c=R.isInputRtl,d=R.isOutputRtl,p=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(o=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?o.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):o.push([r.doBidiReorder(a[c])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(rr),rr.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new b0(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new lM(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new WP(this.contents),this.head=new XP(this),this.name=new tM(this),this.cmap=new $6(this),this.toUnicode={},this.hhea=new QP(this),this.maxp=new rM(this),this.hmtx=new nM(this),this.post=new ZP(this),this.os2=new JP(this),this.loca=new oM(this),this.glyf=new aM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,h,d;for(d=[],o=0,c=(h=this.bbox).length;o<c;o++)e=h[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,s,o,c;for(o=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)a=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var yl,b0=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,s,o,c,h;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*c+h},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),WP=function(){var t;function e(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,s,o,c,h,d,p,y,v,b,A,k;for(k in b=Object.keys(r).length,h=Math.log(2),y=16*Math.floor(Math.log(b)/h),o=Math.floor(y/h),p=16*b-y,(a=new b0).writeInt(this.scalarType),a.writeShort(b),a.writeShort(y),a.writeShort(o),a.writeShort(p),s=16*b,d=a.pos+s,c=null,A=[],r)for(v=r[k],a.writeString(k),a.writeInt(t(v)),a.writeInt(d),a.writeInt(v.length),A=A.concat(v),k==="head"&&(c=d),d+=v.length;d%4;)A.push(0),d++;return a.write(A),n=2981146554-t(a.data),a.pos=c+8,a.writeUInt32(n),a.data},t=function(r){var n,a,s,o;for(r=K6.call(r);r.length%4;)r.push(0);for(s=new b0(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},e}(),YP={}.hasOwnProperty,fc=function(t,e){for(var r in e)YP.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};yl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var XP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new b0).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),x3=function(){function t(e,r){var n,a,s,o,c,h,d,p,y,v,b,A,k,E,S,j,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(b=e.readUInt16(),v=b/2,e.pos+=6,s=function(){var H,K;for(K=[],h=H=0;0<=v?H<v:H>v;h=0<=v?++H:--H)K.push(e.readUInt16());return K}(),e.pos+=2,k=function(){var H,K;for(K=[],h=H=0;0<=v?H<v:H>v;h=0<=v?++H:--H)K.push(e.readUInt16());return K}(),d=function(){var H,K;for(K=[],h=H=0;0<=v?H<v:H>v;h=0<=v?++H:--H)K.push(e.readUInt16());return K}(),p=function(){var H,K;for(K=[],h=H=0;0<=v?H<v:H>v;h=0<=v?++H:--H)K.push(e.readUInt16());return K}(),a=(this.length-e.pos+this.offset)/2,c=function(){var H,K;for(K=[],h=H=0;0<=a?H<a:H>a;h=0<=a?++H:--H)K.push(e.readUInt16());return K}(),h=S=0,M=s.length;S<M;h=++S)for(E=s[h],n=j=A=k[h];A<=E?j<=E:j>=E;n=A<=E?++j:--j)p[h]===0?o=n+d[h]:(o=c[p[h]/2+(n-A)-(v-h)]||0)!==0&&(o+=d[h]),this.codeMap[n]=65535&o}e.pos=y}return t.encode=function(e,r){var n,a,s,o,c,h,d,p,y,v,b,A,k,E,S,j,M,H,K,X,P,D,I,U,R,C,B,W,ue,ae,le,se,ne,J,Ne,L,z,G,Y,Z,de,xe,we,je,tt,ee;switch(W=new b0,o=Object.keys(e).sort(function(Te,Qe){return Te-Qe}),r){case"macroman":for(k=0,E=function(){var Te=[];for(A=0;A<256;++A)Te.push(0);return Te}(),j={0:0},s={},ue=0,ne=o.length;ue<ne;ue++)j[we=e[a=o[ue]]]==null&&(j[we]=++k),s[a]={old:e[a],new:j[e[a]]},E[a]=j[e[a]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(E),{charMap:s,subtable:W.data,maxGlyphID:k+1};case"unicode":for(C=[],y=[],M=0,j={},n={},S=d=null,ae=0,J=o.length;ae<J;ae++)j[K=e[a=o[ae]]]==null&&(j[K]=++M),n[a]={old:K,new:j[K]},c=j[K]-a,S!=null&&c===d||(S&&y.push(S),C.push(a),d=c),S=a;for(S&&y.push(S),y.push(65535),C.push(65535),U=2*(I=C.length),D=2*Math.pow(Math.log(I)/Math.LN2,2),v=Math.log(D/2)/Math.LN2,P=2*I-D,h=[],X=[],b=[],A=le=0,Ne=C.length;le<Ne;A=++le){if(R=C[A],p=y[A],R===65535){h.push(0),X.push(0);break}if(R-(B=n[R].new)>=32768)for(h.push(0),X.push(2*(b.length+I-A)),a=se=R;R<=p?se<=p:se>=p;a=R<=p?++se:--se)b.push(n[a].new);else h.push(B-R),X.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*I+2*b.length),W.writeUInt16(0),W.writeUInt16(U),W.writeUInt16(D),W.writeUInt16(v),W.writeUInt16(P),de=0,L=y.length;de<L;de++)a=y[de],W.writeUInt16(a);for(W.writeUInt16(0),xe=0,z=C.length;xe<z;xe++)a=C[xe],W.writeUInt16(a);for(je=0,G=h.length;je<G;je++)c=h[je],W.writeUInt16(c);for(tt=0,Y=X.length;tt<Y;tt++)H=X[tt],W.writeUInt16(H);for(ee=0,Z=b.length;ee<Z;ee++)k=b[ee],W.writeUInt16(k);return{charMap:n,subtable:W.data,maxGlyphID:M+1}}},t}(),$6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new x3(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=x3.encode(r,n),(s=new b0).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e}(),QP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),JP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),ZP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var c,h,d;for(d=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)d.push(r.readUInt32());return d}).call(this)}},e}(),eM=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},tM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,s,o,c,h,d,p,y,v,b;for(r.pos=this.offset,r.readShort(),n=r.readShort(),h=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+h+r.readShort()});for(d={},o=y=0,v=a.length;y<v;o=++y)s=a[o],r.pos=s.offset,p=r.readString(s.length),c=new eM(p,s),d[b=s.nameID]==null&&(d[b]=[]),d[s.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),rM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),nM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,s,o,c,h,d;for(r.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,y;for(y=[],n=p=0;0<=s?p<s:p>s;n=0<=s?++p:--p)y.push(r.readInt16());return y}(),this.widths=(function(){var p,y,v,b;for(b=[],p=0,y=(v=this.metrics).length;p<y;p++)o=v[p],b.push(o.advance);return b}).call(this),a=this.widths[this.widths.length-1],d=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),K6=[].slice,aM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,s,o,c,h,d,p,y,v;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,c=(h=new b0(n.read(s))).readShort(),p=h.readShort(),v=h.readShort(),d=h.readShort(),y=h.readShort(),this.cache[r]=c===-1?new iM(h,p,v,d,y):new sM(h,c,p,v,d,y),this.cache[r]))},e.prototype.encode=function(r,n,a){var s,o,c,h,d;for(c=[],o=[],h=0,d=n.length;h<d;h++)s=r[n[h]],o.push(c.length),s&&(c=c.concat(s.encode(a)));return o.push(c.length),{table:c,offsets:o}},e}(),sM=function(){function t(e,r,n,a,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),iM=function(){function t(e,r,n,a,s){var o,c;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new b0(K6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),oM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fc(e,yl),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<a.length;++c)if(a[c]=s,o<n.length&&n[o]==c){++o,a[c]=s;var h=this.offsets[c],d=this.offsets[c+1]-h;d>0&&(s+=d)}for(var p=new Array(4*a.length),y=0;y<a.length;++y)p[4*y+3]=255&a[y],p[4*y+2]=(65280&a[y])>>8,p[4*y+1]=(16711680&a[y])>>16,p[4*y]=(4278190080&a[y])>>24;return p},e}(),lM=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,s,o,c,h;for(a={},o=0,c=e.length;o<c;o++)a[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in h=this.glyphsFor(r))n=h[s],a[s]=n;return a},t.prototype.encode=function(e,r){var n,a,s,o,c,h,d,p,y,v,b,A,k,E,S;for(a in n=$6.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),b={0:0},S=n.charMap)b[(h=S[a]).old]=h.new;for(A in v=n.maxGlyphID,o)A in b||(b[A]=v++);return p=function(j){var M,H;for(M in H={},j)H[j[M]]=M;return H}(b),y=Object.keys(p).sort(function(j,M){return j-M}),k=function(){var j,M,H;for(H=[],j=0,M=y.length;j<M;j++)c=y[j],H.push(p[c]);return H}(),s=this.font.glyf.encode(o,k,b),d=this.font.loca.encode(s.offsets,k),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();rr.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var c,h,d;for(d=[],c=0,h=r.length;c<h;c++)n=r[c],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();const cM=()=>{var A,k,E,S;const[t,e]=be.useState(!0),[r,n]=be.useState({totalRecords:0,successfulSales:0,conversionRate:0,monthlyGrowth:0,weeklyStats:{thisWeek:{total:0,successful:0},lastWeek:{total:0,successful:0}},statusDistribution:{},personnelPerformance:[],channelDistribution:[],callStatusDistribution:[],subscriptionStatusDistribution:[],salesDetailDistribution:[]}),[a,s]=be.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[o,c]=be.useState("thisMonth"),[h,d]=be.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null}),p=be.useCallback(async()=>{e(!0);try{const j=hr(Lt,"sales_records"),M=Sa(j),H=await Vr(M);let K=[];if(H.forEach(Z=>{var xe;const de=Z.data();K.push({id:Z.id,...de,createdAt:((xe=de.createdAt)==null?void 0:xe.toDate())||new Date})}),o==="thisMonth"){const Z=new Date(new Date().getFullYear(),new Date().getMonth(),1),de=new Date(new Date().getFullYear(),new Date().getMonth()+1,0);de.setHours(23,59,59,999),K=K.filter(xe=>{if(xe.createdAt&&xe.createdAt.toDate){const we=xe.createdAt.toDate();return we>=Z&&we<=de}if(xe.tarih)try{const we=new Date(xe.tarih);if(!isNaN(we.getTime()))return we>=Z&&we<=de}catch{}return!1})}else if(o==="lastMonth"){const Z=new Date(new Date().getFullYear(),new Date().getMonth()-1,1),de=new Date(new Date().getFullYear(),new Date().getMonth(),0);de.setHours(23,59,59,999),K=K.filter(xe=>{if(xe.createdAt&&xe.createdAt.toDate){const we=xe.createdAt.toDate();return we>=Z&&we<=de}if(xe.tarih)try{const we=new Date(xe.tarih);if(!isNaN(we.getTime()))return we>=Z&&we<=de}catch{}return!1})}else if(o==="custom"){const Z=new Date(a.startDate),de=new Date(a.endDate);de.setHours(23,59,59,999),K=K.filter(xe=>{if(xe.createdAt&&xe.createdAt.toDate){const we=xe.createdAt.toDate();return we>=Z&&we<=de}if(xe.tarih)try{const we=new Date(xe.tarih);if(!isNaN(we.getTime()))return we>=Z&&we<=de}catch{}return!1})}const X=K.length,P=K.filter(Z=>Z.detay==="Satış Sağlandı"||Z.detay==="Satış sağlandı").length,D=X>0?(P/X*100).toFixed(1):0,I={};K.forEach(Z=>{const de=Z.durum||"Doldurulmamış";I[de]=(I[de]||0)+1});const U={};K.forEach(Z=>{const de=Z.personel||Z.createdBy||"Personel Atanmamış";U[de]||(U[de]={name:de,totalRecords:0,successfulSales:0,conversionRate:0}),U[de].totalRecords++,(Z.detay==="Satış Sağlandı"||Z.detay==="Satış sağlandı")&&U[de].successfulSales++}),Object.values(U).forEach(Z=>{Z.conversionRate=Z.totalRecords>0?(Z.successfulSales/Z.totalRecords*100).toFixed(1):0});const R=Object.values(U).sort((Z,de)=>de.successfulSales-Z.successfulSales).slice(0,10),C={thisWeek:{total:0,successful:0},lastWeek:{total:0,successful:0}},B=new Date,W=new Date(B);W.setDate(B.getDate()-B.getDay()),W.setHours(0,0,0,0);const ue=new Date(W);ue.setDate(W.getDate()-7);const ae=new Date(W);ae.setMilliseconds(-1),K.forEach(Z=>{let de=null;if(Z.createdAt)try{Z.createdAt.toDate?de=Z.createdAt.toDate():de=Z.createdAt instanceof Date?Z.createdAt:new Date(Z.createdAt)}catch(xe){console.warn("createdAt parse hatası:",xe)}if(!de&&Z.tarih)try{de=new Date(Z.tarih),isNaN(de.getTime())&&(de=null)}catch(xe){console.warn("tarih parse hatası:",xe)}if(de&&!isNaN(de.getTime())){const xe=Z.detay==="Satış Sağlandı"||Z.detay==="Satış sağlandı";de>=W?(C.thisWeek.total++,xe&&C.thisWeek.successful++):de>=ue&&de<=ae&&(C.lastWeek.total++,xe&&C.lastWeek.successful++)}});const le={};K.forEach(Z=>{const de=Z.kanal||"Boş Bırakılan";le[de]=(le[de]||0)+1});const se=Object.entries(le).map(([Z,de])=>({name:Z,count:de,percentage:X>0?(de/X*100).toFixed(1):0})).sort((Z,de)=>de.count-Z.count),ne={};K.forEach(Z=>{const de=Z.durum||"Doldurulmamış";ne[de]=(ne[de]||0)+1});const J=Object.entries(ne).map(([Z,de])=>({name:Z,count:de,percentage:X>0?(de/X*100).toFixed(1):0})).sort((Z,de)=>de.count-Z.count),Ne={};K.forEach(Z=>{const de=Z.detay||"Eksik Bilgi";Ne[de]=(Ne[de]||0)+1});const L=Object.entries(Ne).map(([Z,de])=>({name:Z,count:de,percentage:X>0?(de/X*100).toFixed(1):0})).sort((Z,de)=>de.count-Z.count),z={};K.forEach(Z=>{const de=Z.abonelikDurum||"Tamamlanmamış";z[de]=(z[de]||0)+1});const G=Object.entries(z).map(([Z,de])=>({name:Z,count:de,percentage:X>0?(de/X*100).toFixed(1):0})).sort((Z,de)=>de.count-Z.count),Y=X>0?Math.floor(Math.random()*20)-10:0;n({totalRecords:X,successfulSales:P,conversionRate:parseFloat(D),monthlyGrowth:Y,weeklyStats:C,statusDistribution:I,personnelPerformance:R,channelDistribution:se,callStatusDistribution:J,subscriptionStatusDistribution:G,salesDetailDistribution:L})}catch(j){console.error("Analytics data loading error:",j)}finally{e(!1)}},[a,o]);be.useEffect(()=>{p()},[p]);const y=j=>{if(c(j),j==="thisMonth"){const M=new Date(new Date().getFullYear(),new Date().getMonth(),1),H=new Date(new Date().getFullYear(),new Date().getMonth()+1,0);s({startDate:M.toISOString().split("T")[0],endDate:H.toISOString().split("T")[0]})}else if(j==="lastMonth"){const M=new Date(new Date().getFullYear(),new Date().getMonth()-1,1),H=new Date(new Date().getFullYear(),new Date().getMonth(),0);s({startDate:M.toISOString().split("T")[0],endDate:H.toISOString().split("T")[0]})}},v=()=>{var j,M,H,K,X;try{const P=le=>{const se={ç:"c",Ç:"C",ğ:"g",Ğ:"G",ı:"i",I:"I",İ:"I",ö:"o",Ö:"O",ş:"s",Ş:"S",ü:"u",Ü:"U"};return le.replace(/[çÇğĞıIİöÖşŞüÜ]/g,ne=>se[ne]||ne)},D=new rr({orientation:"p",unit:"mm",format:"a4"}),I=D.internal.pageSize.getWidth(),U=D.internal.pageSize.getHeight();D.setFillColor(88,28,135),D.rect(0,0,I,40,"F"),D.setFillColor(255,255,255),D.rect(15,8,180,24,"F"),D.setFontSize(18),D.setTextColor(88,28,135),D.text(P("SATIŞ ANALİTİK RAPORU"),I/2,22,{align:"center"}),D.setFontSize(10),D.setTextColor(100,100,100);const R=o==="thisMonth"?"Bu Ay":P(o==="lastMonth"?"Geçen Ay":"Özel Tarih");D.text(P(`Dönem: ${R}`),150,48),D.text(P(`Tarih: ${a.startDate} - ${a.endDate}`),150,53),D.text(P(`Rapor: ${new Date().toLocaleDateString("tr-TR")}`),150,58);let C=75;const B=(le,se)=>(D.setFillColor(240,240,240),D.rect(20,se-5,170,12,"F"),D.setFontSize(12),D.setTextColor(0,0,0),D.text(P(le),25,se+3),se+20),W=(le,se,ne,J=!1)=>(J&&(D.setFillColor(250,250,250),D.rect(25,ne-3,160,8,"F")),D.setFontSize(10),D.setTextColor(60,60,60),D.text(P(le),30,ne+2),D.setTextColor(0,0,0),D.text(P(se),140,ne+2),ne+10);C=B("GENEL İSTATİSTİKLER",C),C=W("Toplam Kayıt Sayısı",r.totalRecords.toString(),C,!0),C=W("Başarılı Satış Sayısı",r.successfulSales.toString(),C),C=W("Dönüşüm Oranı",`%${r.conversionRate}`,C,!0),C+=15,((j=r.channelDistribution)==null?void 0:j.length)>0&&(C=B("ÇAĞRI KANALI DAĞILIMI",C),r.channelDistribution.forEach((le,se)=>{C=W(le.name,`${le.count} (%${le.percentage})`,C,se%2===0)}),C+=15),C>220&&(D.addPage(),C=30),((M=r.callStatusDistribution)==null?void 0:M.length)>0&&(C=B("ÇAĞRI DURUMU DAĞILIMI",C),r.callStatusDistribution.forEach((le,se)=>{C=W(le.name,`${le.count} (%${le.percentage})`,C,se%2===0)}),C+=15),C>220&&(D.addPage(),C=30),((H=r.salesDetailDistribution)==null?void 0:H.length)>0&&(C=B("SATIŞ DETAY DAĞILIMI",C),r.salesDetailDistribution.forEach((le,se)=>{C=W(le.name,`${le.count} (%${le.percentage})`,C,se%2===0)}),C+=15),C>220&&(D.addPage(),C=30),((K=r.subscriptionStatusDistribution)==null?void 0:K.length)>0&&(C=B("ABONELİK DURUMU DAĞILIMI",C),r.subscriptionStatusDistribution.forEach((le,se)=>{C=W(le.name,`${le.count} (%${le.percentage})`,C,se%2===0)}),C+=15),C>180&&(D.addPage(),C=30),((X=r.personnelPerformance)==null?void 0:X.length)>0&&(C=B("PERSONEL PERFORMANSI",C),D.setFillColor(230,230,230),D.rect(25,C-3,160,10,"F"),D.setFontSize(9),D.setTextColor(0,0,0),D.text(P("Personel"),30,C+3),D.text(P("Kayıt"),100,C+3),D.text(P("Satış"),130,C+3),D.text("Oran",160,C+3),C+=15,r.personnelPerformance.forEach((le,se)=>{se%2===0&&(D.setFillColor(250,250,250),D.rect(25,C-3,160,8,"F")),D.setFontSize(9),D.setTextColor(60,60,60),D.text(P(le.name),30,C+2),D.text(le.totalRecords.toString(),100,C+2),D.text(le.successfulSales.toString(),130,C+2),D.text(`%${le.conversionRate}`,160,C+2),C+=10}));const ue=D.internal.getNumberOfPages();for(let le=1;le<=ue;le++)D.setPage(le),D.setFontSize(8),D.setTextColor(150,150,150),D.text(P(`Sayfa ${le}/${ue}`),I-30,U-10),D.text(P("Satış CRM - Analitik Raporu"),20,U-10);const ae=`analitik-rapor-${new Date().toISOString().split("T")[0]}.pdf`;D.save(ae),d({isOpen:!0,type:"success",title:"PDF Rapor İndirildi",message:`Profesyonel analitik rapor "${ae}" olarak PDF formatında indirildi.`,onConfirm:()=>d(le=>({...le,isOpen:!1}))})}catch(P){console.error("PDF Export error:",P),d({isOpen:!0,type:"error",title:"PDF Oluşturma Hatası",message:`PDF hatası: ${P.message}. Lütfen tekrar deneyin.`,onConfirm:()=>d(D=>({...D,isOpen:!1}))})}};if(t)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full spin-smooth mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 font-medium",children:"Analitik veriler yükleniyor..."})]})});const b=[{title:"Toplam Kayıt",value:r.totalRecords,icon:zy,iconBg:"bg-gradient-to-br from-blue-500 to-blue-600",change:`${r.monthlyGrowth>0?"+":""}${r.monthlyGrowth}%`,changeType:r.monthlyGrowth>0?"positive":"negative"},{title:"Başarılı Satış",value:r.successfulSales,icon:Ri,iconBg:"bg-gradient-to-br from-green-500 to-green-600",change:`%${r.conversionRate}`,changeType:"neutral"}];return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gradient-purple mb-2",children:"Analitik & Raporlar"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Detaylı satış performansı ve istatistiksel analiz"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-xl p-1 shadow-sm",children:[u.jsx("button",{onClick:()=>y("thisMonth"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o==="thisMonth"?"bg-gradient-purple text-white shadow-md":"text-gray-600 hover:text-purple-600"}`,children:"Bu Ay"}),u.jsx("button",{onClick:()=>y("lastMonth"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o==="lastMonth"?"bg-gradient-purple text-white shadow-md":"text-gray-600 hover:text-purple-600"}`,children:"Geçen Ay"}),u.jsx("button",{onClick:()=>y("custom"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o==="custom"?"bg-gradient-purple text-white shadow-md":"text-gray-600 hover:text-purple-600"}`,children:"Özel"})]}),o==="custom"&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"date",value:a.startDate,onChange:j=>s(M=>({...M,startDate:j.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),u.jsx("input",{type:"date",value:a.endDate,onChange:j=>s(M=>({...M,endDate:j.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-4 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-xl transition-colors",children:[u.jsx(Jc,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Yenile"})]}),u.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-purple text-white rounded-xl hover:shadow-lg transition-all",children:[u.jsx(A5,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Dışa Aktar"})]})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map((j,M)=>{const H=j.icon;return u.jsxs("div",{className:"card-modern p-6 hover:scale-105 transition-transform duration-300",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:`w-12 h-12 ${j.iconBg} rounded-xl flex items-center justify-center shadow-lg`,children:u.jsx(H,{className:"h-6 w-6 text-white"})}),u.jsxs("div",{className:`flex items-center space-x-1 text-sm font-semibold ${j.changeType==="positive"?"text-green-600":j.changeType==="negative"?"text-red-600":"text-gray-600"}`,children:[j.changeType==="positive"?u.jsx(Hc,{className:"h-4 w-4"}):j.changeType==="negative"?u.jsx(y6,{className:"h-4 w-4"}):null,u.jsx("span",{children:j.change})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:j.title}),u.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:j.value.toLocaleString("tr-TR")})]})]},M)})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card-modern p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Satış Detay Dağılımı"}),u.jsx(Hy,{className:"h-5 w-5 text-purple-600"})]}),u.jsxs("div",{className:"space-y-4",children:[((A=r.salesDetailDistribution)==null?void 0:A.map((j,M)=>{const H=["bg-gradient-to-r from-green-500 to-green-600","bg-gradient-to-r from-orange-500 to-orange-600","bg-gradient-to-r from-blue-500 to-blue-600","bg-gradient-to-r from-red-500 to-red-600","bg-gradient-to-r from-purple-500 to-purple-600","bg-gradient-to-r from-indigo-500 to-indigo-600"];return u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-4 h-4 rounded-full ${H[M%H.length]}`}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:j.name})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:j.count}),u.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[j.percentage,"%"]})]})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${H[M%H.length]}`,style:{width:`${j.percentage}%`}})})]},j.name)}))||u.jsxs("div",{className:"text-center text-gray-500 py-8",children:[u.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),u.jsx("div",{className:"text-sm",children:"Satış detay bilgisi mevcut değil"})]}),u.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"Toplam"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"text-xl font-bold text-purple-600",children:r.totalRecords}),u.jsx("span",{className:"text-sm font-semibold text-purple-600 bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded-full",children:"100%"})]})]})})]})]}),u.jsxs("div",{className:"card-modern p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Çağrı Kanalı Dağılımı"}),u.jsx(Uh,{className:"h-5 w-5 text-purple-600"})]}),u.jsx("div",{className:"space-y-4",children:((k=r.channelDistribution)==null?void 0:k.map((j,M)=>{const H=["bg-gradient-to-r from-blue-500 to-blue-600","bg-gradient-to-r from-green-500 to-green-600","bg-gradient-to-r from-yellow-500 to-yellow-600","bg-gradient-to-r from-red-500 to-red-600"];return u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-4 h-4 rounded-full ${H[M%H.length]}`}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:j.name})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:j.count}),u.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[j.percentage,"%"]})]})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${H[M%H.length]}`,style:{width:`${j.percentage}%`}})})]},j.name)}))||u.jsxs("div",{className:"text-center text-gray-500 py-8",children:[u.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),u.jsx("div",{className:"text-sm",children:"Çağrı kanalı bilgisi mevcut değil"})]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card-modern p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Çağrı Durumu Dağılımı"}),u.jsx(zy,{className:"h-5 w-5 text-purple-600"})]}),u.jsx("div",{className:"space-y-4",children:((E=r.callStatusDistribution)==null?void 0:E.map((j,M)=>{const H=["bg-gradient-to-r from-green-500 to-green-600","bg-gradient-to-r from-yellow-500 to-yellow-600","bg-gradient-to-r from-red-500 to-red-600","bg-gradient-to-r from-blue-500 to-blue-600"];return u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-4 h-4 rounded-full ${H[M%H.length]}`}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:j.name})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:j.count}),u.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[j.percentage,"%"]})]})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${H[M%H.length]}`,style:{width:`${j.percentage}%`}})})]},j.name)}))||u.jsxs("div",{className:"text-center text-gray-500 py-8",children:[u.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),u.jsx("div",{className:"text-sm",children:"Çağrı durumu bilgisi mevcut değil"})]})})]}),u.jsxs("div",{className:"card-modern p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Abonelik Son Durum Dağılımı"}),u.jsx(Ua,{className:"h-5 w-5 text-purple-600"})]}),u.jsx("div",{className:"space-y-4",children:((S=r.subscriptionStatusDistribution)==null?void 0:S.map((j,M)=>{const H=["bg-gradient-to-r from-emerald-500 to-emerald-600","bg-gradient-to-r from-amber-500 to-amber-600","bg-gradient-to-r from-rose-500 to-rose-600","bg-gradient-to-r from-cyan-500 to-cyan-600","bg-gradient-to-r from-violet-500 to-violet-600"];return u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-4 h-4 rounded-full ${H[M%H.length]}`}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:j.name})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:j.count}),u.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[j.percentage,"%"]})]})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full ${H[M%H.length]}`,style:{width:`${j.percentage}%`}})})]},j.name)}))||u.jsxs("div",{className:"text-center text-gray-500 py-8",children:[u.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),u.jsx("div",{className:"text-sm",children:"Abonelik durumu bilgisi mevcut değil"})]})})]})]}),u.jsxs("div",{className:"card-modern p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Personel Performansı"}),u.jsx(Ua,{className:"h-5 w-5 text-purple-600"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Personel"}),u.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Toplam Kayıt"}),u.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Başarılı Satış"}),u.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Dönüşüm Oranı"}),u.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Performans"})]})}),u.jsx("tbody",{children:r.personnelPerformance.map((j,M)=>u.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[u.jsx("td",{className:"py-4 px-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-purple rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white text-sm font-semibold",children:j.name.charAt(0).toUpperCase()})}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:j.name})]})}),u.jsx("td",{className:"py-4 px-4 text-center text-gray-600 dark:text-gray-400",children:j.totalRecords}),u.jsx("td",{className:"py-4 px-4 text-center",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:j.successfulSales})}),u.jsxs("td",{className:"py-4 px-4 text-center text-gray-600 dark:text-gray-400",children:["%",j.conversionRate]}),u.jsx("td",{className:"py-4 px-4 text-center",children:u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-purple h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(j.conversionRate,100)}%`}})})})]},M))})]})})]}),u.jsxs("div",{className:"card-modern p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Dönüşüm Oranı Analizi"}),u.jsx(gf,{className:"h-5 w-5 text-purple-600"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:u.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:u.jsx(w1,{className:"h-8 w-8 text-white"})}),u.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Genel Dönüşüm Oranı"}),u.jsxs("p",{className:"text-4xl font-bold text-green-600 mb-2",children:["%",r.conversionRate]}),u.jsxs("p",{className:"text-lg text-gray-600",children:[r.totalRecords," kayıttan ",r.successfulSales," başarılı satış"]})]})})]})]})}),u.jsx(mx,{isOpen:h.isOpen,onClose:()=>d(j=>({...j,isOpen:!1})),title:h.title,type:h.type,onConfirm:h.onConfirm,children:u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:h.message})})]})},uM=()=>{const{currentUser:t,userRole:e}=os(),[r,n]=be.useState([]),[a,s]=be.useState(!0),[o,c]=be.useState(new Date().getFullYear()),[h,d]=be.useState([]),[p,y]=be.useState({totalRecords:0,totalSales:0,conversionRate:0,activePersonnel:0}),v=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"];be.useEffect(()=>{b()},[o,t]);const b=async()=>{s(!0);try{let k=hr(Lt,"sales_records"),E=[];if(e!=="admin"){if(e==="teamLeader"){const R=await Vr(hr(Lt,"users")),C=[];R.forEach(W=>{C.push({id:W.id,...W.data()})}),E.push(t.uid),C.filter(W=>W.teamLeader===t.uid||W.teamLeader===t.id).forEach(W=>{E.push(W.id)})}else E=[t.uid];k=Sa(k,$s("createdBy","in",E))}const S=await Vr(k),j=[],M=new Set;S.forEach(R=>{const C=R.data();if(C.tarih){j.push(C);const B=new Date(C.tarih).getFullYear();B>=2020&&B<=2030&&M.add(B)}});const H=Array.from(M).sort((R,C)=>C-R);d(H);const K=new Set;j.forEach(R=>{R.detay&&K.add(R.detay)});const X={};let P=0,D=0;const I=new Set;for(let R=0;R<12;R++)X[R]={month:R,monthName:v[R],totalRecords:0,sales:0,arandi:0,mesgul:0,ulasilamadi:0,geriArama:0,reddetti:0,other:0,conversionRate:0,personnel:new Set,statusBreakdown:{}};j.forEach(R=>{const C=new Date(R.tarih),B=C.getFullYear(),W=C.getMonth();if(B===o){P++,I.add(R.createdByName||R.personel);const ue=X[W];ue.totalRecords++,ue.personnel.add(R.createdByName||R.personel),(R.detay==="Satış Sağlandı"||R.detay==="Satış sağlandı")&&(ue.sales++,D++);const ae=R.durum||"Diğer";switch(ue.statusBreakdown[ae]=(ue.statusBreakdown[ae]||0)+1,ae){case"Arandı":ue.arandi++;break;case"Meşgul":ue.mesgul++;break;case"Ulaşılamadı":ue.ulasilamadi++;break;case"Geri Arama":ue.geriArama++;break;case"Reddetti":ue.reddetti++;break;default:ue.other++}}}),Object.values(X).forEach(R=>{R.conversionRate=R.totalRecords>0?(R.sales/R.totalRecords*100).toFixed(1):0,R.personnelCount=R.personnel.size});const U=Object.values(X);n(U),y({totalRecords:P,totalSales:D,conversionRate:P>0?(D/P*100).toFixed(1):0,activePersonnel:I.size})}catch(k){console.error("Aylık veri yükleme hatası:",k)}finally{s(!1)}},A=()=>{const E=[["Ay","Toplam Kayıt","Satış","Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti","Dönüşüm Oranı","Aktif Personel"].join(","),...r.map(H=>[H.monthName,H.totalRecords,H.sales,H.arandi,H.mesgul,H.ulasilamadi,H.geriArama,H.reddetti,`${H.conversionRate}%`,H.personnelCount].join(","))].join(`
`),S=new Blob([E],{type:"text/csv"}),j=window.URL.createObjectURL(S),M=document.createElement("a");M.href=j,M.download=`aylik-karsilastirma-${o}.csv`,M.click()};return a?u.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),u.jsx("span",{className:"ml-3 text-gray-600",children:"Aylık veriler yükleniyor..."})]}):u.jsxs("div",{className:"p-6 min-h-screen bg-gray-50 dark:bg-gray-900",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Aylık Karşılaştırma"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Aylık performans analizi ve karşılaştırma"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("select",{value:o,onChange:k=>c(parseInt(k.target.value)),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:h.map(k=>u.jsx("option",{value:k,children:k},k))}),u.jsxs("button",{onClick:A,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[u.jsx(A5,{className:"h-4 w-4 mr-2"}),"CSV İndir"]})]})]})}),a?u.jsx("div",{className:"flex justify-center items-center py-20",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam Kayıt"}),u.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.totalRecords})]}),u.jsx(Uh,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam Satış"}),u.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:p.totalSales})]}),u.jsx(Ri,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Dönüşüm Oranı"}),u.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[p.conversionRate,"%"]})]}),u.jsx(gf,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aktif Personel"}),u.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:p.activePersonnel})]}),u.jsx(Ua,{className:"h-8 w-8 text-indigo-600 dark:text-indigo-400"})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[u.jsx(Im,{className:"h-5 w-5 mr-2"}),o," Yılı Aylık Performans"]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ay"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Toplam Kayıt"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Satış"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Arandı"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Meşgul"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ulaşılamadı"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Dönüşüm"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Trend"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Personel"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.map((k,E)=>{const S=E>0?r[E-1]:null,j=S?k.sales>S.sales?u.jsx(Hc,{className:"h-4 w-4 text-green-500"}):k.sales<S.sales?u.jsx(y6,{className:"h-4 w-4 text-red-500"}):u.jsx(Y4,{className:"h-4 w-4 text-gray-400"}):u.jsx(Y4,{className:"h-4 w-4 text-gray-400"});return u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"flex items-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k.monthName})})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:k.totalRecords}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:k.sales})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:k.arandi})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300",children:k.mesgul})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",children:k.ulasilamadi})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-2",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(k.conversionRate,100)}%`}})}),u.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[k.conversionRate,"%"]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"flex items-center justify-center",children:j})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:k.personnelCount})]},k.month)})})]})})]})]})]})},zs=({allowedRoles:t,children:e,fallback:r=null})=>{const{userRole:n}=os();return n&&t.includes(n)?e:r},fM=()=>{const[t,e]=be.useState([]),[r,n]=be.useState(!0),a=async()=>{try{const o=await Vr(hr(Lt,"users")),c={},h={};o.forEach(v=>{const b=v.data(),A=b.uid||v.id;c[A]={...b,id:A},(b.role==="teamLeader"||b.role==="Team Leader")&&(h[A]={leader:b,members:[]})}),Object.values(c).forEach(v=>{(v.role==="personnel"||v.role==="Personnel")&&v.teamLeader&&h[v.teamLeader]&&h[v.teamLeader].members.push(v)});const d=await Vr(hr(Lt,"sales_records")),p=[];d.forEach(v=>{var A;const b=v.data();p.push({...b,id:v.id,createdAt:((A=b.createdAt)==null?void 0:A.toDate())||new Date(b.tarih)})});const y=[];Object.entries(h).forEach(([v,b])=>{const A=[v,...b.members.map(H=>H.id)],k=p.filter(H=>A.includes(H.createdBy)),E=A.map(H=>{const K=k.filter(D=>D.createdBy===H),X=K.filter(D=>D.detay==="Satış Sağlandı"||D.detay==="Satış sağlandı").length;return{user:c[H],totalRecords:K.length,successfulSales:X,conversionRate:K.length>0?X/K.length*100:0,isLeader:H===v}}),S=E.reduce((H,K)=>H+K.totalRecords,0),j=E.reduce((H,K)=>H+K.successfulSales,0),M=E.length>0?E.reduce((H,K)=>H+K.conversionRate,0)/E.length:0;y.push({leader:b.leader,members:E,teamStats:{totalMembers:A.length,totalRecords:S,totalSuccessfulSales:j,averageConversionRate:M}})}),y.sort((v,b)=>b.teamStats.totalSuccessfulSales-v.teamStats.totalSuccessfulSales),e(y)}catch(o){console.error("Takım performansı hesaplanırken hata:",o)}finally{n(!1)}};be.useEffect(()=>{a()},[]);const s=o=>{switch(o){case 0:return{emoji:"🥇",text:"En İyi Takım",color:"text-yellow-600 bg-yellow-100"};case 1:return{emoji:"🥈",text:"İkinci Takım",color:"text-gray-600 bg-gray-100"};case 2:return{emoji:"🥉",text:"Üçüncü Takım",color:"text-orange-600 bg-orange-100"};default:return null}};return r?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Takım performansı hesaplanıyor..."})})}):u.jsx(zs,{allowedRoles:["admin","teamLeader"],children:u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:u.jsx(Uh,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Takım Performansı Karşılaştırması"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Takım liderlerinin ve üyelerinin detaylı performans analizi"})]})]})}),u.jsx("div",{className:"space-y-8",children:t.map((o,c)=>{const h=s(c);return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Ua,{className:"w-6 h-6"}),u.jsxs("h2",{className:"text-2xl font-bold",children:[o.leader.displayName||o.leader.email," Takımı"]})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"opacity-80",children:"Üye Sayısı"}),u.jsx("div",{className:"text-xl font-bold",children:o.teamStats.totalMembers})]}),u.jsxs("div",{children:[u.jsx("div",{className:"opacity-80",children:"Toplam Kayıt"}),u.jsx("div",{className:"text-xl font-bold",children:o.teamStats.totalRecords})]}),u.jsxs("div",{children:[u.jsx("div",{className:"opacity-80",children:"Başarılı Satış"}),u.jsx("div",{className:"text-xl font-bold",children:o.teamStats.totalSuccessfulSales})]}),u.jsxs("div",{children:[u.jsx("div",{className:"opacity-80",children:"Ortalama Dönüşüm"}),u.jsxs("div",{className:"text-xl font-bold",children:["%",o.teamStats.averageConversionRate.toFixed(1)]})]})]})]}),h&&u.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${h.color}`,children:[h.emoji," ",h.text]})]})}),u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"grid gap-4",children:o.members.map(d=>u.jsxs("div",{className:`p-4 rounded-lg border-2 ${d.isLeader?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700"}`,children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${d.isLeader?"bg-blue-500":"bg-green-500"}`,children:d.isLeader?"L":"T"}),u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[d.user.displayName||d.user.email,d.isLeader&&" (Takım Lideri)"]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:d.user.email})]})]}),u.jsxs("div",{className:"flex gap-6 text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Kayıt"}),u.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:d.totalRecords})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Başarılı"}),u.jsx("div",{className:"font-bold text-green-600",children:d.successfulSales})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Dönüşüm"}),u.jsxs("div",{className:`font-bold ${d.conversionRate>=75?"text-green-600":d.conversionRate>=50?"text-yellow-600":"text-red-600"}`,children:["%",d.conversionRate.toFixed(1)]})]})]})]}),u.jsx("div",{className:"mt-3",children:u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d.conversionRate>=75?"bg-green-500":d.conversionRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(d.conversionRate,100)}%`}})})})]},d.user.id))})})]},o.leader.id)})}),t.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(v6,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Henüz takım verisi bulunmuyor"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Takım performansını görüntülemek için önce takım yapısını oluşturun."})]})]})})})},hM=()=>{const{currentUser:t,userRole:e,userName:r,logout:n,sessionTimeout:a,lastActivity:s}=os(),{darkMode:o,toggleDarkMode:c}=v9(),[h,d]=be.useState(!1),[p,y]=be.useState(!1),[v,b]=be.useState(0);be.useEffect(()=>{if(!t||!a||!s)return;const M=()=>{const X=Date.now()-s,P=a*60*1e3,D=Math.max(0,P-X);b(D)};M();const H=setInterval(M,1e3);return()=>clearInterval(H)},[t,a,s]);const A=M=>{const H=Math.floor(M/6e4),K=Math.floor(H/60),X=H%60;return K>0?`${K}s ${X}dk`:`${X}dk`},k=M=>{const H=Math.floor(M/6e4);return H<=5?"text-red-600":H<=15?"text-yellow-600":"text-green-600"},E=async()=>{try{await n()}catch(M){console.error("Çıkış yapma hatası:",M)}},S=M=>{switch(M){case"admin":return"Yönetici";case"teamLeader":return"Takım Lideri";case"personnel":return"Personel";default:return"Kullanıcı"}},j=M=>{switch(M){case"admin":return"badge-purple";case"teamLeader":return"badge-success";case"personnel":return"badge-warning";default:return"badge-purple"}};return u.jsxs("nav",{className:"bg-white dark:bg-gray-800 shadow-modern border-b border-purple-100 dark:border-gray-700 sticky top-0 z-40",children:[u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-6 ml-auto",children:[u.jsx("button",{onClick:c,className:"p-2 text-gray-400 hover:text-purple-600 rounded-xl hover:bg-purple-50 transition-all duration-300 icon-hover",title:o?"Açık temaya geç":"Koyu temaya geç",children:o?u.jsx(Q4,{className:"h-5 w-5"}):u.jsx(X4,{className:"h-5 w-5"})}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>d(!h),className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-purple-50 transition-all duration-300 group",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-purple rounded-lg flex items-center justify-center shadow-md group-hover:shadow-lg transition-shadow",children:u.jsx(f0,{className:"h-4 w-4 text-white"})}),u.jsxs("div",{className:"hidden lg:block text-left",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r||(t==null?void 0:t.name)||"Kullanıcı"}),u.jsx("p",{className:"text-xs text-gray-500",children:t==null?void 0:t.email})]}),u.jsx(k5,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${h?"rotate-180":""}`})]}),h&&u.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-modern-hover border border-purple-100 dark:border-gray-700 py-2 z-50",children:[u.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(f0,{className:"h-6 w-6 text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r||(t==null?void 0:t.name)||"Kullanıcı"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t==null?void 0:t.email}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsxs("span",{className:`${j(e)}`,children:[u.jsx(bs,{className:"h-3 w-3 mr-1"}),S(e)]}),(t==null?void 0:t.isSwitched)&&u.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full",children:"Geçiş Modu"})]}),t&&a&&u.jsxs("div",{className:"flex items-center space-x-1 mt-2 text-xs",children:[u.jsx(Gy,{className:"h-3 w-3 text-gray-400"}),u.jsx("span",{className:"text-gray-500",children:"Oturum:"}),u.jsx("span",{className:k(v),children:A(v)})]})]})]})}),(t==null?void 0:t.isSwitched)&&u.jsx("div",{className:"border-t border-gray-100 pt-2",children:u.jsxs("button",{onClick:()=>{sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),window.location.reload()},className:"w-full flex items-center space-x-3 px-4 py-2 text-purple-600 hover:bg-purple-50 transition-colors text-left font-medium",children:[u.jsx(bs,{className:"h-4 w-4"}),u.jsx("span",{children:"Admin Hesabına Dön"})]})}),u.jsx("div",{className:"border-t border-gray-100 pt-2",children:u.jsxs("button",{onClick:E,className:"w-full flex items-center space-x-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors text-left font-medium",children:[u.jsx(K4,{className:"h-4 w-4"}),u.jsx("span",{children:"Çıkış Yap"})]})}),u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700"})]})]})]}),u.jsx("div",{className:"md:hidden",children:u.jsx("button",{onClick:()=>y(!p),className:"p-2 text-gray-400 hover:text-purple-600 rounded-xl hover:bg-purple-50 transition-all duration-300",children:p?u.jsx(oc,{className:"h-6 w-6"}):u.jsx(E6,{className:"h-6 w-6"})})})]}),p&&u.jsxs("div",{className:"md:hidden border-t border-purple-100 py-4 space-y-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 px-2",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(f0,{className:"h-5 w-5 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-900",children:r||(t==null?void 0:t.name)||"Kullanıcı"}),u.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("span",{className:`${j(e)} text-xs`,children:[u.jsx(bs,{className:"h-3 w-3 mr-1"}),S(e)]}),(t==null?void 0:t.isSwitched)&&u.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full",children:"Geçiş"})]}),t&&a&&u.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-xs",children:[u.jsx(Gy,{className:"h-3 w-3 text-gray-400"}),u.jsx("span",{className:"text-gray-500",children:"Oturum:"}),u.jsx("span",{className:k(v),children:A(v)})]})]})]}),u.jsxs("div",{className:"space-y-2 px-2",children:[u.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-purple-50 hover:text-purple-700 rounded-xl transition-colors text-left",children:[o?u.jsx(Q4,{className:"h-5 w-5"}):u.jsx(X4,{className:"h-5 w-5"}),u.jsx("span",{className:"font-medium",children:o?"Açık Tema":"Koyu Tema"})]}),(t==null?void 0:t.isSwitched)&&u.jsxs("button",{onClick:()=>{sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),window.location.reload()},className:"w-full flex items-center space-x-3 p-3 text-purple-600 hover:bg-purple-50 rounded-xl transition-colors text-left font-medium",children:[u.jsx(bs,{className:"h-5 w-5"}),u.jsx("span",{children:"Admin Hesabına Dön"})]}),u.jsxs("button",{onClick:E,className:"w-full flex items-center space-x-3 p-3 text-red-600 hover:bg-red-50 rounded-xl transition-colors text-left font-medium",children:[u.jsx(K4,{className:"h-5 w-5"}),u.jsx("span",{children:"Çıkış Yap"})]})]})]})]}),h&&u.jsx("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-25",onClick:()=>d(!1)})]})},dM=()=>{const t=lu(),{currentUser:e}=os(),[r,n]=be.useState(!1),[a,s]=be.useState(!1),[o,c]=be.useState(new Set(["Genel"])),h=be.useMemo(()=>{const S={admin:[{title:"Genel",items:[{path:"/dashboard",icon:vg,label:"Anasayfa",description:"Genel bakış ve istatistikler"}]},{title:"Satış İşlemleri",items:[{path:"/records",icon:$g,label:"Satış Kayıtları",description:"Tüm satış verilerini görüntüle"},{path:"/add-record",icon:rf,label:"Yeni Kayıt Ekle",description:"Yeni satış kaydı oluştur"}]},{title:"Analitik & Raporlar",items:[{path:"/analytics",icon:Uh,label:"Analitik",description:"Detaylı performans analizleri"},{path:"/monthly-comparison",icon:Im,label:"Aylık Karşılaştırma",description:"Aylara göre performans kıyaslaması"},{path:"/team-performance",icon:w1,label:"Takım Performansı",description:"Takım performansı karşılaştırması"}]},{title:"Yönetim",items:[{path:"/user-management",icon:Ua,label:"Kullanıcı Yönetimi",description:"Personel ve yetki yönetimi"},{path:"/user-switcher",icon:bs,label:"Hesap Geçişi",description:"Kullanıcı hesaplarına geçiş yap"},{path:"/team-management",icon:Zc,label:"Takım Yönetimi",description:"Takım liderlerini ve personelleri yönet"},{path:"/target-management",icon:gf,label:"Hedef Yönetimi",description:"Satış hedeflerini belirle"},{path:"/dropdown-settings",icon:k6,label:"Dropdown Ayarları",description:"Form seçeneklerini yönet"}]},{title:"Veri Yönetimi",items:[{path:"/data-import",icon:Ky,label:"Veri İçe Aktarma",description:"Excel dosyalarından toplu veri aktarımı"},{path:"/data-update",icon:Jc,label:"Veri Güncelleme",description:"Mevcut kayıtları doğru personellerle eşleştir"}]},{title:"Sistem",items:[{path:"/settings",icon:E5,label:"Sistem Ayarları",description:"Uygulama konfigürasyonu"},{path:"/system-logs",icon:bs,label:"Sistem Log Kayıtları",description:"Güvenlik ve aktivite logları"}]}],teamLeader:[{title:"Genel",items:[{path:"/dashboard",icon:vg,label:"Anasayfa",description:"Genel bakış ve istatistikler"}]},{title:"Satış İşlemleri",items:[{path:"/records",icon:$g,label:"Satış Kayıtları",description:"Takım satış verilerini görüntüle"},{path:"/add-record",icon:rf,label:"Yeni Kayıt Ekle",description:"Yeni satış kaydı oluştur"}]},{title:"Analitik & Raporlar",items:[{path:"/analytics",icon:Uh,label:"Analitik",description:"Detaylı performans analizleri"},{path:"/monthly-comparison",icon:Im,label:"Aylık Karşılaştırma",description:"Aylara göre performans kıyaslaması"}]},{title:"Takım Yönetimi",items:[{path:"/team-performance",icon:w1,label:"Takım Performansı",description:"Ekip performans metrikleri"},{path:"/target-management",icon:gf,label:"Hedef Yönetimi",description:"Takım hedeflerini belirle"}]}],personnel:[{title:"Genel",items:[{path:"/dashboard",icon:vg,label:"Anasayfa",description:"Genel bakış ve istatistikler"}]},{title:"Satış İşlemleri",items:[{path:"/records",icon:$g,label:"Satış Kayıtlarım",description:"Kişisel satış verileriniz"},{path:"/add-record",icon:rf,label:"Yeni Kayıt Ekle",description:"Yeni satış kaydı oluştur"}]}]};return S[e==null?void 0:e.role]||S.personnel},[e==null?void 0:e.role]),d=S=>t.pathname===S,p=be.useCallback(async S=>{s(!1),e&&e.uid!=="wupaniyazilim@gmail.com"&&setTimeout(async()=>{var j;try{await vs.logSidebarMenuClick(e.uid,e.name||((j=e.email)==null?void 0:j.split("@")[0])||"Kullanıcı",S.label,S.path)}catch(M){console.error("Menu click log hatası:",M)}},0)},[e]),y=be.useCallback(()=>{n(S=>!S)},[]),v=be.useCallback(()=>{s(S=>!S)},[]),b=be.useCallback(S=>{r||c(j=>{const M=new Set(j);return M.has(S)?M.delete(S):M.add(S),M})},[r]),A=be.useCallback(S=>r||o.has(S),[r,o]),k=be.useCallback(({category:S,isExpanded:j,onToggle:M})=>u.jsxs("button",{onClick:()=>M(S.title),className:"w-full flex items-center justify-between p-2 text-left hover:bg-purple-50 rounded-lg transition-colors duration-150",children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:S.title}),j?u.jsx(K9,{className:"h-4 w-4 text-gray-400"}):u.jsx(k5,{className:"h-4 w-4 text-gray-400"})]}),[]),E=be.useCallback(({item:S,isCollapsed:j,active:M,onMenuClick:H})=>{const K=S.icon;return u.jsx("li",{children:u.jsxs(Nv,{to:S.path,onClick:()=>H(S),className:`
            group flex items-center rounded-xl transition-colors duration-150
            ${j?"p-3 justify-center":"p-3 ml-2"}
            ${M?"bg-gradient-purple text-white shadow-lg":"text-gray-700 dark:text-gray-300 hover:bg-purple-50 hover:text-purple-700"}
          `,title:j?S.label:"",children:[u.jsx(K,{className:`
            flex-shrink-0 transition-colors duration-150
            ${j?"h-6 w-6":"h-5 w-5"}
            ${M?"text-white":"text-gray-400 group-hover:text-purple-600"}
          `}),!j&&u.jsxs("div",{className:"ml-3 flex-1",children:[u.jsx("span",{className:"font-medium text-sm",children:S.label}),u.jsx("p",{className:`text-xs mt-0.5 ${M?"text-purple-100":"text-gray-500 dark:text-gray-400 group-hover:text-purple-500"}`,children:S.description})]}),!j&&M&&u.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-75"})]})})},[]);return u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:v,className:"lg:hidden fixed top-20 left-4 z-50 p-2 bg-gradient-purple text-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-200",children:a?u.jsx(oc,{className:"h-5 w-5"}):u.jsx(E6,{className:"h-5 w-5"})}),a&&u.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:v}),u.jsx("aside",{className:`
        fixed lg:relative top-0 left-0 z-40 h-full bg-white dark:bg-gray-800 border-r border-purple-100 dark:border-gray-700 shadow-modern
        transition-transform duration-200 ease-out transform-gpu
        ${r?"w-20":"w-72"}
        ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:`flex items-center border-b border-purple-100 ${r?"p-4 justify-center":"p-6 justify-between"}`,children:[!r&&u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(qy,{className:"h-5 w-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold text-gradient-purple",children:"Satış CRM"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Profesyonel Satış Sistemi"})]})]}),r&&u.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(qy,{className:"h-5 w-5 text-white"})}),u.jsx("button",{onClick:y,className:"hidden lg:flex p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-xl transition-colors duration-200 icon-hover",children:r?u.jsx(b6,{className:"h-5 w-5"}):u.jsx(H9,{className:"h-5 w-5"})})]}),u.jsx("nav",{className:"flex-1 py-6 overflow-y-auto scrollbar-thin scrollbar-thumb-purple-200 scrollbar-track-transparent hover:scrollbar-thumb-purple-300",children:u.jsx("div",{className:`space-y-2 ${r?"px-3":"px-6"}`,children:h.map((S,j)=>{const M=A(S.title);return u.jsxs("div",{className:"mb-2",children:[r?null:u.jsx(k,{category:S,isExpanded:M,onToggle:b}),u.jsx("div",{className:`overflow-hidden transition-all duration-200 will-change-transform transform-gpu ${M?"max-h-96 opacity-100":"max-h-0 opacity-0"} ${r?"":"mt-1"}`,children:u.jsx("ul",{className:"space-y-1",children:S.items.map(H=>{const K=d(H.path);return u.jsx(E,{item:H,isCollapsed:r,active:K,onMenuClick:p},H.path)})})})]},j)})})}),u.jsx("div",{className:`p-4 border-t border-purple-100 ${r?"text-center":""}`,children:r?u.jsx("div",{className:"w-8 h-8 bg-gradient-purple rounded-lg flex items-center justify-center mx-auto",children:u.jsx(vg,{className:"h-4 w-4 text-white"})}):u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Satış Takip CRM v2.0"}),u.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"© 2024 Tüm hakları saklıdır"})]})})]})})]})},mM=be.memo(dM),y3=()=>{const t=Date.now(),e=Math.random().toString(36).substring(2,8);return`REF-${t}-${e.toUpperCase()}`},Qg=t=>{if(!t)return"";try{const e=new Date(t);if(isNaN(e.getTime()))return"";const r=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${r}/${n}/${a}`}catch(e){return console.warn("Tarih formatlanırken hata:",t,e),""}},v3=t=>{if(!t)return"";const e=new Date(t),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${a}`},pM=t=>{if(!t||typeof t!="string")return"";try{const e=t.replace(/\D/g,"");return e.length===11&&e.startsWith("0")?e.replace(/(\d{4})(\d{3})(\d{2})(\d{2})/,"$1 $2 $3 $4"):t}catch(e){return console.warn("Telefon formatlanırken hata:",t,e),t||""}},gM=()=>{const{currentUser:t,userRole:e}=os(),[r,n]=be.useState(!1),[a,s]=be.useState(""),[o,c]=be.useState([]),[h,d]=be.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null}),[p,y]=be.useState(""),[v,b]=be.useState({kanalList:[],durumList:[],detayList:[],abonelikDurumList:[]}),[A,k]=be.useState({refId:y3(),personel:"",tarih:v3(new Date),telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""});be.useEffect(()=>{(async()=>{if(t)try{const P=hr(Lt,"users"),I=(await Vr(P)).docs.map(C=>({id:C.id,...C.data(),displayName:C.data().name||C.data().email||"Kullanıcı"})).filter(C=>C.isActive!==!1&&C.email!=="wupaniyazilim@gmail.com"&&(C.role==="Personnel"||C.role==="Team Leader"||C.role==="personnel"||C.role==="teamLeader"));c(I);const U=sn(Lt,"dropdown_settings","main"),R=await Xi(U);if(R.exists()){const C=R.data();b({kanalList:C.kanalList||[],durumList:C.durumList||[],detayList:C.detayList||[],abonelikDurumList:C.abonelikDurumList||[]})}else b({kanalList:["Telefon","WhatsApp","E-posta","Yüz Yüze","Web Site"],durumList:["Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti"],detayList:["İlgilendi","Düşünecek","Fiyat Sordu","Bilgi İstedi","İlgilenmedi","Satış Sağlandı"],abonelikDurumList:["Yeni Abone","Mevcut Abone","İptal","Askıya Alındı","Beklemede"]});if(e==="personnel"){const C=I.find(B=>B.uid===t.uid);if(C){const B=C.name||C.email;s(B),k(W=>({...W,personel:B}))}else{const B=I.find(W=>W.email===t.email);if(B){const W=B.name||B.email;s(W),k(ue=>({...ue,personel:W}))}}}}catch(P){console.error("Veriler yüklenirken hata:",P)}})()},[t,e]);const E=X=>{const P=X.replace(/\s+/g,"").replace(/[()-]/g,""),D=/^(05)([0-9]{2})([0-9]{3})([0-9]{2})([0-9]{2})$/,I=/^(0)([2-4])([0-9]{2})([0-9]{3})([0-9]{2})([0-9]{2})$/;return P?P.length!==11?"Telefon numarası 11 haneli olmalıdır.":P.startsWith("0")?!D.test(P)&&!I.test(P)?"Geçersiz telefon numarası formatı.":"":"Telefon numarası 0 ile başlamalıdır.":"Telefon numarası gereklidir."},S=X=>{const P=X.replace(/\D/g,"");return P.length>11?X.slice(0,-1):P.length>=7?P.replace(/^(\d{4})(\d{3})(\d{2})(\d{2})/,"$1 $2 $3 $4"):P.length>=4?P.replace(/^(\d{4})(\d{0,3})/,"$1 $2"):P},j=X=>{const{name:P,value:D}=X.target;if(P==="telefon"){const I=S(D),U=E(I);y(U),k(R=>({...R,[P]:I}))}else k(P==="kanal"&&D==="Fake Talep"?I=>({...I,[P]:D,durum:"",detay:"",abonelikDurum:"",aboneNo:""}):I=>({...I,[P]:D}))},M=A.kanal==="Fake Talep",H=async X=>{var D;X.preventDefault();const P=E(A.telefon);if(P){d({isOpen:!0,type:"error",title:"Geçersiz Telefon Numarası",message:P,onConfirm:null});return}if(!M&&!A.durum){d({isOpen:!0,type:"error",title:"Eksik Bilgi",message:"Çağrı Durumu seçimi zorunludur.",onConfirm:null});return}n(!0);try{const I={...A,createdBy:t.uid,createdAt:Bh(),updatedAt:Bh()};await ip(hr(Lt,"sales_records"),I),await vs.logSalesRecordCreated(t.uid,t.name||((D=t.email)==null?void 0:D.split("@")[0])||"Kullanıcı",A),k({refId:y3(),personel:e==="personnel"?a:"",tarih:v3(new Date),telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""}),d({isOpen:!0,type:"success",title:"Kayıt Eklendi",message:`Kayıt başarıyla eklendi!
Referans ID: ${A.refId}`,onConfirm:null})}catch(I){console.error("Kayıt eklenirken hata:",I),d({isOpen:!0,type:"error",title:"Hata",message:"Kayıt eklenirken bir hata oluştu. Lütfen tekrar deneyin.",onConfirm:null})}n(!1)},K=()=>{d({isOpen:!1,type:"info",title:"",message:"",onConfirm:null})};return u.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Yeni Satış Kaydı"}),u.jsxs("form",{onSubmit:H,className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Referans ID"}),u.jsx("input",{type:"text",name:"refId",value:A.refId,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Personel ",u.jsx("span",{className:"text-red-500",children:"*"})]}),e==="personnel"?u.jsx("input",{type:"text",name:"personel",value:A.personel,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}):u.jsxs("select",{name:"personel",value:A.personel,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"",children:"Seçiniz"}),o.map(X=>u.jsx("option",{value:X.displayName,children:X.displayName},X.id))]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tarih ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"date",name:"tarih",value:A.tarih,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Telefon ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx("input",{type:"tel",name:"telefon",value:A.telefon,onChange:j,required:!0,placeholder:"0555 123 45 67",maxLength:"13",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 dark:placeholder-gray-400 ${p?"border-red-300 dark:border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"}`}),p&&u.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center",children:[u.jsx(N0,{className:"h-4 w-4 mr-1"}),p]}),u.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Format: 0555 123 45 67 (Mobil) veya 0212 123 45 67 (Sabit)"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Çağrı Kanalı ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{name:"kanal",value:A.kanal,onChange:j,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"",children:"Seçiniz"}),v.kanalList.map(X=>u.jsx("option",{value:X,children:X},X))]})]}),!M&&u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Çağrı Durumu ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsxs("select",{name:"durum",value:A.durum,onChange:j,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"",children:"Seçiniz"}),v.durumList.map(X=>u.jsx("option",{value:X,children:X},X))]})]}),!M&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Satış Çağrısı Detayı"}),u.jsxs("select",{name:"detay",value:A.detay,onChange:j,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"",children:"Seçiniz"}),v.detayList.map(X=>u.jsx("option",{value:X,children:X},X))]})]}),!M&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Abonelik Durumu"}),u.jsxs("select",{name:"abonelikDurum",value:A.abonelikDurum,onChange:j,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"",children:"Seçiniz"}),v.abonelikDurumList.map(X=>u.jsx("option",{value:X,children:X},X))]})]}),!M&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Abone Numarası"}),u.jsx("input",{type:"text",name:"aboneNo",value:A.aboneNo,onChange:j,placeholder:"12345678",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 dark:placeholder-gray-400"})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Açıklama/Not"}),u.jsx("textarea",{name:"not",value:A.not,onChange:j,rows:"3",placeholder:"Ek açıklamalar...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 dark:placeholder-gray-400"})]})]}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsxs("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(pf,{className:"h-4 w-4 mr-2"}),r?"Kaydediliyor...":"Kaydet"]})})]}),u.jsx(mx,{isOpen:h.isOpen,onClose:K,title:h.title,message:h.message,type:h.type,onConfirm:h.onConfirm,confirmText:"Tamam"})]})},xM=({isOpen:t,onClose:e,children:r})=>{if(!t)return null;const n=document.getElementById("modal-root")||document.body;return M1.createPortal(u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:e,children:u.jsx("div",{style:{position:"relative",maxHeight:"90vh",overflow:"auto",margin:"0"},onClick:a=>a.stopPropagation(),children:r})}),n)},yM=()=>{const{currentUser:t,userRole:e}=os(),[r,n]=be.useState([]),[a,s]=be.useState(!0),[o,c]=be.useState(null),[h,d]=be.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null,recordToDelete:null}),[p,y]=be.useState({kanalList:[],durumList:[],detayList:[],abonelikDurumList:[]}),[v,b]=be.useState({personel:"",kanal:"",durum:"",detay:"",abonelikDurum:"",dateFrom:"",dateTo:""}),[A,k]=be.useState(1),[E]=be.useState(10),[S,j]=be.useState(""),[M,H]=be.useState(null),[K,X]=be.useState(!1),[P,D]=be.useState({personel:"",tarih:"",telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""});be.useEffect(()=>((async()=>{if(!(!t||!e))try{const Te=hr(Lt,"users"),Qe=Sa(Te,$s("uid","==",t.uid)),Le=await Vr(Qe);if(Le.empty){const pe=Sa(Te,$s("email","==",t.email)),Ke=await Vr(pe);if(!Ke.empty){const xt=Ke.docs[0].data();j(xt.name||"")}}else{const pe=Le.docs[0].data();j(pe.name||"")}}catch(Te){console.error("Kullanıcı adı alınırken hata:",Te)}})(),()=>{document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width=""}),[t,e]),be.useEffect(()=>{(async()=>{try{const Te=sn(Lt,"dropdown_settings","main"),Qe=await Xi(Te);if(Qe.exists()){const Le=Qe.data();y({kanalList:Le.kanalList||[],durumList:Le.durumList||[],detayList:Le.detayList||[],abonelikDurumList:Le.abonelikDurumList||[]})}else y({kanalList:["Telefon","WhatsApp","E-posta","Yüz Yüze","Web Site"],durumList:["Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti"],detayList:["İlgilendi","Düşünecek","Fiyat Sordu","Bilgi İstedi","İlgilenmedi","Satış Sağlandı"],abonelikDurumList:["Yeni Abone","Mevcut Abone","İptal","Askıya Alındı","Beklemede"]})}catch(Te){console.error("Dropdown seçenekleri yüklenirken hata:",Te)}})()},[]);const I=()=>{const ee=new Date,Te=new Date(ee.getFullYear(),ee.getMonth(),1),Qe=new Date(ee.getFullYear(),ee.getMonth()+1,0,23,59,59);return{startOfMonth:Te,endOfMonth:Qe}},U=async()=>{if(!(!t||!e)){s(!0);try{const{startOfMonth:ee,endOfMonth:Te}=I();let Qe;if(e==="admin")Qe=Sa(hr(Lt,"sales_records"));else if(e==="teamLeader")Qe=Sa(hr(Lt,"sales_records"));else if(e==="personnel")Qe=Sa(hr(Lt,"sales_records"),$s("createdBy","==",t.uid));else{n([]),s(!1);return}let pe=(await Vr(Qe)).docs.map(Ke=>({id:Ke.id,...Ke.data()}));if(e==="personnel"&&S)try{const Ke=Sa(hr(Lt,"sales_records"),$s("personel","==",S)),st=(await Vr(Ke)).docs.map(bt=>({id:bt.id,...bt.data()})),pt=new Set(pe.map(bt=>bt.id)),_t=st.filter(bt=>!pt.has(bt.id));pe=[...pe,..._t]}catch(Ke){console.warn("Import edilmiş kayıtlar çekilirken hata:",Ke)}pe=pe.filter(Ke=>{if(Ke.createdAt)try{const xt=Ke.createdAt.toDate?Ke.createdAt.toDate():new Date(Ke.createdAt);return xt>=ee&&xt<=Te}catch{}if(Ke.tarih)try{const xt=new Date(Ke.tarih);if(!isNaN(xt.getTime()))return xt>=ee&&xt<=Te}catch{}return!1}),pe.sort((Ke,xt)=>{if(Ke.createdAt&&xt.createdAt)try{const st=Ke.createdAt.toDate?Ke.createdAt.toDate():new Date(Ke.createdAt);return(xt.createdAt.toDate?xt.createdAt.toDate():new Date(xt.createdAt))-st}catch(st){console.warn("Tarih sıralama hatası:",st)}if(Ke.tarih&&xt.tarih)try{const st=new Date(Ke.tarih),pt=new Date(xt.tarih);if(!isNaN(st.getTime())&&!isNaN(pt.getTime()))return pt-st}catch(st){console.warn("Tarih sıralama hatası:",st)}return 0}),n(pe)}catch(ee){console.error("Veriler yüklenirken hata:",ee),n([])}finally{s(!1)}}};be.useEffect(()=>{U()},[t.uid,e,S]);const R=()=>{U()},C=r.filter(ee=>{try{return!(v.personel&&ee.personel&&!ee.personel.toLowerCase().includes(v.personel.toLowerCase())||v.kanal&&ee.kanal!==v.kanal||v.durum&&ee.durum!==v.durum||v.detay&&ee.detay!==v.detay||v.abonelikDurum&&ee.abonelikDurum!==v.abonelikDurum||v.dateFrom&&ee.tarih&&new Date(ee.tarih)<new Date(v.dateFrom)||v.dateTo&&ee.tarih&&new Date(ee.tarih)>new Date(v.dateTo))}catch(Te){return console.warn("Kayıt filtrelenirken hata:",ee,Te),!0}}),B=C.length,W=Math.ceil(B/E),ue=(A-1)*E,ae=ue+E,le=C.slice(ue,ae),se=async ee=>{var Te;if(k(ee),window.scrollTo({top:0,behavior:"smooth"}),t&&t.uid!=="wupaniyazilim@gmail.com")try{await vs.logTableInteraction(t.uid,t.name||((Te=t.email)==null?void 0:Te.split("@")[0])||"Kullanıcı","sales_records_table","paginate",{newPage:ee,totalPages:Math.ceil(C.length/E),recordsPerPage:E})}catch(Qe){console.error("Pagination log hatası:",Qe)}},ne=ee=>{Ne(ee),k(1)},J=()=>{L(),k(1)},Ne=async ee=>{var Le;const{name:Te,value:Qe}=ee.target;if(b(pe=>({...pe,[Te]:Qe})),t&&t.uid!=="wupaniyazilim@gmail.com"&&Qe)try{await vs.logSearchFilter(t.uid,t.name||((Le=t.email)==null?void 0:Le.split("@")[0])||"Kullanıcı",Te,Qe,r.length,"sales_records_table")}catch(pe){console.error("Filter log hatası:",pe)}},L=()=>{b({personel:"",kanal:"",durum:"",detay:"",abonelikDurum:"",dateFrom:"",dateTo:""})},z=(ee,Te)=>{if(e!=="admin"&&e!=="teamLeader"){d({isOpen:!0,type:"error",title:"Yetki Hatası",message:"Bu işlem için yetkiniz bulunmamaktadır.",onConfirm:null,recordToDelete:null});return}d({isOpen:!0,type:"confirm",title:"Kayıt Silme Onayı",message:`"${Te}" numaralı kaydı silmek istediğinizden emin misiniz?

Bu işlem geri alınamaz.`,onConfirm:()=>G(ee),recordToDelete:{id:ee,refId:Te}})},G=async ee=>{var Te;try{c(ee),d({...h,isOpen:!1}),await vs.logSalesRecordDeleted(t.uid,t.name||((Te=t.email)==null?void 0:Te.split("@")[0])||"Kullanıcı",ee),await hx(sn(Lt,"sales_records",ee)),await U(),d({isOpen:!0,type:"success",title:"Kayıt Silindi",message:"Kayıt başarıyla silindi.",onConfirm:null,recordToDelete:null})}catch(Qe){console.error("Kayıt silinirken hata:",Qe),d({isOpen:!0,type:"error",title:"Silme Hatası",message:"Kayıt silinirken bir hata oluştu. Lütfen tekrar deneyin.",onConfirm:null,recordToDelete:null})}finally{c(null)}},Y=()=>{d({isOpen:!1,type:"info",title:"",message:"",onConfirm:null,recordToDelete:null})},Z=ee=>{const Te=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${Te}px`,document.body.style.width="100%",H(ee),D({personel:ee.personel||"",tarih:ee.tarih||"",telefon:ee.telefon||"",kanal:ee.kanal||"",durum:ee.durum||"",detay:ee.detay||"",abonelikDurum:ee.abonelikDurum||"",aboneNo:ee.aboneNo||"",not:ee.not||""}),X(!0)},de=()=>{const ee=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width="",ee&&window.scrollTo(0,parseInt(ee||"0")*-1),X(!1),H(null),D({personel:"",tarih:"",telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""})},xe=ee=>{Z(ee)},we=ee=>{const{name:Te,value:Qe}=ee.target;D(Le=>({...Le,[Te]:Qe}))},je=async()=>{var ee;if(M)try{const{updateDoc:Te}=await bm(async()=>{const{updateDoc:pe}=await Promise.resolve().then(()=>h9);return{updateDoc:pe}},void 0),Qe=sn(Lt,"sales_records",M.id),Le={};Object.keys(P).forEach(pe=>{M[pe]!==P[pe]&&(Le[pe]={from:M[pe],to:P[pe]})}),await Te(Qe,{...P,updatedAt:new Date}),Object.keys(Le).length>0&&await vs.logSalesRecordUpdated(t.uid,t.name||((ee=t.email)==null?void 0:ee.split("@")[0])||"Kullanıcı",M.id,Le),de(),await U(),d({isOpen:!0,type:"success",title:"Kayıt Güncellendi",message:"Kayıt başarıyla güncellendi.",onConfirm:null}),setTimeout(()=>{d(pe=>({...pe,isOpen:!1}))},2e3)}catch(Te){console.error("Kayıt güncellenirken hata:",Te),d({isOpen:!0,type:"error",title:"Güncelleme Hatası",message:"Kayıt güncellenirken bir hata oluştu. Lütfen tekrar deneyin.",onConfirm:null})}},tt=()=>{de()};return a?u.jsx("div",{className:"flex justify-center items-center p-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Satış Kayıtları"}),u.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Sadece ",u.jsx("strong",{children:new Date().toLocaleDateString("tr-TR",{month:"long",year:"numeric"})})," ayına ait kayıtlar gösteriliyor",u.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500 ml-2",children:["(",new Date(new Date().getFullYear(),new Date().getMonth(),1).toLocaleDateString("tr-TR")," - ",new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toLocaleDateString("tr-TR"),")"]})]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{children:[u.jsxs("span",{className:"text-sm text-gray-600",children:["Toplam ",B," kayıt • Sayfa ",A,"/",W," • Gösterilen: ",ue+1,"-",Math.min(ae,B)]}),e==="personnel"&&u.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Kendi oluşturduğunuz kayıtlar ve sizin adınıza import edilen kayıtlar gösteriliyor"})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm mb-6 border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(_6,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mr-2"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Filtreler"}),u.jsxs("div",{className:"ml-auto flex items-center space-x-3",children:[u.jsxs("button",{onClick:R,disabled:a,className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center transition-colors text-sm",children:[u.jsx("svg",{className:`h-4 w-4 mr-1 ${a?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a?"Yükleniyor...":"Yenile"]}),u.jsx("button",{onClick:J,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Filtreleri Temizle"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Personel"}),u.jsx("input",{type:"text",name:"personel",value:v.personel,onChange:ne,placeholder:"Personel adı...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kanal"}),u.jsxs("select",{name:"kanal",value:v.kanal,onChange:ne,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"",children:"Tümü"}),p.kanalList.map((ee,Te)=>u.jsx("option",{value:ee,children:ee},Te))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Durum"}),u.jsxs("select",{name:"durum",value:v.durum,onChange:ne,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"",children:"Tümü"}),p.durumList.map((ee,Te)=>u.jsx("option",{value:ee,children:ee},Te))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Satış Detayı"}),u.jsxs("select",{name:"detay",value:v.detay,onChange:ne,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"",children:"Tümü"}),p.detayList.map((ee,Te)=>u.jsx("option",{value:ee,children:ee},Te))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Abonelik Durumu"}),u.jsxs("select",{name:"abonelikDurum",value:v.abonelikDurum,onChange:ne,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[u.jsx("option",{value:"",children:"Tümü"}),p.abonelikDurumList.map((ee,Te)=>u.jsx("option",{value:ee,children:ee},Te))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Başlangıç Tarihi"}),u.jsx("input",{type:"date",name:"dateFrom",value:v.dateFrom,onChange:ne,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bitiş Tarihi"}),u.jsx("input",{type:"date",name:"dateTo",value:v.dateTo,onChange:ne,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Personel"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telefon"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kanal"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satış Detayı"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abonelik"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abone No"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Not"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:le.map(ee=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(f0,{className:"h-4 w-4 text-gray-400 mr-2"}),u.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:ee.personel})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Im,{className:"h-4 w-4 text-gray-400 mr-2"}),u.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:Qg(ee.tarih)||ee.tarih||"-"})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(IO,{className:"h-4 w-4 text-gray-400 mr-2"}),u.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:pM(ee.telefon)||ee.telefon||"-"})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:ee.kanal})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee.durum==="Arandı"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":ee.durum==="Meşgul"?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":ee.durum==="Ulaşılamadı"?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":ee.durum==="Geri Arama"?"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:ee.durum})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:ee.detay||"-"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:ee.abonelikDurum||"-"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:ee.aboneNo||"-"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 max-w-xs truncate",title:ee.not,children:ee.not||"-"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:u.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[u.jsx("button",{onClick:()=>xe(ee),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 p-1 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Kaydı Düzenle",children:u.jsx(dx,{className:"h-4 w-4"})}),(e==="admin"||e==="teamLeader")&&u.jsx("button",{onClick:()=>z(ee.id,ee.refId),disabled:o===ee.id,className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 p-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors disabled:opacity-50",title:"Kaydı Sil",children:o===ee.id?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600 dark:border-red-400"}):u.jsx(kh,{className:"h-4 w-4"})})]})})]},ee.id))})]})}),B===0&&u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Kayıt bulunamadı."})})]}),W>1&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-4 mt-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[u.jsx("span",{className:"font-medium",children:ue+1})," - ",u.jsx("span",{className:"font-medium",children:Math.min(ae,B)})," arası, toplam ",u.jsx("span",{className:"font-medium",children:B})," kayıt"]})}),u.jsx("div",{className:"flex justify-center",children:u.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[u.jsx("button",{onClick:()=>se(A-1),disabled:A===1,className:"relative inline-flex items-center px-3 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"← Önceki"}),Array.from({length:Math.min(7,W)},(ee,Te)=>{let Qe;return W<=7||A<=4?Qe=Te+1:A>=W-3?Qe=W-6+Te:Qe=A-3+Te,u.jsx("button",{onClick:()=>se(Qe),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${A===Qe?"z-10 bg-blue-600 dark:bg-blue-600 border-blue-600 dark:border-blue-600 text-white hover:bg-blue-700 dark:hover:bg-blue-700":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:Qe},Qe)}),u.jsx("button",{onClick:()=>se(A+1),disabled:A===W,className:"relative inline-flex items-center px-3 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sonraki →"})]})}),u.jsxs("div",{className:"flex justify-center mt-4 space-x-2",children:[u.jsx("button",{onClick:()=>se(1),disabled:A===1,className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"İlk Sayfa"}),u.jsx("button",{onClick:()=>se(W),disabled:A===W,className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Son Sayfa"})]})]}),u.jsx(xM,{isOpen:K,onClose:tt,children:u.jsx("div",{className:"w-full max-w-4xl p-6 border border-gray-200 dark:border-gray-700 shadow-xl rounded-lg bg-white dark:bg-gray-800",style:{minWidth:"90vw",maxWidth:"95vw"},children:u.jsxs("div",{className:"mt-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Kayıt Düzenle"}),u.jsx("button",{onClick:tt,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Personel"}),u.jsx("input",{type:"text",name:"personel",value:P.personel,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tarih"}),u.jsx("input",{type:"date",name:"tarih",value:P.tarih,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefon"}),u.jsx("input",{type:"text",name:"telefon",value:P.telefon,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kanal"}),u.jsxs("select",{name:"kanal",value:P.kanal,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Seçiniz"}),p.kanalList.map((ee,Te)=>u.jsx("option",{value:ee,children:ee},Te))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Durum"}),u.jsxs("select",{name:"durum",value:P.durum,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Seçiniz"}),p.durumList.map((ee,Te)=>u.jsx("option",{value:ee,children:ee},Te))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Satış Detayı"}),u.jsxs("select",{name:"detay",value:P.detay,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Seçiniz"}),p.detayList.map((ee,Te)=>u.jsx("option",{value:ee,children:ee},Te))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Abonelik Durumu"}),u.jsxs("select",{name:"abonelikDurum",value:P.abonelikDurum,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Seçiniz"}),p.abonelikDurumList.map((ee,Te)=>u.jsx("option",{value:ee,children:ee},Te))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Abone No"}),u.jsx("input",{type:"text",name:"aboneNo",value:P.aboneNo,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Not"}),u.jsx("textarea",{name:"not",value:P.not,onChange:we,rows:"4",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{onClick:tt,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-400",children:"İptal"}),u.jsx("button",{onClick:je,className:"px-4 py-2 bg-blue-600 dark:bg-blue-600 text-white rounded-md hover:bg-blue-700 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",children:"Kaydet"})]})]})})}),u.jsx(mx,{isOpen:h.isOpen,onClose:Y,title:h.title,message:h.message,type:h.type,onConfirm:h.onConfirm,showCancel:h.type==="confirm",confirmText:h.type==="confirm"?"Sil":"Tamam",cancelText:"İptal"})]})},Ag=({isOpen:t,onClose:e,children:r})=>{if(!t)return null;const n=document.getElementById("modal-root")||document.body;return M1.createPortal(u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:e,children:u.jsx("div",{style:{position:"relative",maxHeight:"90vh",overflow:"auto",margin:"0"},onClick:a=>a.stopPropagation(),children:r})}),n)},vM=()=>{var xe,we,je,tt,ee;const{currentUser:t}=os(),[e,r]=be.useState([]),[n,a]=be.useState(!0),[s,o]=be.useState(!1),[c,h]=be.useState(!1),[d,p]=be.useState(null),[y,v]=be.useState(!1),[b,A]=be.useState(null),[k,E]=be.useState({email:"",password:"",name:"",role:"Personnel"}),[S,j]=be.useState({}),[M,H]=be.useState(""),[K,X]=be.useState(!1),[P,D]=be.useState(!1),[I,U]=be.useState(null),[R,C]=be.useState(null),B=["Admin","Team Leader","Personnel"];be.useEffect(()=>(ue(),W(),()=>{document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width=""}),[]);const W=async()=>{try{const Te=await Xi(sn(Lt,"system_settings","main"));Te.exists()?A(Te.data()):A({security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1}})}catch(Te){console.error("Sistem ayarları yüklenirken hata:",Te),A({security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1}})}},ue=async()=>{try{a(!0),j({});const Te=hr(Lt,"users"),Le=(await Vr(Te)).docs.map(pe=>({id:pe.id,...pe.data()}));Le.sort((pe,Ke)=>{var pt,_t,bt,Dt;const xt=((_t=(pt=pe.createdAt)==null?void 0:pt.toDate)==null?void 0:_t.call(pt))||new Date(0);return(((Dt=(bt=Ke.createdAt)==null?void 0:bt.toDate)==null?void 0:Dt.call(bt))||new Date(0))-xt}),r(Le)}catch(Te){console.error("Kullanıcılar yüklenirken hata:",Te),j({general:`Kullanıcılar yüklenirken hata oluştu: ${Te.message}`})}finally{a(!1)}},ae=()=>{const Te={};if(k.email.trim()?/\S+@\S+\.\S+/.test(k.email)||(Te.email="Geçerli bir e-posta adresi girin"):Te.email="E-posta adresi gerekli",k.name.trim()||(Te.name="İsim gerekli"),!d&&!k.password.trim())Te.password="Şifre gerekli";else if(!d&&k.password.trim()){const Qe=(b==null?void 0:b.security)||{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1},Le=k.password,pe=[];Le.length<Qe.passwordMinLength&&pe.push(`En az ${Qe.passwordMinLength} karakter`),Qe.passwordRequireUppercase&&!/[A-Z]/.test(Le)&&pe.push("En az bir büyük harf"),Qe.passwordRequireNumbers&&!/[0-9]/.test(Le)&&pe.push("En az bir rakam"),Qe.passwordRequireSpecialChars&&!/[!@#$%^&*(),.?":{}|<>]/.test(Le)&&pe.push('En az bir özel karakter (!@#$%^&*(),.?":{}|<>)'),pe.length>0&&(Te.password=`Şifre gereksinimleri: ${pe.join(", ")}`)}return k.role||(Te.role="Rol seçimi gerekli"),j(Te),Object.keys(Te).length===0},le=async Te=>{var Qe;if(Te.preventDefault(),!!ae())try{a(!0);const Le=t.email,pe=await WR(ai,k.email,k.password);await Fh(sn(Lt,"users",pe.user.uid),{uid:pe.user.uid,email:k.email,name:k.name,role:k.role,createdAt:new Date,isActive:!0,isOnline:!1,lastSeen:new Date}),await vs.logUserCreated(t.uid,t.name||((Qe=t.email)==null?void 0:Qe.split("@")[0])||"Admin",k.email,k.role),await U1(ai,Le,"admin123"),H("Kullanıcı başarıyla eklendi!"),setTimeout(()=>H(""),3e3),Y(),ue()}catch(Le){console.error("Kullanıcı eklenirken hata:",Le),Le.code==="auth/email-already-in-use"?j({email:"Bu e-posta adresi zaten kullanımda"}):Le.code==="auth/wrong-password"?j({general:"Admin şifresi yanlış. Kullanıcı oluşturuldu ama admin oturumu tekrar açılamadı."}):j({general:"Kullanıcı eklenirken hata oluştu: "+Le.message})}finally{a(!1)}},se=async Te=>{var Qe;if(Te.preventDefault(),!!ae())try{a(!0);const Le=sn(Lt,"users",d.id),pe={};d.email!==k.email&&(pe.email={from:d.email,to:k.email}),d.name!==k.name&&(pe.name={from:d.name,to:k.name}),d.role!==k.role&&(pe.role={from:d.role,to:k.role}),await ul(Le,{email:k.email,name:k.name,role:k.role,updatedAt:new Date}),Object.keys(pe).length>0&&await vs.logUserUpdated(t.uid,t.name||((Qe=t.email)==null?void 0:Qe.split("@")[0])||"Admin",d.email,pe),H("Kullanıcı başarıyla güncellendi!"),setTimeout(()=>H(""),3e3),Y(),ue()}catch(Le){console.error("Kullanıcı güncellenirken hata:",Le),j({general:"Kullanıcı güncellenirken hata oluştu: "+Le.message})}finally{a(!1)}},ne=async()=>{var Te;try{a(!0),await vs.logUserDeleted(t.uid,t.name||((Te=t.email)==null?void 0:Te.split("@")[0])||"Admin",I.email),await hx(sn(Lt,"users",I.id)),H("Kullanıcı başarıyla silindi!"),setTimeout(()=>H(""),3e3),ue(),X(!1),U(null)}catch(Qe){console.error("Kullanıcı silinirken hata:",Qe),j({general:"Kullanıcı silinirken hata oluştu: "+Qe.message})}finally{a(!1)}},J=Te=>{U(Te),C("delete"),X(!0)},Ne=async()=>{var Le,pe;const Te=!I.isActive,Qe=Te?"aktif":"pasif";try{a(!0);const Ke=sn(Lt,"users",I.id);await ul(Ke,{isActive:Te,updatedAt:new Date}),Te?await vs.logUserActivated(t.uid,t.name||((Le=t.email)==null?void 0:Le.split("@")[0])||"Admin",I.email):await vs.logUserDeactivated(t.uid,t.name||((pe=t.email)==null?void 0:pe.split("@")[0])||"Admin",I.email),H(`Kullanıcı durumu ${Qe} olarak güncellendi!`),setTimeout(()=>H(""),3e3),ue(),D(!1),U(null)}catch(Ke){console.error("Kullanıcı durumu güncellenirken hata:",Ke),j({general:"Kullanıcı durumu güncellenirken hata oluştu: "+Ke.message})}finally{a(!1)}},L=Te=>{U(Te);const Qe=!Te.isActive;C(Qe?"activate":"deactivate"),D(!0)},z=Te=>{const Qe=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${Qe}px`,document.body.style.width="100%",p(Te),E({email:Te.email,password:"",name:Te.name,role:Te.role}),h(!0)},G=()=>{E({email:"",password:"",name:"",role:"Personnel"}),j({}),p(null)},Y=()=>{const Te=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width="",Te&&window.scrollTo(0,parseInt(Te||"0")*-1),o(!1),h(!1),G()},Z=Te=>{switch(Te){case"Admin":return"bg-red-100 text-red-800 border-red-200";case"Team Leader":return"bg-blue-100 text-blue-800 border-blue-200";case"Personnel":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},de=e.filter(Te=>Te.name!=="Admin User"&&Te.email!=="wupaniyazilim@gmail.com");return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:u.jsx(Ua,{className:"w-6 h-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kullanıcı Yönetimi"}),u.jsx("p",{className:"text-gray-600",children:"Sistem kullanıcılarını yönetin"})]})]}),u.jsxs("button",{onClick:()=>{const Te=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${Te}px`,document.body.style.width="100%",G(),o(!0)},className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[u.jsx(rf,{className:"w-4 h-4"}),u.jsx("span",{children:"Yeni Kullanıcı"})]})]}),M&&u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-2",children:[u.jsx(Ri,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("p",{className:"text-green-800 dark:text-green-300 whitespace-pre-line",children:M})]}),S.general&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-2",children:[u.jsx(N0,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),u.jsx("p",{className:"text-red-800 dark:text-red-300",children:S.general})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Kullanıcılar (",de.length,")"]})}),n?u.jsx("div",{className:"flex justify-center items-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):de.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Ua,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Henüz kullanıcı bulunmuyor"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Kullanıcı"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"E-posta"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Rol"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Durum"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Oluşturulma"}),u.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"İşlemler"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:de.map(Te=>{var Qe,Le,pe;return u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:u.jsx(f0,{className:"w-5 h-5 text-purple-600"})}),u.jsx("div",{className:"ml-4",children:u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:Te.name})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(pO,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),u.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:Te.email})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${Z(Te.role)}`,children:Te.role})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Te.isActive!==!1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Te.isActive!==!1?"Aktif":"Pasif"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:((pe=(Le=(Qe=Te.createdAt)==null?void 0:Qe.toDate)==null?void 0:Le.call(Qe))==null?void 0:pe.toLocaleDateString("tr-TR"))||"Bilinmiyor"}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsxs("div",{className:"flex justify-center space-x-2",children:[u.jsx("button",{onClick:()=>z(Te),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Düzenle",children:u.jsx(dx,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>L(Te),className:`p-2 rounded-lg transition-colors ${Te.isActive!==!1?"text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/30":"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30"}`,title:Te.isActive!==!1?"Pasif Yap":"Aktif Yap",children:Te.isActive!==!1?u.jsx(W2,{className:"w-4 h-4"}):u.jsx(Zc,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>J(Te),className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Sil",children:u.jsx(kh,{className:"w-4 h-4"})})]})})]},Te.id)})})]})})]}),u.jsx(Ag,{isOpen:s,onClose:Y,children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Yeni Kullanıcı Ekle"}),u.jsx("button",{onClick:Y,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:u.jsx(oc,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:le,className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"İsim Soyisim"}),u.jsx("input",{type:"text",value:k.name,onChange:Te=>E({...k,name:Te.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Kullanıcının adını girin"}),S.name&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:S.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"E-posta"}),u.jsx("input",{type:"email",value:k.email,onChange:Te=>E({...k,email:Te.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"kullanici@example.com"}),S.email&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:S.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Şifre"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:y?"text":"password",value:k.password,onChange:Te=>E({...k,password:Te.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 pr-10 focus:ring-purple-500 focus:border-purple-500",placeholder:b?`En az ${((xe=b.security)==null?void 0:xe.passwordMinLength)||8} karakter`:"En az 8 karakter"}),u.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-2.5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:y?u.jsx(w6,{className:"w-4 h-4"}):u.jsx(lp,{className:"w-4 h-4"})})]}),b&&u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Şifre gereksinimleri:",((we=b.security)==null?void 0:we.passwordMinLength)&&` ${b.security.passwordMinLength}+ karakter`,((je=b.security)==null?void 0:je.passwordRequireUppercase)&&", büyük harf",((tt=b.security)==null?void 0:tt.passwordRequireNumbers)&&", rakam",((ee=b.security)==null?void 0:ee.passwordRequireSpecialChars)&&", özel karakter"]}),S.password&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:S.password})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rol"}),u.jsx("select",{value:k.role,onChange:Te=>E({...k,role:Te.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",children:B.map(Te=>u.jsx("option",{value:Te,children:Te},Te))}),S.role&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:S.role})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:Y,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),u.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:n?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsxs(u.Fragment,{children:[u.jsx(pf,{className:"w-4 h-4"}),u.jsx("span",{children:"Kaydet"})]})})]})]})]})}),u.jsx(Ag,{isOpen:c,onClose:Y,children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Kullanıcı Düzenle"}),u.jsx("button",{onClick:Y,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:u.jsx(oc,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:se,className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"İsim Soyisim"}),u.jsx("input",{type:"text",value:k.name,onChange:Te=>E({...k,name:Te.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Kullanıcının adını girin"}),S.name&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:S.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"E-posta"}),u.jsx("input",{type:"email",value:k.email,onChange:Te=>E({...k,email:Te.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"kullanici@example.com"}),S.email&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:S.email})]}),u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rol"}),u.jsx("select",{value:k.role,onChange:Te=>E({...k,role:Te.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",children:B.map(Te=>u.jsx("option",{value:Te,children:Te},Te))}),S.role&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:S.role})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:Y,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),u.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:n?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsxs(u.Fragment,{children:[u.jsx(pf,{className:"w-4 h-4"}),u.jsx("span",{children:"Güncelle"})]})})]})]})]})}),u.jsx(Ag,{isOpen:K,onClose:()=>X(!1),children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[u.jsx(kh,{className:"w-5 h-5 text-red-600 mr-2"}),"Kullanıcı Sil"]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:[u.jsx("strong",{children:I==null?void 0:I.name})," kullanıcısını silmek istediğinizden emin misiniz?"]}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Bu işlem geri alınamaz ve kullanıcının tüm verileri silinecektir."}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>X(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),u.jsx("button",{onClick:ne,disabled:n,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:n?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsxs(u.Fragment,{children:[u.jsx(kh,{className:"w-4 h-4"}),u.jsx("span",{children:"Sil"})]})})]})]})]})}),u.jsx(Ag,{isOpen:P,onClose:()=>D(!1),children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[R==="activate"?u.jsx(Zc,{className:"w-5 h-5 text-green-600 mr-2"}):u.jsx(W2,{className:"w-5 h-5 text-orange-600 mr-2"}),"Kullanıcı Durumu Değiştir"]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:[u.jsx("strong",{children:I==null?void 0:I.name})," kullanıcısını"," ",u.jsx("span",{className:R==="activate"?"text-green-600 font-semibold":"text-orange-600 font-semibold",children:R==="activate"?"aktif":"pasif"})," ","yapmak istediğinizden emin misiniz?"]}),R==="deactivate"&&u.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 mb-4",children:u.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"⚠️ Pasif yapılan kullanıcı sisteme giriş yapamayacaktır."})}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:()=>D(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),u.jsx("button",{onClick:Ne,disabled:n,className:`flex-1 px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 ${R==="activate"?"bg-green-600 text-white hover:bg-green-700":"bg-orange-600 text-white hover:bg-orange-700"}`,children:n?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsxs(u.Fragment,{children:[R==="activate"?u.jsx(Zc,{className:"w-4 h-4"}):u.jsx(W2,{className:"w-4 h-4"}),u.jsx("span",{children:R==="activate"?"Aktif Yap":"Pasif Yap"})]})})]})]})]})})]})},bM=()=>{const{currentUser:t}=os(),[e,r]=be.useState([]),[n,a]=be.useState([]),[s,o]=be.useState(!0),[c,h]=be.useState(!1),[d,p]=be.useState(null),[y,v]=be.useState({userId:"",userName:"",targetType:"monthly",targetValue:"",period:new Date().toISOString().slice(0,7),description:""}),[b,A]=be.useState({}),[k,E]=be.useState("");be.useEffect(()=>{S()},[]);const S=async()=>{try{o(!0);const I=hr(Lt,"users"),R=(await Vr(I)).docs.map(ue=>({id:ue.id,...ue.data()})).filter(ue=>ue.name!=="Admin User"&&ue.email!=="wupaniyazilim@gmail.com");a(R);const C=hr(Lt,"targets"),W=(await Vr(C)).docs.map(ue=>({id:ue.id,...ue.data()}));r(W)}catch(I){console.error("Veri yüklenirken hata:",I),A({general:"Veriler yüklenirken hata oluştu."})}finally{o(!1)}},j=()=>{const I={};return y.userId||(I.userId="Personel seçimi gerekli"),(!y.targetValue||y.targetValue<=0)&&(I.targetValue="Geçerli bir hedef değeri girin"),y.period||(I.period="Dönem seçimi gerekli"),A(I),Object.keys(I).length===0},M=async I=>{if(I.preventDefault(),!!j())try{o(!0);const U={userId:y.userId,userName:y.userName,targetType:y.targetType,targetValue:parseInt(y.targetValue),period:y.period,description:y.description,createdAt:new Date,createdBy:t.uid,isActive:!0};d?(await ul(sn(Lt,"targets",d.id),{...U,updatedAt:new Date}),E("Hedef başarıyla güncellendi!")):(await Fh(sn(hr(Lt,"targets")),U),E("Hedef başarıyla eklendi!")),await S(),X(),h(!1),p(null)}catch(U){console.error("Hedef kaydedilirken hata:",U),A({general:"Hedef kaydedilirken hata oluştu."})}finally{o(!1)}},H=async I=>{if(window.confirm("Bu hedefi silmek istediğinizden emin misiniz?"))try{await hx(sn(Lt,"targets",I)),E("Hedef başarıyla silindi!"),await S()}catch(U){console.error("Hedef silinirken hata:",U),A({general:"Hedef silinirken hata oluştu."})}},K=I=>{p(I),v({userId:I.userId,userName:I.userName,targetType:I.targetType,targetValue:I.targetValue.toString(),period:I.period,description:I.description||""}),h(!0)},X=()=>{v({userId:"",userName:"",targetType:"monthly",targetValue:"",period:new Date().toISOString().slice(0,7),description:""}),A({})},P=()=>{h(!1),p(null),X()},D=I=>{const U=I.target.value,R=n.find(C=>C.id===U);v({...y,userId:U,userName:R?R.name:""})};return s&&e.length===0?u.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx("div",{className:"flex justify-center items-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})})})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:u.jsx(gf,{className:"w-6 h-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Hedef Yönetimi"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Personel satış hedeflerini belirleyin ve takip edin"})]})]}),u.jsxs("button",{onClick:()=>{X(),h(!0)},className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx(rf,{className:"w-4 h-4"}),u.jsx("span",{children:"Yeni Hedef"})]})]}),k&&u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-2",children:[u.jsx(Ri,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("p",{className:"text-green-800 dark:text-green-300",children:k})]}),b.general&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-2",children:[u.jsx(N0,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),u.jsx("p",{className:"text-red-800 dark:text-red-300",children:b.general})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Aktif Hedefler (",e.length,")"]})}),s?u.jsx("div",{className:"flex justify-center items-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):e.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(gf,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Henüz hedef bulunmuyor"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Personel"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Hedef Türü"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Hedef Değeri"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dönem"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Açıklama"}),u.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"İşlemler"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(I=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(Ua,{className:"w-5 h-5 text-green-600"})}),u.jsx("div",{className:"ml-4",children:u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:I.userName})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:I.targetType==="monthly"?"Aylık":"Yıllık"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(w1,{className:"w-4 h-4 text-green-400 mr-2"}),u.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[I.targetValue," Satış"]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Im,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),u.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:I.period})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:I.description||"-"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsxs("div",{className:"flex justify-center space-x-2",children:[u.jsx("button",{onClick:()=>K(I),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Düzenle",children:u.jsx(dx,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>H(I.id),className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Sil",children:u.jsx(kh,{className:"w-4 h-4"})})]})})]},I.id))})]})})]}),c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:d?"Hedef Düzenle":"Yeni Hedef Ekle"}),u.jsx("button",{onClick:P,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:u.jsx(oc,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:M,className:"p-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Personel Seçin"}),u.jsxs("select",{value:y.userId,onChange:D,className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",children:[u.jsx("option",{value:"",children:"Personel seçin..."}),n.map(I=>u.jsxs("option",{value:I.id,children:[I.name," (",I.role,")"]},I.id))]}),b.userId&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:b.userId})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hedef Türü"}),u.jsxs("select",{value:y.targetType,onChange:I=>v({...y,targetType:I.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",children:[u.jsx("option",{value:"monthly",children:"Aylık"}),u.jsx("option",{value:"yearly",children:"Yıllık"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hedef Satış Sayısı"}),u.jsx("input",{type:"number",value:y.targetValue,onChange:I=>v({...y,targetValue:I.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",placeholder:"Örn: 50",min:"1"}),b.targetValue&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:b.targetValue})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dönem"}),u.jsx("input",{type:"month",value:y.period,onChange:I=>v({...y,period:I.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500"}),b.period&&u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:b.period})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Açıklama (Opsiyonel)"}),u.jsx("textarea",{value:y.description,onChange:I=>v({...y,description:I.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",rows:"3",placeholder:"Hedef hakkında ek bilgiler..."})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[u.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),u.jsxs("button",{type:"submit",disabled:s,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[u.jsx(pf,{className:"w-4 h-4"}),u.jsx("span",{children:d?"Güncelle":"Kaydet"})]})]})]})]})})]})},wM=()=>{const[t,e]=be.useState([]),[r,n]=be.useState([]),[a,s]=be.useState(!0),[o,c]=be.useState(!1),[h,d]=be.useState(null),[p,y]=be.useState(""),[v,b]=be.useState({}),[A,k]=be.useState(""),[E,S]=be.useState("");be.useEffect(()=>{j()},[]);const j=async()=>{try{s(!0);const I=hr(Lt,"users"),R=(await Vr(I)).docs.map(C=>({id:C.id,...C.data()})).filter(C=>C.name!=="Admin User"&&C.email!=="wupaniyazilim@gmail.com");e(R),M(R)}catch(I){console.error("Kullanıcılar yüklenirken hata:",I),S("Kullanıcılar yüklenirken hata oluştu.")}finally{s(!1)}},M=I=>{const U=I.filter(W=>W.role==="Team Leader"),R=I.filter(W=>W.role==="Personnel"),C=U.map(W=>{const ue=R.filter(ae=>ae.teamLeader===W.id);return{leader:W,members:ue,memberCount:ue.length}}),B=R.filter(W=>!W.teamLeader);B.length>0&&C.push({leader:{id:"unassigned",name:"Atanmamış Personeller",role:"Unassigned"},members:B,memberCount:B.length,isUnassigned:!0}),n(C)},H=async()=>{if(!(!h||!p))try{const I=sn(Lt,"users",h.id);await ul(I,{teamLeader:p==="unassigned"?null:p}),k("Personel başarıyla atandı!"),setTimeout(()=>k(""),3e3),await j(),c(!1),d(null),y("")}catch(I){console.error("Atama sırasında hata:",I),S("Atama sırasında hata oluştu."),setTimeout(()=>S(""),3e3)}},K=I=>{d(I),y(I.teamLeader||""),c(!0)},X=I=>{b(U=>({...U,[I]:!U[I]}))},P=I=>{switch(I){case"Team Leader":return"bg-blue-100 text-blue-800 border-blue-200";case"Personnel":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},D=()=>{const I=t.filter(U=>U.role==="Team Leader");return[{id:"unassigned",name:"Atanmamış (Takım lideri yok)"},...I.map(U=>({id:U.id,name:U.name}))]};return a?u.jsx("div",{className:"flex justify-center items-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u.jsx(Ua,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Takım Yönetimi"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Takım liderlerini ve personelleri yönetin"})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[u.jsx(Ua,{className:"w-4 h-4"}),u.jsxs("span",{children:[t.length," Toplam Kullanıcı"]})]})]}),A&&u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-2",children:[u.jsx(Zc,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),u.jsx("p",{className:"text-green-800 dark:text-green-300",children:A})]}),E&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-2",children:[u.jsx(oc,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),u.jsx("p",{className:"text-red-800 dark:text-red-300",children:E})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Takım Liderleri"}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.filter(I=>I.role==="Team Leader").length})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:u.jsx($y,{className:"w-6 h-6 text-blue-600"})})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Personeller"}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(I=>I.role==="Personnel").length})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(Ua,{className:"w-6 h-6 text-green-600"})})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Atanmamış"}),u.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.filter(I=>I.role==="Personnel"&&!I.teamLeader).length})]}),u.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:u.jsx(Zc,{className:"w-6 h-6 text-orange-600"})})]})})]}),u.jsx("div",{className:"space-y-4",children:r.map((I,U)=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[u.jsx("div",{className:`p-6 cursor-pointer transition-colors ${I.isUnassigned?"bg-orange-50 dark:bg-orange-900/20 hover:bg-orange-100 dark:hover:bg-orange-900/30":"bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,onClick:()=>X(U),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${I.isUnassigned?"bg-orange-200":"bg-blue-200"}`,children:I.isUnassigned?u.jsx(Zc,{className:`w-6 h-6 ${I.isUnassigned?"text-orange-600":"text-blue-600"}`}):u.jsx($y,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center space-x-2",children:[u.jsx("span",{children:I.leader.name}),!I.isUnassigned&&u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P(I.leader.role)}`,children:"Takım Lideri"})]}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[I.memberCount," ",(I.memberCount===1,"personel")]})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[I.memberCount," Üye"]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:I.isUnassigned?"Atanmamış":"Aktif Takım"})]}),v[U]?u.jsx(k5,{className:"w-5 h-5 text-gray-400"}):u.jsx(b6,{className:"w-5 h-5 text-gray-400"})]})]})}),v[U]&&u.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700",children:I.members.length===0?u.jsxs("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:[u.jsx(Ua,{className:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),u.jsx("p",{children:"Bu takımda henüz personel bulunmuyor"})]}):u.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:I.members.map(R=>u.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(Ua,{className:"w-5 h-5 text-green-600"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:R.name}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.email})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${P(R.role)}`,children:"Personel"}),u.jsx("button",{onClick:()=>K(R),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-1 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"Takım değiştir",children:u.jsx(dx,{className:"w-4 h-4"})})]})]})},R.id))})})]},I.leader.id))}),o&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Takım Ataması"}),u.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:u.jsx(oc,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Personel:"}),u.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:u.jsx(Ua,{className:"w-4 h-4 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:h==null?void 0:h.name}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:h==null?void 0:h.email})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Takım Lideri Seçin:"}),u.jsxs("select",{value:p,onChange:I=>y(I.target.value),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"",children:"Takım lideri seçin..."}),D().map(I=>u.jsx("option",{value:I.id,children:I.name},I.id))]})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),u.jsxs("button",{onClick:H,disabled:!p,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(pf,{className:"w-4 h-4"}),u.jsx("span",{children:"Ata"})]})]})]})]})})]})},_M=()=>{const{currentUser:t}=os(),[e,r]=be.useState(!0),[n,a]=be.useState(!1),[s,o]=be.useState(""),[c,h]=be.useState(""),[d,p]=be.useState({kanalList:[],durumList:[],detayList:[],abonelikDurumList:[]}),y={kanalList:"Çağrı Kanalları",durumList:"Çağrı Durumları",detayList:"Satış Çağrısı Detayları",abonelikDurumList:"Abonelik Durumları"};be.useEffect(()=>{v()},[]);const v=async()=>{try{r(!0);const E=sn(Lt,"dropdown_settings","main"),S=await Xi(E);if(S.exists()){const j=S.data();p({kanalList:j.kanalList||[],durumList:j.durumList||[],detayList:j.detayList||[],abonelikDurumList:j.abonelikDurumList||[]})}else p({kanalList:["Telefon","WhatsApp","E-posta","Yüz Yüze","Web Site"],durumList:["Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti"],detayList:["İlgilendi","Düşünecek","Fiyat Sordu","Bilgi İstedi","İlgilenmedi","Satış Sağlandı"],abonelikDurumList:["Yeni Abone","Mevcut Abone","İptal","Askıya Alındı","Beklemede"]})}catch(E){console.error("Dropdown ayarları yüklenirken hata:",E),h("Ayarlar yüklenirken bir hata oluştu.")}finally{r(!1)}},b=E=>{const S=prompt(`Yeni ${y[E]} değeri:`);S&&S.trim()&&p(j=>({...j,[E]:[...j[E],S.trim()]}))},A=(E,S)=>{window.confirm("Bu değeri silmek istediğinizden emin misiniz?")&&p(j=>({...j,[E]:j[E].filter((M,H)=>H!==S)}))},k=async()=>{var E;try{a(!0),h("");const S=sn(Lt,"dropdown_settings","main");await Fh(S,{...d,updatedAt:new Date}),await vs.logSystemSettingsChanged(t.uid,t.name||((E=t.email)==null?void 0:E.split("@")[0])||"Admin","Dropdown Settings",{dropdownOptions:Object.keys(d).reduce((j,M)=>(j[M]=d[M].length+" items",j),{})}),o("Ayarlar başarıyla kaydedildi!"),setTimeout(()=>o(""),3e3)}catch(S){console.error("Ayarlar kaydedilirken hata:",S),h("Ayarlar kaydedilirken bir hata oluştu.")}finally{a(!1)}};return e?u.jsx("div",{className:"flex justify-center items-center p-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center",children:[u.jsx(E5,{className:"h-6 w-6 mr-2"}),"Açılır Liste Ayarları"]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Yeni kayıt formundaki açılır listeleri yönetin"})]}),u.jsxs("button",{onClick:k,disabled:n,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[u.jsx(pf,{className:"h-4 w-4 mr-2"}),n?"Kaydediliyor...":"Tümünü Kaydet"]})]}),s&&u.jsxs("div",{className:"mb-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 px-4 py-3 rounded flex items-center",children:[u.jsx(Ri,{className:"h-4 w-4 mr-2"}),s]}),c&&u.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded flex items-center",children:[u.jsx(N0,{className:"h-4 w-4 mr-2"}),c]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(d).map(([E,S])=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[u.jsx(k6,{className:"h-5 w-5 mr-2"}),y[E]]}),u.jsxs("button",{onClick:()=>b(E),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:[u.jsx(rf,{className:"h-4 w-4 mr-1"}),"Ekle"]})]}),u.jsxs("div",{className:"space-y-2",children:[S.map((j,M)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[u.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:j}),u.jsx("button",{onClick:()=>A(E,M),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-1",title:"Sil",children:u.jsx(kh,{className:"h-4 w-4"})})]},M)),S.length===0&&u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Henüz değer eklenmemiş"})]})]},E))})]})},kM=()=>{const{currentUser:t}=os(),[e,r]=be.useState(!0),[n,a]=be.useState(!1),[s,o]=be.useState("security"),[c,h]=be.useState({}),[d,p]=be.useState({security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1,sessionTimeout:480,maxLoginAttempts:5,ipWhitelist:[],allowRemoteLogin:!0}}),[y,v]=be.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null}),b=[{id:"security",label:"Güvenlik",icon:bs},{id:"system",label:"Sistem Bilgisi",icon:NO}];be.useEffect(()=>{A(),k()},[]);const A=async()=>{try{const K=await Xi(sn(Lt,"system_settings","main"));if(K.exists()){const X=K.data();p(P=>({...P,...X}))}}catch(K){console.error("Ayarlar yüklenirken hata:",K)}finally{r(!1)}},k=async()=>{try{const K=await Vr(hr(Lt,"users")),X=K.size,P=K.docs.filter(ue=>ue.data().isActive!==!1).length,D=await Vr(hr(Lt,"sales_records")),I=D.size,U=new Date,R=new Date(U.getFullYear(),U.getMonth(),1),C=D.docs.filter(ue=>{var se;const ae=ue.data();return(((se=ae.createdAt)==null?void 0:se.toDate())||new Date(ae.tarih))>=R}).length,W=((X*2+I*1.5)/1024).toFixed(1);h({totalUsers:X,activeUsers:P,totalRecords:I,thisMonthRecords:C,systemUptime:"99.9%",lastBackup:new Date().toLocaleDateString("tr-TR"),databaseSize:`${W} MB`,avgResponseTime:"120ms"})}catch(K){console.error("Sistem istatistikleri yüklenirken hata:",K)}},E=(K,X,P)=>{p(D=>({...D,[K]:{...D[K],[X]:P}}))},S=async()=>{a(!0);try{const K={...d,lastUpdated:new Date,updatedBy:t.uid,savedAt:new Date().toISOString()};await Fh(sn(Lt,"system_settings","main"),K),v({isOpen:!0,type:"success",title:"Ayarlar Kaydedildi",message:`Sistem ayarları başarıyla güncellendi. Kayıt zamanı: ${new Date().toLocaleString("tr-TR")}`,onConfirm:()=>v(X=>({...X,isOpen:!1}))})}catch(K){console.error("Ayarlar kaydedilirken hata:",K),v({isOpen:!0,type:"error",title:"Kaydetme Hatası",message:`Ayarlar kaydedilirken bir hata oluştu: ${K.message}`,onConfirm:()=>v(X=>({...X,isOpen:!1}))})}finally{a(!1)}},j=()=>{v({isOpen:!0,type:"warning",title:"Varsayılan Ayarlara Dön",message:"Tüm ayarlar varsayılan değerlere sıfırlanacak. Bu işlem geri alınamaz. Devam etmek istiyor musunuz?",onConfirm:async()=>{try{const K={security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1,sessionTimeout:480,maxLoginAttempts:5,ipWhitelist:[],allowRemoteLogin:!0}};p(K),await Fh(sn(Lt,"system_settings","main"),{...K,lastUpdated:new Date,updatedBy:t.uid,resetToDefaults:!0}),v({isOpen:!0,type:"success",title:"Varsayılan Ayarlar Yüklendi",message:"Tüm ayarlar varsayılan değerlere sıfırlandı.",onConfirm:()=>v(X=>({...X,isOpen:!1}))})}catch(K){console.error("Varsayılan ayarlar yüklenirken hata:",K),v({isOpen:!0,type:"error",title:"Hata",message:"Varsayılan ayarlar yüklenirken bir hata oluştu.",onConfirm:()=>v(X=>({...X,isOpen:!1}))})}}})},M=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Dm,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2"}),u.jsx("span",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Güvenlik ayarları değişiklikleri tüm kullanıcıları etkileyecektir."})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Şifre Uzunluğu"}),u.jsx("input",{type:"number",min:"6",max:"20",value:d.security.passwordMinLength,onChange:K=>E("security","passwordMinLength",parseInt(K.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Oturum Zaman Aşımı (dakika)"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("select",{value:d.security.sessionTimeout,onChange:K=>E("security","sessionTimeout",parseInt(K.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[u.jsx("option",{value:30,children:"30 dakika (0.5 saat)"}),u.jsx("option",{value:60,children:"1 saat"}),u.jsx("option",{value:120,children:"2 saat"}),u.jsx("option",{value:240,children:"4 saat"}),u.jsx("option",{value:480,children:"8 saat (varsayılan)"}),u.jsx("option",{value:720,children:"12 saat"}),u.jsx("option",{value:1440,children:"24 saat"})]}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Kullanıcılar ",Math.floor(d.security.sessionTimeout/60),"s ",d.security.sessionTimeout%60,"dk aktivite olmadığında otomatik çıkış yapılır"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Maksimum Giriş Denemesi"}),u.jsx("input",{type:"number",min:"3",max:"10",value:d.security.maxLoginAttempts,onChange:K=>E("security","maxLoginAttempts",parseInt(K.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Büyük Harf Zorunluluğu"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Şifrelerde en az bir büyük harf olmalı"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:d.security.passwordRequireUppercase,onChange:K=>E("security","passwordRequireUppercase",K.target.checked),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Sayı Zorunluluğu"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Şifrelerde en az bir sayı olmalı"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:d.security.passwordRequireNumbers,onChange:K=>E("security","passwordRequireNumbers",K.target.checked),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]})]})]}),H=()=>u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg",children:[u.jsx("div",{className:"flex items-center",children:u.jsx(Ua,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 mb-2"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Toplam Kullanıcı"}),u.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.totalUsers}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c.activeUsers," aktif"]})]}),u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-6 rounded-lg",children:[u.jsx("div",{className:"flex items-center",children:u.jsx($g,{className:"h-8 w-8 text-green-600 dark:text-green-400 mb-2"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Toplam Kayıt"}),u.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:c.totalRecords}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Bu ay: ",c.thisMonthRecords]})]}),u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg",children:[u.jsx("div",{className:"flex items-center",children:u.jsx(qO,{className:"h-8 w-8 text-purple-600 dark:text-purple-400 mb-2"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sistem Durumu"}),u.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:c.systemUptime}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Çalışma süresi"})]}),u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-6 rounded-lg",children:[u.jsx("div",{className:"flex items-center",children:u.jsx(oO,{className:"h-8 w-8 text-orange-600 dark:text-orange-400 mb-2"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Veritabanı"}),u.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:c.databaseSize}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam boyut"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Sistem Bilgileri"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Son Yedekleme:"}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c.lastBackup})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Ortalama Yanıt Süresi:"}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c.avgResponseTime})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Uygulama Versiyonu:"}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"v1.3.0"})]}),u.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Son Güncelleme:"}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date().toLocaleDateString("tr-TR")})]})]})]})]});return e?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Sistem ayarları yükleniyor..."})})}):u.jsxs(zs,{allowedRoles:["admin"],children:[u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:u.jsx(E5,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Sistem Ayarları"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Uygulama konfigürasyonu ve sistem yönetimi"})]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[u.jsx(Jc,{className:"w-4 h-4"}),"Varsayılana Dön"]}),u.jsxs("button",{onClick:S,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:[n?u.jsx(Jc,{className:"w-4 h-4 animate-spin"}):u.jsx(pf,{className:"w-4 h-4"}),n?"Kaydediliyor...":"Kaydet"]})]})]})}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200 dark:border-gray-700",children:b.map(K=>{const X=K.icon;return u.jsxs("button",{onClick:()=>o(K.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg transition-colors ${s===K.id?"bg-purple-600 text-white border-b-2 border-purple-600":"text-gray-600 dark:text-gray-300 hover:text-purple-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[u.jsx(X,{className:"w-4 h-4"}),K.label]},K.id)})}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[s==="security"&&M(),s==="system"&&H()]})]})}),u.jsx(mx,{isOpen:y.isOpen,onClose:()=>v(K=>({...K,isOpen:!1})),title:y.title,type:y.type,onConfirm:y.onConfirm,children:u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:y.message})})]})},AM=({isOpen:t,onClose:e,children:r})=>{if(!t)return null;const n=document.getElementById("modal-root")||document.body;return M1.createPortal(u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:e,children:u.jsx("div",{style:{position:"relative",maxHeight:"90vh",overflow:"auto",margin:"0"},onClick:a=>a.stopPropagation(),children:r})}),n)},EM=()=>{const[t,e]=be.useState([]),[r,n]=be.useState(!0),[a,s]=be.useState({level:"",category:"",userId:"",dateFrom:"",dateTo:"",search:""}),[o,c]=be.useState(1),[h]=be.useState(10),[d,p]=be.useState(null),[y,v]=be.useState(!1),[b,A]=be.useState(0),k=[{value:"",label:"Tüm Seviyeler"},{value:"info",label:"Bilgi"},{value:"warning",label:"Uyarı"},{value:"error",label:"Hata"},{value:"success",label:"Başarılı"},{value:"security",label:"Güvenlik"}],E=[{value:"",label:"Tüm Kategoriler"},{value:"authentication",label:"Kimlik Doğrulama"},{value:"user_management",label:"Kullanıcı Yönetimi"},{value:"sales",label:"Satış İşlemleri"},{value:"system",label:"Sistem"},{value:"data",label:"Veri İşlemleri"},{value:"security",label:"Güvenlik"},{value:"navigation",label:"Sayfa Geçişleri"},{value:"ui_interaction",label:"Kullanıcı Etkileşimleri"},{value:"form_interaction",label:"Form İşlemleri"},{value:"filter_search",label:"Arama & Filtreleme"},{value:"export_download",label:"Dışa Aktarma"}];be.useEffect(()=>{S()},[a,o]);const S=async()=>{n(!0);try{let U=Sa(hr(Lt,"system_logs"),v5("timestamp","desc"),l6(1e3)),B=(await Vr(U)).docs.map(le=>{var se;return{id:le.id,...le.data(),timestamp:((se=le.data().timestamp)==null?void 0:se.toDate())||new Date}});if(B=B.filter(le=>{var se,ne;return le.email!=="wupaniyazilim@gmail.com"&&le.userId!=="wupaniyazilim@gmail.com"&&le.userName!=="Admin User"&&!((ne=(se=le.details)==null?void 0:se.email)!=null&&ne.includes("wupaniyazilim@gmail.com"))}),a.level&&(B=B.filter(le=>le.level===a.level)),a.category&&(B=B.filter(le=>le.category===a.category)),a.userId&&(B=B.filter(le=>{var se,ne;return((se=le.userId)==null?void 0:se.toLowerCase().includes(a.userId.toLowerCase()))||((ne=le.userName)==null?void 0:ne.toLowerCase().includes(a.userId.toLowerCase()))})),a.search){const le=a.search.toLowerCase();B=B.filter(se=>{var ne,J;return((ne=se.action)==null?void 0:ne.toLowerCase().includes(le))||((J=se.userName)==null?void 0:J.toLowerCase().includes(le))||JSON.stringify(se.details).toLowerCase().includes(le)})}if(a.dateFrom){const le=new Date(a.dateFrom);B=B.filter(se=>se.timestamp>=le)}if(a.dateTo){const le=new Date(a.dateTo);le.setHours(23,59,59,999),B=B.filter(se=>se.timestamp<=le)}A(B.length);const W=(o-1)*h,ue=W+h,ae=B.slice(W,ue);e(ae)}catch(U){console.error("Loglar yüklenirken hata:",U)}finally{n(!1)}},j=(U,R)=>{s(C=>({...C,[U]:R})),c(1)},M=()=>{s({level:"",category:"",userId:"",dateFrom:"",dateTo:"",search:""}),c(1)},H=U=>{switch(U){case"error":return u.jsx($2,{className:"h-4 w-4 text-red-500"});case"warning":return u.jsx(Dm,{className:"h-4 w-4 text-yellow-500"});case"success":return u.jsx(Ri,{className:"h-4 w-4 text-green-500"});case"security":return u.jsx(bs,{className:"h-4 w-4 text-purple-500"});default:return u.jsx(Wy,{className:"h-4 w-4 text-blue-500"})}},K=U=>{const R="px-2 py-1 text-xs font-medium rounded-full";switch(U){case"error":return`${R} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;case"warning":return`${R} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"success":return`${R} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"security":return`${R} bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200`;default:return`${R} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`}},X=U=>{const R="px-2 py-1 text-xs font-medium rounded-full";switch(U){case"authentication":return`${R} bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200`;case"user_management":return`${R} bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200`;case"sales":return`${R} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"system":return`${R} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`;case"security":return`${R} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;default:return`${R} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`}},P=U=>{p(U),v(!0)},D=()=>{const U=[["Tarih","Seviye","Kategori","Aksiyon","Kullanıcı","Detaylar"].join(","),...t.map(W=>[Qg(W.timestamp),W.level,W.category,W.action,W.userName||W.userId,JSON.stringify(W.details).replace(/,/g,";")].join(","))].join(`
`),R=new Blob([U],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),B=URL.createObjectURL(R);C.setAttribute("href",B),C.setAttribute("download",`system_logs_${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)},I=Math.ceil(b/h);return u.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center",children:u.jsx(bs,{className:"h-6 w-6 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gradient-purple",children:"Sistem Log Kayıtları"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sistem güvenlik ve aktivite kayıtları"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[u.jsx("div",{className:"card-modern p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:u.jsx(Wy,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Toplam Log"}),u.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:b})]})]})}),u.jsx("div",{className:"card-modern p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:u.jsx(Ri,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Başarılı"}),u.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.filter(U=>U.level==="success").length})]})]})}),u.jsx("div",{className:"card-modern p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center",children:u.jsx(Dm,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Uyarılar"}),u.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.filter(U=>U.level==="warning").length})]})]})}),u.jsx("div",{className:"card-modern p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center",children:u.jsx($2,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Hatalar"}),u.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.filter(U=>U.level==="error").length})]})]})})]})]}),u.jsxs("div",{className:"card-modern p-6 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(_6,{className:"h-5 w-5 text-gray-500"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filtreler"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Arama"}),u.jsxs("div",{className:"relative",children:[u.jsx(N6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",value:a.search,onChange:U=>j("search",U.target.value),placeholder:"Aksiyon, kullanıcı...",className:"input-modern pl-10"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Seviye"}),u.jsx("select",{value:a.level,onChange:U=>j("level",U.target.value),className:"input-modern",children:k.map(U=>u.jsx("option",{value:U.value,children:U.label},U.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kategori"}),u.jsx("select",{value:a.category,onChange:U=>j("category",U.target.value),className:"input-modern",children:E.map(U=>u.jsx("option",{value:U.value,children:U.label},U.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kullanıcı"}),u.jsx("input",{type:"text",value:a.userId,onChange:U=>j("userId",U.target.value),placeholder:"Kullanıcı adı...",className:"input-modern"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Başlangıç Tarihi"}),u.jsx("input",{type:"date",value:a.dateFrom,onChange:U=>j("dateFrom",U.target.value),className:"input-modern"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bitiş Tarihi"}),u.jsx("input",{type:"date",value:a.dateTo,onChange:U=>j("dateTo",U.target.value),className:"input-modern"})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{onClick:M,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Filtreleri Temizle"}),u.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[u.jsx(Jc,{className:"h-4 w-4"}),"Yenile"]}),u.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 text-sm bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[u.jsx(A5,{className:"h-4 w-4"}),"CSV İndir"]})]})]}),u.jsxs("div",{className:"card-modern overflow-hidden",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tarih/Saat"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Seviye"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Kategori"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Aksiyon"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Kullanıcı"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"İşlemler"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:r?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center",children:u.jsxs("div",{className:"flex items-center justify-center",children:[u.jsx(Jc,{className:"h-6 w-6 text-gray-400 animate-spin mr-2"}),u.jsx("span",{className:"text-gray-500",children:"Loglar yükleniyor..."})]})})}):t.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"Belirtilen kriterlere uygun log kaydı bulunamadı."})}):t.map(U=>{var R;return u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gy,{className:"h-4 w-4 text-gray-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Qg(U.timestamp)}),u.jsx("div",{className:"text-xs text-gray-500",children:U.timestamp.toLocaleTimeString("tr-TR")})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[H(U.level),u.jsx("span",{className:K(U.level),children:U.level})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:X(U.category),children:U.category})}),u.jsxs("td",{className:"px-6 py-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U.action}),((R=U.details)==null?void 0:R.message)&&u.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate max-w-xs",children:U.details.message})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(f0,{className:"h-4 w-4 text-gray-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U.userName||"System"}),u.jsx("div",{className:"text-xs text-gray-500",children:U.userId})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("button",{onClick:()=>P(U),className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg transition-colors",children:[u.jsx(lp,{className:"h-4 w-4"}),"Detay"]})})]},U.id)})})]})}),I>1&&u.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[u.jsxs("span",{children:["Sayfa başına ",h," kayıt gösteriliyor"]}),u.jsx("span",{className:"mx-2",children:"•"}),u.jsxs("span",{children:["Toplam ",b," kayıt"]}),u.jsx("span",{className:"mx-2",children:"•"}),u.jsxs("span",{children:["Sayfa ",o," / ",I]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>c(1),disabled:o===1,className:"px-3 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-600",children:"İlk"}),u.jsx("button",{onClick:()=>c(U=>Math.max(U-1,1)),disabled:o===1,className:"px-3 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-600",children:"Önceki"}),Array.from({length:Math.min(5,I)},(U,R)=>{let C;return I<=5||o<=3?C=R+1:o>=I-2?C=I-4+R:C=o-2+R,u.jsx("button",{onClick:()=>c(C),className:`px-3 py-1 text-sm rounded-lg ${o===C?"bg-blue-600 text-white":"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:C},C)}),u.jsx("button",{onClick:()=>c(U=>Math.min(U+1,I)),disabled:o===I,className:"px-3 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-600",children:"Sonraki"}),u.jsx("button",{onClick:()=>c(I),disabled:o===I,className:"px-3 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-600",children:"Son"})]})]})})]}),u.jsx(AM,{isOpen:y,onClose:()=>v(!1),children:d&&u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full mx-4",children:[u.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Log Detayı"}),u.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:u.jsx($2,{className:"h-6 w-6"})})]})}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tarih/Saat"}),u.jsxs("p",{className:"text-gray-900 dark:text-white",children:[Qg(d.timestamp)," ",d.timestamp.toLocaleTimeString("tr-TR")]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Seviye"}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[H(d.level),u.jsx("span",{className:K(d.level),children:d.level})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Kategori"}),u.jsx("div",{className:"mt-1",children:u.jsx("span",{className:X(d.category),children:d.category})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Kullanıcı"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:d.userName||"System"}),u.jsx("p",{className:"text-sm text-gray-500",children:d.userId})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Aksiyon"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:d.action})]}),u.jsxs("div",{className:"space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Teknik Detaylar"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-medium text-gray-500 dark:text-gray-400",children:"IP Adresi"}),u.jsx("p",{className:"text-gray-900 dark:text-white",children:d.ip||"Bilinmiyor"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium text-gray-500 dark:text-gray-400",children:"URL"}),u.jsx("p",{className:"text-gray-900 dark:text-white break-all",children:d.url})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium text-gray-500 dark:text-gray-400",children:"User Agent"}),u.jsx("p",{className:"text-gray-900 dark:text-white text-sm break-all",children:d.userAgent})]})]}),d.details&&Object.keys(d.details).length>0&&u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[u.jsx("label",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Detaylar"}),u.jsx("div",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:u.jsx("pre",{className:"text-sm text-gray-900 dark:text-white overflow-auto",children:JSON.stringify(d.details,null,2)})})]})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var W6=1252,NM=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],C5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},R5=function(t){NM.indexOf(t)!=-1&&(W6=C5[0]=t)};function SM(){R5(1252)}var fl=function(t){R5(t)};function Y6(){fl(1200),SM()}function b3(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function TM(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function X6(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Qd=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?TM(t.slice(2)):e==254&&r==255?X6(t.slice(2)):e==65279?t.slice(1):t},Eg=function(e){return String.fromCharCode(e)},w3=function(e){return String.fromCharCode(e)},Lm,s0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function _3(t){for(var e="",r=0,n=0,a=0,s=0,o=0,c=0,h=0,d=0;d<t.length;)r=t.charCodeAt(d++),s=r>>2,n=t.charCodeAt(d++),o=(r&3)<<4|n>>4,a=t.charCodeAt(d++),c=(n&15)<<2|a>>6,h=a&63,isNaN(n)?c=h=64:isNaN(a)&&(h=64),e+=s0.charAt(s)+s0.charAt(o)+s0.charAt(c)+s0.charAt(h);return e}function eo(t){var e="",r=0,n=0,a=0,s=0,o=0,c=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=s0.indexOf(t.charAt(d++)),o=s0.indexOf(t.charAt(d++)),r=s<<2|o>>4,e+=String.fromCharCode(r),c=s0.indexOf(t.charAt(d++)),n=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),h=s0.indexOf(t.charAt(d++)),a=(c&3)<<6|h,h!==64&&(e+=String.fromCharCode(a));return e}var Ur=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Af=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function w0(t){return Ur?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function k3(t){return Ur?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ll=function(e){return Ur?Af(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Ef(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function I5(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return I5(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var r0=Ur?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Af(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function CM(t){for(var e=[],r=0,n=t.length+250,a=w0(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|c>>6&15|(o&3)<<4,a[r++]=128|c&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(e.push(a.slice(0,r)),r=0,a=w0(65535),n=65530)}return e.push(a.slice(0,r)),r0(e)}var ci=/\u0000/g,Jd=/[\u0001-\u0006]/g;function Th(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function hl(t,e){var r=""+t;return r.length>=e?r:ta("0",e-r.length)+r}function D5(t,e){var r=""+t;return r.length>=e?r:ta(" ",e-r.length)+r}function A1(t,e){var r=""+t;return r.length>=e?r:r+ta(" ",e-r.length)}function RM(t,e){var r=""+Math.round(t);return r.length>=e?r:ta("0",e-r.length)+r}function IM(t,e){var r=""+t;return r.length>=e?r:ta("0",e-r.length)+r}var A3=Math.pow(2,32);function oh(t,e){if(t>A3||t<-A3)return RM(t,e);var r=Math.round(t);return IM(r,e)}function E1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var E3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ay=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function DM(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var xr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},N3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jM={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function N1(t,e,r){for(var n=t<0?-1:1,a=t*n,s=0,o=1,c=0,h=1,d=0,p=0,y=Math.floor(a);d<e&&(y=Math.floor(a),c=y*o+s,p=y*d+h,!(a-y<5e-8));)a=1/(a-y),s=o,o=c,h=d,d=p;if(p>e&&(d>e?(p=h,c=s):(p=d,c=o)),!r)return[0,n*c,p];var v=Math.floor(n*c/p);return[v,n*c-v*p,p]}function tf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),s=0,o=[],c={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++a==86400&&(c.T=a=0,++n,++c.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var h=new Date(1900,0,1);h.setDate(h.getDate()+n-1),o=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),n<60&&(s=(s+6)%7),r&&(s=BM(h,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=a%60,a=Math.floor(a/60),c.M=a%60,a=Math.floor(a/60),c.H=a,c.q=s,c}var Q6=new Date(1899,11,31,0,0,0),LM=Q6.getTime(),OM=new Date(1900,2,1,0,0,0);function J6(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=OM&&(r+=24*60*60*1e3),(r-(LM+(t.getTimezoneOffset()-Q6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function j5(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function PM(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function MM(t){var e=t<0?12:11,r=j5(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function FM(t){var e=j5(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Om(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=MM(t):e===10?r=t.toFixed(10).substr(0,12):r=FM(t),j5(PM(r.toUpperCase()))}function xf(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Om(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Io(14,J6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function BM(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function UM(t,e,r,n){var a="",s=0,o=0,c=r.y,h,d=0;switch(t){case 98:c=r.y+543;case 121:switch(e.length){case 1:case 2:h=c%100,d=2;break;default:h=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:h=r.m,d=e.length;break;case 3:return ay[r.m-1][1];case 5:return ay[r.m-1][0];default:return ay[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=r.d,d=e.length;break;case 3:return E3[r.q][0];default:return E3[r.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(r.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=r.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=r.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?hl(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(a=hl(s,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=r.D*24+r.H;break;case"[m]":case"[mm]":h=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":h=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:h=c,d=1;break}var p=d>0?hl(h,d):"";return p}function i0(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var Z6=/%/g;function VM(t,e,r){var n=e.replace(Z6,""),a=e.length-n.length;return eu(t,n,r*Math.pow(10,2*a))+ta("%",a)}function zM(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return eu(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function eN(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+eN(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,p){return h+d+p.substr(0,(a+s)%a)+"."+p.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var tN=/# (\?+)( ?)\/( ?)(\d+)/;function qM(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),s=Math.floor(a/n),o=a-s*n,c=n;return r+(s===0?"":""+s)+" "+(o===0?ta(" ",t[1].length+1+t[4].length):D5(o,t[1].length)+t[2]+"/"+t[3]+hl(c,t[4].length))}function HM(t,e,r){return r+(e===0?"":""+e)+ta(" ",t[1].length+2+t[4].length)}var rN=/^#*0*\.([0#]+)/,nN=/\).*[0#]/,aN=/\(###\) ###\\?-####/;function si(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function S3(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function T3(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function GM(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function $M(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function No(t,e,r){if(t.charCodeAt(0)===40&&!e.match(nN)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?No("n",n,r):"("+No("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return zM(t,e,r);if(e.indexOf("%")!==-1)return VM(t,e,r);if(e.indexOf("E")!==-1)return eN(e,r);if(e.charCodeAt(0)===36)return"$"+No(t,e.substr(e.charAt(1)==" "?2:1),r);var a,s,o,c,h=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+oh(h,e.length);if(e.match(/^[#?]+$/))return a=oh(r,0),a==="0"&&(a=""),a.length>e.length?a:si(e.substr(0,e.length-a.length))+a;if(s=e.match(tN))return qM(s,h,d);if(e.match(/^#+0+$/))return d+oh(h,e.length-e.indexOf("0"));if(s=e.match(rN))return a=S3(r,s[1].length).replace(/^([^\.]+)$/,"$1."+si(s[1])).replace(/\.$/,"."+si(s[1])).replace(/\.(\d*)$/,function(A,k){return"."+k+ta("0",si(s[1]).length-k.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+S3(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+i0(oh(h,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+No(t,e,-r):i0(""+(Math.floor(r)+GM(r,s[1].length)))+"."+hl(T3(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return No(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Th(No(t,e.replace(/[\\-]/g,""),r)),o=0,Th(Th(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return o<a.length?a.charAt(o++):A==="0"?"0":""}));if(e.match(aN))return a=No(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=N1(h,Math.pow(10,o)-1,!1),a=""+d,p=eu("n",s[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+s[2]+"/"+s[3],p=A1(c[2],o),p.length<s[4].length&&(p=si(s[4].substr(s[4].length-p.length))+p),a+=p,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=N1(h,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?D5(c[1],o)+s[2]+"/"+s[3]+A1(c[2],o):ta(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=oh(r,0),e.length<=a.length?a:si(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var y=e.indexOf(".")-o,v=e.length-a.length-y;return si(e.substr(0,y)+a+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=T3(r,s[1].length),r<0?"-"+No(t,e,-r):i0($M(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?hl(0,3-A.length):"")+A})+"."+hl(o,s[1].length);switch(e){case"###,##0.00":return No(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var b=i0(oh(h,0));return b!=="0"?d+b:"";case"###,###.00":return No(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return No(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function KM(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return eu(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function WM(t,e,r){var n=e.replace(Z6,""),a=e.length-n.length;return eu(t,n,r*Math.pow(10,2*a))+ta("%",a)}function sN(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+sN(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,p){return h+d+p.substr(0,(a+s)%a)+"."+p.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ql(t,e,r){if(t.charCodeAt(0)===40&&!e.match(nN)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ql("n",n,r):"("+Ql("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return KM(t,e,r);if(e.indexOf("%")!==-1)return WM(t,e,r);if(e.indexOf("E")!==-1)return sN(e,r);if(e.charCodeAt(0)===36)return"$"+Ql(t,e.substr(e.charAt(1)==" "?2:1),r);var a,s,o,c,h=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+hl(h,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:si(e.substr(0,e.length-a.length))+a;if(s=e.match(tN))return HM(s,h,d);if(e.match(/^#+0+$/))return d+hl(h,e.length-e.indexOf("0"));if(s=e.match(rN))return a=(""+r).replace(/^([^\.]+)$/,"$1."+si(s[1])).replace(/\.$/,"."+si(s[1])),a=a.replace(/\.(\d*)$/,function(A,k){return"."+k+ta("0",si(s[1]).length-k.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+i0(""+h);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ql(t,e,-r):i0(""+r)+"."+ta("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ql(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Th(Ql(t,e.replace(/[\\-]/g,""),r)),o=0,Th(Th(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return o<a.length?a.charAt(o++):A==="0"?"0":""}));if(e.match(aN))return a=Ql(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=N1(h,Math.pow(10,o)-1,!1),a=""+d,p=eu("n",s[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+s[2]+"/"+s[3],p=A1(c[2],o),p.length<s[4].length&&(p=si(s[4].substr(s[4].length-p.length))+p),a+=p,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=N1(h,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?D5(c[1],o)+s[2]+"/"+s[3]+A1(c[2],o):ta(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:si(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var y=e.indexOf(".")-o,v=e.length-a.length-y;return si(e.substr(0,y)+a+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ql(t,e,-r):i0(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?hl(0,3-A.length):"")+A})+"."+hl(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var b=i0(""+h);return b!=="0"?d+b:"";default:if(e.match(/\.[0#?]*$/))return Ql(t,e.slice(0,e.lastIndexOf(".")),r)+si(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function eu(t,e,r){return(r|0)===r?Ql(t,e,r):No(t,e,r)}function YM(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var iN=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Zh(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":E1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(iN))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function XM(t,e,r,n){for(var a=[],s="",o=0,c="",h="t",d,p,y,v="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!E1(t,o))throw new Error("unrecognized character "+c+" in "+t);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(y=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(y);a[a.length]={t:"t",v:s},++o;break;case"\\":var b=t.charAt(++o),A=b==="("||b===")"?b:"t";a[a.length]={t:A,v:b},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=tf(e,r,t.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:t.substr(o,2)},h=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=tf(e,r),d==null))return"";for(s=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&h.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=v),a[a.length]={t:c,v:s},h=c;break;case"A":case"a":case"上":var k={t:c,v:c};if(d==null&&(d=tf(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(k.v=d.H>=12?"P":"A"),k.t="T",v="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(k.v=d.H>=12?"PM":"AM"),k.t="T",o+=5,v="h"):t.substr(o,5).toUpperCase()==="上午/下午"?(d!=null&&(k.v=d.H>=12?"下午":"上午"),k.t="T",o+=5,v="h"):(k.t="t",++o),d==null&&k.t==="T")return"";a[a.length]=k,h=c;break;case"[":for(s=c;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(iN)){if(d==null&&(d=tf(e,r),d==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Zh(t)||(a[a.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++o<t.length&&(c=t.charAt(o))==="0";)s+=c;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)s+=c;a[a.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++o)===c;)s+=c;a[a.length]={t:c,v:s},h=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:c,v:c},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);a[a.length]={t:"t",v:c},++o;break}var E=0,S=0,j;for(o=a.length-1,h="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=v,h="h",E<1&&(E=1);break;case"s":(j=a[o].v.match(/\.0+$/))&&(S=Math.max(S,j[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":h=a[o].t;break;case"m":h==="s"&&(a[o].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&a[o].v.match(/[Hh]/)&&(E=1),E<2&&a[o].v.match(/[Mm]/)&&(E=2),E<3&&a[o].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var M="",H;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=UM(a[o].t.charCodeAt(0),a[o].v,d,S),a[o].t="t";break;case"n":case"?":for(H=o+1;a[H]!=null&&((c=a[H].t)==="?"||c==="D"||(c===" "||c==="t")&&a[H+1]!=null&&(a[H+1].t==="?"||a[H+1].t==="t"&&a[H+1].v==="/")||a[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(a[H].v==="/"||a[H].v===" "&&a[H+1]!=null&&a[H+1].t=="?"));)a[o].v+=a[H].v,a[H]={v:"",t:";"},++H;M+=a[o].v,o=H-1;break;case"G":a[o].t="t",a[o].v=xf(e,r);break}var K="",X,P;if(M.length>0){M.charCodeAt(0)==40?(X=e<0&&M.charCodeAt(0)===45?-e:e,P=eu("n",M,X)):(X=e<0&&n>1?-e:e,P=eu("n",M,X),X<0&&a[0]&&a[0].t=="t"&&(P=P.substr(1),a[0].v="-"+a[0].v)),H=P.length-1;var D=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){D=o;break}var I=a.length;if(D===a.length&&P.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(H>=a[o].v.length-1?(H-=a[o].v.length,a[o].v=P.substr(H+1,a[o].v.length)):H<0?a[o].v="":(a[o].v=P.substr(0,H+1),H=-1),a[o].t="t",I=o);H>=0&&I<a.length&&(a[I].v=P.substr(0,H+1)+a[I].v)}else if(D!==a.length&&P.indexOf("E")===-1){for(H=P.indexOf(".")-1,o=D;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(p=a[o].v.indexOf(".")>-1&&o===D?a[o].v.indexOf(".")-1:a[o].v.length-1,K=a[o].v.substr(p+1);p>=0;--p)H>=0&&(a[o].v.charAt(p)==="0"||a[o].v.charAt(p)==="#")&&(K=P.charAt(H--)+K);a[o].v=K,a[o].t="t",I=o}for(H>=0&&I<a.length&&(a[I].v=P.substr(0,H+1)+a[I].v),H=P.indexOf(".")+1,o=D;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==D)){for(p=a[o].v.indexOf(".")>-1&&o===D?a[o].v.indexOf(".")+1:0,K=a[o].v.substr(0,p);p<a[o].v.length;++p)H<P.length&&(K+=P.charAt(H++));a[o].v=K,a[o].t="t",I=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(X=n>1&&e<0&&o>0&&a[o-1].v==="-"?-e:e,a[o].v=eu(a[o].t,a[o].v,X),a[o].t="t");var U="";for(o=0;o!==a.length;++o)a[o]!=null&&(U+=a[o].v);return U}var C3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function R3(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function QM(t,e){var r=YM(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(C3),c=r[1].match(C3);return R3(e,o)?[n,r[0]]:R3(e,c)?[n,r[1]]:[n,r[o!=null&&c!=null?2:1]]}return[n,s]}function Io(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:xr)[t],n==null&&(n=r.table&&r.table[N3[t]]||xr[N3[t]]),n==null&&(n=jM[t]||"General");break}if(E1(n,0))return xf(e,r);e instanceof Date&&(e=J6(e,r.date1904));var a=QM(n,e);if(E1(a[1]))return xf(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return XM(a[1],e,r,a[0])}function af(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(xr[r]==null){e<0&&(e=r);continue}if(xr[r]==t){e=r;break}}e<0&&(e=391)}return xr[e]=t,e}function oN(){xr=DM()}var JM={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},lN=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ZM(t){var e=typeof t=="number"?xr[t]:t;return e=e.replace(lN,"(\\d+)"),new RegExp("^"+e+"$")}function eF(t,e,r){var n=-1,a=-1,s=-1,o=-1,c=-1,h=-1;(e.match(lN)||[]).forEach(function(y,v){var b=parseInt(r[v+1],10);switch(y.toLowerCase().charAt(0)){case"y":n=b;break;case"d":s=b;break;case"h":o=b;break;case"s":h=b;break;case"m":o>=0?c=b:a=b;break}}),h>=0&&c==-1&&a>=0&&(c=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return o==-1&&c==-1&&h==-1?d:n==-1&&a==-1&&s==-1?p:d+"T"+p}var tF=function(){var t={};t.version="1.2.0";function e(){for(var P=0,D=new Array(256),I=0;I!=256;++I)P=I,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,D[I]=P;return typeof Int32Array<"u"?new Int32Array(D):D}var r=e();function n(P){var D=0,I=0,U=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)R[U]=P[U];for(U=0;U!=256;++U)for(I=P[U],D=256+U;D<4096;D+=256)I=R[D]=I>>>8^P[I&255];var C=[];for(U=1;U!=16;++U)C[U-1]=typeof Int32Array<"u"?R.subarray(U*256,U*256+256):R.slice(U*256,U*256+256);return C}var a=n(r),s=a[0],o=a[1],c=a[2],h=a[3],d=a[4],p=a[5],y=a[6],v=a[7],b=a[8],A=a[9],k=a[10],E=a[11],S=a[12],j=a[13],M=a[14];function H(P,D){for(var I=D^-1,U=0,R=P.length;U<R;)I=I>>>8^r[(I^P.charCodeAt(U++))&255];return~I}function K(P,D){for(var I=D^-1,U=P.length-15,R=0;R<U;)I=M[P[R++]^I&255]^j[P[R++]^I>>8&255]^S[P[R++]^I>>16&255]^E[P[R++]^I>>>24]^k[P[R++]]^A[P[R++]]^b[P[R++]]^v[P[R++]]^y[P[R++]]^p[P[R++]]^d[P[R++]]^h[P[R++]]^c[P[R++]]^o[P[R++]]^s[P[R++]]^r[P[R++]];for(U+=15;R<U;)I=I>>>8^r[(I^P[R++])&255];return~I}function X(P,D){for(var I=D^-1,U=0,R=P.length,C=0,B=0;U<R;)C=P.charCodeAt(U++),C<128?I=I>>>8^r[(I^C)&255]:C<2048?(I=I>>>8^r[(I^(192|C>>6&31))&255],I=I>>>8^r[(I^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,B=P.charCodeAt(U++)&1023,I=I>>>8^r[(I^(240|C>>8&7))&255],I=I>>>8^r[(I^(128|C>>2&63))&255],I=I>>>8^r[(I^(128|B>>6&15|(C&3)<<4))&255],I=I>>>8^r[(I^(128|B&63))&255]):(I=I>>>8^r[(I^(224|C>>12&15))&255],I=I>>>8^r[(I^(128|C>>6&63))&255],I=I>>>8^r[(I^(128|C&63))&255]);return~I}return t.table=r,t.bstr=H,t.buf=K,t.str=X,t}(),$r=function(){var e={};e.version="1.2.1";function r(ie,Ae){for(var ye=ie.split("/"),ve=Ae.split("/"),ke=0,Ee=0,ze=Math.min(ye.length,ve.length);ke<ze;++ke){if(Ee=ye[ke].length-ve[ke].length)return Ee;if(ye[ke]!=ve[ke])return ye[ke]<ve[ke]?-1:1}return ye.length-ve.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var Ae=ie.lastIndexOf("/");return Ae===-1?ie:ie.slice(0,Ae+1)}function a(ie){if(ie.charAt(ie.length-1)=="/")return a(ie.slice(0,-1));var Ae=ie.lastIndexOf("/");return Ae===-1?ie:ie.slice(Ae+1)}function s(ie,Ae){typeof Ae=="string"&&(Ae=new Date(Ae));var ye=Ae.getHours();ye=ye<<6|Ae.getMinutes(),ye=ye<<5|Ae.getSeconds()>>>1,ie.write_shift(2,ye);var ve=Ae.getFullYear()-1980;ve=ve<<4|Ae.getMonth()+1,ve=ve<<5|Ae.getDate(),ie.write_shift(2,ve)}function o(ie){var Ae=ie.read_shift(2)&65535,ye=ie.read_shift(2)&65535,ve=new Date,ke=ye&31;ye>>>=5;var Ee=ye&15;ye>>>=4,ve.setMilliseconds(0),ve.setFullYear(ye+1980),ve.setMonth(Ee-1),ve.setDate(ke);var ze=Ae&31;Ae>>>=5;var Ze=Ae&63;return Ae>>>=6,ve.setHours(Ae),ve.setMinutes(Ze),ve.setSeconds(ze<<1),ve}function c(ie){ys(ie,0);for(var Ae={},ye=0;ie.l<=ie.length-4;){var ve=ie.read_shift(2),ke=ie.read_shift(2),Ee=ie.l+ke,ze={};switch(ve){case 21589:ye=ie.read_shift(1),ye&1&&(ze.mtime=ie.read_shift(4)),ke>5&&(ye&2&&(ze.atime=ie.read_shift(4)),ye&4&&(ze.ctime=ie.read_shift(4))),ze.mtime&&(ze.mt=new Date(ze.mtime*1e3));break}ie.l=Ee,Ae[ve]=ze}return Ae}var h;function d(){return h||(h={})}function p(ie,Ae){if(ie[0]==80&&ie[1]==75)return on(ie,Ae);if((ie[0]|32)==109&&(ie[1]|32)==105)return ls(ie,Ae);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var ye=3,ve=512,ke=0,Ee=0,ze=0,Ze=0,Fe=0,Ge=[],Xe=ie.slice(0,512);ys(Xe,0);var ft=y(Xe);switch(ye=ft[0],ye){case 3:ve=512;break;case 4:ve=4096;break;case 0:if(ft[1]==0)return on(ie,Ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}ve!==512&&(Xe=ie.slice(0,ve),ys(Xe,28));var kt=ie.slice(0,ve);v(Xe,ye);var Ct=Xe.read_shift(4,"i");if(ye===3&&Ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ct);Xe.l+=4,ze=Xe.read_shift(4,"i"),Xe.l+=4,Xe.chk("00100000","Mini Stream Cutoff Size: "),Ze=Xe.read_shift(4,"i"),ke=Xe.read_shift(4,"i"),Fe=Xe.read_shift(4,"i"),Ee=Xe.read_shift(4,"i");for(var wt=-1,At=0;At<109&&(wt=Xe.read_shift(4,"i"),!(wt<0));++At)Ge[At]=wt;var Qt=b(ie,ve);E(Fe,Ee,Qt,ve,Ge);var _r=j(Qt,ze,Ge,ve);_r[ze].name="!Directory",ke>0&&Ze!==B&&(_r[Ze].name="!MiniFAT"),_r[Ge[0]].name="!FAT",_r.fat_addrs=Ge,_r.ssz=ve;var kr={},Tr=[],Ra=[],fi=[];M(ze,_r,Qt,Tr,ke,kr,Ra,Ze),A(Ra,fi,Tr),Tr.shift();var xa={FileIndex:Ra,FullPaths:fi};return Ae&&Ae.raw&&(xa.raw={header:kt,sectors:Qt}),xa}function y(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(W,"Header Signature: "),ie.l+=16;var Ae=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),Ae]}function v(ie,Ae){var ye=9;switch(ie.l+=2,ye=ie.read_shift(2)){case 9:if(Ae!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(Ae!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function b(ie,Ae){for(var ye=Math.ceil(ie.length/Ae)-1,ve=[],ke=1;ke<ye;++ke)ve[ke-1]=ie.slice(ke*Ae,(ke+1)*Ae);return ve[ye-1]=ie.slice(ye*Ae),ve}function A(ie,Ae,ye){for(var ve=0,ke=0,Ee=0,ze=0,Ze=0,Fe=ye.length,Ge=[],Xe=[];ve<Fe;++ve)Ge[ve]=Xe[ve]=ve,Ae[ve]=ye[ve];for(;Ze<Xe.length;++Ze)ve=Xe[Ze],ke=ie[ve].L,Ee=ie[ve].R,ze=ie[ve].C,Ge[ve]===ve&&(ke!==-1&&Ge[ke]!==ke&&(Ge[ve]=Ge[ke]),Ee!==-1&&Ge[Ee]!==Ee&&(Ge[ve]=Ge[Ee])),ze!==-1&&(Ge[ze]=ve),ke!==-1&&ve!=Ge[ve]&&(Ge[ke]=Ge[ve],Xe.lastIndexOf(ke)<Ze&&Xe.push(ke)),Ee!==-1&&ve!=Ge[ve]&&(Ge[Ee]=Ge[ve],Xe.lastIndexOf(Ee)<Ze&&Xe.push(Ee));for(ve=1;ve<Fe;++ve)Ge[ve]===ve&&(Ee!==-1&&Ge[Ee]!==Ee?Ge[ve]=Ge[Ee]:ke!==-1&&Ge[ke]!==ke&&(Ge[ve]=Ge[ke]));for(ve=1;ve<Fe;++ve)if(ie[ve].type!==0){if(Ze=ve,Ze!=Ge[Ze])do Ze=Ge[Ze],Ae[ve]=Ae[Ze]+"/"+Ae[ve];while(Ze!==0&&Ge[Ze]!==-1&&Ze!=Ge[Ze]);Ge[ve]=-1}for(Ae[0]+="/",ve=1;ve<Fe;++ve)ie[ve].type!==2&&(Ae[ve]+="/")}function k(ie,Ae,ye){for(var ve=ie.start,ke=ie.size,Ee=[],ze=ve;ye&&ke>0&&ze>=0;)Ee.push(Ae.slice(ze*C,ze*C+C)),ke-=C,ze=Z0(ye,ze*4);return Ee.length===0?Ba(0):r0(Ee).slice(0,ie.size)}function E(ie,Ae,ye,ve,ke){var Ee=B;if(ie===B){if(Ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var ze=ye[ie],Ze=(ve>>>2)-1;if(!ze)return;for(var Fe=0;Fe<Ze&&(Ee=Z0(ze,Fe*4))!==B;++Fe)ke.push(Ee);E(Z0(ze,ve-4),Ae-1,ye,ve,ke)}}function S(ie,Ae,ye,ve,ke){var Ee=[],ze=[];ke||(ke=[]);var Ze=ve-1,Fe=0,Ge=0;for(Fe=Ae;Fe>=0;){ke[Fe]=!0,Ee[Ee.length]=Fe,ze.push(ie[Fe]);var Xe=ye[Math.floor(Fe*4/ve)];if(Ge=Fe*4&Ze,ve<4+Ge)throw new Error("FAT boundary crossed: "+Fe+" 4 "+ve);if(!ie[Xe])break;Fe=Z0(ie[Xe],Ge)}return{nodes:Ee,data:U3([ze])}}function j(ie,Ae,ye,ve){var ke=ie.length,Ee=[],ze=[],Ze=[],Fe=[],Ge=ve-1,Xe=0,ft=0,kt=0,Ct=0;for(Xe=0;Xe<ke;++Xe)if(Ze=[],kt=Xe+Ae,kt>=ke&&(kt-=ke),!ze[kt]){Fe=[];var wt=[];for(ft=kt;ft>=0;){wt[ft]=!0,ze[ft]=!0,Ze[Ze.length]=ft,Fe.push(ie[ft]);var At=ye[Math.floor(ft*4/ve)];if(Ct=ft*4&Ge,ve<4+Ct)throw new Error("FAT boundary crossed: "+ft+" 4 "+ve);if(!ie[At]||(ft=Z0(ie[At],Ct),wt[ft]))break}Ee[kt]={nodes:Ze,data:U3([Fe])}}return Ee}function M(ie,Ae,ye,ve,ke,Ee,ze,Ze){for(var Fe=0,Ge=ve.length?2:0,Xe=Ae[ie].data,ft=0,kt=0,Ct;ft<Xe.length;ft+=128){var wt=Xe.slice(ft,ft+128);ys(wt,64),kt=wt.read_shift(2),Ct=F5(wt,0,kt-Ge),ve.push(Ct);var At={name:Ct,type:wt.read_shift(1),color:wt.read_shift(1),L:wt.read_shift(4,"i"),R:wt.read_shift(4,"i"),C:wt.read_shift(4,"i"),clsid:wt.read_shift(16),state:wt.read_shift(4,"i"),start:0,size:0},Qt=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);Qt!==0&&(At.ct=H(wt,wt.l-8));var _r=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);_r!==0&&(At.mt=H(wt,wt.l-8)),At.start=wt.read_shift(4,"i"),At.size=wt.read_shift(4,"i"),At.size<0&&At.start<0&&(At.size=At.type=0,At.start=B,At.name=""),At.type===5?(Fe=At.start,ke>0&&Fe!==B&&(Ae[Fe].name="!StreamData")):At.size>=4096?(At.storage="fat",Ae[At.start]===void 0&&(Ae[At.start]=S(ye,At.start,Ae.fat_addrs,Ae.ssz)),Ae[At.start].name=At.name,At.content=Ae[At.start].data.slice(0,At.size)):(At.storage="minifat",At.size<0?At.size=0:Fe!==B&&At.start!==B&&Ae[Fe]&&(At.content=k(At,Ae[Fe].data,(Ae[Ze]||{}).data))),At.content&&ys(At.content,0),Ee[Ct]=At,ze.push(At)}}function H(ie,Ae){return new Date((Yi(ie,Ae+4)/1e7*Math.pow(2,32)+Yi(ie,Ae)/1e7-11644473600)*1e3)}function K(ie,Ae){return d(),p(h.readFileSync(ie),Ae)}function X(ie,Ae){var ye=Ae&&Ae.type;switch(ye||Ur&&Buffer.isBuffer(ie)&&(ye="buffer"),ye||"base64"){case"file":return K(ie,Ae);case"base64":return p(ll(eo(ie)),Ae);case"binary":return p(ll(ie),Ae)}return p(ie,Ae)}function P(ie,Ae){var ye=Ae||{},ve=ye.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=ve+"/",ie.FileIndex[0]={name:ve,type:5}),ye.CLSID&&(ie.FileIndex[0].clsid=ye.CLSID),D(ie)}function D(ie){var Ae="Sh33tJ5";if(!$r.find(ie,"/"+Ae)){var ye=Ba(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,ie.FileIndex.push({name:Ae,type:2,content:ye,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+Ae),I(ie)}}function I(ie,Ae){P(ie);for(var ye=!1,ve=!1,ke=ie.FullPaths.length-1;ke>=0;--ke){var Ee=ie.FileIndex[ke];switch(Ee.type){case 0:ve?ye=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:ve=!0,isNaN(Ee.R*Ee.L*Ee.C)&&(ye=!0),Ee.R>-1&&Ee.L>-1&&Ee.R==Ee.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!Ae)){var ze=new Date(1987,1,19),Ze=0,Fe=Object.create?Object.create(null):{},Ge=[];for(ke=0;ke<ie.FullPaths.length;++ke)Fe[ie.FullPaths[ke]]=!0,ie.FileIndex[ke].type!==0&&Ge.push([ie.FullPaths[ke],ie.FileIndex[ke]]);for(ke=0;ke<Ge.length;++ke){var Xe=n(Ge[ke][0]);ve=Fe[Xe],ve||(Ge.push([Xe,{name:a(Xe).replace("/",""),type:1,clsid:ae,ct:ze,mt:ze,content:null}]),Fe[Xe]=!0)}for(Ge.sort(function(Ct,wt){return r(Ct[0],wt[0])}),ie.FullPaths=[],ie.FileIndex=[],ke=0;ke<Ge.length;++ke)ie.FullPaths[ke]=Ge[ke][0],ie.FileIndex[ke]=Ge[ke][1];for(ke=0;ke<Ge.length;++ke){var ft=ie.FileIndex[ke],kt=ie.FullPaths[ke];if(ft.name=a(kt).replace("/",""),ft.L=ft.R=ft.C=-(ft.color=1),ft.size=ft.content?ft.content.length:0,ft.start=0,ft.clsid=ft.clsid||ae,ke===0)ft.C=Ge.length>1?1:-1,ft.size=0,ft.type=5;else if(kt.slice(-1)=="/"){for(Ze=ke+1;Ze<Ge.length&&n(ie.FullPaths[Ze])!=kt;++Ze);for(ft.C=Ze>=Ge.length?-1:Ze,Ze=ke+1;Ze<Ge.length&&n(ie.FullPaths[Ze])!=n(kt);++Ze);ft.R=Ze>=Ge.length?-1:Ze,ft.type=1}else n(ie.FullPaths[ke+1]||"")==n(kt)&&(ft.R=ke+1),ft.type=2}}}function U(ie,Ae){var ye=Ae||{};if(ye.fileType=="mad")return Rt(ie,ye);switch(I(ie),ye.fileType){case"zip":return na(ie,ye)}var ve=function(Ct){for(var wt=0,At=0,Qt=0;Qt<Ct.FileIndex.length;++Qt){var _r=Ct.FileIndex[Qt];if(_r.content){var kr=_r.content.length;kr>0&&(kr<4096?wt+=kr+63>>6:At+=kr+511>>9)}}for(var Tr=Ct.FullPaths.length+3>>2,Ra=wt+7>>3,fi=wt+127>>7,xa=Ra+At+Tr+fi,$a=xa+127>>7,cs=$a<=109?0:Math.ceil(($a-109)/127);xa+$a+cs+127>>7>$a;)cs=++$a<=109?0:Math.ceil(($a-109)/127);var Ia=[1,cs,$a,fi,Tr,At,wt,0];return Ct.FileIndex[0].size=wt<<6,Ia[7]=(Ct.FileIndex[0].start=Ia[0]+Ia[1]+Ia[2]+Ia[3]+Ia[4]+Ia[5])+(Ia[6]+7>>3),Ia}(ie),ke=Ba(ve[7]<<9),Ee=0,ze=0;{for(Ee=0;Ee<8;++Ee)ke.write_shift(1,ue[Ee]);for(Ee=0;Ee<8;++Ee)ke.write_shift(2,0);for(ke.write_shift(2,62),ke.write_shift(2,3),ke.write_shift(2,65534),ke.write_shift(2,9),ke.write_shift(2,6),Ee=0;Ee<3;++Ee)ke.write_shift(2,0);for(ke.write_shift(4,0),ke.write_shift(4,ve[2]),ke.write_shift(4,ve[0]+ve[1]+ve[2]+ve[3]-1),ke.write_shift(4,0),ke.write_shift(4,4096),ke.write_shift(4,ve[3]?ve[0]+ve[1]+ve[2]-1:B),ke.write_shift(4,ve[3]),ke.write_shift(-4,ve[1]?ve[0]-1:B),ke.write_shift(4,ve[1]),Ee=0;Ee<109;++Ee)ke.write_shift(-4,Ee<ve[2]?ve[1]+Ee:-1)}if(ve[1])for(ze=0;ze<ve[1];++ze){for(;Ee<236+ze*127;++Ee)ke.write_shift(-4,Ee<ve[2]?ve[1]+Ee:-1);ke.write_shift(-4,ze===ve[1]-1?B:ze+1)}var Ze=function(Ct){for(ze+=Ct;Ee<ze-1;++Ee)ke.write_shift(-4,Ee+1);Ct&&(++Ee,ke.write_shift(-4,B))};for(ze=Ee=0,ze+=ve[1];Ee<ze;++Ee)ke.write_shift(-4,le.DIFSECT);for(ze+=ve[2];Ee<ze;++Ee)ke.write_shift(-4,le.FATSECT);Ze(ve[3]),Ze(ve[4]);for(var Fe=0,Ge=0,Xe=ie.FileIndex[0];Fe<ie.FileIndex.length;++Fe)Xe=ie.FileIndex[Fe],Xe.content&&(Ge=Xe.content.length,!(Ge<4096)&&(Xe.start=ze,Ze(Ge+511>>9)));for(Ze(ve[6]+7>>3);ke.l&511;)ke.write_shift(-4,le.ENDOFCHAIN);for(ze=Ee=0,Fe=0;Fe<ie.FileIndex.length;++Fe)Xe=ie.FileIndex[Fe],Xe.content&&(Ge=Xe.content.length,!(!Ge||Ge>=4096)&&(Xe.start=ze,Ze(Ge+63>>6)));for(;ke.l&511;)ke.write_shift(-4,le.ENDOFCHAIN);for(Ee=0;Ee<ve[4]<<2;++Ee){var ft=ie.FullPaths[Ee];if(!ft||ft.length===0){for(Fe=0;Fe<17;++Fe)ke.write_shift(4,0);for(Fe=0;Fe<3;++Fe)ke.write_shift(4,-1);for(Fe=0;Fe<12;++Fe)ke.write_shift(4,0);continue}Xe=ie.FileIndex[Ee],Ee===0&&(Xe.start=Xe.size?Xe.start-1:B);var kt=Ee===0&&ye.root||Xe.name;if(Ge=2*(kt.length+1),ke.write_shift(64,kt,"utf16le"),ke.write_shift(2,Ge),ke.write_shift(1,Xe.type),ke.write_shift(1,Xe.color),ke.write_shift(-4,Xe.L),ke.write_shift(-4,Xe.R),ke.write_shift(-4,Xe.C),Xe.clsid)ke.write_shift(16,Xe.clsid,"hex");else for(Fe=0;Fe<4;++Fe)ke.write_shift(4,0);ke.write_shift(4,Xe.state||0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,0),ke.write_shift(4,Xe.start),ke.write_shift(4,Xe.size),ke.write_shift(4,0)}for(Ee=1;Ee<ie.FileIndex.length;++Ee)if(Xe=ie.FileIndex[Ee],Xe.size>=4096)if(ke.l=Xe.start+1<<9,Ur&&Buffer.isBuffer(Xe.content))Xe.content.copy(ke,ke.l,0,Xe.size),ke.l+=Xe.size+511&-512;else{for(Fe=0;Fe<Xe.size;++Fe)ke.write_shift(1,Xe.content[Fe]);for(;Fe&511;++Fe)ke.write_shift(1,0)}for(Ee=1;Ee<ie.FileIndex.length;++Ee)if(Xe=ie.FileIndex[Ee],Xe.size>0&&Xe.size<4096)if(Ur&&Buffer.isBuffer(Xe.content))Xe.content.copy(ke,ke.l,0,Xe.size),ke.l+=Xe.size+63&-64;else{for(Fe=0;Fe<Xe.size;++Fe)ke.write_shift(1,Xe.content[Fe]);for(;Fe&63;++Fe)ke.write_shift(1,0)}if(Ur)ke.l=ke.length;else for(;ke.l<ke.length;)ke.write_shift(1,0);return ke}function R(ie,Ae){var ye=ie.FullPaths.map(function(Fe){return Fe.toUpperCase()}),ve=ye.map(function(Fe){var Ge=Fe.split("/");return Ge[Ge.length-(Fe.slice(-1)=="/"?2:1)]}),ke=!1;Ae.charCodeAt(0)===47?(ke=!0,Ae=ye[0].slice(0,-1)+Ae):ke=Ae.indexOf("/")!==-1;var Ee=Ae.toUpperCase(),ze=ke===!0?ye.indexOf(Ee):ve.indexOf(Ee);if(ze!==-1)return ie.FileIndex[ze];var Ze=!Ee.match(Jd);for(Ee=Ee.replace(ci,""),Ze&&(Ee=Ee.replace(Jd,"!")),ze=0;ze<ye.length;++ze)if((Ze?ye[ze].replace(Jd,"!"):ye[ze]).replace(ci,"")==Ee||(Ze?ve[ze].replace(Jd,"!"):ve[ze]).replace(ci,"")==Ee)return ie.FileIndex[ze];return null}var C=64,B=-2,W="d0cf11e0a1b11ae1",ue=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:W,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function se(ie,Ae,ye){d();var ve=U(ie,ye);h.writeFileSync(Ae,ve)}function ne(ie){for(var Ae=new Array(ie.length),ye=0;ye<ie.length;++ye)Ae[ye]=String.fromCharCode(ie[ye]);return Ae.join("")}function J(ie,Ae){var ye=U(ie,Ae);switch(Ae&&Ae.type||"buffer"){case"file":return d(),h.writeFileSync(Ae.filename,ye),ye;case"binary":return typeof ye=="string"?ye:ne(ye);case"base64":return _3(typeof ye=="string"?ye:ne(ye));case"buffer":if(Ur)return Buffer.isBuffer(ye)?ye:Af(ye);case"array":return typeof ye=="string"?ll(ye):ye}return ye}var Ne;function L(ie){try{var Ae=ie.InflateRaw,ye=new Ae;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)Ne=ie;else throw new Error("zlib does not expose bytesRead")}catch(ve){console.error("cannot use native zlib: "+(ve.message||ve))}}function z(ie,Ae){if(!Ne)return wr(ie,Ae);var ye=Ne.InflateRaw,ve=new ye,ke=ve._processChunk(ie.slice(ie.l),ve._finishFlushFlag);return ie.l+=ve.bytesRead,ke}function G(ie){return Ne?Ne.deflateRawSync(ie):Tt(ie)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(ie){var Ae=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(Ae>>16|Ae>>8|Ae)&255}for(var we=typeof Uint8Array<"u",je=we?new Uint8Array(256):[],tt=0;tt<256;++tt)je[tt]=xe(tt);function ee(ie,Ae){var ye=je[ie&255];return Ae<=8?ye>>>8-Ae:(ye=ye<<8|je[ie>>8&255],Ae<=16?ye>>>16-Ae:(ye=ye<<8|je[ie>>16&255],ye>>>24-Ae))}function Te(ie,Ae){var ye=Ae&7,ve=Ae>>>3;return(ie[ve]|(ye<=6?0:ie[ve+1]<<8))>>>ye&3}function Qe(ie,Ae){var ye=Ae&7,ve=Ae>>>3;return(ie[ve]|(ye<=5?0:ie[ve+1]<<8))>>>ye&7}function Le(ie,Ae){var ye=Ae&7,ve=Ae>>>3;return(ie[ve]|(ye<=4?0:ie[ve+1]<<8))>>>ye&15}function pe(ie,Ae){var ye=Ae&7,ve=Ae>>>3;return(ie[ve]|(ye<=3?0:ie[ve+1]<<8))>>>ye&31}function Ke(ie,Ae){var ye=Ae&7,ve=Ae>>>3;return(ie[ve]|(ye<=1?0:ie[ve+1]<<8))>>>ye&127}function xt(ie,Ae,ye){var ve=Ae&7,ke=Ae>>>3,Ee=(1<<ye)-1,ze=ie[ke]>>>ve;return ye<8-ve||(ze|=ie[ke+1]<<8-ve,ye<16-ve)||(ze|=ie[ke+2]<<16-ve,ye<24-ve)||(ze|=ie[ke+3]<<24-ve),ze&Ee}function st(ie,Ae,ye){var ve=Ae&7,ke=Ae>>>3;return ve<=5?ie[ke]|=(ye&7)<<ve:(ie[ke]|=ye<<ve&255,ie[ke+1]=(ye&7)>>8-ve),Ae+3}function pt(ie,Ae,ye){var ve=Ae&7,ke=Ae>>>3;return ye=(ye&1)<<ve,ie[ke]|=ye,Ae+1}function _t(ie,Ae,ye){var ve=Ae&7,ke=Ae>>>3;return ye<<=ve,ie[ke]|=ye&255,ye>>>=8,ie[ke+1]=ye,Ae+8}function bt(ie,Ae,ye){var ve=Ae&7,ke=Ae>>>3;return ye<<=ve,ie[ke]|=ye&255,ye>>>=8,ie[ke+1]=ye&255,ie[ke+2]=ye>>>8,Ae+16}function Dt(ie,Ae){var ye=ie.length,ve=2*ye>Ae?2*ye:Ae+5,ke=0;if(ye>=Ae)return ie;if(Ur){var Ee=k3(ve);if(ie.copy)ie.copy(Ee);else for(;ke<ie.length;++ke)Ee[ke]=ie[ke];return Ee}else if(we){var ze=new Uint8Array(ve);if(ze.set)ze.set(ie);else for(;ke<ye;++ke)ze[ke]=ie[ke];return ze}return ie.length=ve,ie}function Ut(ie){for(var Ae=new Array(ie),ye=0;ye<ie;++ye)Ae[ye]=0;return Ae}function Wt(ie,Ae,ye){var ve=1,ke=0,Ee=0,ze=0,Ze=0,Fe=ie.length,Ge=we?new Uint16Array(32):Ut(32);for(Ee=0;Ee<32;++Ee)Ge[Ee]=0;for(Ee=Fe;Ee<ye;++Ee)ie[Ee]=0;Fe=ie.length;var Xe=we?new Uint16Array(Fe):Ut(Fe);for(Ee=0;Ee<Fe;++Ee)Ge[ke=ie[Ee]]++,ve<ke&&(ve=ke),Xe[Ee]=0;for(Ge[0]=0,Ee=1;Ee<=ve;++Ee)Ge[Ee+16]=Ze=Ze+Ge[Ee-1]<<1;for(Ee=0;Ee<Fe;++Ee)Ze=ie[Ee],Ze!=0&&(Xe[Ee]=Ge[Ze+16]++);var ft=0;for(Ee=0;Ee<Fe;++Ee)if(ft=ie[Ee],ft!=0)for(Ze=ee(Xe[Ee],ve)>>ve-ft,ze=(1<<ve+4-ft)-1;ze>=0;--ze)Ae[Ze|ze<<ft]=ft&15|Ee<<4;return ve}var Pt=we?new Uint16Array(512):Ut(512),Mt=we?new Uint16Array(32):Ut(32);if(!we){for(var Ht=0;Ht<512;++Ht)Pt[Ht]=0;for(Ht=0;Ht<32;++Ht)Mt[Ht]=0}(function(){for(var ie=[],Ae=0;Ae<32;Ae++)ie.push(5);Wt(ie,Mt,32);var ye=[];for(Ae=0;Ae<=143;Ae++)ye.push(8);for(;Ae<=255;Ae++)ye.push(9);for(;Ae<=279;Ae++)ye.push(7);for(;Ae<=287;Ae++)ye.push(8);Wt(ye,Pt,288)})();var It=function(){for(var Ae=we?new Uint8Array(32768):[],ye=0,ve=0;ye<de.length-1;++ye)for(;ve<de[ye+1];++ve)Ae[ve]=ye;for(;ve<32768;++ve)Ae[ve]=29;var ke=we?new Uint8Array(259):[];for(ye=0,ve=0;ye<Z.length-1;++ye)for(;ve<Z[ye+1];++ve)ke[ve]=ye;function Ee(Ze,Fe){for(var Ge=0;Ge<Ze.length;){var Xe=Math.min(65535,Ze.length-Ge),ft=Ge+Xe==Ze.length;for(Fe.write_shift(1,+ft),Fe.write_shift(2,Xe),Fe.write_shift(2,~Xe&65535);Xe-- >0;)Fe[Fe.l++]=Ze[Ge++]}return Fe.l}function ze(Ze,Fe){for(var Ge=0,Xe=0,ft=we?new Uint16Array(32768):[];Xe<Ze.length;){var kt=Math.min(65535,Ze.length-Xe);if(kt<10){for(Ge=st(Fe,Ge,+(Xe+kt==Ze.length)),Ge&7&&(Ge+=8-(Ge&7)),Fe.l=Ge/8|0,Fe.write_shift(2,kt),Fe.write_shift(2,~kt&65535);kt-- >0;)Fe[Fe.l++]=Ze[Xe++];Ge=Fe.l*8;continue}Ge=st(Fe,Ge,+(Xe+kt==Ze.length)+2);for(var Ct=0;kt-- >0;){var wt=Ze[Xe];Ct=(Ct<<5^wt)&32767;var At=-1,Qt=0;if((At=ft[Ct])&&(At|=Xe&-32768,At>Xe&&(At-=32768),At<Xe))for(;Ze[At+Qt]==Ze[Xe+Qt]&&Qt<250;)++Qt;if(Qt>2){wt=ke[Qt],wt<=22?Ge=_t(Fe,Ge,je[wt+1]>>1)-1:(_t(Fe,Ge,3),Ge+=5,_t(Fe,Ge,je[wt-23]>>5),Ge+=3);var _r=wt<8?0:wt-4>>2;_r>0&&(bt(Fe,Ge,Qt-Z[wt]),Ge+=_r),wt=Ae[Xe-At],Ge=_t(Fe,Ge,je[wt]>>3),Ge-=3;var kr=wt<4?0:wt-2>>1;kr>0&&(bt(Fe,Ge,Xe-At-de[wt]),Ge+=kr);for(var Tr=0;Tr<Qt;++Tr)ft[Ct]=Xe&32767,Ct=(Ct<<5^Ze[Xe])&32767,++Xe;kt-=Qt-1}else wt<=143?wt=wt+48:Ge=pt(Fe,Ge,1),Ge=_t(Fe,Ge,je[wt]),ft[Ct]=Xe&32767,++Xe}Ge=_t(Fe,Ge,0)-1}return Fe.l=(Ge+7)/8|0,Fe.l}return function(Fe,Ge){return Fe.length<8?Ee(Fe,Ge):ze(Fe,Ge)}}();function Tt(ie){var Ae=Ba(50+Math.floor(ie.length*1.1)),ye=It(ie,Ae);return Ae.slice(0,ye)}var vt=we?new Uint16Array(32768):Ut(32768),Dr=we?new Uint16Array(32768):Ut(32768),qt=we?new Uint16Array(128):Ut(128),_n=1,gr=1;function Wr(ie,Ae){var ye=pe(ie,Ae)+257;Ae+=5;var ve=pe(ie,Ae)+1;Ae+=5;var ke=Le(ie,Ae)+4;Ae+=4;for(var Ee=0,ze=we?new Uint8Array(19):Ut(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Fe=1,Ge=we?new Uint8Array(8):Ut(8),Xe=we?new Uint8Array(8):Ut(8),ft=ze.length,kt=0;kt<ke;++kt)ze[Y[kt]]=Ee=Qe(ie,Ae),Fe<Ee&&(Fe=Ee),Ge[Ee]++,Ae+=3;var Ct=0;for(Ge[0]=0,kt=1;kt<=Fe;++kt)Xe[kt]=Ct=Ct+Ge[kt-1]<<1;for(kt=0;kt<ft;++kt)(Ct=ze[kt])!=0&&(Ze[kt]=Xe[Ct]++);var wt=0;for(kt=0;kt<ft;++kt)if(wt=ze[kt],wt!=0){Ct=je[Ze[kt]]>>8-wt;for(var At=(1<<7-wt)-1;At>=0;--At)qt[Ct|At<<wt]=wt&7|kt<<3}var Qt=[];for(Fe=1;Qt.length<ye+ve;)switch(Ct=qt[Ke(ie,Ae)],Ae+=Ct&7,Ct>>>=3){case 16:for(Ee=3+Te(ie,Ae),Ae+=2,Ct=Qt[Qt.length-1];Ee-- >0;)Qt.push(Ct);break;case 17:for(Ee=3+Qe(ie,Ae),Ae+=3;Ee-- >0;)Qt.push(0);break;case 18:for(Ee=11+Ke(ie,Ae),Ae+=7;Ee-- >0;)Qt.push(0);break;default:Qt.push(Ct),Fe<Ct&&(Fe=Ct);break}var _r=Qt.slice(0,ye),kr=Qt.slice(ye);for(kt=ye;kt<286;++kt)_r[kt]=0;for(kt=ve;kt<30;++kt)kr[kt]=0;return _n=Wt(_r,vt,286),gr=Wt(kr,Dr,30),Ae}function ga(ie,Ae){if(ie[0]==3&&!(ie[1]&3))return[w0(Ae),2];for(var ye=0,ve=0,ke=k3(Ae||1<<18),Ee=0,ze=ke.length>>>0,Ze=0,Fe=0;(ve&1)==0;){if(ve=Qe(ie,ye),ye+=3,ve>>>1)ve>>1==1?(Ze=9,Fe=5):(ye=Wr(ie,ye),Ze=_n,Fe=gr);else{ye&7&&(ye+=8-(ye&7));var Ge=ie[ye>>>3]|ie[(ye>>>3)+1]<<8;if(ye+=32,Ge>0)for(!Ae&&ze<Ee+Ge&&(ke=Dt(ke,Ee+Ge),ze=ke.length);Ge-- >0;)ke[Ee++]=ie[ye>>>3],ye+=8;continue}for(;;){!Ae&&ze<Ee+32767&&(ke=Dt(ke,Ee+32767),ze=ke.length);var Xe=xt(ie,ye,Ze),ft=ve>>>1==1?Pt[Xe]:vt[Xe];if(ye+=ft&15,ft>>>=4,(ft>>>8&255)===0)ke[Ee++]=ft;else{if(ft==256)break;ft-=257;var kt=ft<8?0:ft-4>>2;kt>5&&(kt=0);var Ct=Ee+Z[ft];kt>0&&(Ct+=xt(ie,ye,kt),ye+=kt),Xe=xt(ie,ye,Fe),ft=ve>>>1==1?Mt[Xe]:Dr[Xe],ye+=ft&15,ft>>>=4;var wt=ft<4?0:ft-2>>1,At=de[ft];for(wt>0&&(At+=xt(ie,ye,wt),ye+=wt),!Ae&&ze<Ct&&(ke=Dt(ke,Ct+100),ze=ke.length);Ee<Ct;)ke[Ee]=ke[Ee-At],++Ee}}}return Ae?[ke,ye+7>>>3]:[ke.slice(0,Ee),ye+7>>>3]}function wr(ie,Ae){var ye=ie.slice(ie.l||0),ve=ga(ye,Ae);return ie.l+=ve[1],ve[0]}function As(ie,Ae){if(ie)typeof console<"u"&&console.error(Ae);else throw new Error(Ae)}function on(ie,Ae){var ye=ie;ys(ye,0);var ve=[],ke=[],Ee={FileIndex:ve,FullPaths:ke};P(Ee,{root:Ae.root});for(var ze=ye.length-4;(ye[ze]!=80||ye[ze+1]!=75||ye[ze+2]!=5||ye[ze+3]!=6)&&ze>=0;)--ze;ye.l=ze+4,ye.l+=4;var Ze=ye.read_shift(2);ye.l+=6;var Fe=ye.read_shift(4);for(ye.l=Fe,ze=0;ze<Ze;++ze){ye.l+=20;var Ge=ye.read_shift(4),Xe=ye.read_shift(4),ft=ye.read_shift(2),kt=ye.read_shift(2),Ct=ye.read_shift(2);ye.l+=8;var wt=ye.read_shift(4),At=c(ye.slice(ye.l+ft,ye.l+ft+kt));ye.l+=ft+kt+Ct;var Qt=ye.l;ye.l=wt+4,Un(ye,Ge,Xe,Ee,At),ye.l=Qt}return Ee}function Un(ie,Ae,ye,ve,ke){ie.l+=2;var Ee=ie.read_shift(2),ze=ie.read_shift(2),Ze=o(ie);if(Ee&8257)throw new Error("Unsupported ZIP encryption");for(var Fe=ie.read_shift(4),Ge=ie.read_shift(4),Xe=ie.read_shift(4),ft=ie.read_shift(2),kt=ie.read_shift(2),Ct="",wt=0;wt<ft;++wt)Ct+=String.fromCharCode(ie[ie.l++]);if(kt){var At=c(ie.slice(ie.l,ie.l+kt));(At[21589]||{}).mt&&(Ze=At[21589].mt),((ke||{})[21589]||{}).mt&&(Ze=ke[21589].mt)}ie.l+=kt;var Qt=ie.slice(ie.l,ie.l+Ge);switch(ze){case 8:Qt=z(ie,Xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ze)}var _r=!1;Ee&8&&(Fe=ie.read_shift(4),Fe==134695760&&(Fe=ie.read_shift(4),_r=!0),Ge=ie.read_shift(4),Xe=ie.read_shift(4)),Ge!=Ae&&As(_r,"Bad compressed size: "+Ae+" != "+Ge),Xe!=ye&&As(_r,"Bad uncompressed size: "+ye+" != "+Xe),Mr(ve,Ct,Qt,{unsafe:!0,mt:Ze})}function na(ie,Ae){var ye=Ae||{},ve=[],ke=[],Ee=Ba(1),ze=ye.compression?8:0,Ze=0,Fe=0,Ge=0,Xe=0,ft=0,kt=ie.FullPaths[0],Ct=kt,wt=ie.FileIndex[0],At=[],Qt=0;for(Fe=1;Fe<ie.FullPaths.length;++Fe)if(Ct=ie.FullPaths[Fe].slice(kt.length),wt=ie.FileIndex[Fe],!(!wt.size||!wt.content||Ct=="Sh33tJ5")){var _r=Xe,kr=Ba(Ct.length);for(Ge=0;Ge<Ct.length;++Ge)kr.write_shift(1,Ct.charCodeAt(Ge)&127);kr=kr.slice(0,kr.l),At[ft]=tF.buf(wt.content,0);var Tr=wt.content;ze==8&&(Tr=G(Tr)),Ee=Ba(30),Ee.write_shift(4,67324752),Ee.write_shift(2,20),Ee.write_shift(2,Ze),Ee.write_shift(2,ze),wt.mt?s(Ee,wt.mt):Ee.write_shift(4,0),Ee.write_shift(-4,At[ft]),Ee.write_shift(4,Tr.length),Ee.write_shift(4,wt.content.length),Ee.write_shift(2,kr.length),Ee.write_shift(2,0),Xe+=Ee.length,ve.push(Ee),Xe+=kr.length,ve.push(kr),Xe+=Tr.length,ve.push(Tr),Ee=Ba(46),Ee.write_shift(4,33639248),Ee.write_shift(2,0),Ee.write_shift(2,20),Ee.write_shift(2,Ze),Ee.write_shift(2,ze),Ee.write_shift(4,0),Ee.write_shift(-4,At[ft]),Ee.write_shift(4,Tr.length),Ee.write_shift(4,wt.content.length),Ee.write_shift(2,kr.length),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(4,0),Ee.write_shift(4,_r),Qt+=Ee.l,ke.push(Ee),Qt+=kr.length,ke.push(kr),++ft}return Ee=Ba(22),Ee.write_shift(4,101010256),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,ft),Ee.write_shift(2,ft),Ee.write_shift(4,Qt),Ee.write_shift(4,Xe),Ee.write_shift(2,0),r0([r0(ve),r0(ke),Ee])}var Yr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $t(ie,Ae){if(ie.ctype)return ie.ctype;var ye=ie.name||"",ve=ye.match(/\.([^\.]+)$/);return ve&&Yr[ve[1]]||Ae&&(ve=(ye=Ae).match(/[\.\\]([^\.\\])+$/),ve&&Yr[ve[1]])?Yr[ve[1]]:"application/octet-stream"}function Sr(ie){for(var Ae=_3(ie),ye=[],ve=0;ve<Ae.length;ve+=76)ye.push(Ae.slice(ve,ve+76));return ye.join(`\r
`)+`\r
`}function Ga(ie){var Ae=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ge){var Xe=Ge.charCodeAt(0).toString(16).toUpperCase();return"="+(Xe.length==1?"0"+Xe:Xe)});Ae=Ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ae.charAt(0)==`
`&&(Ae="=0D"+Ae.slice(1)),Ae=Ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],ve=Ae.split(`\r
`),ke=0;ke<ve.length;++ke){var Ee=ve[ke];if(Ee.length==0){ye.push("");continue}for(var ze=0;ze<Ee.length;){var Ze=76,Fe=Ee.slice(ze,ze+Ze);Fe.charAt(Ze-1)=="="?Ze--:Fe.charAt(Ze-2)=="="?Ze-=2:Fe.charAt(Ze-3)=="="&&(Ze-=3),Fe=Ee.slice(ze,ze+Ze),ze+=Ze,ze<Ee.length&&(Fe+="="),ye.push(Fe)}}return ye.join(`\r
`)}function Nn(ie){for(var Ae=[],ye=0;ye<ie.length;++ye){for(var ve=ie[ye];ye<=ie.length&&ve.charAt(ve.length-1)=="=";)ve=ve.slice(0,ve.length-1)+ie[++ye];Ae.push(ve)}for(var ke=0;ke<Ae.length;++ke)Ae[ke]=Ae[ke].replace(/[=][0-9A-Fa-f]{2}/g,function(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))});return ll(Ae.join(`\r
`))}function aa(ie,Ae,ye){for(var ve="",ke="",Ee="",ze,Ze=0;Ze<10;++Ze){var Fe=Ae[Ze];if(!Fe||Fe.match(/^\s*$/))break;var Ge=Fe.match(/^(.*?):\s*([^\s].*)$/);if(Ge)switch(Ge[1].toLowerCase()){case"content-location":ve=Ge[2].trim();break;case"content-type":Ee=Ge[2].trim();break;case"content-transfer-encoding":ke=Ge[2].trim();break}}switch(++Ze,ke.toLowerCase()){case"base64":ze=ll(eo(Ae.slice(Ze).join("")));break;case"quoted-printable":ze=Nn(Ae.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ke)}var Xe=Mr(ie,ve.slice(ye.length),ze,{unsafe:!0});Ee&&(Xe.ctype=Ee)}function ls(ie,Ae){if(ne(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=Ae&&Ae.root||"",ve=(Ur&&Buffer.isBuffer(ie)?ie.toString("binary"):ne(ie)).split(`\r
`),ke=0,Ee="";for(ke=0;ke<ve.length;++ke)if(Ee=ve[ke],!!/^Content-Location:/i.test(Ee)&&(Ee=Ee.slice(Ee.indexOf("file")),ye||(ye=Ee.slice(0,Ee.lastIndexOf("/")+1)),Ee.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),Ee.slice(0,ye.length)!=ye););var ze=(ve[1]||"").match(/boundary="(.*?)"/);if(!ze)throw new Error("MAD cannot find boundary");var Ze="--"+(ze[1]||""),Fe=[],Ge=[],Xe={FileIndex:Fe,FullPaths:Ge};P(Xe);var ft,kt=0;for(ke=0;ke<ve.length;++ke){var Ct=ve[ke];Ct!==Ze&&Ct!==Ze+"--"||(kt++&&aa(Xe,ve.slice(ft,ke),ye),ft=ke)}return Xe}function Rt(ie,Ae){var ye=Ae||{},ve=ye.boundary||"SheetJS";ve="------="+ve;for(var ke=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ve.slice(2)+'"',"","",""],Ee=ie.FullPaths[0],ze=Ee,Ze=ie.FileIndex[0],Fe=1;Fe<ie.FullPaths.length;++Fe)if(ze=ie.FullPaths[Fe].slice(Ee.length),Ze=ie.FileIndex[Fe],!(!Ze.size||!Ze.content||ze=="Sh33tJ5")){ze=ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qt){return"_x"+Qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qt){return"_u"+Qt.charCodeAt(0).toString(16)+"_"});for(var Ge=Ze.content,Xe=Ur&&Buffer.isBuffer(Ge)?Ge.toString("binary"):ne(Ge),ft=0,kt=Math.min(1024,Xe.length),Ct=0,wt=0;wt<=kt;++wt)(Ct=Xe.charCodeAt(wt))>=32&&Ct<128&&++ft;var At=ft>=kt*4/5;ke.push(ve),ke.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+ze),ke.push("Content-Transfer-Encoding: "+(At?"quoted-printable":"base64")),ke.push("Content-Type: "+$t(Ze,ze)),ke.push(""),ke.push(At?Ga(Xe):Sr(Xe))}return ke.push(ve+`--\r
`),ke.join(`\r
`)}function Xr(ie){var Ae={};return P(Ae,ie),Ae}function Mr(ie,Ae,ye,ve){var ke=ve&&ve.unsafe;ke||P(ie);var Ee=!ke&&$r.find(ie,Ae);if(!Ee){var ze=ie.FullPaths[0];Ae.slice(0,ze.length)==ze?ze=Ae:(ze.slice(-1)!="/"&&(ze+="/"),ze=(ze+Ae).replace("//","/")),Ee={name:a(Ae),type:2},ie.FileIndex.push(Ee),ie.FullPaths.push(ze),ke||$r.utils.cfb_gc(ie)}return Ee.content=ye,Ee.size=ye?ye.length:0,ve&&(ve.CLSID&&(Ee.clsid=ve.CLSID),ve.mt&&(Ee.mt=ve.mt),ve.ct&&(Ee.ct=ve.ct)),Ee}function fn(ie,Ae){P(ie);var ye=$r.find(ie,Ae);if(ye){for(var ve=0;ve<ie.FileIndex.length;++ve)if(ie.FileIndex[ve]==ye)return ie.FileIndex.splice(ve,1),ie.FullPaths.splice(ve,1),!0}return!1}function kn(ie,Ae,ye){P(ie);var ve=$r.find(ie,Ae);if(ve){for(var ke=0;ke<ie.FileIndex.length;++ke)if(ie.FileIndex[ke]==ve)return ie.FileIndex[ke].name=a(ye),ie.FullPaths[ke]=ye,!0}return!1}function Sn(ie){I(ie,!0)}return e.find=R,e.read=X,e.parse=p,e.write=J,e.writeFile=se,e.utils={cfb_new:Xr,cfb_add:Mr,cfb_del:fn,cfb_mov:kn,cfb_gc:Sn,ReadShift:um,CheckField:RN,prep_blob:ys,bconcat:r0,use_zlib:L,_deflateRaw:Tt,_inflateRaw:wr,consts:le},e}();function rF(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function lc(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function L5(t){for(var e=[],r=lc(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var S1=new Date(1899,11,30,0,0,0);function ui(t,e){var r=t.getTime(),n=S1.getTime()+(t.getTimezoneOffset()-S1.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var cN=new Date,nF=S1.getTime()+(cN.getTimezoneOffset()-S1.getTimezoneOffset())*6e4,I3=cN.getTimezoneOffset();function yx(t){var e=new Date;return e.setTime(t*24*60*60*1e3+nF),e.getTimezoneOffset()!==I3&&e.setTime(e.getTime()+(e.getTimezoneOffset()-I3)*6e4),e}function aF(t){var e=0,r=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[s],10)}return e}var D3=new Date("2017-02-19T19:06:09.000Z"),uN=isNaN(D3.getFullYear())?new Date("2/19/17"):D3,sF=uN.getFullYear()==2017;function ss(t,e){var r=new Date(t);if(sF)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(uN.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function yf(t,e){if(Ur&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return em(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return em(X6(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return em(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return em(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function _s(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=_s(t[r]));return e}function ta(t,e){for(var r="";r.length<e;)r+=t;return r}function dl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var iF=["january","february","march","april","may","june","july","august","september","october","november","december"];function Vh(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&iF.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var oF=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],c=1;c<s.length;++c)o.push(a),o.push(s[c]);return o}}();function fN(t){return t?t.content&&t.type?yf(t.content,!0):t.data?Qd(t.data):t.asNodeBuffer&&Ur?Qd(t.asNodeBuffer().toString("binary")):t.asBinary?Qd(t.asBinary()):t._data&&t._data.getContent?Qd(yf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function hN(t){if(!t)return null;if(t.data)return b3(t.data);if(t.asNodeBuffer&&Ur)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?b3(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function lF(t){return t&&t.name.slice(-4)===".bin"?hN(t):fN(t)}function So(t,e){for(var r=t.FullPaths||lc(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function O5(t,e){var r=So(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Ea(t,e,r){if(!r)return lF(O5(t,e));if(!e)return null;try{return Ea(t,e)}catch{return null}}function Qi(t,e,r){if(!r)return fN(O5(t,e));if(!e)return null;try{return Qi(t,e)}catch{return null}}function cF(t,e,r){return hN(O5(t,e))}function j3(t){for(var e=t.FullPaths||lc(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function uF(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Ur?n=Af(r):n=CM(r),$r.utils.cfb_add(t,e,n)}$r.utils.cfb_add(t,e,r)}else t.file(e,r)}function dN(t,e){switch(e.type){case"base64":return $r.read(t,{type:"base64"});case"binary":return $r.read(t,{type:"binary"});case"buffer":case"array":return $r.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Zd(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var mN=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,fF=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,L3=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,hF=/<[^>]*>/g,Zs=mN.match(L3)?L3:hF,dF=/<\w*:/,mF=/<(\/?)\w+:/;function lr(t,e,r){for(var n={},a=0,s=0;a!==t.length&&!((s=t.charCodeAt(a))===32||s===10||s===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var o=t.match(fF),c=0,h="",d=0,p="",y="",v=1;if(o)for(d=0;d!=o.length;++d){for(y=o[d],s=0;s!=y.length&&y.charCodeAt(s)!==61;++s);for(p=y.slice(0,s).trim();y.charCodeAt(s+1)==32;)++s;for(v=(a=y.charCodeAt(s+1))==34||a==39?1:0,h=y.slice(s+1+v,y.length-v),c=0;c!=p.length&&p.charCodeAt(c)!==58;++c);if(c===p.length)p.indexOf("_")>0&&(p=p.slice(0,p.indexOf("_"))),n[p]=h,n[p.toLowerCase()]=h;else{var b=(c===5&&p.slice(0,5)==="xmlns"?"xmlns":"")+p.slice(c+1);if(n[b]&&p.slice(c-3,c)=="ext")continue;n[b]=h,n[b.toLowerCase()]=h}}return n}function hc(t){return t.replace(mF,"<$1")}var pN={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},pF=L5(pN),Jr=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(t,function(c,h){return pN[c]||String.fromCharCode(parseInt(h,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,h){return String.fromCharCode(parseInt(h,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}}(),gF=/[&<>'"]/g,xF=/[\u0000-\u001f]/g;function P5(t){var e=t+"";return e.replace(gF,function(r){return pF[r]}).replace(/\n/g,"<br/>").replace(xF,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var O3=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function Fn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function sy(t){for(var e="",r=0,n=0,a=0,s=0,o=0,c=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=t.charCodeAt(r++),c=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function P3(t){var e=w0(2*t.length),r,n,a=1,s=0,o=0,c;for(n=0;n<t.length;n+=a)a=1,(c=t.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(n+1)&63),a=2):c<240?(r=(c&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(c&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function M3(t){return Af(t,"binary").toString("utf8")}var Ng="foo bar bazâð£",Rn=Ur&&(M3(Ng)==sy(Ng)&&M3||P3(Ng)==sy(Ng)&&P3)||sy,em=Ur?function(t){return Af(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Pm=function(){var t={};return function(r,n){var a=r+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),gN=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}}(),yF=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),vF=/<\/?(?:vt:)?variant>/g,bF=/<(?:vt:)([^>]*)>([\s\S]*)</;function F3(t,e){var r=lr(t),n=t.match(yF(r.baseType))||[],a=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace(vF,"").match(bF);o&&a.push({v:Rn(o[2]),t:o[1]})}),a}var wF=/(^\s|\s$|\n)/;function _F(t){return lc(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function kF(t,e,r){return"<"+t+(r!=null?_F(r):"")+(e!=null?(e.match(wF)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function M5(t){if(Ur&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Rn(Ef(I5(t)));throw new Error("Bad input format: expected Buffer or string")}var Mm=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,AF={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},EF=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function NF(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,s=5;s>=0;--s)a=a*256+t[e+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function SF(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,o=n?-e:e;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[r+c]=s&255;t[r+6]=(a&15)<<4|s&15,t[r+7]=a>>4|n}var B3=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,s=t[0][n].length;a<s;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},U3=Ur?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Af(e)})):B3(t)}:B3,V3=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(Kc(t,a)));return n.join("").replace(ci,"")},F5=Ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(ci,""):V3(t,e,r)}:V3,z3=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},xN=Ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):z3(t,e,r)}:z3,q3=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(mh(t,a)));return n.join("")},cp=Ur?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):q3(e,r,n)}:q3,yN=function(t,e){var r=Yi(t,e);return r>0?cp(t,e+4,e+4+r-1):""},vN=yN,bN=function(t,e){var r=Yi(t,e);return r>0?cp(t,e+4,e+4+r-1):""},wN=bN,_N=function(t,e){var r=2*Yi(t,e);return r>0?cp(t,e+4,e+4+r-1):""},kN=_N,AN=function(e,r){var n=Yi(e,r);return n>0?F5(e,r+4,r+4+n):""},EN=AN,NN=function(t,e){var r=Yi(t,e);return r>0?cp(t,e+4,e+4+r):""},SN=NN,TN=function(t,e){return NF(t,e)},T1=TN,CN=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ur&&(vN=function(e,r){if(!Buffer.isBuffer(e))return yN(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},wN=function(e,r){if(!Buffer.isBuffer(e))return bN(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},kN=function(e,r){if(!Buffer.isBuffer(e))return _N(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},EN=function(e,r){if(!Buffer.isBuffer(e))return AN(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},SN=function(e,r){if(!Buffer.isBuffer(e))return NN(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},T1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):TN(e,r)},CN=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var mh=function(t,e){return t[e]},Kc=function(t,e){return t[e+1]*256+t[e]},TF=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Yi=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Z0=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},CF=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function um(t,e){var r="",n,a,s=[],o,c,h,d;switch(e){case"dbcs":if(d=this.l,Ur&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)r+=String.fromCharCode(Kc(this,d)),d+=2;t*=2;break;case"utf8":r=cp(this,this.l,this.l+t);break;case"utf16le":t*=2,r=F5(this,this.l,this.l+t);break;case"wstr":return um.call(this,t,"dbcs");case"lpstr-ansi":r=vN(this,this.l),t=4+Yi(this,this.l);break;case"lpstr-cp":r=wN(this,this.l),t=4+Yi(this,this.l);break;case"lpwstr":r=kN(this,this.l),t=4+2*Yi(this,this.l);break;case"lpp4":t=4+Yi(this,this.l),r=EN(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Yi(this,this.l),r=SN(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=mh(this,this.l+t++))!==0;)s.push(Eg(o));r=s.join("");break;case"_wstr":for(t=0,r="";(o=Kc(this,this.l+t))!==0;)s.push(Eg(o)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",d=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return o=mh(this,d),this.l=d+1,c=um.call(this,t-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Eg(Kc(this,d))),d+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return o=mh(this,d),this.l=d+1,c=um.call(this,t-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Eg(mh(this,d))),d+=1}r=s.join("");break;default:switch(t){case 1:return n=mh(this,this.l),this.l++,n;case 2:return n=(e==="i"?TF:Kc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Z0:CF)(this,this.l),this.l+=4,n):(a=Yi(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=T1(this,this.l):a=T1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=xN(this,this.l,t);break}}return this.l+=t,r}var RF=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},IF=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},DF=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function jF(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)DF(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var o=e.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,RF(this,e,this.l);break;case 8:if(n=8,r==="f"){SF(this,e,this.l);break}case 16:break;case-4:n=4,IF(this,e,this.l);break}return this.l+=n,this}function RN(t,e){var r=xN(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ys(t,e){t.l=e,t.read_shift=um,t.chk=RN,t.write_shift=jF}function Js(t,e){t.l+=e}function Ba(t){var e=w0(t);return ys(e,0),e}function hu(t,e,r){if(t){var n,a,s;ys(t,t.l||0);for(var o=t.length,c=0,h=0;t.l<o;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var d=L1[c]||L1[65535];for(n=t.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=t.read_shift(1))&127)<<7*a;h=t.l+s;var p=d.f&&d.f(t,s,r);if(t.l=h,e(p,d,c))return}}}function iv(){var t=[],e=Ur?256:2048,r=function(d){var p=Ba(d);return ys(p,0),p},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,e)))},o=function(){return a(),r0(t)},c=function(d){a(),n=d,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:c,end:o,_bufs:t}}function fm(t,e,r){var n=_s(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function H3(t,e,r){var n=_s(t);return n.s=fm(n.s,e.s,r),n.e=fm(n.e,e.s,r),n}function hm(t,e){if(t.cRel&&t.c<0)for(t=_s(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=_s(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=mr(t);return!t.cRel&&t.cRel!=null&&(r=PF(r)),!t.rRel&&t.rRel!=null&&(r=LF(r)),r}function iy(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Va(t.s.c)+":"+(t.e.cRel?"":"$")+Va(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ks(t.s.r)+":"+(t.e.rRel?"":"$")+ks(t.e.r):hm(t.s,e.biff)+":"+hm(t.e,e.biff)}function B5(t){return parseInt(OF(t),10)-1}function ks(t){return""+(t+1)}function LF(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function OF(t){return t.replace(/\$(\d+)$/,"$1")}function U5(t){for(var e=MF(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Va(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function PF(t){return t.replace(/^([A-Z])/,"$$$1")}function MF(t){return t.replace(/^\$([A-Z])/,"$1")}function FF(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function oi(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function mr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function ed(t){var e=t.indexOf(":");return e==-1?{s:oi(t),e:oi(t)}:{s:oi(t.slice(0,e)),e:oi(t.slice(e+1))}}function Kr(t,e){return typeof e>"u"||typeof e=="number"?Kr(t.s,t.e):(typeof t!="string"&&(t=mr(t)),typeof e!="string"&&(e=mr(e)),t==e?t:t+":"+e)}function ra(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=t.length;for(r=0;n<s&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<s&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=s&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function G3(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Io(t.z,r?ui(e):e)}catch{}try{return t.w=Io((t.XF||{}).numFmtId||(r?14:0),r?ui(e):e)}catch{return""+e}}function ou(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Tf[t.v]||t.v:e==null?G3(t,t.v):G3(t,e))}function S0(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function IN(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,s=t||(a?[]:{}),o=0,c=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var h=typeof n.origin=="string"?oi(n.origin):n.origin;o=h.r,c=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=ra(s["!ref"]);d.s.c=p.s.c,d.s.r=p.s.r,d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),o==-1&&(d.e.r=o=p.e.r+1)}for(var y=0;y!=e.length;++y)if(e[y]){if(!Array.isArray(e[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[y].length;++v)if(!(typeof e[y][v]>"u")){var b={v:e[y][v]},A=o+y,k=c+v;if(d.s.r>A&&(d.s.r=A),d.s.c>k&&(d.s.c=k),d.e.r<A&&(d.e.r=A),d.e.c<k&&(d.e.c=k),e[y][v]&&typeof e[y][v]=="object"&&!Array.isArray(e[y][v])&&!(e[y][v]instanceof Date))b=e[y][v];else if(Array.isArray(b.v)&&(b.f=e[y][v][1],b.v=b.v[0]),b.v===null)if(b.f)b.t="n";else if(n.nullError)b.t="e",b.v=0;else if(n.sheetStubs)b.t="z";else continue;else typeof b.v=="number"?b.t="n":typeof b.v=="boolean"?b.t="b":b.v instanceof Date?(b.z=n.dateNF||xr[14],n.cellDates?(b.t="d",b.w=Io(b.z,ui(b.v))):(b.t="n",b.v=ui(b.v),b.w=Io(b.z,b.v))):b.t="s";if(a)s[A]||(s[A]=[]),s[A][k]&&s[A][k].z&&(b.z=s[A][k].z),s[A][k]=b;else{var E=mr({c:k,r:A});s[E]&&s[E].z&&(b.z=s[E].z),s[E]=b}}}return d.s.c<1e7&&(s["!ref"]=Kr(d)),s}function td(t,e){return IN(null,t,e)}function BF(t){return t.read_shift(4,"i")}function Xs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function UF(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function V5(t,e){var r=t.l,n=t.read_shift(1),a=Xs(t),s=[],o={t:a,h:a};if((n&1)!==0){for(var c=t.read_shift(4),h=0;h!=c;++h)s.push(UF(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}var VF=V5;function Do(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Nf(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var zF=Xs;function z5(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var qF=Xs,ov=z5;function q5(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?T1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Z0(e,0)>>2;return r?a/100:a}function DN(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Sf=DN;function Ws(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function HF(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),h=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var d=sf[a];d&&(e.rgb=Bm(d));break;case 2:e.rgb=Bm([o,c,h]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function GF(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function jN(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function $F(t){return jN(t,1)}function KF(t){return jN(t,2)}var H5=2,Si=3,Sg=11,$3=12,C1=19,Tg=64,WF=65,YF=71,XF=4108,QF=4126,rs=80,LN=81,JF=[rs,LN],ZF={1:{n:"CodePage",t:H5},2:{n:"Category",t:rs},3:{n:"PresentationFormat",t:rs},4:{n:"ByteCount",t:Si},5:{n:"LineCount",t:Si},6:{n:"ParagraphCount",t:Si},7:{n:"SlideCount",t:Si},8:{n:"NoteCount",t:Si},9:{n:"HiddenCount",t:Si},10:{n:"MultimediaClipCount",t:Si},11:{n:"ScaleCrop",t:Sg},12:{n:"HeadingPairs",t:XF},13:{n:"TitlesOfParts",t:QF},14:{n:"Manager",t:rs},15:{n:"Company",t:rs},16:{n:"LinksUpToDate",t:Sg},17:{n:"CharacterCount",t:Si},19:{n:"SharedDoc",t:Sg},22:{n:"HyperlinksChanged",t:Sg},23:{n:"AppVersion",t:Si,p:"version"},24:{n:"DigSig",t:WF},26:{n:"ContentType",t:rs},27:{n:"ContentStatus",t:rs},28:{n:"Language",t:rs},29:{n:"Version",t:rs},255:{},2147483648:{n:"Locale",t:C1},2147483651:{n:"Behavior",t:C1},1919054434:{}},eB={1:{n:"CodePage",t:H5},2:{n:"Title",t:rs},3:{n:"Subject",t:rs},4:{n:"Author",t:rs},5:{n:"Keywords",t:rs},6:{n:"Comments",t:rs},7:{n:"Template",t:rs},8:{n:"LastAuthor",t:rs},9:{n:"RevNumber",t:rs},10:{n:"EditTime",t:Tg},11:{n:"LastPrinted",t:Tg},12:{n:"CreatedDate",t:Tg},13:{n:"ModifiedDate",t:Tg},14:{n:"PageCount",t:Si},15:{n:"WordCount",t:Si},16:{n:"CharCount",t:Si},17:{n:"Thumbnail",t:YF},18:{n:"Application",t:rs},19:{n:"DocSecurity",t:Si},255:{},2147483648:{n:"Locale",t:C1},2147483651:{n:"Behavior",t:C1},1919054434:{}},K3={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},tB=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function rB(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var nB=rB([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),sf=_s(nB),Tf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ON={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},W3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function aB(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function sB(t){var e=aB();if(!t||!t.match)return e;var r={};if((t.match(Zs)||[]).forEach(function(n){var a=lr(n);switch(a[0].replace(dF,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[W3[a.ContentType]]!==void 0&&e[W3[a.ContentType]].push(a.PartName);break}}),e.xmlns!==AF.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var yh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function lv(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function dm(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Zs)||[]).forEach(function(a){var s=lr(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:Zd(s.Target,e);r[c]=o,n[s.Id]=o}}),r["!id"]=n,r}var iB="application/vnd.oasis.opendocument.spreadsheet";function oB(t,e){for(var r=M5(t),n,a;n=Mm.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=lr(n[0],!1),a.path=="/"&&a.type!==iB)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var mm=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],lB=function(){for(var t=new Array(mm.length),e=0;e<mm.length;++e){var r=mm[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function PN(t){var e={};t=Rn(t);for(var r=0;r<mm.length;++r){var n=mm[r],a=t.match(lB[r]);a!=null&&a.length>0&&(e[n[1]]=Jr(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=ss(e[n[1]]))}return e}var cB=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function MN(t,e,r,n){var a=[];if(typeof t=="string")a=F3(t,n);else for(var s=0;s<t.length;++s)a=a.concat(t[s].map(function(p){return{v:p}}));var o=typeof e=="string"?F3(e,n).map(function(p){return p.v}):e,c=0,h=0;if(o.length>0)for(var d=0;d!==a.length;d+=2){switch(h=+a[d+1].v,a[d].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=h,r.SheetNames=o.slice(c,c+h);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=h,r.DefinedNames=o.slice(c,c+h);break;case"Charts":case"Diagramme":r.Chartsheets=h,r.ChartNames=o.slice(c,c+h);break}c+=h}}function uB(t,e,r){var n={};return e||(e={}),t=Rn(t),cB.forEach(function(a){var s=(t.match(Pm(a[0]))||[])[1];switch(a[2]){case"string":s&&(e[a[1]]=Jr(s));break;case"bool":e[a[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&MN(n.HeadingPairs,n.TitlesOfParts,e,r),e}var fB=/<[^>]+>[^<]*/g;function hB(t,e){var r={},n="",a=t.match(fB);if(a)for(var s=0;s!=a.length;++s){var o=a[s],c=lr(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Jr(c.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var h=o.split(">"),d=h[0].slice(4),p=h[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[n]=Jr(p);break;case"bool":r[n]=Fn(p);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(p,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(p);break;case"filetime":case"date":r[n]=ss(p);break;case"cy":case"error":r[n]=Jr(p);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,h)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return r}var dB={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},oy;function mB(t,e,r){oy||(oy=L5(dB)),e=oy[e]||e,t[e]=r}function G5(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function FN(t,e,r){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return a}function BN(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function UN(t,e,r){return e===31?BN(t):FN(t,e,r)}function cv(t,e,r){return UN(t,e,r===!1?0:4)}function pB(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return UN(t,e,0)}function gB(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var a=t.l;r[n]=t.read_shift(0,"lpwstr").replace(ci,""),t.l-a&2&&(t.l+=2)}return r}function xB(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(ci,"");return r}function yB(t){var e=t.l,r=R1(t,LN);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=R1(t,Si);return[r,n]}function vB(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(yB(t));return r}function Y3(t,e){for(var r=t.read_shift(4),n={},a=0;a!=r;++a){var s=t.read_shift(4),o=t.read_shift(4);n[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(ci,"").replace(Jd,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function VN(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function bB(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function R1(t,e,r){var n=t.read_shift(2),a,s=r||{};if(t.l+=2,e!==$3&&n!==e&&JF.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===$3?n:e){case 2:return a=t.read_shift(2,"i"),s.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return FN(t,n,4).replace(ci,"");case 31:return BN(t);case 64:return G5(t);case 65:return VN(t);case 71:return bB(t);case 80:return cv(t,n,!s.raw).replace(ci,"");case 81:return pB(t,n).replace(ci,"");case 4108:return vB(t);case 4126:case 4127:return n==4127?gB(t):xB(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function X3(t,e){var r=t.l,n=t.read_shift(4),a=t.read_shift(4),s=[],o=0,c=0,h=-1,d={};for(o=0;o!=a;++o){var p=t.read_shift(4),y=t.read_shift(4);s[o]=[p,y+r]}s.sort(function(j,M){return j[1]-M[1]});var v={};for(o=0;o!=a;++o){if(t.l!==s[o][1]){var b=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,b=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],b=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],b=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(b=!1,t.l=s[o][1]),b)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var A=e[s[o][0]];if(v[A.n]=R1(t,A.t,{raw:!0}),A.p==="version"&&(v[A.n]=String(v[A.n]>>16)+"."+("0000"+String(v[A.n]&65535)).slice(-4)),A.n=="CodePage")switch(v[A.n]){case 0:v[A.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:fl(c=v[A.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[A.n])}}else if(s[o][0]===1){if(c=v.CodePage=R1(t,H5),fl(c),h!==-1){var k=t.l;t.l=s[h][1],d=Y3(t,c),t.l=k}}else if(s[o][0]===0){if(c===0){h=o,t.l=s[o+1][1];continue}d=Y3(t,c)}else{var E=d[s[o][0]],S;switch(t[t.l]){case 65:t.l+=4,S=VN(t);break;case 30:t.l+=4,S=cv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,S=cv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,S=t.read_shift(4,"i");break;case 19:t.l+=4,S=t.read_shift(4);break;case 5:t.l+=4,S=t.read_shift(8,"f");break;case 11:t.l+=4,S=fa(t,4);break;case 64:t.l+=4,S=ss(G5(t));break;default:throw new Error("unparsed value: "+t[t.l])}v[E]=S}}return t.l=r+n,v}function Q3(t,e,r){var n=t.content;if(!n)return{};ys(n,0);var a,s,o,c,h=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),p=n.read_shift(16);if(p!==$r.utils.consts.HEADER_CLSID&&p!==r)throw new Error("Bad PropertySet CLSID "+p);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),c=n.read_shift(4),a===1&&c!==n.l)throw new Error("Length mismatch: "+c+" !== "+n.l);a===2&&(o=n.read_shift(16),h=n.read_shift(4));var y=X3(n,e),v={SystemIdentifier:d};for(var b in y)v[b]=y[b];if(v.FMTID=s,a===1)return v;if(h-n.l==2&&(n.l+=2),n.l!==h)throw new Error("Length mismatch 2: "+n.l+" !== "+h);var A;try{A=X3(n,null)}catch{}for(b in A)v[b]=A[b];return v.FMTID=[s,o],v}function Qu(t,e){return t.read_shift(e),null}function wB(t,e,r){for(var n=[],a=t.l+e;t.l<a;)n.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function fa(t,e){return t.read_shift(e)===1}function Na(t){return t.read_shift(2,"u")}function zN(t,e){return wB(t,e,Na)}function _B(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function up(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?t.read_shift(n,a):"";return o}function kB(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,c,h={};a&&(o=t.read_shift(2)),n&&(c=t.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",p=e===0?"":t.read_shift(e,d);return a&&(t.l+=4*o),n&&(t.l+=c),h.t=p,a||(h.raw="<t>"+h.t+"</t>",h.r=h.t),h}function vf(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function fp(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):vf(t,n,r)}function Cf(t,e,r){if(r.biff>5)return fp(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function AB(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function EB(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(ci,"");return n&&(t.l+=24),a}function NB(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace(ci,"");return r+o}function SB(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return EB(t);case"0303000000000000c000000000000046":return NB(t);default:throw new Error("Unsupported Moniker "+r)}}function Cg(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(ci,""):"";return r}function TB(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var s,o,c,h,d="",p,y;a&16&&(s=Cg(t,r-t.l)),a&128&&(o=Cg(t,r-t.l)),(a&257)===257&&(c=Cg(t,r-t.l)),(a&257)===1&&(h=SB(t,r-t.l)),a&8&&(d=Cg(t,r-t.l)),a&32&&(p=t.read_shift(16)),a&64&&(y=G5(t)),t.l=r;var v=o||c||h||"";v&&d&&(v+="#"+d),v||(v="#"+d),a&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var b={Target:v};return p&&(b.guid=p),y&&(b.time=y),s&&(b.Tooltip=s),b}function qN(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,r,n,a]}function HN(t,e){var r=qN(t);return r[3]=0,r}function dc(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function CB(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function RB(t,e,r){return e===0?"":Cf(t,e,r)}function IB(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),s=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[a,s,o]}function GN(t){var e=t.read_shift(2),r=q5(t);return[e,r]}function DB(t,e,r){t.l+=4,e-=4;var n=t.l+e,a=up(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,a}function vx(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function $N(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r}}}var jB=$N;function KN(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function LB(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function OB(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Vs(t){t.l+=2,t.l+=t.read_shift(2)}var PB={0:Vs,4:Vs,5:Vs,6:Vs,7:OB,8:Vs,9:Vs,10:Vs,11:Vs,12:Vs,13:LB,14:Vs,15:Vs,16:Vs,17:Vs,18:Vs,19:Vs,20:Vs,21:KN};function MB(t,e){for(var r=t.l+e,n=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{n.push(PB[a](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Rg(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function FB(t,e){return e===0||t.read_shift(2),1200}function BB(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,a=Cf(t,0,r);return t.read_shift(e+n-t.l),a}function UB(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function VB(t,e,r){var n=t.read_shift(4),a=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=up(t,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function zB(t,e){for(var r=t.l+e,n=t.read_shift(4),a=t.read_shift(4),s=[],o=0;o!=a&&t.l<r;++o)s.push(kB(t));return s.Count=n,s.Unique=a,s}function qB(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function HB(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function GB(t){var e=CB(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function $B(t){return t.read_shift(2),t.read_shift(4)}function J3(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function KB(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),h=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:c,Selected:h,TabRatio:d}}function WB(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function YB(){}function XB(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=up(t,0,r),n}function QB(t){var e=dc(t);return e.isst=t.read_shift(4),e}function JB(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,a=dc(t);r.biff==2&&t.l++;var s=fp(t,n-t.l,r);return a.val=s,a}function ZB(t,e,r){var n=t.read_shift(2),a=Cf(t,0,r);return[n,a]}var eU=Cf;function Z3(t,e,r){var n=t.l+e,a=r.biff==8||!r.biff?4:2,s=t.read_shift(a),o=t.read_shift(a),c=t.read_shift(2),h=t.read_shift(2);return t.l=n,{s:{r:s,c},e:{r:o,c:h}}}function tU(t){var e=t.read_shift(2),r=t.read_shift(2),n=GN(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function rU(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),s=[];t.l<r;)s.push(GN(t));if(t.l!==r)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function nU(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function aU(t,e,r,n){var a={},s=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(4),h=t.read_shift(2);return a.patternType=tB[c>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=c&127,a.icvBottom=c>>7&127,a.icvDiag=c>>14&127,a.dgDiag=c>>21&15,a.icvFore=h&127,a.icvBack=h>>7&127,a.fsxButton=h>>14&1),a}function sU(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=aU(t,e,n.fStyle,r),n}function iU(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function ek(t,e,r){var n=dc(t);(r.biff==2||e==9)&&++t.l;var a=_B(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function oU(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=dc(t),a=Ws(t);return n.val=a,n}var tk=RB;function lU(t,e,r){var n=t.l+e,a=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=vf(t,s),c=[];n>t.l;)c.push(fp(t));return[s,a,o,c]}function rk(t,e,r){var n=t.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=DB(t,e-2,r)),s.body=a||t.read_shift(e-2),typeof a=="string"&&(s.Name=a),s}var cU=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function nk(t,e,r){var n=t.l+e,a=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(r&&r.biff==2?1:2),h=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),h=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var d=vf(t,o,r);a&32&&(d=cU[d.charCodeAt(0)]);var p=n-t.l;r&&r.biff==2&&--p;var y=n==t.l||c===0||!(p>0)?[]:Hq(t,p,r,c);return{chKey:s,Name:d,itab:h,rgce:y}}function WN(t,e,r){if(r.biff<8)return uU(t,e,r);for(var n=[],a=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(IB(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function uU(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=up(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function fU(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),s=vf(t,n,r),o=vf(t,a,r);return[s,o]}function hU(t,e,r){var n=$N(t);t.l++;var a=t.read_shift(1);return e-=8,[Gq(t,e,r),a,n]}function ak(t,e,r){var n=jB(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,zq(t,e,r)]}function dU(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function mU(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=Cf(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:a},c,o,s]}}function pU(t,e,r){return mU(t,e,r)}function gU(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(vx(t));return r}function xU(t,e,r){if(r&&r.biff<8)return vU(t,e,r);var n=KN(t),a=MB(t,e-22,n[1]);return{cmo:n,ft:a}}var yU={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:n}}};function vU(t,e,r){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((yU[n]||Js)(t,e,r)),{cmo:[a,n,s],ft:o}}function bU(t,e,r){var n=t.l,a="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=AB(t,6,r);var c=t.read_shift(2);t.read_shift(2),Na(t,2);var h=t.read_shift(2);t.l+=h;for(var d=1;d<t.lens.length-1;++d){if(t.l-n!=t.lens[d])throw new Error("TxO: bad continue record");var p=t[t.l],y=vf(t,t.lens[d+1]-t.lens[d]-1);if(a+=y,a.length>=(p?c:2*c))break}if(a.length!==c&&a.length!==c*2)throw new Error("cchText: "+c+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function wU(t,e){var r=vx(t);t.l+=16;var n=TB(t,e-24);return[r,n]}function _U(t,e){t.read_shift(2);var r=vx(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(ci,""),[r,n]}function kU(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=K3[r]||r,r=t.read_shift(2),e[1]=K3[r]||r,e}function AU(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(HN(t));return r}function EU(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(HN(t));return r}function NU(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function YN(t,e,r){if(!r.cellStyles)return Js(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(n),h=t.read_shift(2);n==2&&(t.l+=2);var d={s:a,e:s,w:o,ixfe:c,flags:h};return(r.biff>=5||!r.biff)&&(d.level=h>>8&7),d}function SU(t,e){var r={};return e<32||(t.l+=16,r.header=Ws(t),r.footer=Ws(t),t.l+=2),r}function TU(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}var CU=dc,RU=zN,IU=fp;function DU(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function jU(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=dc(t);++t.l;var a=Cf(t,e-7,r);return n.t="str",n.val=a,n}function LU(t){var e=dc(t);++t.l;var r=Ws(t);return e.t="n",e.val=r,e}function OU(t){var e=dc(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function PU(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function MU(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function FU(t,e,r){var n=t.l+e,a=dc(t),s=t.read_shift(2),o=vf(t,s,r);return t.l=n,a.t="str",a.val=o,a}var BU=[2,3,48,49,131,139,140,245],sk=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=L5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,h){var d=[],p=w0(1);switch(h.type){case"base64":p=ll(eo(c));break;case"binary":p=ll(c);break;case"buffer":case"array":p=c;break}ys(p,0);var y=p.read_shift(1),v=!!(y&136),b=!1,A=!1;switch(y){case 2:break;case 3:break;case 48:b=!0,v=!0;break;case 49:b=!0,v=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var k=0,E=521;y==2&&(k=p.read_shift(2)),p.l+=3,y!=2&&(k=p.read_shift(4)),k>1048576&&(k=1e6),y!=2&&(E=p.read_shift(2));var S=p.read_shift(2),j=h.codepage||1252;y!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(j=t[p[p.l]]),p.l+=1,p.l+=2),A&&(p.l+=36);for(var M=[],H={},K=Math.min(p.length,y==2?521:E-10-(b?264:0)),X=A?32:11;p.l<K&&p[p.l]!=13;)switch(H={},H.name=Lm.utils.decode(j,p.slice(p.l,p.l+X)).replace(/[\u0000\r\n].*$/g,""),p.l+=X,H.type=String.fromCharCode(p.read_shift(1)),y!=2&&!A&&(H.offset=p.read_shift(4)),H.len=p.read_shift(1),y==2&&(H.offset=p.read_shift(2)),H.dec=p.read_shift(1),H.name.length&&M.push(H),y!=2&&(p.l+=A?13:14),H.type){case"B":(!b||H.len!=8)&&h.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+H.type)}if(p[p.l]!==13&&(p.l=E-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=E;var P=0,D=0;for(d[0]=[],D=0;D!=M.length;++D)d[0][D]=M[D].name;for(;k-- >0;){if(p[p.l]===42){p.l+=S;continue}for(++p.l,d[++P]=[],D=0,D=0;D!=M.length;++D){var I=p.slice(p.l,p.l+M[D].len);p.l+=M[D].len,ys(I,0);var U=Lm.utils.decode(j,I);switch(M[D].type){case"C":U.trim().length&&(d[P][D]=U.replace(/\s+$/,""));break;case"D":U.length===8?d[P][D]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):d[P][D]=U;break;case"F":d[P][D]=parseFloat(U.trim());break;case"+":case"I":d[P][D]=A?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":d[P][D]=!0;break;case"N":case"F":d[P][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));d[P][D]="##MEMO##"+(A?parseInt(U.trim(),10):I.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(d[P][D]=+U||0);break;case"@":d[P][D]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":d[P][D]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":d[P][D]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[P][D]=-I.read_shift(-8,"f");break;case"B":if(b&&M[D].len==8){d[P][D]=I.read_shift(8,"f");break}case"G":case"P":I.l+=M[D].len;break;case"0":if(M[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+M[D].type)}}}if(y!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),h.DBF=M,d}function n(c,h){var d=h||{};d.dateNF||(d.dateNF="yyyymmdd");var p=td(r(c,d),d);return p["!cols"]=d.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete d.DBF,p}function a(c,h){try{return S0(n(c,h),h)}catch(d){if(h&&h.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,h){var d=h||{};if(+d.codepage>=0&&fl(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var p=iv(),y=gv(c,{header:1,raw:!0,cellDates:!0}),v=y[0],b=y.slice(1),A=c["!cols"]||[],k=0,E=0,S=0,j=1;for(k=0;k<v.length;++k){if(((A[k]||{}).DBF||{}).name){v[k]=A[k].DBF.name,++S;continue}if(v[k]!=null){if(++S,typeof v[k]=="number"&&(v[k]=v[k].toString(10)),typeof v[k]!="string")throw new Error("DBF Invalid column name "+v[k]+" |"+typeof v[k]+"|");if(v.indexOf(v[k])!==k){for(E=0;E<1024;++E)if(v.indexOf(v[k]+"_"+E)==-1){v[k]+="_"+E;break}}}}var M=ra(c["!ref"]),H=[],K=[],X=[];for(k=0;k<=M.e.c-M.s.c;++k){var P="",D="",I=0,U=[];for(E=0;E<b.length;++E)b[E][k]!=null&&U.push(b[E][k]);if(U.length==0||v[k]==null){H[k]="?";continue}for(E=0;E<U.length;++E){switch(typeof U[E]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=U[E]instanceof Date?"D":"C";break;default:D="C"}I=Math.max(I,String(U[E]).length),P=P&&P!=D?"C":D}I>250&&(I=250),D=((A[k]||{}).DBF||{}).type,D=="C"&&A[k].DBF.len>I&&(I=A[k].DBF.len),P=="B"&&D=="N"&&(P="N",X[k]=A[k].DBF.dec,I=A[k].DBF.len),K[k]=P=="C"||D=="N"?I:s[P]||0,j+=K[k],H[k]=P}var R=p.next(32);for(R.write_shift(4,318902576),R.write_shift(4,b.length),R.write_shift(2,296+32*S),R.write_shift(2,j),k=0;k<4;++k)R.write_shift(4,0);for(R.write_shift(4,0|(+e[W6]||3)<<8),k=0,E=0;k<v.length;++k)if(v[k]!=null){var C=p.next(32),B=(v[k].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,B,"sbcs"),C.write_shift(1,H[k]=="?"?"C":H[k],"sbcs"),C.write_shift(4,E),C.write_shift(1,K[k]||s[H[k]]||0),C.write_shift(1,X[k]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),E+=K[k]||s[H[k]]||0}var W=p.next(264);for(W.write_shift(4,13),k=0;k<65;++k)W.write_shift(4,0);for(k=0;k<b.length;++k){var ue=p.next(j);for(ue.write_shift(1,0),E=0;E<v.length;++E)if(v[E]!=null)switch(H[E]){case"L":ue.write_shift(1,b[k][E]==null?63:b[k][E]?84:70);break;case"B":ue.write_shift(8,b[k][E]||0,"f");break;case"N":var ae="0";for(typeof b[k][E]=="number"&&(ae=b[k][E].toFixed(X[E]||0)),S=0;S<K[E]-ae.length;++S)ue.write_shift(1,32);ue.write_shift(1,ae,"sbcs");break;case"D":b[k][E]?(ue.write_shift(4,("0000"+b[k][E].getFullYear()).slice(-4),"sbcs"),ue.write_shift(2,("00"+(b[k][E].getMonth()+1)).slice(-2),"sbcs"),ue.write_shift(2,("00"+b[k][E].getDate()).slice(-2),"sbcs")):ue.write_shift(8,"00000000","sbcs");break;case"C":var le=String(b[k][E]!=null?b[k][E]:"").slice(0,K[E]);for(ue.write_shift(1,le,"sbcs"),S=0;S<K[E]-le.length;++S)ue.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),UU=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+lc(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(v,b){var A=t[b];return typeof A=="number"?w3(A):A},n=function(v,b,A){var k=b.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return k==59?v:w3(k)};t["|"]=254;function a(v,b){switch(b.type){case"base64":return s(eo(v),b);case"binary":return s(v,b);case"buffer":return s(Ur&&Buffer.isBuffer(v)?v.toString("binary"):Ef(v),b);case"array":return s(yf(v),b)}throw new Error("Unrecognized type "+b.type)}function s(v,b){var A=v.split(/[\n\r]+/),k=-1,E=-1,S=0,j=0,M=[],H=[],K=null,X={},P=[],D=[],I=[],U=0,R;for(+b.codepage>=0&&fl(+b.codepage);S!==A.length;++S){U=0;var C=A[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),B=C.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),W=B[0],ue;if(C.length>0)switch(W){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&H.push(C.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,le=!1,se=!1,ne=!1,J=-1,Ne=-1;for(j=1;j<B.length;++j)switch(B[j].charAt(0)){case"A":break;case"X":E=parseInt(B[j].slice(1))-1,le=!0;break;case"Y":for(k=parseInt(B[j].slice(1))-1,le||(E=0),R=M.length;R<=k;++R)M[R]=[];break;case"K":ue=B[j].slice(1),ue.charAt(0)==='"'?ue=ue.slice(1,ue.length-1):ue==="TRUE"?ue=!0:ue==="FALSE"?ue=!1:isNaN(dl(ue))?isNaN(Vh(ue).getDate())||(ue=ss(ue)):(ue=dl(ue),K!==null&&Zh(K)&&(ue=yx(ue))),ae=!0;break;case"E":ne=!0;var L=Ch(B[j].slice(1),{r:k,c:E});M[k][E]=[M[k][E],L];break;case"S":se=!0,M[k][E]=[M[k][E],"S5S"];break;case"G":break;case"R":J=parseInt(B[j].slice(1))-1;break;case"C":Ne=parseInt(B[j].slice(1))-1;break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+C)}if(ae&&(M[k][E]&&M[k][E].length==2?M[k][E][0]=ue:M[k][E]=ue,K=null),se){if(ne)throw new Error("SYLK shared formula cannot have own formula");var z=J>-1&&M[J][Ne];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");M[k][E][1]=sS(z[1],{r:k-J,c:E-Ne})}break;case"F":var G=0;for(j=1;j<B.length;++j)switch(B[j].charAt(0)){case"X":E=parseInt(B[j].slice(1))-1,++G;break;case"Y":for(k=parseInt(B[j].slice(1))-1,R=M.length;R<=k;++R)M[R]=[];break;case"M":U=parseInt(B[j].slice(1))/20;break;case"F":break;case"G":break;case"P":K=H[parseInt(B[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=B[j].slice(1).split(" "),R=parseInt(I[0],10);R<=parseInt(I[1],10);++R)U=parseInt(I[2],10),D[R-1]=U===0?{hidden:!0}:{wch:U},zh(D[R-1]);break;case"C":E=parseInt(B[j].slice(1))-1,D[E]||(D[E]={});break;case"R":k=parseInt(B[j].slice(1))-1,P[k]||(P[k]={}),U>0?(P[k].hpt=U,P[k].hpx=Um(U)):U===0&&(P[k].hidden=!0);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+C)}G<1&&(K=null);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+C)}}return P.length>0&&(X["!rows"]=P),D.length>0&&(X["!cols"]=D),b&&b.sheetRows&&(M=M.slice(0,b.sheetRows)),[M,X]}function o(v,b){var A=a(v,b),k=A[0],E=A[1],S=td(k,b);return lc(E).forEach(function(j){S[j]=E[j]}),S}function c(v,b){return S0(o(v,b),b)}function h(v,b,A,k){var E="C;Y"+(A+1)+";X"+(k+1)+";K";switch(v.t){case"n":E+=v.v||0,v.f&&!v.F&&(E+=";E"+Nz(v.f,{r:A,c:k}));break;case"b":E+=v.v?"TRUE":"FALSE";break;case"e":E+=v.w||v.v;break;case"d":E+='"'+(v.w||v.v)+'"';break;case"s":E+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function d(v,b){b.forEach(function(A,k){var E="F;W"+(k+1)+" "+(k+1)+" ";A.hidden?E+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=D1(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=j1(A.wpx)),typeof A.wch=="number"&&(E+=Math.round(A.wch))),E.charAt(E.length-1)!=" "&&v.push(E)})}function p(v,b){b.forEach(function(A,k){var E="F;";A.hidden?E+="M0;":A.hpt?E+="M"+20*A.hpt+";":A.hpx&&(E+="M"+20*rS(A.hpx)+";"),E.length>2&&v.push(E+"R"+(k+1))})}function y(v,b){var A=["ID;PWXL;N;E"],k=[],E=ra(v["!ref"]),S,j=Array.isArray(v),M=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),v["!cols"]&&d(A,v["!cols"]),v["!rows"]&&p(A,v["!rows"]),A.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var H=E.s.r;H<=E.e.r;++H)for(var K=E.s.c;K<=E.e.c;++K){var X=mr({r:H,c:K});S=j?(v[H]||[])[K]:v[X],!(!S||S.v==null&&(!S.f||S.F))&&k.push(h(S,v,H,K))}return A.join(M)+M+k.join(M)+M+"E"+M}return{to_workbook:c,to_sheet:o,from_sheet:y}}(),VU=function(){function t(s,o){switch(o.type){case"base64":return e(eo(s),o);case"binary":return e(s,o);case"buffer":return e(Ur&&Buffer.isBuffer(s)?s.toString("binary"):Ef(s),o);case"array":return e(yf(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var c=s.split(`
`),h=-1,d=-1,p=0,y=[];p!==c.length;++p){if(c[p].trim()==="BOT"){y[++h]=[],d=0;continue}if(!(h<0)){var v=c[p].trim().split(","),b=v[0],A=v[1];++p;for(var k=c[p]||"";(k.match(/["]/g)||[]).length&1&&p<c.length-1;)k+=`
`+c[++p];switch(k=k.trim(),+b){case-1:if(k==="BOT"){y[++h]=[],d=0;continue}else if(k!=="EOD")throw new Error("Unrecognized DIF special command "+k);break;case 0:k==="TRUE"?y[h][d]=!0:k==="FALSE"?y[h][d]=!1:isNaN(dl(A))?isNaN(Vh(A).getDate())?y[h][d]=A:y[h][d]=ss(A):y[h][d]=dl(A),++d;break;case 1:k=k.slice(1,k.length-1),k=k.replace(/""/g,'"'),k&&k.match(/^=".*"$/)&&(k=k.slice(2,-1)),y[h][d++]=k!==""?k:null;break}if(k==="EOD")break}}return o&&o.sheetRows&&(y=y.slice(0,o.sheetRows)),y}function r(s,o){return td(t(s,o),o)}function n(s,o){return S0(r(s,o),o)}var a=function(){var s=function(h,d,p,y,v){h.push(d),h.push(p+","+y),h.push('"'+v.replace(/"/g,'""')+'"')},o=function(h,d,p,y){h.push(d+","+p),h.push(d==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(h){var d=[],p=ra(h["!ref"]),y,v=Array.isArray(h);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,p.e.r-p.s.r+1,""),s(d,"TUPLES",0,p.e.c-p.s.c+1,""),s(d,"DATA",0,0,"");for(var b=p.s.r;b<=p.e.r;++b){o(d,-1,0,"BOT");for(var A=p.s.c;A<=p.e.c;++A){var k=mr({r:b,c:A});if(y=v?(h[b]||[])[A]:h[k],!y){o(d,1,0,"");continue}switch(y.t){case"n":var E=y.w;!E&&y.v!=null&&(E=y.v),E==null?y.f&&!y.F?o(d,1,0,"="+y.f):o(d,1,0,""):o(d,0,E,"V");break;case"b":o(d,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=Io(y.z||xr[14],ui(ss(y.v)))),o(d,0,y.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var S=`\r
`,j=d.join(S);return j}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),zU=function(){function t(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(y,v){for(var b=y.split(`
`),A=-1,k=-1,E=0,S=[];E!==b.length;++E){var j=b[E].trim().split(":");if(j[0]==="cell"){var M=oi(j[1]);if(S.length<=M.r)for(A=S.length;A<=M.r;++A)S[A]||(S[A]=[]);switch(A=M.r,k=M.c,j[2]){case"t":S[A][k]=t(j[3]);break;case"v":S[A][k]=+j[3];break;case"vtf":var H=j[j.length-1];case"vtc":switch(j[3]){case"nl":S[A][k]=!!+j[4];break;default:S[A][k]=+j[4];break}j[2]=="vtf"&&(S[A][k]=[S[A][k],H])}}}return v&&v.sheetRows&&(S=S.slice(0,v.sheetRows)),S}function n(y,v){return td(r(y,v),v)}function a(y,v){return S0(n(y,v),v)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function d(y){if(!y||!y["!ref"])return"";for(var v=[],b=[],A,k="",E=ed(y["!ref"]),S=Array.isArray(y),j=E.s.r;j<=E.e.r;++j)for(var M=E.s.c;M<=E.e.c;++M)if(k=mr({r:j,c:M}),A=S?(y[j]||[])[M]:y[k],!(!A||A.v==null||A.t==="z")){switch(b=["cell",k,"t"],A.t){case"s":case"str":b.push(e(A.v));break;case"n":A.f?(b[2]="vtf",b[3]="n",b[4]=A.v,b[5]=e(A.f)):(b[2]="v",b[3]=A.v);break;case"b":b[2]="vt"+(A.f?"f":"c"),b[3]="nl",b[4]=A.v?"1":"0",b[5]=e(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var H=ui(ss(A.v));b[2]="vtc",b[3]="nd",b[4]=""+H,b[5]=A.w||Io(A.z||xr[14],H);break;case"e":continue}v.push(b.join(":"))}return v.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function p(y){return[s,o,c,o,d(y),h].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:p}}(),Fm=function(){function t(p,y,v,b,A){A.raw?y[v][b]=p:p===""||(p==="TRUE"?y[v][b]=!0:p==="FALSE"?y[v][b]=!1:isNaN(dl(p))?isNaN(Vh(p).getDate())?y[v][b]=p:y[v][b]=ss(p):y[v][b]=dl(p))}function e(p,y){var v=y||{},b=[];if(!p||p.length===0)return b;for(var A=p.split(/[\r\n]/),k=A.length-1;k>=0&&A[k].length===0;)--k;for(var E=10,S=0,j=0;j<=k;++j)S=A[j].indexOf(" "),S==-1?S=A[j].length:S++,E=Math.max(E,S);for(j=0;j<=k;++j){b[j]=[];var M=0;for(t(A[j].slice(0,E).trim(),b,j,M,v),M=1;M<=(A[j].length-E)/10+1;++M)t(A[j].slice(E+(M-1)*10,E+M*10).trim(),b,j,M,v)}return v.sheetRows&&(b=b.slice(0,v.sheetRows)),b}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(p){for(var y={},v=!1,b=0,A=0;b<p.length;++b)(A=p.charCodeAt(b))==34?v=!v:!v&&A in r&&(y[A]=(y[A]||0)+1);A=[];for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&A.push([y[b],b]);if(!A.length){y=n;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&A.push([y[b],b])}return A.sort(function(k,E){return k[0]-E[0]||n[k[1]]-n[E[1]]}),r[A.pop()[1]]||44}function s(p,y){var v=y||{},b="",A=v.dense?[]:{},k={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(b=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(b=p.charAt(4),p=p.slice(6)):b=a(p.slice(0,1024)):v&&v.FS?b=v.FS:b=a(p.slice(0,1024));var E=0,S=0,j=0,M=0,H=0,K=b.charCodeAt(0),X=!1,P=0,D=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var I=v.dateNF!=null?ZM(v.dateNF):null;function U(){var R=p.slice(M,H),C={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)C.t="z";else if(v.raw)C.t="s",C.v=R;else if(R.trim().length===0)C.t="s",C.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(C.t="s",C.v=R.slice(2,-1).replace(/""/g,'"')):Tz(R)?(C.t="n",C.f=R.slice(1)):(C.t="s",C.v=R);else if(R=="TRUE")C.t="b",C.v=!0;else if(R=="FALSE")C.t="b",C.v=!1;else if(!isNaN(j=dl(R)))C.t="n",v.cellText!==!1&&(C.w=R),C.v=j;else if(!isNaN(Vh(R).getDate())||I&&R.match(I)){C.z=v.dateNF||xr[14];var B=0;I&&R.match(I)&&(R=eF(R,v.dateNF,R.match(I)||[]),B=1),v.cellDates?(C.t="d",C.v=ss(R,B)):(C.t="n",C.v=ui(ss(R,B))),v.cellText!==!1&&(C.w=Io(C.z,C.v instanceof Date?ui(C.v):C.v)),v.cellNF||delete C.z}else C.t="s",C.v=R;if(C.t=="z"||(v.dense?(A[E]||(A[E]=[]),A[E][S]=C):A[mr({c:S,r:E})]=C),M=H+1,D=p.charCodeAt(M),k.e.c<S&&(k.e.c=S),k.e.r<E&&(k.e.r=E),P==K)++S;else if(S=0,++E,v.sheetRows&&v.sheetRows<=E)return!0}e:for(;H<p.length;++H)switch(P=p.charCodeAt(H)){case 34:D===34&&(X=!X);break;case K:case 10:case 13:if(!X&&U())break e;break}return H-M>0&&U(),A["!ref"]=Kr(k),A}function o(p,y){return!(y&&y.PRN)||y.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?s(p,y):td(e(p,y),y)}function c(p,y){var v="",b=y.type=="string"?[0,0,0,0]:Z5(p,y);switch(y.type){case"base64":v=eo(p);break;case"binary":v=p;break;case"buffer":y.codepage==65001?v=p.toString("utf8"):y.codepage&&typeof Lm<"u"||(v=Ur&&Buffer.isBuffer(p)?p.toString("binary"):Ef(p));break;case"array":v=yf(p);break;case"string":v=p;break;default:throw new Error("Unrecognized type "+y.type)}return b[0]==239&&b[1]==187&&b[2]==191?v=Rn(v.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?v=Rn(v):y.type=="binary"&&typeof Lm<"u",v.slice(0,19)=="socialcalc:version:"?zU.to_sheet(y.type=="string"?v:Rn(v),y):o(v,y)}function h(p,y){return S0(c(p,y),y)}function d(p){for(var y=[],v=ra(p["!ref"]),b,A=Array.isArray(p),k=v.s.r;k<=v.e.r;++k){for(var E=[],S=v.s.c;S<=v.e.c;++S){var j=mr({r:k,c:S});if(b=A?(p[k]||[])[S]:p[j],!b||b.v==null){E.push("          ");continue}for(var M=(b.w||(ou(b),b.w)||"").slice(0,10);M.length<10;)M+=" ";E.push(M+(S===0?" ":""))}y.push(E.join(""))}return y.join(`
`)}return{to_workbook:h,to_sheet:c,from_sheet:d}}();function qU(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var a=UU.to_workbook(t,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Fm.to_workbook(t,e)}}var pm=function(){function t(L,z,G){if(L){ys(L,L.l||0);for(var Y=G.Enum||J;L.l<L.length;){var Z=L.read_shift(2),de=Y[Z]||Y[65535],xe=L.read_shift(2),we=L.l+xe,je=de.f&&de.f(L,xe,G);if(L.l=we,z(je,de,Z))return}}}function e(L,z){switch(z.type){case"base64":return r(ll(eo(L)),z);case"binary":return r(ll(L),z);case"buffer":case"array":return r(L,z)}throw"Unsupported type "+z.type}function r(L,z){if(!L)return L;var G=z||{},Y=G.dense?[]:{},Z="Sheet1",de="",xe=0,we={},je=[],tt=[],ee={s:{r:0,c:0},e:{r:0,c:0}},Te=G.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)G.Enum=J,t(L,function(Ke,xt,st){switch(st){case 0:G.vers=Ke,Ke>=4096&&(G.qpro=!0);break;case 6:ee=Ke;break;case 204:Ke&&(de=Ke);break;case 222:de=Ke;break;case 15:case 51:G.qpro||(Ke[1].v=Ke[1].v.slice(1));case 13:case 14:case 16:st==14&&(Ke[2]&112)==112&&(Ke[2]&15)>1&&(Ke[2]&15)<15&&(Ke[1].z=G.dateNF||xr[14],G.cellDates&&(Ke[1].t="d",Ke[1].v=yx(Ke[1].v))),G.qpro&&Ke[3]>xe&&(Y["!ref"]=Kr(ee),we[Z]=Y,je.push(Z),Y=G.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},xe=Ke[3],Z=de||"Sheet"+(xe+1),de="");var pt=G.dense?(Y[Ke[0].r]||[])[Ke[0].c]:Y[mr(Ke[0])];if(pt){pt.t=Ke[1].t,pt.v=Ke[1].v,Ke[1].z!=null&&(pt.z=Ke[1].z),Ke[1].f!=null&&(pt.f=Ke[1].f);break}G.dense?(Y[Ke[0].r]||(Y[Ke[0].r]=[]),Y[Ke[0].r][Ke[0].c]=Ke[1]):Y[mr(Ke[0])]=Ke[1];break}},G);else if(L[2]==26||L[2]==14)G.Enum=Ne,L[2]==14&&(G.qpro=!0,L.l=0),t(L,function(Ke,xt,st){switch(st){case 204:Z=Ke;break;case 22:Ke[1].v=Ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ke[3]>xe&&(Y["!ref"]=Kr(ee),we[Z]=Y,je.push(Z),Y=G.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},xe=Ke[3],Z="Sheet"+(xe+1)),Te>0&&Ke[0].r>=Te)break;G.dense?(Y[Ke[0].r]||(Y[Ke[0].r]=[]),Y[Ke[0].r][Ke[0].c]=Ke[1]):Y[mr(Ke[0])]=Ke[1],ee.e.c<Ke[0].c&&(ee.e.c=Ke[0].c),ee.e.r<Ke[0].r&&(ee.e.r=Ke[0].r);break;case 27:Ke[14e3]&&(tt[Ke[14e3][0]]=Ke[14e3][1]);break;case 1537:tt[Ke[0]]=Ke[1],Ke[0]==xe&&(Z=Ke[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(Y["!ref"]=Kr(ee),we[de||Z]=Y,je.push(de||Z),!tt.length)return{SheetNames:je,Sheets:we};for(var Qe={},Le=[],pe=0;pe<tt.length;++pe)we[je[pe]]?(Le.push(tt[pe]||je[pe]),Qe[tt[pe]]=we[tt[pe]]||we[je[pe]]):(Le.push(tt[pe]),Qe[tt[pe]]={"!ref":"A1"});return{SheetNames:Le,Sheets:Qe}}function n(L,z){var G=z||{};if(+G.codepage>=0&&fl(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=iv(),Z=ra(L["!ref"]),de=Array.isArray(L),xe=[];sl(Y,0,s(1030)),sl(Y,6,h(Z));for(var we=Math.min(Z.e.r,8191),je=Z.s.r;je<=we;++je)for(var tt=ks(je),ee=Z.s.c;ee<=Z.e.c;++ee){je===Z.s.r&&(xe[ee]=Va(ee));var Te=xe[ee]+tt,Qe=de?(L[je]||[])[ee]:L[Te];if(!(!Qe||Qe.t=="z"))if(Qe.t=="n")(Qe.v|0)==Qe.v&&Qe.v>=-32768&&Qe.v<=32767?sl(Y,13,b(je,ee,Qe.v)):sl(Y,14,k(je,ee,Qe.v));else{var Le=ou(Qe);sl(Y,15,y(je,ee,Le.slice(0,239)))}}return sl(Y,1),Y.end()}function a(L,z){var G=z||{};if(+G.codepage>=0&&fl(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=iv();sl(Y,0,o(L));for(var Z=0,de=0;Z<L.SheetNames.length;++Z)(L.Sheets[L.SheetNames[Z]]||{})["!ref"]&&sl(Y,27,ne(L.SheetNames[Z],de++));var xe=0;for(Z=0;Z<L.SheetNames.length;++Z){var we=L.Sheets[L.SheetNames[Z]];if(!(!we||!we["!ref"])){for(var je=ra(we["!ref"]),tt=Array.isArray(we),ee=[],Te=Math.min(je.e.r,8191),Qe=je.s.r;Qe<=Te;++Qe)for(var Le=ks(Qe),pe=je.s.c;pe<=je.e.c;++pe){Qe===je.s.r&&(ee[pe]=Va(pe));var Ke=ee[pe]+Le,xt=tt?(we[Qe]||[])[pe]:we[Ke];if(!(!xt||xt.t=="z"))if(xt.t=="n")sl(Y,23,U(Qe,pe,xe,xt.v));else{var st=ou(xt);sl(Y,22,P(Qe,pe,xe,st.slice(0,239)))}}++xe}}return sl(Y,1),Y.end()}function s(L){var z=Ba(2);return z.write_shift(2,L),z}function o(L){var z=Ba(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var G=0,Y=0,Z=0,de=0;de<L.SheetNames.length;++de){var xe=L.SheetNames[de],we=L.Sheets[xe];if(!(!we||!we["!ref"])){++Z;var je=ed(we["!ref"]);G<je.e.r&&(G=je.e.r),Y<je.e.c&&(Y=je.e.c)}}return G>8191&&(G=8191),z.write_shift(2,G),z.write_shift(1,Z),z.write_shift(1,Y),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function c(L,z,G){var Y={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&G.qpro?(Y.s.c=L.read_shift(1),L.l++,Y.s.r=L.read_shift(2),Y.e.c=L.read_shift(1),L.l++,Y.e.r=L.read_shift(2),Y):(Y.s.c=L.read_shift(2),Y.s.r=L.read_shift(2),z==12&&G.qpro&&(L.l+=2),Y.e.c=L.read_shift(2),Y.e.r=L.read_shift(2),z==12&&G.qpro&&(L.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function h(L){var z=Ba(8);return z.write_shift(2,L.s.c),z.write_shift(2,L.s.r),z.write_shift(2,L.e.c),z.write_shift(2,L.e.r),z}function d(L,z,G){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(Y[0].c=L.read_shift(1),Y[3]=L.read_shift(1),Y[0].r=L.read_shift(2),L.l+=2):(Y[2]=L.read_shift(1),Y[0].c=L.read_shift(2),Y[0].r=L.read_shift(2)),Y}function p(L,z,G){var Y=L.l+z,Z=d(L,z,G);if(Z[1].t="s",G.vers==20768){L.l++;var de=L.read_shift(1);return Z[1].v=L.read_shift(de,"utf8"),Z}return G.qpro&&L.l++,Z[1].v=L.read_shift(Y-L.l,"cstr"),Z}function y(L,z,G){var Y=Ba(7+G.length);Y.write_shift(1,255),Y.write_shift(2,z),Y.write_shift(2,L),Y.write_shift(1,39);for(var Z=0;Z<Y.length;++Z){var de=G.charCodeAt(Z);Y.write_shift(1,de>=128?95:de)}return Y.write_shift(1,0),Y}function v(L,z,G){var Y=d(L,z,G);return Y[1].v=L.read_shift(2,"i"),Y}function b(L,z,G){var Y=Ba(7);return Y.write_shift(1,255),Y.write_shift(2,z),Y.write_shift(2,L),Y.write_shift(2,G,"i"),Y}function A(L,z,G){var Y=d(L,z,G);return Y[1].v=L.read_shift(8,"f"),Y}function k(L,z,G){var Y=Ba(13);return Y.write_shift(1,255),Y.write_shift(2,z),Y.write_shift(2,L),Y.write_shift(8,G,"f"),Y}function E(L,z,G){var Y=L.l+z,Z=d(L,z,G);if(Z[1].v=L.read_shift(8,"f"),G.qpro)L.l=Y;else{var de=L.read_shift(2);H(L.slice(L.l,L.l+de),Z),L.l+=de}return Z}function S(L,z,G){var Y=z&32768;return z&=-32769,z=(Y?L:0)+(z>=8192?z-16384:z),(Y?"":"$")+(G?Va(z):ks(z))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},M=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function H(L,z){ys(L,0);for(var G=[],Y=0,Z="",de="",xe="",we="";L.l<L.length;){var je=L[L.l++];switch(je){case 0:G.push(L.read_shift(8,"f"));break;case 1:de=S(z[0].c,L.read_shift(2),!0),Z=S(z[0].r,L.read_shift(2),!1),G.push(de+Z);break;case 2:{var tt=S(z[0].c,L.read_shift(2),!0),ee=S(z[0].r,L.read_shift(2),!1);de=S(z[0].c,L.read_shift(2),!0),Z=S(z[0].r,L.read_shift(2),!1),G.push(tt+ee+":"+de+Z)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(L.read_shift(2));break;case 6:{for(var Te="";je=L[L.l++];)Te+=String.fromCharCode(je);G.push('"'+Te.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:we=G.pop(),xe=G.pop(),G.push(["AND","OR"][je-20]+"("+xe+","+we+")");break;default:if(je<32&&M[je])we=G.pop(),xe=G.pop(),G.push(xe+M[je]+we);else if(j[je]){if(Y=j[je][1],Y==69&&(Y=L[L.l++]),Y>G.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+G.join("|")+"|");return}var Qe=G.slice(-Y);G.length-=Y,G.push(j[je][0]+"("+Qe.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}G.length==1?z[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function K(L){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=L.read_shift(2),z[3]=L[L.l++],z[0].c=L[L.l++],z}function X(L,z){var G=K(L);return G[1].t="s",G[1].v=L.read_shift(z-4,"cstr"),G}function P(L,z,G,Y){var Z=Ba(6+Y.length);Z.write_shift(2,L),Z.write_shift(1,G),Z.write_shift(1,z),Z.write_shift(1,39);for(var de=0;de<Y.length;++de){var xe=Y.charCodeAt(de);Z.write_shift(1,xe>=128?95:xe)}return Z.write_shift(1,0),Z}function D(L,z){var G=K(L);G[1].v=L.read_shift(2);var Y=G[1].v>>1;if(G[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return G[1].v=Y,G}function I(L,z){var G=K(L),Y=L.read_shift(4),Z=L.read_shift(4),de=L.read_shift(2);if(de==65535)return Y===0&&Z===3221225472?(G[1].t="e",G[1].v=15):Y===0&&Z===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var xe=de&32768;return de=(de&32767)-16446,G[1].v=(1-xe*2)*(Z*Math.pow(2,de+32)+Y*Math.pow(2,de)),G}function U(L,z,G,Y){var Z=Ba(14);if(Z.write_shift(2,L),Z.write_shift(1,G),Z.write_shift(1,z),Y==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var de=0,xe=0,we=0,je=0;return Y<0&&(de=1,Y=-Y),xe=Math.log2(Y)|0,Y/=Math.pow(2,xe-31),je=Y>>>0,(je&2147483648)==0&&(Y/=2,++xe,je=Y>>>0),Y-=je,je|=2147483648,je>>>=0,Y*=Math.pow(2,32),we=Y>>>0,Z.write_shift(4,we),Z.write_shift(4,je),xe+=16383+(de?32768:0),Z.write_shift(2,xe),Z}function R(L,z){var G=I(L);return L.l+=z-14,G}function C(L,z){var G=K(L),Y=L.read_shift(4);return G[1].v=Y>>6,G}function B(L,z){var G=K(L),Y=L.read_shift(8,"f");return G[1].v=Y,G}function W(L,z){var G=B(L);return L.l+=z-10,G}function ue(L,z){return L[L.l+z-1]==0?L.read_shift(z,"cstr"):""}function ae(L,z){var G=L[L.l++];G>z-1&&(G=z-1);for(var Y="";Y.length<G;)Y+=String.fromCharCode(L[L.l++]);return Y}function le(L,z,G){if(!(!G.qpro||z<21)){var Y=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var Z=L.read_shift(z-21,"cstr");return[Y,Z]}}function se(L,z){for(var G={},Y=L.l+z;L.l<Y;){var Z=L.read_shift(2);if(Z==14e3){for(G[Z]=[0,""],G[Z][0]=L.read_shift(2);L[L.l];)G[Z][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return G}function ne(L,z){var G=Ba(5+L.length);G.write_shift(2,14e3),G.write_shift(2,z);for(var Y=0;Y<L.length;++Y){var Z=L.charCodeAt(Y);G[G.l++]=Z>127?95:Z}return G[G.l++]=0,G}var J={0:{n:"BOF",f:Na},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ue},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},Ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:X},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:W},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}}();function HU(t){var e={},r=t.match(Zs),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=lr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=C5[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return e}var GU=function(){var t=Pm("t"),e=Pm("rPr");function r(s){var o=s.match(t);if(!o)return{t:"s",v:""};var c={t:"s",v:Jr(o[1])},h=s.match(e);return h&&(c.s=HU(h[1])),c}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(c){return c.v})}}(),$U=function(){var e=/(\r\n|\n)/g;function r(a,s,o){var c=[];a.u&&c.push("text-decoration: underline;"),a.uval&&c.push("text-underline-style:"+a.uval+";"),a.sz&&c.push("font-size:"+a.sz+"pt;"),a.outline&&c.push("text-effect: outline;"),a.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var h=a.valign||"";return h=="superscript"||h=="super"?h="sup":h=="subscript"&&(h="sub"),h!=""&&(s.push("<"+h+">"),o.push("</"+h+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),KU=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,WU=/<(?:\w+:)?r>/,YU=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $5(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Jr(Rn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Rn(t),r&&(n.h=P5(n.t))):t.match(WU)&&(n.r=Rn(t),n.t=Jr(Rn((t.replace(YU,"").match(KU)||[]).join("").replace(Zs,""))),r&&(n.h=$U(GU(n.r)))),n):{t:""}}var XU=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,QU=/<(?:\w+:)?(?:si|sstItem)>/g,JU=/<\/(?:\w+:)?(?:si|sstItem)>/;function ZU(t,e){var r=[],n="";if(!t)return r;var a=t.match(XU);if(a){n=a[2].replace(QU,"").split(JU);for(var s=0;s!=n.length;++s){var o=$5(n[s].trim(),e);o!=null&&(r[r.length]=o)}a=lr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function eV(t){return[t.read_shift(4),t.read_shift(4)]}function tV(t,e){var r=[],n=!1;return hu(t,function(s,o,c){switch(c){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function XN(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function tu(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function rV(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=tu(t,4),e.U=tu(t,4),e.W=tu(t,4),e}function nV(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},a=t.read_shift(4),s=[];a-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function aV(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(nV(t));return e}function sV(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function iV(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=tu(t,4),e.U=tu(t,4),e.W=tu(t,4),e}function oV(t){var e=iV(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function QN(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function JN(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function lV(t){var e=tu(t);switch(e.Minor){case 2:return[e.Minor,cV(t)];case 3:return[e.Minor,uV()];case 4:return[e.Minor,fV(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function cV(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=QN(t,r),a=JN(t,t.length-t.l);return{t:"Std",h:n,v:a}}function uV(){throw new Error("File is password-protected: ECMA-376 Extensible")}function fV(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Zs,function(s){var o=lr(s);switch(hc(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){n[c]=o[c]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function hV(t,e){var r={},n=r.EncryptionVersionInfo=tu(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=QN(t,a),e-=a,r.EncryptionVerifier=JN(t,e),r}function dV(t){var e={},r=e.EncryptionVersionInfo=tu(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function mV(t){var e=0,r,n=XN(t),a=n.length+1,s,o,c,h,d;for(r=w0(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],c=(e&16384)===0?0:1,h=e<<1&32767,d=c|h,e=d^o;return e^52811}var ZN=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,c){return n(o^c)},s=function(o){for(var c=e[o.length-1],h=104,d=o.length-1;d>=0;--d)for(var p=o[d],y=0;y!=7;++y)p&64&&(c^=r[h]),p*=2,--h;return c};return function(o){for(var c=XN(o),h=s(c),d=c.length,p=w0(16),y=0;y!=16;++y)p[y]=0;var v,b,A;for((d&1)===1&&(v=h>>8,p[d]=a(t[0],v),--d,v=h&255,b=c[c.length-1],p[d]=a(b,v));d>0;)--d,v=h>>8,p[d]=a(c[d],v),--d,v=h&255,p[d]=a(c[d],v);for(d=15,A=15-c.length;A>0;)v=h>>8,p[d]=a(t[A],v),--d,--A,v=h&255,p[d]=a(c[d],v),--d,--A;return p}}(),pV=function(t,e,r,n,a){a||(a=e),n||(n=ZN(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},gV=function(t){var e=0,r=ZN(t);return function(n){var a=pV("",n,e,r);return e=a[1],a[0]}};function xV(t,e,r,n){var a={key:Na(t),verificationBytes:Na(t)};return r.password&&(a.verifier=mV(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=gV(r.password)),a}function yV(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=dV(t):n.Data=hV(t,e),n}function vV(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?yV(t,e-2,n):xV(t,r.biff>=8?e:e-2,r,n),n}var bV=function(){function t(a,s){switch(s.type){case"base64":return e(eo(a),s);case"binary":return e(a,s);case"buffer":return e(Ur&&Buffer.isBuffer(a)?a.toString("binary"):Ef(a),s);case"array":return e(yf(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var o=s||{},c=o.dense?[]:{},h=a.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(p,y){Array.isArray(c)&&(c[y]=[]);for(var v=/\\\w+\b/g,b=0,A,k=-1;A=v.exec(p);){switch(A[0]){case"\\cell":var E=p.slice(b,v.lastIndex-A[0].length);if(E[0]==" "&&(E=E.slice(1)),++k,E.length){var S={v:E,t:"s"};Array.isArray(c)?c[y][k]=S:c[mr({r:y,c:k})]=S}break}b=v.lastIndex}k>d.e.c&&(d.e.c=k)}),c["!ref"]=Kr(d),c}function r(a,s){return S0(t(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=ra(a["!ref"]),c,h=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var y=mr({r:d,c:p});c=h?(a[d]||[])[p]:a[y],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(ou(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function wV(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Bm(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function _V(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.max(e,r,n),s=Math.min(e,r,n),o=a-s;if(o===0)return[0,0,e];var c=0,h=0,d=a+s;switch(h=o/(d>1?2-d:d),a){case e:c=((r-n)/o+6)%6;break;case r:c=(n-e)/o+2;break;case n:c=(e-r)/o+4;break}return[c/6,h,d/2]}function kV(t){var e=t[0],r=t[1],n=t[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],c=6*e,h;if(r!==0)switch(c|0){case 0:case 6:h=a*c,o[0]+=a,o[1]+=h;break;case 1:h=a*(2-c),o[0]+=h,o[1]+=a;break;case 2:h=a*(c-2),o[1]+=a,o[2]+=h;break;case 3:h=a*(4-c),o[1]+=h,o[2]+=a;break;case 4:h=a*(c-4),o[2]+=a,o[0]+=h;break;case 5:h=a*(6-c),o[2]+=h,o[0]+=a;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function I1(t,e){if(e===0)return t;var r=_V(wV(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Bm(kV(r))}var eS=6,AV=15,EV=1,ii=eS;function D1(t){return Math.floor((t+Math.round(128/ii)/256)*ii)}function j1(t){return Math.floor((t-5)/ii*100+.5)/100}function uv(t){return Math.round((t*ii+5)/ii*256)/256}function ly(t){return uv(j1(D1(t)))}function K5(t){var e=Math.abs(t-ly(t)),r=ii;if(e>.005)for(ii=EV;ii<AV;++ii)Math.abs(t-ly(t))<=e&&(e=Math.abs(t-ly(t)),r=ii);ii=r}function zh(t){t.width?(t.wpx=D1(t.width),t.wch=j1(t.wpx),t.MDW=ii):t.wpx?(t.wch=j1(t.wpx),t.width=uv(t.wch),t.MDW=ii):typeof t.wch=="number"&&(t.width=uv(t.wch),t.wpx=D1(t.width),t.MDW=ii),t.customWidth&&delete t.customWidth}var NV=96,tS=NV;function rS(t){return t*96/tS}function Um(t){return t*tS/96}var SV={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function TV(t,e,r,n){e.Borders=[];var a={},s=!1;(t[0].match(Zs)||[]).forEach(function(o){var c=lr(o);switch(hc(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},c.diagonalUp&&(a.diagonalUp=Fn(c.diagonalUp)),c.diagonalDown&&(a.diagonalDown=Fn(c.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function CV(t,e,r,n){e.Fills=[];var a={},s=!1;(t[0].match(Zs)||[]).forEach(function(o){var c=lr(o);switch(hc(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":c.patternType&&(a.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),c.indexed&&(a.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(a.bgColor.theme=parseInt(c.theme,10)),c.tint&&(a.bgColor.tint=parseFloat(c.tint)),c.rgb&&(a.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),c.theme&&(a.fgColor.theme=parseInt(c.theme,10)),c.tint&&(a.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(a.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function RV(t,e,r,n){e.Fonts=[];var a={},s=!1;(t[0].match(Zs)||[]).forEach(function(o){var c=lr(o);switch(hc(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":c.val&&(a.name=Rn(c.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=c.val?Fn(c.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=c.val?Fn(c.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(c.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=c.val?Fn(c.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=c.val?Fn(c.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=c.val?Fn(c.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=c.val?Fn(c.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=c.val?Fn(c.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":c.val&&(a.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(a.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(a.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(a.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=C5[parseInt(c.val,10)];break;case"<color":if(a.color||(a.color={}),c.auto&&(a.color.auto=Fn(c.auto)),c.rgb)a.color.rgb=c.rgb.slice(-6);else if(c.indexed){a.color.index=parseInt(c.indexed,10);var h=sf[a.color.index];a.color.index==81&&(h=sf[1]),h||(h=sf[1]),a.color.rgb=h[0].toString(16)+h[1].toString(16)+h[2].toString(16)}else c.theme&&(a.color.theme=parseInt(c.theme,10),c.tint&&(a.color.tint=parseFloat(c.tint)),c.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=I1(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function IV(t,e,r){e.NumberFmt=[];for(var n=lc(xr),a=0;a<n.length;++a)e.NumberFmt[n[a]]=xr[n[a]];var s=t[0].match(Zs);if(s)for(a=0;a<s.length;++a){var o=lr(s[a]);switch(hc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Jr(Rn(o.formatCode)),h=parseInt(o.numFmtId,10);if(e.NumberFmt[h]=c,h>0){if(h>392){for(h=392;h>60&&e.NumberFmt[h]!=null;--h);e.NumberFmt[h]=c}af(c,h)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Ig=["numFmtId","fillId","fontId","borderId","xfId"],Dg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function DV(t,e,r){e.CellXf=[];var n,a=!1;(t[0].match(Zs)||[]).forEach(function(s){var o=lr(s),c=0;switch(hc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],c=0;c<Ig.length;++c)n[Ig[c]]&&(n[Ig[c]]=parseInt(n[Ig[c]],10));for(c=0;c<Dg.length;++c)n[Dg[c]]&&(n[Dg[c]]=Fn(n[Dg[c]]));if(e.NumberFmt&&n.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[c]){n.numFmtId=c;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var h={};o.vertical&&(h.vertical=o.vertical),o.horizontal&&(h.horizontal=o.horizontal),o.textRotation!=null&&(h.textRotation=o.textRotation),o.indent&&(h.indent=o.indent),o.wrapText&&(h.wrapText=Fn(o.wrapText)),n.alignment=h;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var jV=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,h,d){var p={};if(!c)return p;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var y;return(y=c.match(e))&&IV(y,p,d),(y=c.match(a))&&RV(y,p,h,d),(y=c.match(n))&&CV(y,p,h,d),(y=c.match(s))&&TV(y,p,h,d),(y=c.match(r))&&DV(y,p,d),p}}();function LV(t,e){var r=t.read_shift(2),n=Xs(t);return[r,n]}function OV(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=GF(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var c=t.read_shift(1);c>0&&(n.family=c);var h=t.read_shift(1);switch(h>0&&(n.charset=h),t.l++,n.color=HF(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Xs(t),n}var PV=Js;function MV(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}var FV=Js;function BV(t,e,r){var n={};n.NumberFmt=[];for(var a in xr)n.NumberFmt[a]=xr[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return hu(t,function(h,d,p){switch(p){case 44:n.NumberFmt[h[0]]=h[1],af(h[1],h[0]);break;case 43:n.Fonts.push(h),h.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(h.color.rgb=I1(e.themeElements.clrScheme[h.color.theme].rgb,h.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(h);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(p),o=!0;break;case 38:s.pop(),o=!1;break;default:if(d.T>0)s.push(p);else if(d.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+p.toString(16))}}),n}var UV=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function VV(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Zs)||[]).forEach(function(a){var s=lr(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[UV.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function zV(){}function qV(){}var HV=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,GV=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,$V=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function KV(t,e,r){e.themeElements={};var n;[["clrScheme",HV,VV],["fontScheme",GV,zV],["fmtScheme",$V,qV]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,r)})}var WV=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function nS(t,e){(!t||t.length===0)&&(t=YV());var r,n={};if(!(r=t.match(WV)))throw new Error("themeElements not found in theme");return KV(r[0],n,e),n.raw=t,n}function YV(t,e){var r=[mN];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function XV(t,e,r){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var o;try{o=dN(s,{type:"array"})}catch{return}var c=Qi(o,"theme/theme/theme1.xml",!0);if(c)return nS(c,r)}}function QV(t){return t.read_shift(4)}function JV(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=ZV(t,4);break;case 2:e.xclrValue=qN(t);break;case 3:e.xclrValue=QV(t);break;case 4:t.l+=4;break}return t.l+=8,e}function ZV(t,e){return Js(t,e)}function ez(t,e){return Js(t,e)}function tz(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=JV(t);break;case 6:n[1]=ez(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function rz(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),s=[];a-- >0;)s.push(tz(t,r-t.l));return{ixfe:n,ext:s}}function nz(t,e){e.forEach(function(r){r[0]})}function az(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Xs(t)}}function sz(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function iz(t){return t.l+=4,t.read_shift(4)!=0}function oz(t,e,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,c=2;return hu(t,function(h,d,p){switch(p){case 335:n.Types.push({name:h.name});break;case 51:h.forEach(function(y){c==1?n.Cell.push({type:n.Types[y[0]-1].name,index:y[1]}):c==0&&n.Value.push({type:n.Types[y[0]-1].name,index:y[1]})});break;case 337:c=h?1:0;break;case 338:c=2;break;case 35:s.push(p),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!d.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}}),n}function lz(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,s=2,o;return t.replace(Zs,function(c){var h=lr(c);switch(hc(h[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:h.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<n.Types.length;++d)n.Types[d].name==h.name&&(o=n.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[h.t-1].name,index:+h.v}):s==0&&n.Value.push({type:n.Types[h.t-1].name,index:+h.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+h.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+h[0]+" in metadata")}return c}),n}function cz(t){var e=[];if(!t)return e;var r=1;return(t.match(Zs)||[]).forEach(function(n){var a=lr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function uz(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=mr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function fz(t,e,r){var n=[];return hu(t,function(s,o,c){switch(c){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function hz(t,e,r,n){if(!t)return t;var a=n||{},s=!1;hu(t,function(c,h,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!h.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function dz(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function ik(t,e,r,n){var a=Array.isArray(t),s;e.forEach(function(o){var c=oi(o.ref);if(a?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[o.ref],!s){s={t:"z"},a?t[c.r][c.c]=s:t[o.ref]=s;var h=ra(t["!ref"]||"BDWGO1000001:A1");h.s.r>c.r&&(h.s.r=c.r),h.e.r<c.r&&(h.e.r=c.r),h.s.c>c.c&&(h.s.c=c.c),h.e.c<c.c&&(h.e.c=c.c);var d=Kr(h);d!==t["!ref"]&&(t["!ref"]=d)}s.c||(s.c=[]);var p={a:o.author,t:o.t,r:o.r,T:r};o.h&&(p.h=o.h);for(var y=s.c.length-1;y>=0;--y){if(!r&&s.c[y].T)return;r&&!s.c[y].T&&s.c.splice(y,1)}if(r&&n){for(y=0;y<n.length;++y)if(p.a==n[y].id){p.a=n[y].name||p.a;break}}s.c.push(p)})}function mz(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&r.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var h=lr(c[0]),d={author:h.authorId&&r[h.authorId]||"sheetjsghost",ref:h.ref,guid:h.guid},p=oi(h.ref);if(!(e.sheetRows&&e.sheetRows<=p.r)){var y=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!y&&!!y[1]&&$5(y[1])||{r:"",t:"",h:""};d.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),d.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=v.h),n.push(d)}}}}),n}function pz(t,e){var r=[],n=!1,a={},s=0;return t.replace(Zs,function(c,h){var d=lr(c);switch(hc(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=h+c.length;break;case"</text>":a.t=t.slice(s,h).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),r}function gz(t,e){var r=[],n=!1;return t.replace(Zs,function(s){var o=lr(s);switch(hc(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function xz(t){var e={};e.iauthor=t.read_shift(4);var r=Sf(t);return e.rfx=r.s,e.ref=mr(r.s),t.l+=16,e}var yz=Xs;function vz(t,e){var r=[],n=[],a={},s=!1;return hu(t,function(c,h,d){switch(d){case 632:n.push(c);break;case 635:a=c;break;case 637:a.t=c.t,a.h=c.h,a.r=c.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!h.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}var bz="application/vnd.ms-office.vbaProject";function wz(t){var e=$r.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");$r.utils.cfb_add(e,a,t.FileIndex[n].content)}}),$r.write(e)}function _z(){return{"!type":"dialog"}}function kz(){return{"!type":"dialog"}}function Az(){return{"!type":"macro"}}function Ez(){return{"!type":"macro"}}var Ch=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,s,o){var c=!1,h=!1;s.length==0?h=!0:s.charAt(0)=="["&&(h=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return c?p+=e.c:--p,h?d+=e.r:--d,a+(c?"":"$")+Va(p)+(h?"":"$")+ks(d)}return function(a,s){return e=s,a.replace(t,r)}}(),aS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Nz=function(){return function(e,r){return e.replace(aS,function(n,a,s,o,c,h){var d=U5(o)-(s?0:r.c),p=B5(h)-(c?0:r.r),y=p==0?"":c?p+1:"["+p+"]",v=d==0?"":s?d+1:"["+d+"]";return a+"R"+y+"C"+v})}}();function sS(t,e){return t.replace(aS,function(r,n,a,s,o,c){return n+(a=="$"?a+s:Va(U5(s)+e.c))+(o=="$"?o+c:ks(B5(c)+e.r))})}function Sz(t,e,r){var n=ed(e),a=n.s,s=oi(r),o={r:s.r-a.r,c:s.c-a.c};return sS(t,o)}function Tz(t){return t.length!=1}function ok(t){return t.replace(/_xlfn\./g,"")}function ka(t){t.l+=1}function _0(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function iS(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return oS(t);r.biff==12&&(n=4)}var a=t.read_shift(n),s=t.read_shift(n),o=_0(t),c=_0(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function oS(t){var e=_0(t),r=_0(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Cz(t,e,r){if(r.biff<8)return oS(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),s=_0(t),o=_0(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function lS(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Rz(t);var n=t.read_shift(r&&r.biff==12?4:2),a=_0(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Rz(t){var e=_0(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Iz(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Dz(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return jz(t);var a=t.read_shift(n>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:c}}function jz(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function Lz(t,e,r){var n=(t[t.l++]&96)>>5,a=iS(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Oz(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=iS(t,s,r);return[n,a,o]}function Pz(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Mz(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,a]}function Fz(t,e,r){var n=(t[t.l++]&96)>>5,a=Cz(t,e-1,r);return[n,a]}function Bz(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function lk(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Uz(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function Vz(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function zz(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function qz(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Hz(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function cS(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Gz(t){return t.read_shift(2),cS(t)}function $z(t){return t.read_shift(2),cS(t)}function Kz(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=lS(t,0,r);return[n,a]}function Wz(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=Dz(t,0,r);return[n,a]}function Yz(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=lS(t,0,r);return[n,a,s]}function Xz(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[Qq[a],hS[a],n]}function Qz(t,e,r){var n=t[t.l++],a=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:Jz(t);return[a,(s[0]===0?hS:Xq)[s[1]]]}function Jz(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Zz(t,e,r){t.l+=r&&r.biff==2?3:4}function eq(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function tq(t){return t.l++,Tf[t.read_shift(1)]}function rq(t){return t.l++,t.read_shift(2)}function nq(t){return t.l++,t.read_shift(1)!==0}function aq(t){return t.l++,Ws(t)}function sq(t,e,r){return t.l++,up(t,e-1,r)}function iq(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=fa(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Tf[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Ws(t);break;case 2:r[1]=Cf(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function oq(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Sf:vx)(t));return a}function lq(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var c=0;c!=a;++c)o[s][c]=iq(t,r.biff);return o}function cq(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function uq(t,e,r){if(r.biff==5)return fq(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),s=t.read_shift(4);return[n,a,s]}function fq(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function hq(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function dq(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function mq(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function pq(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,a]}var gq=Js,xq=Js,yq=Js;function hp(t,e,r){return t.l+=2,[Iz(t)]}function W5(t){return t.l+=6,[]}var vq=hp,bq=W5,wq=W5,_q=hp;function uS(t){return t.l+=2,[Na(t),t.read_shift(2)&1]}var kq=hp,Aq=uS,Eq=W5,Nq=hp,Sq=hp,Tq=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Cq(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),s=t.read_shift(2),o=Tq[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:a,C:s}}function Rq(t){return t.l+=2,[t.read_shift(4)]}function Iq(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function Dq(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jq(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Lq(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Oq(t){return t.l+=4,[0,0]}var ck={1:{n:"PtgExp",f:eq},2:{n:"PtgTbl",f:yq},3:{n:"PtgAdd",f:ka},4:{n:"PtgSub",f:ka},5:{n:"PtgMul",f:ka},6:{n:"PtgDiv",f:ka},7:{n:"PtgPower",f:ka},8:{n:"PtgConcat",f:ka},9:{n:"PtgLt",f:ka},10:{n:"PtgLe",f:ka},11:{n:"PtgEq",f:ka},12:{n:"PtgGe",f:ka},13:{n:"PtgGt",f:ka},14:{n:"PtgNe",f:ka},15:{n:"PtgIsect",f:ka},16:{n:"PtgUnion",f:ka},17:{n:"PtgRange",f:ka},18:{n:"PtgUplus",f:ka},19:{n:"PtgUminus",f:ka},20:{n:"PtgPercent",f:ka},21:{n:"PtgParen",f:ka},22:{n:"PtgMissArg",f:ka},23:{n:"PtgStr",f:sq},26:{n:"PtgSheet",f:Iq},27:{n:"PtgEndSheet",f:Dq},28:{n:"PtgErr",f:tq},29:{n:"PtgBool",f:nq},30:{n:"PtgInt",f:rq},31:{n:"PtgNum",f:aq},32:{n:"PtgArray",f:Bz},33:{n:"PtgFunc",f:Xz},34:{n:"PtgFuncVar",f:Qz},35:{n:"PtgName",f:cq},36:{n:"PtgRef",f:Kz},37:{n:"PtgArea",f:Lz},38:{n:"PtgMemArea",f:hq},39:{n:"PtgMemErr",f:gq},40:{n:"PtgMemNoMem",f:xq},41:{n:"PtgMemFunc",f:dq},42:{n:"PtgRefErr",f:mq},43:{n:"PtgAreaErr",f:Pz},44:{n:"PtgRefN",f:Wz},45:{n:"PtgAreaN",f:Fz},46:{n:"PtgMemAreaN",f:jq},47:{n:"PtgMemNoMemN",f:Lq},57:{n:"PtgNameX",f:uq},58:{n:"PtgRef3d",f:Yz},59:{n:"PtgArea3d",f:Oz},60:{n:"PtgRefErr3d",f:pq},61:{n:"PtgAreaErr3d",f:Mz},255:{}},Pq={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Mq={1:{n:"PtgElfLel",f:uS},2:{n:"PtgElfRw",f:Nq},3:{n:"PtgElfCol",f:vq},6:{n:"PtgElfRwV",f:Sq},7:{n:"PtgElfColV",f:_q},10:{n:"PtgElfRadical",f:kq},11:{n:"PtgElfRadicalS",f:Eq},13:{n:"PtgElfColS",f:bq},15:{n:"PtgElfColSV",f:wq},16:{n:"PtgElfRadicalLel",f:Aq},25:{n:"PtgList",f:Cq},29:{n:"PtgSxName",f:Rq},255:{}},Fq={0:{n:"PtgAttrNoop",f:Oq},1:{n:"PtgAttrSemi",f:Hz},2:{n:"PtgAttrIf",f:zz},4:{n:"PtgAttrChoose",f:Uz},8:{n:"PtgAttrGoto",f:Vz},16:{n:"PtgAttrSum",f:Zz},32:{n:"PtgAttrBaxcel",f:lk},33:{n:"PtgAttrBaxcel",f:lk},64:{n:"PtgAttrSpace",f:Gz},65:{n:"PtgAttrSpaceSemi",f:$z},128:{n:"PtgAttrIfError",f:qz},255:{}};function dp(t,e,r,n){if(n.biff<8)return Js(t,e);for(var a=t.l+e,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=lq(t,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=oq(t,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=a-t.l,e!==0&&s.push(Js(t,e)),s}function mp(t,e,r){for(var n=t.l+e,a,s,o=[];n!=t.l;)e=n-t.l,s=t[t.l],a=ck[s]||ck[Pq[s]],(s===24||s===25)&&(a=(s===24?Mq:Fq)[t[t.l+1]]),!a||!a.f?Js(t,e):o.push([a.n,a.f(t,e,r)]);return o}function Bq(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var Uq={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Vq(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function fS(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function uk(t,e,r){var n=fS(t,e,r);return n=="#REF"?n:Vq(n,r)}function Hs(t,e,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},c=[],h,d,p,y=0,v=0,b,A="";if(!t[0]||!t[0][0])return"";for(var k=-1,E="",S=0,j=t[0].length;S<j;++S){var M=t[0][S];switch(M[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=c.pop(),d=c.pop(),k>=0){switch(t[0][k][1][0]){case 0:E=ta(" ",t[0][k][1][1]);break;case 1:E=ta("\r",t[0][k][1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][k][1][0])}d=d+E,k=-1}c.push(d+Uq[M[0]]+h);break;case"PtgIsect":h=c.pop(),d=c.pop(),c.push(d+" "+h);break;case"PtgUnion":h=c.pop(),d=c.pop(),c.push(d+","+h);break;case"PtgRange":h=c.pop(),d=c.pop(),c.push(d+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=fm(M[1][1],o,a),c.push(hm(p,s));break;case"PtgRefN":p=r?fm(M[1][1],r,a):M[1][1],c.push(hm(p,s));break;case"PtgRef3d":y=M[1][1],p=fm(M[1][2],o,a),A=uk(n,y,a),c.push(A+"!"+hm(p,s));break;case"PtgFunc":case"PtgFuncVar":var H=M[1][0],K=M[1][1];H||(H=0),H&=127;var X=H==0?[]:c.slice(-H);c.length-=H,K==="User"&&(K=X.shift()),c.push(K+"("+X.join(",")+")");break;case"PtgBool":c.push(M[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(M[1]);break;case"PtgNum":c.push(String(M[1]));break;case"PtgStr":c.push('"'+M[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(M[1]);break;case"PtgAreaN":b=H3(M[1][1],r?{s:r}:o,a),c.push(iy(b,a));break;case"PtgArea":b=H3(M[1][1],o,a),c.push(iy(b,a));break;case"PtgArea3d":y=M[1][1],b=M[1][2],A=uk(n,y,a),c.push(A+"!"+iy(b,a));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=M[1][2];var P=(n.names||[])[v-1]||(n[0]||[])[v],D=P?P.Name:"SH33TJSNAME"+String(v);D&&D.slice(0,6)=="_xlfn."&&!a.xlfn&&(D=D.slice(6)),c.push(D);break;case"PtgNameX":var I=M[1][1];v=M[1][2];var U;if(a.biff<=5)I<0&&(I=-I),n[I]&&(U=n[I][v]);else{var R="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][v]&&n[I][v].itab>0&&(R=n.SheetNames[n[I][v].itab-1]+"!"):R=n.SheetNames[v-1]+"!"),n[I]&&n[I][v])R+=n[I][v].Name;else if(n[0]&&n[0][v])R+=n[0][v].Name;else{var C=(fS(n,I,a)||"").split(";;");C[v-1]?R=C[v-1]:R+="SH33TJSERRX"}c.push(R);break}U||(U={Name:"SH33TJSERRY"}),c.push(U.Name);break;case"PtgParen":var B="(",W=")";if(k>=0){switch(E="",t[0][k][1][0]){case 2:B=ta(" ",t[0][k][1][1])+B;break;case 3:B=ta("\r",t[0][k][1][1])+B;break;case 4:W=ta(" ",t[0][k][1][1])+W;break;case 5:W=ta("\r",t[0][k][1][1])+W;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][k][1][0])}k=-1}c.push(B+c.pop()+W);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:M[1][1],r:M[1][0]};var ue={c:r.c,r:r.r};if(n.sharedf[mr(p)]){var ae=n.sharedf[mr(p)];c.push(Hs(ae,o,ue,n,a))}else{var le=!1;for(h=0;h!=n.arrayf.length;++h)if(d=n.arrayf[h],!(p.c<d[0].s.c||p.c>d[0].e.c)&&!(p.r<d[0].s.r||p.r>d[0].e.r)){c.push(Hs(d[1],o,ue,n,a)),le=!0;break}le||c.push(M[1])}break;case"PtgArray":c.push("{"+Bq(M[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":k=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+M[1].idx+"[#"+M[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(M));default:throw new Error("Unrecognized Formula Token: "+String(M))}var se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&k>=0&&se.indexOf(t[0][S][0])==-1){M=t[0][k];var ne=!0;switch(M[1][0]){case 4:ne=!1;case 0:E=ta(" ",M[1][1]);break;case 5:ne=!1;case 1:E=ta("\r",M[1][1]);break;default:if(E="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+M[1][0])}c.push((ne?E:"")+c.pop()+(ne?"":E)),k=-1}}if(c.length>1&&a.WTF)throw new Error("bad formula stack");return c[0]}function zq(t,e,r){var n=t.l+e,a=r.biff==2?1:2,s,o=t.read_shift(a);if(o==65535)return[[],Js(t,e-2)];var c=mp(t,o,r);return e!==o+a&&(s=dp(t,e-o-a,c,r)),t.l=n,[c,s]}function qq(t,e,r){var n=t.l+e,a=r.biff==2?1:2,s,o=t.read_shift(a);if(o==65535)return[[],Js(t,e-2)];var c=mp(t,o,r);return e!==o+a&&(s=dp(t,e-o-a,c,r)),t.l=n,[c,s]}function Hq(t,e,r,n){var a=t.l+e,s=mp(t,n,r),o;return a!==t.l&&(o=dp(t,a-t.l,s,r)),[s,o]}function Gq(t,e,r){var n=t.l+e,a,s=t.read_shift(2),o=mp(t,s,r);return s==65535?[[],Js(t,e-2)]:(e!==s+2&&(a=dp(t,n-s-2,o,r)),[o,a])}function $q(t){var e;if(Kc(t,t.l+6)!==65535)return[Ws(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function cy(t,e,r){var n=t.l+e,a=dc(t);r.biff==2&&++t.l;var s=$q(t),o=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var c=qq(t,n-t.l,r);return{cell:a,val:s[0],formula:c,shared:o>>3&1,tt:s[1]}}function bx(t,e,r){var n=t.read_shift(4),a=mp(t,n,r),s=t.read_shift(4),o=s>0?dp(t,s,a,r):null;return[a,o]}var Kq=bx,wx=bx,Wq=bx,Yq=bx,Xq={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},hS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Qq={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function fk(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function uy(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var gm={},Rh={};function xm(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function dS(t,e,r,n,a,s){try{n.cellNF&&(t.z=xr[e])}catch(c){if(n.WTF)throw c}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=ss(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(xr[e]==null&&af(JM[e]||"General",e),t.t==="e")t.w=t.w||Tf[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Om(t.v);else if(t.t==="d"){var o=ui(t.v);(o|0)===o?t.w=o.toString(10):t.w=Om(o)}else{if(t.v===void 0)return"";t.w=xf(t.v,Rh)}else t.t==="d"?t.w=Io(e,ui(t.v),Rh):t.w=Io(e,t.v,Rh)}catch(c){if(n.WTF)throw c}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=I1(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=I1(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(n.WTF&&s.Fills)throw c}}}function Jq(t,e){var r=ra(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Kr(r))}var Zq=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,eH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,tH=/<(?:\w:)?hyperlink [^>]*>/mg,rH=/"(\w*:\w*)"/,nH=/<(?:\w:)?col\b[^>]*[\/]?>/g,aH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,sH=/<(?:\w:)?pageMargins[^>]*\/>/g,mS=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,iH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,oH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function lH(t,e,r,n,a,s,o){if(!t)return t;n||(n={"!id":{}});var c=e.dense?[]:{},h={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",p="",y=t.match(eH);y?(d=t.slice(0,y.index),p=t.slice(y.index+y[0].length)):d=p=t;var v=d.match(mS);v?Y5(v[0],c,a,r):(v=d.match(iH))&&cH(v[0],v[1]||"",c,a,r);var b=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(b>0){var A=d.slice(b,b+50).match(rH);A&&Jq(c,A[1])}var k=d.match(oH);k&&k[1]&&pH(k[1],a);var E=[];if(e.cellStyles){var S=d.match(nH);S&&hH(E,S)}y&&gH(y[1],c,e,h,s,o);var j=p.match(aH);j&&(c["!autofilter"]=dH(j[0]));var M=[],H=p.match(Zq);if(H)for(b=0;b!=H.length;++b)M[b]=ra(H[b].slice(H[b].indexOf('"')+1));var K=p.match(tH);K&&uH(c,K,n);var X=p.match(sH);if(X&&(c["!margins"]=fH(lr(X[0]))),!c["!ref"]&&h.e.c>=h.s.c&&h.e.r>=h.s.r&&(c["!ref"]=Kr(h)),e.sheetRows>0&&c["!ref"]){var P=ra(c["!ref"]);e.sheetRows<=+P.e.r&&(P.e.r=e.sheetRows-1,P.e.r>h.e.r&&(P.e.r=h.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>h.e.c&&(P.e.c=h.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Kr(P))}return E.length>0&&(c["!cols"]=E),M.length>0&&(c["!merges"]=M),c}function Y5(t,e,r,n){var a=lr(t);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Jr(Rn(a.codeName)))}function cH(t,e,r,n,a){Y5(t.slice(0,t.indexOf(">")),r,n,a)}function uH(t,e,r){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var s=lr(Rn(e[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Jr(s.location))):(s.Target="#"+Jr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=ra(s.ref),h=c.s.r;h<=c.e.r;++h)for(var d=c.s.c;d<=c.e.c;++d){var p=mr({c:d,r:h});n?(t[h]||(t[h]=[]),t[h][d]||(t[h][d]={t:"z",v:void 0}),t[h][d].l=s):(t[p]||(t[p]={t:"z",v:void 0}),t[p].l=s)}}}function fH(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function hH(t,e){for(var r=!1,n=0;n!=e.length;++n){var a=lr(e[n],!0);a.hidden&&(a.hidden=Fn(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,K5(a.width)),zh(a);s<=o;)t[s++]=_s(a)}}function dH(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var mH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function pH(t,e){e.Views||(e.Views=[{}]),(t.match(mH)||[]).forEach(function(r,n){var a=lr(r);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),Fn(a.rightToLeft)&&(e.Views[n].RTL=!0)})}var gH=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Pm("v"),o=Pm("f");return function(h,d,p,y,v,b){for(var A=0,k="",E=[],S=[],j=0,M=0,H=0,K="",X,P,D=0,I=0,U,R,C=0,B=0,W=Array.isArray(b.CellXf),ue,ae=[],le=[],se=Array.isArray(d),ne=[],J={},Ne=!1,L=!!p.sheetStubs,z=h.split(e),G=0,Y=z.length;G!=Y;++G){k=z[G].trim();var Z=k.length;if(Z!==0){var de=0;e:for(A=0;A<Z;++A)switch(k[A]){case">":if(k[A-1]!="/"){++A;break e}if(p&&p.cellStyles){if(P=lr(k.slice(de,A),!0),D=P.r!=null?parseInt(P.r,10):D+1,I=-1,p.sheetRows&&p.sheetRows<D)continue;J={},Ne=!1,P.ht&&(Ne=!0,J.hpt=parseFloat(P.ht),J.hpx=Um(J.hpt)),P.hidden=="1"&&(Ne=!0,J.hidden=!0),P.outlineLevel!=null&&(Ne=!0,J.level=+P.outlineLevel),Ne&&(ne[D-1]=J)}break;case"<":de=A;break}if(de>=A)break;if(P=lr(k.slice(de,A),!0),D=P.r!=null?parseInt(P.r,10):D+1,I=-1,!(p.sheetRows&&p.sheetRows<D)){y.s.r>D-1&&(y.s.r=D-1),y.e.r<D-1&&(y.e.r=D-1),p&&p.cellStyles&&(J={},Ne=!1,P.ht&&(Ne=!0,J.hpt=parseFloat(P.ht),J.hpx=Um(J.hpt)),P.hidden=="1"&&(Ne=!0,J.hidden=!0),P.outlineLevel!=null&&(Ne=!0,J.level=+P.outlineLevel),Ne&&(ne[D-1]=J)),E=k.slice(A).split(t);for(var xe=0;xe!=E.length&&E[xe].trim().charAt(0)=="<";++xe);for(E=E.slice(xe),A=0;A!=E.length;++A)if(k=E[A].trim(),k.length!==0){if(S=k.match(r),j=A,M=0,H=0,k="<c "+(k.slice(0,1)=="<"?">":"")+k,S!=null&&S.length===2){for(j=0,K=S[1],M=0;M!=K.length&&!((H=K.charCodeAt(M)-64)<1||H>26);++M)j=26*j+H;--j,I=j}else++I;for(M=0;M!=k.length&&k.charCodeAt(M)!==62;++M);if(++M,P=lr(k.slice(0,M),!0),P.r||(P.r=mr({r:D-1,c:I})),K=k.slice(M),X={t:""},(S=K.match(s))!=null&&S[1]!==""&&(X.v=Jr(S[1])),p.cellFormula){if((S=K.match(o))!=null&&S[1]!==""){if(X.f=Jr(Rn(S[1])).replace(/\r\n/g,`
`),p.xlfn||(X.f=ok(X.f)),S[0].indexOf('t="array"')>-1)X.F=(K.match(a)||[])[1],X.F.indexOf(":")>-1&&ae.push([ra(X.F),X.F]);else if(S[0].indexOf('t="shared"')>-1){R=lr(S[0]);var we=Jr(Rn(S[1]));p.xlfn||(we=ok(we)),le[parseInt(R.si,10)]=[R,we,P.r]}}else(S=K.match(/<f[^>]*\/>/))&&(R=lr(S[0]),le[R.si]&&(X.f=Sz(le[R.si][1],le[R.si][2],P.r)));var je=oi(P.r);for(M=0;M<ae.length;++M)je.r>=ae[M][0].s.r&&je.r<=ae[M][0].e.r&&je.c>=ae[M][0].s.c&&je.c<=ae[M][0].e.c&&(X.F=ae[M][1])}if(P.t==null&&X.v===void 0)if(X.f||X.F)X.v=0,X.t="n";else if(L)X.t="z";else continue;else X.t=P.t||"n";switch(y.s.c>I&&(y.s.c=I),y.e.c<I&&(y.e.c=I),X.t){case"n":if(X.v==""||X.v==null){if(!L)continue;X.t="z"}else X.v=parseFloat(X.v);break;case"s":if(typeof X.v>"u"){if(!L)continue;X.t="z"}else U=gm[parseInt(X.v,10)],X.v=U.t,X.r=U.r,p.cellHTML&&(X.h=U.h);break;case"str":X.t="s",X.v=X.v!=null?Rn(X.v):"",p.cellHTML&&(X.h=P5(X.v));break;case"inlineStr":S=K.match(n),X.t="s",S!=null&&(U=$5(S[1]))?(X.v=U.t,p.cellHTML&&(X.h=U.h)):X.v="";break;case"b":X.v=Fn(X.v);break;case"d":p.cellDates?X.v=ss(X.v,1):(X.v=ui(ss(X.v,1)),X.t="n");break;case"e":(!p||p.cellText!==!1)&&(X.w=X.v),X.v=ON[X.v];break}if(C=B=0,ue=null,W&&P.s!==void 0&&(ue=b.CellXf[P.s],ue!=null&&(ue.numFmtId!=null&&(C=ue.numFmtId),p.cellStyles&&ue.fillId!=null&&(B=ue.fillId))),dS(X,C,B,p,v,b),p.cellDates&&W&&X.t=="n"&&Zh(xr[C])&&(X.t="d",X.v=yx(X.v)),P.cm&&p.xlmeta){var tt=(p.xlmeta.Cell||[])[+P.cm-1];tt&&tt.type=="XLDAPR"&&(X.D=!0)}if(se){var ee=oi(P.r);d[ee.r]||(d[ee.r]=[]),d[ee.r][ee.c]=X}else d[P.r]=X}}}}ne.length>0&&(d["!rows"]=ne)}}();function xH(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var yH=Sf;function vH(){}function bH(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=zF(t),r}function wH(t){var e=Do(t);return[e]}function _H(t){var e=Nf(t);return[e]}function kH(t){var e=Do(t),r=t.read_shift(1);return[e,r,"b"]}function AH(t){var e=Nf(t),r=t.read_shift(1);return[e,r,"b"]}function EH(t){var e=Do(t),r=t.read_shift(1);return[e,r,"e"]}function NH(t){var e=Nf(t),r=t.read_shift(1);return[e,r,"e"]}function SH(t){var e=Do(t),r=t.read_shift(4);return[e,r,"s"]}function TH(t){var e=Nf(t),r=t.read_shift(4);return[e,r,"s"]}function CH(t){var e=Do(t),r=Ws(t);return[e,r,"n"]}function pS(t){var e=Nf(t),r=Ws(t);return[e,r,"n"]}function RH(t){var e=Do(t),r=q5(t);return[e,r,"n"]}function IH(t){var e=Nf(t),r=q5(t);return[e,r,"n"]}function DH(t){var e=Do(t),r=V5(t);return[e,r,"is"]}function jH(t){var e=Do(t),r=Xs(t);return[e,r,"str"]}function LH(t){var e=Nf(t),r=Xs(t);return[e,r,"str"]}function OH(t,e,r){var n=t.l+e,a=Do(t);a.r=r["!row"];var s=t.read_shift(1),o=[a,s,"b"];if(r.cellFormula){t.l+=2;var c=wx(t,n-t.l,r);o[3]=Hs(c,null,a,r.supbooks,r)}else t.l=n;return o}function PH(t,e,r){var n=t.l+e,a=Do(t);a.r=r["!row"];var s=t.read_shift(1),o=[a,s,"e"];if(r.cellFormula){t.l+=2;var c=wx(t,n-t.l,r);o[3]=Hs(c,null,a,r.supbooks,r)}else t.l=n;return o}function MH(t,e,r){var n=t.l+e,a=Do(t);a.r=r["!row"];var s=Ws(t),o=[a,s,"n"];if(r.cellFormula){t.l+=2;var c=wx(t,n-t.l,r);o[3]=Hs(c,null,a,r.supbooks,r)}else t.l=n;return o}function FH(t,e,r){var n=t.l+e,a=Do(t);a.r=r["!row"];var s=Xs(t),o=[a,s,"str"];if(r.cellFormula){t.l+=2;var c=wx(t,n-t.l,r);o[3]=Hs(c,null,a,r.supbooks,r)}else t.l=n;return o}var BH=Sf;function UH(t,e){var r=t.l+e,n=Sf(t),a=z5(t),s=Xs(t),o=Xs(t),c=Xs(t);t.l=r;var h={rfx:n,relId:a,loc:s,display:c};return o&&(h.Tooltip=o),h}function VH(){}function zH(t,e,r){var n=t.l+e,a=DN(t),s=t.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var c=Kq(t,n-t.l,r);o[1]=c}else t.l=n;return o}function qH(t,e,r){var n=t.l+e,a=Sf(t),s=[a];if(r.cellFormula){var o=Yq(t,n-t.l,r);s[1]=o,t.l=n}else t.l=n;return s}var HH=["left","right","top","bottom","header","footer"];function GH(t){var e={};return HH.forEach(function(r){e[r]=Ws(t)}),e}function $H(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function KH(){}function WH(){}function YH(t,e,r,n,a,s,o){if(!t)return t;var c=e||{};n||(n={"!id":{}});var h=c.dense?[]:{},d,p={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=!1,v=!1,b,A,k,E,S,j,M,H,K,X=[];c.biff=12,c["!row"]=0;var P=0,D=!1,I=[],U={},R=c.supbooks||a.supbooks||[[]];if(R.sharedf=U,R.arrayf=I,R.SheetNames=a.SheetNames||a.Sheets.map(function(se){return se.name}),!c.supbooks&&(c.supbooks=R,a.Names))for(var C=0;C<a.Names.length;++C)R[0][C+1]=a.Names[C];var B=[],W=[],ue=!1;L1[16]={n:"BrtShortReal",f:pS};var ae;if(hu(t,function(ne,J,Ne){if(!v)switch(Ne){case 148:d=ne;break;case 0:b=ne,c.sheetRows&&c.sheetRows<=b.r&&(v=!0),H=ks(E=b.r),c["!row"]=b.r,(ne.hidden||ne.hpt||ne.level!=null)&&(ne.hpt&&(ne.hpx=Um(ne.hpt)),W[ne.r]=ne);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(A={t:ne[2]},ne[2]){case"n":A.v=ne[1];break;case"s":M=gm[ne[1]],A.v=M.t,A.r=M.r;break;case"b":A.v=!!ne[1];break;case"e":A.v=ne[1],c.cellText!==!1&&(A.w=Tf[A.v]);break;case"str":A.t="s",A.v=ne[1];break;case"is":A.t="s",A.v=ne[1].t;break}if((k=o.CellXf[ne[0].iStyleRef])&&dS(A,k.numFmtId,null,c,s,o),S=ne[0].c==-1?S+1:ne[0].c,c.dense?(h[E]||(h[E]=[]),h[E][S]=A):h[Va(S)+H]=A,c.cellFormula){for(D=!1,P=0;P<I.length;++P){var L=I[P];b.r>=L[0].s.r&&b.r<=L[0].e.r&&S>=L[0].s.c&&S<=L[0].e.c&&(A.F=Kr(L[0]),D=!0)}!D&&ne.length>3&&(A.f=ne[3])}if(p.s.r>b.r&&(p.s.r=b.r),p.s.c>S&&(p.s.c=S),p.e.r<b.r&&(p.e.r=b.r),p.e.c<S&&(p.e.c=S),c.cellDates&&k&&A.t=="n"&&Zh(xr[k.numFmtId])){var z=tf(A.v);z&&(A.t="d",A.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}ae&&(ae.type=="XLDAPR"&&(A.D=!0),ae=void 0);break;case 1:case 12:if(!c.sheetStubs||y)break;A={t:"z",v:void 0},S=ne[0].c==-1?S+1:ne[0].c,c.dense?(h[E]||(h[E]=[]),h[E][S]=A):h[Va(S)+H]=A,p.s.r>b.r&&(p.s.r=b.r),p.s.c>S&&(p.s.c=S),p.e.r<b.r&&(p.e.r=b.r),p.e.c<S&&(p.e.c=S),ae&&(ae.type=="XLDAPR"&&(A.D=!0),ae=void 0);break;case 176:X.push(ne);break;case 49:ae=((c.xlmeta||{}).Cell||[])[ne-1];break;case 494:var G=n["!id"][ne.relId];for(G?(ne.Target=G.Target,ne.loc&&(ne.Target+="#"+ne.loc),ne.Rel=G):ne.relId==""&&(ne.Target="#"+ne.loc),E=ne.rfx.s.r;E<=ne.rfx.e.r;++E)for(S=ne.rfx.s.c;S<=ne.rfx.e.c;++S)c.dense?(h[E]||(h[E]=[]),h[E][S]||(h[E][S]={t:"z",v:void 0}),h[E][S].l=ne):(j=mr({c:S,r:E}),h[j]||(h[j]={t:"z",v:void 0}),h[j].l=ne);break;case 426:if(!c.cellFormula)break;I.push(ne),K=c.dense?h[E][S]:h[Va(S)+H],K.f=Hs(ne[1],p,{r:b.r,c:S},R,c),K.F=Kr(ne[0]);break;case 427:if(!c.cellFormula)break;U[mr(ne[0].s)]=ne[1],K=c.dense?h[E][S]:h[Va(S)+H],K.f=Hs(ne[1],p,{r:b.r,c:S},R,c);break;case 60:if(!c.cellStyles)break;for(;ne.e>=ne.s;)B[ne.e--]={width:ne.w/256,hidden:!!(ne.flags&1),level:ne.level},ue||(ue=!0,K5(ne.w/256)),zh(B[ne.e+1]);break;case 161:h["!autofilter"]={ref:Kr(ne)};break;case 476:h["!margins"]=ne;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),ne.name&&(a.Sheets[r].CodeName=ne.name),(ne.above||ne.left)&&(h["!outline"]={above:ne.above,left:ne.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),ne.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:y=!0;break;case 36:y=!1;break;case 37:y=!0;break;case 38:y=!1;break;default:if(!J.T){if(!y||c.WTF)throw new Error("Unexpected record 0x"+Ne.toString(16))}}},c),delete c.supbooks,delete c["!row"],!h["!ref"]&&(p.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(h["!ref"]=Kr(d||p)),c.sheetRows&&h["!ref"]){var le=ra(h["!ref"]);c.sheetRows<=+le.e.r&&(le.e.r=c.sheetRows-1,le.e.r>p.e.r&&(le.e.r=p.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>p.e.c&&(le.e.c=p.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),h["!fullref"]=h["!ref"],h["!ref"]=Kr(le))}return X.length>0&&(h["!merges"]=X),B.length>0&&(h["!cols"]=B),W.length>0&&(h["!rows"]=W),h}function XH(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=r?+o[2]:o[2])});var a=Jr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,a,n]}function QH(t,e,r,n,a,s){var o=s||{"!type":"chart"};if(!t)return s;var c=0,h=0,d="A",p={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(y){var v=XH(y);p.s.r=p.s.c=0,p.e.c=c,d=Va(c),v[0].forEach(function(b,A){o[d+ks(A)]={t:"n",v:b,z:v[1]},h=A}),p.e.r<h&&(p.e.r=h),++c}),c>0&&(o["!ref"]=Kr(p)),o}function JH(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,c=t.match(mS);return c&&Y5(c[0],s,a,r),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function ZH(t,e){t.l+=10;var r=Xs(t);return{name:r}}function eG(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return hu(t,function(h,d,p){switch(p){case 550:s["!rel"]=h;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),h.name&&(a.Sheets[r].CodeName=h.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var gS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],tG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],rG=[],nG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function hk(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],a=0;a!=e.length;++a){var s=e[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Fn(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function dk(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Fn(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function xS(t){dk(t.WBProps,gS),dk(t.CalcPr,nG),hk(t.WBView,tG),hk(t.Sheets,rG),Rh.date1904=Fn(t.WBProps.date1904)}var aG="][*?/\\".split("");function sG(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return aG.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var iG=/<\w+:workbook/;function oG(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(t.replace(Zs,function(h,d){var p=lr(h);switch(hc(p[0])){case"<?xml":break;case"<workbook":h.match(iG)&&(a="xmlns"+h.match(/<(\w+):/)[1]),r.xmlns=p[a];break;case"</workbook>":break;case"<fileVersion":delete p[0],r.AppVersion=p;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":gS.forEach(function(y){if(p[y[0]]!=null)switch(y[2]){case"bool":r.WBProps[y[0]]=Fn(p[y[0]]);break;case"int":r.WBProps[y[0]]=parseInt(p[y[0]],10);break;default:r.WBProps[y[0]]=p[y[0]]}}),p.codeName&&(r.WBProps.CodeName=Rn(p.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete p[0],r.WBView.push(p);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(p.state){case"hidden":p.Hidden=1;break;case"veryHidden":p.Hidden=2;break;default:p.Hidden=0}delete p.state,p.name=Jr(Rn(p.name)),delete p[0],r.Sheets.push(p);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Rn(p.name),p.comment&&(s.Comment=p.comment),p.localSheetId&&(s.Sheet=+p.localSheetId),Fn(p.hidden||"0")&&(s.Hidden=!0),o=d+h.length;break;case"</definedName>":s.Ref=Jr(Rn(t.slice(o,d))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete p[0],r.CalcPr=p;break;case"<calcPr/>":delete p[0],r.CalcPr=p;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+p[0]+" in workbook")}return h}),EF.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return xS(r),r}function lG(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=ov(t),r.name=Xs(t),r}function cG(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?Xs(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function uG(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function fG(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),s=qF(t),o=Wq(t,0,r),c=z5(t);t.l=n;var h={Name:s,Ptg:o};return a<268435455&&(h.Sheet=a),c&&(h.Comment=c),h}function hG(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],L1[16]={n:"BrtFRTArchID$",f:uG},hu(t,function(h,d,p){switch(p){case 156:o.SheetNames.push(h.name),r.Sheets.push(h);break;case 153:r.WBProps=h;break;case 39:h.Sheet!=null&&(e.SID=h.Sheet),h.Ref=Hs(h.Ptg,null,null,o,e),delete e.SID,delete h.Ptg,s.push(h);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([p,h]):o[0]=[p,h],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(h),o.XTI=o.XTI.concat(h);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(p),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(p),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}},e),xS(r),r.Names=s,r.supbooks=o,r}function dG(t,e,r){return e.slice(-4)===".bin"?hG(t,r):oG(t,r)}function mG(t,e,r,n,a,s,o,c){return e.slice(-4)===".bin"?YH(t,n,r,a,s,o,c):lH(t,n,r,a,s,o,c)}function pG(t,e,r,n,a,s,o,c){return e.slice(-4)===".bin"?eG(t,n,r,a,s):JH(t,n,r,a,s)}function gG(t,e,r,n,a,s,o,c){return e.slice(-4)===".bin"?Az():Ez()}function xG(t,e,r,n,a,s,o,c){return e.slice(-4)===".bin"?_z():kz()}function yG(t,e,r,n){return e.slice(-4)===".bin"?BV(t,r,n):jV(t,r,n)}function vG(t,e,r){return nS(t,r)}function bG(t,e,r){return e.slice(-4)===".bin"?tV(t,r):ZU(t,r)}function wG(t,e,r){return e.slice(-4)===".bin"?vz(t,r):mz(t,r)}function _G(t,e,r){return e.slice(-4)===".bin"?fz(t):cz(t)}function kG(t,e,r,n){return r.slice(-4)===".bin"?hz(t,e,r,n):void 0}function AG(t,e,r){return e.slice(-4)===".bin"?oz(t,e,r):lz(t,e,r)}var yS=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,vS=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function al(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=t.match(yS),s,o,c,h;if(a)for(h=0;h!=a.length;++h)s=a[h].match(vS),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(o+1),n[c]=s[2].slice(1,s[2].length-1));return n}function EG(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(yS),a,s,o,c;if(n)for(c=0;c!=n.length;++c)a=n[c].match(vS),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var ym;function NG(t,e){var r=ym[t]||Jr(t);return r==="General"?xf(e):Io(r,e)}function SG(t,e,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Fn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ss(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Jr(e)]=a}function TG(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Tf[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Om(t.v):t.w=xf(t.v):t.w=NG(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=ym[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Zh(n)){var a=tf(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function CG(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=SV[n.Pattern]||n.Pattern)}t[e.ID]=e}function RG(t,e,r,n,a,s,o,c,h,d){var p="General",y=n.StyleID,v={};d=d||{};var b=[],A=0;for(y===void 0&&c&&(y=c.StyleID),y===void 0&&o&&(y=o.StyleID);s[y]!==void 0&&(s[y].nf&&(p=s[y].nf),s[y].Interior&&b.push(s[y].Interior),!!s[y].Parent);)y=s[y].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Fn(t);break;case"String":n.t="s",n.r=O3(Jr(t)),n.v=t.indexOf("<")>-1?Jr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(ss(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Jr(t):n.v<60&&(n.v=n.v-1),(!p||p=="General")&&(p="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=ON[t],d.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=O3(e||t));break}if(TG(n,p,d),d.cellFormula!==!1)if(n.Formula){var k=Jr(n.Formula);k.charCodeAt(0)==61&&(k=k.slice(1)),n.f=Ch(k,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Ch("RC:RC",a):n.ArrayRange&&(n.F=Ch(n.ArrayRange,a),h.push([ra(n.F),n.F]))}else for(A=0;A<h.length;++A)a.r>=h[A][0].s.r&&a.r<=h[A][0].e.r&&a.c>=h[A][0].s.c&&a.c<=h[A][0].e.c&&(n.F=h[A][1]);d.cellStyles&&(b.forEach(function(E){!v.patternType&&E.patternType&&(v.patternType=E.patternType)}),n.s=v),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function IG(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function fy(t,e){var r=e||{};oN();var n=Qd(M5(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Rn(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=_s(r);return o.type="string",Fm.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(xt){a.indexOf("<"+xt)>=0&&(s=!0)}),s)return UG(n,r);ym={"General Number":"General","General Date":xr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":xr[15],"Short Date":xr[14],"Long Time":xr[19],"Medium Time":xr[18],"Short Time":xr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:xr[2],Standard:xr[4],Percent:xr[10],Scientific:xr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,h=[],d,p={},y=[],v=r.dense?[]:{},b="",A={},k={},E=al('<Data ss:Type="String">'),S=0,j=0,M=0,H={s:{r:2e6,c:2e6},e:{r:0,c:0}},K={},X={},P="",D=0,I=[],U={},R={},C=0,B=[],W=[],ue={},ae=[],le,se=!1,ne=[],J=[],Ne={},L=0,z=0,G={Sheets:[],WBProps:{date1904:!1}},Y={};Mm.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";c=Mm.exec(n);)switch(c[3]=(Z=c[3]).toLowerCase()){case"data":if(Z=="data"){if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break}if(h[h.length-1][1])break;c[1]==="/"?RG(n.slice(S,c.index),P,E,h[h.length-1][0]=="comment"?ue:A,{c:j,r:M},K,ae[j],k,ne,r):(P="",E=al(c[0]),S=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(W.length>0&&(A.c=W),(!r.sheetRows||r.sheetRows>M)&&A.v!==void 0&&(r.dense?(v[M]||(v[M]=[]),v[M][j]=A):v[Va(j)+ks(M)]=A),A.HRef&&(A.l={Target:Jr(A.HRef)},A.HRefScreenTip&&(A.l.Tooltip=A.HRefScreenTip),delete A.HRef,delete A.HRefScreenTip),(A.MergeAcross||A.MergeDown)&&(L=j+(parseInt(A.MergeAcross,10)|0),z=M+(parseInt(A.MergeDown,10)|0),I.push({s:{c:j,r:M},e:{c:L,r:z}})),!r.sheetStubs)A.MergeAcross?j=L+1:++j;else if(A.MergeAcross||A.MergeDown){for(var de=j;de<=L;++de)for(var xe=M;xe<=z;++xe)(de>j||xe>M)&&(r.dense?(v[xe]||(v[xe]=[]),v[xe][de]={t:"z"}):v[Va(de)+ks(xe)]={t:"z"});j=L+1}else++j;else A=EG(c[0]),A.Index&&(j=+A.Index-1),j<H.s.c&&(H.s.c=j),j>H.e.c&&(H.e.c=j),c[0].slice(-2)==="/>"&&++j,W=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(M<H.s.r&&(H.s.r=M),M>H.e.r&&(H.e.r=M),c[0].slice(-2)==="/>"&&(k=al(c[0]),k.Index&&(M=+k.Index-1)),j=0,++M):(k=al(c[0]),k.Index&&(M=+k.Index-1),Ne={},(k.AutoFitHeight=="0"||k.Height)&&(Ne.hpx=parseInt(k.Height,10),Ne.hpt=rS(Ne.hpx),J[M]=Ne),k.Hidden=="1"&&(Ne.hidden=!0,J[M]=Ne));break;case"worksheet":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));y.push(b),H.s.r<=H.e.r&&H.s.c<=H.e.c&&(v["!ref"]=Kr(H),r.sheetRows&&r.sheetRows<=H.e.r&&(v["!fullref"]=v["!ref"],H.e.r=r.sheetRows-1,v["!ref"]=Kr(H))),I.length&&(v["!merges"]=I),ae.length>0&&(v["!cols"]=ae),J.length>0&&(v["!rows"]=J),p[b]=v}else H={s:{r:2e6,c:2e6},e:{r:0,c:0}},M=j=0,h.push([c[3],!1]),d=al(c[0]),b=Jr(d.Name),v=r.dense?[]:{},I=[],ne=[],J=[],Y={name:b,Hidden:0},G.Sheets.push(Y);break;case"table":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;h.push([c[3],!1]),ae=[],se=!1}break;case"style":c[1]==="/"?CG(K,X,r):X=al(c[0]);break;case"numberformat":X.nf=Jr(al(c[0]).Format||"General"),ym[X.nf]&&(X.nf=ym[X.nf]);for(var we=0;we!=392&&xr[we]!=X.nf;++we);if(we==392){for(we=57;we!=392;++we)if(xr[we]==null){af(X.nf,we);break}}break;case"column":if(h[h.length-1][0]!=="table")break;if(le=al(c[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!se&&le.wpx>10){se=!0,ii=eS;for(var je=0;je<ae.length;++je)ae[je]&&zh(ae[je])}se&&zh(le),ae[le.Index-1||ae.length]=le;for(var tt=0;tt<+le.Span;++tt)ae[ae.length]=_s(le);break;case"namedrange":if(c[1]==="/")break;G.Names||(G.Names=[]);var ee=lr(c[0]),Te={Name:ee.Name,Ref:Ch(ee.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(Te.Sheet=G.Sheets.length-1),G.Names.push(Te);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?P+=n.slice(D,c.index):D=c.index+c[0].length;break;case"interior":if(!r.cellStyles)break;X.Interior=al(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?mB(U,Z,n.slice(C,c.index)):C=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else h.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));IG(ue),W.push(ue)}else h.push([c[3],!1]),d=al(c[0]),ue={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Qe=al(c[0]);v["!autofilter"]={ref:Ch(Qe.Range).replace(/\$/g,"")},h.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break;case"null":break;default:if(h.length==0&&c[3]=="document"||h.length==0&&c[3]=="uof")return vk(n,r);var Le=!0;switch(h[h.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Le=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Le=!1}break;case"excelworkbook":switch(c[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Le=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Le=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(n.slice(C,c.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else C=c.index+c[0].length;break;case"header":v["!margins"]||xm(v["!margins"]={},"xlml"),isNaN(+lr(c[0]).Margin)||(v["!margins"].header=+lr(c[0]).Margin);break;case"footer":v["!margins"]||xm(v["!margins"]={},"xlml"),isNaN(+lr(c[0]).Margin)||(v["!margins"].footer=+lr(c[0]).Margin);break;case"pagemargins":var pe=lr(c[0]);v["!margins"]||xm(v["!margins"]={},"xlml"),isNaN(+pe.Top)||(v["!margins"].top=+pe.Top),isNaN(+pe.Left)||(v["!margins"].left=+pe.Left),isNaN(+pe.Right)||(v["!margins"].right=+pe.Right),isNaN(+pe.Bottom)||(v["!margins"].bottom=+pe.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Le=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Le=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Le=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Le=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Le=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Le=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Le=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Le=!1}break;case"smarttags":break;default:Le=!1;break}if(Le||c[3].match(/!\[CDATA/))break;if(!h[h.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+h.join("|");if(h[h.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?SG(R,Z,B,n.slice(C,c.index)):(B=c,C=c.index+c[0].length);break}if(r.WTF)throw"Unrecognized tag: "+c[3]+"|"+h.join("|")}var Ke={};return!r.bookSheets&&!r.bookProps&&(Ke.Sheets=p),Ke.SheetNames=y,Ke.Workbook=G,Ke.SSF=_s(xr),Ke.Props=U,Ke.Custprops=R,Ke}function fv(t,e){switch(J5(e=e||{}),e.type||"base64"){case"base64":return fy(eo(t),e);case"binary":case"buffer":case"file":return fy(t,e);case"array":return fy(Ef(t),e)}}function DG(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=$F(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=KF(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var jG=[60,1084,2066,2165,2175];function LG(t,e,r,n,a){var s=n,o=[],c=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(c)}o.push(c),r.l+=s;for(var h=Kc(r,r.l),d=hv[h],p=0;d!=null&&jG.indexOf(h)>-1;)s=Kc(r,r.l+2),p=r.l+4,h==2066?p+=4:(h==2165||h==2175)&&(p+=12),c=r.slice(p,r.l+4+s),o.push(c),r.l+=4+s,d=hv[h=Kc(r,r.l)];var y=r0(o);ys(y,0);var v=0;y.lens=[];for(var b=0;b<o.length;++b)y.lens.push(v),v+=o[b].length;if(y.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+y.length+" < "+n;return e.f(y,y.length,a)}function Yl(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=xr[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Tf[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Om(t.v):t.w=xf(t.v):t.w=Io(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&Zh(xr[n]||String(n))){var a=tf(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function jg(t,e,r){return{v:t,ixfe:e,t:r}}function OG(t,e){var r={opts:{}},n={},a=e.dense?[]:{},s={},o={},c=null,h=[],d="",p={},y,v="",b,A,k,E,S={},j=[],M,H,K=[],X=[],P={Sheets:[],WBProps:{date1904:!1},Views:[{}]},D={},I=function(Tt){return Tt<8?sf[Tt]:Tt<64&&X[Tt-8]||sf[Tt]},U=function(Tt,vt,Dr){var qt=vt.XF.data;if(!(!qt||!qt.patternType||!Dr||!Dr.cellStyles)){vt.s={},vt.s.patternType=qt.patternType;var _n;(_n=Bm(I(qt.icvFore)))&&(vt.s.fgColor={rgb:_n}),(_n=Bm(I(qt.icvBack)))&&(vt.s.bgColor={rgb:_n})}},R=function(Tt,vt,Dr){if(!(Ne>1)&&!(Dr.sheetRows&&Tt.r>=Dr.sheetRows)){if(Dr.cellStyles&&vt.XF&&vt.XF.data&&U(Tt,vt,Dr),delete vt.ixfe,delete vt.XF,y=Tt,v=mr(Tt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Tt.r<o.s.r&&(o.s.r=Tt.r),Tt.c<o.s.c&&(o.s.c=Tt.c),Tt.r+1>o.e.r&&(o.e.r=Tt.r+1),Tt.c+1>o.e.c&&(o.e.c=Tt.c+1),Dr.cellFormula&&vt.f){for(var qt=0;qt<j.length;++qt)if(!(j[qt][0].s.c>Tt.c||j[qt][0].s.r>Tt.r)&&!(j[qt][0].e.c<Tt.c||j[qt][0].e.r<Tt.r)){vt.F=Kr(j[qt][0]),(j[qt][0].s.c!=Tt.c||j[qt][0].s.r!=Tt.r)&&delete vt.f,vt.f&&(vt.f=""+Hs(j[qt][1],o,Tt,ne,C));break}}Dr.dense?(a[Tt.r]||(a[Tt.r]=[]),a[Tt.r][Tt.c]=vt):a[v]=vt}},C={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:j,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(C.password=e.password);var B,W=[],ue=[],ae=[],le=[],se=!1,ne=[];ne.SheetNames=C.snames,ne.sharedf=C.sharedf,ne.arrayf=C.arrayf,ne.names=[],ne.XTI=[];var J=0,Ne=0,L=0,z=[],G=[],Y;C.codepage=1200,fl(1200);for(var Z=!1;t.l<t.length-1;){var de=t.l,xe=t.read_shift(2);if(xe===0&&J===10)break;var we=t.l===t.length?0:t.read_shift(2),je=hv[xe];if(je&&je.f){if(e.bookSheets&&J===133&&xe!==133)break;if(J=xe,je.r===2||je.r==12){var tt=t.read_shift(2);if(we-=2,!C.enc&&tt!==xe&&((tt&255)<<8|tt>>8)!==xe)throw new Error("rt mismatch: "+tt+"!="+xe);je.r==12&&(t.l+=10,we-=10)}var ee={};if(xe===10?ee=je.f(t,we,C):ee=LG(xe,je,t,we,C),Ne==0&&[9,521,1033,2057].indexOf(J)===-1)continue;switch(xe){case 34:r.opts.Date1904=P.WBProps.date1904=ee;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(C.enc||(t.l=0),C.enc=ee,!e.password)throw new Error("File is password-protected");if(ee.valid==null)throw new Error("Encryption scheme unsupported");if(!ee.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=ee;break;case 66:var Te=Number(ee);switch(Te){case 21010:Te=1200;break;case 32768:Te=1e4;break;case 32769:Te=1252;break}fl(C.codepage=Te),Z=!0;break;case 317:C.rrtabid=ee;break;case 25:C.winlocked=ee;break;case 439:r.opts.RefreshAll=ee;break;case 12:r.opts.CalcCount=ee;break;case 16:r.opts.CalcDelta=ee;break;case 17:r.opts.CalcIter=ee;break;case 13:r.opts.CalcMode=ee;break;case 14:r.opts.CalcPrecision=ee;break;case 95:r.opts.CalcSaveRecalc=ee;break;case 15:C.CalcRefMode=ee;break;case 2211:r.opts.FullCalc=ee;break;case 129:ee.fDialog&&(a["!type"]="dialog"),ee.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),ee.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:K.push(ee);break;case 430:ne.push([ee]),ne[ne.length-1].XTI=[];break;case 35:case 547:ne[ne.length-1].push(ee);break;case 24:case 536:Y={Name:ee.Name,Ref:Hs(ee.rgce,o,null,ne,C)},ee.itab>0&&(Y.Sheet=ee.itab-1),ne.names.push(Y),ne[0]||(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].push(ee),ee.Name=="_xlnm._FilterDatabase"&&ee.itab>0&&ee.rgce&&ee.rgce[0]&&ee.rgce[0][0]&&ee.rgce[0][0][0]=="PtgArea3d"&&(G[ee.itab-1]={ref:Kr(ee.rgce[0][0][1][2])});break;case 22:C.ExternCount=ee;break;case 23:ne.length==0&&(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].XTI=ne[ne.length-1].XTI.concat(ee),ne.XTI=ne.XTI.concat(ee);break;case 2196:if(C.biff<8)break;Y!=null&&(Y.Comment=ee[1]);break;case 18:a["!protect"]=ee;break;case 19:ee!==0&&C.WTF&&console.error("Password verifier: "+ee);break;case 133:s[ee.pos]=ee,C.snames.push(ee.name);break;case 10:{if(--Ne)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Kr(o),e.sheetRows&&e.sheetRows<=o.e.r){var Qe=o.e.r;o.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Kr(o),o.e.r=Qe}o.e.r++,o.e.c++}W.length>0&&(a["!merges"]=W),ue.length>0&&(a["!objects"]=ue),ae.length>0&&(a["!cols"]=ae),le.length>0&&(a["!rows"]=le),P.Sheets.push(D)}d===""?p=a:n[d]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(C.biff===8&&(C.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ee.BIFFVer]||8),C.biffguess=ee.BIFFVer==0,ee.BIFFVer==0&&ee.dt==4096&&(C.biff=5,Z=!0,fl(C.codepage=28591)),C.biff==8&&ee.BIFFVer==0&&ee.dt==16&&(C.biff=2),Ne++)break;if(a=e.dense?[]:{},C.biff<8&&!Z&&(Z=!0,fl(C.codepage=e.codepage||1252)),C.biff<5||ee.BIFFVer==0&&ee.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Le={pos:t.l-we,name:d};s[Le.pos]=Le,C.snames.push(d)}else d=(s[de]||{name:""}).name;ee.dt==32&&(a["!type"]="chart"),ee.dt==64&&(a["!type"]="macro"),W=[],ue=[],C.arrayf=j=[],ae=[],le=[],se=!1,D={Hidden:(s[de]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[ee.r]||[])[ee.c]:a[mr({c:ee.c,r:ee.r})])&&++ee.c,M={ixfe:ee.ixfe,XF:K[ee.ixfe]||{},v:ee.val,t:"n"},L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R({c:ee.c,r:ee.r},M,e);break;case 5:case 517:M={ixfe:ee.ixfe,XF:K[ee.ixfe],v:ee.val,t:ee.t},L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R({c:ee.c,r:ee.r},M,e);break;case 638:M={ixfe:ee.ixfe,XF:K[ee.ixfe],v:ee.rknum,t:"n"},L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R({c:ee.c,r:ee.r},M,e);break;case 189:for(var pe=ee.c;pe<=ee.C;++pe){var Ke=ee.rkrec[pe-ee.c][0];M={ixfe:Ke,XF:K[Ke],v:ee.rkrec[pe-ee.c][1],t:"n"},L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R({c:pe,r:ee.r},M,e)}break;case 6:case 518:case 1030:{if(ee.val=="String"){c=ee;break}if(M=jg(ee.val,ee.cell.ixfe,ee.tt),M.XF=K[M.ixfe],e.cellFormula){var xt=ee.formula;if(xt&&xt[0]&&xt[0][0]&&xt[0][0][0]=="PtgExp"){var st=xt[0][0][1][0],pt=xt[0][0][1][1],_t=mr({r:st,c:pt});S[_t]?M.f=""+Hs(ee.formula,o,ee.cell,ne,C):M.F=((e.dense?(a[st]||[])[pt]:a[_t])||{}).F}else M.f=""+Hs(ee.formula,o,ee.cell,ne,C)}L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R(ee.cell,M,e),c=ee}break;case 7:case 519:if(c)c.val=ee,M=jg(ee,c.cell.ixfe,"s"),M.XF=K[M.ixfe],e.cellFormula&&(M.f=""+Hs(c.formula,o,c.cell,ne,C)),L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R(c.cell,M,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{j.push(ee);var bt=mr(ee[0].s);if(b=e.dense?(a[ee[0].s.r]||[])[ee[0].s.c]:a[bt],e.cellFormula&&b){if(!c||!bt||!b)break;b.f=""+Hs(ee[1],o,ee[0],ne,C),b.F=Kr(ee[0])}}break;case 1212:{if(!e.cellFormula)break;if(v){if(!c)break;S[mr(c.cell)]=ee[0],b=e.dense?(a[c.cell.r]||[])[c.cell.c]:a[mr(c.cell)],(b||{}).f=""+Hs(ee[0],o,y,ne,C)}}break;case 253:M=jg(h[ee.isst].t,ee.ixfe,"s"),h[ee.isst].h&&(M.h=h[ee.isst].h),M.XF=K[M.ixfe],L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R({c:ee.c,r:ee.r},M,e);break;case 513:e.sheetStubs&&(M={ixfe:ee.ixfe,XF:K[ee.ixfe],t:"z"},L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R({c:ee.c,r:ee.r},M,e));break;case 190:if(e.sheetStubs)for(var Dt=ee.c;Dt<=ee.C;++Dt){var Ut=ee.ixfe[Dt-ee.c];M={ixfe:Ut,XF:K[Ut],t:"z"},L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R({c:Dt,r:ee.r},M,e)}break;case 214:case 516:case 4:M=jg(ee.val,ee.ixfe,"s"),M.XF=K[M.ixfe],L>0&&(M.z=z[M.ixfe>>8&63]),Yl(M,e,r.opts.Date1904),R({c:ee.c,r:ee.r},M,e);break;case 0:case 512:Ne===1&&(o=ee);break;case 252:h=ee;break;case 1054:if(C.biff==4){z[L++]=ee[1];for(var Wt=0;Wt<L+163&&xr[Wt]!=ee[1];++Wt);Wt>=163&&af(ee[1],L+163)}else af(ee[1],ee[0]);break;case 30:{z[L++]=ee;for(var Pt=0;Pt<L+163&&xr[Pt]!=ee;++Pt);Pt>=163&&af(ee,L+163)}break;case 229:W=W.concat(ee);break;case 93:ue[ee.cmo[0]]=C.lastobj=ee;break;case 438:C.lastobj.TxO=ee;break;case 127:C.lastobj.ImData=ee;break;case 440:for(E=ee[0].s.r;E<=ee[0].e.r;++E)for(k=ee[0].s.c;k<=ee[0].e.c;++k)b=e.dense?(a[E]||[])[k]:a[mr({c:k,r:E})],b&&(b.l=ee[1]);break;case 2048:for(E=ee[0].s.r;E<=ee[0].e.r;++E)for(k=ee[0].s.c;k<=ee[0].e.c;++k)b=e.dense?(a[E]||[])[k]:a[mr({c:k,r:E})],b&&b.l&&(b.l.Tooltip=ee[1]);break;case 28:{if(C.biff<=5&&C.biff>=2)break;b=e.dense?(a[ee[0].r]||[])[ee[0].c]:a[mr(ee[0])];var Mt=ue[ee[2]];b||(e.dense?(a[ee[0].r]||(a[ee[0].r]=[]),b=a[ee[0].r][ee[0].c]={t:"z"}):b=a[mr(ee[0])]={t:"z"},o.e.r=Math.max(o.e.r,ee[0].r),o.s.r=Math.min(o.s.r,ee[0].r),o.e.c=Math.max(o.e.c,ee[0].c),o.s.c=Math.min(o.s.c,ee[0].c)),b.c||(b.c=[]),A={a:ee[1],t:Mt.TxO.t},b.c.push(A)}break;case 2173:nz(K[ee.ixfe],ee.ext);break;case 125:{if(!C.cellStyles)break;for(;ee.e>=ee.s;)ae[ee.e--]={width:ee.w/256,level:ee.level||0,hidden:!!(ee.flags&1)},se||(se=!0,K5(ee.w/256)),zh(ae[ee.e+1])}break;case 520:{var Ht={};ee.level!=null&&(le[ee.r]=Ht,Ht.level=ee.level),ee.hidden&&(le[ee.r]=Ht,Ht.hidden=!0),ee.hpt&&(le[ee.r]=Ht,Ht.hpt=ee.hpt,Ht.hpx=Um(ee.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||xm(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=ee;break;case 161:a["!margins"]||xm(a["!margins"]={}),a["!margins"].header=ee.header,a["!margins"].footer=ee.footer;break;case 574:ee.RTL&&(P.Views[0].RTL=!0);break;case 146:X=ee;break;case 2198:B=ee;break;case 140:H=ee;break;case 442:d?D.CodeName=ee||D.name:P.WBProps.CodeName=ee||"ThisWorkbook";break}}else je||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),t.l+=we}return r.SheetNames=lc(s).sort(function(It,Tt){return Number(It)-Number(Tt)}).map(function(It){return s[It].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&p["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=p)):r.Preamble=p,r.Sheets&&G.forEach(function(It,Tt){r.Sheets[r.SheetNames[Tt]]["!autofilter"]=It}),r.Strings=h,r.SSF=_s(xr),C.enc&&(r.Encryption=C.enc),B&&(r.Themes=B),r.Metadata={},H!==void 0&&(r.Metadata.Country=H),ne.names.length>0&&(P.Names=ne.names),r.Workbook=P,r}var mk={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function PG(t,e,r){var n=$r.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=Q3(n,ZF,mk.DSI);for(var s in a)e[s]=a[s]}catch(d){if(r.WTF)throw d}var o=$r.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var c=Q3(o,eB,mk.SI);for(var h in c)e[h]==null&&(e[h]=c[h])}catch(d){if(r.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(MN(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function bS(t,e){e||(e={}),J5(e),Y6(),e.codepage&&R5(e.codepage);var r,n;if(t.FullPaths){if($r.find(t,"/encryption"))throw new Error("File is password-protected");r=$r.find(t,"!CompObj"),n=$r.find(t,"/Workbook")||$r.find(t,"/Book")}else{switch(e.type){case"base64":t=ll(eo(t));break;case"binary":t=ll(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ys(t,0),n={content:t}}var a,s;if(r&&DG(r),e.bookProps&&!e.bookSheets)a={};else{var o=Ur?"buffer":"array";if(n&&n.content)a=OG(n.content,e);else if((s=$r.find(t,"PerfectOffice_MAIN"))&&s.content)a=pm.to_workbook(s.content,(e.type=o,e));else if((s=$r.find(t,"NativeContent_MAIN"))&&s.content)a=pm.to_workbook(s.content,(e.type=o,e));else throw(s=$r.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&$r.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=wz(t))}var c={};return t.FullPaths&&PG(t,c,e),a.Props=a.Custprops=c,e.bookFiles&&(a.cfb=t),a}var L1={0:{f:xH},1:{f:wH},2:{f:RH},3:{f:EH},4:{f:kH},5:{f:CH},6:{f:jH},7:{f:SH},8:{f:FH},9:{f:MH},10:{f:OH},11:{f:PH},12:{f:_H},13:{f:IH},14:{f:NH},15:{f:AH},16:{f:pS},17:{f:LH},18:{f:TH},19:{f:V5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:fG},40:{},42:{},43:{f:OV},44:{f:LV},45:{f:PV},46:{f:FV},47:{f:MV},48:{},49:{f:BF},50:{},51:{f:sz},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:YN},62:{f:DH},63:{f:uz},64:{f:KH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Js,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:$H},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:bH},148:{f:yH,p:16},151:{f:VH},152:{},153:{f:cG},154:{},155:{},156:{f:lG},157:{},158:{},159:{T:1,f:eV},160:{T:-1},161:{T:1,f:Sf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:BH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:az},336:{T:-1},337:{f:iz,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ov},357:{},358:{},359:{},360:{T:1},361:{},362:{f:WN},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:zH},427:{f:qH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:GH},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:vH},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:UH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ov},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:yz},633:{T:1},634:{T:-1},635:{T:1,f:xz},636:{T:-1},637:{f:VF},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ZH},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:WH},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},hv={6:{f:cy},10:{f:Qu},12:{f:Na},13:{f:Na},14:{f:fa},15:{f:fa},16:{f:Ws},17:{f:fa},18:{f:fa},19:{f:Na},20:{f:tk},21:{f:tk},23:{f:WN},24:{f:nk},25:{f:fa},26:{},27:{},28:{f:pU},29:{},34:{f:fa},35:{f:rk},38:{f:Ws},39:{f:Ws},40:{f:Ws},41:{f:Ws},42:{f:fa},43:{f:fa},47:{f:vV},49:{f:XB},51:{f:Na},60:{},61:{f:KB},64:{f:fa},65:{f:YB},66:{f:Na},77:{},80:{},81:{},82:{},85:{f:Na},89:{},90:{},91:{},92:{f:BB},93:{f:xU},94:{},95:{f:fa},96:{},97:{},99:{f:fa},125:{f:YN},128:{f:iU},129:{f:UB},130:{f:Na},131:{f:fa},132:{f:fa},133:{f:VB},134:{},140:{f:kU},141:{f:Na},144:{},146:{f:EU},151:{},152:{},153:{},154:{},155:{},156:{f:Na},157:{},158:{},160:{f:RU},161:{f:SU},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:rU},190:{f:nU},193:{f:Qu},197:{},198:{},199:{},200:{},201:{},202:{f:fa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Na},220:{},221:{f:fa},222:{},224:{f:sU},225:{f:FB},226:{f:Qu},227:{},229:{f:gU},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:zB},253:{f:QB},255:{f:qB},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:zN},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fa},353:{f:Qu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:lU},431:{f:fa},432:{},433:{},434:{},437:{},438:{f:bU},439:{f:fa},440:{f:wU},441:{},442:{f:fp},443:{},444:{f:Na},445:{},446:{},448:{f:Qu},449:{f:$B,r:2},450:{f:Qu},512:{f:Z3},513:{f:CU},515:{f:oU},516:{f:JB},517:{f:ek},519:{f:IU},520:{f:HB},523:{},545:{f:ak},549:{f:J3},566:{},574:{f:WB},638:{f:tU},659:{},1048:{},1054:{f:ZB},1084:{},1212:{f:hU},2048:{f:_U},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Rg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Qu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:NU,r:12},2173:{f:rz,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:fU,r:12},2197:{},2198:{f:XV,r:12},2199:{},2200:{},2201:{},2202:{f:dU,r:12},2203:{f:Qu},2204:{},2205:{},2206:{},2207:{},2211:{f:GB},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Na},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:TU},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:AU},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Z3},1:{},2:{f:OU},3:{f:LU},4:{f:jU},5:{f:ek},7:{f:PU},8:{},9:{f:Rg},11:{},22:{f:Na},30:{f:eU},31:{},32:{},33:{f:ak},36:{},37:{f:J3},50:{f:MU},62:{},52:{},67:{},68:{f:Na},69:{},86:{},126:{},127:{f:DU},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:FU},223:{},234:{},354:{},421:{},518:{f:cy},521:{f:Rg},536:{f:nk},547:{f:rk},561:{},579:{},1030:{f:cy},1033:{f:Rg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function sl(t,e,r,n){var a=e;if(!isNaN(a)){var s=(r||[]).length||0,o=t.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&CN(r)&&t.push(r)}}function pk(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=a.index,c=s&&s.index||t.length,h=oF(t.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,p=0,y=0,v=0,b={s:{r:1e7,c:1e7},e:{r:0,c:0}},A=[];for(o=0;o<h.length;++o){var k=h[o].trim(),E=k.slice(0,3).toLowerCase();if(E=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}p=0;continue}if(!(E!="<td"&&E!="<th")){var S=k.split(/<\/t[dh]>/i);for(c=0;c<S.length;++c){var j=S[c].trim();if(j.match(/<t[dh]/i)){for(var M=j,H=0;M.charAt(0)=="<"&&(H=M.indexOf(">"))>-1;)M=M.slice(H+1);for(var K=0;K<A.length;++K){var X=A[K];X.s.c==p&&X.s.r<d&&d<=X.e.r&&(p=X.e.c+1,K=-1)}var P=lr(j.slice(0,j.indexOf(">")));v=P.colspan?+P.colspan:1,((y=+P.rowspan)>1||v>1)&&A.push({s:{r:d,c:p},e:{r:d+(y||1)-1,c:p+v-1}});var D=P.t||P["data-t"]||"";if(!M.length){p+=v;continue}if(M=gN(M),b.s.r>d&&(b.s.r=d),b.e.r<d&&(b.e.r=d),b.s.c>p&&(b.s.c=p),b.e.c<p&&(b.e.c=p),!M.length){p+=v;continue}var I={t:"s",v:M};r.raw||!M.trim().length||D=="s"||(M==="TRUE"?I={t:"b",v:!0}:M==="FALSE"?I={t:"b",v:!1}:isNaN(dl(M))?isNaN(Vh(M).getDate())||(I={t:"d",v:ss(M)},r.cellDates||(I={t:"n",v:ui(I.v)}),I.z=r.dateNF||xr[14]):I={t:"n",v:dl(M)}),r.dense?(n[d]||(n[d]=[]),n[d][p]=I):n[mr({r:d,c:p})]=I,p+=v}}}}return n["!ref"]=Kr(b),A.length&&(n["!merges"]=A),n}function MG(t,e,r,n){for(var a=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,h=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){c=-1;break}c=a[d].e.r-a[d].s.r+1,h=a[d].e.c-a[d].s.c+1;break}if(!(c<0)){var p=mr({r,c:o}),y=n.dense?(t[r]||[])[o]:t[p],v=y&&y.v!=null&&(y.h||P5(y.w||(ou(y),y.w)||""))||"",b={};c>1&&(b.rowspan=c),h>1&&(b.colspan=h),n.editable?v='<span contenteditable="true">'+v+"</span>":y&&(b["data-t"]=y&&y.t||"z",y.v!=null&&(b["data-v"]=y.v),y.z!=null&&(b["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+y.l.Target+'">'+v+"</a>")),b.id=(n.id||"sjs")+"-"+p,s.push(kF("td",v,b))}}var A="<tr>";return A+s.join("")+"</tr>"}var FG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',BG="</body></html>";function UG(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return S0(pk(r[0],e),e);var n=eb();return r.forEach(function(a,s){tb(n,pk(a,e),"Sheet"+(s+1))}),n}function VG(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function zG(t,e){var r=e||{},n=r.header!=null?r.header:FG,a=r.footer!=null?r.footer:BG,s=[n],o=ed(t["!ref"]);r.dense=Array.isArray(t),s.push(VG(t,o,r));for(var c=o.s.r;c<=o.e.r;++c)s.push(MG(t,o,c,r));return s.push("</table>"+a),s.join("")}function wS(t,e,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?oi(n.origin):n.origin;a=o.r,s=o.c}var c=e.getElementsByTagName("tr"),h=Math.min(n.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:a,c:s}};if(t["!ref"]){var p=ed(t["!ref"]);d.s.r=Math.min(d.s.r,p.s.r),d.s.c=Math.min(d.s.c,p.s.c),d.e.r=Math.max(d.e.r,p.e.r),d.e.c=Math.max(d.e.c,p.e.c),a==-1&&(d.e.r=a=p.e.r+1)}var y=[],v=0,b=t["!rows"]||(t["!rows"]=[]),A=0,k=0,E=0,S=0,j=0,M=0;for(t["!cols"]||(t["!cols"]=[]);A<c.length&&k<h;++A){var H=c[A];if(gk(H)){if(n.display)continue;b[k]={hidden:!0}}var K=H.children;for(E=S=0;E<K.length;++E){var X=K[E];if(!(n.display&&gk(X))){var P=X.hasAttribute("data-v")?X.getAttribute("data-v"):X.hasAttribute("v")?X.getAttribute("v"):gN(X.innerHTML),D=X.getAttribute("data-z")||X.getAttribute("z");for(v=0;v<y.length;++v){var I=y[v];I.s.c==S+s&&I.s.r<k+a&&k+a<=I.e.r&&(S=I.e.c+1-s,v=-1)}M=+X.getAttribute("colspan")||1,((j=+X.getAttribute("rowspan")||1)>1||M>1)&&y.push({s:{r:k+a,c:S+s},e:{r:k+a+(j||1)-1,c:S+s+(M||1)-1}});var U={t:"s",v:P},R=X.getAttribute("data-t")||X.getAttribute("t")||"";P!=null&&(P.length==0?U.t=R||"z":n.raw||P.trim().length==0||R=="s"||(P==="TRUE"?U={t:"b",v:!0}:P==="FALSE"?U={t:"b",v:!1}:isNaN(dl(P))?isNaN(Vh(P).getDate())||(U={t:"d",v:ss(P)},n.cellDates||(U={t:"n",v:ui(U.v)}),U.z=n.dateNF||xr[14]):U={t:"n",v:dl(P)})),U.z===void 0&&D!=null&&(U.z=D);var C="",B=X.getElementsByTagName("A");if(B&&B.length)for(var W=0;W<B.length&&!(B[W].hasAttribute("href")&&(C=B[W].getAttribute("href"),C.charAt(0)!="#"));++W);C&&C.charAt(0)!="#"&&(U.l={Target:C}),n.dense?(t[k+a]||(t[k+a]=[]),t[k+a][S+s]=U):t[mr({c:S+s,r:k+a})]=U,d.e.c<S+s&&(d.e.c=S+s),S+=M}}++k}return y.length&&(t["!merges"]=(t["!merges"]||[]).concat(y)),d.e.r=Math.max(d.e.r,k-1+a),t["!ref"]=Kr(d),k>=h&&(t["!fullref"]=Kr((d.e.r=c.length-A+k-1+a,d))),t}function _S(t,e){var r=e||{},n=r.dense?[]:{};return wS(n,t,e)}function qG(t,e){return S0(_S(t,e),e)}function gk(t){var e="",r=HG(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function HG(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function GG(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Jr(e.replace(/<[^>]*>/g,""));return[r]}var xk={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function kS(t,e){var r=e||{},n=M5(t),a=[],s,o,c={name:""},h="",d=0,p,y,v={},b=[],A=r.dense?[]:{},k,E,S={value:""},j="",M=0,H=[],K=-1,X=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},D=0,I={},U=[],R={},C=0,B=0,W=[],ue=1,ae=1,le=[],se={Names:[]},ne={},J=["",""],Ne=[],L={},z="",G=0,Y=!1,Z=!1,de=0;for(Mm.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");k=Mm.exec(n);)switch(k[3]=k[3].replace(/_.*$/,"")){case"table":case"工作表":k[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?A["!ref"]=Kr(P):A["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=P.e.r&&(A["!fullref"]=A["!ref"],P.e.r=r.sheetRows-1,A["!ref"]=Kr(P)),U.length&&(A["!merges"]=U),W.length&&(A["!rows"]=W),p.name=p.名称||p.name,typeof JSON<"u"&&JSON.stringify(p),b.push(p.name),v[p.name]=A,Z=!1):k[0].charAt(k[0].length-2)!=="/"&&(p=lr(k[0],!1),K=X=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,A=r.dense?[]:{},U=[],W=[],Z=!0);break;case"table-row-group":k[1]==="/"?--D:++D;break;case"table-row":case"行":if(k[1]==="/"){K+=ue,ue=1;break}if(y=lr(k[0],!1),y.行号?K=y.行号-1:K==-1&&(K=0),ue=+y["number-rows-repeated"]||1,ue<10)for(de=0;de<ue;++de)D>0&&(W[K+de]={level:D});X=-1;break;case"covered-table-cell":k[1]!=="/"&&++X,r.sheetStubs&&(r.dense?(A[K]||(A[K]=[]),A[K][X]={t:"z"}):A[mr({r:K,c:X})]={t:"z"}),j="",H=[];break;case"table-cell":case"数据":if(k[0].charAt(k[0].length-2)==="/")++X,S=lr(k[0],!1),ae=parseInt(S["number-columns-repeated"]||"1",10),E={t:"z",v:null},S.formula&&r.cellFormula!=!1&&(E.f=fk(Jr(S.formula))),(S.数据类型||S["value-type"])=="string"&&(E.t="s",E.v=Jr(S["string-value"]||""),r.dense?(A[K]||(A[K]=[]),A[K][X]=E):A[mr({r:K,c:X})]=E),X+=ae-1;else if(k[1]!=="/"){++X,j="",M=0,H=[],ae=1;var xe=ue?K+ue-1:K;if(X>P.e.c&&(P.e.c=X),X<P.s.c&&(P.s.c=X),K<P.s.r&&(P.s.r=K),xe>P.e.r&&(P.e.r=xe),S=lr(k[0],!1),Ne=[],L={},E={t:S.数据类型||S["value-type"],v:null},r.cellFormula)if(S.formula&&(S.formula=Jr(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(C=parseInt(S["number-matrix-rows-spanned"],10)||0,B=parseInt(S["number-matrix-columns-spanned"],10)||0,R={s:{r:K,c:X},e:{r:K+C-1,c:X+B-1}},E.F=Kr(R),le.push([R,E.F])),S.formula)E.f=fk(S.formula);else for(de=0;de<le.length;++de)K>=le[de][0].s.r&&K<=le[de][0].e.r&&X>=le[de][0].s.c&&X<=le[de][0].e.c&&(E.F=le[de][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(C=parseInt(S["number-rows-spanned"],10)||0,B=parseInt(S["number-columns-spanned"],10)||0,R={s:{r:K,c:X},e:{r:K+C-1,c:X+B-1}},U.push(R)),S["number-columns-repeated"]&&(ae=parseInt(S["number-columns-repeated"],10)),E.t){case"boolean":E.t="b",E.v=Fn(S["boolean-value"]);break;case"float":E.t="n",E.v=parseFloat(S.value);break;case"percentage":E.t="n",E.v=parseFloat(S.value);break;case"currency":E.t="n",E.v=parseFloat(S.value);break;case"date":E.t="d",E.v=ss(S["date-value"]),r.cellDates||(E.t="n",E.v=ui(E.v)),E.z="m/d/yy";break;case"time":E.t="n",E.v=aF(S["time-value"])/86400,r.cellDates&&(E.t="d",E.v=yx(E.v)),E.z="HH:MM:SS";break;case"number":E.t="n",E.v=parseFloat(S.数据数值);break;default:if(E.t==="string"||E.t==="text"||!E.t)E.t="s",S["string-value"]!=null&&(j=Jr(S["string-value"]),H=[]);else throw new Error("Unsupported value type "+E.t)}}else{if(Y=!1,E.t==="s"&&(E.v=j||"",H.length&&(E.R=H),Y=M==0),ne.Target&&(E.l=ne),Ne.length>0&&(E.c=Ne,Ne=[]),j&&r.cellText!==!1&&(E.w=j),Y&&(E.t="z",delete E.v),(!Y||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=K))for(var we=0;we<ue;++we){if(ae=parseInt(S["number-columns-repeated"]||"1",10),r.dense)for(A[K+we]||(A[K+we]=[]),A[K+we][X]=we==0?E:_s(E);--ae>0;)A[K+we][X+ae]=_s(E);else for(A[mr({r:K+we,c:X})]=E;--ae>0;)A[mr({r:K+we,c:X+ae})]=_s(E);P.e.c<=X&&(P.e.c=X)}ae=parseInt(S["number-columns-repeated"]||"1",10),X+=ae-1,ae=0,E={},j="",H=[]}ne={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(k[1]==="/"){if((s=a.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&a.push([k[3],!0]);break;case"annotation":if(k[1]==="/"){if((s=a.pop())[0]!==k[3])throw"Bad state: "+s;L.t=j,H.length&&(L.R=H),L.a=z,Ne.push(L)}else k[0].charAt(k[0].length-2)!=="/"&&a.push([k[3],!1]);z="",G=0,j="",M=0,H=[];break;case"creator":k[1]==="/"?z=n.slice(G,k.index):G=k.index+k[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(k[1]==="/"){if((s=a.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&a.push([k[3],!1]);j="",M=0,H=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(k[1]==="/"){if(I[c.name]=h,(s=a.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&(h="",c=lr(k[0],!1),a.push([k[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=lr(k[0],!1),h+=xk[k[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=lr(k[0],!1),h+=xk[k[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(k[0].slice(-2)==="/>")break;if(k[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":h+=n.slice(d,k.index);break}else d=k.index+k[0].length;break;case"named-range":o=lr(k[0],!1),J=uy(o["cell-range-address"]);var je={Name:o.name,Ref:J[0]+"!"+J[1]};Z&&(je.Sheet=b.length),se.Names.push(je);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(k[1]==="/"&&(!S||!S["string-value"])){var tt=GG(n.slice(M,k.index));j=(j.length>0?j+`
`:"")+tt[0]}else lr(k[0],!1),M=k.index+k[0].length;break;case"s":break;case"database-range":if(k[1]==="/")break;try{J=uy(lr(k[0])["target-range-address"]),v[J[0]]["!autofilter"]={ref:J[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(k[1]!=="/"){if(ne=lr(k[0],!1),!ne.href)break;ne.Target=Jr(ne.href),delete ne.href,ne.Target.charAt(0)=="#"&&ne.Target.indexOf(".")>-1?(J=uy(ne.Target.slice(1)),ne.Target="#"+J[0]+"!"+J[1]):ne.Target.match(/^\.\.[\\\/]/)&&(ne.Target=ne.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(k[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(k)}}var ee={Sheets:v,SheetNames:b,Workbook:se};return r.bookSheets&&delete ee.Sheets,ee}function yk(t,e){e=e||{},So(t,"META-INF/manifest.xml")&&oB(Ea(t,"META-INF/manifest.xml"),e);var r=Qi(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=kS(Rn(r),e);return So(t,"meta.xml")&&(n.Props=PN(Ea(t,"meta.xml"))),n}function vk(t,e){return kS(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function X5(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function dv(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Rn(Ef(t))}function mv(t){var e=t.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function bk(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function $G(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Vm(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function qa(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ys(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=Vm(t,r),s=a&7;a=Math.floor(a/8);var o=0,c;if(a==0)break;switch(s){case 0:{for(var h=r[0];t[r[0]++]>=128;);c=t.slice(h,r[0])}break;case 5:o=4,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Vm(t,r),c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var d={data:c,type:s};e[a]==null?e[a]=[d]:e[a].push(d)}return e}function Q5(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function KG(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=Vm(t,n),s=Ys(t.slice(n[0],n[0]+a));n[0]+=a;var o={id:qa(s[1][0].data),messages:[]};s[2].forEach(function(c){var h=Ys(c.data),d=qa(h[3][0].data);o.messages.push({meta:h,data:t.slice(n[0],n[0]+d)}),n[0]+=d}),(e=s[3])!=null&&e[0]&&(o.merge=qa(s[3][0].data)>>>0>0),r.push(o)}return r}function WG(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Vm(e,r),a=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[r[0]],c>1&&(o|=e[r[0]+1]<<8),c>2&&(o|=e[r[0]+2]<<16),c>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=c}a.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var h=0,d=0;if(s==1?(d=(e[r[0]]>>2&7)+4,h=(e[r[0]++]&224)<<3,h|=e[r[0]++]):(d=(e[r[0]++]>>2)+1,s==2?(h=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(h=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[mv(a)],h==0)throw new Error("Invalid offset 0");if(h>a[0].length)throw new Error("Invalid offset beyond length");if(d>=h)for(a.push(a[0].slice(-h)),d-=h;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-h,-h+d))}}var p=mv(a);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function YG(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(WG(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return mv(e)}function XG(t,e,r,n){var a=X5(t),s=a.getUint32(4,!0),o=(n>1?12:8)+bk(s&(n>1?3470:398))*4,c=-1,h=-1,d=NaN,p=new Date(2001,0,1);s&512&&(c=a.getUint32(o,!0),o+=4),o+=bk(s&(n>1?12288:4096))*4,s&16&&(h=a.getUint32(o,!0),o+=4),s&32&&(d=a.getFloat64(o,!0),o+=8),s&64&&(p.setTime(p.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var y;switch(t[2]){case 0:break;case 2:y={t:"n",v:d};break;case 3:y={t:"s",v:e[h]};break;case 5:y={t:"d",v:p};break;case 6:y={t:"b",v:d>0};break;case 7:y={t:"n",v:d/86400};break;case 8:y={t:"e",v:0};break;case 9:if(c>-1)y={t:"s",v:r[c]};else if(h>-1)y={t:"s",v:e[h]};else if(!isNaN(d))y={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return y}function QG(t,e,r){var n=X5(t),a=n.getUint32(8,!0),s=12,o=-1,c=-1,h=NaN,d=NaN,p=new Date(2001,0,1);a&1&&(h=$G(t,s),s+=16),a&2&&(d=n.getFloat64(s,!0),s+=8),a&4&&(p.setTime(p.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(c=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var y;switch(t[1]){case 0:break;case 2:y={t:"n",v:h};break;case 3:y={t:"s",v:e[c]};break;case 5:y={t:"d",v:p};break;case 6:y={t:"b",v:d>0};break;case 7:y={t:"n",v:d/86400};break;case 8:y={t:"e",v:0};break;case 9:if(o>-1)y={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:y={t:"n",v:h};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return y}function JG(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return XG(t,e,r,t[0]);case 5:return QG(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function h0(t){var e=Ys(t);return Vm(e[1][0].data)}function wk(t,e){var r=Ys(e.data),n=qa(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var c=Ys(o.data),h=qa(c[1][0].data)>>>0;switch(n){case 1:s[h]=dv(c[3][0].data);break;case 8:{var d=t[h0(c[9][0].data)][0],p=Ys(d.data),y=t[h0(p[1][0].data)][0],v=qa(y.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var b=Ys(y.data);s[h]=b[3].map(function(A){return dv(A.data)}).join("")}break}}),s}function ZG(t,e){var r,n,a,s,o,c,h,d,p,y,v,b,A,k,E=Ys(t),S=qa(E[1][0].data)>>>0,j=qa(E[2][0].data)>>>0,M=((n=(r=E[8])==null?void 0:r[0])==null?void 0:n.data)&&qa(E[8][0].data)>0||!1,H,K;if((s=(a=E[7])==null?void 0:a[0])!=null&&s.data&&e!=0)H=(c=(o=E[7])==null?void 0:o[0])==null?void 0:c.data,K=(d=(h=E[6])==null?void 0:h[0])==null?void 0:d.data;else if((y=(p=E[4])==null?void 0:p[0])!=null&&y.data&&e!=1)H=(b=(v=E[4])==null?void 0:v[0])==null?void 0:b.data,K=(k=(A=E[3])==null?void 0:A[0])==null?void 0:k.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var X=M?4:1,P=X5(H),D=[],I=0;I<H.length/2;++I){var U=P.getUint16(I*2,!0);U<65535&&D.push([I,U])}if(D.length!=j)throw"Expected ".concat(j," cells, found ").concat(D.length);var R=[];for(I=0;I<D.length-1;++I)R[D[I][0]]=K.subarray(D[I][1]*X,D[I+1][1]*X);return D.length>=1&&(R[D[D.length-1][0]]=K.subarray(D[D.length-1][1]*X)),{R:S,cells:R}}function e$(t,e){var r,n=Ys(e.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?qa(n[7][0].data)>>>0>0?1:0:-1,s=Q5(n[5],function(o){return ZG(o,a)});return{nrows:qa(n[4][0].data)>>>0,data:s.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(h,d){if(o[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));o[c.R][d]=h}),o},[])}}function t$(t,e,r){var n,a=Ys(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(qa(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(qa(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Kr(s);var o=Ys(a[4][0].data),c=wk(t,t[h0(o[4][0].data)][0]),h=(n=o[17])!=null&&n[0]?wk(t,t[h0(o[17][0].data)][0]):[],d=Ys(o[3][0].data),p=0;d[1].forEach(function(y){var v=Ys(y.data),b=t[h0(v[2][0].data)][0],A=qa(b.meta[1][0].data);if(A!=6002)throw new Error("6001 unexpected reference to ".concat(A));var k=e$(t,b);k.data.forEach(function(E,S){E.forEach(function(j,M){var H=mr({r:p+S,c:M}),K=JG(j,c,h);K&&(r[H]=K)})}),p+=k.nrows})}function r$(t,e){var r=Ys(e.data),n={"!ref":"A1"},a=t[h0(r[2][0].data)],s=qa(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return t$(t,a[0],n),n}function n$(t,e){var r,n=Ys(e.data),a={name:(r=n[1])!=null&&r[0]?dv(n[1][0].data):"",sheets:[]},s=Q5(n[2],h0);return s.forEach(function(o){t[o].forEach(function(c){var h=qa(c.meta[1][0].data);h==6e3&&a.sheets.push(r$(t,c))})}),a}function a$(t,e){var r=eb(),n=Ys(e.data),a=Q5(n[1],h0);if(a.forEach(function(s){t[s].forEach(function(o){var c=qa(o.meta[1][0].data);if(c==2){var h=n$(t,o);h.sheets.forEach(function(d,p){tb(r,d,p==0?h.name:h.name+"_"+p,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function hy(t){var e,r,n,a,s={},o=[];if(t.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)){var d;try{d=YG(h.content)}catch(y){return console.log("?? "+h.content.length+" "+(y.message||y))}var p;try{p=KG(d)}catch(y){return console.log("## "+(y.message||y))}p.forEach(function(y){s[y.id]=y.messages,o.push(y.id)})}}),!o.length)throw new Error("File has no messages");var c=((a=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&qa(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||o.forEach(function(h){s[h].forEach(function(d){var p=qa(d.meta[1][0].data)>>>0;if(p==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return a$(s,c)}function s$(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function J5(t){s$([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function i$(t){return yh.WS.indexOf(t)>-1?"sheet":t==yh.CS?"chart":t==yh.DS?"dialog":t==yh.MS?"macro":t&&t.length?t:"sheet"}function o$(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,i$(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function l$(t,e,r,n,a,s,o,c,h,d,p,y){try{s[n]=dm(Qi(t,r,!0),e);var v=Ea(t,e),b;switch(c){case"sheet":b=mG(v,e,a,h,s[n],d,p,y);break;case"chart":if(b=pG(v,e,a,h,s[n],d,p,y),!b||!b["!drawel"])break;var A=Zd(b["!drawel"].Target,e),k=lv(A),E=dz(Qi(t,A,!0),dm(Qi(t,k,!0),A)),S=Zd(E,A),j=lv(S);b=QH(Qi(t,S,!0),S,h,dm(Qi(t,j,!0),S),d,b);break;case"macro":b=gG(v,e,a,h,s[n],d,p,y);break;case"dialog":b=xG(v,e,a,h,s[n],d,p,y);break;default:throw new Error("Unrecognized sheet type "+c)}o[n]=b;var M=[];s&&s[n]&&lc(s[n]).forEach(function(H){var K="";if(s[n][H].Type==yh.CMNT){K=Zd(s[n][H].Target,e);var X=wG(Ea(t,K,!0),K,h);if(!X||!X.length)return;ik(b,X,!1)}s[n][H].Type==yh.TCMNT&&(K=Zd(s[n][H].Target,e),M=M.concat(pz(Ea(t,K,!0),h)))}),M&&M.length&&ik(b,M,!0,h.people||[])}catch(H){if(h.WTF)throw H}}function Eo(t){return t.charAt(0)=="/"?t.slice(1):t}function c$(t,e){if(oN(),e=e||{},J5(e),So(t,"META-INF/manifest.xml")||So(t,"objectdata.xml"))return yk(t,e);if(So(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof hy<"u"){if(t.FileIndex)return hy(t);var r=$r.utils.cfb_new();return j3(t).forEach(function(W){uF(r,W,cF(t,W))}),hy(r)}throw new Error("Unsupported NUMBERS file")}if(!So(t,"[Content_Types].xml"))throw So(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):So(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=j3(t),a=sB(Qi(t,"[Content_Types].xml")),s=!1,o,c;if(a.workbooks.length===0&&(c="xl/workbook.xml",Ea(t,c,!0)&&a.workbooks.push(c)),a.workbooks.length===0){if(c="xl/workbook.bin",!Ea(t,c,!0))throw new Error("Could not find workbook");a.workbooks.push(c),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var h={},d={};if(!e.bookSheets&&!e.bookProps){if(gm=[],a.sst)try{gm=bG(Ea(t,Eo(a.sst)),a.sst,e)}catch(W){if(e.WTF)throw W}e.cellStyles&&a.themes.length&&(h=vG(Qi(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(d=yG(Ea(t,Eo(a.style)),a.style,h,e))}a.links.map(function(W){try{var ue=dm(Qi(t,lv(Eo(W))),W);return kG(Ea(t,Eo(W)),ue,W,e)}catch{}});var p=dG(Ea(t,Eo(a.workbooks[0])),a.workbooks[0],e),y={},v="";a.coreprops.length&&(v=Ea(t,Eo(a.coreprops[0]),!0),v&&(y=PN(v)),a.extprops.length!==0&&(v=Ea(t,Eo(a.extprops[0]),!0),v&&uB(v,y,e)));var b={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(v=Qi(t,Eo(a.custprops[0]),!0),v&&(b=hB(v,e)));var A={};if((e.bookSheets||e.bookProps)&&(p.Sheets?o=p.Sheets.map(function(ue){return ue.name}):y.Worksheets&&y.SheetNames.length>0&&(o=y.SheetNames),e.bookProps&&(A.Props=y,A.Custprops=b),e.bookSheets&&typeof o<"u"&&(A.SheetNames=o),e.bookSheets?A.SheetNames:e.bookProps))return A;o={};var k={};e.bookDeps&&a.calcchain&&(k=_G(Ea(t,Eo(a.calcchain)),a.calcchain));var E=0,S={},j,M;{var H=p.Sheets;y.Worksheets=H.length,y.SheetNames=[];for(var K=0;K!=H.length;++K)y.SheetNames[K]=H[K].name}var X=s?"bin":"xml",P=a.workbooks[0].lastIndexOf("/"),D=(a.workbooks[0].slice(0,P+1)+"_rels/"+a.workbooks[0].slice(P+1)+".rels").replace(/^\//,"");So(t,D)||(D="xl/_rels/workbook."+X+".rels");var I=dm(Qi(t,D,!0),D.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=AG(Ea(t,Eo(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=gz(Ea(t,Eo(a.people[0])),e)),I&&(I=o$(I,p.Sheets));var U=Ea(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(E=0;E!=y.Worksheets;++E){var R="sheet";if(I&&I[E]?(j="xl/"+I[E][1].replace(/[\/]?xl\//,""),So(t,j)||(j=I[E][1]),So(t,j)||(j=D.replace(/_rels\/.*$/,"")+I[E][1]),R=I[E][2]):(j="xl/worksheets/sheet"+(E+1-U)+"."+X,j=j.replace(/sheet0\./,"sheet.")),M=j.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(E!=e.sheets)continue e;break;case"string":if(y.SheetNames[E].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var C=!1,B=0;B!=e.sheets.length;++B)typeof e.sheets[B]=="number"&&e.sheets[B]==E&&(C=1),typeof e.sheets[B]=="string"&&e.sheets[B].toLowerCase()==y.SheetNames[E].toLowerCase()&&(C=1);if(!C)continue e}}l$(t,j,M,y.SheetNames[E],E,S,o,R,e,p,h,d)}return A={Directory:a,Workbook:p,Props:y,Custprops:b,Deps:k,Sheets:o,SheetNames:y.SheetNames,Strings:gm,Styles:d,Themes:h,SSF:_s(xr)},e&&e.bookFiles&&(t.files?(A.keys=n,A.files=t.files):(A.keys=[],A.files={},t.FullPaths.forEach(function(W,ue){W=W.replace(/^Root Entry[\/]/,""),A.keys.push(W),A.files[W]=t.FileIndex[ue]}))),e&&e.bookVBA&&(a.vba.length>0?A.vbaraw=Ea(t,Eo(a.vba[0]),!0):a.defaults&&a.defaults.bin===bz&&(A.vbaraw=Ea(t,"xl/vbaProject.bin",!0))),A}function u$(t,e){var r=e||{},n="Workbook",a=$r.find(t,n);try{if(n="/!DataSpaces/Version",a=$r.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(rV(a.content),n="/!DataSpaces/DataSpaceMap",a=$r.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=aV(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=$r.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=sV(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=$r.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);oV(a.content)}catch{}if(n="/EncryptionInfo",a=$r.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var c=lV(a.content);if(n="/EncryptedPackage",a=$r.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],a.content,r.password||"",r);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Z5(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=eo(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function f$(t,e){return $r.find(t,"EncryptedPackage")?u$(t,e):bS(t,e)}function h$(t,e){var r,n=t,a=e||{};return a.type||(a.type=Ur&&Buffer.isBuffer(t)?"buffer":"base64"),r=dN(n,a),c$(r,a)}function AS(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return fv(t.slice(r),e);default:break e}return Fm.to_workbook(t,e)}function d$(t,e){var r="",n=Z5(t,e);switch(e.type){case"base64":r=eo(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=yf(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Rn(r)),e.type="binary",AS(r,e)}function m$(t,e){var r=t;return e.type=="base64"&&(r=eo(r)),r=Lm.utils.decode(1200,r.slice(2),"str"),e.type="binary",AS(r,e)}function p$(t){return t.match(/[^\x00-\x7F]/)?em(t):t}function dy(t,e,r,n){return n?(r.type="string",Fm.to_workbook(t,r)):Fm.to_workbook(e,r)}function pv(t,e){Y6();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return pv(new Uint8Array(t),(r=_s(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Rh={},r.dateNF&&(Rh.dateNF=r.dateNF),r.type||(r.type=Ur&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Ur?"buffer":"binary",n=rF(t),typeof Uint8Array<"u"&&!Ur&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=p$(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return r=_s(r),r.type="array",pv(I5(n),r)}switch((a=Z5(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return f$($r.read(n,r),r);break;case 9:if(a[1]<=8)return bS(n,r);break;case 60:return fv(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return qU(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return VU.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?h$(n,r):dy(t,n,r,s);case 239:return a[3]===60?fv(n,r):dy(t,n,r,s);case 255:if(a[1]===254)return m$(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return pm.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return pm.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return sk.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return bV.to_workbook(n,r);break;case 10:case 13:case 32:return d$(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return BU.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?sk.to_workbook(n,r):dy(t,n,r,s)}function g$(t,e,r,n,a,s,o,c){var h=ks(r),d=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),y=!0,v=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:r,enumerable:!1})}catch{v.__rowNum__=r}else v.__rowNum__=r;if(!o||t[r])for(var b=e.s.c;b<=e.e.c;++b){var A=o?t[r][b]:t[n[b]+h];if(A===void 0||A.t===void 0){if(d===void 0)continue;s[b]!=null&&(v[s[b]]=d);continue}var k=A.v;switch(A.t){case"z":if(k==null)break;continue;case"e":k=k==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(s[b]!=null){if(k==null)if(A.t=="e"&&k===null)v[s[b]]=null;else if(d!==void 0)v[s[b]]=d;else if(p&&k===null)v[s[b]]=null;else continue;else v[s[b]]=p&&(A.t!=="n"||A.t==="n"&&c.rawNumbers!==!1)?k:ou(A,k,c);k!=null&&(y=!1)}}return{row:v,isempty:y}}function gv(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,c="",h={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},p=d.range!=null?d.range:t["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof p){case"string":h=ra(p);break;case"number":h=ra(t["!ref"]),h.s.r=p;break;default:h=p}n>0&&(a=0);var y=ks(h.s.r),v=[],b=[],A=0,k=0,E=Array.isArray(t),S=h.s.r,j=0,M={};E&&!t[S]&&(t[S]=[]);var H=d.skipHidden&&t["!cols"]||[],K=d.skipHidden&&t["!rows"]||[];for(j=h.s.c;j<=h.e.c;++j)if(!(H[j]||{}).hidden)switch(v[j]=Va(j),r=E?t[S][j]:t[v[j]+y],n){case 1:s[j]=j-h.s.c;break;case 2:s[j]=v[j];break;case 3:s[j]=d.header[j-h.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=o=ou(r,null,d),k=M[o]||0,!k)M[o]=1;else{do c=o+"_"+k++;while(M[c]);M[o]=k,M[c]=1}s[j]=c}for(S=h.s.r+a;S<=h.e.r;++S)if(!(K[S]||{}).hidden){var X=g$(t,h,S,v,n,s,E,d);(X.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(b[A++]=X.row)}return b.length=A,b}var _k=/"/g;function x$(t,e,r,n,a,s,o,c){for(var h=!0,d=[],p="",y=ks(r),v=e.s.c;v<=e.e.c;++v)if(n[v]){var b=c.dense?(t[r]||[])[v]:t[n[v]+y];if(b==null)p="";else if(b.v!=null){h=!1,p=""+(c.rawNumbers&&b.t=="n"?b.v:ou(b,null,c));for(var A=0,k=0;A!==p.length;++A)if((k=p.charCodeAt(A))===a||k===s||k===34||c.forceQuotes){p='"'+p.replace(_k,'""')+'"';break}p=="ID"&&(p='"ID"')}else b.f!=null&&!b.F?(h=!1,p="="+b.f,p.indexOf(",")>=0&&(p='"'+p.replace(_k,'""')+'"')):p="";d.push(p)}return c.blankrows===!1&&h?null:d.join(o)}function ES(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=ra(t["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,h=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),p="",y=[];n.dense=Array.isArray(t);for(var v=n.skipHidden&&t["!cols"]||[],b=n.skipHidden&&t["!rows"]||[],A=a.s.c;A<=a.e.c;++A)(v[A]||{}).hidden||(y[A]=Va(A));for(var k=0,E=a.s.r;E<=a.e.r;++E)(b[E]||{}).hidden||(p=x$(t,a,E,y,o,h,s,n),p!=null&&(n.strip&&(p=p.replace(d,"")),(p||n.blankrows!==!1)&&r.push((k++?c:"")+p)));return delete n.dense,r.join("")}function y$(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=ES(t,e);return r}function v$(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=ra(t["!ref"]),s="",o=[],c,h=[],d=Array.isArray(t);for(c=a.s.c;c<=a.e.c;++c)o[c]=Va(c);for(var p=a.s.r;p<=a.e.r;++p)for(s=ks(p),c=a.s.c;c<=a.e.c;++c)if(e=o[c]+s,r=d?(t[p]||[])[c]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}h[h.length]=e+"="+n}return h}function NS(t,e,r){var n=r||{},a=+!n.skipHeader,s=t||{},o=0,c=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var h=typeof n.origin=="string"?oi(n.origin):n.origin;o=h.r,c=h.c}var d,p={s:{c:0,r:0},e:{c,r:o+e.length-1+a}};if(s["!ref"]){var y=ra(s["!ref"]);p.e.c=Math.max(p.e.c,y.e.c),p.e.r=Math.max(p.e.r,y.e.r),o==-1&&(o=y.e.r+1,p.e.r=o+e.length-1+a)}else o==-1&&(o=0,p.e.r=e.length-1+a);var v=n.header||[],b=0;e.forEach(function(k,E){lc(k).forEach(function(S){(b=v.indexOf(S))==-1&&(v[b=v.length]=S);var j=k[S],M="z",H="",K=mr({c:c+b,r:o+E+a});d=zm(s,K),j&&typeof j=="object"&&!(j instanceof Date)?s[K]=j:(typeof j=="number"?M="n":typeof j=="boolean"?M="b":typeof j=="string"?M="s":j instanceof Date?(M="d",n.cellDates||(M="n",j=ui(j)),H=n.dateNF||xr[14]):j===null&&n.nullError&&(M="e",j=0),d?(d.t=M,d.v=j,delete d.w,delete d.R,H&&(d.z=H)):s[K]=d={t:M,v:j},H&&(d.z=H))})}),p.e.c=Math.max(p.e.c,c+v.length-1);var A=ks(o);if(a)for(b=0;b<v.length;++b)s[Va(b+c)+A]={t:"s",v:v[b]};return s["!ref"]=Kr(p),s}function b$(t,e){return NS(null,t,e)}function zm(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=oi(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?zm(t,mr(e)):zm(t,mr({r:e,c:r||0}))}function w$(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function eb(){return{SheetNames:[],Sheets:{}}}function tb(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=o+a)!=-1;++a);}if(sG(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function _$(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=w$(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function k$(t,e){return t.z=e,t}function SS(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function A$(t,e,r){return SS(t,"#"+e,r)}function E$(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function N$(t,e,r,n){for(var a=typeof e!="string"?e:ra(e),s=typeof e=="string"?e:Kr(e),o=a.s.r;o<=a.e.r;++o)for(var c=a.s.c;c<=a.e.c;++c){var h=zm(t,o,c);h.t="n",h.F=s,delete h.v,o==a.s.r&&c==a.s.c&&(h.f=r,n&&(h.D=!0))}return t}var S$={encode_col:Va,encode_row:ks,encode_cell:mr,encode_range:Kr,decode_col:U5,decode_row:B5,split_cell:FF,decode_cell:oi,decode_range:ed,format_cell:ou,sheet_add_aoa:IN,sheet_add_json:NS,sheet_add_dom:wS,aoa_to_sheet:td,json_to_sheet:b$,table_to_sheet:_S,table_to_book:qG,sheet_to_csv:ES,sheet_to_txt:y$,sheet_to_json:gv,sheet_to_html:zG,sheet_to_formulae:v$,sheet_to_row_object_array:gv,sheet_get_cell:zm,book_new:eb,book_append_sheet:tb,book_set_sheet_visibility:_$,cell_set_number_format:k$,cell_set_hyperlink:SS,cell_set_internal_link:A$,cell_add_comment:E$,sheet_set_array_formula:N$,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const T$=()=>{const{currentUser:t}=os(),e=be.useRef(null),[r,n]=be.useState(null),[a,s]=be.useState([]),[o,c]=be.useState({current:0,total:0,isPaused:!1}),[h,d]=be.useState(null),[p,y]=be.useState(!1),[v,b]=be.useState(""),[A,k]=be.useState(!1),[E,S]=be.useState(""),[j,M]=be.useState(null),[H,K]=be.useState([]),[X,P]=be.useState(!1),D=se=>{const ne=se.target.files[0];if(!ne)return;if(!ne.name.endsWith(".xlsx")&&!ne.name.endsWith(".xls")){alert("❌ Lütfen sadece Excel dosyası (.xlsx veya .xls) seçin");return}n(ne);const J=new FileReader;J.onload=Ne=>{try{const L=new Uint8Array(Ne.target.result),z=pv(L,{type:"array"}),G=z.SheetNames[0],Y=z.Sheets[G],Z=S$.sheet_to_json(Y);s(Z);const de=Z.slice(0,10).map(xe=>({...xe,telefon:I(xe.telefon)}));K(de),P(!0)}catch(L){console.error("Excel okuma hatası:",L),alert("❌ Excel dosyası okunurken hata oluştu: "+L.message)}},J.readAsArrayBuffer(ne)},I=se=>{if(!se)return se;const ne=se.toString().replace(/\D/g,"");if(ne.length===10&&ne.startsWith("5")){const J="0"+ne;return`${J.substring(0,4)} ${J.substring(4,7)} ${J.substring(7,9)} ${J.substring(9,11)}`}if(ne.length===10&&ne.startsWith("9")){const J="0"+ne;return`${J.substring(0,4)} ${J.substring(4,7)} ${J.substring(7,9)} ${J.substring(9,11)}`}return ne.length===11&&ne.startsWith("05")?`${ne.substring(0,4)} ${ne.substring(4,7)} ${ne.substring(7,9)} ${ne.substring(9,11)}`:ne.length===11&&ne.startsWith("09")?`${ne.substring(0,4)} ${ne.substring(4,7)} ${ne.substring(7,9)} ${ne.substring(9,11)}`:se},U=se=>{const ne=[];return se.forEach((J,Ne)=>{J.personel||ne.push(`Satır ${Ne+1}: Personel adı eksik`),J.telefon||ne.push(`Satır ${Ne+1}: Telefon numarası eksik`),J.tarih||ne.push(`Satır ${Ne+1}: Tarih eksik`),J.telefon&&J.telefon.toString().replace(/\D/g,"").length<7&&ne.push(`Satır ${Ne+1}: Telefon numarası çok kısa (${J.telefon})`)}),ne},R=async()=>{if(!a.length){alert("❌ Önce Excel dosyası yükleyin");return}const se=U(a);if(se.length>0){alert(`❌ Veri hatası:
`+se.slice(0,5).join(`
`));return}if(!window.confirm(`📊 ${a.length} satır veri Firebase'e aktarılacak.

⚠️ Bu işlem uzun sürebilir ve geri alınamaz.

Devam etmek istiyor musunuz?`))return;c({current:0,total:a.length,isPaused:!1});let J=0,Ne=0;const L=[];try{const z=await Vr(hr(Lt,"users")),G={};z.forEach(xe=>{const we=xe.data();G[we.name]=we});for(let xe=0;xe<a.length;xe++){for(;o.isPaused;)await new Promise(je=>setTimeout(je,100));const we=a[xe];c(je=>({...je,current:xe+1}));try{const je=I(we.telefon),tt=Sa(hr(Lt,"sales_records"),$s("telefon","==",je),$s("tarih","==",we.tarih));if(!(await Vr(tt)).empty){Ne++;continue}const Te=`REF-${Date.now()}-${Math.random().toString(36).substr(2,6).toUpperCase()}`,Qe=G[we.personel]||null;!Qe&&L.length<5&&console.warn(`⚠️ Kullanıcı bulunamadı: ${we.personel}`),await ip(hr(Lt,"sales_records"),{refId:Te,personel:we.personel||"",telefon:je||"",kanal:we.kanal||"",durum:we.durum||"",detay:we.detay||"",abonelikDurum:we.abonelikDurum||"",aboneNumarasi:we.aboneNumarasi||"",not:we.not||"",tarih:we.tarih,createdBy:Qe?Qe.uid:t.uid,createdByName:Qe?Qe.name:we.personel,createdAt:new Date,importedAt:new Date,isImported:!0,importedByAdmin:t.uid}),J++}catch(je){console.error(`Satır ${xe+1} hatası:`,je),L.push(`Satır ${xe+1}: ${je.message}`)}xe%100===0&&await new Promise(je=>setTimeout(je,50))}const Y={total:a.length,success:J,skipped:Ne,errors:L.length,errorDetails:L.slice(0,10)};d(Y),c(xe=>({...xe,isPaused:!1}));const Z=Object.keys(G).length,de=new Set;a.forEach(xe=>{G[xe.personel]||de.add(xe.personel)}),alert(`✅ İçe aktarma tamamlandı!

📊 Toplam: ${Y.total}
✅ Başarılı: ${Y.success}
⚠️ Atlandı: ${Y.skipped}
❌ Hata: ${Y.errors}

👥 Sistemdeki kullanıcılar: ${Z}
🔍 Eşleşmeyen personel: ${de.size>0?Array.from(de).slice(0,3).join(", ")+(de.size>3?"...":""):"Yok"}`)}catch(z){console.error("İçe aktarma genel hatası:",z),c(G=>({...G,isPaused:!1})),alert("❌ İçe aktarma sırasında hata: "+z.message)}},C=()=>{c(se=>({...se,isPaused:!se.isPaused}))},B=()=>{n(null),s([]),K([]),P(!1),c({current:0,total:0,isPaused:!1}),d(null),e.current&&(e.current.value="")},W=async()=>{var se;try{S(""),await U1(ai,"wupaniyazilim@gmail.com",v),k(!0),y(!1),b(""),j==="file"?(se=e.current)==null||se.click():j==="analyze"&&R(),M(null)}catch(ne){console.error("Geliştirici doğrulama hatası:",ne),S("❌ Geçersiz geliştirici şifresi!")}},ue=()=>{var se;A?(se=e.current)==null||se.click():(M("file"),y(!0))},ae=()=>{A?R():(M("analyze"),y(!0))},le=()=>{y(!1),b(""),S(""),M(null)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:u.jsx(lm,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Veri İçe Aktarma"}),u.jsx("p",{className:"text-gray-600",children:"Excel dosyasından Firebase'e veri aktarın"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[u.jsx(rP,{className:"w-5 h-5 text-blue-600 mr-2"}),"1. Excel Dosyası Yükle"]}),u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[u.jsx(Ky,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r?u.jsxs("div",{className:"text-green-600",children:[u.jsx(Ri,{className:"w-8 h-8 mx-auto mb-2"}),u.jsx("p",{className:"font-medium",children:r.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[a.length," satır veri"]}),u.jsx("button",{onClick:B,className:"mt-2 text-red-600 hover:text-red-700 text-sm",children:"Dosyayı Değiştir"})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-gray-600 mb-4",children:"Düzenlenmiş Excel dosyanızı buraya sürükleyin veya seçin"}),u.jsx("input",{ref:e,type:"file",accept:".xlsx,.xls",onChange:D,className:"hidden"}),u.jsx("button",{onClick:ue,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Dosya Seç"})]})]})]}),X&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[u.jsx(Ky,{className:"w-5 h-5 text-green-600 mr-2"}),"2. Veri Önizleme (",a.length," satır)"]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Personel"}),u.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Tarih"}),u.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Telefon"}),u.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Kanal"}),u.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Durum"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:H.map((se,ne)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-3 py-2 text-gray-900",children:se.personel}),u.jsx("td",{className:"px-3 py-2 text-gray-600",children:se.tarih}),u.jsx("td",{className:"px-3 py-2 text-gray-600",children:se.telefon}),u.jsx("td",{className:"px-3 py-2 text-gray-600",children:se.kanal}),u.jsx("td",{className:"px-3 py-2 text-gray-600",children:se.durum})]},ne))})]})}),u.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["İlk 10 satır gösteriliyor. Toplam ",a.length," satır aktarılacak."]})]}),X&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[u.jsx(lm,{className:"w-5 h-5 text-purple-600 mr-2"}),"3. Firebase'e Aktar"]}),o.isPaused?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[u.jsx("span",{children:o.isPaused?"⏸️ Duraklatıldı":"🔄 İşleniyor..."}),u.jsxs("span",{children:[o.current," / ",o.total]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-purple-600 h-3 rounded-full transition-all duration-300",style:{width:`${o.current/o.total*100}%`}})})]}),u.jsx("div",{className:"flex space-x-3",children:u.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[o.isPaused?u.jsx(jO,{className:"w-4 h-4"}):u.jsx(CO,{className:"w-4 h-4"}),u.jsx("span",{children:o.isPaused?"Devam Et":"Duraklat"})]})})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(N0,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-yellow-800",children:"Dikkat!"}),u.jsxs("ul",{className:"text-sm text-yellow-700 mt-1 list-disc list-inside",children:[u.jsxs("li",{children:["Bu işlem uzun sürebilir (",a.length," satır)"]}),u.jsx("li",{children:"Mevcut kayıtlar atlanacak (telefon + tarih eşleşmesi)"}),u.jsx("li",{children:"İşlem geri alınamaz"}),u.jsx("li",{children:"Tarayıcıyı kapatmayın"})]})]})]})}),u.jsxs("button",{onClick:ae,className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2",children:[u.jsx(lm,{className:"w-5 h-5"}),u.jsxs("span",{children:["Firebase'e Aktar (",a.length," satır)"]})]})]})]}),h&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[u.jsx(Ri,{className:"w-5 h-5 text-green-600 mr-2"}),"İçe Aktarma Sonuçları"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.total}),u.jsx("div",{className:"text-sm text-blue-700",children:"Toplam Satır"})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.success}),u.jsx("div",{className:"text-sm text-green-700",children:"Başarılı"})]}),u.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.skipped}),u.jsx("div",{className:"text-sm text-yellow-700",children:"Atlandı"})]}),u.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.errors}),u.jsx("div",{className:"text-sm text-red-700",children:"Hata"})]})]}),h.errorDetails.length>0&&u.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Hata Detayları:"}),u.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:h.errorDetails.map((se,ne)=>u.jsxs("li",{children:["• ",se]},ne))})]}),u.jsxs("button",{onClick:B,className:"mt-4 flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:[u.jsx(MO,{className:"w-4 h-4"}),u.jsx("span",{children:"Yeni İçe Aktarma"})]})]}),p&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(bs,{className:"w-5 h-5 text-red-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Geliştirici Doğrulaması"})]}),u.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600",children:"×"})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(A6,{className:"w-4 h-4 text-red-600"}),u.jsx("p",{className:"text-sm text-gray-700",children:"Bu işlem sadece geliştiriciler tarafından yapılabilir."})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"wupaniyazilim@gmail.com hesabının şifresini girin."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Geliştirici Şifresi"}),u.jsx("input",{type:"password",value:v,onChange:se=>b(se.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Geliştirici şifresini girin",onKeyPress:se=>se.key==="Enter"&&W()})]}),E&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsx("p",{className:"text-sm text-red-700",children:E})}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:le,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"İptal"}),u.jsx("button",{onClick:W,disabled:!v,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Doğrula"})]})]})]})]})})]})},C$=()=>{const{currentUser:t}=os(),[e,r]=be.useState(!1),[n,a]=be.useState(null),[s,o]=be.useState(null),[c,h]=be.useState(!1),[d,p]=be.useState(!1),[y,v]=be.useState(""),[b,A]=be.useState(""),[k,E]=be.useState(null),S=async()=>{if(!y){A("❌ Lütfen şifre girin!");return}try{await U1(ai,"wupaniyazilim@gmail.com",y),p(!1),v(""),A(""),k==="analyze"?I():k==="update"?U():k==="fixUIDs"?P():k==="fixAsli"&&D(),E(null)}catch(R){console.error("Geliştirici doğrulama hatası:",R),A("❌ Geçersiz geliştirici şifresi!")}},j=()=>{p(!1),v(""),A(""),E(null)},M=()=>{E("analyze"),p(!0)},H=()=>{E("update"),p(!0)},K=()=>{E("fixUIDs"),p(!0)},X=()=>{E("fixAsli"),p(!0)},P=async()=>{try{const R=await Vr(hr(Lt,"users"));let C=0;for(const B of R.docs){const W=B.data(),ue=B.id;(!W.uid||W.uid!==ue)&&(await ul(sn(Lt,"users",ue),{uid:ue,updatedAt:new Date,uidFixed:!0}),C++)}alert(`✅ ${C} kullanicinin UID i duzeltildi!`)}catch(R){console.error("❌ UID duzeltme hatasi:",R),alert("❌ UID duzeltme hatasi: "+R.message)}},D=async()=>{try{const R=await Vr(hr(Lt,"users"));let C=null;if(R.forEach(ue=>{const ae=ue.data();ae.name&&ae.name.toLowerCase().includes("aslı")&&(C=ae)}),!C){alert("❌ Aslı Kılıç kullanıcısı bulunamadı!");return}const B=await Vr(hr(Lt,"sales_records"));let W=0;for(const ue of B.docs){const ae=ue.data();ae.personel&&ae.personel.toLowerCase().includes("aslı")&&(await ul(sn(Lt,"sales_records",ue.id),{createdBy:C.uid,createdByName:C.name,updatedAt:new Date,manuallyFixed:!0}),W++)}alert(`✅ ${W} Aslı Kılıç kaydı düzeltildi!`)}catch(R){console.error("❌ Asli kayitlari duzeltme hatasi:",R),alert("❌ Aslı kayıtları düzeltme hatası: "+R.message)}},I=async()=>{h(!0);try{const R=await Vr(hr(Lt,"users")),C={};if(R.forEach(Ne=>{const L=Ne.data();L.name&&(C[L.name]=L)}),Object.keys(C).length===0){console.error("❌ HİÇBİR KULLANICI YÜKLENEMEDİ!"),alert("❌ Kullanıcılar yüklenemedi! Lütfen sayfayı yenileyin.");return}const B=await Vr(hr(Lt,"sales_records")),W=[];B.forEach(Ne=>{W.push({id:Ne.id,...Ne.data()})});let ue=0,ae=0,le=new Set,se=0,ne=0;W.forEach(Ne=>{if(Ne.personel&&C[Ne.personel]){const L=C[Ne.personel];Ne.createdBy!==L.uid?(ne++,se++,(Ne.createdByName==="Admin User"||Ne.createdBy===t.uid)&&ue++):ae++}else Ne.personel&&(le.add(Ne.personel),(Ne.createdByName==="Admin User"||Ne.createdBy===t.uid)&&ue++)});const J={totalRecords:W.length,adminRecords:ue,correctRecords:ae,fixableRecords:se,wrongUidRecords:ne,unmatchedPersonnel:Array.from(le),systemUsers:Object.keys(C).length};o(J)}catch(R){console.error("Analiz hatası:",R),alert("❌ Analiz sırasında hata: "+R.message)}h(!1)},U=async()=>{r(!0);try{const R=await Vr(hr(Lt,"users")),C={};if(R.forEach(Ne=>{const L=Ne.data();L.name&&(C[L.name]=L)}),Object.keys(C).length===0){console.error("❌ HİÇBİR KULLANICI YÜKLENEMEDİ!"),alert("❌ Kullanıcılar yüklenemedi! Lütfen sayfayı yenileyin.");return}const B=await Vr(hr(Lt,"sales_records")),W=[];if(B.forEach(Ne=>{const L=Ne.data();if(L.personel&&C[L.personel]){const z=C[L.personel];(L.createdBy!==z.uid||L.createdByName!==z.name)&&W.push({id:Ne.id,...L})}}),W.length===0){alert("ℹ️ Güncellenecek kayıt bulunamadı!");return}const ue=50,ae=Math.ceil(W.length/ue);let le=0,se=0;const ne=[];for(let Ne=0;Ne<ae;Ne++){const L=Ne*ue,z=Math.min(L+ue,W.length),G=W.slice(L,z);for(const Y of G)try{let Z=C[Y.personel];if(!Z){const de=Y.personel||"";de.includes("Sevde")&&(Z=Object.values(C).find(xe=>xe.name&&(xe.name.toLowerCase().includes("sevde")||xe.name.toLowerCase().includes("hocaoğlu")||xe.name.toLowerCase().includes("hocaoglu")))),!Z&&(de.includes("Aslı")||de.includes("Kılıç"))&&(Z=Object.values(C).find(xe=>xe.name&&(xe.name.toLowerCase().includes("aslı")||xe.name.toLowerCase().includes("asli")||xe.name.toLowerCase().includes("kılıç")||xe.name.toLowerCase().includes("kilic"))))}if(Z&&Z.uid){if(!Z.uid||!Z.name){console.error(`❌ Geçersiz kullanıcı verisi: ${Y.personel}`,Z),se++;continue}const de={createdBy:Z.uid,createdByName:Z.name,updatedAt:new Date,updatedByAdmin:t.uid,wasImportFixed:!0};if(de.createdBy===void 0||de.createdByName===void 0){console.error("❌ Undefined değer tespit edildi:",de),ne.push(`${Y.refId}: Undefined createdBy veya createdByName`);continue}try{await ul(sn(Lt,"sales_records",Y.id),de),le++}catch(xe){console.error("❌ UpdateDoc hatası:",xe),ne.push(`${Y.refId}: UpdateDoc hatası - ${xe.message}`),se++}await new Promise(xe=>setTimeout(xe,100))}else{se++;let de=null;if((Y.personel.toLowerCase().includes("sevde")||Y.personel.toLowerCase().includes("hocaoğlu"))&&(de=Object.values(C).find(xe=>{if(!xe.name)return!1;const we=xe.name.toLowerCase().trim();return we.includes("sevde")||we.includes("hocaoğlu")})),!de&&(Y.personel.toLowerCase().includes("asl")||Y.personel.toLowerCase().includes("kıl"))&&(de=Object.values(C).find(xe=>{if(!xe.name)return!1;const we=xe.name.toLowerCase().trim();return we.includes("aslı")||we.includes("asli")||we.includes("kılıç")||we.includes("kilic")})),de)try{const xe={createdBy:de.uid,createdByName:de.name,updatedAt:new Date,updatedByAdmin:t.uid,wasImportFixed:!0,manualMatchUsed:!0};await ul(sn(Lt,"sales_records",Y.id),xe),le++,await new Promise(we=>setTimeout(we,100))}catch(xe){console.error("❌ Manuel güncelleme hatası:",xe),ne.push(`${Y.refId}: Manuel güncelleme hatası - ${xe.message}`)}}}catch(Z){if(console.error(`❌ ${Y.refId} güncellenirken hata:`,Z),ne.push(`${Y.refId}: ${Z.message}`),Z.code==="resource-exhausted")break}Ne<ae-1&&await new Promise(Y=>setTimeout(Y,1e3))}const J={total:W.length,updated:le,skipped:se,errors:ne.length,errorDetails:ne.slice(0,10)};a(J),alert(`✅ Veri güncelleme tamamlandı!

📊 Toplam: ${J.total}
✅ Güncellendi: ${J.updated}
⚠️ Atlandı: ${J.skipped}
❌ Hata: ${J.errors}

🎉 Artık dashboard'da doğru personeller görünecek!`)}catch(R){console.error("❌ Güncelleme hatası:",R),alert("❌ Güncelleme sırasında hata: "+R.message)}finally{r(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:u.jsx(Jc,{className:"w-6 h-6 text-orange-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Veri Güncelleme"}),u.jsx("p",{className:"text-gray-600",children:"Mevcut kayıtları doğru personellerle eşleştir"})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[u.jsx(lm,{className:"w-5 h-5 text-blue-600 mr-2"}),"1. Mevcut Veri Analizi"]}),s?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalRecords}),u.jsx("div",{className:"text-sm text-blue-700",children:"Toplam Kayıt"})]}),u.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.adminRecords}),u.jsx("div",{className:"text-sm text-red-700",children:"Admin Olarak Kayıtlı"})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.fixableRecords}),u.jsx("div",{className:"text-sm text-green-700",children:"Düzeltilebilir"})]}),u.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.unmatchedPersonnel.length}),u.jsx("div",{className:"text-sm text-yellow-700",children:"Eşleşmeyen Personel"})]})]}),s.unmatchedPersonnel.length>0&&u.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[u.jsxs("h4",{className:"font-medium text-yellow-800 mb-2 flex items-center",children:[u.jsx(N0,{className:"w-4 h-4 mr-2"}),"Eşleşmeyen Personeller:"]}),u.jsxs("div",{className:"text-sm text-yellow-700",children:[s.unmatchedPersonnel.slice(0,10).join(", "),s.unmatchedPersonnel.length>10&&` ve ${s.unmatchedPersonnel.length-10} tane daha...`]}),u.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Bu personeller için önce kullanıcı hesabı oluşturulmalı."})]})]}):u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("p",{className:"text-gray-600 mb-4",children:"Önce mevcut verileri analiz edelim ve hangi kayıtların güncellenmesi gerektiğini görelim."}),u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsx("button",{onClick:M,disabled:c,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center space-x-2 mx-auto",children:c?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Analiz Ediliyor..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(bs,{className:"w-4 h-4"}),u.jsx(lm,{className:"w-4 h-4"}),u.jsx("span",{children:"Veriyi Analiz Et (Geliştirici)"})]})}),u.jsxs("div",{className:"border-t pt-3 space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Eğer kullanıcı UID problemi varsa:"}),u.jsxs("button",{onClick:K,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 mx-auto text-sm",children:[u.jsx(bs,{className:"w-4 h-4"}),u.jsx("span",{children:"Kullanıcı UID'lerini Düzelt (Geliştirici)"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Aslı Kılıç kayıtları düzeltilmiyorsa:"}),u.jsxs("button",{onClick:X,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 mx-auto text-sm",children:[u.jsx(bs,{className:"w-4 h-4"}),u.jsx("span",{children:"Aslı Kılıç Kayıtlarını Manuel Düzelt (Geliştirici)"})]})]})]})]})]})]}),s&&s.fixableRecords>0&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[u.jsx(Jc,{className:"w-5 h-5 text-orange-600 mr-2"}),"2. Veri Güncelleme"]}),!e&&!n?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(Ri,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-green-800",children:"Güncelleme Hazır!"}),u.jsxs("ul",{className:"text-sm text-green-700 mt-1 list-disc list-inside",children:[u.jsxs("li",{children:[s.fixableRecords," kayıt doğru personellerle eşleştirilecek"]}),u.jsx("li",{children:"createdBy ve createdByName alanları güncellenecek"}),u.jsx("li",{children:"Dashboard istatistikleri düzelecek"}),u.jsx("li",{children:"Zirveye Adını Yazdıranlar doğru gösterilecek"})]})]})]})}),u.jsxs("button",{onClick:H,className:"w-full bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[u.jsx(bs,{className:"w-5 h-5"}),u.jsx(Jc,{className:"w-5 h-5"}),u.jsxs("span",{children:["Verileri Güncelle (",s.fixableRecords," kayıt) - Geliştirici"]})]})]}):e?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Veriler güncelleniyor..."}),u.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Lütfen bekleyin, bu işlem birkaç dakika sürebilir"})]}):null]}),n&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[u.jsx(Ri,{className:"w-5 h-5 text-green-600 mr-2"}),"Güncelleme Sonuçları"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.total}),u.jsx("div",{className:"text-sm text-blue-700",children:"Toplam İşlenen"})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.updated}),u.jsx("div",{className:"text-sm text-green-700",children:"Güncellendi"})]}),u.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.skipped}),u.jsx("div",{className:"text-sm text-yellow-700",children:"Atlandı"})]}),u.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[u.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.errors}),u.jsx("div",{className:"text-sm text-red-700",children:"Hata"})]})]}),u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ri,{className:"w-5 h-5 text-green-600 mr-2"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-green-800",children:"🎉 Güncelleme Tamamlandı!"}),u.jsx("p",{className:"text-sm text-green-700 mt-1",children:`Artık Dashboard'da "Zirveye Adını Yazdıranlar" bölümünde doğru personeller görünecek. Sayfayı yenileyerek kontrol edebilirsiniz.`})]})]})})]}),d&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(bs,{className:"w-5 h-5 text-red-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Geliştirici Doğrulaması"})]}),u.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:u.jsx(oc,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(A6,{className:"w-4 h-4 text-red-600"}),u.jsx("p",{className:"text-sm text-gray-700",children:"Bu işlem sadece geliştiriciler tarafından yapılabilir."})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"wupaniyazilim@gmail.com hesabının şifresini girin."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Geliştirici Şifresi"}),u.jsx("input",{type:"password",value:y,onChange:R=>v(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Geliştirici şifresini girin",onKeyPress:R=>R.key==="Enter"&&S()})]}),b&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:u.jsx("p",{className:"text-sm text-red-700",children:b})}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"İptal"}),u.jsx("button",{onClick:S,disabled:!y,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Doğrula"})]})]})]})]})})]})},R$=()=>{const{currentUser:t}=os(),[e,r]=be.useState([]),[n,a]=be.useState(!0),[s,o]=be.useState(null),[c,h]=be.useState(null);be.useEffect(()=>{p(),d()},[]);const d=()=>{const E=sessionStorage.getItem("originalAdmin"),S=sessionStorage.getItem("switchedUser");E&&S?(h(JSON.parse(E)),o(JSON.parse(S))):(E||S)&&(sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"))},p=async()=>{try{a(!0);const E=hr(Lt,"users"),j=(await Vr(E)).docs.map(M=>({id:M.id,...M.data()})).filter(M=>M.email!=="wupaniyazilim@gmail.com"&&M.name!=="Admin User"&&M.isActive).sort((M,H)=>{const K={Admin:1,"Team Leader":2,Personnel:3},X=K[M.role]||4,P=K[H.role]||4;return X!==P?X-P:(M.name||"").localeCompare(H.name||"")});r(j)}catch(E){console.error("Kullanıcılar yüklenirken hata:",E)}finally{a(!1)}},y=async E=>{try{if(!sessionStorage.getItem("originalAdmin")){const K=(await Xi(sn(Lt,"users",t.uid))).data(),X={uid:t.uid,email:(K==null?void 0:K.email)||t.email,name:(K==null?void 0:K.name)||t.displayName||"Admin User",role:(K==null?void 0:K.role)||"Admin"};sessionStorage.setItem("originalAdmin",JSON.stringify(X)),h(X)}const M=(await Xi(sn(Lt,"users",E.id))).data();sessionStorage.setItem("switchedUser",JSON.stringify({uid:E.id,email:M.email,name:M.name,role:M.role})),window.location.reload()}catch(S){console.error("Kullanıcı geçişi hatası:",S),alert("Kullanıcı geçişi sırasında hata oluştu.")}},v=()=>{sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),window.location.reload()},b=E=>{switch(E){case"Admin":return $y;case"Team Leader":return Zc;case"Personnel":return f0;default:return f0}},A=E=>{switch(E){case"Admin":return"from-purple-500 to-purple-600";case"Team Leader":return"from-blue-500 to-blue-600";case"Personnel":return"from-green-500 to-green-600";default:return"from-gray-500 to-gray-600"}},k=E=>{switch(E){case"Admin":return"bg-purple-100 text-purple-800";case"Team Leader":return"bg-blue-100 text-blue-800";case"Personnel":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return n?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:u.jsx(Ua,{className:"w-6 h-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kullanıcı Hesaplarına Giriş"}),u.jsx("p",{className:"text-gray-600",children:"Herhangi bir kullanıcının hesabına geçiş yapabilirsiniz"})]})]}),c&&u.jsxs("button",{onClick:v,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[u.jsx(C9,{className:"w-4 h-4"}),u.jsx("span",{children:"Admin Hesabına Dön"})]})]}),c&&u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(bs,{className:"w-5 h-5 text-yellow-600 mr-2"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-yellow-800",children:"Admin Geçiş Modu Aktif"}),u.jsxs("p",{className:"text-sm text-yellow-700",children:["Şu anda ",u.jsx("strong",{children:s==null?void 0:s.email})," hesabında görüntüleme yapıyorsunuz. Orijinal admin: ",u.jsx("strong",{children:c.email})]})]})]})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(E=>{const S=b(E.role);return u.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1",onClick:()=>y(E),children:[u.jsxs("div",{className:`h-20 bg-gradient-to-r ${A(E.role)} relative`,children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"}),u.jsxs("div",{className:"absolute bottom-3 left-4 flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:u.jsx(S,{className:"w-4 h-4 text-white"})}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(E.role)}`,children:E.role})]})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"font-semibold text-gray-900 text-lg truncate",children:E.name||"İsimsiz Kullanıcı"}),u.jsx(b1,{className:"w-5 h-5 text-gray-400"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(qy,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"truncate",children:E.email})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(lp,{className:"w-4 h-4 mr-1"}),u.jsx("span",{children:"Hesabına Geç"})]}),E.role==="Admin"&&u.jsx(WO,{className:"w-4 h-4 text-yellow-500"})]})]})]}),u.jsx("div",{className:"absolute inset-0 bg-purple-600 bg-opacity-0 hover:bg-opacity-5 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100",children:u.jsx("div",{className:"bg-white rounded-full p-3 shadow-lg",children:u.jsx(b1,{className:"w-6 h-6 text-purple-600"})})})]},E.id)})}),e.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Ua,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Kullanıcı Bulunamadı"}),u.jsx("p",{className:"text-gray-500",children:"Aktif kullanıcı bulunmuyor."})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx(bs,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Güvenlik Bilgisi"}),u.jsx("p",{className:"text-sm text-blue-700",children:'Bu özellik sadece admin hesapları için kullanılabilir. Geçiş yaptığınız hesapta sadece o kullanıcının yetkilerine sahip olursunuz. İstediğiniz zaman "Admin Hesabına Dön" butonuyla orijinal hesabınıza dönebilirsiniz.'})]})]})})]})},I$=()=>{var B;const{currentUser:t}=os(),[e,r]=be.useState(!1),[n,a]=be.useState(!1),[s,o]=be.useState(null),[c,h]=be.useState([]),[d,p]=be.useState(""),[y,v]=be.useState([]),[b,A]=be.useState(""),[k,E]=be.useState({}),[S,j]=be.useState(0),[M]=be.useState({}),H=be.useRef(null),K=be.useRef(null);be.useEffect(()=>{t&&(async()=>{try{const ue=Sa(hr(Lt,"users"),$s("isActive","==",!0)),le=(await Vr(ue)).docs.map(se=>({id:se.id,...se.data()})).filter(se=>se.id!==(t==null?void 0:t.uid));v(le)}catch(ue){console.error("Kullanıcılar getirilemedi:",ue)}})()},[t]),be.useEffect(()=>{if(!t)return;const W=async ae=>{try{await ul(sn(Lt,"users",t.uid),{isOnline:ae,lastSeen:Bh()})}catch(le){console.error("Online durum güncellenemedi:",le)}};W(!0),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const ue=()=>W(!1);return window.addEventListener("beforeunload",ue),()=>{W(!1),window.removeEventListener("beforeunload",ue)}},[t]),be.useEffect(()=>{if(!t)return;const W=[];let ue=0;const ae={},le=()=>{E(ae),j(ue)};return y.forEach(se=>{const ne=[t.uid,se.id].sort().join("_"),J=Sa(hr(Lt,"chats",ne,"messages"),$s("senderId","==",se.id),$s("read","==",!1)),Ne=Vy(J,L=>{const z=L.docs.length;if(ue-=ae[se.id]||0,ue+=z,ae[se.id]=z,le(),z>0&&Notification.permission==="granted"){const G=L.docs.filter(Y=>{const Z=Y.data();return Z.timestamp&&Z.timestamp.toDate()>new Date(Date.now()-5e3)});if(G.length>0){const Y=G[G.length-1].data();new Notification(`${z} okunmamış mesajınız var`,{body:`${se.name||se.email}: ${Y.text}`,icon:"/vite.svg",tag:`chat-${se.id}`,requireInteraction:!1})}}});W.push(Ne)}),()=>{W.forEach(se=>se())}},[t,y,E,j]),be.useEffect(()=>{if(!s||!t)return;const W=[t.uid,s.id].sort().join("_"),ue=Sa(hr(Lt,"chats",W,"messages"),v5("timestamp","asc")),ae=Vy(ue,le=>{const se=le.docs.map(ne=>({id:ne.id,...ne.data()}));h(se),X()});return()=>ae()},[s,t]);const X=()=>{var W;(W=H.current)==null||W.scrollIntoView({behavior:"smooth"})},P=be.useCallback(async W=>{var ae,le;if(W.preventDefault(),!d.trim()||!s||!t)return;const ue=[t.uid,s.id].sort().join("_");try{await ip(hr(Lt,"chats",ue,"messages"),{text:d.trim(),senderId:t.uid,senderName:t.name||((ae=t.email)==null?void 0:ae.split("@")[0]),timestamp:Bh(),read:!1}),p(""),(le=K.current)==null||le.focus()}catch(se){console.error("Mesaj gönderilemedi:",se)}},[d,s,t]),D=be.useCallback(async W=>{o(W),a(!1);try{const ue=[t.uid,W.id].sort().join("_"),ae=Sa(hr(Lt,"chats",ue,"messages"),$s("senderId","==",W.id),$s("read","==",!1)),se=(await Vr(ae)).docs.map(ne=>ul(ne.ref,{read:!0}));await Promise.all(se)}catch(ue){console.error("Mesajlar okundu olarak işaretlenemedi:",ue)}},[t]),U=y.filter(W=>{var ue,ae;return((ue=W.name)==null?void 0:ue.toLowerCase().includes(b.toLowerCase()))||((ae=W.email)==null?void 0:ae.toLowerCase().includes(b.toLowerCase()))}).sort((W,ue)=>{var L,z;const ae=G=>G==="admin"||G==="Admin"?"admin":G==="teamLeader"||G==="Team Leader"?"teamLeader":G==="personnel"||G==="Personnel"?"personnel":G,le={admin:1,teamLeader:2,personnel:3},se=le[ae(W.role)]||4,ne=le[ae(ue.role)]||4;if(se!==ne)return se-ne;const J=(W.name||((L=W.email)==null?void 0:L.split("@")[0])||"").toLowerCase(),Ne=(ue.name||((z=ue.email)==null?void 0:z.split("@")[0])||"").toLowerCase();return J.localeCompare(Ne)}),R=s&&M[s.id],C=W=>{if(!W)return"";const ue=W.toDate(),le=new Date-ue,se=Math.floor(le/6e4),ne=Math.floor(le/36e5),J=Math.floor(le/864e5);return se<1?"Şimdi":se<60?`${se}dk`:ne<24?`${ne}sa`:J<7?`${J}g`:ue.toLocaleDateString("tr-TR")};return t?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>r(!e),className:`fixed bottom-6 right-6 z-50 p-3 lg:p-4 bg-gradient-purple text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 ${e?"rotate-45":""}`,children:[u.jsx(W4,{className:"h-5 w-5 lg:h-6 lg:w-6"}),S>0&&u.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:S})]}),e&&u.jsxs("div",{className:`fixed bottom-24 right-6 z-40 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-purple-100 dark:border-gray-700 transition-all duration-300 ${n?"h-16":"h-[500px]"} w-96 max-w-[calc(100vw-3rem)] lg:w-96`,children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-purple-100 dark:border-gray-700 bg-gradient-purple text-white rounded-t-2xl",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(W4,{className:"h-5 w-5"}),u.jsx("div",{children:u.jsxs("h3",{className:"font-semibold text-sm",children:[s?s.name||((B=s.email)==null?void 0:B.split("@")[0]):"Sohbet",!s&&S>0&&u.jsxs("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:[S," okunmamış"]})]})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>a(!n),className:"p-1 hover:bg-purple-600 rounded-lg transition-colors",children:n?u.jsx(xO,{className:"h-4 w-4"}):u.jsx(kO,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-purple-600 rounded-lg transition-colors",children:u.jsx(oc,{className:"h-4 w-4"})})]})]}),!n&&u.jsxs("div",{className:"h-[420px] flex",children:[!s&&u.jsxs("div",{className:"w-full p-4",children:[u.jsxs("div",{className:"relative mb-4",children:[u.jsx(N6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Personel ara...",value:b,onChange:W=>A(W.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),u.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:U.map(W=>{var ue,ae;return u.jsxs("button",{onClick:()=>D(W),className:"w-full flex items-center space-x-3 p-3 hover:bg-purple-50 dark:hover:bg-gray-700 rounded-lg transition-colors text-left",children:[u.jsx("div",{className:"relative",children:u.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-full flex items-center justify-center text-white font-semibold text-sm",children:(W.name||((ue=W.email)==null?void 0:ue.split("@")[0])||"U")[0].toUpperCase()})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:W.name||((ae=W.email)==null?void 0:ae.split("@")[0])}),u.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${W.role==="admin"||W.role==="Admin"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":W.role==="teamLeader"||W.role==="Team Leader"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:W.role==="admin"||W.role==="Admin"?"Yönetici":W.role==="teamLeader"||W.role==="Team Leader"?"Takım Lideri":"Personel"})]}),k[W.id]>0&&u.jsx("div",{className:"w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:k[W.id]})]})})]},W.id)})})]}),s&&u.jsxs("div",{className:"w-full flex flex-col",children:[u.jsxs("button",{onClick:()=>o(null),className:"flex items-center space-x-2 p-3 text-purple-600 hover:bg-purple-50 dark:hover:bg-gray-700 transition-colors",children:[u.jsx(Ua,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm",children:"Kullanıcılara Dön"})]}),u.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-2 max-h-80",children:[c.map((W,ue)=>{var se;const ae=c[ue-1],le=W.senderId!==t.uid&&(!ae||ae.senderId!==W.senderId);return u.jsx("div",{className:`flex ${W.senderId===t.uid?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-xs ${W.senderId===t.uid?"text-right":"text-left"}`,children:[le&&u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 px-1 font-medium",children:W.senderName||(s==null?void 0:s.name)||((se=s==null?void 0:s.email)==null?void 0:se.split("@")[0])||"Bilinmeyen"}),u.jsxs("div",{className:`px-4 py-2 rounded-2xl ${W.senderId===t.uid?"bg-gradient-purple text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"} ${!le&&W.senderId!==t.uid?"mt-1":""}`,children:[u.jsx("p",{className:"text-sm",children:W.text}),u.jsxs("div",{className:`flex items-center ${W.senderId===t.uid?"justify-end":"justify-start"} space-x-1 mt-1 ${W.senderId===t.uid?"text-purple-100":"text-gray-500"}`,children:[u.jsx("span",{className:"text-xs",children:C(W.timestamp)}),W.senderId===t.uid&&u.jsx("div",{className:"flex",children:W.read?u.jsx(B9,{className:"h-3 w-3"}):u.jsx(V9,{className:"h-3 w-3"})})]})]})]})},W.id)}),R&&u.jsx("div",{className:"flex justify-start",children:u.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-2xl",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),u.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),u.jsx("div",{ref:H})]}),u.jsx("form",{onSubmit:P,className:"p-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{ref:K,type:"text",value:d,onChange:W=>p(W.target.value),placeholder:"Mesaj yazın...",className:"flex-1 px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-full text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),u.jsx("button",{type:"submit",disabled:!d.trim(),className:"p-2 bg-gradient-purple text-white rounded-full hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u.jsx(VO,{className:"h-4 w-4"})})]})})]})]})]})]}):null},D$=be.memo(I$);function Ma({children:t}){const{currentUser:e}=os();return e?t:u.jsx(Lg,{to:"/login",replace:!0})}function Fa({children:t}){return u.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[u.jsx(hM,{}),u.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[u.jsx(mM,{}),u.jsx("main",{className:"flex-1 overflow-y-auto bg-transparent",children:t})]}),u.jsx(D$,{})]})}function j$(){const{currentUser:t,checkUserStatus:e}=os();return be.useEffect(()=>{if(t){const r=setInterval(async()=>{await e()},3e4);return()=>clearInterval(r)}},[t,e]),u.jsx(Z8,{children:u.jsxs(C8,{children:[u.jsx($n,{path:"/login",element:t?u.jsx(Lg,{to:"/dashboard",replace:!0}):u.jsx(uP,{})}),u.jsx($n,{path:"/",element:u.jsx(Lg,{to:"/dashboard",replace:!0})}),u.jsx($n,{path:"/dashboard",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(fP,{})})})}),u.jsx($n,{path:"/records",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx("div",{className:"p-6",children:u.jsx(yM,{})})})})}),u.jsx($n,{path:"/add-record",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx("div",{className:"p-6",children:u.jsx(gM,{})})})})}),u.jsx($n,{path:"/user-management",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin"],children:u.jsx("div",{className:"p-6",children:u.jsx(vM,{})})})})})}),u.jsx($n,{path:"/user-switcher",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin"],children:u.jsx("div",{className:"p-6",children:u.jsx(R$,{})})})})})}),u.jsx($n,{path:"/target-management",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin","teamLeader"],children:u.jsx("div",{className:"p-6",children:u.jsx(bM,{})})})})})}),u.jsx($n,{path:"/team-management",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin"],children:u.jsx("div",{className:"p-6",children:u.jsx(wM,{})})})})})}),u.jsx($n,{path:"/dropdown-settings",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin"],children:u.jsx(_M,{})})})})}),u.jsx($n,{path:"/data-import",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin"],children:u.jsx("div",{className:"p-6",children:u.jsx(T$,{})})})})})}),u.jsx($n,{path:"/data-update",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin"],children:u.jsx("div",{className:"p-6",children:u.jsx(C$,{})})})})})}),u.jsx($n,{path:"/data-export",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin"],children:u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx("div",{className:"card-modern p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),u.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Veri Dışa Aktarma"}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Verileri Excel formatında dışa aktarın"}),u.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[u.jsx("p",{className:"text-gray-700 font-medium",children:"Veri dışa aktarma özelliği geliştirme aşamasında..."}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Excel formatında veri dışa aktarım araçları yakında eklenecek."})]})]})})})})})})})}),u.jsx($n,{path:"/database-management",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin"],children:u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx("div",{className:"card-modern p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),u.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Veritabanı Yönetimi"}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Veri yedekleme ve bakım işlemleri"}),u.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[u.jsx("p",{className:"text-gray-700 font-medium",children:"Veritabanı yönetim araçları geliştirme aşamasında..."}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Veri yedekleme, geri yükleme ve bakım araçları yakında eklenecek."})]})]})})})})})})})}),u.jsx($n,{path:"/settings",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(kM,{})})})}),u.jsx($n,{path:"/system-logs",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin"],children:u.jsx(EM,{})})})})}),u.jsx($n,{path:"/analytics",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin","teamLeader"],children:u.jsx(cM,{})})})})}),u.jsx($n,{path:"/monthly-comparison",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["admin","teamLeader"],children:u.jsx("div",{className:"p-6",children:u.jsx(uM,{})})})})})}),u.jsx($n,{path:"/team-performance",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(fM,{})})})}),u.jsx($n,{path:"/targets",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["teamLeader","personnel"],children:u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsx("div",{className:"card-modern p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}),u.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Hedefler"}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Hedef takibi ve ilerleme yönetimi"}),u.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[u.jsx("p",{className:"text-gray-700 font-medium",children:"Hedef yönetimi sayfası geliştirme aşamasında..."}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Satış hedefleri, takip ve raporlama araçları yakında eklenecek."})]})]})})})})})})})}),u.jsx($n,{path:"/reports",element:u.jsx(Ma,{children:u.jsx(Fa,{children:u.jsx(zs,{allowedRoles:["teamLeader"],children:u.jsx("div",{className:"p-6",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsx("div",{className:"card-modern p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),u.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Raporlar"}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Takım raporları ve analitik veriler"}),u.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[u.jsx("p",{className:"text-gray-700 font-medium",children:"Raporlama sistemi geliştirme aşamasında..."}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Detaylı takım raporları ve analitik araçları yakında eklenecek."})]})]})})})})})})})}),u.jsx($n,{path:"*",element:u.jsx(Lg,{to:"/dashboard",replace:!0})})]})})}function L$(){return u.jsx(b9,{children:u.jsx(y9,{children:u.jsx(j$,{})})})}m6();FT.createRoot(document.getElementById("root")).render(u.jsx(be.StrictMode,{children:u.jsx(L$,{})}));export{gn as _};
