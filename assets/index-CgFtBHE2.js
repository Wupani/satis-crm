(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var A2={exports:{}},Bd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function EN(){if(Hw)return Bd;Hw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:o,ref:a!==void 0?a:null,props:s}}return Bd.Fragment=e,Bd.jsx=r,Bd.jsxs=r,Bd}var Gw;function AN(){return Gw||(Gw=1,A2.exports=EN()),A2.exports}var f=AN(),S2={exports:{}},yr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function SN(){if($w)return yr;$w=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function A(Y,Te,F){this.props=Y,this.context=Te,this.refs=k,this.updater=F||b}A.prototype.isReactComponent={},A.prototype.setState=function(Y,Te){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Te,"setState")},A.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function N(){}N.prototype=A.prototype;function I(Y,Te,F){this.props=Y,this.context=Te,this.refs=k,this.updater=F||b}var P=I.prototype=new N;P.constructor=I,E(P,A.prototype),P.isPureReactComponent=!0;var z=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function j(Y,Te,F,H,K,Q){return F=Q.ref,{$$typeof:t,type:Y,key:Te,ref:F!==void 0?F:null,props:Q}}function L(Y,Te){return j(Y.type,Te,void 0,void 0,void 0,Y.props)}function R(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function U(Y){var Te={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(F){return Te[F]})}var D=/\/+/g;function C(Y,Te){return typeof Y=="object"&&Y!==null&&Y.key!=null?U(""+Y.key):Te.toString(36)}function B(){}function ne(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(B,B):(Y.status="pending",Y.then(function(Te){Y.status==="pending"&&(Y.status="fulfilled",Y.value=Te)},function(Te){Y.status==="pending"&&(Y.status="rejected",Y.reason=Te)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ye(Y,Te,F,H,K){var Q=typeof Y;(Q==="undefined"||Q==="boolean")&&(Y=null);var re=!1;if(Y===null)re=!0;else switch(Q){case"bigint":case"string":case"number":re=!0;break;case"object":switch(Y.$$typeof){case t:case e:re=!0;break;case p:return re=Y._init,ye(re(Y._payload),Te,F,H,K)}}if(re)return K=K(Y),re=H===""?"."+C(Y,0):H,z(K)?(F="",re!=null&&(F=re.replace(D,"$&/")+"/"),ye(K,Te,F,"",function(we){return we})):K!=null&&(R(K)&&(K=L(K,F+(K.key==null||Y&&Y.key===K.key?"":(""+K.key).replace(D,"$&/")+"/")+re)),Te.push(K)),1;re=0;var de=H===""?".":H+":";if(z(Y))for(var ve=0;ve<Y.length;ve++)H=Y[ve],Q=de+C(H,ve),re+=ye(H,Te,F,Q,K);else if(ve=v(Y),typeof ve=="function")for(Y=ve.call(Y),ve=0;!(H=Y.next()).done;)H=H.value,Q=de+C(H,ve++),re+=ye(H,Te,F,Q,K);else if(Q==="object"){if(typeof Y.then=="function")return ye(ne(Y),Te,F,H,K);throw Te=String(Y),Error("Objects are not valid as a React child (found: "+(Te==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Te)+"). If you meant to render a collection of children, use an array instead.")}return re}function ae(Y,Te,F){if(Y==null)return Y;var H=[],K=0;return ye(Y,H,"","",function(Q){return Te.call(F,Q,K++)}),H}function le(Y){if(Y._status===-1){var Te=Y._result;Te=Te(),Te.then(function(F){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=F)},function(F){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=F)}),Y._status===-1&&(Y._status=0,Y._result=Te)}if(Y._status===1)return Y._result.default;throw Y._result}var ce=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(Te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function te(){}return yr.Children={map:ae,forEach:function(Y,Te,F){ae(Y,function(){Te.apply(this,arguments)},F)},count:function(Y){var Te=0;return ae(Y,function(){Te++}),Te},toArray:function(Y){return ae(Y,function(Te){return Te})||[]},only:function(Y){if(!R(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},yr.Component=A,yr.Fragment=r,yr.Profiler=a,yr.PureComponent=I,yr.StrictMode=n,yr.Suspense=h,yr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,yr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return G.H.useMemoCache(Y)}},yr.cache=function(Y){return function(){return Y.apply(null,arguments)}},yr.cloneElement=function(Y,Te,F){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var H=E({},Y.props),K=Y.key,Q=void 0;if(Te!=null)for(re in Te.ref!==void 0&&(Q=void 0),Te.key!==void 0&&(K=""+Te.key),Te)!W.call(Te,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&Te.ref===void 0||(H[re]=Te[re]);var re=arguments.length-2;if(re===1)H.children=F;else if(1<re){for(var de=Array(re),ve=0;ve<re;ve++)de[ve]=arguments[ve+2];H.children=de}return j(Y.type,K,void 0,void 0,Q,H)},yr.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},yr.createElement=function(Y,Te,F){var H,K={},Q=null;if(Te!=null)for(H in Te.key!==void 0&&(Q=""+Te.key),Te)W.call(Te,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(K[H]=Te[H]);var re=arguments.length-2;if(re===1)K.children=F;else if(1<re){for(var de=Array(re),ve=0;ve<re;ve++)de[ve]=arguments[ve+2];K.children=de}if(Y&&Y.defaultProps)for(H in re=Y.defaultProps,re)K[H]===void 0&&(K[H]=re[H]);return j(Y,Q,void 0,void 0,null,K)},yr.createRef=function(){return{current:null}},yr.forwardRef=function(Y){return{$$typeof:c,render:Y}},yr.isValidElement=R,yr.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:le}},yr.memo=function(Y,Te){return{$$typeof:d,type:Y,compare:Te===void 0?null:Te}},yr.startTransition=function(Y){var Te=G.T,F={};G.T=F;try{var H=Y(),K=G.S;K!==null&&K(F,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(te,ce)}catch(Q){ce(Q)}finally{G.T=Te}},yr.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},yr.use=function(Y){return G.H.use(Y)},yr.useActionState=function(Y,Te,F){return G.H.useActionState(Y,Te,F)},yr.useCallback=function(Y,Te){return G.H.useCallback(Y,Te)},yr.useContext=function(Y){return G.H.useContext(Y)},yr.useDebugValue=function(){},yr.useDeferredValue=function(Y,Te){return G.H.useDeferredValue(Y,Te)},yr.useEffect=function(Y,Te,F){var H=G.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(Y,Te)},yr.useId=function(){return G.H.useId()},yr.useImperativeHandle=function(Y,Te,F){return G.H.useImperativeHandle(Y,Te,F)},yr.useInsertionEffect=function(Y,Te){return G.H.useInsertionEffect(Y,Te)},yr.useLayoutEffect=function(Y,Te){return G.H.useLayoutEffect(Y,Te)},yr.useMemo=function(Y,Te){return G.H.useMemo(Y,Te)},yr.useOptimistic=function(Y,Te){return G.H.useOptimistic(Y,Te)},yr.useReducer=function(Y,Te,F){return G.H.useReducer(Y,Te,F)},yr.useRef=function(Y){return G.H.useRef(Y)},yr.useState=function(Y){return G.H.useState(Y)},yr.useSyncExternalStore=function(Y,Te,F){return G.H.useSyncExternalStore(Y,Te,F)},yr.useTransition=function(){return G.H.useTransition()},yr.version="19.1.0",yr}var Kw;function pv(){return Kw||(Kw=1,S2.exports=SN()),S2.exports}var Ae=pv(),T2={exports:{}},Ud={},N2={exports:{}},C2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function TN(){return Ww||(Ww=1,function(t){function e(ae,le){var ce=ae.length;ae.push(le);e:for(;0<ce;){var te=ce-1>>>1,Y=ae[te];if(0<a(Y,le))ae[te]=le,ae[ce]=Y,ce=te;else break e}}function r(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var le=ae[0],ce=ae.pop();if(ce!==le){ae[0]=ce;e:for(var te=0,Y=ae.length,Te=Y>>>1;te<Te;){var F=2*(te+1)-1,H=ae[F],K=F+1,Q=ae[K];if(0>a(H,ce))K<Y&&0>a(Q,H)?(ae[te]=Q,ae[K]=ce,te=K):(ae[te]=H,ae[F]=ce,te=F);else if(K<Y&&0>a(Q,ce))ae[te]=Q,ae[K]=ce,te=K;else break e}}return le}function a(ae,le){var ce=ae.sortIndex-le.sortIndex;return ce!==0?ce:ae.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var h=[],d=[],p=1,y=null,v=3,b=!1,E=!1,k=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function z(ae){for(var le=r(d);le!==null;){if(le.callback===null)n(d);else if(le.startTime<=ae)n(d),le.sortIndex=le.expirationTime,e(h,le);else break;le=r(d)}}function G(ae){if(k=!1,z(ae),!E)if(r(h)!==null)E=!0,W||(W=!0,C());else{var le=r(d);le!==null&&ye(G,le.startTime-ae)}}var W=!1,j=-1,L=5,R=-1;function U(){return A?!0:!(t.unstable_now()-R<L)}function D(){if(A=!1,W){var ae=t.unstable_now();R=ae;var le=!0;try{e:{E=!1,k&&(k=!1,I(j),j=-1),b=!0;var ce=v;try{t:{for(z(ae),y=r(h);y!==null&&!(y.expirationTime>ae&&U());){var te=y.callback;if(typeof te=="function"){y.callback=null,v=y.priorityLevel;var Y=te(y.expirationTime<=ae);if(ae=t.unstable_now(),typeof Y=="function"){y.callback=Y,z(ae),le=!0;break t}y===r(h)&&n(h),z(ae)}else n(h);y=r(h)}if(y!==null)le=!0;else{var Te=r(d);Te!==null&&ye(G,Te.startTime-ae),le=!1}}break e}finally{y=null,v=ce,b=!1}le=void 0}}finally{le?C():W=!1}}}var C;if(typeof P=="function")C=function(){P(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ne=B.port2;B.port1.onmessage=D,C=function(){ne.postMessage(null)}}else C=function(){N(D,0)};function ye(ae,le){j=N(function(){ae(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var ce=v;v=le;try{return ae()}finally{v=ce}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(ae,le){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ce=v;v=ae;try{return le()}finally{v=ce}},t.unstable_scheduleCallback=function(ae,le,ce){var te=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?te+ce:te):ce=te,ae){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ce+Y,ae={id:p++,callback:le,priorityLevel:ae,startTime:ce,expirationTime:Y,sortIndex:-1},ce>te?(ae.sortIndex=ce,e(d,ae),r(h)===null&&ae===r(d)&&(k?(I(j),j=-1):k=!0,ye(G,ce-te))):(ae.sortIndex=Y,e(h,ae),E||b||(E=!0,W||(W=!0,C()))),ae},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(ae){var le=v;return function(){var ce=v;v=le;try{return ae.apply(this,arguments)}finally{v=ce}}}}(C2)),C2}var Yw;function NN(){return Yw||(Yw=1,N2.exports=TN()),N2.exports}var R2={exports:{}},Is={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw;function CN(){if(Xw)return Is;Xw=1;var t=pv();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Is.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Is.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(h,d,null,p)},Is.flushSync=function(h){var d=o.T,p=n.p;try{if(o.T=null,n.p=2,h)return h()}finally{o.T=d,n.p=p,n.d.f()}},Is.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},Is.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Is.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Is.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},Is.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Is.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},Is.requestFormReset=function(h){n.d.r(h)},Is.unstable_batchedUpdates=function(h,d){return h(d)},Is.useFormState=function(h,d,p){return o.H.useFormState(h,d,p)},Is.useFormStatus=function(){return o.H.useHostTransitionStatus()},Is.version="19.1.0",Is}var Qw;function dk(){if(Qw)return R2.exports;Qw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R2.exports=CN(),R2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function RN(){if(Jw)return Ud;Jw=1;var t=NN(),e=pv(),r=dk();function n(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function o(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function c(i){if(s(i)!==i)throw Error(n(188))}function h(i){var l=i.alternate;if(!l){if(l=s(i),l===null)throw Error(n(188));return l!==i?null:i}for(var u=i,m=l;;){var w=u.return;if(w===null)break;var S=w.alternate;if(S===null){if(m=w.return,m!==null){u=m;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===u)return c(w),i;if(S===m)return c(w),l;S=S.sibling}throw Error(n(188))}if(u.return!==m.return)u=w,m=S;else{for(var X=!1,he=w.child;he;){if(he===u){X=!0,u=w,m=S;break}if(he===m){X=!0,m=w,u=S;break}he=he.sibling}if(!X){for(he=S.child;he;){if(he===u){X=!0,u=S,m=w;break}if(he===m){X=!0,m=S,u=w;break}he=he.sibling}if(!X)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:l}function d(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=d(i),l!==null)return l;i=i.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function C(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case A:return"Profiler";case k:return"StrictMode";case G:return"Suspense";case W:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case P:return(i.displayName||"Context")+".Provider";case I:return(i._context.displayName||"Context")+".Consumer";case z:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return l=i.displayName||null,l!==null?l:ne(i.type)||"Memo";case L:l=i._payload,i=i._init;try{return ne(i(l))}catch{}}return null}var ye=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},te=[],Y=-1;function Te(i){return{current:i}}function F(i){0>Y||(i.current=te[Y],te[Y]=null,Y--)}function H(i,l){Y++,te[Y]=i.current,i.current=l}var K=Te(null),Q=Te(null),re=Te(null),de=Te(null);function ve(i,l){switch(H(re,l),H(Q,i),H(K,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?yw(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=yw(l),i=vw(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(K),H(K,i)}function we(){F(K),F(Q),F(re)}function Le(i){i.memoizedState!==null&&H(de,i);var l=K.current,u=vw(l,i.type);l!==u&&(H(Q,i),H(K,u))}function tt(i){Q.current===i&&(F(K),F(Q)),de.current===i&&(F(de),jd._currentValue=ce)}var J=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,Qe=t.unstable_cancelCallback,je=t.unstable_shouldYield,me=t.unstable_requestPaint,Ke=t.unstable_now,xt=t.unstable_getCurrentPriorityLevel,st=t.unstable_ImmediatePriority,pt=t.unstable_UserBlockingPriority,_t=t.unstable_NormalPriority,bt=t.unstable_LowPriority,Dt=t.unstable_IdlePriority,Ut=t.log,Wt=t.unstable_setDisableYieldValue,jt=null,Ot=null;function Ht(i){if(typeof Ut=="function"&&Wt(i),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(jt,i)}catch{}}var It=Math.clz32?Math.clz32:Dr,Nt=Math.log,vt=Math.LN2;function Dr(i){return i>>>=0,i===0?32:31-(Nt(i)/vt|0)|0}var qt=256,wn=4194304;function pr(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Kr(i,l,u){var m=i.pendingLanes;if(m===0)return 0;var w=0,S=i.suspendedLanes,X=i.pingedLanes;i=i.warmLanes;var he=m&134217727;return he!==0?(m=he&~S,m!==0?w=pr(m):(X&=he,X!==0?w=pr(X):u||(u=he&~i,u!==0&&(w=pr(u))))):(he=m&~S,he!==0?w=pr(he):X!==0?w=pr(X):u||(u=m&~i,u!==0&&(w=pr(u)))),w===0?0:l!==0&&l!==w&&(l&S)===0&&(S=w&-w,u=l&-l,S>=u||S===32&&(u&4194048)!==0)?l:w}function ga(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function br(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bs(){var i=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),i}function sn(){var i=wn;return wn<<=1,(wn&62914560)===0&&(wn=4194304),i}function Un(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function na(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Wr(i,l,u,m,w,S){var X=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var he=i.entanglements,Ce=i.expirationTimes,Ye=i.hiddenUpdates;for(u=X&~u;0<u;){var it=31-It(u),ht=1<<it;he[it]=0,Ce[it]=-1;var Je=Ye[it];if(Je!==null)for(Ye[it]=null,it=0;it<Je.length;it++){var et=Je[it];et!==null&&(et.lane&=-536870913)}u&=~ht}m!==0&&$t(i,m,0),S!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=S&~(X&~l))}function $t(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-It(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|u&4194090}function Tr(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var m=31-It(u),w=1<<m;w&l|i[m]&l&&(i[m]|=l),u&=~w}}function za(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Sn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function aa(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:Mw(i.type))}function is(i,l){var u=le.p;try{return le.p=i,l()}finally{le.p=u}}var Rt=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Rt,Fr="__reactProps$"+Rt,fn="__reactContainer$"+Rt,_n="__reactEvents$"+Rt,Tn="__reactListeners$"+Rt,se="__reactHandles$"+Rt,ke="__reactResources$"+Rt,ge="__reactMarker$"+Rt;function xe(i){delete i[Yr],delete i[Fr],delete i[_n],delete i[Tn],delete i[se]}function _e(i){var l=i[Yr];if(l)return l;for(var u=i.parentNode;u;){if(l=u[fn]||u[Yr]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=kw(i);i!==null;){if(u=i[Yr])return u;i=kw(i)}return l}i=u,u=i.parentNode}return null}function Ee(i){if(i=i[Yr]||i[fn]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function ze(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(n(33))}function Ze(i){var l=i[ke];return l||(l=i[ke]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Me(i){i[ge]=!0}var Ge=new Set,Xe={};function ft(i,l){kt(i,l),kt(i+"Capture",l)}function kt(i,l){for(Xe[i]=l,i=0;i<l.length;i++)Ge.add(l[i])}var Ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wt={},Et={};function Qt(i){return J.call(Et,i)?!0:J.call(wt,i)?!1:Ct.test(i)?Et[i]=!0:(wt[i]=!0,!1)}function wr(i,l,u){if(Qt(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function _r(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function Nr(i,l,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+m)}}var Ca,ci;function xa(i){if(Ca===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Ca=l&&l[1]||"",ci=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+i+ci}var qa=!1;function os(i,l){if(!i||qa)return"";qa=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ht=function(){throw Error()};if(Object.defineProperty(ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ht,[])}catch(et){var Je=et}Reflect.construct(i,[],ht)}else{try{ht.call()}catch(et){Je=et}i.call(ht.prototype)}}else{try{throw Error()}catch(et){Je=et}(ht=i())&&typeof ht.catch=="function"&&ht.catch(function(){})}}catch(et){if(et&&Je&&typeof et.stack=="string")return[et.stack,Je.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),X=S[0],he=S[1];if(X&&he){var Ce=X.split(`
`),Ye=he.split(`
`);for(w=m=0;m<Ce.length&&!Ce[m].includes("DetermineComponentFrameRoot");)m++;for(;w<Ye.length&&!Ye[w].includes("DetermineComponentFrameRoot");)w++;if(m===Ce.length||w===Ye.length)for(m=Ce.length-1,w=Ye.length-1;1<=m&&0<=w&&Ce[m]!==Ye[w];)w--;for(;1<=m&&0<=w;m--,w--)if(Ce[m]!==Ye[w]){if(m!==1||w!==1)do if(m--,w--,0>w||Ce[m]!==Ye[w]){var it=`
`+Ce[m].replace(" at new "," at ");return i.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",i.displayName)),it}while(1<=m&&0<=w);break}}}finally{qa=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?xa(u):""}function Ra(i){switch(i.tag){case 26:case 27:case 5:return xa(i.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 15:return os(i.type,!1);case 11:return os(i.type.render,!1);case 1:return os(i.type,!0);case 31:return xa("Activity");default:return""}}function xn(i){try{var l="";do l+=Ra(i),i=i.return;while(i);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ya(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xl(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function du(i){var l=xl(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,S=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return w.call(this)},set:function(X){m=""+X,S.call(this,X)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(X){m=""+X},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Zi(i){i._valueTracker||(i._valueTracker=du(i))}function uc(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return i&&(m=xl(i)?i.checked?"true":"false":i.value),i=m,i!==u?(l.setValue(i),!0):!1}function Ia(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var yl=/[\n"\\]/g;function Mr(i){return i.replace(yl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Da(i,l,u,m,w,S,X,he){i.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?i.type=X:i.removeAttribute("type"),l!=null?X==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+ya(l)):i.value!==""+ya(l)&&(i.value=""+ya(l)):X!=="submit"&&X!=="reset"||i.removeAttribute("value"),l!=null?to(i,X,ya(l)):u!=null?to(i,X,ya(u)):m!=null&&i.removeAttribute("value"),w==null&&S!=null&&(i.defaultChecked=!!S),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?i.name=""+ya(he):i.removeAttribute("name")}function eo(i,l,u,m,w,S,X,he){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),l!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;u=u!=null?""+ya(u):"",l=l!=null?""+ya(l):u,he||l===i.value||(i.value=l),i.defaultValue=l}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=he?i.checked:!!m,i.defaultChecked=!!m,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(i.name=X)}function to(i,l,u){l==="number"&&Ia(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ui(i,l,u,m){if(i=i.options,l){l={};for(var w=0;w<u.length;w++)l["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=l.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&m&&(i[u].defaultSelected=!0)}else{for(u=""+ya(u),l=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}l!==null||i[w].disabled||(l=i[w])}l!==null&&(l.selected=!0)}}function Jr(i,l,u){if(l!=null&&(l=""+ya(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+ya(u):""}function ro(i,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(n(92));if(ye(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=ya(l),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m)}function ws(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var Ri=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(i,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,u):typeof u!="number"||u===0||Ri.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function fc(i,l,u){if(l!=null&&typeof l!="object")throw Error(n(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var w in l)m=l[w],l.hasOwnProperty(w)&&u[w]!==m&&mu(i,w,m)}else for(var S in l)l.hasOwnProperty(S)&&mu(i,S,l[S])}function hc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ii=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Di(i){return vl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var fi=null;function hn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Li=null,hi=null;function Jt(i){var l=Ee(i);if(l&&(i=l.stateNode)){var u=i[Fr]||null;e:switch(i=l.stateNode,l.type){case"input":if(Da(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Mr(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==i&&m.form===i.form){var w=m[Fr]||null;if(!w)throw Error(n(90));Da(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===i.form&&uc(m)}break e;case"textarea":Jr(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&ui(i,!!u.multiple,l,!1)}}}var di=!1;function pu(i,l,u){if(di)return i(l,u);di=!0;try{var m=i(l);return m}finally{if(di=!1,(Li!==null||hi!==null)&&(Vp(),Li&&(l=Li,i=hi,hi=Li=null,Jt(l),i)))for(l=0;l<i.length;l++)Jt(i[l])}}function Ha(i,l){var u=i.stateNode;if(u===null)return null;var m=u[Fr]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(_s)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){ls=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{ls=!1}var ks=null,no=null,ji=null;function dc(){if(ji)return ji;var i,l=no,u=l.length,m,w="value"in ks?ks.value:ks.textContent,S=w.length;for(i=0;i<u&&l[i]===w[i];i++);var X=u-i;for(m=1;m<=X&&l[u-m]===w[S-m];m++);return ji=w.slice(i,1<m?1-m:void 0)}function Es(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Ga(){return!0}function pi(){return!1}function Wn(i){function l(u,m,w,S,X){this._reactName=u,this._targetInst=w,this.type=m,this.nativeEvent=S,this.target=X,this.currentTarget=null;for(var he in i)i.hasOwnProperty(he)&&(u=i[he],this[he]=u?u(S):S[he]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ga:pi,this.isPropagationStopped=pi,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),l}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=Wn(Cr),gi=p({},Cr,{view:0,detail:0}),mc=Wn(gi),Do,Lo,Zs,$a=p({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zs&&(Zs&&i.type==="mousemove"?(Do=i.screenX-Zs.screenX,Lo=i.screenY-Zs.screenY):Lo=Do=0,Zs=i),Do)},movementY:function(i){return"movementY"in i?i.movementY:Lo}}),Yn=Wn($a),gu=p({},$a,{dataTransfer:0}),so=Wn(gu),La=p({},gi,{relatedTarget:0}),io=Wn(La),Oi=p({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),bl=Wn(Oi),jo=p({},Cr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wl=Wn(jo),pc=p({},Cr,{data:0}),Oo=Wn(pc),oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=_l[i])?!!l[i]:!1}function lo(){return Fo}var xu=p({},gi,{key:function(i){if(i.key){var l=oo[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Es(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Po[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(i){return i.type==="keypress"?Es(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Es(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pi=Wn(xu),co=p({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mo=Wn(co),Ka=p({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),kl=Wn(Ka),T=p({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=Wn(T),Se=p({},$a,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=Wn(Se),Be=p({},Cr,{newState:0,oldState:0}),nt=Wn(Be),gt=[9,13,27,32],St=_s&&"CompositionEvent"in window,x=null;_s&&"documentMode"in document&&(x=document.documentMode);var M=_s&&"TextEvent"in window&&!x,q=_s&&(!St||x&&8<x&&11>=x),fe=" ",Fe=!1;function We(i,l){switch(i){case"keyup":return gt.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zt=!1;function Rr(i,l){switch(i){case"compositionend":return yt(l);case"keypress":return l.which!==32?null:(Fe=!0,fe);case"textInput":return i=l.data,i===fe&&Fe?null:i;default:return null}}function cr(i,l){if(Zt)return i==="compositionend"||!St&&We(i,l)?(i=dc(),ji=no=ks=null,Zt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return q&&l.locale!=="ko"?null:l.data;default:return null}}var Zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Zr[i.type]:l==="textarea"}function xi(i,l,u,m){Li?hi?hi.push(m):hi=[m]:Li=m,l=Kp(l,"onChange"),0<l.length&&(u=new ao("onChange","change",null,u,m),i.push({event:u,listeners:l}))}var Vn=null,As=null;function uo(i){dw(i,0)}function El(i){var l=ze(i);if(uc(l))return i}function yu(i,l){if(i==="change")return l}var gc=!1;if(_s){var sa;if(_s){var Al="oninput"in document;if(!Al){var xc=document.createElement("div");xc.setAttribute("oninput","return;"),Al=typeof xc.oninput=="function"}sa=Al}else sa=!1;gc=sa&&(!document.documentMode||9<document.documentMode)}function yc(){Vn&&(Vn.detachEvent("onpropertychange",vu),As=Vn=null)}function vu(i){if(i.propertyName==="value"&&El(As)){var l=[];xi(l,As,i,hn(i)),pu(uo,l)}}function Ss(i,l,u){i==="focusin"?(yc(),Vn=l,As=u,Vn.attachEvent("onpropertychange",vu)):i==="focusout"&&yc()}function td(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return El(As)}function N0(i,l){if(i==="click")return El(l)}function Rf(i,l){if(i==="input"||i==="change")return El(l)}function yi(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var va=typeof Object.is=="function"?Object.is:yi;function Sl(i,l){if(va(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var w=u[m];if(!J.call(l,w)||!va(i[w],l[w]))return!1}return!0}function C0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bo(i,l){var u=C0(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=l&&m>=l)return{node:u,offset:l-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=C0(u)}}function Tl(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Tl(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function cs(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Ia(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Ia(i.document)}return l}function ja(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var Nl=_s&&"documentMode"in document&&11>=document.documentMode,Ts=null,Fi=null,fo=null,Mi=!1;function jn(i,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Mi||Ts==null||Ts!==Ia(m)||(m=Ts,"selectionStart"in m&&ja(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),fo&&Sl(fo,m)||(fo=m,m=Kp(Fi,"onSelect"),0<m.length&&(l=new ao("onSelect","select",null,l,u),i.push({event:l,listeners:m}),l.target=Ts)))}function Bi(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Xn={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},Ns={},vc={};_s&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function ho(i){if(Ns[i])return Ns[i];if(!Xn[i])return i;var l=Xn[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in vc)return Ns[i]=l[u];return i}var bu=ho("animationend"),Cl=ho("animationiteration"),Rl=ho("animationstart"),Il=ho("transitionrun"),bc=ho("transitionstart"),wu=ho("transitioncancel"),Dl=ho("transitionend"),Uo=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function On(i,l){Uo.set(i,l),ft(l,[i])}var ei=new WeakMap;function kr(i,l){if(typeof i=="object"&&i!==null){var u=ei.get(i);return u!==void 0?u:(l={value:i,source:l,stack:xn(l)},ei.set(i,l),l)}return{value:i,source:l,stack:xn(l)}}var Er=[],yn=0,zn=0;function vi(){for(var i=yn,l=zn=yn=0;l<i;){var u=Er[l];Er[l++]=null;var m=Er[l];Er[l++]=null;var w=Er[l];Er[l++]=null;var S=Er[l];if(Er[l++]=null,m!==null&&w!==null){var X=m.pending;X===null?w.next=w:(w.next=X.next,X.next=w),m.pending=w}S!==0&&If(u,w,S)}}function Ll(i,l,u,m){Er[yn++]=i,Er[yn++]=l,Er[yn++]=u,Er[yn++]=m,zn|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function jl(i,l,u,m){return Ll(i,l,u,m),_c(i)}function Vo(i,l){return Ll(i,null,null,l),_c(i)}function If(i,l,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var w=!1,S=i.return;S!==null;)S.childLanes|=u,m=S.alternate,m!==null&&(m.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(w=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,w&&l!==null&&(w=31-It(u),i=S.hiddenUpdates,m=i[w],m===null?i[w]=[l]:m.push(l),l.lane=u|536870912),S):null}function _c(i){if(50<Sd)throw Sd=0,Yx=null,Error(n(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var ba={};function bi(i,l,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(i,l,u,m){return new bi(i,l,u,m)}function _u(i){return i=i.prototype,!(!i||!i.isReactComponent)}function mo(i,l){var u=i.alternate;return u===null?(u=Wa(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function R0(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function kc(i,l,u,m,w,S){var X=0;if(m=i,typeof i=="function")_u(i)&&(X=1);else if(typeof i=="string")X=fN(i,u,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Wa(31,u,l,w),i.elementType=R,i.lanes=S,i;case E:return zo(u.children,w,S,l);case k:X=8,w|=24;break;case A:return i=Wa(12,u,l,w|2),i.elementType=A,i.lanes=S,i;case G:return i=Wa(13,u,l,w),i.elementType=G,i.lanes=S,i;case W:return i=Wa(19,u,l,w),i.elementType=W,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case P:X=10;break e;case I:X=9;break e;case z:X=11;break e;case j:X=14;break e;case L:X=16,m=null;break e}X=29,u=Error(n(130,i===null?"null":typeof i,"")),m=null}return l=Wa(X,u,l,w),l.elementType=i,l.type=m,l.lanes=S,l}function zo(i,l,u,m){return i=Wa(7,i,m,l),i.lanes=u,i}function Df(i,l,u){return i=Wa(6,i,null,l),i.lanes=u,i}function I0(i,l,u){return l=Wa(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Ol=[],qo=0,ku=null,Lf=0,wi=[],ti=0,Ec=null,Ho=1,Go="";function Ac(i,l){Ol[qo++]=Lf,Ol[qo++]=ku,ku=i,Lf=l}function fp(i,l,u){wi[ti++]=Ho,wi[ti++]=Go,wi[ti++]=Ec,Ec=i;var m=Ho;i=Go;var w=32-It(m)-1;m&=~(1<<w),u+=1;var S=32-It(l)+w;if(30<S){var X=w-w%5;S=(m&(1<<X)-1).toString(32),m>>=X,w-=X,Ho=1<<32-It(l)+w|u<<w|m,Go=S+i}else Ho=1<<S|u<<w|m,Go=i}function D0(i){i.return!==null&&(Ac(i,1),fp(i,1,0))}function L0(i){for(;i===ku;)ku=Ol[--qo],Ol[qo]=null,Lf=Ol[--qo],Ol[qo]=null;for(;i===Ec;)Ec=wi[--ti],wi[ti]=null,Go=wi[--ti],wi[ti]=null,Ho=wi[--ti],wi[ti]=null}var ia=null,Pn=null,Xr=!1,Pl=null,po=!1,rd=Error(n(519));function Sc(i){var l=Error(n(418,""));throw Eu(kr(l,i)),rd}function hp(i){var l=i.stateNode,u=i.type,m=i.memoizedProps;switch(l[Yr]=i,l[Fr]=m,u){case"dialog":jr("cancel",l),jr("close",l);break;case"iframe":case"object":case"embed":jr("load",l);break;case"video":case"audio":for(u=0;u<Nd.length;u++)jr(Nd[u],l);break;case"source":jr("error",l);break;case"img":case"image":case"link":jr("error",l),jr("load",l);break;case"details":jr("toggle",l);break;case"input":jr("invalid",l),eo(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Zi(l);break;case"select":jr("invalid",l);break;case"textarea":jr("invalid",l),ro(l,m.value,m.defaultValue,m.children),Zi(l)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||xw(l.textContent,u)?(m.popover!=null&&(jr("beforetoggle",l),jr("toggle",l)),m.onScroll!=null&&jr("scroll",l),m.onScrollEnd!=null&&jr("scrollend",l),m.onClick!=null&&(l.onclick=Wp),l=!0):l=!1,l||Sc(i)}function $o(i){for(ia=i.return;ia;)switch(ia.tag){case 5:case 13:po=!1;return;case 27:case 3:po=!0;return;default:ia=ia.return}}function us(i){if(i!==ia)return!1;if(!Xr)return $o(i),Xr=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||f2(i.type,i.memoizedProps)),u=!u),u&&Pn&&Sc(i),$o(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(l===0){Pn=el(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;i=i.nextSibling}Pn=null}}else l===27?(l=Pn,Vu(i.type)?(i=p2,p2=null,Pn=i):Pn=l):Pn=ia?el(i.stateNode.nextSibling):null;return!0}function ri(){Pn=ia=null,Xr=!1}function dp(){var i=Pl;return i!==null&&(Ei===null?Ei=i:Ei.push.apply(Ei,i),Pl=null),i}function Eu(i){Pl===null?Pl=[i]:Pl.push(i)}var go=Te(null),wa=null,Ko=null;function Fl(i,l,u){H(go,l._currentValue),l._currentValue=u}function xo(i){i._currentValue=go.current,F(go)}function jf(i,l,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===u)break;i=i.return}}function Of(i,l,u,m){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var S=w.dependencies;if(S!==null){var X=w.child;S=S.firstContext;e:for(;S!==null;){var he=S;S=w;for(var Ce=0;Ce<l.length;Ce++)if(he.context===l[Ce]){S.lanes|=u,he=S.alternate,he!==null&&(he.lanes|=u),jf(S.return,u,i),m||(X=null);break e}S=he.next}}else if(w.tag===18){if(X=w.return,X===null)throw Error(n(341));X.lanes|=u,S=X.alternate,S!==null&&(S.lanes|=u),jf(X,u,i),X=null}else X=w.child;if(X!==null)X.return=w;else for(X=w;X!==null;){if(X===i){X=null;break}if(w=X.sibling,w!==null){w.return=X.return,X=w;break}X=X.return}w=X}}function Au(i,l,u,m){i=null;for(var w=l,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var X=w.alternate;if(X===null)throw Error(n(387));if(X=X.memoizedProps,X!==null){var he=w.type;va(w.pendingProps.value,X.value)||(i!==null?i.push(he):i=[he])}}else if(w===de.current){if(X=w.alternate,X===null)throw Error(n(387));X.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(jd):i=[jd])}w=w.return}i!==null&&Of(l,i,u,m),l.flags|=262144}function Pf(i){for(i=i.firstContext;i!==null;){if(!va(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function yo(i){wa=i,Ko=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function oa(i){return Ff(wa,i)}function Ml(i,l){return wa===null&&yo(i),Ff(i,l)}function Ff(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Ko===null){if(i===null)throw Error(n(308));Ko=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Ko=Ko.next=l;return u}var bx=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},mp=t.unstable_scheduleCallback,wx=t.unstable_NormalPriority,la={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new bx,data:new Map,refCount:0}}function j0(i){i.refCount--,i.refCount===0&&mp(wx,function(){i.controller.abort()})}var O0=null,ad=0,Tc=0,Wo=null;function _x(i,l){if(O0===null){var u=O0=[];ad=0,Tc=r2(),Wo={status:"pending",value:void 0,then:function(m){u.push(m)}}}return ad++,l.then(pp,pp),l}function pp(){if(--ad===0&&O0!==null){Wo!==null&&(Wo.status="fulfilled");var i=O0;O0=null,Tc=0,Wo=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function gp(i,l){var u=[],m={status:"pending",value:null,reason:null,then:function(w){u.push(w)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var w=0;w<u.length;w++)(0,u[w])(l)},function(w){for(m.status="rejected",m.reason=w,w=0;w<u.length;w++)(0,u[w])(void 0)}),m}var g=ae.S;ae.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&_x(i,l),g!==null&&g(i,l)};var _=Te(null);function O(){var i=_.current;return i!==null?i:Cn.pooledCache}function V(i,l){l===null?H(_,_.current):H(_,l.pool)}function Z(){var i=O();return i===null?null:{parent:la._currentValue,pool:i}}var ie=Error(n(460)),oe=Error(n(474)),ue=Error(n(542)),pe={then:function(){}};function be(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ie(){}function $e(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Ie,Ie),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ct(i),i;default:if(typeof l.status=="string")l.then(Ie,Ie);else{if(i=Cn,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var w=l;w.status="fulfilled",w.value=m}},function(m){if(l.status==="pending"){var w=l;w.status="rejected",w.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ct(i),i}throw qe=l,ie}}var qe=null;function Ue(){if(qe===null)throw Error(n(459));var i=qe;return qe=null,i}function ct(i){if(i===ie||i===ue)throw Error(n(483))}var rt=!1;function De(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pe(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function at(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ut(i,l,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(mn&2)!==0){var w=m.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),m.pending=l,l=_c(i),If(i,null,u),l}return Ll(i,m,l,u),_c(i)}function ot(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,Tr(i,u)}}function Lt(i,l){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var w=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var X={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?w=S=X:S=S.next=X,u=u.next}while(u!==null);S===null?w=S=l:S=S.next=l}else w=S=l;u={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var At=!1;function Gt(){if(At){var i=Wo;if(i!==null)throw i}}function Tt(i,l,u,m){At=!1;var w=i.updateQueue;rt=!1;var S=w.firstBaseUpdate,X=w.lastBaseUpdate,he=w.shared.pending;if(he!==null){w.shared.pending=null;var Ce=he,Ye=Ce.next;Ce.next=null,X===null?S=Ye:X.next=Ye,X=Ce;var it=i.alternate;it!==null&&(it=it.updateQueue,he=it.lastBaseUpdate,he!==X&&(he===null?it.firstBaseUpdate=Ye:he.next=Ye,it.lastBaseUpdate=Ce))}if(S!==null){var ht=w.baseState;X=0,it=Ye=Ce=null,he=S;do{var Je=he.lane&-536870913,et=Je!==he.lane;if(et?(qr&Je)===Je:(m&Je)===Je){Je!==0&&Je===Tc&&(At=!0),it!==null&&(it=it.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var or=i,er=he;Je=l;var bn=u;switch(er.tag){case 1:if(or=er.payload,typeof or=="function"){ht=or.call(bn,ht,Je);break e}ht=or;break e;case 3:or.flags=or.flags&-65537|128;case 0:if(or=er.payload,Je=typeof or=="function"?or.call(bn,ht,Je):or,Je==null)break e;ht=p({},ht,Je);break e;case 2:rt=!0}}Je=he.callback,Je!==null&&(i.flags|=64,et&&(i.flags|=8192),et=w.callbacks,et===null?w.callbacks=[Je]:et.push(Je))}else et={lane:Je,tag:he.tag,payload:he.payload,callback:he.callback,next:null},it===null?(Ye=it=et,Ce=ht):it=it.next=et,X|=Je;if(he=he.next,he===null){if(he=w.shared.pending,he===null)break;et=he,he=et.next,et.next=null,w.lastBaseUpdate=et,w.shared.pending=null}}while(!0);it===null&&(Ce=ht),w.baseState=Ce,w.firstBaseUpdate=Ye,w.lastBaseUpdate=it,S===null&&(w.shared.lanes=0),Fu|=X,i.lanes=X,i.memoizedState=ht}}function Vr(i,l){if(typeof i!="function")throw Error(n(191,i));i.call(l)}function en(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Vr(u[i],l)}var vr=Te(null),xr=Te(0);function cn(i,l){i=Fc,H(xr,i),H(vr,l),Fc=i|l.baseLanes}function tn(){H(xr,Fc),H(vr,vr.current)}function ur(){Fc=xr.current,F(vr),F(xr)}var dn=0,Xt=null,nr=null,Br=null,zr=!1,_a=!1,ca=!1,qn=0,Hn=0,Qn=null,_i=0;function rn(){throw Error(n(321))}function Jn(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!va(i[u],l[u]))return!1;return!0}function Ui(i,l,u,m,w,S){return dn=S,Xt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ae.H=i===null||i.memoizedState===null?Q5:J5,ca=!1,S=u(m,w),ca=!1,_a&&(S=Nc(l,u,m,w)),Bl(i),S}function Bl(i){ae.H=Np;var l=nr!==null&&nr.next!==null;if(dn=0,Br=nr=Xt=null,zr=!1,Hn=0,Qn=null,l)throw Error(n(300));i===null||Ya||(i=i.dependencies,i!==null&&Pf(i)&&(Ya=!0))}function Nc(i,l,u,m){Xt=i;var w=0;do{if(_a&&(Qn=null),Hn=0,_a=!1,25<=w)throw Error(n(301));if(w+=1,Br=nr=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}ae.H=_T,S=l(u,m)}while(_a);return S}function Ul(){var i=ae.H,l=i.useState()[0];return l=typeof l.then=="function"?Vl(l):l,i=i.useState()[0],(nr!==null?nr.memoizedState:null)!==i&&(Xt.flags|=1024),l}function Nn(){var i=qn!==0;return qn=0,i}function P0(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Mf(i){if(zr){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}zr=!1}dn=0,Br=nr=Xt=null,_a=!1,Hn=qn=0,Qn=null}function fs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Xt.memoizedState=Br=i:Br=Br.next=i,Br}function In(){if(nr===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=nr.next;var l=Br===null?Xt.memoizedState:Br.next;if(l!==null)Br=l,nr=i;else{if(i===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));nr=i,i={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},Br===null?Xt.memoizedState=Br=i:Br=Br.next=i}return Br}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(i){var l=Hn;return Hn+=1,Qn===null&&(Qn=[]),i=$e(Qn,i,l),l=Xt,(Br===null?l.memoizedState:Br.next)===null&&(l=l.alternate,ae.H=l===null||l.memoizedState===null?Q5:J5),i}function Cs(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vl(i);if(i.$$typeof===P)return oa(i)}throw Error(n(438,String(i)))}function zl(i){var l=null,u=Xt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=Xt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(w){return w.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Cc(),Xt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),m=0;m<i;m++)u[m]=U;return l.index++,u}function Rs(i,l){return typeof l=="function"?l(i):l}function F0(i){var l=In();return Su(l,nr,i)}function Su(i,l,u){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var w=i.baseQueue,S=m.pending;if(S!==null){if(w!==null){var X=w.next;w.next=S.next,S.next=X}l.baseQueue=w=S,m.pending=null}if(S=i.baseState,w===null)i.memoizedState=S;else{l=w.next;var he=X=null,Ce=null,Ye=l,it=!1;do{var ht=Ye.lane&-536870913;if(ht!==Ye.lane?(qr&ht)===ht:(dn&ht)===ht){var Je=Ye.revertLane;if(Je===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),ht===Tc&&(it=!0);else if((dn&Je)===Je){Ye=Ye.next,Je===Tc&&(it=!0);continue}else ht={lane:0,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Ce===null?(he=Ce=ht,X=S):Ce=Ce.next=ht,Xt.lanes|=Je,Fu|=Je;ht=Ye.action,ca&&u(S,ht),S=Ye.hasEagerState?Ye.eagerState:u(S,ht)}else Je={lane:ht,revertLane:Ye.revertLane,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Ce===null?(he=Ce=Je,X=S):Ce=Ce.next=Je,Xt.lanes|=ht,Fu|=ht;Ye=Ye.next}while(Ye!==null&&Ye!==l);if(Ce===null?X=S:Ce.next=he,!va(S,i.memoizedState)&&(Ya=!0,it&&(u=Wo,u!==null)))throw u;i.memoizedState=S,i.baseState=X,i.baseQueue=Ce,m.lastRenderedState=S}return w===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Bf(i){var l=In(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,w=u.pending,S=l.memoizedState;if(w!==null){u.pending=null;var X=w=w.next;do S=i(S,X.action),X=X.next;while(X!==w);va(S,l.memoizedState)||(Ya=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),u.lastRenderedState=S}return[S,m]}function M0(i,l,u){var m=Xt,w=In(),S=Xr;if(S){if(u===void 0)throw Error(n(407));u=u()}else u=l();var X=!va((nr||w).memoizedState,u);X&&(w.memoizedState=u,Ya=!0),w=w.queue;var he=Tu.bind(null,m,w,i);if(Ru(2048,8,he,[i]),w.getSnapshot!==l||X||Br!==null&&Br.memoizedState.tag&1){if(m.flags|=2048,Xo(9,z0(),B0.bind(null,m,w,u,l),null),Cn===null)throw Error(n(349));S||(dn&124)!==0||Uf(m,l,u)}return u}function Uf(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Xt.updateQueue,l===null?(l=Cc(),Xt.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function B0(i,l,u,m){l.value=u,l.getSnapshot=m,xp(l)&&yp(i)}function Tu(i,l,u){return u(function(){xp(l)&&yp(i)})}function xp(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!va(i,u)}catch{return!0}}function yp(i){var l=Vo(i,2);l!==null&&$i(l,i,2)}function U0(i){var l=fs();if(typeof i=="function"){var u=i;if(i=u(),ca){Ht(!0);try{u()}finally{Ht(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:i},l}function Yo(i,l,u,m){return i.baseState=u,Su(i,nr,typeof m=="function"?m:Rs)}function kx(i,l,u,m,w){if(Tp(i))throw Error(n(485));if(i=l.action,i!==null){var S={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){S.listeners.push(X)}};ae.T!==null?u(!0):S.isTransition=!1,m(S),u=l.pending,u===null?(S.next=l.pending=S,vp(l,S)):(S.next=u.next,l.pending=u.next=S)}}function vp(i,l){var u=l.action,m=l.payload,w=i.state;if(l.isTransition){var S=ae.T,X={};ae.T=X;try{var he=u(w,m),Ce=ae.S;Ce!==null&&Ce(X,he),bp(i,l,he)}catch(Ye){Nu(i,l,Ye)}finally{ae.T=S}}else try{S=u(w,m),bp(i,l,S)}catch(Ye){Nu(i,l,Ye)}}function bp(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){sd(i,l,m)},function(m){return Nu(i,l,m)}):sd(i,l,u)}function sd(i,l,u){l.status="fulfilled",l.value=u,id(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,vp(i,u)))}function Nu(i,l,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,id(l),l=l.next;while(l!==m)}i.action=null}function id(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function od(i,l){return l}function V0(i,l){if(Xr){var u=Cn.formState;if(u!==null){e:{var m=Xt;if(Xr){if(Pn){t:{for(var w=Pn,S=po;w.nodeType!==8;){if(!S){w=null;break t}if(w=el(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){Pn=el(w.nextSibling),m=w.data==="F!";break e}}Sc(m)}m=!1}m&&(l=u[0])}}return u=fs(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:l},u.queue=m,u=W5.bind(null,Xt,m),m.dispatch=u,m=U0(!1),S=Ex.bind(null,Xt,!1,m.queue),m=fs(),w={state:l,dispatch:null,action:i,pending:null},m.queue=w,u=kx.bind(null,Xt,w,S,u),w.dispatch=u,m.memoizedState=i,[l,u,!1]}function Vf(i){var l=In();return Cu(l,nr,i)}function Cu(i,l,u){if(l=Su(i,l,od)[0],i=F0(Rs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Vl(l)}catch(X){throw X===ie?ue:X}else m=l;l=In();var w=l.queue,S=w.dispatch;return u!==l.memoizedState&&(Xt.flags|=2048,Xo(9,z0(),wp.bind(null,w,u),null)),[m,S,i]}function wp(i,l){i.action=l}function _p(i){var l=In(),u=nr;if(u!==null)return Cu(l,u,i);In(),l=l.memoizedState,u=In();var m=u.queue.dispatch;return u.memoizedState=i,[l,m,!1]}function Xo(i,l,u,m){return i={tag:i,create:u,deps:m,inst:l,next:null},l=Xt.updateQueue,l===null&&(l=Cc(),Xt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,l.lastEffect=i),i}function z0(){return{destroy:void 0,resource:void 0}}function zf(){return In().memoizedState}function Vi(i,l,u,m){var w=fs();m=m===void 0?null:m,Xt.flags|=i,w.memoizedState=Xo(1|l,z0(),u,m)}function Ru(i,l,u,m){var w=In();m=m===void 0?null:m;var S=w.memoizedState.inst;nr!==null&&m!==null&&Jn(m,nr.memoizedState.deps)?w.memoizedState=Xo(l,S,u,m):(Xt.flags|=i,w.memoizedState=Xo(1|l,S,u,m))}function ld(i,l){Vi(8390656,8,i,l)}function kp(i,l){Ru(2048,8,i,l)}function cd(i,l){return Ru(4,2,i,l)}function Rc(i,l){return Ru(4,4,i,l)}function Ep(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function ud(i,l,u){u=u!=null?u.concat([i]):null,Ru(4,4,Ep.bind(null,l,i),u)}function fd(){}function hd(i,l){var u=In();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&Jn(l,m[1])?m[0]:(u.memoizedState=[i,l],i)}function Ap(i,l){var u=In();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&Jn(l,m[1]))return m[0];if(m=i(),ca){Ht(!0);try{i()}finally{Ht(!1)}}return u.memoizedState=[m,l],m}function Ic(i,l,u){return u===void 0||(dn&1073741824)!==0?i.memoizedState=l:(i.memoizedState=u,i=Hb(),Xt.lanes|=i,Fu|=i,u)}function qf(i,l,u,m){return va(u,l)?u:vr.current!==null?(i=Ic(i,u,m),va(i,l)||(Ya=!0),i):(dn&42)===0?(Ya=!0,i.memoizedState=u):(i=Hb(),Xt.lanes|=i,Fu|=i,l)}function q0(i,l,u,m,w){var S=le.p;le.p=S!==0&&8>S?S:8;var X=ae.T,he={};ae.T=he,Ex(i,!1,l,u);try{var Ce=w(),Ye=ae.S;if(Ye!==null&&Ye(he,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var it=gp(Ce,m);gd(i,l,it,Gi(i))}else gd(i,l,m,Gi(i))}catch(ht){gd(i,l,{then:function(){},status:"rejected",reason:ht},Gi())}finally{le.p=S,ae.T=X}}function Qo(){}function vo(i,l,u,m){if(i.tag!==5)throw Error(n(476));var w=Jo(i).queue;q0(i,w,l,ce,u===null?Qo:function(){return H0(i),u(m)})}function Jo(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:ce},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function H0(i){var l=Jo(i).next.queue;gd(i,l,{},Gi())}function G0(){return oa(jd)}function dd(){return In().memoizedState}function Sp(){return In().memoizedState}function md(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=Gi();i=at(u);var m=ut(l,i,u);m!==null&&($i(m,l,u),ot(m,l,u)),l={cache:nd()},i.payload=l;return}l=l.return}}function pd(i,l,u){var m=Gi();u={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Tp(i)?Y5(l,u):(u=jl(i,l,u,m),u!==null&&($i(u,i,m),X5(u,l,m)))}function W5(i,l,u){var m=Gi();gd(i,l,u,m)}function gd(i,l,u,m){var w={lane:m,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Tp(i))Y5(l,w);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var X=l.lastRenderedState,he=S(X,u);if(w.hasEagerState=!0,w.eagerState=he,va(he,X))return Ll(i,l,w,0),Cn===null&&vi(),!1}catch{}finally{}if(u=jl(i,l,w,m),u!==null)return $i(u,i,m),X5(u,l,m),!0}return!1}function Ex(i,l,u,m){if(m={lane:2,revertLane:r2(),action:m,hasEagerState:!1,eagerState:null,next:null},Tp(i)){if(l)throw Error(n(479))}else l=jl(i,u,m,2),l!==null&&$i(l,i,2)}function Tp(i){var l=i.alternate;return i===Xt||l!==null&&l===Xt}function Y5(i,l){_a=zr=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function X5(i,l,u){if((u&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,Tr(i,u)}}var Np={readContext:oa,use:Cs,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},Q5={readContext:oa,use:Cs,useCallback:function(i,l){return fs().memoizedState=[i,l===void 0?null:l],i},useContext:oa,useEffect:ld,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,Vi(4194308,4,Ep.bind(null,l,i),u)},useLayoutEffect:function(i,l){return Vi(4194308,4,i,l)},useInsertionEffect:function(i,l){Vi(4,2,i,l)},useMemo:function(i,l){var u=fs();l=l===void 0?null:l;var m=i();if(ca){Ht(!0);try{i()}finally{Ht(!1)}}return u.memoizedState=[m,l],m},useReducer:function(i,l,u){var m=fs();if(u!==void 0){var w=u(l);if(ca){Ht(!0);try{u(l)}finally{Ht(!1)}}}else w=l;return m.memoizedState=m.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},m.queue=i,i=i.dispatch=pd.bind(null,Xt,i),[m.memoizedState,i]},useRef:function(i){var l=fs();return i={current:i},l.memoizedState=i},useState:function(i){i=U0(i);var l=i.queue,u=W5.bind(null,Xt,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:fd,useDeferredValue:function(i,l){var u=fs();return Ic(u,i,l)},useTransition:function(){var i=U0(!1);return i=q0.bind(null,Xt,i.queue,!0,!1),fs().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var m=Xt,w=fs();if(Xr){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),Cn===null)throw Error(n(349));(qr&124)!==0||Uf(m,l,u)}w.memoizedState=u;var S={value:u,getSnapshot:l};return w.queue=S,ld(Tu.bind(null,m,S,i),[i]),m.flags|=2048,Xo(9,z0(),B0.bind(null,m,S,u,l),null),u},useId:function(){var i=fs(),l=Cn.identifierPrefix;if(Xr){var u=Go,m=Ho;u=(m&~(1<<32-It(m)-1)).toString(32)+u,l="«"+l+"R"+u,u=qn++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=_i++,l="«"+l+"r"+u.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:G0,useFormState:V0,useActionState:V0,useOptimistic:function(i){var l=fs();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Ex.bind(null,Xt,!0,u),u.dispatch=l,[i,l]},useMemoCache:zl,useCacheRefresh:function(){return fs().memoizedState=md.bind(null,Xt)}},J5={readContext:oa,use:Cs,useCallback:hd,useContext:oa,useEffect:kp,useImperativeHandle:ud,useInsertionEffect:cd,useLayoutEffect:Rc,useMemo:Ap,useReducer:F0,useRef:zf,useState:function(){return F0(Rs)},useDebugValue:fd,useDeferredValue:function(i,l){var u=In();return qf(u,nr.memoizedState,i,l)},useTransition:function(){var i=F0(Rs)[0],l=In().memoizedState;return[typeof i=="boolean"?i:Vl(i),l]},useSyncExternalStore:M0,useId:dd,useHostTransitionStatus:G0,useFormState:Vf,useActionState:Vf,useOptimistic:function(i,l){var u=In();return Yo(u,nr,i,l)},useMemoCache:zl,useCacheRefresh:Sp},_T={readContext:oa,use:Cs,useCallback:hd,useContext:oa,useEffect:kp,useImperativeHandle:ud,useInsertionEffect:cd,useLayoutEffect:Rc,useMemo:Ap,useReducer:Bf,useRef:zf,useState:function(){return Bf(Rs)},useDebugValue:fd,useDeferredValue:function(i,l){var u=In();return nr===null?Ic(u,i,l):qf(u,nr.memoizedState,i,l)},useTransition:function(){var i=Bf(Rs)[0],l=In().memoizedState;return[typeof i=="boolean"?i:Vl(i),l]},useSyncExternalStore:M0,useId:dd,useHostTransitionStatus:G0,useFormState:_p,useActionState:_p,useOptimistic:function(i,l){var u=In();return nr!==null?Yo(u,nr,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:zl,useCacheRefresh:Sp},Hf=null,xd=0;function Cp(i){var l=xd;return xd+=1,Hf===null&&(Hf=[]),$e(Hf,i,l)}function yd(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Rp(i,l){throw l.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Z5(i){var l=i._init;return l(i._payload)}function eb(i){function l(Ve,Oe){if(i){var He=Ve.deletions;He===null?(Ve.deletions=[Oe],Ve.flags|=16):He.push(Oe)}}function u(Ve,Oe){if(!i)return null;for(;Oe!==null;)l(Ve,Oe),Oe=Oe.sibling;return null}function m(Ve){for(var Oe=new Map;Ve!==null;)Ve.key!==null?Oe.set(Ve.key,Ve):Oe.set(Ve.index,Ve),Ve=Ve.sibling;return Oe}function w(Ve,Oe){return Ve=mo(Ve,Oe),Ve.index=0,Ve.sibling=null,Ve}function S(Ve,Oe,He){return Ve.index=He,i?(He=Ve.alternate,He!==null?(He=He.index,He<Oe?(Ve.flags|=67108866,Oe):He):(Ve.flags|=67108866,Oe)):(Ve.flags|=1048576,Oe)}function X(Ve){return i&&Ve.alternate===null&&(Ve.flags|=67108866),Ve}function he(Ve,Oe,He,lt){return Oe===null||Oe.tag!==6?(Oe=Df(He,Ve.mode,lt),Oe.return=Ve,Oe):(Oe=w(Oe,He),Oe.return=Ve,Oe)}function Ce(Ve,Oe,He,lt){var Vt=He.type;return Vt===E?it(Ve,Oe,He.props.children,lt,He.key):Oe!==null&&(Oe.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===L&&Z5(Vt)===Oe.type)?(Oe=w(Oe,He.props),yd(Oe,He),Oe.return=Ve,Oe):(Oe=kc(He.type,He.key,He.props,null,Ve.mode,lt),yd(Oe,He),Oe.return=Ve,Oe)}function Ye(Ve,Oe,He,lt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==He.containerInfo||Oe.stateNode.implementation!==He.implementation?(Oe=I0(He,Ve.mode,lt),Oe.return=Ve,Oe):(Oe=w(Oe,He.children||[]),Oe.return=Ve,Oe)}function it(Ve,Oe,He,lt,Vt){return Oe===null||Oe.tag!==7?(Oe=zo(He,Ve.mode,lt,Vt),Oe.return=Ve,Oe):(Oe=w(Oe,He),Oe.return=Ve,Oe)}function ht(Ve,Oe,He){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=Df(""+Oe,Ve.mode,He),Oe.return=Ve,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case v:return He=kc(Oe.type,Oe.key,Oe.props,null,Ve.mode,He),yd(He,Oe),He.return=Ve,He;case b:return Oe=I0(Oe,Ve.mode,He),Oe.return=Ve,Oe;case L:var lt=Oe._init;return Oe=lt(Oe._payload),ht(Ve,Oe,He)}if(ye(Oe)||C(Oe))return Oe=zo(Oe,Ve.mode,He,null),Oe.return=Ve,Oe;if(typeof Oe.then=="function")return ht(Ve,Cp(Oe),He);if(Oe.$$typeof===P)return ht(Ve,Ml(Ve,Oe),He);Rp(Ve,Oe)}return null}function Je(Ve,Oe,He,lt){var Vt=Oe!==null?Oe.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Vt!==null?null:he(Ve,Oe,""+He,lt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case v:return He.key===Vt?Ce(Ve,Oe,He,lt):null;case b:return He.key===Vt?Ye(Ve,Oe,He,lt):null;case L:return Vt=He._init,He=Vt(He._payload),Je(Ve,Oe,He,lt)}if(ye(He)||C(He))return Vt!==null?null:it(Ve,Oe,He,lt,null);if(typeof He.then=="function")return Je(Ve,Oe,Cp(He),lt);if(He.$$typeof===P)return Je(Ve,Oe,Ml(Ve,He),lt);Rp(Ve,He)}return null}function et(Ve,Oe,He,lt,Vt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Ve=Ve.get(He)||null,he(Oe,Ve,""+lt,Vt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case v:return Ve=Ve.get(lt.key===null?He:lt.key)||null,Ce(Oe,Ve,lt,Vt);case b:return Ve=Ve.get(lt.key===null?He:lt.key)||null,Ye(Oe,Ve,lt,Vt);case L:var Ir=lt._init;return lt=Ir(lt._payload),et(Ve,Oe,He,lt,Vt)}if(ye(lt)||C(lt))return Ve=Ve.get(He)||null,it(Oe,Ve,lt,Vt,null);if(typeof lt.then=="function")return et(Ve,Oe,He,Cp(lt),Vt);if(lt.$$typeof===P)return et(Ve,Oe,He,Ml(Oe,lt),Vt);Rp(Oe,lt)}return null}function or(Ve,Oe,He,lt){for(var Vt=null,Ir=null,Kt=Oe,tr=Oe=0,Qa=null;Kt!==null&&tr<He.length;tr++){Kt.index>tr?(Qa=Kt,Kt=null):Qa=Kt.sibling;var nn=Je(Ve,Kt,He[tr],lt);if(nn===null){Kt===null&&(Kt=Qa);break}i&&Kt&&nn.alternate===null&&l(Ve,Kt),Oe=S(nn,Oe,tr),Ir===null?Vt=nn:Ir.sibling=nn,Ir=nn,Kt=Qa}if(tr===He.length)return u(Ve,Kt),Xr&&Ac(Ve,tr),Vt;if(Kt===null){for(;tr<He.length;tr++)Kt=ht(Ve,He[tr],lt),Kt!==null&&(Oe=S(Kt,Oe,tr),Ir===null?Vt=Kt:Ir.sibling=Kt,Ir=Kt);return Xr&&Ac(Ve,tr),Vt}for(Kt=m(Kt);tr<He.length;tr++)Qa=et(Kt,Ve,tr,He[tr],lt),Qa!==null&&(i&&Qa.alternate!==null&&Kt.delete(Qa.key===null?tr:Qa.key),Oe=S(Qa,Oe,tr),Ir===null?Vt=Qa:Ir.sibling=Qa,Ir=Qa);return i&&Kt.forEach(function($u){return l(Ve,$u)}),Xr&&Ac(Ve,tr),Vt}function er(Ve,Oe,He,lt){if(He==null)throw Error(n(151));for(var Vt=null,Ir=null,Kt=Oe,tr=Oe=0,Qa=null,nn=He.next();Kt!==null&&!nn.done;tr++,nn=He.next()){Kt.index>tr?(Qa=Kt,Kt=null):Qa=Kt.sibling;var $u=Je(Ve,Kt,nn.value,lt);if($u===null){Kt===null&&(Kt=Qa);break}i&&Kt&&$u.alternate===null&&l(Ve,Kt),Oe=S($u,Oe,tr),Ir===null?Vt=$u:Ir.sibling=$u,Ir=$u,Kt=Qa}if(nn.done)return u(Ve,Kt),Xr&&Ac(Ve,tr),Vt;if(Kt===null){for(;!nn.done;tr++,nn=He.next())nn=ht(Ve,nn.value,lt),nn!==null&&(Oe=S(nn,Oe,tr),Ir===null?Vt=nn:Ir.sibling=nn,Ir=nn);return Xr&&Ac(Ve,tr),Vt}for(Kt=m(Kt);!nn.done;tr++,nn=He.next())nn=et(Kt,Ve,tr,nn.value,lt),nn!==null&&(i&&nn.alternate!==null&&Kt.delete(nn.key===null?tr:nn.key),Oe=S(nn,Oe,tr),Ir===null?Vt=nn:Ir.sibling=nn,Ir=nn);return i&&Kt.forEach(function(kN){return l(Ve,kN)}),Xr&&Ac(Ve,tr),Vt}function bn(Ve,Oe,He,lt){if(typeof He=="object"&&He!==null&&He.type===E&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case v:e:{for(var Vt=He.key;Oe!==null;){if(Oe.key===Vt){if(Vt=He.type,Vt===E){if(Oe.tag===7){u(Ve,Oe.sibling),lt=w(Oe,He.props.children),lt.return=Ve,Ve=lt;break e}}else if(Oe.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===L&&Z5(Vt)===Oe.type){u(Ve,Oe.sibling),lt=w(Oe,He.props),yd(lt,He),lt.return=Ve,Ve=lt;break e}u(Ve,Oe);break}else l(Ve,Oe);Oe=Oe.sibling}He.type===E?(lt=zo(He.props.children,Ve.mode,lt,He.key),lt.return=Ve,Ve=lt):(lt=kc(He.type,He.key,He.props,null,Ve.mode,lt),yd(lt,He),lt.return=Ve,Ve=lt)}return X(Ve);case b:e:{for(Vt=He.key;Oe!==null;){if(Oe.key===Vt)if(Oe.tag===4&&Oe.stateNode.containerInfo===He.containerInfo&&Oe.stateNode.implementation===He.implementation){u(Ve,Oe.sibling),lt=w(Oe,He.children||[]),lt.return=Ve,Ve=lt;break e}else{u(Ve,Oe);break}else l(Ve,Oe);Oe=Oe.sibling}lt=I0(He,Ve.mode,lt),lt.return=Ve,Ve=lt}return X(Ve);case L:return Vt=He._init,He=Vt(He._payload),bn(Ve,Oe,He,lt)}if(ye(He))return or(Ve,Oe,He,lt);if(C(He)){if(Vt=C(He),typeof Vt!="function")throw Error(n(150));return He=Vt.call(He),er(Ve,Oe,He,lt)}if(typeof He.then=="function")return bn(Ve,Oe,Cp(He),lt);if(He.$$typeof===P)return bn(Ve,Oe,Ml(Ve,He),lt);Rp(Ve,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Oe!==null&&Oe.tag===6?(u(Ve,Oe.sibling),lt=w(Oe,He),lt.return=Ve,Ve=lt):(u(Ve,Oe),lt=Df(He,Ve.mode,lt),lt.return=Ve,Ve=lt),X(Ve)):u(Ve,Oe)}return function(Ve,Oe,He,lt){try{xd=0;var Vt=bn(Ve,Oe,He,lt);return Hf=null,Vt}catch(Kt){if(Kt===ie||Kt===ue)throw Kt;var Ir=Wa(29,Kt,null,Ve.mode);return Ir.lanes=lt,Ir.return=Ve,Ir}finally{}}}var Gf=eb(!0),tb=eb(!1),bo=Te(null),ql=null;function Iu(i){var l=i.alternate;H(Oa,Oa.current&1),H(bo,i),ql===null&&(l===null||vr.current!==null||l.memoizedState!==null)&&(ql=i)}function rb(i){if(i.tag===22){if(H(Oa,Oa.current),H(bo,i),ql===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(ql=i)}}else Du()}function Du(){H(Oa,Oa.current),H(bo,bo.current)}function Dc(i){F(bo),ql===i&&(ql=null),F(Oa)}var Oa=Te(0);function Ip(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||m2(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Ax(i,l,u,m){l=i.memoizedState,u=u(m,l),u=u==null?l:p({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Sx={enqueueSetState:function(i,l,u){i=i._reactInternals;var m=Gi(),w=at(m);w.payload=l,u!=null&&(w.callback=u),l=ut(i,w,m),l!==null&&($i(l,i,m),ot(l,i,m))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var m=Gi(),w=at(m);w.tag=1,w.payload=l,u!=null&&(w.callback=u),l=ut(i,w,m),l!==null&&($i(l,i,m),ot(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=Gi(),m=at(u);m.tag=2,l!=null&&(m.callback=l),l=ut(i,m,u),l!==null&&($i(l,i,u),ot(l,i,u))}};function nb(i,l,u,m,w,S,X){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,S,X):l.prototype&&l.prototype.isPureReactComponent?!Sl(u,m)||!Sl(w,S):!0}function ab(i,l,u,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==i&&Sx.enqueueReplaceState(l,l.state,null)}function $0(i,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(i=i.defaultProps){u===l&&(u=p({},u));for(var w in i)u[w]===void 0&&(u[w]=i[w])}return u}var Dp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function sb(i){Dp(i)}function ib(i){console.error(i)}function ob(i){Dp(i)}function Lp(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function lb(i,l,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Tx(i,l,u){return u=at(u),u.tag=3,u.payload={element:null},u.callback=function(){Lp(i,l)},u}function cb(i){return i=at(i),i.tag=3,i}function ub(i,l,u,m){var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var S=m.value;i.payload=function(){return w(S)},i.callback=function(){lb(l,u,m)}}var X=u.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(i.callback=function(){lb(l,u,m),typeof w!="function"&&(Mu===null?Mu=new Set([this]):Mu.add(this));var he=m.stack;this.componentDidCatch(m.value,{componentStack:he!==null?he:""})})}function kT(i,l,u,m,w){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&Au(l,u,w,!0),u=bo.current,u!==null){switch(u.tag){case 13:return ql===null?Qx():u.alternate===null&&Zn===0&&(Zn=3),u.flags&=-257,u.flags|=65536,u.lanes=w,m===pe?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),Zx(i,m,w)),!1;case 22:return u.flags|=65536,m===pe?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),Zx(i,m,w)),!1}throw Error(n(435,u.tag))}return Zx(i,m,w),Qx(),!1}if(Xr)return l=bo.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=w,m!==rd&&(i=Error(n(422),{cause:m}),Eu(kr(i,u)))):(m!==rd&&(l=Error(n(423),{cause:m}),Eu(kr(l,u))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,m=kr(m,u),w=Tx(i.stateNode,m,w),Lt(i,w),Zn!==4&&(Zn=2)),!1;var S=Error(n(520),{cause:m});if(S=kr(S,u),Ad===null?Ad=[S]:Ad.push(S),Zn!==4&&(Zn=2),l===null)return!0;m=kr(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=w&-w,u.lanes|=i,i=Tx(u.stateNode,m,i),Lt(u,i),!1;case 1:if(l=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Mu===null||!Mu.has(S))))return u.flags|=65536,w&=-w,u.lanes|=w,w=cb(w),ub(w,i,u,m),Lt(u,w),!1}u=u.return}while(u!==null);return!1}var fb=Error(n(461)),Ya=!1;function hs(i,l,u,m){l.child=i===null?tb(l,null,u,m):Gf(l,i.child,u,m)}function hb(i,l,u,m,w){u=u.render;var S=l.ref;if("ref"in m){var X={};for(var he in m)he!=="ref"&&(X[he]=m[he])}else X=m;return yo(l),m=Ui(i,l,u,X,S,w),he=Nn(),i!==null&&!Ya?(P0(i,l,w),Lc(i,l,w)):(Xr&&he&&D0(l),l.flags|=1,hs(i,l,m,w),l.child)}function db(i,l,u,m,w){if(i===null){var S=u.type;return typeof S=="function"&&!_u(S)&&S.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=S,mb(i,l,S,m,w)):(i=kc(u.type,null,m,l,l.mode,w),i.ref=l.ref,i.return=l,l.child=i)}if(S=i.child,!Ox(i,w)){var X=S.memoizedProps;if(u=u.compare,u=u!==null?u:Sl,u(X,m)&&i.ref===l.ref)return Lc(i,l,w)}return l.flags|=1,i=mo(S,m),i.ref=l.ref,i.return=l,l.child=i}function mb(i,l,u,m,w){if(i!==null){var S=i.memoizedProps;if(Sl(S,m)&&i.ref===l.ref)if(Ya=!1,l.pendingProps=m=S,Ox(i,w))(i.flags&131072)!==0&&(Ya=!0);else return l.lanes=i.lanes,Lc(i,l,w)}return Nx(i,l,u,m,w)}function pb(i,l,u){var m=l.pendingProps,w=m.children,S=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=S!==null?S.baseLanes|u:u,i!==null){for(w=l.child=i.child,S=0;w!==null;)S=S|w.lanes|w.childLanes,w=w.sibling;l.childLanes=S&~m}else l.childLanes=0,l.child=null;return gb(i,l,m,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&V(l,S!==null?S.cachePool:null),S!==null?cn(l,S):tn(),rb(l);else return l.lanes=l.childLanes=536870912,gb(i,l,S!==null?S.baseLanes|u:u,u)}else S!==null?(V(l,S.cachePool),cn(l,S),Du(),l.memoizedState=null):(i!==null&&V(l,null),tn(),Du());return hs(i,l,w,u),l.child}function gb(i,l,u,m){var w=O();return w=w===null?null:{parent:la._currentValue,pool:w},l.memoizedState={baseLanes:u,cachePool:w},i!==null&&V(l,null),tn(),rb(l),i!==null&&Au(i,l,m,!0),null}function jp(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function Nx(i,l,u,m,w){return yo(l),u=Ui(i,l,u,m,void 0,w),m=Nn(),i!==null&&!Ya?(P0(i,l,w),Lc(i,l,w)):(Xr&&m&&D0(l),l.flags|=1,hs(i,l,u,w),l.child)}function xb(i,l,u,m,w,S){return yo(l),l.updateQueue=null,u=Nc(l,m,u,w),Bl(i),m=Nn(),i!==null&&!Ya?(P0(i,l,S),Lc(i,l,S)):(Xr&&m&&D0(l),l.flags|=1,hs(i,l,u,S),l.child)}function yb(i,l,u,m,w){if(yo(l),l.stateNode===null){var S=ba,X=u.contextType;typeof X=="object"&&X!==null&&(S=oa(X)),S=new u(m,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Sx,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=m,S.state=l.memoizedState,S.refs={},De(l),X=u.contextType,S.context=typeof X=="object"&&X!==null?oa(X):ba,S.state=l.memoizedState,X=u.getDerivedStateFromProps,typeof X=="function"&&(Ax(l,u,X,m),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(X=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),X!==S.state&&Sx.enqueueReplaceState(S,S.state,null),Tt(l,m,S,w),Gt(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){S=l.stateNode;var he=l.memoizedProps,Ce=$0(u,he);S.props=Ce;var Ye=S.context,it=u.contextType;X=ba,typeof it=="object"&&it!==null&&(X=oa(it));var ht=u.getDerivedStateFromProps;it=typeof ht=="function"||typeof S.getSnapshotBeforeUpdate=="function",he=l.pendingProps!==he,it||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(he||Ye!==X)&&ab(l,S,m,X),rt=!1;var Je=l.memoizedState;S.state=Je,Tt(l,m,S,w),Gt(),Ye=l.memoizedState,he||Je!==Ye||rt?(typeof ht=="function"&&(Ax(l,u,ht,m),Ye=l.memoizedState),(Ce=rt||nb(l,u,Ce,m,Je,Ye,X))?(it||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Ye),S.props=m,S.state=Ye,S.context=X,m=Ce):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{S=l.stateNode,Pe(i,l),X=l.memoizedProps,it=$0(u,X),S.props=it,ht=l.pendingProps,Je=S.context,Ye=u.contextType,Ce=ba,typeof Ye=="object"&&Ye!==null&&(Ce=oa(Ye)),he=u.getDerivedStateFromProps,(Ye=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(X!==ht||Je!==Ce)&&ab(l,S,m,Ce),rt=!1,Je=l.memoizedState,S.state=Je,Tt(l,m,S,w),Gt();var et=l.memoizedState;X!==ht||Je!==et||rt||i!==null&&i.dependencies!==null&&Pf(i.dependencies)?(typeof he=="function"&&(Ax(l,u,he,m),et=l.memoizedState),(it=rt||nb(l,u,it,m,Je,et,Ce)||i!==null&&i.dependencies!==null&&Pf(i.dependencies))?(Ye||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,et,Ce),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,et,Ce)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||X===i.memoizedProps&&Je===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&Je===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=et),S.props=m,S.state=et,S.context=Ce,m=it):(typeof S.componentDidUpdate!="function"||X===i.memoizedProps&&Je===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||X===i.memoizedProps&&Je===i.memoizedState||(l.flags|=1024),m=!1)}return S=m,jp(i,l),m=(l.flags&128)!==0,S||m?(S=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,i!==null&&m?(l.child=Gf(l,i.child,null,w),l.child=Gf(l,null,u,w)):hs(i,l,u,w),l.memoizedState=S.state,i=l.child):i=Lc(i,l,w),i}function vb(i,l,u,m){return ri(),l.flags|=256,hs(i,l,u,m),l.child}var Cx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rx(i){return{baseLanes:i,cachePool:Z()}}function Ix(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=wo),i}function bb(i,l,u){var m=l.pendingProps,w=!1,S=(l.flags&128)!==0,X;if((X=S)||(X=i!==null&&i.memoizedState===null?!1:(Oa.current&2)!==0),X&&(w=!0,l.flags&=-129),X=(l.flags&32)!==0,l.flags&=-33,i===null){if(Xr){if(w?Iu(l):Du(),Xr){var he=Pn,Ce;if(Ce=he){e:{for(Ce=he,he=po;Ce.nodeType!==8;){if(!he){he=null;break e}if(Ce=el(Ce.nextSibling),Ce===null){he=null;break e}}he=Ce}he!==null?(l.memoizedState={dehydrated:he,treeContext:Ec!==null?{id:Ho,overflow:Go}:null,retryLane:536870912,hydrationErrors:null},Ce=Wa(18,null,null,0),Ce.stateNode=he,Ce.return=l,l.child=Ce,ia=l,Pn=null,Ce=!0):Ce=!1}Ce||Sc(l)}if(he=l.memoizedState,he!==null&&(he=he.dehydrated,he!==null))return m2(he)?l.lanes=32:l.lanes=536870912,null;Dc(l)}return he=m.children,m=m.fallback,w?(Du(),w=l.mode,he=Op({mode:"hidden",children:he},w),m=zo(m,w,u,null),he.return=l,m.return=l,he.sibling=m,l.child=he,w=l.child,w.memoizedState=Rx(u),w.childLanes=Ix(i,X,u),l.memoizedState=Cx,m):(Iu(l),Dx(l,he))}if(Ce=i.memoizedState,Ce!==null&&(he=Ce.dehydrated,he!==null)){if(S)l.flags&256?(Iu(l),l.flags&=-257,l=Lx(i,l,u)):l.memoizedState!==null?(Du(),l.child=i.child,l.flags|=128,l=null):(Du(),w=m.fallback,he=l.mode,m=Op({mode:"visible",children:m.children},he),w=zo(w,he,u,null),w.flags|=2,m.return=l,w.return=l,m.sibling=w,l.child=m,Gf(l,i.child,null,u),m=l.child,m.memoizedState=Rx(u),m.childLanes=Ix(i,X,u),l.memoizedState=Cx,l=w);else if(Iu(l),m2(he)){if(X=he.nextSibling&&he.nextSibling.dataset,X)var Ye=X.dgst;X=Ye,m=Error(n(419)),m.stack="",m.digest=X,Eu({value:m,source:null,stack:null}),l=Lx(i,l,u)}else if(Ya||Au(i,l,u,!1),X=(u&i.childLanes)!==0,Ya||X){if(X=Cn,X!==null&&(m=u&-u,m=(m&42)!==0?1:za(m),m=(m&(X.suspendedLanes|u))!==0?0:m,m!==0&&m!==Ce.retryLane))throw Ce.retryLane=m,Vo(i,m),$i(X,i,m),fb;he.data==="$?"||Qx(),l=Lx(i,l,u)}else he.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=Ce.treeContext,Pn=el(he.nextSibling),ia=l,Xr=!0,Pl=null,po=!1,i!==null&&(wi[ti++]=Ho,wi[ti++]=Go,wi[ti++]=Ec,Ho=i.id,Go=i.overflow,Ec=l),l=Dx(l,m.children),l.flags|=4096);return l}return w?(Du(),w=m.fallback,he=l.mode,Ce=i.child,Ye=Ce.sibling,m=mo(Ce,{mode:"hidden",children:m.children}),m.subtreeFlags=Ce.subtreeFlags&65011712,Ye!==null?w=mo(Ye,w):(w=zo(w,he,u,null),w.flags|=2),w.return=l,m.return=l,m.sibling=w,l.child=m,m=w,w=l.child,he=i.child.memoizedState,he===null?he=Rx(u):(Ce=he.cachePool,Ce!==null?(Ye=la._currentValue,Ce=Ce.parent!==Ye?{parent:Ye,pool:Ye}:Ce):Ce=Z(),he={baseLanes:he.baseLanes|u,cachePool:Ce}),w.memoizedState=he,w.childLanes=Ix(i,X,u),l.memoizedState=Cx,m):(Iu(l),u=i.child,i=u.sibling,u=mo(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,i!==null&&(X=l.deletions,X===null?(l.deletions=[i],l.flags|=16):X.push(i)),l.child=u,l.memoizedState=null,u)}function Dx(i,l){return l=Op({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Op(i,l){return i=Wa(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Lx(i,l,u){return Gf(l,i.child,null,u),i=Dx(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function wb(i,l,u){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),jf(i.return,l,u)}function jx(i,l,u,m,w){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:w}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=u,S.tailMode=w)}function _b(i,l,u){var m=l.pendingProps,w=m.revealOrder,S=m.tail;if(hs(i,l,m.children,u),m=Oa.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wb(i,u,l);else if(i.tag===19)wb(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(H(Oa,m),w){case"forwards":for(u=l.child,w=null;u!==null;)i=u.alternate,i!==null&&Ip(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=l.child,l.child=null):(w=u.sibling,u.sibling=null),jx(l,!1,w,u,S);break;case"backwards":for(u=null,w=l.child,l.child=null;w!==null;){if(i=w.alternate,i!==null&&Ip(i)===null){l.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}jx(l,!0,u,null,S);break;case"together":jx(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Lc(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Fu|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(Au(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,u=mo(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=mo(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function Ox(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Pf(i)))}function ET(i,l,u){switch(l.tag){case 3:ve(l,l.stateNode.containerInfo),Fl(l,la,i.memoizedState.cache),ri();break;case 27:case 5:Le(l);break;case 4:ve(l,l.stateNode.containerInfo);break;case 10:Fl(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Iu(l),l.flags|=128,null):(u&l.child.childLanes)!==0?bb(i,l,u):(Iu(l),i=Lc(i,l,u),i!==null?i.sibling:null);Iu(l);break;case 19:var w=(i.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(Au(i,l,u,!1),m=(u&l.childLanes)!==0),w){if(m)return _b(i,l,u);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),H(Oa,Oa.current),m)break;return null;case 22:case 23:return l.lanes=0,pb(i,l,u);case 24:Fl(l,la,i.memoizedState.cache)}return Lc(i,l,u)}function kb(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)Ya=!0;else{if(!Ox(i,u)&&(l.flags&128)===0)return Ya=!1,ET(i,l,u);Ya=(i.flags&131072)!==0}else Ya=!1,Xr&&(l.flags&1048576)!==0&&fp(l,Lf,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var m=l.elementType,w=m._init;if(m=w(m._payload),l.type=m,typeof m=="function")_u(m)?(i=$0(m,i),l.tag=1,l=yb(null,l,m,i,u)):(l.tag=0,l=Nx(null,l,m,i,u));else{if(m!=null){if(w=m.$$typeof,w===z){l.tag=11,l=hb(null,l,m,i,u);break e}else if(w===j){l.tag=14,l=db(null,l,m,i,u);break e}}throw l=ne(m)||m,Error(n(306,l,""))}}return l;case 0:return Nx(i,l,l.type,l.pendingProps,u);case 1:return m=l.type,w=$0(m,l.pendingProps),yb(i,l,m,w,u);case 3:e:{if(ve(l,l.stateNode.containerInfo),i===null)throw Error(n(387));m=l.pendingProps;var S=l.memoizedState;w=S.element,Pe(i,l),Tt(l,m,null,u);var X=l.memoizedState;if(m=X.cache,Fl(l,la,m),m!==S.cache&&Of(l,[la],u,!0),Gt(),m=X.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:X.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=vb(i,l,m,u);break e}else if(m!==w){w=kr(Error(n(424)),l),Eu(w),l=vb(i,l,m,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Pn=el(i.firstChild),ia=l,Xr=!0,Pl=null,po=!0,u=tb(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ri(),m===w){l=Lc(i,l,u);break e}hs(i,l,m,u)}l=l.child}return l;case 26:return jp(i,l),i===null?(u=Tw(l.type,null,l.pendingProps,null))?l.memoizedState=u:Xr||(u=l.type,i=l.pendingProps,m=Yp(re.current).createElement(u),m[Yr]=l,m[Fr]=i,ms(m,u,i),Me(m),l.stateNode=m):l.memoizedState=Tw(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Le(l),i===null&&Xr&&(m=l.stateNode=Ew(l.type,l.pendingProps,re.current),ia=l,po=!0,w=Pn,Vu(l.type)?(p2=w,Pn=el(m.firstChild)):Pn=w),hs(i,l,l.pendingProps.children,u),jp(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Xr&&((w=m=Pn)&&(m=JT(m,l.type,l.pendingProps,po),m!==null?(l.stateNode=m,ia=l,Pn=el(m.firstChild),po=!1,w=!0):w=!1),w||Sc(l)),Le(l),w=l.type,S=l.pendingProps,X=i!==null?i.memoizedProps:null,m=S.children,f2(w,S)?m=null:X!==null&&f2(w,X)&&(l.flags|=32),l.memoizedState!==null&&(w=Ui(i,l,Ul,null,null,u),jd._currentValue=w),jp(i,l),hs(i,l,m,u),l.child;case 6:return i===null&&Xr&&((i=u=Pn)&&(u=ZT(u,l.pendingProps,po),u!==null?(l.stateNode=u,ia=l,Pn=null,i=!0):i=!1),i||Sc(l)),null;case 13:return bb(i,l,u);case 4:return ve(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Gf(l,null,m,u):hs(i,l,m,u),l.child;case 11:return hb(i,l,l.type,l.pendingProps,u);case 7:return hs(i,l,l.pendingProps,u),l.child;case 8:return hs(i,l,l.pendingProps.children,u),l.child;case 12:return hs(i,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,Fl(l,l.type,m.value),hs(i,l,m.children,u),l.child;case 9:return w=l.type._context,m=l.pendingProps.children,yo(l),w=oa(w),m=m(w),l.flags|=1,hs(i,l,m,u),l.child;case 14:return db(i,l,l.type,l.pendingProps,u);case 15:return mb(i,l,l.type,l.pendingProps,u);case 19:return _b(i,l,u);case 31:return m=l.pendingProps,u=l.mode,m={mode:m.mode,children:m.children},i===null?(u=Op(m,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=mo(i.child,m),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return pb(i,l,u);case 24:return yo(l),m=oa(la),i===null?(w=O(),w===null&&(w=Cn,S=nd(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=u),w=S),l.memoizedState={parent:m,cache:w},De(l),Fl(l,la,w)):((i.lanes&u)!==0&&(Pe(i,l),Tt(l,null,null,u),Gt()),w=i.memoizedState,S=l.memoizedState,w.parent!==m?(w={parent:m,cache:m},l.memoizedState=w,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=w),Fl(l,la,m)):(m=S.cache,Fl(l,la,m),m!==w.cache&&Of(l,[la],u,!0))),hs(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function jc(i){i.flags|=4}function Eb(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Dw(l)){if(l=bo.current,l!==null&&((qr&4194048)===qr?ql!==null:(qr&62914560)!==qr&&(qr&536870912)===0||l!==ql))throw qe=pe,oe;i.flags|=8192}}function Pp(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?sn():536870912,i.lanes|=l,Yf|=l)}function vd(i,l){if(!Xr)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Gn(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(l)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=u,l}function AT(i,l,u){var m=l.pendingProps;switch(L0(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(l),null;case 1:return Gn(l),null;case 3:return u=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),xo(la),we(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(us(l)?jc(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,dp())),Gn(l),null;case 26:return u=l.memoizedState,i===null?(jc(l),u!==null?(Gn(l),Eb(l,u)):(Gn(l),l.flags&=-16777217)):u?u!==i.memoizedState?(jc(l),Gn(l),Eb(l,u)):(Gn(l),l.flags&=-16777217):(i.memoizedProps!==m&&jc(l),Gn(l),l.flags&=-16777217),null;case 27:tt(l),u=re.current;var w=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==m&&jc(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Gn(l),null}i=K.current,us(l)?hp(l):(i=Ew(w,m,u),l.stateNode=i,jc(l))}return Gn(l),null;case 5:if(tt(l),u=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&jc(l);else{if(!m){if(l.stateNode===null)throw Error(n(166));return Gn(l),null}if(i=K.current,us(l))hp(l);else{switch(w=Yp(re.current),i){case 1:i=w.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=w.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=w.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=w.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?w.createElement(u,{is:m.is}):w.createElement(u)}}i[Yr]=l,i[Fr]=m;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)i.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=i;e:switch(ms(i,u,m),u){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&jc(l)}}return Gn(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&jc(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(n(166));if(i=re.current,us(l)){if(i=l.stateNode,u=l.memoizedProps,m=null,w=ia,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}i[Yr]=l,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||xw(i.nodeValue,u)),i||Sc(l)}else i=Yp(i).createTextNode(m),i[Yr]=l,l.stateNode=i}return Gn(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=us(l),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(n(318));if(w=l.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Yr]=l}else ri(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Gn(l),w=!1}else w=dp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return l.flags&256?(Dc(l),l):(Dc(l),null)}if(Dc(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=m!==null,i=i!==null&&i.memoizedState!==null,u){m=l.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==w&&(m.flags|=2048)}return u!==i&&u&&(l.child.flags|=8192),Pp(l,l.updateQueue),Gn(l),null;case 4:return we(),i===null&&i2(l.stateNode.containerInfo),Gn(l),null;case 10:return xo(l.type),Gn(l),null;case 19:if(F(Oa),w=l.memoizedState,w===null)return Gn(l),null;if(m=(l.flags&128)!==0,S=w.rendering,S===null)if(m)vd(w,!1);else{if(Zn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(S=Ip(i),S!==null){for(l.flags|=128,vd(w,!1),i=S.updateQueue,l.updateQueue=i,Pp(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)R0(u,i),u=u.sibling;return H(Oa,Oa.current&1|2),l.child}i=i.sibling}w.tail!==null&&Ke()>Bp&&(l.flags|=128,m=!0,vd(w,!1),l.lanes=4194304)}else{if(!m)if(i=Ip(S),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,Pp(l,i),vd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!S.alternate&&!Xr)return Gn(l),null}else 2*Ke()-w.renderingStartTime>Bp&&u!==536870912&&(l.flags|=128,m=!0,vd(w,!1),l.lanes=4194304);w.isBackwards?(S.sibling=l.child,l.child=S):(i=w.last,i!==null?i.sibling=S:l.child=S,w.last=S)}return w.tail!==null?(l=w.tail,w.rendering=l,w.tail=l.sibling,w.renderingStartTime=Ke(),l.sibling=null,i=Oa.current,H(Oa,m?i&1|2:i&1),l):(Gn(l),null);case 22:case 23:return Dc(l),ur(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(Gn(l),l.subtreeFlags&6&&(l.flags|=8192)):Gn(l),u=l.updateQueue,u!==null&&Pp(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),i!==null&&F(_),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),xo(la),Gn(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function ST(i,l){switch(L0(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return xo(la),we(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return tt(l),null;case 13:if(Dc(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));ri()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return F(Oa),null;case 4:return we(),null;case 10:return xo(l.type),null;case 22:case 23:return Dc(l),ur(),i!==null&&F(_),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return xo(la),null;case 25:return null;default:return null}}function Ab(i,l){switch(L0(l),l.tag){case 3:xo(la),we();break;case 26:case 27:case 5:tt(l);break;case 4:we();break;case 13:Dc(l);break;case 19:F(Oa);break;case 10:xo(l.type);break;case 22:case 23:Dc(l),ur(),i!==null&&F(_);break;case 24:xo(la)}}function bd(i,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var w=m.next;u=w;do{if((u.tag&i)===i){m=void 0;var S=u.create,X=u.inst;m=S(),X.destroy=m}u=u.next}while(u!==w)}}catch(he){kn(l,l.return,he)}}function Lu(i,l,u){try{var m=l.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var S=w.next;m=S;do{if((m.tag&i)===i){var X=m.inst,he=X.destroy;if(he!==void 0){X.destroy=void 0,w=l;var Ce=u,Ye=he;try{Ye()}catch(it){kn(w,Ce,it)}}}m=m.next}while(m!==S)}}catch(it){kn(l,l.return,it)}}function Sb(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{en(l,u)}catch(m){kn(i,i.return,m)}}}function Tb(i,l,u){u.props=$0(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){kn(i,l,m)}}function wd(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(w){kn(i,l,w)}}function Hl(i,l){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(w){kn(i,l,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(w){kn(i,l,w)}else u.current=null}function Nb(i){var l=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(w){kn(i,i.return,w)}}function Px(i,l,u){try{var m=i.stateNode;KT(m,i.type,u,l),m[Fr]=l}catch(w){kn(i,i.return,w)}}function Cb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vu(i.type)||i.tag===4}function Fx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Cb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mx(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Wp));else if(m!==4&&(m===27&&Vu(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(Mx(i,l,u),i=i.sibling;i!==null;)Mx(i,l,u),i=i.sibling}function Fp(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(m!==4&&(m===27&&Vu(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Fp(i,l,u),i=i.sibling;i!==null;)Fp(i,l,u),i=i.sibling}function Rb(i){var l=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,w=l.attributes;w.length;)l.removeAttributeNode(w[0]);ms(l,m,u),l[Yr]=i,l[Fr]=u}catch(S){kn(i,i.return,S)}}var Oc=!1,ua=!1,Bx=!1,Ib=typeof WeakSet=="function"?WeakSet:Set,Xa=null;function TT(i,l){if(i=i.containerInfo,c2=tg,i=cs(i),ja(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var w=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var X=0,he=-1,Ce=-1,Ye=0,it=0,ht=i,Je=null;t:for(;;){for(var et;ht!==u||w!==0&&ht.nodeType!==3||(he=X+w),ht!==S||m!==0&&ht.nodeType!==3||(Ce=X+m),ht.nodeType===3&&(X+=ht.nodeValue.length),(et=ht.firstChild)!==null;)Je=ht,ht=et;for(;;){if(ht===i)break t;if(Je===u&&++Ye===w&&(he=X),Je===S&&++it===m&&(Ce=X),(et=ht.nextSibling)!==null)break;ht=Je,Je=ht.parentNode}ht=et}u=he===-1||Ce===-1?null:{start:he,end:Ce}}else u=null}u=u||{start:0,end:0}}else u=null;for(u2={focusedElem:i,selectionRange:u},tg=!1,Xa=l;Xa!==null;)if(l=Xa,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,Xa=i;else for(;Xa!==null;){switch(l=Xa,S=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=l,w=S.memoizedProps,S=S.memoizedState,m=u.stateNode;try{var or=$0(u.type,w,u.elementType===u.type);i=m.getSnapshotBeforeUpdate(or,S),m.__reactInternalSnapshotBeforeUpdate=i}catch(er){kn(u,u.return,er)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)d2(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":d2(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=l.sibling,i!==null){i.return=l.return,Xa=i;break}Xa=l.return}}function Db(i,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ju(i,u),m&4&&bd(5,u);break;case 1:if(ju(i,u),m&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(X){kn(u,u.return,X)}else{var w=$0(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(w,l,i.__reactInternalSnapshotBeforeUpdate)}catch(X){kn(u,u.return,X)}}m&64&&Sb(u),m&512&&wd(u,u.return);break;case 3:if(ju(i,u),m&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{en(i,l)}catch(X){kn(u,u.return,X)}}break;case 27:l===null&&m&4&&Rb(u);case 26:case 5:ju(i,u),l===null&&m&4&&Nb(u),m&512&&wd(u,u.return);break;case 12:ju(i,u);break;case 13:ju(i,u),m&4&&Ob(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=PT.bind(null,u),eN(i,u))));break;case 22:if(m=u.memoizedState!==null||Oc,!m){l=l!==null&&l.memoizedState!==null||ua,w=Oc;var S=ua;Oc=m,(ua=l)&&!S?Ou(i,u,(u.subtreeFlags&8772)!==0):ju(i,u),Oc=w,ua=S}break;case 30:break;default:ju(i,u)}}function Lb(i){var l=i.alternate;l!==null&&(i.alternate=null,Lb(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&xe(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Fn=null,ki=!1;function Pc(i,l,u){for(u=u.child;u!==null;)jb(i,l,u),u=u.sibling}function jb(i,l,u){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(jt,u)}catch{}switch(u.tag){case 26:ua||Hl(u,l),Pc(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ua||Hl(u,l);var m=Fn,w=ki;Vu(u.type)&&(Fn=u.stateNode,ki=!1),Pc(i,l,u),Rd(u.stateNode),Fn=m,ki=w;break;case 5:ua||Hl(u,l);case 6:if(m=Fn,w=ki,Fn=null,Pc(i,l,u),Fn=m,ki=w,Fn!==null)if(ki)try{(Fn.nodeType===9?Fn.body:Fn.nodeName==="HTML"?Fn.ownerDocument.body:Fn).removeChild(u.stateNode)}catch(S){kn(u,l,S)}else try{Fn.removeChild(u.stateNode)}catch(S){kn(u,l,S)}break;case 18:Fn!==null&&(ki?(i=Fn,_w(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Md(i)):_w(Fn,u.stateNode));break;case 4:m=Fn,w=ki,Fn=u.stateNode.containerInfo,ki=!0,Pc(i,l,u),Fn=m,ki=w;break;case 0:case 11:case 14:case 15:ua||Lu(2,u,l),ua||Lu(4,u,l),Pc(i,l,u);break;case 1:ua||(Hl(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&Tb(u,l,m)),Pc(i,l,u);break;case 21:Pc(i,l,u);break;case 22:ua=(m=ua)||u.memoizedState!==null,Pc(i,l,u),ua=m;break;default:Pc(i,l,u)}}function Ob(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Md(i)}catch(u){kn(l,l.return,u)}}function NT(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Ib),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Ib),l;default:throw Error(n(435,i.tag))}}function Ux(i,l){var u=NT(i);l.forEach(function(m){var w=FT.bind(null,i,m);u.has(m)||(u.add(m),m.then(w,w))})}function zi(i,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var w=u[m],S=i,X=l,he=X;e:for(;he!==null;){switch(he.tag){case 27:if(Vu(he.type)){Fn=he.stateNode,ki=!1;break e}break;case 5:Fn=he.stateNode,ki=!1;break e;case 3:case 4:Fn=he.stateNode.containerInfo,ki=!0;break e}he=he.return}if(Fn===null)throw Error(n(160));jb(S,X,w),Fn=null,ki=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Pb(l,i),l=l.sibling}var Zo=null;function Pb(i,l){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zi(l,i),qi(i),m&4&&(Lu(3,i,i.return),bd(3,i),Lu(5,i,i.return));break;case 1:zi(l,i),qi(i),m&512&&(ua||u===null||Hl(u,u.return)),m&64&&Oc&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var w=Zo;if(zi(l,i),qi(i),m&512&&(ua||u===null||Hl(u,u.return)),m&4){var S=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":S=w.getElementsByTagName("title")[0],(!S||S[ge]||S[Yr]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(m),w.head.insertBefore(S,w.querySelector("head > title"))),ms(S,m,u),S[Yr]=i,Me(S),m=S;break e;case"link":var X=Rw("link","href",w).get(m+(u.href||""));if(X){for(var he=0;he<X.length;he++)if(S=X[he],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){X.splice(he,1);break t}}S=w.createElement(m),ms(S,m,u),w.head.appendChild(S);break;case"meta":if(X=Rw("meta","content",w).get(m+(u.content||""))){for(he=0;he<X.length;he++)if(S=X[he],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){X.splice(he,1);break t}}S=w.createElement(m),ms(S,m,u),w.head.appendChild(S);break;default:throw Error(n(468,m))}S[Yr]=i,Me(S),m=S}i.stateNode=m}else Iw(w,i.type,i.stateNode);else i.stateNode=Cw(w,m,i.memoizedProps);else S!==m?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,m===null?Iw(w,i.type,i.stateNode):Cw(w,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Px(i,i.memoizedProps,u.memoizedProps)}break;case 27:zi(l,i),qi(i),m&512&&(ua||u===null||Hl(u,u.return)),u!==null&&m&4&&Px(i,i.memoizedProps,u.memoizedProps);break;case 5:if(zi(l,i),qi(i),m&512&&(ua||u===null||Hl(u,u.return)),i.flags&32){w=i.stateNode;try{ws(w,"")}catch(et){kn(i,i.return,et)}}m&4&&i.stateNode!=null&&(w=i.memoizedProps,Px(i,w,u!==null?u.memoizedProps:w)),m&1024&&(Bx=!0);break;case 6:if(zi(l,i),qi(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(et){kn(i,i.return,et)}}break;case 3:if(Jp=null,w=Zo,Zo=Xp(l.containerInfo),zi(l,i),Zo=w,qi(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Md(l.containerInfo)}catch(et){kn(i,i.return,et)}Bx&&(Bx=!1,Fb(i));break;case 4:m=Zo,Zo=Xp(i.stateNode.containerInfo),zi(l,i),qi(i),Zo=m;break;case 12:zi(l,i),qi(i);break;case 13:zi(l,i),qi(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&($x=Ke()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ux(i,m)));break;case 22:w=i.memoizedState!==null;var Ce=u!==null&&u.memoizedState!==null,Ye=Oc,it=ua;if(Oc=Ye||w,ua=it||Ce,zi(l,i),ua=it,Oc=Ye,qi(i),m&8192)e:for(l=i.stateNode,l._visibility=w?l._visibility&-2:l._visibility|1,w&&(u===null||Ce||Oc||ua||K0(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){Ce=u=l;try{if(S=Ce.stateNode,w)X=S.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{he=Ce.stateNode;var ht=Ce.memoizedProps.style,Je=ht!=null&&ht.hasOwnProperty("display")?ht.display:null;he.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(et){kn(Ce,Ce.return,et)}}}else if(l.tag===6){if(u===null){Ce=l;try{Ce.stateNode.nodeValue=w?"":Ce.memoizedProps}catch(et){kn(Ce,Ce.return,et)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Ux(i,u))));break;case 19:zi(l,i),qi(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Ux(i,m)));break;case 30:break;case 21:break;default:zi(l,i),qi(i)}}function qi(i){var l=i.flags;if(l&2){try{for(var u,m=i.return;m!==null;){if(Cb(m)){u=m;break}m=m.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var w=u.stateNode,S=Fx(i);Fp(i,S,w);break;case 5:var X=u.stateNode;u.flags&32&&(ws(X,""),u.flags&=-33);var he=Fx(i);Fp(i,he,X);break;case 3:case 4:var Ce=u.stateNode.containerInfo,Ye=Fx(i);Mx(i,Ye,Ce);break;default:throw Error(n(161))}}catch(it){kn(i,i.return,it)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Fb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Fb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function ju(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Db(i,l.alternate,l),l=l.sibling}function K0(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Lu(4,l,l.return),K0(l);break;case 1:Hl(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&Tb(l,l.return,u),K0(l);break;case 27:Rd(l.stateNode);case 26:case 5:Hl(l,l.return),K0(l);break;case 22:l.memoizedState===null&&K0(l);break;case 30:K0(l);break;default:K0(l)}i=i.sibling}}function Ou(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,w=i,S=l,X=S.flags;switch(S.tag){case 0:case 11:case 15:Ou(w,S,u),bd(4,S);break;case 1:if(Ou(w,S,u),m=S,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ye){kn(m,m.return,Ye)}if(m=S,w=m.updateQueue,w!==null){var he=m.stateNode;try{var Ce=w.shared.hiddenCallbacks;if(Ce!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Ce.length;w++)Vr(Ce[w],he)}catch(Ye){kn(m,m.return,Ye)}}u&&X&64&&Sb(S),wd(S,S.return);break;case 27:Rb(S);case 26:case 5:Ou(w,S,u),u&&m===null&&X&4&&Nb(S),wd(S,S.return);break;case 12:Ou(w,S,u);break;case 13:Ou(w,S,u),u&&X&4&&Ob(w,S);break;case 22:S.memoizedState===null&&Ou(w,S,u),wd(S,S.return);break;case 30:break;default:Ou(w,S,u)}l=l.sibling}}function Vx(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&j0(u))}function zx(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&j0(i))}function Gl(i,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Mb(i,l,u,m),l=l.sibling}function Mb(i,l,u,m){var w=l.flags;switch(l.tag){case 0:case 11:case 15:Gl(i,l,u,m),w&2048&&bd(9,l);break;case 1:Gl(i,l,u,m);break;case 3:Gl(i,l,u,m),w&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&j0(i)));break;case 12:if(w&2048){Gl(i,l,u,m),i=l.stateNode;try{var S=l.memoizedProps,X=S.id,he=S.onPostCommit;typeof he=="function"&&he(X,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Ce){kn(l,l.return,Ce)}}else Gl(i,l,u,m);break;case 13:Gl(i,l,u,m);break;case 23:break;case 22:S=l.stateNode,X=l.alternate,l.memoizedState!==null?S._visibility&2?Gl(i,l,u,m):_d(i,l):S._visibility&2?Gl(i,l,u,m):(S._visibility|=2,$f(i,l,u,m,(l.subtreeFlags&10256)!==0)),w&2048&&Vx(X,l);break;case 24:Gl(i,l,u,m),w&2048&&zx(l.alternate,l);break;default:Gl(i,l,u,m)}}function $f(i,l,u,m,w){for(w=w&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=i,X=l,he=u,Ce=m,Ye=X.flags;switch(X.tag){case 0:case 11:case 15:$f(S,X,he,Ce,w),bd(8,X);break;case 23:break;case 22:var it=X.stateNode;X.memoizedState!==null?it._visibility&2?$f(S,X,he,Ce,w):_d(S,X):(it._visibility|=2,$f(S,X,he,Ce,w)),w&&Ye&2048&&Vx(X.alternate,X);break;case 24:$f(S,X,he,Ce,w),w&&Ye&2048&&zx(X.alternate,X);break;default:$f(S,X,he,Ce,w)}l=l.sibling}}function _d(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,m=l,w=m.flags;switch(m.tag){case 22:_d(u,m),w&2048&&Vx(m.alternate,m);break;case 24:_d(u,m),w&2048&&zx(m.alternate,m);break;default:_d(u,m)}l=l.sibling}}var kd=8192;function Kf(i){if(i.subtreeFlags&kd)for(i=i.child;i!==null;)Bb(i),i=i.sibling}function Bb(i){switch(i.tag){case 26:Kf(i),i.flags&kd&&i.memoizedState!==null&&dN(Zo,i.memoizedState,i.memoizedProps);break;case 5:Kf(i);break;case 3:case 4:var l=Zo;Zo=Xp(i.stateNode.containerInfo),Kf(i),Zo=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=kd,kd=16777216,Kf(i),kd=l):Kf(i));break;default:Kf(i)}}function Ub(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Ed(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Xa=m,zb(m,i)}Ub(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vb(i),i=i.sibling}function Vb(i){switch(i.tag){case 0:case 11:case 15:Ed(i),i.flags&2048&&Lu(9,i,i.return);break;case 3:Ed(i);break;case 12:Ed(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Mp(i)):Ed(i);break;default:Ed(i)}}function Mp(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Xa=m,zb(m,i)}Ub(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Lu(8,l,l.return),Mp(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Mp(l));break;default:Mp(l)}i=i.sibling}}function zb(i,l){for(;Xa!==null;){var u=Xa;switch(u.tag){case 0:case 11:case 15:Lu(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:j0(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Xa=m;else e:for(u=i;Xa!==null;){m=Xa;var w=m.sibling,S=m.return;if(Lb(m),m===u){Xa=null;break e}if(w!==null){w.return=S,Xa=w;break e}Xa=S}}}var CT={getCacheForType:function(i){var l=oa(la),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u}},RT=typeof WeakMap=="function"?WeakMap:Map,mn=0,Cn=null,Lr=null,qr=0,pn=0,Hi=null,Pu=!1,Wf=!1,qx=!1,Fc=0,Zn=0,Fu=0,W0=0,Hx=0,wo=0,Yf=0,Ad=null,Ei=null,Gx=!1,$x=0,Bp=1/0,Up=null,Mu=null,ds=0,Bu=null,Xf=null,Qf=0,Kx=0,Wx=null,qb=null,Sd=0,Yx=null;function Gi(){if((mn&2)!==0&&qr!==0)return qr&-qr;if(ae.T!==null){var i=Tc;return i!==0?i:r2()}return aa()}function Hb(){wo===0&&(wo=(qr&536870912)===0||Xr?bs():536870912);var i=bo.current;return i!==null&&(i.flags|=32),wo}function $i(i,l,u){(i===Cn&&(pn===2||pn===9)||i.cancelPendingCommit!==null)&&(Jf(i,0),Uu(i,qr,wo,!1)),na(i,u),((mn&2)===0||i!==Cn)&&(i===Cn&&((mn&2)===0&&(W0|=u),Zn===4&&Uu(i,qr,wo,!1)),$l(i))}function Gb(i,l,u){if((mn&6)!==0)throw Error(n(327));var m=!u&&(l&124)===0&&(l&i.expiredLanes)===0||ga(i,l),w=m?LT(i,l):Jx(i,l,!0),S=m;do{if(w===0){Wf&&!m&&Uu(i,l,0,!1);break}else{if(u=i.current.alternate,S&&!IT(u)){w=Jx(i,l,!1),S=!1;continue}if(w===2){if(S=l,i.errorRecoveryDisabledLanes&S)var X=0;else X=i.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){l=X;e:{var he=i;w=Ad;var Ce=he.current.memoizedState.isDehydrated;if(Ce&&(Jf(he,X).flags|=256),X=Jx(he,X,!1),X!==2){if(qx&&!Ce){he.errorRecoveryDisabledLanes|=S,W0|=S,w=4;break e}S=Ei,Ei=w,S!==null&&(Ei===null?Ei=S:Ei.push.apply(Ei,S))}w=X}if(S=!1,w!==2)continue}}if(w===1){Jf(i,0),Uu(i,l,0,!0);break}e:{switch(m=i,S=w,S){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Uu(m,l,wo,!Pu);break e;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(w=$x+300-Ke(),10<w)){if(Uu(m,l,wo,!Pu),Kr(m,0,!0)!==0)break e;m.timeoutHandle=bw($b.bind(null,m,u,Ei,Up,Gx,l,wo,W0,Yf,Pu,S,2,-0,0),w);break e}$b(m,u,Ei,Up,Gx,l,wo,W0,Yf,Pu,S,0,-0,0)}}break}while(!0);$l(i)}function $b(i,l,u,m,w,S,X,he,Ce,Ye,it,ht,Je,et){if(i.timeoutHandle=-1,ht=l.subtreeFlags,(ht&8192||(ht&16785408)===16785408)&&(Ld={stylesheets:null,count:0,unsuspend:hN},Bb(l),ht=mN(),ht!==null)){i.cancelPendingCommit=ht(Zb.bind(null,i,l,S,u,m,w,X,he,Ce,it,1,Je,et)),Uu(i,S,X,!Ye);return}Zb(i,l,S,u,m,w,X,he,Ce)}function IT(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var w=u[m],S=w.getSnapshot;w=w.value;try{if(!va(S(),w))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Uu(i,l,u,m){l&=~Hx,l&=~W0,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var w=l;0<w;){var S=31-It(w),X=1<<S;m[S]=-1,w&=~X}u!==0&&$t(i,u,l)}function Vp(){return(mn&6)===0?(Td(0),!1):!0}function Xx(){if(Lr!==null){if(pn===0)var i=Lr.return;else i=Lr,Ko=wa=null,Mf(i),Hf=null,xd=0,i=Lr;for(;i!==null;)Ab(i.alternate,i),i=i.return;Lr=null}}function Jf(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,YT(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Xx(),Cn=i,Lr=u=mo(i.current,null),qr=l,pn=0,Hi=null,Pu=!1,Wf=ga(i,l),qx=!1,Yf=wo=Hx=W0=Fu=Zn=0,Ei=Ad=null,Gx=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var w=31-It(m),S=1<<w;l|=i[w],m&=~S}return Fc=l,vi(),u}function Kb(i,l){Xt=null,ae.H=Np,l===ie||l===ue?(l=Ue(),pn=3):l===oe?(l=Ue(),pn=4):pn=l===fb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Hi=l,Lr===null&&(Zn=1,Lp(i,kr(l,i.current)))}function Wb(){var i=ae.H;return ae.H=Np,i===null?Np:i}function Yb(){var i=ae.A;return ae.A=CT,i}function Qx(){Zn=4,Pu||(qr&4194048)!==qr&&bo.current!==null||(Wf=!0),(Fu&134217727)===0&&(W0&134217727)===0||Cn===null||Uu(Cn,qr,wo,!1)}function Jx(i,l,u){var m=mn;mn|=2;var w=Wb(),S=Yb();(Cn!==i||qr!==l)&&(Up=null,Jf(i,l)),l=!1;var X=Zn;e:do try{if(pn!==0&&Lr!==null){var he=Lr,Ce=Hi;switch(pn){case 8:Xx(),X=6;break e;case 3:case 2:case 9:case 6:bo.current===null&&(l=!0);var Ye=pn;if(pn=0,Hi=null,Zf(i,he,Ce,Ye),u&&Wf){X=0;break e}break;default:Ye=pn,pn=0,Hi=null,Zf(i,he,Ce,Ye)}}DT(),X=Zn;break}catch(it){Kb(i,it)}while(!0);return l&&i.shellSuspendCounter++,Ko=wa=null,mn=m,ae.H=w,ae.A=S,Lr===null&&(Cn=null,qr=0,vi()),X}function DT(){for(;Lr!==null;)Xb(Lr)}function LT(i,l){var u=mn;mn|=2;var m=Wb(),w=Yb();Cn!==i||qr!==l?(Up=null,Bp=Ke()+500,Jf(i,l)):Wf=ga(i,l);e:do try{if(pn!==0&&Lr!==null){l=Lr;var S=Hi;t:switch(pn){case 1:pn=0,Hi=null,Zf(i,l,S,1);break;case 2:case 9:if(be(S)){pn=0,Hi=null,Qb(l);break}l=function(){pn!==2&&pn!==9||Cn!==i||(pn=7),$l(i)},S.then(l,l);break e;case 3:pn=7;break e;case 4:pn=5;break e;case 7:be(S)?(pn=0,Hi=null,Qb(l)):(pn=0,Hi=null,Zf(i,l,S,7));break;case 5:var X=null;switch(Lr.tag){case 26:X=Lr.memoizedState;case 5:case 27:var he=Lr;if(!X||Dw(X)){pn=0,Hi=null;var Ce=he.sibling;if(Ce!==null)Lr=Ce;else{var Ye=he.return;Ye!==null?(Lr=Ye,zp(Ye)):Lr=null}break t}}pn=0,Hi=null,Zf(i,l,S,5);break;case 6:pn=0,Hi=null,Zf(i,l,S,6);break;case 8:Xx(),Zn=6;break e;default:throw Error(n(462))}}jT();break}catch(it){Kb(i,it)}while(!0);return Ko=wa=null,ae.H=m,ae.A=w,mn=u,Lr!==null?0:(Cn=null,qr=0,vi(),Zn)}function jT(){for(;Lr!==null&&!je();)Xb(Lr)}function Xb(i){var l=kb(i.alternate,i,Fc);i.memoizedProps=i.pendingProps,l===null?zp(i):Lr=l}function Qb(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=xb(u,l,l.pendingProps,l.type,void 0,qr);break;case 11:l=xb(u,l,l.pendingProps,l.type.render,l.ref,qr);break;case 5:Mf(l);default:Ab(u,l),l=Lr=R0(l,Fc),l=kb(u,l,Fc)}i.memoizedProps=i.pendingProps,l===null?zp(i):Lr=l}function Zf(i,l,u,m){Ko=wa=null,Mf(l),Hf=null,xd=0;var w=l.return;try{if(kT(i,w,l,u,qr)){Zn=1,Lp(i,kr(u,i.current)),Lr=null;return}}catch(S){if(w!==null)throw Lr=w,S;Zn=1,Lp(i,kr(u,i.current)),Lr=null;return}l.flags&32768?(Xr||m===1?i=!0:Wf||(qr&536870912)!==0?i=!1:(Pu=i=!0,(m===2||m===9||m===3||m===6)&&(m=bo.current,m!==null&&m.tag===13&&(m.flags|=16384))),Jb(l,i)):zp(l)}function zp(i){var l=i;do{if((l.flags&32768)!==0){Jb(l,Pu);return}i=l.return;var u=AT(l.alternate,l,Fc);if(u!==null){Lr=u;return}if(l=l.sibling,l!==null){Lr=l;return}Lr=l=i}while(l!==null);Zn===0&&(Zn=5)}function Jb(i,l){do{var u=ST(i.alternate,i);if(u!==null){u.flags&=32767,Lr=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){Lr=i;return}Lr=i=u}while(i!==null);Zn=6,Lr=null}function Zb(i,l,u,m,w,S,X,he,Ce){i.cancelPendingCommit=null;do qp();while(ds!==0);if((mn&6)!==0)throw Error(n(327));if(l!==null){if(l===i.current)throw Error(n(177));if(S=l.lanes|l.childLanes,S|=zn,Wr(i,u,S,X,he,Ce),i===Cn&&(Lr=Cn=null,qr=0),Xf=l,Bu=i,Qf=u,Kx=S,Wx=w,qb=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,MT(_t,function(){return aw(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=ae.T,ae.T=null,w=le.p,le.p=2,X=mn,mn|=4;try{TT(i,l,u)}finally{mn=X,le.p=w,ae.T=m}}ds=1,ew(),tw(),rw()}}function ew(){if(ds===1){ds=0;var i=Bu,l=Xf,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null;var m=le.p;le.p=2;var w=mn;mn|=4;try{Pb(l,i);var S=u2,X=cs(i.containerInfo),he=S.focusedElem,Ce=S.selectionRange;if(X!==he&&he&&he.ownerDocument&&Tl(he.ownerDocument.documentElement,he)){if(Ce!==null&&ja(he)){var Ye=Ce.start,it=Ce.end;if(it===void 0&&(it=Ye),"selectionStart"in he)he.selectionStart=Ye,he.selectionEnd=Math.min(it,he.value.length);else{var ht=he.ownerDocument||document,Je=ht&&ht.defaultView||window;if(Je.getSelection){var et=Je.getSelection(),or=he.textContent.length,er=Math.min(Ce.start,or),bn=Ce.end===void 0?er:Math.min(Ce.end,or);!et.extend&&er>bn&&(X=bn,bn=er,er=X);var Ve=Bo(he,er),Oe=Bo(he,bn);if(Ve&&Oe&&(et.rangeCount!==1||et.anchorNode!==Ve.node||et.anchorOffset!==Ve.offset||et.focusNode!==Oe.node||et.focusOffset!==Oe.offset)){var He=ht.createRange();He.setStart(Ve.node,Ve.offset),et.removeAllRanges(),er>bn?(et.addRange(He),et.extend(Oe.node,Oe.offset)):(He.setEnd(Oe.node,Oe.offset),et.addRange(He))}}}}for(ht=[],et=he;et=et.parentNode;)et.nodeType===1&&ht.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof he.focus=="function"&&he.focus(),he=0;he<ht.length;he++){var lt=ht[he];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}tg=!!c2,u2=c2=null}finally{mn=w,le.p=m,ae.T=u}}i.current=l,ds=2}}function tw(){if(ds===2){ds=0;var i=Bu,l=Xf,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=ae.T,ae.T=null;var m=le.p;le.p=2;var w=mn;mn|=4;try{Db(i,l.alternate,l)}finally{mn=w,le.p=m,ae.T=u}}ds=3}}function rw(){if(ds===4||ds===3){ds=0,me();var i=Bu,l=Xf,u=Qf,m=qb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?ds=5:(ds=0,Xf=Bu=null,nw(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(Mu=null),Sn(u),l=l.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(jt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=ae.T,w=le.p,le.p=2,ae.T=null;try{for(var S=i.onRecoverableError,X=0;X<m.length;X++){var he=m[X];S(he.value,{componentStack:he.stack})}}finally{ae.T=l,le.p=w}}(Qf&3)!==0&&qp(),$l(i),w=i.pendingLanes,(u&4194090)!==0&&(w&42)!==0?i===Yx?Sd++:(Sd=0,Yx=i):Sd=0,Td(0)}}function nw(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,j0(l)))}function qp(i){return ew(),tw(),rw(),aw()}function aw(){if(ds!==5)return!1;var i=Bu,l=Kx;Kx=0;var u=Sn(Qf),m=ae.T,w=le.p;try{le.p=32>u?32:u,ae.T=null,u=Wx,Wx=null;var S=Bu,X=Qf;if(ds=0,Xf=Bu=null,Qf=0,(mn&6)!==0)throw Error(n(331));var he=mn;if(mn|=4,Vb(S.current),Mb(S,S.current,X,u),mn=he,Td(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(jt,S)}catch{}return!0}finally{le.p=w,ae.T=m,nw(i,l)}}function sw(i,l,u){l=kr(u,l),l=Tx(i.stateNode,l,2),i=ut(i,l,2),i!==null&&(na(i,2),$l(i))}function kn(i,l,u){if(i.tag===3)sw(i,i,u);else for(;l!==null;){if(l.tag===3){sw(l,i,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Mu===null||!Mu.has(m))){i=kr(u,i),u=cb(2),m=ut(l,u,2),m!==null&&(ub(u,m,l,i),na(m,2),$l(m));break}}l=l.return}}function Zx(i,l,u){var m=i.pingCache;if(m===null){m=i.pingCache=new RT;var w=new Set;m.set(l,w)}else w=m.get(l),w===void 0&&(w=new Set,m.set(l,w));w.has(u)||(qx=!0,w.add(u),i=OT.bind(null,i,l,u),l.then(i,i))}function OT(i,l,u){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Cn===i&&(qr&u)===u&&(Zn===4||Zn===3&&(qr&62914560)===qr&&300>Ke()-$x?(mn&2)===0&&Jf(i,0):Hx|=u,Yf===qr&&(Yf=0)),$l(i)}function iw(i,l){l===0&&(l=sn()),i=Vo(i,l),i!==null&&(na(i,l),$l(i))}function PT(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),iw(i,u)}function FT(i,l){var u=0;switch(i.tag){case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(l),iw(i,u)}function MT(i,l){return Ne(i,l)}var Hp=null,eh=null,e2=!1,Gp=!1,t2=!1,Y0=0;function $l(i){i!==eh&&i.next===null&&(eh===null?Hp=eh=i:eh=eh.next=i),Gp=!0,e2||(e2=!0,UT())}function Td(i,l){if(!t2&&Gp){t2=!0;do for(var u=!1,m=Hp;m!==null;){if(i!==0){var w=m.pendingLanes;if(w===0)var S=0;else{var X=m.suspendedLanes,he=m.pingedLanes;S=(1<<31-It(42|i)+1)-1,S&=w&~(X&~he),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,uw(m,S))}else S=qr,S=Kr(m,m===Cn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||ga(m,S)||(u=!0,uw(m,S));m=m.next}while(u);t2=!1}}function BT(){ow()}function ow(){Gp=e2=!1;var i=0;Y0!==0&&(WT()&&(i=Y0),Y0=0);for(var l=Ke(),u=null,m=Hp;m!==null;){var w=m.next,S=lw(m,l);S===0?(m.next=null,u===null?Hp=w:u.next=w,w===null&&(eh=u)):(u=m,(i!==0||(S&3)!==0)&&(Gp=!0)),m=w}Td(i)}function lw(i,l){for(var u=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var X=31-It(S),he=1<<X,Ce=w[X];Ce===-1?((he&u)===0||(he&m)!==0)&&(w[X]=br(he,l)):Ce<=l&&(i.expiredLanes|=he),S&=~he}if(l=Cn,u=qr,u=Kr(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===l&&(pn===2||pn===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Qe(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ga(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(m!==null&&Qe(m),Sn(u)){case 2:case 8:u=pt;break;case 32:u=_t;break;case 268435456:u=Dt;break;default:u=_t}return m=cw.bind(null,i),u=Ne(u,m),i.callbackPriority=l,i.callbackNode=u,l}return m!==null&&m!==null&&Qe(m),i.callbackPriority=2,i.callbackNode=null,2}function cw(i,l){if(ds!==0&&ds!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(qp()&&i.callbackNode!==u)return null;var m=qr;return m=Kr(i,i===Cn?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(Gb(i,m,l),lw(i,Ke()),i.callbackNode!=null&&i.callbackNode===u?cw.bind(null,i):null)}function uw(i,l){if(qp())return null;Gb(i,l,!0)}function UT(){XT(function(){(mn&6)!==0?Ne(st,BT):ow()})}function r2(){return Y0===0&&(Y0=bs()),Y0}function fw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Di(""+i)}function hw(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function VT(i,l,u,m,w){if(l==="submit"&&u&&u.stateNode===w){var S=fw((w[Fr]||null).action),X=m.submitter;X&&(l=(l=X[Fr]||null)?fw(l.formAction):X.getAttribute("formAction"),l!==null&&(S=l,X=null));var he=new ao("action","action",null,m,w);i.push({event:he,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Y0!==0){var Ce=X?hw(w,X):new FormData(w);vo(u,{pending:!0,data:Ce,method:w.method,action:S},null,Ce)}}else typeof S=="function"&&(he.preventDefault(),Ce=X?hw(w,X):new FormData(w),vo(u,{pending:!0,data:Ce,method:w.method,action:S},S,Ce))},currentTarget:w}]})}}for(var n2=0;n2<wc.length;n2++){var a2=wc[n2],zT=a2.toLowerCase(),qT=a2[0].toUpperCase()+a2.slice(1);On(zT,"on"+qT)}On(bu,"onAnimationEnd"),On(Cl,"onAnimationIteration"),On(Rl,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Il,"onTransitionRun"),On(bc,"onTransitionStart"),On(wu,"onTransitionCancel"),On(Dl,"onTransitionEnd"),kt("onMouseEnter",["mouseout","mouseover"]),kt("onMouseLeave",["mouseout","mouseover"]),kt("onPointerEnter",["pointerout","pointerover"]),kt("onPointerLeave",["pointerout","pointerover"]),ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nd));function dw(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],w=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var X=m.length-1;0<=X;X--){var he=m[X],Ce=he.instance,Ye=he.currentTarget;if(he=he.listener,Ce!==S&&w.isPropagationStopped())break e;S=he,w.currentTarget=Ye;try{S(w)}catch(it){Dp(it)}w.currentTarget=null,S=Ce}else for(X=0;X<m.length;X++){if(he=m[X],Ce=he.instance,Ye=he.currentTarget,he=he.listener,Ce!==S&&w.isPropagationStopped())break e;S=he,w.currentTarget=Ye;try{S(w)}catch(it){Dp(it)}w.currentTarget=null,S=Ce}}}}function jr(i,l){var u=l[_n];u===void 0&&(u=l[_n]=new Set);var m=i+"__bubble";u.has(m)||(mw(l,i,2,!1),u.add(m))}function s2(i,l,u){var m=0;l&&(m|=4),mw(u,i,m,l)}var $p="_reactListening"+Math.random().toString(36).slice(2);function i2(i){if(!i[$p]){i[$p]=!0,Ge.forEach(function(u){u!=="selectionchange"&&(HT.has(u)||s2(u,!1,i),s2(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[$p]||(l[$p]=!0,s2("selectionchange",!1,l))}}function mw(i,l,u,m){switch(Mw(l)){case 2:var w=xN;break;case 8:w=yN;break;default:w=b2}u=w.bind(null,l,u,i),w=void 0,!ls||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(l,u,{capture:!0,passive:w}):i.addEventListener(l,u,!0):w!==void 0?i.addEventListener(l,u,{passive:w}):i.addEventListener(l,u,!1)}function o2(i,l,u,m,w){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var X=m.tag;if(X===3||X===4){var he=m.stateNode.containerInfo;if(he===w)break;if(X===4)for(X=m.return;X!==null;){var Ce=X.tag;if((Ce===3||Ce===4)&&X.stateNode.containerInfo===w)return;X=X.return}for(;he!==null;){if(X=_e(he),X===null)return;if(Ce=X.tag,Ce===5||Ce===6||Ce===26||Ce===27){m=S=X;continue e}he=he.parentNode}}m=m.return}pu(function(){var Ye=S,it=hn(u),ht=[];e:{var Je=Uo.get(i);if(Je!==void 0){var et=ao,or=i;switch(i){case"keypress":if(Es(u)===0)break e;case"keydown":case"keyup":et=Pi;break;case"focusin":or="focus",et=io;break;case"focusout":or="blur",et=io;break;case"beforeblur":case"afterblur":et=io;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=so;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=kl;break;case bu:case Cl:case Rl:et=bl;break;case Dl:et=ee;break;case"scroll":case"scrollend":et=mc;break;case"wheel":et=Re;break;case"copy":case"cut":case"paste":et=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Mo;break;case"toggle":case"beforetoggle":et=nt}var er=(l&4)!==0,bn=!er&&(i==="scroll"||i==="scrollend"),Ve=er?Je!==null?Je+"Capture":null:Je;er=[];for(var Oe=Ye,He;Oe!==null;){var lt=Oe;if(He=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||He===null||Ve===null||(lt=Ha(Oe,Ve),lt!=null&&er.push(Cd(Oe,lt,He))),bn)break;Oe=Oe.return}0<er.length&&(Je=new et(Je,or,null,u,it),ht.push({event:Je,listeners:er}))}}if((l&7)===0){e:{if(Je=i==="mouseover"||i==="pointerover",et=i==="mouseout"||i==="pointerout",Je&&u!==fi&&(or=u.relatedTarget||u.fromElement)&&(_e(or)||or[fn]))break e;if((et||Je)&&(Je=it.window===it?it:(Je=it.ownerDocument)?Je.defaultView||Je.parentWindow:window,et?(or=u.relatedTarget||u.toElement,et=Ye,or=or?_e(or):null,or!==null&&(bn=s(or),er=or.tag,or!==bn||er!==5&&er!==27&&er!==6)&&(or=null)):(et=null,or=Ye),et!==or)){if(er=Yn,lt="onMouseLeave",Ve="onMouseEnter",Oe="mouse",(i==="pointerout"||i==="pointerover")&&(er=Mo,lt="onPointerLeave",Ve="onPointerEnter",Oe="pointer"),bn=et==null?Je:ze(et),He=or==null?Je:ze(or),Je=new er(lt,Oe+"leave",et,u,it),Je.target=bn,Je.relatedTarget=He,lt=null,_e(it)===Ye&&(er=new er(Ve,Oe+"enter",or,u,it),er.target=He,er.relatedTarget=bn,lt=er),bn=lt,et&&or)t:{for(er=et,Ve=or,Oe=0,He=er;He;He=th(He))Oe++;for(He=0,lt=Ve;lt;lt=th(lt))He++;for(;0<Oe-He;)er=th(er),Oe--;for(;0<He-Oe;)Ve=th(Ve),He--;for(;Oe--;){if(er===Ve||Ve!==null&&er===Ve.alternate)break t;er=th(er),Ve=th(Ve)}er=null}else er=null;et!==null&&pw(ht,Je,et,er,!1),or!==null&&bn!==null&&pw(ht,bn,or,er,!0)}}e:{if(Je=Ye?ze(Ye):window,et=Je.nodeName&&Je.nodeName.toLowerCase(),et==="select"||et==="input"&&Je.type==="file")var Vt=yu;else if(ln(Je))if(gc)Vt=Rf;else{Vt=td;var Ir=Ss}else et=Je.nodeName,!et||et.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Ye&&hc(Ye.elementType)&&(Vt=yu):Vt=N0;if(Vt&&(Vt=Vt(i,Ye))){xi(ht,Vt,u,it);break e}Ir&&Ir(i,Je,Ye),i==="focusout"&&Ye&&Je.type==="number"&&Ye.memoizedProps.value!=null&&to(Je,"number",Je.value)}switch(Ir=Ye?ze(Ye):window,i){case"focusin":(ln(Ir)||Ir.contentEditable==="true")&&(Ts=Ir,Fi=Ye,fo=null);break;case"focusout":fo=Fi=Ts=null;break;case"mousedown":Mi=!0;break;case"contextmenu":case"mouseup":case"dragend":Mi=!1,jn(ht,u,it);break;case"selectionchange":if(Nl)break;case"keydown":case"keyup":jn(ht,u,it)}var Kt;if(St)e:{switch(i){case"compositionstart":var tr="onCompositionStart";break e;case"compositionend":tr="onCompositionEnd";break e;case"compositionupdate":tr="onCompositionUpdate";break e}tr=void 0}else Zt?We(i,u)&&(tr="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(tr="onCompositionStart");tr&&(q&&u.locale!=="ko"&&(Zt||tr!=="onCompositionStart"?tr==="onCompositionEnd"&&Zt&&(Kt=dc()):(ks=it,no="value"in ks?ks.value:ks.textContent,Zt=!0)),Ir=Kp(Ye,tr),0<Ir.length&&(tr=new Oo(tr,i,null,u,it),ht.push({event:tr,listeners:Ir}),Kt?tr.data=Kt:(Kt=yt(u),Kt!==null&&(tr.data=Kt)))),(Kt=M?Rr(i,u):cr(i,u))&&(tr=Kp(Ye,"onBeforeInput"),0<tr.length&&(Ir=new Oo("onBeforeInput","beforeinput",null,u,it),ht.push({event:Ir,listeners:tr}),Ir.data=Kt)),VT(ht,i,Ye,u,it)}dw(ht,l)})}function Cd(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Kp(i,l){for(var u=l+"Capture",m=[];i!==null;){var w=i,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=Ha(i,u),w!=null&&m.unshift(Cd(i,w,S)),w=Ha(i,l),w!=null&&m.push(Cd(i,w,S))),i.tag===3)return m;i=i.return}return[]}function th(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pw(i,l,u,m,w){for(var S=l._reactName,X=[];u!==null&&u!==m;){var he=u,Ce=he.alternate,Ye=he.stateNode;if(he=he.tag,Ce!==null&&Ce===m)break;he!==5&&he!==26&&he!==27||Ye===null||(Ce=Ye,w?(Ye=Ha(u,S),Ye!=null&&X.unshift(Cd(u,Ye,Ce))):w||(Ye=Ha(u,S),Ye!=null&&X.push(Cd(u,Ye,Ce)))),u=u.return}X.length!==0&&i.push({event:l,listeners:X})}var GT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function gw(i){return(typeof i=="string"?i:""+i).replace(GT,`
`).replace($T,"")}function xw(i,l){return l=gw(l),gw(i)===l}function Wp(){}function vn(i,l,u,m,w,S){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||ws(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&ws(i,""+m);break;case"className":_r(i,"class",m);break;case"tabIndex":_r(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(i,u,m);break;case"style":fc(i,m,S);break;case"data":if(l!=="object"){_r(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Di(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(l!=="input"&&vn(i,l,"name",w.name,w,null),vn(i,l,"formEncType",w.formEncType,w,null),vn(i,l,"formMethod",w.formMethod,w,null),vn(i,l,"formTarget",w.formTarget,w,null)):(vn(i,l,"encType",w.encType,w,null),vn(i,l,"method",w.method,w,null),vn(i,l,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Di(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Wp);break;case"onScroll":m!=null&&jr("scroll",i);break;case"onScrollEnd":m!=null&&jr("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(w.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Di(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":jr("beforetoggle",i),jr("toggle",i),wr(i,"popover",m);break;case"xlinkActuate":Nr(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Nr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Nr(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Nr(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Nr(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Nr(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Nr(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Nr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Nr(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":wr(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ii.get(u)||u,wr(i,u,m))}}function l2(i,l,u,m,w,S){switch(u){case"style":fc(i,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(u=m.__html,u!=null){if(w.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof m=="string"?ws(i,m):(typeof m=="number"||typeof m=="bigint")&&ws(i,""+m);break;case"onScroll":m!=null&&jr("scroll",i);break;case"onScrollEnd":m!=null&&jr("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Wp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xe.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(w=u.endsWith("Capture"),l=u.slice(2,w?u.length-7:void 0),S=i[Fr]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(l,S,w),typeof m=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,m,w);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):wr(i,u,m)}}}function ms(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jr("error",i),jr("load",i);var m=!1,w=!1,S;for(S in u)if(u.hasOwnProperty(S)){var X=u[S];if(X!=null)switch(S){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:vn(i,l,S,X,u,null)}}w&&vn(i,l,"srcSet",u.srcSet,u,null),m&&vn(i,l,"src",u.src,u,null);return;case"input":jr("invalid",i);var he=S=X=w=null,Ce=null,Ye=null;for(m in u)if(u.hasOwnProperty(m)){var it=u[m];if(it!=null)switch(m){case"name":w=it;break;case"type":X=it;break;case"checked":Ce=it;break;case"defaultChecked":Ye=it;break;case"value":S=it;break;case"defaultValue":he=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,l));break;default:vn(i,l,m,it,u,null)}}eo(i,S,he,Ce,Ye,X,w,!1),Zi(i);return;case"select":jr("invalid",i),m=X=S=null;for(w in u)if(u.hasOwnProperty(w)&&(he=u[w],he!=null))switch(w){case"value":S=he;break;case"defaultValue":X=he;break;case"multiple":m=he;default:vn(i,l,w,he,u,null)}l=S,u=X,i.multiple=!!m,l!=null?ui(i,!!m,l,!1):u!=null&&ui(i,!!m,u,!0);return;case"textarea":jr("invalid",i),S=w=m=null;for(X in u)if(u.hasOwnProperty(X)&&(he=u[X],he!=null))switch(X){case"value":m=he;break;case"defaultValue":w=he;break;case"children":S=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(91));break;default:vn(i,l,X,he,u,null)}ro(i,m,w,S),Zi(i);return;case"option":for(Ce in u)if(u.hasOwnProperty(Ce)&&(m=u[Ce],m!=null))switch(Ce){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:vn(i,l,Ce,m,u,null)}return;case"dialog":jr("beforetoggle",i),jr("toggle",i),jr("cancel",i),jr("close",i);break;case"iframe":case"object":jr("load",i);break;case"video":case"audio":for(m=0;m<Nd.length;m++)jr(Nd[m],i);break;case"image":jr("error",i),jr("load",i);break;case"details":jr("toggle",i);break;case"embed":case"source":case"link":jr("error",i),jr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ye in u)if(u.hasOwnProperty(Ye)&&(m=u[Ye],m!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:vn(i,l,Ye,m,u,null)}return;default:if(hc(l)){for(it in u)u.hasOwnProperty(it)&&(m=u[it],m!==void 0&&l2(i,l,it,m,u,void 0));return}}for(he in u)u.hasOwnProperty(he)&&(m=u[he],m!=null&&vn(i,l,he,m,u,null))}function KT(i,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,X=null,he=null,Ce=null,Ye=null,it=null;for(et in u){var ht=u[et];if(u.hasOwnProperty(et)&&ht!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":Ce=ht;default:m.hasOwnProperty(et)||vn(i,l,et,null,m,ht)}}for(var Je in m){var et=m[Je];if(ht=u[Je],m.hasOwnProperty(Je)&&(et!=null||ht!=null))switch(Je){case"type":S=et;break;case"name":w=et;break;case"checked":Ye=et;break;case"defaultChecked":it=et;break;case"value":X=et;break;case"defaultValue":he=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,l));break;default:et!==ht&&vn(i,l,Je,et,m,ht)}}Da(i,X,he,Ce,Ye,it,S,w);return;case"select":et=X=he=Je=null;for(S in u)if(Ce=u[S],u.hasOwnProperty(S)&&Ce!=null)switch(S){case"value":break;case"multiple":et=Ce;default:m.hasOwnProperty(S)||vn(i,l,S,null,m,Ce)}for(w in m)if(S=m[w],Ce=u[w],m.hasOwnProperty(w)&&(S!=null||Ce!=null))switch(w){case"value":Je=S;break;case"defaultValue":he=S;break;case"multiple":X=S;default:S!==Ce&&vn(i,l,w,S,m,Ce)}l=he,u=X,m=et,Je!=null?ui(i,!!u,Je,!1):!!m!=!!u&&(l!=null?ui(i,!!u,l,!0):ui(i,!!u,u?[]:"",!1));return;case"textarea":et=Je=null;for(he in u)if(w=u[he],u.hasOwnProperty(he)&&w!=null&&!m.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:vn(i,l,he,null,m,w)}for(X in m)if(w=m[X],S=u[X],m.hasOwnProperty(X)&&(w!=null||S!=null))switch(X){case"value":Je=w;break;case"defaultValue":et=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==S&&vn(i,l,X,w,m,S)}Jr(i,Je,et);return;case"option":for(var or in u)if(Je=u[or],u.hasOwnProperty(or)&&Je!=null&&!m.hasOwnProperty(or))switch(or){case"selected":i.selected=!1;break;default:vn(i,l,or,null,m,Je)}for(Ce in m)if(Je=m[Ce],et=u[Ce],m.hasOwnProperty(Ce)&&Je!==et&&(Je!=null||et!=null))switch(Ce){case"selected":i.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:vn(i,l,Ce,Je,m,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var er in u)Je=u[er],u.hasOwnProperty(er)&&Je!=null&&!m.hasOwnProperty(er)&&vn(i,l,er,null,m,Je);for(Ye in m)if(Je=m[Ye],et=u[Ye],m.hasOwnProperty(Ye)&&Je!==et&&(Je!=null||et!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(n(137,l));break;default:vn(i,l,Ye,Je,m,et)}return;default:if(hc(l)){for(var bn in u)Je=u[bn],u.hasOwnProperty(bn)&&Je!==void 0&&!m.hasOwnProperty(bn)&&l2(i,l,bn,void 0,m,Je);for(it in m)Je=m[it],et=u[it],!m.hasOwnProperty(it)||Je===et||Je===void 0&&et===void 0||l2(i,l,it,Je,m,et);return}}for(var Ve in u)Je=u[Ve],u.hasOwnProperty(Ve)&&Je!=null&&!m.hasOwnProperty(Ve)&&vn(i,l,Ve,null,m,Je);for(ht in m)Je=m[ht],et=u[ht],!m.hasOwnProperty(ht)||Je===et||Je==null&&et==null||vn(i,l,ht,Je,m,et)}var c2=null,u2=null;function Yp(i){return i.nodeType===9?i:i.ownerDocument}function yw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vw(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function f2(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var h2=null;function WT(){var i=window.event;return i&&i.type==="popstate"?i===h2?!1:(h2=i,!0):(h2=null,!1)}var bw=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,ww=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof ww<"u"?function(i){return ww.resolve(null).then(i).catch(QT)}:bw;function QT(i){setTimeout(function(){throw i})}function Vu(i){return i==="head"}function _w(i,l){var u=l,m=0,w=0;do{var S=u.nextSibling;if(i.removeChild(u),S&&S.nodeType===8)if(u=S.data,u==="/$"){if(0<m&&8>m){u=m;var X=i.ownerDocument;if(u&1&&Rd(X.documentElement),u&2&&Rd(X.body),u&4)for(u=X.head,Rd(u),X=u.firstChild;X;){var he=X.nextSibling,Ce=X.nodeName;X[ge]||Ce==="SCRIPT"||Ce==="STYLE"||Ce==="LINK"&&X.rel.toLowerCase()==="stylesheet"||u.removeChild(X),X=he}}if(w===0){i.removeChild(S),Md(l);return}w--}else u==="$"||u==="$?"||u==="$!"?w++:m=u.charCodeAt(0)-48;else m=0;u=S}while(u);Md(l)}function d2(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":d2(u),xe(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function JT(i,l,u,m){for(;i.nodeType===1;){var w=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ge])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=el(i.nextSibling),i===null)break}return null}function ZT(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=el(i.nextSibling),i===null))return null;return i}function m2(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function eN(i,l){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function el(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var p2=null;function kw(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}function Ew(i,l,u){switch(l=Yp(u),i){case"html":if(i=l.documentElement,!i)throw Error(n(452));return i;case"head":if(i=l.head,!i)throw Error(n(453));return i;case"body":if(i=l.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Rd(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);xe(i)}var _o=new Map,Aw=new Set;function Xp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Mc=le.d;le.d={f:tN,r:rN,D:nN,C:aN,L:sN,m:iN,X:lN,S:oN,M:cN};function tN(){var i=Mc.f(),l=Vp();return i||l}function rN(i){var l=Ee(i);l!==null&&l.tag===5&&l.type==="form"?H0(l):Mc.r(i)}var rh=typeof document>"u"?null:document;function Sw(i,l,u){var m=rh;if(m&&typeof l=="string"&&l){var w=Mr(l);w='link[rel="'+i+'"][href="'+w+'"]',typeof u=="string"&&(w+='[crossorigin="'+u+'"]'),Aw.has(w)||(Aw.add(w),i={rel:i,crossOrigin:u,href:l},m.querySelector(w)===null&&(l=m.createElement("link"),ms(l,"link",i),Me(l),m.head.appendChild(l)))}}function nN(i){Mc.D(i),Sw("dns-prefetch",i,null)}function aN(i,l){Mc.C(i,l),Sw("preconnect",i,l)}function sN(i,l,u){Mc.L(i,l,u);var m=rh;if(m&&i&&l){var w='link[rel="preload"][as="'+Mr(l)+'"]';l==="image"&&u&&u.imageSrcSet?(w+='[imagesrcset="'+Mr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(w+='[imagesizes="'+Mr(u.imageSizes)+'"]')):w+='[href="'+Mr(i)+'"]';var S=w;switch(l){case"style":S=nh(i);break;case"script":S=ah(i)}_o.has(S)||(i=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),_o.set(S,i),m.querySelector(w)!==null||l==="style"&&m.querySelector(Id(S))||l==="script"&&m.querySelector(Dd(S))||(l=m.createElement("link"),ms(l,"link",i),Me(l),m.head.appendChild(l)))}}function iN(i,l){Mc.m(i,l);var u=rh;if(u&&i){var m=l&&typeof l.as=="string"?l.as:"script",w='link[rel="modulepreload"][as="'+Mr(m)+'"][href="'+Mr(i)+'"]',S=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=ah(i)}if(!_o.has(S)&&(i=p({rel:"modulepreload",href:i},l),_o.set(S,i),u.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Dd(S)))return}m=u.createElement("link"),ms(m,"link",i),Me(m),u.head.appendChild(m)}}}function oN(i,l,u){Mc.S(i,l,u);var m=rh;if(m&&i){var w=Ze(m).hoistableStyles,S=nh(i);l=l||"default";var X=w.get(S);if(!X){var he={loading:0,preload:null};if(X=m.querySelector(Id(S)))he.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":l},u),(u=_o.get(S))&&g2(i,u);var Ce=X=m.createElement("link");Me(Ce),ms(Ce,"link",i),Ce._p=new Promise(function(Ye,it){Ce.onload=Ye,Ce.onerror=it}),Ce.addEventListener("load",function(){he.loading|=1}),Ce.addEventListener("error",function(){he.loading|=2}),he.loading|=4,Qp(X,l,m)}X={type:"stylesheet",instance:X,count:1,state:he},w.set(S,X)}}}function lN(i,l){Mc.X(i,l);var u=rh;if(u&&i){var m=Ze(u).hoistableScripts,w=ah(i),S=m.get(w);S||(S=u.querySelector(Dd(w)),S||(i=p({src:i,async:!0},l),(l=_o.get(w))&&x2(i,l),S=u.createElement("script"),Me(S),ms(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(w,S))}}function cN(i,l){Mc.M(i,l);var u=rh;if(u&&i){var m=Ze(u).hoistableScripts,w=ah(i),S=m.get(w);S||(S=u.querySelector(Dd(w)),S||(i=p({src:i,async:!0,type:"module"},l),(l=_o.get(w))&&x2(i,l),S=u.createElement("script"),Me(S),ms(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(w,S))}}function Tw(i,l,u,m){var w=(w=re.current)?Xp(w):null;if(!w)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=nh(u.href),u=Ze(w).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=nh(u.href);var S=Ze(w).hoistableStyles,X=S.get(i);if(X||(w=w.ownerDocument||w,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,X),(S=w.querySelector(Id(i)))&&!S._p&&(X.instance=S,X.state.loading=5),_o.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},_o.set(i,u),S||uN(w,i,u,X.state))),l&&m===null)throw Error(n(528,""));return X}if(l&&m!==null)throw Error(n(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=ah(u),u=Ze(w).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function nh(i){return'href="'+Mr(i)+'"'}function Id(i){return'link[rel="stylesheet"]['+i+"]"}function Nw(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function uN(i,l,u,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),ms(l,"link",u),Me(l),i.head.appendChild(l))}function ah(i){return'[src="'+Mr(i)+'"]'}function Dd(i){return"script[async]"+i}function Cw(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Mr(u.href)+'"]');if(m)return l.instance=m,Me(m),m;var w=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Me(m),ms(m,"style",w),Qp(m,u.precedence,i),l.instance=m;case"stylesheet":w=nh(u.href);var S=i.querySelector(Id(w));if(S)return l.state.loading|=4,l.instance=S,Me(S),S;m=Nw(u),(w=_o.get(w))&&g2(m,w),S=(i.ownerDocument||i).createElement("link"),Me(S);var X=S;return X._p=new Promise(function(he,Ce){X.onload=he,X.onerror=Ce}),ms(S,"link",m),l.state.loading|=4,Qp(S,u.precedence,i),l.instance=S;case"script":return S=ah(u.src),(w=i.querySelector(Dd(S)))?(l.instance=w,Me(w),w):(m=u,(w=_o.get(S))&&(m=p({},u),x2(m,w)),i=i.ownerDocument||i,w=i.createElement("script"),Me(w),ms(w,"link",m),i.head.appendChild(w),l.instance=w);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Qp(m,u.precedence,i));return l.instance}function Qp(i,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,S=w,X=0;X<m.length;X++){var he=m[X];if(he.dataset.precedence===l)S=he;else if(S!==w)break}S?S.parentNode.insertBefore(i,S.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function g2(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function x2(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Jp=null;function Rw(i,l,u){if(Jp===null){var m=new Map,w=Jp=new Map;w.set(u,m)}else w=Jp,m=w.get(u),m||(m=new Map,w.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),w=0;w<u.length;w++){var S=u[w];if(!(S[ge]||S[Yr]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var X=S.getAttribute(l)||"";X=i+X;var he=m.get(X);he?he.push(S):m.set(X,[S])}}return m}function Iw(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function fN(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Dw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ld=null;function hN(){}function dN(i,l,u){if(Ld===null)throw Error(n(475));var m=Ld;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var w=nh(u.href),S=i.querySelector(Id(w));if(S){i=S._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=Zp.bind(m),i.then(m,m)),l.state.loading|=4,l.instance=S,Me(S);return}S=i.ownerDocument||i,u=Nw(u),(w=_o.get(w))&&g2(u,w),S=S.createElement("link"),Me(S);var X=S;X._p=new Promise(function(he,Ce){X.onload=he,X.onerror=Ce}),ms(S,"link",u),l.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Zp.bind(m),i.addEventListener("load",l),i.addEventListener("error",l))}}function mN(){if(Ld===null)throw Error(n(475));var i=Ld;return i.stylesheets&&i.count===0&&y2(i,i.stylesheets),0<i.count?function(l){var u=setTimeout(function(){if(i.stylesheets&&y2(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Zp(){if(this.count--,this.count===0){if(this.stylesheets)y2(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var eg=null;function y2(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,eg=new Map,l.forEach(pN,i),eg=null,Zp.call(i))}function pN(i,l){if(!(l.state.loading&4)){var u=eg.get(i);if(u)var m=u.get(null);else{u=new Map,eg.set(i,u);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var X=w[S];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(u.set(X.dataset.precedence,X),m=X)}m&&u.set(null,m)}w=l.instance,X=w.getAttribute("data-precedence"),S=u.get(X)||m,S===m&&u.set(null,w),u.set(X,w),this.count++,m=Zp.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),S?S.parentNode.insertBefore(w,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),l.state.loading|=4}}var jd={$$typeof:P,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function gN(i,l,u,m,w,S,X,he){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Un(0),this.hiddenUpdates=Un(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function Lw(i,l,u,m,w,S,X,he,Ce,Ye,it,ht){return i=new gN(i,l,u,X,he,Ce,Ye,ht),l=1,S===!0&&(l|=24),S=Wa(3,null,null,l),i.current=S,S.stateNode=i,l=nd(),l.refCount++,i.pooledCache=l,l.refCount++,S.memoizedState={element:m,isDehydrated:u,cache:l},De(S),i}function jw(i){return i?(i=ba,i):ba}function Ow(i,l,u,m,w,S){w=jw(w),m.context===null?m.context=w:m.pendingContext=w,m=at(l),m.payload={element:u},S=S===void 0?null:S,S!==null&&(m.callback=S),u=ut(i,m,l),u!==null&&($i(u,i,l),ot(u,i,l))}function Pw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function v2(i,l){Pw(i,l),(i=i.alternate)&&Pw(i,l)}function Fw(i){if(i.tag===13){var l=Vo(i,67108864);l!==null&&$i(l,i,67108864),v2(i,67108864)}}var tg=!0;function xN(i,l,u,m){var w=ae.T;ae.T=null;var S=le.p;try{le.p=2,b2(i,l,u,m)}finally{le.p=S,ae.T=w}}function yN(i,l,u,m){var w=ae.T;ae.T=null;var S=le.p;try{le.p=8,b2(i,l,u,m)}finally{le.p=S,ae.T=w}}function b2(i,l,u,m){if(tg){var w=w2(m);if(w===null)o2(i,l,m,rg,u),Bw(i,m);else if(bN(w,i,l,u,m))m.stopPropagation();else if(Bw(i,m),l&4&&-1<vN.indexOf(i)){for(;w!==null;){var S=Ee(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var X=pr(S.pendingLanes);if(X!==0){var he=S;for(he.pendingLanes|=2,he.entangledLanes|=2;X;){var Ce=1<<31-It(X);he.entanglements[1]|=Ce,X&=~Ce}$l(S),(mn&6)===0&&(Bp=Ke()+500,Td(0))}}break;case 13:he=Vo(S,2),he!==null&&$i(he,S,2),Vp(),v2(S,2)}if(S=w2(m),S===null&&o2(i,l,m,rg,u),S===w)break;w=S}w!==null&&m.stopPropagation()}else o2(i,l,m,null,u)}}function w2(i){return i=hn(i),_2(i)}var rg=null;function _2(i){if(rg=null,i=_e(i),i!==null){var l=s(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=o(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return rg=i,null}function Mw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case st:return 2;case pt:return 8;case _t:case bt:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var k2=!1,zu=null,qu=null,Hu=null,Od=new Map,Pd=new Map,Gu=[],vN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bw(i,l){switch(i){case"focusin":case"focusout":zu=null;break;case"dragenter":case"dragleave":qu=null;break;case"mouseover":case"mouseout":Hu=null;break;case"pointerover":case"pointerout":Od.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(l.pointerId)}}function Fd(i,l,u,m,w,S){return i===null||i.nativeEvent!==S?(i={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:S,targetContainers:[w]},l!==null&&(l=Ee(l),l!==null&&Fw(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),i)}function bN(i,l,u,m,w){switch(l){case"focusin":return zu=Fd(zu,i,l,u,m,w),!0;case"dragenter":return qu=Fd(qu,i,l,u,m,w),!0;case"mouseover":return Hu=Fd(Hu,i,l,u,m,w),!0;case"pointerover":var S=w.pointerId;return Od.set(S,Fd(Od.get(S)||null,i,l,u,m,w)),!0;case"gotpointercapture":return S=w.pointerId,Pd.set(S,Fd(Pd.get(S)||null,i,l,u,m,w)),!0}return!1}function Uw(i){var l=_e(i.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){i.blockedOn=l,is(i.priority,function(){if(u.tag===13){var m=Gi();m=za(m);var w=Vo(u,m);w!==null&&$i(w,u,m),v2(u,m)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ng(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=w2(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);fi=m,u.target.dispatchEvent(m),fi=null}else return l=Ee(u),l!==null&&Fw(l),i.blockedOn=u,!1;l.shift()}return!0}function Vw(i,l,u){ng(i)&&u.delete(l)}function wN(){k2=!1,zu!==null&&ng(zu)&&(zu=null),qu!==null&&ng(qu)&&(qu=null),Hu!==null&&ng(Hu)&&(Hu=null),Od.forEach(Vw),Pd.forEach(Vw)}function ag(i,l){i.blockedOn===l&&(i.blockedOn=null,k2||(k2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wN)))}var sg=null;function zw(i){sg!==i&&(sg=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sg===i&&(sg=null);for(var l=0;l<i.length;l+=3){var u=i[l],m=i[l+1],w=i[l+2];if(typeof m!="function"){if(_2(m||u)===null)continue;break}var S=Ee(u);S!==null&&(i.splice(l,3),l-=3,vo(S,{pending:!0,data:w,method:u.method,action:m},m,w))}}))}function Md(i){function l(Ce){return ag(Ce,i)}zu!==null&&ag(zu,i),qu!==null&&ag(qu,i),Hu!==null&&ag(Hu,i),Od.forEach(l),Pd.forEach(l);for(var u=0;u<Gu.length;u++){var m=Gu[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Gu.length&&(u=Gu[0],u.blockedOn===null);)Uw(u),u.blockedOn===null&&Gu.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var w=u[m],S=u[m+1],X=w[Fr]||null;if(typeof S=="function")X||zw(u);else if(X){var he=null;if(S&&S.hasAttribute("formAction")){if(w=S,X=S[Fr]||null)he=X.formAction;else if(_2(w)!==null)continue}else he=X.action;typeof he=="function"?u[m+1]=he:(u.splice(m,3),m-=3),zw(u)}}}function E2(i){this._internalRoot=i}ig.prototype.render=E2.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));var u=l.current,m=Gi();Ow(u,m,i,l,null,null)},ig.prototype.unmount=E2.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ow(i.current,2,null,i,null,null),Vp(),l[fn]=null}};function ig(i){this._internalRoot=i}ig.prototype.unstable_scheduleHydration=function(i){if(i){var l=aa();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Gu.length&&l!==0&&l<Gu[u].priority;u++);Gu.splice(u,0,i),u===0&&Uw(i)}};var qw=e.version;if(qw!=="19.1.0")throw Error(n(527,qw,"19.1.0"));le.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(l),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var _N={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var og=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!og.isDisabled&&og.supportsFiber)try{jt=og.inject(_N),Ot=og}catch{}}return Ud.createRoot=function(i,l){if(!a(i))throw Error(n(299));var u=!1,m="",w=sb,S=ib,X=ob,he=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(X=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(he=l.unstable_transitionCallbacks)),l=Lw(i,1,!1,null,null,u,m,w,S,X,he,null),i[fn]=l.current,i2(i),new E2(l)},Ud.hydrateRoot=function(i,l,u){if(!a(i))throw Error(n(299));var m=!1,w="",S=sb,X=ib,he=ob,Ce=null,Ye=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(X=u.onCaughtError),u.onRecoverableError!==void 0&&(he=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Ce=u.unstable_transitionCallbacks),u.formState!==void 0&&(Ye=u.formState)),l=Lw(i,1,!0,l,u??null,m,w,S,X,he,Ce,Ye),l.context=jw(null),u=l.current,m=Gi(),m=za(m),w=at(m),w.callback=null,ut(u,w,m),u=m,l.current.lanes=u,na(l,u),$l(l),i[fn]=l.current,i2(i),new ig(l)},Ud.version="19.1.0",Ud}var Zw;function IN(){if(Zw)return T2.exports;Zw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T2.exports=RN(),T2.exports}var DN=IN(),Vd={},e_;function LN(){if(e_)return Vd;e_=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.parse=o,Vd.serialize=d;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function o(v,b){const E=new s,k=v.length;if(k<2)return E;const A=(b==null?void 0:b.decode)||p;let N=0;do{const I=v.indexOf("=",N);if(I===-1)break;const P=v.indexOf(";",N),z=P===-1?k:P;if(I>z){N=v.lastIndexOf(";",I-1)+1;continue}const G=c(v,N,I),W=h(v,I,G),j=v.slice(G,W);if(E[j]===void 0){let L=c(v,I+1,z),R=h(v,z,L);const U=A(v.slice(L,R));E[j]=U}N=z+1}while(N<k);return E}function c(v,b,E){do{const k=v.charCodeAt(b);if(k!==32&&k!==9)return b}while(++b<E);return E}function h(v,b,E){for(;b>E;){const k=v.charCodeAt(--b);if(k!==32&&k!==9)return b+1}return E}function d(v,b,E){const k=(E==null?void 0:E.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const A=k(b);if(!e.test(A))throw new TypeError(`argument val is invalid: ${b}`);let N=v+"="+A;if(!E)return N;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);N+="; Max-Age="+E.maxAge}if(E.domain){if(!r.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);N+="; Domain="+E.domain}if(E.path){if(!n.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);N+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);N+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(N+="; HttpOnly"),E.secure&&(N+="; Secure"),E.partitioned&&(N+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return N}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return a.call(v)==="[object Date]"}return Vd}LN();var t_="popstate";function jN(t={}){function e(a,s){let{pathname:o="/",search:c="",hash:h=""}=bf(a.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),dy("",{pathname:o,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let o=a.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let h=a.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof s=="string"?s:ym(s))}function n(a,s){No(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return PN(e,r,n,t)}function Bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function No(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ON(){return Math.random().toString(36).substring(2,10)}function r_(t,e){return{usr:t.state,key:t.key,idx:e}}function dy(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bf(e):e,state:r,key:e&&e.key||n||ON()}}function ym({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function PN(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,c="POP",h=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function y(){c="POP";let A=p(),N=A==null?null:A-d;d=A,h&&h({action:c,location:k.location,delta:N})}function v(A,N){c="PUSH";let I=dy(k.location,A,N);r&&r(I,A),d=p()+1;let P=r_(I,d),z=k.createHref(I);try{o.pushState(P,"",z)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;a.location.assign(z)}s&&h&&h({action:c,location:k.location,delta:1})}function b(A,N){c="REPLACE";let I=dy(k.location,A,N);r&&r(I,A),d=p();let P=r_(I,d),z=k.createHref(I);o.replaceState(P,"",z),s&&h&&h({action:c,location:k.location,delta:0})}function E(A){return FN(A)}let k={get action(){return c},get location(){return t(a,o)},listen(A){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(t_,y),h=A,()=>{a.removeEventListener(t_,y),h=null}},createHref(A){return e(a,A)},createURL:E,encodeLocation(A){let N=E(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:b,go(A){return o.go(A)}};return k}function FN(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Bn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:ym(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function mk(t,e,r="/"){return MN(t,e,r,!1)}function MN(t,e,r,n){let a=typeof e=="string"?bf(e):e,s=Zc(a.pathname||"/",r);if(s==null)return null;let o=pk(t);BN(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let d=XN(s);c=WN(o[h],d,n)}return c}function pk(t,e=[],r=[],n=""){let a=(s,o,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};h.relativePath.startsWith("/")&&(Bn(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=Gc([n,h.relativePath]),p=r.concat(h);s.children&&s.children.length>0&&(Bn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),pk(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:$N(d,s.index),routesMeta:p})};return t.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,o);else for(let h of gk(s.path))a(s,o,h)}),e}function gk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=gk(n.join("/")),c=[];return c.push(...o.map(h=>h===""?s:[s,h].join("/"))),a&&c.push(...o),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function BN(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:KN(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var UN=/^:[\w-]+$/,VN=3,zN=2,qN=1,HN=10,GN=-2,n_=t=>t==="*";function $N(t,e){let r=t.split("/"),n=r.length;return r.some(n_)&&(n+=GN),e&&(n+=zN),r.filter(a=>!n_(a)).reduce((a,s)=>a+(UN.test(s)?VN:s===""?qN:HN),n)}function KN(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function WN(t,e,r=!1){let{routesMeta:n}=t,a={},s="/",o=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",y=Wg({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),v=h.route;if(!y&&d&&r&&!n[n.length-1].route.index&&(y=Wg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(a,y.params),o.push({params:a,pathname:Gc([s,y.pathname]),pathnameBase:e8(Gc([s,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(s=Gc([s,y.pathnameBase]))}return o}function Wg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=YN(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:y},v)=>{if(p==="*"){let E=c[v]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const b=c[v];return y&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function YN(t,e=!1,r=!0){No(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function XN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return No(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function QN(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?bf(t):t;return{pathname:r?r.startsWith("/")?r:JN(r,e):e,search:t8(n),hash:r8(a)}}function JN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function I2(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZN(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function gv(t){let e=ZN(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function xv(t,e,r,n=!1){let a;typeof t=="string"?a=bf(t):(a={...t},Bn(!a.pathname||!a.pathname.includes("?"),I2("?","pathname","search",a)),Bn(!a.pathname||!a.pathname.includes("#"),I2("#","pathname","hash",a)),Bn(!a.search||!a.search.includes("#"),I2("#","search","hash",a)));let s=t===""||a.pathname==="",o=s?"/":a.pathname,c;if(o==null)c=r;else{let y=e.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}c=y>=0?e[y]:"/"}let h=QN(a,c),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var Gc=t=>t.join("/").replace(/\/\/+/g,"/"),e8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var xk=["POST","PUT","PATCH","DELETE"];new Set(xk);var a8=["GET",...xk];new Set(a8);var zh=Ae.createContext(null);zh.displayName="DataRouter";var D1=Ae.createContext(null);D1.displayName="DataRouterState";var yk=Ae.createContext({isTransitioning:!1});yk.displayName="ViewTransition";var s8=Ae.createContext(new Map);s8.displayName="Fetchers";var i8=Ae.createContext(null);i8.displayName="Await";var ml=Ae.createContext(null);ml.displayName="Navigation";var Vm=Ae.createContext(null);Vm.displayName="Location";var ic=Ae.createContext({outlet:null,matches:[],isDataRoute:!1});ic.displayName="Route";var yv=Ae.createContext(null);yv.displayName="RouteError";function o8(t,{relative:e}={}){Bn(qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=Ae.useContext(ml),{hash:a,pathname:s,search:o}=zm(t,{relative:e}),c=s;return r!=="/"&&(c=s==="/"?r:Gc([r,s])),n.createHref({pathname:c,search:o,hash:a})}function qh(){return Ae.useContext(Vm)!=null}function ou(){return Bn(qh(),"useLocation() may be used only in the context of a <Router> component."),Ae.useContext(Vm).location}var vk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bk(t){Ae.useContext(ml).static||Ae.useLayoutEffect(t)}function vv(){let{isDataRoute:t}=Ae.useContext(ic);return t?b8():l8()}function l8(){Bn(qh(),"useNavigate() may be used only in the context of a <Router> component.");let t=Ae.useContext(zh),{basename:e,navigator:r}=Ae.useContext(ml),{matches:n}=Ae.useContext(ic),{pathname:a}=ou(),s=JSON.stringify(gv(n)),o=Ae.useRef(!1);return bk(()=>{o.current=!0}),Ae.useCallback((h,d={})=>{if(No(o.current,vk),!o.current)return;if(typeof h=="number"){r.go(h);return}let p=xv(h,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Gc([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,s,a,t])}Ae.createContext(null);function zm(t,{relative:e}={}){let{matches:r}=Ae.useContext(ic),{pathname:n}=ou(),a=JSON.stringify(gv(r));return Ae.useMemo(()=>xv(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function c8(t,e){return wk(t,e)}function wk(t,e,r,n){var N;Bn(qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Ae.useContext(ml),{matches:s}=Ae.useContext(ic),o=s[s.length-1],c=o?o.params:{},h=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let I=p&&p.path||"";_k(h,!p||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=ou(),v;if(e){let I=typeof e=="string"?bf(e):e;Bn(d==="/"||((N=I.pathname)==null?void 0:N.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${I.pathname}" was given in the \`location\` prop.`),v=I}else v=y;let b=v.pathname||"/",E=b;if(d!=="/"){let I=d.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(I.length).join("/")}let k=mk(t,{pathname:E});No(p||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),No(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=m8(k&&k.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:Gc([d,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?d:Gc([d,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,r,n);return e&&A?Ae.createElement(Vm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function u8(){let t=v8(),e=n8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=Ae.createElement(Ae.Fragment,null,Ae.createElement("p",null,"💿 Hey developer 👋"),Ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ae.createElement("code",{style:s},"ErrorBoundary")," or"," ",Ae.createElement("code",{style:s},"errorElement")," prop on your route.")),Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),r?Ae.createElement("pre",{style:a},r):null,o)}var f8=Ae.createElement(u8,null),h8=class extends Ae.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Ae.createElement(ic.Provider,{value:this.props.routeContext},Ae.createElement(yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d8({routeContext:t,match:e,children:r}){let n=Ae.useContext(zh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Ae.createElement(ic.Provider,{value:t},r)}function m8(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r==null?void 0:r.errors;if(s!=null){let h=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Bn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let o=!1,c=-1;if(r)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=r,v=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||v){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,d,p)=>{let y,v=!1,b=null,E=null;r&&(y=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||f8,o&&(c<0&&p===0?(_k("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):c===p&&(v=!0,E=d.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,p+1)),A=()=>{let N;return y?N=b:v?N=E:d.route.Component?N=Ae.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=h,Ae.createElement(d8,{match:d,routeContext:{outlet:h,matches:k,isDataRoute:r!=null},children:N})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?Ae.createElement(h8,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):A()},null)}function bv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p8(t){let e=Ae.useContext(zh);return Bn(e,bv(t)),e}function g8(t){let e=Ae.useContext(D1);return Bn(e,bv(t)),e}function x8(t){let e=Ae.useContext(ic);return Bn(e,bv(t)),e}function wv(t){let e=x8(t),r=e.matches[e.matches.length-1];return Bn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function y8(){return wv("useRouteId")}function v8(){var n;let t=Ae.useContext(yv),e=g8("useRouteError"),r=wv("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function b8(){let{router:t}=p8("useNavigate"),e=wv("useNavigate"),r=Ae.useRef(!1);return bk(()=>{r.current=!0}),Ae.useCallback(async(a,s={})=>{No(r.current,vk),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var a_={};function _k(t,e,r){!e&&!a_[t]&&(a_[t]=!0,No(!1,r))}Ae.memo(w8);function w8({routes:t,future:e,state:r}){return wk(t,void 0,r,e)}function Rg({to:t,replace:e,state:r,relative:n}){Bn(qh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=Ae.useContext(ml);No(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=Ae.useContext(ic),{pathname:o}=ou(),c=vv(),h=xv(t,gv(s),o,n==="path"),d=JSON.stringify(h);return Ae.useEffect(()=>{c(JSON.parse(d),{replace:e,state:r,relative:n})},[c,d,n,e,r]),null}function $n(t){Bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _8({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){Bn(!qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=Ae.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=bf(r));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:v="default"}=r,b=Ae.useMemo(()=>{let E=Zc(h,o);return E==null?null:{location:{pathname:E,search:d,hash:p,state:y,key:v},navigationType:n}},[o,h,d,p,y,v,n]);return No(b!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:Ae.createElement(ml.Provider,{value:c},Ae.createElement(Vm.Provider,{children:e,value:b}))}function k8({children:t,location:e}){return c8(my(t),e)}function my(t,e=[]){let r=[];return Ae.Children.forEach(t,(n,a)=>{if(!Ae.isValidElement(n))return;let s=[...e,a];if(n.type===Ae.Fragment){r.push.apply(r,my(n.props.children,s));return}Bn(n.type===$n,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=my(n.props.children,s)),r.push(o)}),r}var Ig="get",Dg="application/x-www-form-urlencoded";function L1(t){return t!=null&&typeof t.tagName=="string"}function E8(t){return L1(t)&&t.tagName.toLowerCase()==="button"}function A8(t){return L1(t)&&t.tagName.toLowerCase()==="form"}function S8(t){return L1(t)&&t.tagName.toLowerCase()==="input"}function T8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N8(t,e){return t.button===0&&(!e||e==="_self")&&!T8(t)}var lg=null;function C8(){if(lg===null)try{new FormData(document.createElement("form"),0),lg=!1}catch{lg=!0}return lg}var R8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function D2(t){return t!=null&&!R8.has(t)?(No(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dg}"`),null):t}function I8(t,e){let r,n,a,s,o;if(A8(t)){let c=t.getAttribute("action");n=c?Zc(c,e):null,r=t.getAttribute("method")||Ig,a=D2(t.getAttribute("enctype"))||Dg,s=new FormData(t)}else if(E8(t)||S8(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(n=h?Zc(h,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||Ig,a=D2(t.getAttribute("formenctype"))||D2(c.getAttribute("enctype"))||Dg,s=new FormData(c,t),!C8()){let{name:d,type:p,value:y}=t;if(p==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,y)}}else{if(L1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ig,n=null,a=Dg,o=t}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}function _v(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function D8(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function j8(t,e,r){let n=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let o=await D8(s,r);return o.links?o.links():[]}return[]}));return M8(n.flat(1).filter(L8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function s_(t,e,r,n,a,s){let o=(h,d)=>r[d]?h.route.id!==r[d].route.id:!0,c=(h,d)=>{var p;return r[d].pathname!==h.pathname||((p=r[d].route.path)==null?void 0:p.endsWith("*"))&&r[d].params["*"]!==h.params["*"]};return s==="assets"?e.filter((h,d)=>o(h,d)||c(h,d)):s==="data"?e.filter((h,d)=>{var y;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(o(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=r[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function O8(t,e,{includeHydrateFallback:r}={}){return P8(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function P8(t){return[...new Set(t)]}function F8(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function M8(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let s=JSON.stringify(F8(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B8=new Set([100,101,204,205]);function U8(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&Zc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function kk(){let t=Ae.useContext(zh);return _v(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function V8(){let t=Ae.useContext(D1);return _v(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var kv=Ae.createContext(void 0);kv.displayName="FrameworkContext";function Ek(){let t=Ae.useContext(kv);return _v(t,"You must render this element inside a <HydratedRouter> element"),t}function z8(t,e){let r=Ae.useContext(kv),[n,a]=Ae.useState(!1),[s,o]=Ae.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,v=Ae.useRef(null);Ae.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let k=N=>{N.forEach(I=>{o(I.isIntersecting)})},A=new IntersectionObserver(k,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),Ae.useEffect(()=>{if(n){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[n]);let b=()=>{a(!0)},E=()=>{a(!1),o(!1)};return r?t!=="intent"?[s,v,{}]:[s,v,{onFocus:zd(c,b),onBlur:zd(h,E),onMouseEnter:zd(d,b),onMouseLeave:zd(p,E),onTouchStart:zd(y,b)}]:[!1,v,{}]}function zd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function q8({page:t,...e}){let{router:r}=kk(),n=Ae.useMemo(()=>mk(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?Ae.createElement(G8,{page:t,matches:n,...e}):null}function H8(t){let{manifest:e,routeModules:r}=Ek(),[n,a]=Ae.useState([]);return Ae.useEffect(()=>{let s=!1;return j8(t,e,r).then(o=>{s||a(o)}),()=>{s=!0}},[t,e,r]),n}function G8({page:t,matches:e,...r}){let n=ou(),{manifest:a,routeModules:s}=Ek(),{basename:o}=kk(),{loaderData:c,matches:h}=V8(),d=Ae.useMemo(()=>s_(t,e,h,a,n,"data"),[t,e,h,a,n]),p=Ae.useMemo(()=>s_(t,e,h,a,n,"assets"),[t,e,h,a,n]),y=Ae.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let E=new Set,k=!1;if(e.forEach(N=>{var P;let I=a.routes[N.route.id];!I||!I.hasLoader||(!d.some(z=>z.route.id===N.route.id)&&N.route.id in c&&((P=s[N.route.id])!=null&&P.shouldRevalidate)||I.hasClientLoader?k=!0:E.add(N.route.id))}),E.size===0)return[];let A=U8(t,o);return k&&E.size>0&&A.searchParams.set("_routes",e.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[o,c,n,a,d,e,t,s]),v=Ae.useMemo(()=>O8(p,a),[p,a]),b=H8(p);return Ae.createElement(Ae.Fragment,null,y.map(E=>Ae.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),v.map(E=>Ae.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),b.map(({key:E,link:k})=>Ae.createElement("link",{key:E,...k})))}function $8(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Ak=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ak&&(window.__reactRouterVersion="7.6.2")}catch{}function K8({basename:t,children:e,window:r}){let n=Ae.useRef();n.current==null&&(n.current=jN({window:r,v5Compat:!0}));let a=n.current,[s,o]=Ae.useState({action:a.action,location:a.location}),c=Ae.useCallback(h=>{Ae.startTransition(()=>o(h))},[o]);return Ae.useLayoutEffect(()=>a.listen(c),[a,c]),Ae.createElement(_8,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var Sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ev=Ae.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,...v},b){let{basename:E}=Ae.useContext(ml),k=typeof d=="string"&&Sk.test(d),A,N=!1;if(typeof d=="string"&&k&&(A=d,Ak))try{let R=new URL(window.location.href),U=d.startsWith("//")?new URL(R.protocol+d):new URL(d),D=Zc(U.pathname,E);U.origin===R.origin&&D!=null?d=D+U.search+U.hash:N=!0}catch{No(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=o8(d,{relative:a}),[P,z,G]=z8(n,v),W=Q8(d,{replace:o,state:c,target:h,preventScrollReset:p,relative:a,viewTransition:y});function j(R){e&&e(R),R.defaultPrevented||W(R)}let L=Ae.createElement("a",{...v,...G,href:A||I,onClick:N||s?e:j,ref:$8(b,z),target:h,"data-discover":!k&&r==="render"?"true":void 0});return P&&!k?Ae.createElement(Ae.Fragment,null,L,Ae.createElement(q8,{page:I})):L});Ev.displayName="Link";var W8=Ae.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:c,children:h,...d},p){let y=zm(o,{relative:d.relative}),v=ou(),b=Ae.useContext(D1),{navigator:E,basename:k}=Ae.useContext(ml),A=b!=null&&rC(y)&&c===!0,N=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,I=v.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(I=I.toLowerCase(),P=P?P.toLowerCase():null,N=N.toLowerCase()),P&&k&&(P=Zc(P,k)||P);const z=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let G=I===N||!a&&I.startsWith(N)&&I.charAt(z)==="/",W=P!=null&&(P===N||!a&&P.startsWith(N)&&P.charAt(N.length)==="/"),j={isActive:G,isPending:W,isTransitioning:A},L=G?e:void 0,R;typeof n=="function"?R=n(j):R=[n,G?"active":null,W?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(j):s;return Ae.createElement(Ev,{...d,"aria-current":L,className:R,ref:p,style:U,to:o,viewTransition:c},typeof h=="function"?h(j):h)});W8.displayName="NavLink";var Y8=Ae.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:s,method:o=Ig,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,...v},b)=>{let E=eC(),k=tC(c,{relative:d}),A=o.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&Sk.test(c),I=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let z=P.nativeEvent.submitter,G=(z==null?void 0:z.getAttribute("formmethod"))||o;E(z||P.currentTarget,{fetcherKey:e,method:G,navigate:r,replace:a,state:s,relative:d,preventScrollReset:p,viewTransition:y})};return Ae.createElement("form",{ref:b,method:A,action:k,onSubmit:n?h:I,...v,"data-discover":!N&&t==="render"?"true":void 0})});Y8.displayName="Form";function X8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tk(t){let e=Ae.useContext(zh);return Bn(e,X8(t)),e}function Q8(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let c=vv(),h=ou(),d=zm(t,{relative:s});return Ae.useCallback(p=>{if(N8(p,e)){p.preventDefault();let y=r!==void 0?r:ym(h)===ym(d);c(t,{replace:y,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[h,c,d,r,n,e,t,a,s,o])}var J8=0,Z8=()=>`__${String(++J8)}__`;function eC(){let{router:t}=Tk("useSubmit"),{basename:e}=Ae.useContext(ml),r=y8();return Ae.useCallback(async(n,a={})=>{let{action:s,method:o,encType:c,formData:h,body:d}=I8(n,e);if(a.navigate===!1){let p=a.fetcherKey||Z8();await t.fetch(p,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:d,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:d,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function tC(t,{relative:e}={}){let{basename:r}=Ae.useContext(ml),n=Ae.useContext(ic);Bn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...zm(t||".",{relative:e})},o=ou();if(t==null){s.search=o.search;let c=new URLSearchParams(s.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Gc([r,s.pathname])),ym(s)}function rC(t,e={}){let r=Ae.useContext(yk);Bn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Tk("useViewTransitionState"),a=zm(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Zc(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Zc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Wg(a.pathname,o)!=null||Wg(a.pathname,s)!=null}[...B8];var j1=dk();const nC=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},aC=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[r++];e[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[r++],o=t[r++],c=t[r++],h=((a&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const s=t[a],o=a+1<t.length,c=o?t[a+1]:0,h=a+2<t.length,d=h?t[a+2]:0,p=s>>2,y=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,b=d&63;h||(b=64,o||(v=64)),n.push(r[p],r[y],r[v],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const s=r[t.charAt(a++)],c=a<t.length?r[t.charAt(a)]:0;++a;const d=a<t.length?r[t.charAt(a)]:64;++a;const y=a<t.length?r[t.charAt(a)]:64;if(++a,s==null||c==null||d==null||y==null)throw new sC;const v=s<<2|c>>4;if(n.push(v),d!==64){const b=c<<4&240|d>>2;if(n.push(b),y!==64){const E=d<<6&192|y;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iC=function(t){const e=Nk(t);return Ck.encodeByteArray(e,!0)},Yg=function(t){return iC(t).replace(/\./g,"")},Rk=function(t){try{return Ck.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=()=>oC().__FIREBASE_DEFAULTS__,cC=()=>{if(typeof process>"u"||typeof i_>"u")return;const t=i_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rk(t[1]);return e&&JSON.parse(e)},O1=()=>{try{return nC()||lC()||cC()||uC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ik=t=>{var e,r;return(r=(e=O1())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},fC=t=>{const e=Ik(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Dk=()=>{var t;return(t=O1())===null||t===void 0?void 0:t.config},Lk=t=>{var e;return(e=O1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return t.endsWith(".cloudworkstations.dev")}async function jk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yg(JSON.stringify(r)),Yg(JSON.stringify(o)),""].join(".")}const em={};function mC(){const t={prod:[],emulator:[]};for(const e of Object.keys(em))em[e]?t.emulator.push(e):t.prod.push(e);return t}function pC(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let o_=!1;function Ok(t,e){if(typeof window>"u"||typeof document>"u"||!Hh(window.location.host)||em[t]===e||em[t]||o_)return;em[t]=e;function r(v){return`__firebase__banner__${v}`}const n="__firebase__banner",s=mC().prod.length>0;function o(){const v=document.getElementById(n);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{o_=!0,o()},v}function p(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=pC(n),b=r("text"),E=document.getElementById(b)||document.createElement("span"),k=r("learnmore"),A=document.getElementById(k)||document.createElement("a"),N=r("preprendIcon"),I=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const P=v.element;c(P),p(A,k);const z=d();h(I,N),P.append(I,E,A,z),document.body.appendChild(P)}s?(E.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xs())}function xC(){var t;const e=(t=O1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wC(){const t=Xs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _C(){return!xC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kC(){try{return typeof indexedDB=="object"}catch{return!1}}function EC(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="FirebaseError";class lu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=AC,Object.setPrototypeOf(this,lu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qm.prototype.create)}}class qm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,s=this.errors[e],o=s?SC(s,n):"Error",c=`${this.serviceName}: ${o} (${a}).`;return new lu(a,c,n)}}function SC(t,e){return t.replace(TC,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const TC=/\{\$([^}]+)}/g;function NC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function of(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const s=t[a],o=e[a];if(l_(s)&&l_(o)){if(!of(s,o))return!1}else if(s!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function l_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Gd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function $d(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function CC(t,e){const r=new RC(t,e);return r.subscribe.bind(r)}class RC{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");IC(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=L2),a.error===void 0&&(a.error=L2),a.complete===void 0&&(a.complete=L2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IC(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function L2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t){return t&&t._delegate?t._delegate:t}class lf{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new hC;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jC(e))try{this.getOrInitializeService({instanceIdentifier:X0})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(e=X0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=X0){return this.instances.has(e)}getOptions(e=X0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(a,s);const o=this.instances.get(a);return o&&e(o,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:LC(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=X0){return this.component?this.component.multipleInstances?e:X0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LC(t){return t===X0?void 0:t}function jC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new DC(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Or||(Or={}));const PC={debug:Or.DEBUG,verbose:Or.VERBOSE,info:Or.INFO,warn:Or.WARN,error:Or.ERROR,silent:Or.SILENT},FC=Or.INFO,MC={[Or.DEBUG]:"log",[Or.VERBOSE]:"log",[Or.INFO]:"info",[Or.WARN]:"warn",[Or.ERROR]:"error"},BC=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=MC[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Av=class{constructor(e){this.name=e,this._logLevel=FC,this._logHandler=BC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Or))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Or.DEBUG,...e),this._logHandler(this,Or.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Or.VERBOSE,...e),this._logHandler(this,Or.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Or.INFO,...e),this._logHandler(this,Or.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Or.WARN,...e),this._logHandler(this,Or.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Or.ERROR,...e),this._logHandler(this,Or.ERROR,...e)}};const UC=(t,e)=>e.some(r=>t instanceof r);let c_,u_;function VC(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zC(){return u_||(u_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pk=new WeakMap,py=new WeakMap,Fk=new WeakMap,j2=new WeakMap,Sv=new WeakMap;function qC(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(o0(t.result)),a()},o=()=>{n(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Pk.set(r,t)}).catch(()=>{}),Sv.set(e,t),e}function HC(t){if(py.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),a()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});py.set(t,e)}let gy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return o0(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GC(t){gy=t(gy)}function $C(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(O2(this),e,...r);return Fk.set(n,e.sort?e.sort():[e]),o0(n)}:zC().includes(t)?function(...e){return t.apply(O2(this),e),o0(Pk.get(this))}:function(...e){return o0(t.apply(O2(this),e))}}function KC(t){return typeof t=="function"?$C(t):(t instanceof IDBTransaction&&HC(t),UC(t,VC())?new Proxy(t,gy):t)}function o0(t){if(t instanceof IDBRequest)return qC(t);if(j2.has(t))return j2.get(t);const e=KC(t);return e!==t&&(j2.set(t,e),Sv.set(e,t)),e}const O2=t=>Sv.get(t);function WC(t,e,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const o=indexedDB.open(t,e),c=o0(o);return n&&o.addEventListener("upgradeneeded",h=>{n(o0(o.result),h.oldVersion,h.newVersion,o0(o.transaction),h)}),r&&o.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const YC=["get","getKey","getAll","getAllKeys","count"],XC=["put","add","delete","clear"],P2=new Map;function f_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(P2.get(e))return P2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=XC.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||YC.includes(r)))return;const s=async function(o,...c){const h=this.transaction(o,a?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[r](...c),a&&h.done]))[0]};return P2.set(e,s),s}GC(t=>({...t,get:(e,r,n)=>f_(e,r)||t.get(e,r,n),has:(e,r)=>!!f_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(JC(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function JC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xy="@firebase/app",h_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Av("@firebase/app"),ZC="@firebase/app-compat",e7="@firebase/analytics-compat",t7="@firebase/analytics",r7="@firebase/app-check-compat",n7="@firebase/app-check",a7="@firebase/auth",s7="@firebase/auth-compat",i7="@firebase/database",o7="@firebase/data-connect",l7="@firebase/database-compat",c7="@firebase/functions",u7="@firebase/functions-compat",f7="@firebase/installations",h7="@firebase/installations-compat",d7="@firebase/messaging",m7="@firebase/messaging-compat",p7="@firebase/performance",g7="@firebase/performance-compat",x7="@firebase/remote-config",y7="@firebase/remote-config-compat",v7="@firebase/storage",b7="@firebase/storage-compat",w7="@firebase/firestore",_7="@firebase/ai",k7="@firebase/firestore-compat",E7="firebase",A7="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",S7={[xy]:"fire-core",[ZC]:"fire-core-compat",[t7]:"fire-analytics",[e7]:"fire-analytics-compat",[n7]:"fire-app-check",[r7]:"fire-app-check-compat",[a7]:"fire-auth",[s7]:"fire-auth-compat",[i7]:"fire-rtdb",[o7]:"fire-data-connect",[l7]:"fire-rtdb-compat",[c7]:"fire-fn",[u7]:"fire-fn-compat",[f7]:"fire-iid",[h7]:"fire-iid-compat",[d7]:"fire-fcm",[m7]:"fire-fcm-compat",[p7]:"fire-perf",[g7]:"fire-perf-compat",[x7]:"fire-rc",[y7]:"fire-rc-compat",[v7]:"fire-gcs",[b7]:"fire-gcs-compat",[w7]:"fire-fst",[k7]:"fire-fst-compat",[_7]:"fire-vertex","fire-js":"fire-js",[E7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new Map,T7=new Map,vy=new Map;function d_(t,e){try{t.container.addComponent(e)}catch(r){eu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ih(t){const e=t.name;if(vy.has(e))return eu.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const r of Xg.values())d_(r,t);for(const r of T7.values())d_(r,t);return!0}function Tv(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function So(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},l0=new qm("app","Firebase",N7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new lf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw l0.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=A7;function Mk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:yy,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw l0.create("bad-app-name",{appName:String(a)});if(r||(r=Dk()),!r)throw l0.create("no-options");const s=Xg.get(a);if(s){if(of(r,s.options)&&of(n,s.config))return s;throw l0.create("duplicate-app",{appName:a})}const o=new OC(a);for(const h of vy.values())o.addComponent(h);const c=new C7(r,n,o);return Xg.set(a,c),c}function Bk(t=yy){const e=Xg.get(t);if(!e&&t===yy&&Dk())return Mk();if(!e)throw l0.create("no-app",{appName:t});return e}function c0(t,e,r){var n;let a=(n=S7[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const s=a.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${a}" with version "${e}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),eu.warn(c.join(" "));return}Ih(new lf(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="firebase-heartbeat-database",I7=1,vm="firebase-heartbeat-store";let F2=null;function Uk(){return F2||(F2=WC(R7,I7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vm)}catch(r){console.warn(r)}}}}).catch(t=>{throw l0.create("idb-open",{originalErrorMessage:t.message})})),F2}async function D7(t){try{const r=(await Uk()).transaction(vm),n=await r.objectStore(vm).get(Vk(t));return await r.done,n}catch(e){if(e instanceof lu)eu.warn(e.message);else{const r=l0.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});eu.warn(r.message)}}}async function m_(t,e){try{const n=(await Uk()).transaction(vm,"readwrite");await n.objectStore(vm).put(e,Vk(t)),await n.done}catch(r){if(r instanceof lu)eu.warn(r.message);else{const n=l0.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});eu.warn(n.message)}}}function Vk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=1024,j7=30;class O7{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new F7(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=p_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>j7){const o=M7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){eu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=p_(),{heartbeatsToSend:n,unsentEntries:a}=P7(this._heartbeatsCache.heartbeats),s=Yg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return eu.warn(r),""}}}function p_(){return new Date().toISOString().substring(0,10)}function P7(t,e=L7){const r=[];let n=t.slice();for(const a of t){const s=r.find(o=>o.agent===a.agent);if(s){if(s.dates.push(a.date),g_(r)>e){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),g_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class F7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kC()?EC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await D7(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return m_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return m_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function g_(t){return Yg(JSON.stringify({version:2,heartbeats:t})).length}function M7(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7(t){Ih(new lf("platform-logger",e=>new QC(e),"PRIVATE")),Ih(new lf("heartbeat",e=>new O7(e),"PRIVATE")),c0(xy,h_,t),c0(xy,h_,"esm2017"),c0("fire-js","")}B7("");function Nv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function zk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U7=zk,qk=new qm("auth","Firebase",zk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Av("@firebase/auth");function V7(t,...e){Qg.logLevel<=Or.WARN&&Qg.warn(`Auth (${Gh}): ${t}`,...e)}function Lg(t,...e){Qg.logLevel<=Or.ERROR&&Qg.error(`Auth (${Gh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t,...e){throw Cv(t,...e)}function Zl(t,...e){return Cv(t,...e)}function Hk(t,e,r){const n=Object.assign(Object.assign({},U7()),{[e]:r});return new qm("auth","Firebase",n).create(e,{appName:t.name})}function $c(t){return Hk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cv(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return qk.create(t,...e)}function sr(t,e,...r){if(!t)throw Cv(e,...r)}function Vc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lg(e),new Error(e)}function tu(t,e){t||Vc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function z7(){return x_()==="http:"||x_()==="https:"}function x_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z7()||vC()||"connection"in navigator)?navigator.onLine:!0}function H7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,r){this.shortDelay=e,this.longDelay=r,tu(r>e,"Short delay should be less than long delay!"),this.isMobile=gC()||bC()}get(){return q7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){tu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K7=new Gm(3e4,6e4);function cu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function uu(t,e,r,n,a={}){return $k(t,a,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const c=Hm(Object.assign({key:t.config.apiKey},o)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},s);return yC()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Hh(t.emulatorConfig.host)&&(d.credentials="include"),Gk.fetch()(await Kk(t,t.config.apiHost,r,c),d)})}async function $k(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},G7),e);try{const a=new Y7(t),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw cg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw cg(t,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw cg(t,"email-already-in-use",o);if(h==="USER_DISABLED")throw cg(t,"user-disabled",o);const p=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Hk(t,p,d);hl(t,p)}}catch(a){if(a instanceof lu)throw a;hl(t,"network-request-failed",{message:String(a)})}}async function $m(t,e,r,n,a={}){const s=await uu(t,e,r,n,a);return"mfaPendingCredential"in s&&hl(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Kk(t,e,r,n){const a=`${e}${r}?${n}`,s=t,o=s.config.emulator?Rv(t.config,a):`${t.config.apiScheme}://${a}`;return $7.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function W7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Zl(this.auth,"network-request-failed")),K7.get())})}}function cg(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Zl(t,e,n);return a.customData._tokenResponse=r,a}function y_(t){return t!==void 0&&t.enterprise!==void 0}class X7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return W7(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q7(t,e){return uu(t,"GET","/v2/recaptchaConfig",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(t,e){return uu(t,"POST","/v1/accounts:delete",e)}async function Jg(t,e){return uu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z7(t,e=!1){const r=as(t),n=await r.getIdToken(e),a=Iv(n);sr(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:a,token:n,authTime:tm(M2(a.auth_time)),issuedAtTime:tm(M2(a.iat)),expirationTime:tm(M2(a.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function M2(t){return Number(t)*1e3}function Iv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Lg("JWT malformed, contained fewer than 3 sections"),null;try{const a=Rk(r);return a?JSON.parse(a):(Lg("Failed to decode base64 JWT payload"),null)}catch(a){return Lg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function v_(t){const e=Iv(t);return sr(e,"internal-error"),sr(typeof e.exp<"u","internal-error"),sr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof lu&&eR(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function eR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=tm(this.lastLoginAt),this.creationTime=tm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(t){var e;const r=t.auth,n=await t.getIdToken(),a=await bm(t,Jg(r,{idToken:n}));sr(a==null?void 0:a.users.length,r,"internal-error");const s=a.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Wk(s.providerUserInfo):[],c=nR(t.providerData,o),h=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(c!=null&&c.length),p=h?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new wy(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function rR(t){const e=as(t);await Zg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nR(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function Wk(t){return t.map(e=>{var{providerId:r}=e,n=Nv(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e){const r=await $k(t,{},async()=>{const n=Hm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,o=await Kk(t,a,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:n};return t.emulatorConfig&&Hh(t.emulatorConfig.host)&&(h.credentials="include"),Gk.fetch()(o,h)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function sR(t,e){return uu(t,"POST","/v2/accounts:revokeToken",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sr(e.idToken,"internal-error"),sr(typeof e.idToken<"u","internal-error"),sr(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){sr(e.length!==0,"internal-error");const r=v_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(sr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await aR(e,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,o=new vh;return n&&(sr(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),a&&(sr(typeof a=="string","internal-error",{appName:e}),o.accessToken=a),s&&(sr(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vh,this.toJSON())}_performRefresh(){return Vc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e){sr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ol{constructor(e){var{uid:r,auth:n,stsTokenManager:a}=e,s=Nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await bm(this,this.stsTokenManager.getToken(this.auth,e));return sr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Z7(this,e)}reload(){return rR(this)}_assign(e){this!==e&&(sr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ol(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){sr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Zg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(So(this.auth.app))return Promise.reject($c(this.auth));const e=await this.getIdToken();return await bm(this,J7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,a,s,o,c,h,d,p;const y=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(a=r.email)!==null&&a!==void 0?a:void 0,b=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=r.photoURL)!==null&&o!==void 0?o:void 0,k=(c=r.tenantId)!==null&&c!==void 0?c:void 0,A=(h=r._redirectEventId)!==null&&h!==void 0?h:void 0,N=(d=r.createdAt)!==null&&d!==void 0?d:void 0,I=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:z,isAnonymous:G,providerData:W,stsTokenManager:j}=r;sr(P&&j,e,"internal-error");const L=vh.fromJSON(this.name,j);sr(typeof P=="string",e,"internal-error"),Ku(y,e.name),Ku(v,e.name),sr(typeof z=="boolean",e,"internal-error"),sr(typeof G=="boolean",e,"internal-error"),Ku(b,e.name),Ku(E,e.name),Ku(k,e.name),Ku(A,e.name),Ku(N,e.name),Ku(I,e.name);const R=new ol({uid:P,auth:e,email:v,emailVerified:z,displayName:y,isAnonymous:G,photoURL:E,phoneNumber:b,tenantId:k,stsTokenManager:L,createdAt:N,lastLoginAt:I});return W&&Array.isArray(W)&&(R.providerData=W.map(U=>Object.assign({},U))),A&&(R._redirectEventId=A),R}static async _fromIdTokenResponse(e,r,n=!1){const a=new vh;a.updateFromServerResponse(r);const s=new ol({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await Zg(s),s}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];sr(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?Wk(a.providerUserInfo):[],o=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),c=new vh;c.updateFromIdToken(n);const h=new ol({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new wy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;function zc(t){tu(t instanceof Function,"Expected a class definition");let e=b_.get(t);return e?(tu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Yk.type="NONE";const w_=Yk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e,r){return`firebase:${t}:${e}:${r}`}class bh{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=jg(this.userKey,a.apiKey,s),this.fullPersistenceKey=jg("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Jg(this.auth,{idToken:e}).catch(()=>{});return r?ol._fromGetAccountInfoResponse(this.auth,r,e):null}return ol._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new bh(zc(w_),e,n);const a=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=a[0]||zc(w_);const o=jg(n,e.config.apiKey,e.name);let c=null;for(const d of r)try{const p=await d._get(o);if(p){let y;if(typeof p=="string"){const v=await Jg(e,{idToken:p}).catch(()=>{});if(!v)break;y=await ol._fromGetAccountInfoResponse(e,v,p)}else y=ol._fromJSON(e,p);d!==s&&(c=y),s=d;break}}catch{}const h=a.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new bh(s,e,n):(s=h[0],c&&await s._set(o,c.toJSON()),await Promise.all(r.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new bh(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tE(e))return"Blackberry";if(rE(e))return"Webos";if(Qk(e))return"Safari";if((e.includes("chrome/")||Jk(e))&&!e.includes("edge/"))return"Chrome";if(eE(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Xk(t=Xs()){return/firefox\//i.test(t)}function Qk(t=Xs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jk(t=Xs()){return/crios\//i.test(t)}function Zk(t=Xs()){return/iemobile/i.test(t)}function eE(t=Xs()){return/android/i.test(t)}function tE(t=Xs()){return/blackberry/i.test(t)}function rE(t=Xs()){return/webos/i.test(t)}function Dv(t=Xs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iR(t=Xs()){var e;return Dv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oR(){return wC()&&document.documentMode===10}function nE(t=Xs()){return Dv(t)||eE(t)||rE(t)||tE(t)||/windows phone/i.test(t)||Zk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,e=[]){let r;switch(t){case"Browser":r=__(Xs());break;case"Worker":r=`${__(Xs())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Gh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,c)=>{try{const h=e(s);o(h)}catch(h){c(h)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t,e={}){return uu(t,"GET","/v2/passwordPolicy",cu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=6;class fR{constructor(e){var r,n,a,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:uR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,a,s,o,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(r=h.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(a=h.containsLowercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsNumericCharacter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k_(this),this.idTokenSubscription=new k_(this),this.beforeStateQueue=new lR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=zc(r)),this._initializationPromise=this.queue(async()=>{var n,a,s;if(!this._deleted&&(this.persistenceManager=await bh.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Jg(this,{idToken:e}),n=await ol._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(So(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=a==null?void 0:a._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&(h!=null&&h.user)&&(a=h.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(o){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return sr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Zg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(So(this.app))return Promise.reject($c(this));const r=e?as(e):null;return r&&sr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&sr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return So(this.app)?Promise.reject($c(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return So(this.app)?Promise.reject($c(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cR(this),r=new fR(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qm("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await sR(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&zc(e)||this._popupRedirectResolver;sr(r,this,"argument-error"),this.redirectPersistenceManager=await bh.create(this,[zc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(sr(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const h=e.addObserver(r,n,a);return()=>{o=!0,h()}}else{const h=e.addObserver(r);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var e;if(So(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&V7(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function k0(t){return as(t)}class k_{constructor(e){this.auth=e,this.observer=null,this.addObserver=CC(r=>this.observer=r)}get next(){return sr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dR(t){P1=t}function sE(t){return P1.loadJS(t)}function mR(){return P1.recaptchaEnterpriseScript}function pR(){return P1.gapiScript}function gR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xR{constructor(){this.enterprise=new yR}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class yR{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const vR="recaptcha-enterprise",iE="NO_RECAPTCHA";class bR{constructor(e){this.type=vR,this.auth=k0(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{Q7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new X7(h);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(h=>{c(h)})})}function a(s,o,c){const h=window.grecaptcha;y_(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(iE)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xR().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(c=>{if(!r&&y_(window.grecaptcha))a(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=mR();h.length!==0&&(h+=c),sE(h).then(()=>{a(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function E_(t,e,r,n=!1,a=!1){const s=new bR(t);let o;if(a)o=iE;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const c=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function e1(t,e,r,n,a){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await E_(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await E_(t,e,r,r==="getOobCode");return n(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e){const r=Tv(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(of(s,e??{}))return a;hl(a,"already-initialized")}return r.initialize({options:e})}function _R(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(zc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function kR(t,e,r){const n=k0(t);sr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,s=oE(e),{host:o,port:c}=ER(e),h=c===null?"":`:${c}`,d={url:`${s}//${o}${h}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){sr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),sr(of(d,n.config.emulator)&&of(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,Hh(o)?(jk(`${s}//${o}${h}`),Ok("Auth",!0)):AR()}function oE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ER(t){const e=oE(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:A_(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:A_(o)}}}function A_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function AR(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Vc("not implemented")}_getIdTokenResponse(e){return Vc("not implemented")}_linkToIdToken(e,r){return Vc("not implemented")}_getReauthenticationResolver(e){return Vc("not implemented")}}async function SR(t,e){return uu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e){return $m(t,"POST","/v1/accounts:signInWithPassword",cu(t,e))}async function NR(t,e){return uu(t,"POST","/v1/accounts:sendOobCode",cu(t,e))}async function CR(t,e){return NR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(t,e){return $m(t,"POST","/v1/accounts:signInWithEmailLink",cu(t,e))}async function IR(t,e){return $m(t,"POST","/v1/accounts:signInWithEmailLink",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends Lv{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new wm(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new wm(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e1(e,r,"signInWithPassword",TR);case"emailLink":return RR(e,{email:this._email,oobCode:this._password});default:hl(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e1(e,n,"signUpPassword",SR);case"emailLink":return IR(e,{idToken:r,email:this._email,oobCode:this._password});default:hl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t,e){return $m(t,"POST","/v1/accounts:signInWithIdp",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="http://localhost";class cf extends Lv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new cf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):hl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=r,s=Nv(r,["providerId","signInMethod"]);if(!n||!a)return null;const o=new cf(n,a);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return wh(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,wh(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,wh(e,r)}buildRequest(){const e={requestUri:DR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Hm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jR(t){const e=Gd($d(t)).link,r=e?Gd($d(e)).deep_link_id:null,n=Gd($d(t)).deep_link_id;return(n?Gd($d(n)).link:null)||n||r||e||t}class jv{constructor(e){var r,n,a,s,o,c;const h=Gd($d(e)),d=(r=h.apiKey)!==null&&r!==void 0?r:null,p=(n=h.oobCode)!==null&&n!==void 0?n:null,y=LR((a=h.mode)!==null&&a!==void 0?a:null);sr(d&&p&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=p,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=h.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=jR(e);try{return new jv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this.providerId=$h.PROVIDER_ID}static credential(e,r){return wm._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=jv.parseLink(r);return sr(n,"argument-error"),wm._fromEmailAndCode(e,n.code,n.tenantId)}}$h.PROVIDER_ID="password";$h.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$h.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends lE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Km{constructor(){super("facebook.com")}static credential(e){return cf._fromParams({providerId:Ju.PROVIDER_ID,signInMethod:Ju.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ju.credentialFromTaggedObject(e)}static credentialFromError(e){return Ju.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ju.credential(e.oauthAccessToken)}catch{return null}}}Ju.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ju.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends Km{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return cf._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Zu.credentialFromTaggedObject(e)}static credentialFromError(e){return Zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Zu.credential(r,n)}catch{return null}}}Zu.GOOGLE_SIGN_IN_METHOD="google.com";Zu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends Km{constructor(){super("github.com")}static credential(e){return cf._fromParams({providerId:e0.PROVIDER_ID,signInMethod:e0.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e0.credentialFromTaggedObject(e)}static credentialFromError(e){return e0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e0.credential(e.oauthAccessToken)}catch{return null}}}e0.GITHUB_SIGN_IN_METHOD="github.com";e0.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Km{constructor(){super("twitter.com")}static credential(e,r){return cf._fromParams({providerId:t0.PROVIDER_ID,signInMethod:t0.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return t0.credentialFromTaggedObject(e)}static credentialFromError(e){return t0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return t0.credential(r,n)}catch{return null}}}t0.TWITTER_SIGN_IN_METHOD="twitter.com";t0.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(t,e){return $m(t,"POST","/v1/accounts:signUp",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const s=await ol._fromIdTokenResponse(e,n,a),o=S_(n);return new uf({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=S_(n);return new uf({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function S_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends lu{constructor(e,r,n,a){var s;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,t1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new t1(e,r,n,a)}}function cE(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?t1._fromErrorAndOperation(t,s,e,n):s})}async function PR(t,e,r=!1){const n=await bm(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return uf._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,e,r=!1){const{auth:n}=t;if(So(n.app))return Promise.reject($c(n));const a="reauthenticate";try{const s=await bm(t,cE(n,a,e,t),r);sr(s.idToken,n,"internal-error");const o=Iv(s.idToken);sr(o,n,"internal-error");const{sub:c}=o;return sr(t.uid===c,n,"user-mismatch"),uf._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hl(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uE(t,e,r=!1){if(So(t.app))return Promise.reject($c(t));const n="signIn",a=await cE(t,n,e),s=await uf._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(s.user),s}async function MR(t,e){return uE(k0(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fE(t){const e=k0(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BR(t,e,r){const n=k0(t);await e1(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",CR)}async function UR(t,e,r){if(So(t.app))return Promise.reject($c(t));const n=k0(t),o=await e1(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OR).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&fE(t),h}),c=await uf._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function F1(t,e,r){return So(t.app)?Promise.reject($c(t)):MR(as(t),$h.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&fE(t),n})}function VR(t,e,r,n){return as(t).onIdTokenChanged(e,r,n)}function zR(t,e,r){return as(t).beforeAuthStateChanged(e,r)}function qR(t,e,r,n){return as(t).onAuthStateChanged(e,r,n)}function Wu(t){return as(t).signOut()}const r1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(r1,"1"),this.storage.removeItem(r1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1e3,GR=10;class dE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,c,h)=>{this.notifyListeners(o,h)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);oR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,GR):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}dE.type="LOCAL";const $R=dE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}mE.type="SESSION";const pE=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new M1(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:s}=r.data,o=this.handlersMap[a];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const c=Array.from(o).map(async d=>d(r.origin,s)),h=await KR(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:h})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}M1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,o;return new Promise((c,h)=>{const d=Ov("",20);a.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},n);o={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(o),a.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[a.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(){return window}function YR(t){ec().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof ec().WorkerGlobalScope<"u"&&typeof ec().importScripts=="function"}async function XR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JR(){return gE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebaseLocalStorageDb",ZR=1,n1="firebaseLocalStorage",yE="fbase_key";class Wm{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function B1(t,e){return t.transaction([n1],e?"readwrite":"readonly").objectStore(n1)}function eI(){const t=indexedDB.deleteDatabase(xE);return new Wm(t).toPromise()}function _y(){const t=indexedDB.open(xE,ZR);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(n1,{keyPath:yE})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(n1)?e(n):(n.close(),await eI(),e(await _y()))})})}async function T_(t,e,r){const n=B1(t,!0).put({[yE]:e,value:r});return new Wm(n).toPromise()}async function tI(t,e){const r=B1(t,!1).get(e),n=await new Wm(r).toPromise();return n===void 0?null:n.value}function N_(t,e){const r=B1(t,!0).delete(e);return new Wm(r).toPromise()}const rI=800,nI=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>nI)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=M1._getInstance(JR()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await XR(),!this.activeServiceWorker)return;this.sender=new WR(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await T_(e,r1,"1"),await N_(e,r1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>T_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>tI(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>N_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=B1(a,!1).getAll();return new Wm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const aI=vE;new Gm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e){return e?zc(e):(sr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends Lv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return wh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return wh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function iI(t){return uE(t.auth,new Pv(t),t.bypassAuthState)}function oI(t){const{auth:e,user:r}=t;return sr(r,e,"internal-error"),FR(r,new Pv(t),t.bypassAuthState)}async function lI(t){const{auth:e,user:r}=t;return sr(r,e,"internal-error"),PR(r,new Pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,r,n,a,s=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iI;case"linkViaPopup":case"linkViaRedirect":return lI;case"reauthViaPopup":case"reauthViaRedirect":return oI;default:hl(this.auth,"internal-error")}}resolve(e){tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Gm(2e3,1e4);class ph extends bE{constructor(e,r,n,a,s){super(e,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,ph.currentPopupAction&&ph.currentPopupAction.cancel(),ph.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return sr(e,this.auth,"internal-error"),e}async onExecution(){tu(this.filter.length===1,"Popup operations only handle one event");const e=Ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Zl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ph.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cI.get())};e()}}ph.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="pendingRedirect",Og=new Map;class fI extends bE{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Og.get(this.auth._key());if(!e){try{const n=await hI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Og.set(this.auth._key(),e)}return this.bypassAuthState||Og.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hI(t,e){const r=pI(e),n=mI(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function dI(t,e){Og.set(t._key(),e)}function mI(t){return zc(t._redirectPersistence)}function pI(t){return jg(uI,t.config.apiKey,t.name)}async function gI(t,e,r=!1){if(So(t.app))return Promise.reject($c(t));const n=k0(t),a=sI(n,e),o=await new fI(n,a,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=10*60*1e3;class yI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vI(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!wE(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Zl(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xI&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t,e={}){return uu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_I=/^https?/;async function kI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bI(t);for(const r of e)try{if(EI(r))return}catch{}hl(t,"unauthorized-domain")}function EI(t){const e=by(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!_I.test(r))return!1;if(wI.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Gm(3e4,6e4);function R_(){const t=ec().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function SI(t){return new Promise((e,r)=>{var n,a,s;function o(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),r(Zl(t,"network-request-failed"))},timeout:AI.get()})}if(!((a=(n=ec().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((s=ec().gapi)===null||s===void 0)&&s.load)o();else{const c=gR("iframefcb");return ec()[c]=()=>{gapi.load?o():r(Zl(t,"network-request-failed"))},sE(`${pR()}?onload=${c}`).catch(h=>r(h))}}).catch(e=>{throw Pg=null,e})}let Pg=null;function TI(t){return Pg=Pg||SI(t),Pg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Gm(5e3,15e3),CI="__/auth/iframe",RI="emulator/auth/iframe",II={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LI(t){const e=t.config;sr(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Rv(e,RI):`https://${t.config.authDomain}/${CI}`,n={apiKey:e.apiKey,appName:t.name,v:Gh},a=DI.get(t.config.apiHost);a&&(n.eid=a);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Hm(n).slice(1)}`}async function jI(t){const e=await TI(t),r=ec().gapi;return sr(r,t,"internal-error"),e.open({where:document.body,url:LI(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:II,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const o=Zl(t,"network-request-failed"),c=ec().setTimeout(()=>{s(o)},NI.get());function h(){ec().clearTimeout(c),a(n)}n.ping(h).then(h,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PI=500,FI=600,MI="_blank",BI="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UI(t,e,r,n=PI,a=FI){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},OI),{width:n.toString(),height:a.toString(),top:s,left:o}),d=Xs().toLowerCase();r&&(c=Jk(d)?MI:r),Xk(d)&&(e=e||BI,h.scrollbars="yes");const p=Object.entries(h).reduce((v,[b,E])=>`${v}${b}=${E},`,"");if(iR(d)&&c!=="_self")return VI(e||"",c),new I_(null);const y=window.open(e||"",c,p);sr(y,t,"popup-blocked");try{y.focus()}catch{}return new I_(y)}function VI(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="__/auth/handler",qI="emulator/auth/handler",HI=encodeURIComponent("fac");async function D_(t,e,r,n,a,s){sr(t.config.authDomain,t,"auth-domain-config-required"),sr(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Gh,eventId:a};if(e instanceof lE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))o[p]=y}if(e instanceof Km){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),d=h?`#${HI}=${encodeURIComponent(h)}`:"";return`${GI(t)}?${Hm(c).slice(1)}${d}`}function GI({config:t}){return t.emulator?Rv(t,qI):`https://${t.authDomain}/${zI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="webStorageSupport";class $I{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=gI,this._overrideRedirectResult=dI}async _openPopup(e,r,n,a){var s;tu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await D_(e,r,n,by(),a);return UI(e,o,Ov())}async _openRedirect(e,r,n,a){await this._originValidation(e);const s=await D_(e,r,n,by(),a);return YR(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(tu(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await jI(e),n=new yI(e);return r.register("authEvent",a=>(sr(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(B2,{type:B2},a=>{var s;const o=(s=a==null?void 0:a[0])===null||s===void 0?void 0:s[B2];o!==void 0&&r(!!o),hl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=kI(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return nE()||Qk()||Dv()}}const KI=$I;var L_="@firebase/auth",j_="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){sr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XI(t){Ih(new lf("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;sr(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(t)},d=new hR(n,a,s,h);return _R(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ih(new lf("auth-internal",e=>{const r=k0(e.getProvider("auth").getImmediate());return(n=>new WI(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),c0(L_,j_,YI(t)),c0(L_,j_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=5*60,JI=Lk("authIdTokenMaxAge")||QI;let O_=null;const ZI=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>JI)return;const a=r==null?void 0:r.token;O_!==a&&(O_=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function eD(t=Bk()){const e=Tv(t,"auth");if(e.isInitialized())return e.getImmediate();const r=wR(t,{popupRedirectResolver:KI,persistence:[aI,$R,pE]}),n=Lk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=ZI(s.toString());zR(r,o,()=>o(r.currentUser)),VR(r,c=>o(c))}}const a=Ik("auth");return a&&kR(r,`http://${a}`),r}function tD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dR({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const s=Zl("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",tD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XI("Browser");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u0,_E;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,L){function R(){}R.prototype=L.prototype,j.D=L.prototype,j.prototype=new R,j.prototype.constructor=j,j.C=function(U,D,C){for(var B=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)B[ne-2]=arguments[ne];return L.prototype[D].apply(U,B)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,L,R){R||(R=0);var U=Array(16);if(typeof L=="string")for(var D=0;16>D;++D)U[D]=L.charCodeAt(R++)|L.charCodeAt(R++)<<8|L.charCodeAt(R++)<<16|L.charCodeAt(R++)<<24;else for(D=0;16>D;++D)U[D]=L[R++]|L[R++]<<8|L[R++]<<16|L[R++]<<24;L=j.g[0],R=j.g[1],D=j.g[2];var C=j.g[3],B=L+(C^R&(D^C))+U[0]+3614090360&4294967295;L=R+(B<<7&4294967295|B>>>25),B=C+(D^L&(R^D))+U[1]+3905402710&4294967295,C=L+(B<<12&4294967295|B>>>20),B=D+(R^C&(L^R))+U[2]+606105819&4294967295,D=C+(B<<17&4294967295|B>>>15),B=R+(L^D&(C^L))+U[3]+3250441966&4294967295,R=D+(B<<22&4294967295|B>>>10),B=L+(C^R&(D^C))+U[4]+4118548399&4294967295,L=R+(B<<7&4294967295|B>>>25),B=C+(D^L&(R^D))+U[5]+1200080426&4294967295,C=L+(B<<12&4294967295|B>>>20),B=D+(R^C&(L^R))+U[6]+2821735955&4294967295,D=C+(B<<17&4294967295|B>>>15),B=R+(L^D&(C^L))+U[7]+4249261313&4294967295,R=D+(B<<22&4294967295|B>>>10),B=L+(C^R&(D^C))+U[8]+1770035416&4294967295,L=R+(B<<7&4294967295|B>>>25),B=C+(D^L&(R^D))+U[9]+2336552879&4294967295,C=L+(B<<12&4294967295|B>>>20),B=D+(R^C&(L^R))+U[10]+4294925233&4294967295,D=C+(B<<17&4294967295|B>>>15),B=R+(L^D&(C^L))+U[11]+2304563134&4294967295,R=D+(B<<22&4294967295|B>>>10),B=L+(C^R&(D^C))+U[12]+1804603682&4294967295,L=R+(B<<7&4294967295|B>>>25),B=C+(D^L&(R^D))+U[13]+4254626195&4294967295,C=L+(B<<12&4294967295|B>>>20),B=D+(R^C&(L^R))+U[14]+2792965006&4294967295,D=C+(B<<17&4294967295|B>>>15),B=R+(L^D&(C^L))+U[15]+1236535329&4294967295,R=D+(B<<22&4294967295|B>>>10),B=L+(D^C&(R^D))+U[1]+4129170786&4294967295,L=R+(B<<5&4294967295|B>>>27),B=C+(R^D&(L^R))+U[6]+3225465664&4294967295,C=L+(B<<9&4294967295|B>>>23),B=D+(L^R&(C^L))+U[11]+643717713&4294967295,D=C+(B<<14&4294967295|B>>>18),B=R+(C^L&(D^C))+U[0]+3921069994&4294967295,R=D+(B<<20&4294967295|B>>>12),B=L+(D^C&(R^D))+U[5]+3593408605&4294967295,L=R+(B<<5&4294967295|B>>>27),B=C+(R^D&(L^R))+U[10]+38016083&4294967295,C=L+(B<<9&4294967295|B>>>23),B=D+(L^R&(C^L))+U[15]+3634488961&4294967295,D=C+(B<<14&4294967295|B>>>18),B=R+(C^L&(D^C))+U[4]+3889429448&4294967295,R=D+(B<<20&4294967295|B>>>12),B=L+(D^C&(R^D))+U[9]+568446438&4294967295,L=R+(B<<5&4294967295|B>>>27),B=C+(R^D&(L^R))+U[14]+3275163606&4294967295,C=L+(B<<9&4294967295|B>>>23),B=D+(L^R&(C^L))+U[3]+4107603335&4294967295,D=C+(B<<14&4294967295|B>>>18),B=R+(C^L&(D^C))+U[8]+1163531501&4294967295,R=D+(B<<20&4294967295|B>>>12),B=L+(D^C&(R^D))+U[13]+2850285829&4294967295,L=R+(B<<5&4294967295|B>>>27),B=C+(R^D&(L^R))+U[2]+4243563512&4294967295,C=L+(B<<9&4294967295|B>>>23),B=D+(L^R&(C^L))+U[7]+1735328473&4294967295,D=C+(B<<14&4294967295|B>>>18),B=R+(C^L&(D^C))+U[12]+2368359562&4294967295,R=D+(B<<20&4294967295|B>>>12),B=L+(R^D^C)+U[5]+4294588738&4294967295,L=R+(B<<4&4294967295|B>>>28),B=C+(L^R^D)+U[8]+2272392833&4294967295,C=L+(B<<11&4294967295|B>>>21),B=D+(C^L^R)+U[11]+1839030562&4294967295,D=C+(B<<16&4294967295|B>>>16),B=R+(D^C^L)+U[14]+4259657740&4294967295,R=D+(B<<23&4294967295|B>>>9),B=L+(R^D^C)+U[1]+2763975236&4294967295,L=R+(B<<4&4294967295|B>>>28),B=C+(L^R^D)+U[4]+1272893353&4294967295,C=L+(B<<11&4294967295|B>>>21),B=D+(C^L^R)+U[7]+4139469664&4294967295,D=C+(B<<16&4294967295|B>>>16),B=R+(D^C^L)+U[10]+3200236656&4294967295,R=D+(B<<23&4294967295|B>>>9),B=L+(R^D^C)+U[13]+681279174&4294967295,L=R+(B<<4&4294967295|B>>>28),B=C+(L^R^D)+U[0]+3936430074&4294967295,C=L+(B<<11&4294967295|B>>>21),B=D+(C^L^R)+U[3]+3572445317&4294967295,D=C+(B<<16&4294967295|B>>>16),B=R+(D^C^L)+U[6]+76029189&4294967295,R=D+(B<<23&4294967295|B>>>9),B=L+(R^D^C)+U[9]+3654602809&4294967295,L=R+(B<<4&4294967295|B>>>28),B=C+(L^R^D)+U[12]+3873151461&4294967295,C=L+(B<<11&4294967295|B>>>21),B=D+(C^L^R)+U[15]+530742520&4294967295,D=C+(B<<16&4294967295|B>>>16),B=R+(D^C^L)+U[2]+3299628645&4294967295,R=D+(B<<23&4294967295|B>>>9),B=L+(D^(R|~C))+U[0]+4096336452&4294967295,L=R+(B<<6&4294967295|B>>>26),B=C+(R^(L|~D))+U[7]+1126891415&4294967295,C=L+(B<<10&4294967295|B>>>22),B=D+(L^(C|~R))+U[14]+2878612391&4294967295,D=C+(B<<15&4294967295|B>>>17),B=R+(C^(D|~L))+U[5]+4237533241&4294967295,R=D+(B<<21&4294967295|B>>>11),B=L+(D^(R|~C))+U[12]+1700485571&4294967295,L=R+(B<<6&4294967295|B>>>26),B=C+(R^(L|~D))+U[3]+2399980690&4294967295,C=L+(B<<10&4294967295|B>>>22),B=D+(L^(C|~R))+U[10]+4293915773&4294967295,D=C+(B<<15&4294967295|B>>>17),B=R+(C^(D|~L))+U[1]+2240044497&4294967295,R=D+(B<<21&4294967295|B>>>11),B=L+(D^(R|~C))+U[8]+1873313359&4294967295,L=R+(B<<6&4294967295|B>>>26),B=C+(R^(L|~D))+U[15]+4264355552&4294967295,C=L+(B<<10&4294967295|B>>>22),B=D+(L^(C|~R))+U[6]+2734768916&4294967295,D=C+(B<<15&4294967295|B>>>17),B=R+(C^(D|~L))+U[13]+1309151649&4294967295,R=D+(B<<21&4294967295|B>>>11),B=L+(D^(R|~C))+U[4]+4149444226&4294967295,L=R+(B<<6&4294967295|B>>>26),B=C+(R^(L|~D))+U[11]+3174756917&4294967295,C=L+(B<<10&4294967295|B>>>22),B=D+(L^(C|~R))+U[2]+718787259&4294967295,D=C+(B<<15&4294967295|B>>>17),B=R+(C^(D|~L))+U[9]+3951481745&4294967295,j.g[0]=j.g[0]+L&4294967295,j.g[1]=j.g[1]+(D+(B<<21&4294967295|B>>>11))&4294967295,j.g[2]=j.g[2]+D&4294967295,j.g[3]=j.g[3]+C&4294967295}n.prototype.u=function(j,L){L===void 0&&(L=j.length);for(var R=L-this.blockSize,U=this.B,D=this.h,C=0;C<L;){if(D==0)for(;C<=R;)a(this,j,C),C+=this.blockSize;if(typeof j=="string"){for(;C<L;)if(U[D++]=j.charCodeAt(C++),D==this.blockSize){a(this,U),D=0;break}}else for(;C<L;)if(U[D++]=j[C++],D==this.blockSize){a(this,U),D=0;break}}this.h=D,this.o+=L},n.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var L=1;L<j.length-8;++L)j[L]=0;var R=8*this.o;for(L=j.length-8;L<j.length;++L)j[L]=R&255,R/=256;for(this.u(j),j=Array(16),L=R=0;4>L;++L)for(var U=0;32>U;U+=8)j[R++]=this.g[L]>>>U&255;return j};function s(j,L){var R=c;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=L(j)}function o(j,L){this.h=L;for(var R=[],U=!0,D=j.length-1;0<=D;D--){var C=j[D]|0;U&&C==L||(R[D]=C,U=!1)}this.g=R}var c={};function h(j){return-128<=j&&128>j?s(j,function(L){return new o([L|0],0>L?-1:0)}):new o([j|0],0>j?-1:0)}function d(j){if(isNaN(j)||!isFinite(j))return y;if(0>j)return A(d(-j));for(var L=[],R=1,U=0;j>=R;U++)L[U]=j/R|0,R*=4294967296;return new o(L,0)}function p(j,L){if(j.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(j.charAt(0)=="-")return A(p(j.substring(1),L));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(L,8)),U=y,D=0;D<j.length;D+=8){var C=Math.min(8,j.length-D),B=parseInt(j.substring(D,D+C),L);8>C?(C=d(Math.pow(L,C)),U=U.j(C).add(d(B))):(U=U.j(R),U=U.add(d(B)))}return U}var y=h(0),v=h(1),b=h(16777216);t=o.prototype,t.m=function(){if(k(this))return-A(this).m();for(var j=0,L=1,R=0;R<this.g.length;R++){var U=this.i(R);j+=(0<=U?U:4294967296+U)*L,L*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(E(this))return"0";if(k(this))return"-"+A(this).toString(j);for(var L=d(Math.pow(j,6)),R=this,U="";;){var D=z(R,L).g;R=N(R,D.j(L));var C=((0<R.g.length?R.g[0]:R.h)>>>0).toString(j);if(R=D,E(R))return C+U;for(;6>C.length;)C="0"+C;U=C+U}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function E(j){if(j.h!=0)return!1;for(var L=0;L<j.g.length;L++)if(j.g[L]!=0)return!1;return!0}function k(j){return j.h==-1}t.l=function(j){return j=N(this,j),k(j)?-1:E(j)?0:1};function A(j){for(var L=j.g.length,R=[],U=0;U<L;U++)R[U]=~j.g[U];return new o(R,~j.h).add(v)}t.abs=function(){return k(this)?A(this):this},t.add=function(j){for(var L=Math.max(this.g.length,j.g.length),R=[],U=0,D=0;D<=L;D++){var C=U+(this.i(D)&65535)+(j.i(D)&65535),B=(C>>>16)+(this.i(D)>>>16)+(j.i(D)>>>16);U=B>>>16,C&=65535,B&=65535,R[D]=B<<16|C}return new o(R,R[R.length-1]&-2147483648?-1:0)};function N(j,L){return j.add(A(L))}t.j=function(j){if(E(this)||E(j))return y;if(k(this))return k(j)?A(this).j(A(j)):A(A(this).j(j));if(k(j))return A(this.j(A(j)));if(0>this.l(b)&&0>j.l(b))return d(this.m()*j.m());for(var L=this.g.length+j.g.length,R=[],U=0;U<2*L;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(var D=0;D<j.g.length;D++){var C=this.i(U)>>>16,B=this.i(U)&65535,ne=j.i(D)>>>16,ye=j.i(D)&65535;R[2*U+2*D]+=B*ye,I(R,2*U+2*D),R[2*U+2*D+1]+=C*ye,I(R,2*U+2*D+1),R[2*U+2*D+1]+=B*ne,I(R,2*U+2*D+1),R[2*U+2*D+2]+=C*ne,I(R,2*U+2*D+2)}for(U=0;U<L;U++)R[U]=R[2*U+1]<<16|R[2*U];for(U=L;U<2*L;U++)R[U]=0;return new o(R,0)};function I(j,L){for(;(j[L]&65535)!=j[L];)j[L+1]+=j[L]>>>16,j[L]&=65535,L++}function P(j,L){this.g=j,this.h=L}function z(j,L){if(E(L))throw Error("division by zero");if(E(j))return new P(y,y);if(k(j))return L=z(A(j),L),new P(A(L.g),A(L.h));if(k(L))return L=z(j,A(L)),new P(A(L.g),L.h);if(30<j.g.length){if(k(j)||k(L))throw Error("slowDivide_ only works with positive integers.");for(var R=v,U=L;0>=U.l(j);)R=G(R),U=G(U);var D=W(R,1),C=W(U,1);for(U=W(U,2),R=W(R,2);!E(U);){var B=C.add(U);0>=B.l(j)&&(D=D.add(R),C=B),U=W(U,1),R=W(R,1)}return L=N(j,D.j(L)),new P(D,L)}for(D=y;0<=j.l(L);){for(R=Math.max(1,Math.floor(j.m()/L.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),C=d(R),B=C.j(L);k(B)||0<B.l(j);)R-=U,C=d(R),B=C.j(L);E(C)&&(C=v),D=D.add(C),j=N(j,B)}return new P(D,j)}t.A=function(j){return z(this,j).h},t.and=function(j){for(var L=Math.max(this.g.length,j.g.length),R=[],U=0;U<L;U++)R[U]=this.i(U)&j.i(U);return new o(R,this.h&j.h)},t.or=function(j){for(var L=Math.max(this.g.length,j.g.length),R=[],U=0;U<L;U++)R[U]=this.i(U)|j.i(U);return new o(R,this.h|j.h)},t.xor=function(j){for(var L=Math.max(this.g.length,j.g.length),R=[],U=0;U<L;U++)R[U]=this.i(U)^j.i(U);return new o(R,this.h^j.h)};function G(j){for(var L=j.g.length+1,R=[],U=0;U<L;U++)R[U]=j.i(U)<<1|j.i(U-1)>>>31;return new o(R,j.h)}function W(j,L){var R=L>>5;L%=32;for(var U=j.g.length-R,D=[],C=0;C<U;C++)D[C]=0<L?j.i(C+R)>>>L|j.i(C+R+1)<<32-L:j.i(C+R);return new o(D,j.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,_E=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,u0=o}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kE,Kd,EE,Fg,ky,AE,SE,TE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,M,q){return x==Array.prototype||x==Object.prototype||(x[M]=q.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof ug=="object"&&ug];for(var M=0;M<x.length;++M){var q=x[M];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var n=r(this);function a(x,M){if(M)e:{var q=n;x=x.split(".");for(var fe=0;fe<x.length-1;fe++){var Fe=x[fe];if(!(Fe in q))break e;q=q[Fe]}x=x[x.length-1],fe=q[x],M=M(fe),M!=fe&&M!=null&&e(q,x,{configurable:!0,writable:!0,value:M})}}function s(x,M){x instanceof String&&(x+="");var q=0,fe=!1,Fe={next:function(){if(!fe&&q<x.length){var We=q++;return{value:M(We,x[We]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return Fe[Symbol.iterator]=function(){return Fe},Fe}a("Array.prototype.values",function(x){return x||function(){return s(this,function(M,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(x){var M=typeof x;return M=M!="object"?M:x?Array.isArray(x)?"array":M:"null",M=="array"||M=="object"&&typeof x.length=="number"}function d(x){var M=typeof x;return M=="object"&&x!=null||M=="function"}function p(x,M,q){return x.call.apply(x.bind,arguments)}function y(x,M,q){if(!x)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var Fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Fe,fe),x.apply(M,Fe)}}return function(){return x.apply(M,arguments)}}function v(x,M,q){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,v.apply(null,arguments)}function b(x,M){var q=Array.prototype.slice.call(arguments,1);return function(){var fe=q.slice();return fe.push.apply(fe,arguments),x.apply(this,fe)}}function E(x,M){function q(){}q.prototype=M.prototype,x.aa=M.prototype,x.prototype=new q,x.prototype.constructor=x,x.Qb=function(fe,Fe,We){for(var yt=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)yt[Zt-2]=arguments[Zt];return M.prototype[Fe].apply(fe,yt)}}function k(x){const M=x.length;if(0<M){const q=Array(M);for(let fe=0;fe<M;fe++)q[fe]=x[fe];return q}return[]}function A(x,M){for(let q=1;q<arguments.length;q++){const fe=arguments[q];if(h(fe)){const Fe=x.length||0,We=fe.length||0;x.length=Fe+We;for(let yt=0;yt<We;yt++)x[Fe+yt]=fe[yt]}else x.push(fe)}}class N{constructor(M,q){this.i=M,this.j=q,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function I(x){return/^[\s\xa0]*$/.test(x)}function P(){var x=c.navigator;return x&&(x=x.userAgent)?x:""}function z(x){return z[" "](x),x}z[" "]=function(){};var G=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function W(x,M,q){for(const fe in x)M.call(q,x[fe],fe,x)}function j(x,M){for(const q in x)M.call(void 0,x[q],q,x)}function L(x){const M={};for(const q in x)M[q]=x[q];return M}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(x,M){let q,fe;for(let Fe=1;Fe<arguments.length;Fe++){fe=arguments[Fe];for(q in fe)x[q]=fe[q];for(let We=0;We<R.length;We++)q=R[We],Object.prototype.hasOwnProperty.call(fe,q)&&(x[q]=fe[q])}}function D(x){var M=1;x=x.split(":");const q=[];for(;0<M&&x.length;)q.push(x.shift()),M--;return x.length&&q.push(x.join(":")),q}function C(x){c.setTimeout(()=>{throw x},0)}function B(){var x=te;let M=null;return x.g&&(M=x.g,x.g=x.g.next,x.g||(x.h=null),M.next=null),M}class ne{constructor(){this.h=this.g=null}add(M,q){const fe=ye.get();fe.set(M,q),this.h?this.h.next=fe:this.g=fe,this.h=fe}}var ye=new N(()=>new ae,x=>x.reset());class ae{constructor(){this.next=this.g=this.h=null}set(M,q){this.h=M,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ce=!1,te=new ne,Y=()=>{const x=c.Promise.resolve(void 0);le=()=>{x.then(Te)}};var Te=()=>{for(var x;x=B();){try{x.h.call(x.g)}catch(q){C(q)}var M=ye;M.j(x),100>M.h&&(M.h++,x.next=M.g,M.g=x)}ce=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(x,M){this.type=x,this.g=this.target=M,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var x=!1,M=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const q=()=>{};c.addEventListener("test",q,M),c.removeEventListener("test",q,M)}catch{}return x}();function Q(x,M){if(H.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var q=this.type=x.type,fe=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=M,M=x.relatedTarget){if(G){e:{try{z(M.nodeName);var Fe=!0;break e}catch{}Fe=!1}Fe||(M=null)}}else q=="mouseover"?M=x.fromElement:q=="mouseout"&&(M=x.toElement);this.relatedTarget=M,fe?(this.clientX=fe.clientX!==void 0?fe.clientX:fe.pageX,this.clientY=fe.clientY!==void 0?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:re[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&Q.aa.h.call(this)}}E(Q,H);var re={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),ve=0;function we(x,M,q,fe,Fe){this.listener=x,this.proxy=null,this.src=M,this.type=q,this.capture=!!fe,this.ha=Fe,this.key=++ve,this.da=this.fa=!1}function Le(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function tt(x){this.src=x,this.g={},this.h=0}tt.prototype.add=function(x,M,q,fe,Fe){var We=x.toString();x=this.g[We],x||(x=this.g[We]=[],this.h++);var yt=Ne(x,M,fe,Fe);return-1<yt?(M=x[yt],q||(M.fa=!1)):(M=new we(M,this.src,We,!!fe,Fe),M.fa=q,x.push(M)),M};function J(x,M){var q=M.type;if(q in x.g){var fe=x.g[q],Fe=Array.prototype.indexOf.call(fe,M,void 0),We;(We=0<=Fe)&&Array.prototype.splice.call(fe,Fe,1),We&&(Le(M),x.g[q].length==0&&(delete x.g[q],x.h--))}}function Ne(x,M,q,fe){for(var Fe=0;Fe<x.length;++Fe){var We=x[Fe];if(!We.da&&We.listener==M&&We.capture==!!q&&We.ha==fe)return Fe}return-1}var Qe="closure_lm_"+(1e6*Math.random()|0),je={};function me(x,M,q,fe,Fe){if(Array.isArray(M)){for(var We=0;We<M.length;We++)me(x,M[We],q,fe,Fe);return null}return q=Wt(q),x&&x[de]?x.K(M,q,d(fe)?!!fe.capture:!1,Fe):Ke(x,M,q,!1,fe,Fe)}function Ke(x,M,q,fe,Fe,We){if(!M)throw Error("Invalid event type");var yt=d(Fe)?!!Fe.capture:!!Fe,Zt=Dt(x);if(Zt||(x[Qe]=Zt=new tt(x)),q=Zt.add(M,q,fe,yt,We),q.proxy)return q;if(fe=xt(),q.proxy=fe,fe.src=x,fe.listener=q,x.addEventListener)K||(Fe=yt),Fe===void 0&&(Fe=!1),x.addEventListener(M.toString(),fe,Fe);else if(x.attachEvent)x.attachEvent(_t(M.toString()),fe);else if(x.addListener&&x.removeListener)x.addListener(fe);else throw Error("addEventListener and attachEvent are unavailable.");return q}function xt(){function x(q){return M.call(x.src,x.listener,q)}const M=bt;return x}function st(x,M,q,fe,Fe){if(Array.isArray(M))for(var We=0;We<M.length;We++)st(x,M[We],q,fe,Fe);else fe=d(fe)?!!fe.capture:!!fe,q=Wt(q),x&&x[de]?(x=x.i,M=String(M).toString(),M in x.g&&(We=x.g[M],q=Ne(We,q,fe,Fe),-1<q&&(Le(We[q]),Array.prototype.splice.call(We,q,1),We.length==0&&(delete x.g[M],x.h--)))):x&&(x=Dt(x))&&(M=x.g[M.toString()],x=-1,M&&(x=Ne(M,q,fe,Fe)),(q=-1<x?M[x]:null)&&pt(q))}function pt(x){if(typeof x!="number"&&x&&!x.da){var M=x.src;if(M&&M[de])J(M.i,x);else{var q=x.type,fe=x.proxy;M.removeEventListener?M.removeEventListener(q,fe,x.capture):M.detachEvent?M.detachEvent(_t(q),fe):M.addListener&&M.removeListener&&M.removeListener(fe),(q=Dt(M))?(J(q,x),q.h==0&&(q.src=null,M[Qe]=null)):Le(x)}}}function _t(x){return x in je?je[x]:je[x]="on"+x}function bt(x,M){if(x.da)x=!0;else{M=new Q(M,this);var q=x.listener,fe=x.ha||x.src;x.fa&&pt(x),x=q.call(fe,M)}return x}function Dt(x){return x=x[Qe],x instanceof tt?x:null}var Ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wt(x){return typeof x=="function"?x:(x[Ut]||(x[Ut]=function(M){return x.handleEvent(M)}),x[Ut])}function jt(){F.call(this),this.i=new tt(this),this.M=this,this.F=null}E(jt,F),jt.prototype[de]=!0,jt.prototype.removeEventListener=function(x,M,q,fe){st(this,x,M,q,fe)};function Ot(x,M){var q,fe=x.F;if(fe)for(q=[];fe;fe=fe.F)q.push(fe);if(x=x.M,fe=M.type||M,typeof M=="string")M=new H(M,x);else if(M instanceof H)M.target=M.target||x;else{var Fe=M;M=new H(fe,x),U(M,Fe)}if(Fe=!0,q)for(var We=q.length-1;0<=We;We--){var yt=M.g=q[We];Fe=Ht(yt,fe,!0,M)&&Fe}if(yt=M.g=x,Fe=Ht(yt,fe,!0,M)&&Fe,Fe=Ht(yt,fe,!1,M)&&Fe,q)for(We=0;We<q.length;We++)yt=M.g=q[We],Fe=Ht(yt,fe,!1,M)&&Fe}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var x=this.i,M;for(M in x.g){for(var q=x.g[M],fe=0;fe<q.length;fe++)Le(q[fe]);delete x.g[M],x.h--}}this.F=null},jt.prototype.K=function(x,M,q,fe){return this.i.add(String(x),M,!1,q,fe)},jt.prototype.L=function(x,M,q,fe){return this.i.add(String(x),M,!0,q,fe)};function Ht(x,M,q,fe){if(M=x.i.g[String(M)],!M)return!0;M=M.concat();for(var Fe=!0,We=0;We<M.length;++We){var yt=M[We];if(yt&&!yt.da&&yt.capture==q){var Zt=yt.listener,Rr=yt.ha||yt.src;yt.fa&&J(x.i,yt),Fe=Zt.call(Rr,fe)!==!1&&Fe}}return Fe&&!fe.defaultPrevented}function It(x,M,q){if(typeof x=="function")q&&(x=v(x,q));else if(x&&typeof x.handleEvent=="function")x=v(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:c.setTimeout(x,M||0)}function Nt(x){x.g=It(()=>{x.g=null,x.i&&(x.i=!1,Nt(x))},x.l);const M=x.h;x.h=null,x.m.apply(null,M)}class vt extends F{constructor(M,q){super(),this.m=M,this.l=q,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(x){F.call(this),this.h=x,this.g={}}E(Dr,F);var qt=[];function wn(x){W(x.g,function(M,q){this.g.hasOwnProperty(q)&&pt(M)},x),x.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),wn(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=c.JSON.stringify,Kr=c.JSON.parse,ga=class{stringify(x){return c.JSON.stringify(x,void 0)}parse(x){return c.JSON.parse(x,void 0)}};function br(){}br.prototype.h=null;function bs(x){return x.h||(x.h=x.i())}function sn(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function na(){H.call(this,"d")}E(na,H);function Wr(){H.call(this,"c")}E(Wr,H);var $t={},Tr=null;function za(){return Tr=Tr||new jt}$t.La="serverreachability";function Sn(x){H.call(this,$t.La,x)}E(Sn,H);function aa(x){const M=za();Ot(M,new Sn(M))}$t.STAT_EVENT="statevent";function is(x,M){H.call(this,$t.STAT_EVENT,x),this.stat=M}E(is,H);function Rt(x){const M=za();Ot(M,new is(M,x))}$t.Ma="timingevent";function Yr(x,M){H.call(this,$t.Ma,x),this.size=M}E(Yr,H);function Fr(x,M){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){x()},M)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function _n(x,M,q,fe,Fe,We){x.info(function(){if(x.g)if(We)for(var yt="",Zt=We.split("&"),Rr=0;Rr<Zt.length;Rr++){var cr=Zt[Rr].split("=");if(1<cr.length){var Zr=cr[0];cr=cr[1];var ln=Zr.split("_");yt=2<=ln.length&&ln[1]=="type"?yt+(Zr+"="+cr+"&"):yt+(Zr+"=redacted&")}}else yt=null;else yt=We;return"XMLHTTP REQ ("+fe+") [attempt "+Fe+"]: "+M+`
`+q+`
`+yt})}function Tn(x,M,q,fe,Fe,We,yt){x.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+Fe+"]: "+M+`
`+q+`
`+We+" "+yt})}function se(x,M,q,fe){x.info(function(){return"XMLHTTP TEXT ("+M+"): "+ge(x,q)+(fe?" "+fe:"")})}function ke(x,M){x.info(function(){return"TIMEOUT: "+M})}fn.prototype.info=function(){};function ge(x,M){if(!x.g)return M;if(!M)return null;try{var q=JSON.parse(M);if(q){for(x=0;x<q.length;x++)if(Array.isArray(q[x])){var fe=q[x];if(!(2>fe.length)){var Fe=fe[1];if(Array.isArray(Fe)&&!(1>Fe.length)){var We=Fe[0];if(We!="noop"&&We!="stop"&&We!="close")for(var yt=1;yt<Fe.length;yt++)Fe[yt]=""}}}}return pr(q)}catch{return M}}var xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_e={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ee;function ze(){}E(ze,br),ze.prototype.g=function(){return new XMLHttpRequest},ze.prototype.i=function(){return{}},Ee=new ze;function Ze(x,M,q,fe){this.j=x,this.i=M,this.l=q,this.R=fe||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}var Ge={},Xe={};function ft(x,M,q){x.L=1,x.v=ro(Da(M)),x.m=q,x.P=!0,kt(x,null)}function kt(x,M){x.F=Date.now(),Et(x),x.A=Da(x.v);var q=x.A,fe=x.R;Array.isArray(fe)||(fe=[String(fe)]),Jt(q.i,"t",fe),x.C=0,q=x.j.J,x.h=new Me,x.g=ee(x.j,q?M:null,!x.m),0<x.O&&(x.M=new vt(v(x.Y,x,x.g),x.O)),M=x.U,q=x.g,fe=x.ca;var Fe="readystatechange";Array.isArray(Fe)||(Fe&&(qt[0]=Fe.toString()),Fe=qt);for(var We=0;We<Fe.length;We++){var yt=me(q,Fe[We],fe||M.handleEvent,!1,M.h||M);if(!yt)break;M.g[yt.key]=yt}M=x.H?L(x.H):{},x.m?(x.u||(x.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,M)):(x.u="GET",x.g.ea(x.A,x.u,null,M)),aa(),_n(x.i,x.u,x.A,x.l,x.R,x.m)}Ze.prototype.ca=function(x){x=x.target;const M=this.M;M&&Yn(x)==3?M.j():this.Y(x)},Ze.prototype.Y=function(x){try{if(x==this.g)e:{const ln=Yn(this.g);var M=this.g.Ba();const xi=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||ln!=4||M==7||(M==8||0>=xi?aa(3):aa(2)),wr(this);var q=this.g.Z();this.X=q;t:if(Ct(this)){var fe=gu(this.g);x="";var Fe=fe.length,We=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),_r(this);var yt="";break t}this.h.i=new c.TextDecoder}for(M=0;M<Fe;M++)this.h.h=!0,x+=this.h.i.decode(fe[M],{stream:!(We&&M==Fe-1)});fe.length=0,this.h.g+=x,this.C=0,yt=this.h.g}else yt=this.g.oa();if(this.o=q==200,Tn(this.i,this.u,this.A,this.l,this.R,ln,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Zt,Rr=this.g;if((Zt=Rr.g?Rr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Zt)){var cr=Zt;break t}}cr=null}if(q=cr)se(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,q);else{this.o=!1,this.s=3,Rt(12),Nr(this),_r(this);break e}}if(this.P){q=!0;let Vn;for(;!this.J&&this.C<yt.length;)if(Vn=wt(this,yt),Vn==Xe){ln==4&&(this.s=4,Rt(14),q=!1),se(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Ge){this.s=4,Rt(15),se(this.i,this.l,yt,"[Invalid Chunk]"),q=!1;break}else se(this.i,this.l,Vn,null),Ca(this,Vn);if(Ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||yt.length!=0||this.h.h||(this.s=1,Rt(16),q=!1),this.o=this.o&&q,!q)se(this.i,this.l,yt,"[Invalid Chunked Response]"),Nr(this),_r(this);else if(0<yt.length&&!this.W){this.W=!0;var Zr=this.j;Zr.g==this&&Zr.ba&&!Zr.M&&(Zr.j.info("Great, no buffering proxy detected. Bytes received: "+yt.length),lo(Zr),Zr.M=!0,Rt(11))}}else se(this.i,this.l,yt,null),Ca(this,yt);ln==4&&Nr(this),this.o&&!this.J&&(ln==4?co(this.j,this):(this.o=!1,Et(this)))}else so(this.g),q==400&&0<yt.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Nr(this),_r(this)}}}catch{}finally{}};function Ct(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function wt(x,M){var q=x.C,fe=M.indexOf(`
`,q);return fe==-1?Xe:(q=Number(M.substring(q,fe)),isNaN(q)?Ge:(fe+=1,fe+q>M.length?Xe:(M=M.slice(fe,fe+q),x.C=fe+q,M)))}Ze.prototype.cancel=function(){this.J=!0,Nr(this)};function Et(x){x.S=Date.now()+x.I,Qt(x,x.I)}function Qt(x,M){if(x.B!=null)throw Error("WatchDog timer not null");x.B=Fr(v(x.ba,x),M)}function wr(x){x.B&&(c.clearTimeout(x.B),x.B=null)}Ze.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(ke(this.i,this.A),this.L!=2&&(aa(),Rt(17)),Nr(this),this.s=2,_r(this)):Qt(this,this.S-x)};function _r(x){x.j.G==0||x.J||co(x.j,x)}function Nr(x){wr(x);var M=x.M;M&&typeof M.ma=="function"&&M.ma(),x.M=null,wn(x.U),x.g&&(M=x.g,x.g=null,M.abort(),M.ma())}function Ca(x,M){try{var q=x.j;if(q.G!=0&&(q.g==x||Ra(q.h,x))){if(!x.K&&Ra(q.h,x)&&q.G==3){try{var fe=q.Da.g.parse(M)}catch{fe=null}if(Array.isArray(fe)&&fe.length==3){var Fe=fe;if(Fe[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<x.F)Pi(q),bl(q);else break e;Fo(q),Rt(18)}}else q.za=Fe[1],0<q.za-q.T&&37500>Fe[2]&&q.F&&q.v==0&&!q.C&&(q.C=Fr(v(q.Za,q),6e3));if(1>=os(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Ka(q,11)}else if((x.K||q.g==x)&&Pi(q),!I(M))for(Fe=q.Da.g.parse(M),M=0;M<Fe.length;M++){let cr=Fe[M];if(q.T=cr[0],cr=cr[1],q.G==2)if(cr[0]=="c"){q.K=cr[1],q.ia=cr[2];const Zr=cr[3];Zr!=null&&(q.la=Zr,q.j.info("VER="+q.la));const ln=cr[4];ln!=null&&(q.Aa=ln,q.j.info("SVER="+q.Aa));const xi=cr[5];xi!=null&&typeof xi=="number"&&0<xi&&(fe=1.5*xi,q.L=fe,q.j.info("backChannelRequestTimeoutMs_="+fe)),fe=q;const Vn=x.g;if(Vn){const As=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var We=fe.h;We.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(xn(We,We.h),We.h=null))}if(fe.D){const uo=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(fe.ya=uo,Jr(fe.I,fe.D,uo))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-x.F,q.j.info("Handshake RTT: "+q.R+"ms")),fe=q;var yt=x;if(fe.qa=T(fe,fe.J?fe.ia:null,fe.W),yt.K){ya(fe.h,yt);var Zt=yt,Rr=fe.L;Rr&&(Zt.I=Rr),Zt.B&&(wr(Zt),Et(Zt)),fe.g=yt}else _l(fe);0<q.i.length&&wl(q)}else cr[0]!="stop"&&cr[0]!="close"||Ka(q,7);else q.G==3&&(cr[0]=="stop"||cr[0]=="close"?cr[0]=="stop"?Ka(q,7):Oi(q):cr[0]!="noop"&&q.l&&q.l.ta(cr),q.v=0)}}aa(4)}catch{}}var ci=class{constructor(x,M){this.g=x,this.map=M}};function xa(x){this.l=x||10,c.PerformanceNavigationTiming?(x=c.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qa(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function os(x){return x.h?1:x.g?x.g.size:0}function Ra(x,M){return x.h?x.h==M:x.g?x.g.has(M):!1}function xn(x,M){x.g?x.g.add(M):x.h=M}function ya(x,M){x.h&&x.h==M?x.h=null:x.g&&x.g.has(M)&&x.g.delete(M)}xa.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function xl(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let M=x.i;for(const q of x.g.values())M=M.concat(q.D);return M}return k(x.i)}function du(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(h(x)){for(var M=[],q=x.length,fe=0;fe<q;fe++)M.push(x[fe]);return M}M=[],q=0;for(fe in x)M[q++]=x[fe];return M}function Zi(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(h(x)||typeof x=="string"){var M=[];x=x.length;for(var q=0;q<x;q++)M.push(q);return M}M=[],q=0;for(const fe in x)M[q++]=fe;return M}}}function uc(x,M){if(x.forEach&&typeof x.forEach=="function")x.forEach(M,void 0);else if(h(x)||typeof x=="string")Array.prototype.forEach.call(x,M,void 0);else for(var q=Zi(x),fe=du(x),Fe=fe.length,We=0;We<Fe;We++)M.call(void 0,fe[We],q&&q[We],x)}var Ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yl(x,M){if(x){x=x.split("&");for(var q=0;q<x.length;q++){var fe=x[q].indexOf("="),Fe=null;if(0<=fe){var We=x[q].substring(0,fe);Fe=x[q].substring(fe+1)}else We=x[q];M(We,Fe?decodeURIComponent(Fe.replace(/\+/g," ")):"")}}}function Mr(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Mr){this.h=x.h,eo(this,x.j),this.o=x.o,this.g=x.g,to(this,x.s),this.l=x.l;var M=x.i,q=new fi;q.i=M.i,M.g&&(q.g=new Map(M.g),q.h=M.h),ui(this,q),this.m=x.m}else x&&(M=String(x).match(Ia))?(this.h=!1,eo(this,M[1]||"",!0),this.o=ws(M[2]||""),this.g=ws(M[3]||"",!0),to(this,M[4]),this.l=ws(M[5]||"",!0),ui(this,M[6]||"",!0),this.m=ws(M[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Mr.prototype.toString=function(){var x=[],M=this.j;M&&x.push(Ri(M,fc,!0),":");var q=this.g;return(q||M=="file")&&(x.push("//"),(M=this.o)&&x.push(Ri(M,fc,!0),"@"),x.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&x.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&x.push("/"),x.push(Ri(q,q.charAt(0)=="/"?Ii:hc,!0))),(q=this.i.toString())&&x.push("?",q),(q=this.m)&&x.push("#",Ri(q,Di)),x.join("")};function Da(x){return new Mr(x)}function eo(x,M,q){x.j=q?ws(M,!0):M,x.j&&(x.j=x.j.replace(/:$/,""))}function to(x,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);x.s=M}else x.s=null}function ui(x,M,q){M instanceof fi?(x.i=M,pu(x.i,x.h)):(q||(M=Ri(M,vl)),x.i=new fi(M,x.h))}function Jr(x,M,q){x.i.set(M,q)}function ro(x){return Jr(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function ws(x,M){return x?M?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Ri(x,M,q){return typeof x=="string"?(x=encodeURI(x).replace(M,mu),q&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function mu(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var fc=/[#\/\?@]/g,hc=/[#\?:]/g,Ii=/[#\?]/g,vl=/[#\?@]/g,Di=/#/g;function fi(x,M){this.h=this.g=null,this.i=x||null,this.j=!!M}function hn(x){x.g||(x.g=new Map,x.h=0,x.i&&yl(x.i,function(M,q){x.add(decodeURIComponent(M.replace(/\+/g," ")),q)}))}t=fi.prototype,t.add=function(x,M){hn(this),this.i=null,x=di(this,x);var q=this.g.get(x);return q||this.g.set(x,q=[]),q.push(M),this.h+=1,this};function Li(x,M){hn(x),M=di(x,M),x.g.has(M)&&(x.i=null,x.h-=x.g.get(M).length,x.g.delete(M))}function hi(x,M){return hn(x),M=di(x,M),x.g.has(M)}t.forEach=function(x,M){hn(this),this.g.forEach(function(q,fe){q.forEach(function(Fe){x.call(M,Fe,fe,this)},this)},this)},t.na=function(){hn(this);const x=Array.from(this.g.values()),M=Array.from(this.g.keys()),q=[];for(let fe=0;fe<M.length;fe++){const Fe=x[fe];for(let We=0;We<Fe.length;We++)q.push(M[fe])}return q},t.V=function(x){hn(this);let M=[];if(typeof x=="string")hi(this,x)&&(M=M.concat(this.g.get(di(this,x))));else{x=Array.from(this.g.values());for(let q=0;q<x.length;q++)M=M.concat(x[q])}return M},t.set=function(x,M){return hn(this),this.i=null,x=di(this,x),hi(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[M]),this.h+=1,this},t.get=function(x,M){return x?(x=this.V(x),0<x.length?String(x[0]):M):M};function Jt(x,M,q){Li(x,M),0<q.length&&(x.i=null,x.g.set(di(x,M),k(q)),x.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],M=Array.from(this.g.keys());for(var q=0;q<M.length;q++){var fe=M[q];const We=encodeURIComponent(String(fe)),yt=this.V(fe);for(fe=0;fe<yt.length;fe++){var Fe=We;yt[fe]!==""&&(Fe+="="+encodeURIComponent(String(yt[fe]))),x.push(Fe)}}return this.i=x.join("&")};function di(x,M){return M=String(M),x.j&&(M=M.toLowerCase()),M}function pu(x,M){M&&!x.j&&(hn(x),x.i=null,x.g.forEach(function(q,fe){var Fe=fe.toLowerCase();fe!=Fe&&(Li(this,fe),Jt(this,Fe,q))},x)),x.j=M}function Ha(x,M){const q=new fn;if(c.Image){const fe=new Image;fe.onload=b(ls,q,"TestLoadImage: loaded",!0,M,fe),fe.onerror=b(ls,q,"TestLoadImage: error",!1,M,fe),fe.onabort=b(ls,q,"TestLoadImage: abort",!1,M,fe),fe.ontimeout=b(ls,q,"TestLoadImage: timeout",!1,M,fe),c.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=x}else M(!1)}function _s(x,M){const q=new fn,fe=new AbortController,Fe=setTimeout(()=>{fe.abort(),ls(q,"TestPingServer: timeout",!1,M)},1e4);fetch(x,{signal:fe.signal}).then(We=>{clearTimeout(Fe),We.ok?ls(q,"TestPingServer: ok",!0,M):ls(q,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(Fe),ls(q,"TestPingServer: error",!1,M)})}function ls(x,M,q,fe,Fe){try{Fe&&(Fe.onload=null,Fe.onerror=null,Fe.onabort=null,Fe.ontimeout=null),fe(q)}catch{}}function mi(){this.g=new ga}function ks(x,M,q){const fe=q||"";try{uc(x,function(Fe,We){let yt=Fe;d(Fe)&&(yt=pr(Fe)),M.push(fe+We+"="+encodeURIComponent(yt))})}catch(Fe){throw M.push(fe+"type="+encodeURIComponent("_badmap")),Fe}}function no(x){this.l=x.Ub||null,this.j=x.eb||!1}E(no,br),no.prototype.g=function(){return new ji(this.l,this.j)},no.prototype.i=function(x){return function(){return x}}({});function ji(x,M){jt.call(this),this.D=x,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ji,jt),t=ji.prototype,t.open=function(x,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=M,this.readyState=1,Ga(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(M.body=x),(this.D||c).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dc(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function dc(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var M=x.value?x.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!x.done}))&&(this.response=this.responseText+=M)}x.done?Es(this):Ga(this),this.readyState==3&&dc(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,Es(this))},t.Qa=function(x){this.g&&(this.response=x,Es(this))},t.ga=function(){this.g&&Es(this)};function Es(x){x.readyState=4,x.l=null,x.j=null,x.v=null,Ga(x)}t.setRequestHeader=function(x,M){this.u.append(x,M)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],M=this.h.entries();for(var q=M.next();!q.done;)q=q.value,x.push(q[0]+": "+q[1]),q=M.next();return x.join(`\r
`)};function Ga(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function pi(x){let M="";return W(x,function(q,fe){M+=fe,M+=":",M+=q,M+=`\r
`}),M}function Wn(x,M,q){e:{for(fe in q){var fe=!1;break e}fe=!0}fe||(q=pi(q),typeof x=="string"?q!=null&&encodeURIComponent(String(q)):Jr(x,M,q))}function Cr(x){jt.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Cr,jt);var ao=/^https?$/i,gi=["POST","PUT"];t=Cr.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,M,q,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);M=M?M.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ee.g(),this.v=this.o?bs(this.o):bs(Ee),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(M,String(x),!0),this.B=!1}catch(We){mc(this,We);return}if(x=q||"",q=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var Fe in fe)q.set(Fe,fe[Fe]);else if(typeof fe.keys=="function"&&typeof fe.get=="function")for(const We of fe.keys())q.set(We,fe.get(We));else throw Error("Unknown input type for opt_headers: "+String(fe));fe=Array.from(q.keys()).find(We=>We.toLowerCase()=="content-type"),Fe=c.FormData&&x instanceof c.FormData,!(0<=Array.prototype.indexOf.call(gi,M,void 0))||fe||Fe||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,yt]of q)this.g.setRequestHeader(We,yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$a(this),this.u=!0,this.g.send(x),this.u=!1}catch(We){mc(this,We)}};function mc(x,M){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=M,x.m=5,Do(x),Zs(x)}function Do(x){x.A||(x.A=!0,Ot(x,"complete"),Ot(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,Ot(this,"complete"),Ot(this,"abort"),Zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),Cr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},t.bb=function(){Lo(this)};function Lo(x){if(x.h&&typeof o<"u"&&(!x.v[1]||Yn(x)!=4||x.Z()!=2)){if(x.u&&Yn(x)==4)It(x.Ea,0,x);else if(Ot(x,"readystatechange"),Yn(x)==4){x.h=!1;try{const yt=x.Z();e:switch(yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var q;if(!(q=M)){var fe;if(fe=yt===0){var Fe=String(x.D).match(Ia)[1]||null;!Fe&&c.self&&c.self.location&&(Fe=c.self.location.protocol.slice(0,-1)),fe=!ao.test(Fe?Fe.toLowerCase():"")}q=fe}if(q)Ot(x,"complete"),Ot(x,"success");else{x.m=6;try{var We=2<Yn(x)?x.g.statusText:""}catch{We=""}x.l=We+" ["+x.Z()+"]",Do(x)}}finally{Zs(x)}}}}function Zs(x,M){if(x.g){$a(x);const q=x.g,fe=x.v[0]?()=>{}:null;x.g=null,x.v=null,M||Ot(x,"ready");try{q.onreadystatechange=fe}catch{}}}function $a(x){x.I&&(c.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function Yn(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var M=this.g.responseText;return x&&M.indexOf(x)==0&&(M=M.substring(x.length)),Kr(M)}};function gu(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function so(x){const M={};x=(x.g&&2<=Yn(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let fe=0;fe<x.length;fe++){if(I(x[fe]))continue;var q=D(x[fe]);const Fe=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const We=M[Fe]||[];M[Fe]=We,We.push(q)}j(M,function(fe){return fe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(x,M,q){return q&&q.internalChannelParams&&q.internalChannelParams[x]||M}function io(x){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=La("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=La("baseRetryDelayMs",5e3,x),this.cb=La("retryDelaySeedMs",1e4,x),this.Wa=La("forwardChannelMaxRetries",2,x),this.wa=La("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new xa(x&&x.concurrentRequestLimit),this.Da=new mi,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=io.prototype,t.la=8,t.G=1,t.connect=function(x,M,q,fe){Rt(0),this.W=x,this.H=M||{},q&&fe!==void 0&&(this.H.OSID=q,this.H.OAID=fe),this.F=this.X,this.I=T(this,null,this.W),wl(this)};function Oi(x){if(jo(x),x.G==3){var M=x.U++,q=Da(x.I);if(Jr(q,"SID",x.K),Jr(q,"RID",M),Jr(q,"TYPE","terminate"),oo(x,q),M=new Ze(x,x.j,M),M.L=2,M.v=ro(Da(q)),q=!1,c.navigator&&c.navigator.sendBeacon)try{q=c.navigator.sendBeacon(M.v.toString(),"")}catch{}!q&&c.Image&&(new Image().src=M.v,q=!0),q||(M.g=ee(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Et(M)}kl(x)}function bl(x){x.g&&(lo(x),x.g.cancel(),x.g=null)}function jo(x){bl(x),x.u&&(c.clearTimeout(x.u),x.u=null),Pi(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&c.clearTimeout(x.s),x.s=null)}function wl(x){if(!qa(x.h)&&!x.s){x.s=!0;var M=x.Ga;le||Y(),ce||(le(),ce=!0),te.add(M,x),x.B=0}}function pc(x,M){return os(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=M.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=Fr(v(x.Ga,x,M),Mo(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const Fe=new Ze(this,this.j,x);let We=this.o;if(this.S&&(We?(We=L(We),U(We,this.S)):We=this.S),this.m!==null||this.O||(Fe.H=We,We=null),this.P)e:{for(var M=0,q=0;q<this.i.length;q++){t:{var fe=this.i[q];if("__data__"in fe.map&&(fe=fe.map.__data__,typeof fe=="string")){fe=fe.length;break t}fe=void 0}if(fe===void 0)break;if(M+=fe,4096<M){M=q;break e}if(M===4096||q===this.i.length-1){M=q+1;break e}}M=1e3}else M=1e3;M=Po(this,Fe,M),q=Da(this.I),Jr(q,"RID",x),Jr(q,"CVER",22),this.D&&Jr(q,"X-HTTP-Session-Id",this.D),oo(this,q),We&&(this.O?M="headers="+encodeURIComponent(String(pi(We)))+"&"+M:this.m&&Wn(q,this.m,We)),xn(this.h,Fe),this.Ua&&Jr(q,"TYPE","init"),this.P?(Jr(q,"$req",M),Jr(q,"SID","null"),Fe.T=!0,ft(Fe,q,null)):ft(Fe,q,M),this.G=2}}else this.G==3&&(x?Oo(this,x):this.i.length==0||qa(this.h)||Oo(this))};function Oo(x,M){var q;M?q=M.l:q=x.U++;const fe=Da(x.I);Jr(fe,"SID",x.K),Jr(fe,"RID",q),Jr(fe,"AID",x.T),oo(x,fe),x.m&&x.o&&Wn(fe,x.m,x.o),q=new Ze(x,x.j,q,x.B+1),x.m===null&&(q.H=x.o),M&&(x.i=M.D.concat(x.i)),M=Po(x,q,1e3),q.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),xn(x.h,q),ft(q,fe,M)}function oo(x,M){x.H&&W(x.H,function(q,fe){Jr(M,fe,q)}),x.l&&uc({},function(q,fe){Jr(M,fe,q)})}function Po(x,M,q){q=Math.min(x.i.length,q);var fe=x.l?v(x.l.Na,x.l,x):null;e:{var Fe=x.i;let We=-1;for(;;){const yt=["count="+q];We==-1?0<q?(We=Fe[0].g,yt.push("ofs="+We)):We=0:yt.push("ofs="+We);let Zt=!0;for(let Rr=0;Rr<q;Rr++){let cr=Fe[Rr].g;const Zr=Fe[Rr].map;if(cr-=We,0>cr)We=Math.max(0,Fe[Rr].g-100),Zt=!1;else try{ks(Zr,yt,"req"+cr+"_")}catch{fe&&fe(Zr)}}if(Zt){fe=yt.join("&");break e}}}return x=x.i.splice(0,q),M.D=x,fe}function _l(x){if(!x.g&&!x.u){x.Y=1;var M=x.Fa;le||Y(),ce||(le(),ce=!0),te.add(M,x),x.v=0}}function Fo(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=Fr(v(x.Fa,x),Mo(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=Fr(v(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),bl(this),xu(this))};function lo(x){x.A!=null&&(c.clearTimeout(x.A),x.A=null)}function xu(x){x.g=new Ze(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var M=Da(x.qa);Jr(M,"RID","rpc"),Jr(M,"SID",x.K),Jr(M,"AID",x.T),Jr(M,"CI",x.F?"0":"1"),!x.F&&x.ja&&Jr(M,"TO",x.ja),Jr(M,"TYPE","xmlhttp"),oo(x,M),x.m&&x.o&&Wn(M,x.m,x.o),x.L&&(x.g.I=x.L);var q=x.g;x=x.ia,q.L=1,q.v=ro(Da(M)),q.m=null,q.P=!0,kt(q,x)}t.Za=function(){this.C!=null&&(this.C=null,bl(this),Fo(this),Rt(19))};function Pi(x){x.C!=null&&(c.clearTimeout(x.C),x.C=null)}function co(x,M){var q=null;if(x.g==M){Pi(x),lo(x),x.g=null;var fe=2}else if(Ra(x.h,M))q=M.D,ya(x.h,M),fe=1;else return;if(x.G!=0){if(M.o)if(fe==1){q=M.m?M.m.length:0,M=Date.now()-M.F;var Fe=x.B;fe=za(),Ot(fe,new Yr(fe,q)),wl(x)}else _l(x);else if(Fe=M.s,Fe==3||Fe==0&&0<M.X||!(fe==1&&pc(x,M)||fe==2&&Fo(x)))switch(q&&0<q.length&&(M=x.h,M.i=M.i.concat(q)),Fe){case 1:Ka(x,5);break;case 4:Ka(x,10);break;case 3:Ka(x,6);break;default:Ka(x,2)}}}function Mo(x,M){let q=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(q*=2),q*M}function Ka(x,M){if(x.j.info("Error code "+M),M==2){var q=v(x.fb,x),fe=x.Xa;const Fe=!fe;fe=new Mr(fe||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||eo(fe,"https"),ro(fe),Fe?Ha(fe.toString(),q):_s(fe.toString(),q)}else Rt(2);x.G=0,x.l&&x.l.sa(M),kl(x),jo(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function kl(x){if(x.G=0,x.ka=[],x.l){const M=xl(x.h);(M.length!=0||x.i.length!=0)&&(A(x.ka,M),A(x.ka,x.i),x.h.i.length=0,k(x.i),x.i.length=0),x.l.ra()}}function T(x,M,q){var fe=q instanceof Mr?Da(q):new Mr(q);if(fe.g!="")M&&(fe.g=M+"."+fe.g),to(fe,fe.s);else{var Fe=c.location;fe=Fe.protocol,M=M?M+"."+Fe.hostname:Fe.hostname,Fe=+Fe.port;var We=new Mr(null);fe&&eo(We,fe),M&&(We.g=M),Fe&&to(We,Fe),q&&(We.l=q),fe=We}return q=x.D,M=x.ya,q&&M&&Jr(fe,q,M),Jr(fe,"VER",x.la),oo(x,fe),fe}function ee(x,M,q){if(M&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=x.Ca&&!x.pa?new Cr(new no({eb:q})):new Cr(x.pa),M.Ha(x.J),M}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Se(){}t=Se.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Re(){}Re.prototype.g=function(x,M){return new Be(x,M)};function Be(x,M){jt.call(this),this.g=new io(M),this.l=x,this.h=M&&M.messageUrlParams||null,x=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(x?x["X-WebChannel-Content-Type"]=M.messageContentType:x={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(x?x["X-WebChannel-Client-Profile"]=M.va:x={"X-WebChannel-Client-Profile":M.va}),this.g.S=x,(x=M&&M.Sb)&&!I(x)&&(this.g.m=x),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!I(M)&&(this.g.D=M,x=this.h,x!==null&&M in x&&(x=this.h,M in x&&delete x[M])),this.j=new St(this)}E(Be,jt),Be.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Be.prototype.close=function(){Oi(this.g)},Be.prototype.o=function(x){var M=this.g;if(typeof x=="string"){var q={};q.__data__=x,x=q}else this.u&&(q={},q.__data__=pr(x),x=q);M.i.push(new ci(M.Ya++,x)),M.G==3&&wl(M)},Be.prototype.N=function(){this.g.l=null,delete this.j,Oi(this.g),delete this.g,Be.aa.N.call(this)};function nt(x){na.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var M=x.__sm__;if(M){e:{for(const q in M){x=q;break e}x=void 0}(this.i=x)&&(x=this.i,M=M!==null&&x in M?M[x]:void 0),this.data=M}else this.data=x}E(nt,na);function gt(){Wr.call(this),this.status=1}E(gt,Wr);function St(x){this.g=x}E(St,Se),St.prototype.ua=function(){Ot(this.g,"a")},St.prototype.ta=function(x){Ot(this.g,new nt(x))},St.prototype.sa=function(x){Ot(this.g,new gt)},St.prototype.ra=function(){Ot(this.g,"b")},Re.prototype.createWebChannel=Re.prototype.g,Be.prototype.send=Be.prototype.o,Be.prototype.open=Be.prototype.m,Be.prototype.close=Be.prototype.close,TE=function(){return new Re},SE=function(){return za()},AE=$t,ky={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,Fg=xe,_e.COMPLETE="complete",EE=_e,sn.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",jt.prototype.listen=jt.prototype.K,Kd=sn,Cr.prototype.listenOnce=Cr.prototype.L,Cr.prototype.getLastError=Cr.prototype.Ka,Cr.prototype.getLastErrorCode=Cr.prototype.Ba,Cr.prototype.getStatus=Cr.prototype.Z,Cr.prototype.getResponseJson=Cr.prototype.Oa,Cr.prototype.getResponseText=Cr.prototype.oa,Cr.prototype.send=Cr.prototype.ea,Cr.prototype.setWithCredentials=Cr.prototype.Ha,kE=Cr}).apply(typeof ug<"u"?ug:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",M_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bs.UNAUTHENTICATED=new Bs(null),Bs.GOOGLE_CREDENTIALS=new Bs("google-credentials-uid"),Bs.FIRST_PARTY=new Bs("first-party-uid"),Bs.MOCK_USER=new Bs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new Av("@firebase/firestore");function lh(){return ff.logLevel}function Ft(t,...e){if(ff.logLevel<=Or.DEBUG){const r=e.map(Fv);ff.debug(`Firestore (${Kh}): ${t}`,...r)}}function ru(t,...e){if(ff.logLevel<=Or.ERROR){const r=e.map(Fv);ff.error(`Firestore (${Kh}): ${t}`,...r)}}function hf(t,...e){if(ff.logLevel<=Or.WARN){const r=e.map(Fv);ff.warn(`Firestore (${Kh}): ${t}`,...r)}}function Fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,NE(t,n,r)}function NE(t,e,r){let n=`FIRESTORE (${Kh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ru(n),new Error(n)}function un(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||NE(e,a,n)}function mr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends lu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Bs.UNAUTHENTICATED))}shutdown(){}}class rD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class nD{constructor(e){this.t=e,this.currentUser=Bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){un(this.o===void 0,42304);let n=this.i;const a=h=>this.i!==n?(n=this.i,r(h)):Promise.resolve();let s=new Kc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kc,e.enqueueRetryable(()=>a(this.currentUser))};const o=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await a(this.currentUser)})},c=h=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kc)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(un(typeof n.accessToken=="string",31837,{l:n}),new CE(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return un(e===null||typeof e=="string",2055,{h:e}),new Bs(e)}}class aD{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Bs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sD{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new aD(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Bs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,So(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){un(this.o===void 0,3512);const n=s=>{s.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ft("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const a=s=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new B_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(un(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new B_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=oD(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=e.charAt(a[s]%62))}return n}}function Ar(t,e){return t<e?-1:t>e?1:0}function Ey(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),a=e.codePointAt(r);if(n!==a){if(n<128&&a<128)return Ar(n,a);{const s=IE(),o=lD(s.encode(U_(t,r)),s.encode(U_(e,r)));return o!==0?o:Ar(n,a)}}r+=n>65535?2:1}return Ar(t.length,e.length)}function U_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function lD(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ar(t[r],e[r]);return Ar(t.length,e.length)}function Dh(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=-62135596800,z_=1e6;class Na{static now(){return Na.fromMillis(Date.now())}static fromDate(e){return Na.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*z_);return new Na(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Pt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Pt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<V_)throw new Pt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z_}_compareTo(e){return this.seconds===e.seconds?Ar(this.nanoseconds,e.nanoseconds):Ar(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-V_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{static fromTimestamp(e){return new fr(e)}static min(){return new fr(new Na(0,0))}static max(){return new fr(new Na(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__name__";class Ql{constructor(e,r,n){r===void 0?r=0:r>e.length&&ir(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ir(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ql.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ql?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const s=Ql.compareSegments(e.get(a),r.get(a));if(s!==0)return s}return Ar(e.length,r.length)}static compareSegments(e,r){const n=Ql.isNumericId(e),a=Ql.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Ql.extractNumericId(e).compare(Ql.extractNumericId(r)):Ey(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return u0.fromString(e.substring(4,e.length-2))}}class Dn extends Ql{construct(e,r,n){return new Dn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Pt(dt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Dn(r)}static emptyPath(){return new Dn([])}}const cD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rs extends Ql{construct(e,r,n){return new rs(e,r,n)}static isValidIdentifier(e){return cD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new rs([q_])}static fromServerFormat(e){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Pt(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Pt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Pt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,a+=2}else c==="`"?(o=!o,a++):c!=="."||o?(n+=c,a++):(s(),a++)}if(s(),o)throw new Pt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rs(r)}static emptyPath(){return new rs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(Dn.fromString(e))}static fromName(e){return new Yt(Dn.fromString(e).popFirst(5))}static empty(){return new Yt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new Dn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=-1;function uD(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=fr.fromTimestamp(n===1e9?new Na(r+1,0):new Na(r,n));return new d0(a,Yt.empty(),e)}function fD(t){return new d0(t.readTime,t.key,_m)}class d0{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new d0(fr.min(),Yt.empty(),_m)}static max(){return new d0(fr.max(),Yt.empty(),_m)}}function hD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Yt.comparator(t.documentKey,e.documentKey),r!==0?r:Ar(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t){if(t.code!==dt.FAILED_PRECONDITION||t.message!==dD)throw t;Ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ir(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new mt((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof mt?r:mt.resolve(r)}catch(r){return mt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):mt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):mt.reject(r)}static resolve(e){return new mt((r,n)=>{r(e)})}static reject(e){return new mt((r,n)=>{n(e)})}static waitFor(e){return new mt((r,n)=>{let a=0,s=0,o=!1;e.forEach(c=>{++a,c.next(()=>{++s,o&&s===a&&r()},h=>n(h))}),o=!0,s===a&&r()})}static or(e){let r=mt.resolve(!1);for(const n of e)r=r.next(a=>a?mt.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,s)=>{n.push(r.call(this,a,s))}),this.waitFor(n)}static mapArray(e,r){return new mt((n,a)=>{const s=e.length,o=new Array(s);let c=0;for(let h=0;h<s;h++){const d=h;r(e[d]).next(p=>{o[d]=p,++c,c===s&&n(o)},p=>a(p))}})}static doWhile(e,r){return new mt((n,a)=>{const s=()=>{e()===!0?r().next(()=>{s()},a):n()};s()})}}function pD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Yh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}U1.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-1;function V1(t){return t==null}function a1(t){return t===0&&1/t==-1/0}function gD(t){return typeof t=="number"&&Number.isInteger(t)&&!a1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="";function xD(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=H_(e)),e=yD(t.get(r),e);return H_(e)}function yD(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const s=t.charAt(a);switch(s){case"\0":r+="";break;case DE:r+="";break;default:r+=s}}return r}function H_(t){return t+DE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function E0(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function LE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,r){this.comparator=e,this.root=r||ps.EMPTY}insert(e,r){return new Kn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ps.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ps.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fg(this.root,e,this.comparator,!1)}getReverseIterator(){return new fg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fg(this.root,e,this.comparator,!0)}}class fg{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ps{constructor(e,r,n,a,s){this.key=e,this.value=r,this.color=n??ps.RED,this.left=a??ps.EMPTY,this.right=s??ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,s){return new ps(e??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const s=n(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return ps.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ir(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ir(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ir(27949);return e+(this.isRed()?0:1)}}ps.EMPTY=null,ps.RED=!0,ps.BLACK=!1;ps.EMPTY=new class{constructor(){this.size=0}get key(){throw ir(57766)}get value(){throw ir(16141)}get color(){throw ir(16727)}get left(){throw ir(29726)}get right(){throw ir(36894)}copy(e,r,n,a,s){return this}insert(e,r,n){return new ps(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ua(this.comparator);return r.data=e,r}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.fields=e,e.sort(rs.comparator)}static empty(){return new Xi([])}unionWith(e){let r=new Ua(rs.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Xi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Dh(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jE("Invalid base64 string: "+s):s}}(e);return new ss(r)}static fromUint8Array(e){const r=function(a){let s="";for(let o=0;o<a.length;++o)s+=String.fromCharCode(a[o]);return s}(e);return new ss(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ar(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const vD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function m0(t){if(un(!!t,39018),typeof t=="string"){let e=0;const r=vD.exec(t);if(un(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ha(t.seconds),nanos:ha(t.nanos)}}function ha(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function p0(t){return typeof t=="string"?ss.fromBase64String(t):ss.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="server_timestamp",PE="__type__",FE="__previous_value__",ME="__local_write_time__";function Uv(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[PE])===null||r===void 0?void 0:r.stringValue)===OE}function z1(t){const e=t.mapValue.fields[FE];return Uv(e)?z1(e):e}function km(t){const e=m0(t.mapValue.fields[ME].timestampValue);return new Na(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,r,n,a,s,o,c,h,d,p){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const s1="(default)";class Lh{constructor(e,r){this.projectId=e,this.database=r||s1}static empty(){return new Lh("","")}get isDefaultDatabase(){return this.database===s1}isEqual(e){return e instanceof Lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="__type__",wD="__max__",hg={mapValue:{}},UE="__vector__",i1="value";function g0(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:kD(t)?9007199254740991:_D(t)?10:11:ir(28295,{value:t})}function ac(t,e){if(t===e)return!0;const r=g0(t);if(r!==g0(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return km(t).isEqual(km(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const o=m0(a.timestampValue),c=m0(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,s){return p0(a.bytesValue).isEqual(p0(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,s){return ha(a.geoPointValue.latitude)===ha(s.geoPointValue.latitude)&&ha(a.geoPointValue.longitude)===ha(s.geoPointValue.longitude)}(t,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return ha(a.integerValue)===ha(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const o=ha(a.doubleValue),c=ha(s.doubleValue);return o===c?a1(o)===a1(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Dh(t.arrayValue.values||[],e.arrayValue.values||[],ac);case 10:case 11:return function(a,s){const o=a.mapValue.fields||{},c=s.mapValue.fields||{};if(G_(o)!==G_(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(c[h]===void 0||!ac(o[h],c[h])))return!1;return!0}(t,e);default:return ir(52216,{left:t})}}function Em(t,e){return(t.values||[]).find(r=>ac(r,e))!==void 0}function jh(t,e){if(t===e)return 0;const r=g0(t),n=g0(e);if(r!==n)return Ar(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ar(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=ha(s.integerValue||s.doubleValue),h=ha(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return K_(t.timestampValue,e.timestampValue);case 4:return K_(km(t),km(e));case 5:return Ey(t.stringValue,e.stringValue);case 6:return function(s,o){const c=p0(s),h=p0(o);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),h=o.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=Ar(c[d],h[d]);if(p!==0)return p}return Ar(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=Ar(ha(s.latitude),ha(o.latitude));return c!==0?c:Ar(ha(s.longitude),ha(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,h,d,p;const y=s.fields||{},v=o.fields||{},b=(c=y[i1])===null||c===void 0?void 0:c.arrayValue,E=(h=v[i1])===null||h===void 0?void 0:h.arrayValue,k=Ar(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return k!==0?k:W_(b,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===hg.mapValue&&o===hg.mapValue)return 0;if(s===hg.mapValue)return 1;if(o===hg.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),d=o.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const v=Ey(h[y],p[y]);if(v!==0)return v;const b=jh(c[h[y]],d[p[y]]);if(b!==0)return b}return Ar(h.length,p.length)}(t.mapValue,e.mapValue);default:throw ir(23264,{Pe:r})}}function K_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ar(t,e);const r=m0(t),n=m0(e),a=Ar(r.seconds,n.seconds);return a!==0?a:Ar(r.nanos,n.nanos)}function W_(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=jh(r[a],n[a]);if(s)return s}return Ar(r.length,n.length)}function Oh(t){return Ay(t)}function Ay(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=m0(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return p0(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Yt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=Ay(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const o of n)s?s=!1:a+=",",a+=`${o}:${Ay(r.fields[o])}`;return a+"}"}(t.mapValue):ir(61005,{value:t})}function Mg(t){switch(g0(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=z1(t);return e?16+Mg(e):16;case 5:return 2*t.stringValue.length;case 6:return p0(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,s)=>a+Mg(s),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return E0(n.fields,(s,o)=>{a+=s.length+Mg(o)}),a}(t.mapValue);default:throw ir(13486,{value:t})}}function Y_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function Vv(t){return!!t&&"arrayValue"in t}function X_(t){return!!t&&"nullValue"in t}function Q_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bg(t){return!!t&&"mapValue"in t}function _D(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[BE])===null||r===void 0?void 0:r.stringValue)===UE}function rm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return E0(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=rm(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=rm(t.arrayValue.values[r]);return e}return Object.assign({},t)}function kD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===wD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Bg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=rm(r)}setAll(e){let r=rs.emptyPath(),n={},a=[];e.forEach((o,c)=>{if(!r.isImmediateParentOf(c)){const h=this.getFieldsMap(r);this.applyChanges(h,n,a),n={},a=[],r=c.popLast()}o?n[c.lastSegment()]=rm(o):a.push(c.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(e){const r=this.field(e.popLast());Bg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ac(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];Bg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){E0(r,(a,s)=>e[a]=s);for(const a of n)delete e[a]}clone(){return new Ti(rm(this.value))}}function VE(t){const e=[];return E0(t.fields,(r,n)=>{const a=new rs([r]);if(Bg(n)){const s=VE(n.mapValue).fields;if(s.length===0)e.push(a);else for(const o of s)e.push(a.child(o))}else e.push(a)}),new Xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,r,n,a,s,o,c){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Vs(e,0,fr.min(),fr.min(),fr.min(),Ti.empty(),0)}static newFoundDocument(e,r,n,a){return new Vs(e,1,r,fr.min(),n,a,0)}static newNoDocument(e,r){return new Vs(e,2,r,fr.min(),fr.min(),Ti.empty(),0)}static newUnknownDocument(e,r){return new Vs(e,3,r,fr.min(),fr.min(),Ti.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(fr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,r){this.position=e,this.inclusive=r}}function J_(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const s=e[a],o=t.position[a];if(s.field.isKeyField()?n=Yt.comparator(Yt.fromName(o.referenceValue),r.key):n=jh(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Z_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ac(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,r="asc"){this.field=e,this.dir=r}}function ED(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{}class Ta extends zE{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new SD(e,r,n):r==="array-contains"?new CD(e,n):r==="in"?new RD(e,n):r==="not-in"?new ID(e,n):r==="array-contains-any"?new DD(e,n):new Ta(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new TD(e,n):new ND(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(jh(r,this.value)):r!==null&&g0(this.value)===g0(r)&&this.matchesComparison(jh(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ir(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dl extends zE{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new dl(e,r)}matches(e){return qE(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qE(t){return t.op==="and"}function HE(t){return AD(t)&&qE(t)}function AD(t){for(const e of t.filters)if(e instanceof dl)return!1;return!0}function Ty(t){if(t instanceof Ta)return t.field.canonicalString()+t.op.toString()+Oh(t.value);if(HE(t))return t.filters.map(e=>Ty(e)).join(",");{const e=t.filters.map(r=>Ty(r)).join(",");return`${t.op}(${e})`}}function GE(t,e){return t instanceof Ta?function(n,a){return a instanceof Ta&&n.op===a.op&&n.field.isEqual(a.field)&&ac(n.value,a.value)}(t,e):t instanceof dl?function(n,a){return a instanceof dl&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,o,c)=>s&&GE(o,a.filters[c]),!0):!1}(t,e):void ir(19439)}function $E(t){return t instanceof Ta?function(r){return`${r.field.canonicalString()} ${r.op} ${Oh(r.value)}`}(t):t instanceof dl?function(r){return r.op.toString()+" {"+r.getFilters().map($E).join(" ,")+"}"}(t):"Filter"}class SD extends Ta{constructor(e,r,n){super(e,r,n),this.key=Yt.fromName(n.referenceValue)}matches(e){const r=Yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class TD extends Ta{constructor(e,r){super(e,"in",r),this.keys=KE("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class ND extends Ta{constructor(e,r){super(e,"not-in",r),this.keys=KE("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function KE(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Yt.fromName(n.referenceValue))}class CD extends Ta{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Vv(r)&&Em(r.arrayValue,this.value)}}class RD extends Ta{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Em(this.value.arrayValue,r)}}class ID extends Ta{constructor(e,r){super(e,"not-in",r)}matches(e){if(Em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Em(this.value.arrayValue,r)}}class DD extends Ta{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Vv(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Em(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,r=null,n=[],a=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=o,this.endAt=c,this.Ie=null}}function e4(t,e=null,r=[],n=[],a=null,s=null,o=null){return new LD(t,e,r,n,a,s,o)}function zv(t){const e=mr(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Ty(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),V1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Oh(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Oh(n)).join(",")),e.Ie=r}return e.Ie}function qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!ED(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!GE(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Z_(t.startAt,e.startAt)&&Z_(t.endAt,e.endAt)}function Ny(t){return Yt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,r=null,n=[],a=[],s=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jD(t,e,r,n,a,s,o,c){return new Xh(t,e,r,n,a,s,o,c)}function Hv(t){return new Xh(t)}function t4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WE(t){return t.collectionGroup!==null}function nm(t){const e=mr(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ua(rs.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Am(s,n))}),r.has(rs.keyField().canonicalString())||e.Ee.push(new Am(rs.keyField(),n))}return e.Ee}function tc(t){const e=mr(t);return e.de||(e.de=OD(e,nm(t))),e.de}function OD(t,e){if(t.limitType==="F")return e4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new Am(a.field,s)});const r=t.endAt?new o1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new o1(t.startAt.position,t.startAt.inclusive):null;return e4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Cy(t,e){const r=t.filters.concat([e]);return new Xh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function l1(t,e,r){return new Xh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function q1(t,e){return qv(tc(t),tc(e))&&t.limitType===e.limitType}function YE(t){return`${zv(tc(t))}|lt:${t.limitType}`}function ch(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>$E(a)).join(", ")}]`),V1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Oh(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Oh(a)).join(",")),`Target(${n})`}(tc(t))}; limitType=${t.limitType})`}function H1(t,e){return e.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Yt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,a){for(const s of nm(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(o,c,h){const d=J_(o,c,h);return o.inclusive?d<=0:d<0}(n.startAt,nm(n),a)||n.endAt&&!function(o,c,h){const d=J_(o,c,h);return o.inclusive?d>=0:d>0}(n.endAt,nm(n),a))}(t,e)}function PD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XE(t){return(e,r)=>{let n=!1;for(const a of nm(t)){const s=FD(a,e,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function FD(t,e,r){const n=t.field.isKeyField()?Yt.comparator(e.key,r.key):function(s,o,c){const h=o.data.field(s),d=c.data.field(s);return h!==null&&d!==null?jh(h,d):ir(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ir(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){E0(this.inner,(r,n)=>{for(const[a,s]of n)e(a,s)})}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new Kn(Yt.comparator);function nu(){return MD}const QE=new Kn(Yt.comparator);function Wd(...t){let e=QE;for(const r of t)e=e.insert(r.key,r);return e}function JE(t){let e=QE;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ef(){return am()}function ZE(){return am()}function am(){return new wf(t=>t.toString(),(t,e)=>t.isEqual(e))}const BD=new Kn(Yt.comparator),UD=new Ua(Yt.comparator);function Pr(...t){let e=UD;for(const r of t)e=e.add(r);return e}const VD=new Ua(Ar);function zD(){return VD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a1(e)?"-0":e}}function eA(t){return{integerValue:""+t}}function qD(t,e){return gD(e)?eA(e):Gv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this._=void 0}}function HD(t,e,r){return t instanceof Sm?function(a,s){const o={fields:{[PE]:{stringValue:OE},[ME]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&Uv(s)&&(s=z1(s)),s&&(o.fields[FE]=s),{mapValue:o}}(r,e):t instanceof Tm?rA(t,e):t instanceof Nm?nA(t,e):function(a,s){const o=tA(a,s),c=r4(o)+r4(a.Re);return Sy(o)&&Sy(a.Re)?eA(c):Gv(a.serializer,c)}(t,e)}function GD(t,e,r){return t instanceof Tm?rA(t,e):t instanceof Nm?nA(t,e):r}function tA(t,e){return t instanceof c1?function(n){return Sy(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Sm extends G1{}class Tm extends G1{constructor(e){super(),this.elements=e}}function rA(t,e){const r=aA(e);for(const n of t.elements)r.some(a=>ac(a,n))||r.push(n);return{arrayValue:{values:r}}}class Nm extends G1{constructor(e){super(),this.elements=e}}function nA(t,e){let r=aA(e);for(const n of t.elements)r=r.filter(a=>!ac(a,n));return{arrayValue:{values:r}}}class c1 extends G1{constructor(e,r){super(),this.serializer=e,this.Re=r}}function r4(t){return ha(t.integerValue||t.doubleValue)}function aA(t){return Vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,r){this.field=e,this.transform=r}}function KD(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof Tm&&a instanceof Tm||n instanceof Nm&&a instanceof Nm?Dh(n.elements,a.elements,ac):n instanceof c1&&a instanceof c1?ac(n.Re,a.Re):n instanceof Sm&&a instanceof Sm}(t.transform,e.transform)}class WD{constructor(e,r){this.version=e,this.transformResults=r}}class To{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new To}static exists(e){return new To(void 0,e)}static updateTime(e){return new To(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ug(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $1{}function sA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $v(t.key,To.none()):new Ym(t.key,t.data,To.none());{const r=t.data,n=Ti.empty();let a=new Ua(rs.comparator);for(let s of e.fields)if(!a.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),a=a.add(s)}return new A0(t.key,n,new Xi(a.toArray()),To.none())}}function YD(t,e,r){t instanceof Ym?function(a,s,o){const c=a.value.clone(),h=a4(a.fieldTransforms,s,o.transformResults);c.setAll(h),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):t instanceof A0?function(a,s,o){if(!Ug(a.precondition,s))return void s.convertToUnknownDocument(o.version);const c=a4(a.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(iA(a)),h.setAll(c),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(t,e,r):function(a,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function sm(t,e,r,n){return t instanceof Ym?function(s,o,c,h){if(!Ug(s.precondition,o))return c;const d=s.value.clone(),p=s4(s.fieldTransforms,h,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,r,n):t instanceof A0?function(s,o,c,h){if(!Ug(s.precondition,o))return c;const d=s4(s.fieldTransforms,h,o),p=o.data;return p.setAll(iA(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(t,e,r,n):function(s,o,c){return Ug(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,r)}function XD(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),s=tA(n.transform,a||null);s!=null&&(r===null&&(r=Ti.empty()),r.set(n.field,s))}return r||null}function n4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Dh(n,a,(s,o)=>KD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ym extends $1{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class A0 extends $1{constructor(e,r,n,a,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iA(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function a4(t,e,r){const n=new Map;un(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let a=0;a<r.length;a++){const s=t[a],o=s.transform,c=e.data.field(s.field);n.set(s.field,GD(o,c,r[a]))}return n}function s4(t,e,r){const n=new Map;for(const a of t){const s=a.transform,o=r.data.field(a.field);n.set(a.field,HD(s,o,e))}return n}class $v extends $1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QD extends $1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&YD(s,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=sm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=sm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=ZE();return this.mutations.forEach(a=>{const s=e.get(a.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=r.has(a.key)?null:c;const h=sA(o,c);h!==null&&n.set(a.key,h),o.isValidDocument()||o.convertToNoDocument(fr.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Pr())}isEqual(e){return this.batchId===e.batchId&&Dh(this.mutations,e.mutations,(r,n)=>n4(r,n))&&Dh(this.baseMutations,e.baseMutations,(r,n)=>n4(r,n))}}class Kv{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){un(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return BD}();const s=e.mutations;for(let o=0;o<s.length;o++)a=a.insert(s[o].key,n[o].version);return new Kv(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea,Hr;function tL(t){switch(t){case dt.OK:return ir(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return ir(15467,{code:t})}}function oA(t){if(t===void 0)return ru("GRPC error has no .code"),dt.UNKNOWN;switch(t){case Ea.OK:return dt.OK;case Ea.CANCELLED:return dt.CANCELLED;case Ea.UNKNOWN:return dt.UNKNOWN;case Ea.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Ea.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Ea.INTERNAL:return dt.INTERNAL;case Ea.UNAVAILABLE:return dt.UNAVAILABLE;case Ea.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Ea.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Ea.NOT_FOUND:return dt.NOT_FOUND;case Ea.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Ea.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Ea.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Ea.ABORTED:return dt.ABORTED;case Ea.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Ea.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Ea.DATA_LOSS:return dt.DATA_LOSS;default:return ir(39323,{code:t})}}(Hr=Ea||(Ea={}))[Hr.OK=0]="OK",Hr[Hr.CANCELLED=1]="CANCELLED",Hr[Hr.UNKNOWN=2]="UNKNOWN",Hr[Hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hr[Hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hr[Hr.NOT_FOUND=5]="NOT_FOUND",Hr[Hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hr[Hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hr[Hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hr[Hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hr[Hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hr[Hr.ABORTED=10]="ABORTED",Hr[Hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hr[Hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hr[Hr.INTERNAL=13]="INTERNAL",Hr[Hr.UNAVAILABLE=14]="UNAVAILABLE",Hr[Hr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new u0([4294967295,4294967295],0);function i4(t){const e=IE().encode(t),r=new _E;return r.update(e),new Uint8Array(r.digest())}function o4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new u0([r,n],0),new u0([a,s],0)]}class Wv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Yd(`Invalid padding: ${r}`);if(n<0)throw new Yd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Yd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Yd(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=u0.fromNumber(this.pe)}we(e,r,n){let a=e.add(r.multiply(u0.fromNumber(n)));return a.compare(rL)===1&&(a=new u0([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=i4(e),[n,a]=o4(r);for(let s=0;s<this.hashCount;s++){const o=this.we(n,a,s);if(!this.be(o))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wv(s,a,r);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.pe===0)return;const r=i4(e),[n,a]=o4(r);for(let s=0;s<this.hashCount;s++){const o=this.we(n,a,s);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,r,n,a,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Xm.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new K1(fr.min(),a,new Kn(Ar),nu(),Pr())}}class Xm{constructor(e,r,n,a,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Xm(n,r,Pr(),Pr(),Pr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,r,n,a){this.De=e,this.removedTargetIds=r,this.key=n,this.ve=a}}class lA{constructor(e,r){this.targetId=e,this.Ce=r}}class cA{constructor(e,r,n=ss.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class l4{constructor(){this.Fe=0,this.Me=c4(),this.xe=ss.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pr(),r=Pr(),n=Pr();return this.Me.forEach((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:ir(38017,{changeType:s})}}),new Xm(this.xe,this.Oe,e,r,n)}Qe(){this.Ne=!1,this.Me=c4()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,un(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nL{constructor(e){this.ze=e,this.je=new Map,this.He=nu(),this.Je=dg(),this.Ye=dg(),this.Ze=new Kn(Ar)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const n=this.rt(r);switch(e.state){case 0:this.it(r)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(e.resumeToken));break;default:ir(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(e){const r=e.targetId,n=e.Ce.count,a=this._t(r);if(a){const s=a.target;if(Ny(s))if(n===0){const o=new Yt(s.path);this.tt(r,o,Vs.newNoDocument(o,fr.min()))}else un(n===1,20013,{expectedCount:n});else{const o=this.ut(r);if(o!==n){const c=this.ct(e),h=c?this.lt(c,e,o):1;if(h!==0){this.st(r);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,d)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:s=0}=r;let o,c;try{o=p0(n).toUint8Array()}catch(h){if(h instanceof jE)return hf("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Wv(o,a,s)}catch(h){return hf(h instanceof Yd?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,r,n){return r.Ce.count===n-this.Tt(e,r.targetId)?0:2}Tt(e,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(s=>{const o=this.ze.Pt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.tt(r,s,null),a++)}),a}It(e){const r=new Map;this.je.forEach((s,o)=>{const c=this._t(o);if(c){if(s.current&&Ny(c.target)){const h=new Yt(c.target.path);this.Et(h).has(o)||this.dt(o,h)||this.tt(o,h,Vs.newNoDocument(h,e))}s.Le&&(r.set(o,s.qe()),s.Qe())}});let n=Pr();this.Ye.forEach((s,o)=>{let c=!0;o.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const a=new K1(e,r,this.Ze,this.He,n);return this.He=nu(),this.Je=dg(),this.Ye=dg(),this.Ze=new Kn(Ar),a}et(e,r){if(!this.it(e))return;const n=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,n){if(!this.it(e))return;const a=this.rt(e);this.dt(e,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),n&&(this.He=this.He.insert(r,n))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new l4,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Ua(Ar),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Ua(Ar),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||Ft("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new l4),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function dg(){return new Kn(Yt.comparator)}function c4(){return new Kn(Yt.comparator)}const aL={asc:"ASCENDING",desc:"DESCENDING"},sL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iL={and:"AND",or:"OR"};class oL{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ry(t,e){return t.useProto3Json||V1(e)?e:{value:e}}function u1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lL(t,e){return u1(t,e.toTimestamp())}function rc(t){return un(!!t,49232),fr.fromTimestamp(function(r){const n=m0(r);return new Na(n.seconds,n.nanos)}(t))}function Yv(t,e){return Iy(t,e).canonicalString()}function Iy(t,e){const r=function(a){return new Dn(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function fA(t){const e=Dn.fromString(t);return un(gA(e),10190,{key:e.toString()}),e}function Dy(t,e){return Yv(t.databaseId,e.path)}function U2(t,e){const r=fA(e);if(r.get(1)!==t.databaseId.projectId)throw new Pt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Pt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Yt(dA(r))}function hA(t,e){return Yv(t.databaseId,e)}function cL(t){const e=fA(t);return e.length===4?Dn.emptyPath():dA(e)}function Ly(t){return new Dn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dA(t){return un(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function u4(t,e,r){return{name:Dy(t,e),fields:r.value.mapValue.fields}}function uL(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ir(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(un(p===void 0||typeof p=="string",58123),ss.fromBase64String(p||"")):(un(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ss.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const p=d.code===void 0?dt.UNKNOWN:oA(d.code);return new Pt(p,d.message||"")}(o);r=new cA(n,a,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=U2(t,n.document.name),s=rc(n.document.updateTime),o=n.document.createTime?rc(n.document.createTime):fr.min(),c=new Ti({mapValue:{fields:n.document.fields}}),h=Vs.newFoundDocument(a,s,o,c),d=n.targetIds||[],p=n.removedTargetIds||[];r=new Vg(d,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=U2(t,n.document),s=n.readTime?rc(n.readTime):fr.min(),o=Vs.newNoDocument(a,s),c=n.removedTargetIds||[];r=new Vg([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=U2(t,n.document),s=n.removedTargetIds||[];r=new Vg([],s,a,null)}else{if(!("filter"in e))return ir(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:s}=n,o=new eL(a,s),c=n.targetId;r=new lA(c,o)}}return r}function fL(t,e){let r;if(e instanceof Ym)r={update:u4(t,e.key,e.value)};else if(e instanceof $v)r={delete:Dy(t,e.key)};else if(e instanceof A0)r={update:u4(t,e.key,e.data),updateMask:bL(e.fieldMask)};else{if(!(e instanceof QD))return ir(16599,{ft:e.type});r={verify:Dy(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const c=o.transform;if(c instanceof Sm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Tm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Nm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof c1)return{fieldPath:o.field.canonicalString(),increment:c.Re};throw ir(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:lL(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ir(27497)}(t,e.precondition)),r}function hL(t,e){return t&&t.length>0?(un(e!==void 0,14353),t.map(r=>function(a,s){let o=a.updateTime?rc(a.updateTime):rc(s);return o.isEqual(fr.min())&&(o=rc(s)),new WD(o,a.transformResults||[])}(r,e))):[]}function dL(t,e){return{documents:[hA(t,e.path)]}}function mL(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=hA(t,a);const s=function(d){if(d.length!==0)return pA(dl.create(d,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:uh(v.field),direction:xL(v.dir)}}(p))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const c=Ry(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:r,parent:a}}function pL(t){let e=cL(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){un(n===1,65062);const p=r.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];r.where&&(s=function(y){const v=mA(y);return v instanceof dl&&HE(v)?v.getFilters():[v]}(r.where));let o=[];r.orderBy&&(o=function(y){return y.map(v=>function(E){return new Am(fh(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(r.orderBy));let c=null;r.limit&&(c=function(y){let v;return v=typeof y=="object"?y.value:y,V1(v)?null:v}(r.limit));let h=null;r.startAt&&(h=function(y){const v=!!y.before,b=y.values||[];return new o1(b,v)}(r.startAt));let d=null;return r.endAt&&(d=function(y){const v=!y.before,b=y.values||[];return new o1(b,v)}(r.endAt)),jD(e,a,o,s,c,"F",h,d)}function gL(t,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ir(28987,{purpose:a})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function mA(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=fh(r.unaryFilter.field);return Ta.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=fh(r.unaryFilter.field);return Ta.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=fh(r.unaryFilter.field);return Ta.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fh(r.unaryFilter.field);return Ta.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ir(61313);default:return ir(60726)}}(t):t.fieldFilter!==void 0?function(r){return Ta.create(fh(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ir(58110);default:return ir(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return dl.create(r.compositeFilter.filters.map(n=>mA(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ir(1026)}}(r.compositeFilter.op))}(t):ir(30097,{filter:t})}function xL(t){return aL[t]}function yL(t){return sL[t]}function vL(t){return iL[t]}function uh(t){return{fieldPath:t.canonicalString()}}function fh(t){return rs.fromServerFormat(t.fieldPath)}function pA(t){return t instanceof Ta?function(r){if(r.op==="=="){if(Q_(r.value))return{unaryFilter:{field:uh(r.field),op:"IS_NAN"}};if(X_(r.value))return{unaryFilter:{field:uh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Q_(r.value))return{unaryFilter:{field:uh(r.field),op:"IS_NOT_NAN"}};if(X_(r.value))return{unaryFilter:{field:uh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uh(r.field),op:yL(r.op),value:r.value}}}(t):t instanceof dl?function(r){const n=r.getFilters().map(a=>pA(a));return n.length===1?n[0]:{compositeFilter:{op:vL(r.op),filters:n}}}(t):ir(54877,{filter:t})}function bL(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function gA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,r,n,a,s=fr.min(),o=fr.min(),c=ss.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new n0(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new n0(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n0(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.wt=e}}function _L(t){const e=pL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?l1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.Cn=new EL}addToCollectionParentIndex(e,r){return this.Cn.add(r),mt.resolve()}getCollectionParents(e,r){return mt.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return mt.resolve()}deleteFieldIndex(e,r){return mt.resolve()}deleteAllFieldIndexes(e){return mt.resolve()}createTargetIndexes(e,r){return mt.resolve()}getDocumentsMatchingTarget(e,r){return mt.resolve(null)}getIndexType(e,r){return mt.resolve(0)}getFieldIndexes(e,r){return mt.resolve([])}getNextCollectionGroupToUpdate(e){return mt.resolve(null)}getMinOffset(e,r){return mt.resolve(d0.min())}getMinOffsetFromCollectionGroup(e,r){return mt.resolve(d0.min())}updateCollectionGroup(e,r,n){return mt.resolve()}updateIndexEntries(e,r){return mt.resolve()}}class EL{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Ua(Dn.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Ua(Dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xA=41943040;class Si{static withCacheSize(e){return new Si(e,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(xA,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ph(0)}static lr(){return new Ph(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="LruGarbageCollector",AL=1048576;function d4([t,e],[r,n]){const a=Ar(t,r);return a===0?Ar(e,n):a}class SL{constructor(e){this.Er=e,this.buffer=new Ua(d4),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();d4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class TL{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ft(h4,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Yh(r)?Ft(h4,"Ignoring IndexedDB error during garbage collection: ",r):await Wh(r)}await this.mr(3e5)})}}class NL{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return mt.resolve(U1.le);const n=new SL(r);return this.gr.forEachTarget(e,a=>n.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>n.Rr(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(f4)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f4):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,a,s,o,c,h,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,o=Date.now(),this.nthSequenceNumber(e,a))).next(y=>(n=y,c=Date.now(),this.removeTargets(e,n,r))).next(y=>(s=y,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(y=>(d=Date.now(),lh()<=Or.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${a} in `+(c-o)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:y})))}}function CL(t,e){return new NL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.changes=new wf(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Vs.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?mt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&sm(n.mutation,a,Xi.empty(),Na.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Pr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Pr()){const a=ef();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(s=>{let o=Wd();return s.forEach((c,h)=>{o=o.insert(c,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=ef();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Pr()))}populateOverlays(e,r,n){const a=[];return n.forEach(s=>{r.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((o,c)=>{r.set(o,c)})})}computeViews(e,r,n,a){let s=nu();const o=am(),c=function(){return am()}();return r.forEach((h,d)=>{const p=n.get(d.key);a.has(d.key)&&(p===void 0||p.mutation instanceof A0)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),sm(p.mutation,d,p.mutation.getFieldMask(),Na.now())):o.set(d.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((d,p)=>o.set(d,p)),r.forEach((d,p)=>{var y;return c.set(d,new IL(p,(y=o.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,r){const n=am();let a=new Kn((o,c)=>o-c),s=Pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const c of o)c.keys().forEach(h=>{const d=r.get(h);if(d===null)return;let p=n.get(h)||Xi.empty();p=c.applyToLocalView(d,p),n.set(h,p);const y=(a.get(c.batchId)||Pr()).add(h);a=a.insert(c.batchId,y)})}).next(()=>{const o=[],c=a.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=ZE();p.forEach(v=>{if(!s.has(v)){const b=sA(r.get(v),n.get(v));b!==null&&y.set(v,b),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,y))}return mt.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(o){return Yt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):WE(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(s=>{const o=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-s.size):mt.resolve(ef());let c=_m,h=s;return o.next(d=>mt.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(p)?mt.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{h=h.insert(p,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,h,d,Pr())).next(p=>({batchId:c,changes:JE(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Yt(r)).next(n=>{let a=Wd();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const s=r.collectionGroup;let o=Wd();return this.indexManager.getCollectionParents(e,s).next(c=>mt.forEach(c,h=>{const d=function(y,v){return new Xh(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(r,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,a).next(p=>{p.forEach((y,v)=>{o=o.insert(y,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,a))).next(o=>{s.forEach((h,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Vs.newInvalidDocument(p)))});let c=Wd();return o.forEach((h,d)=>{const p=s.get(h);p!==void 0&&sm(p.mutation,d,Xi.empty(),Na.now()),H1(r,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return mt.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:rc(a.createTime)}}(r)),mt.resolve()}getNamedQuery(e,r){return mt.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(a){return{name:a.name,query:_L(a.bundledQuery),readTime:rc(a.readTime)}}(r)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.overlays=new Kn(Yt.comparator),this.Qr=new Map}getOverlay(e,r){return mt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ef();return mt.forEach(r,a=>this.getOverlay(e,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,s)=>{this.St(e,r,s)}),mt.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Qr.get(n);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(n)),mt.resolve()}getOverlaysForCollection(e,r,n){const a=ef(),s=r.length+1,o=new Yt(r.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>n&&a.set(h.getKey(),h)}return mt.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let s=new Kn((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let p=s.get(d.largestBatchId);p===null&&(p=ef(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=ef(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=a)););return mt.resolve(c)}St(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const o=this.Qr.get(a.largestBatchId).delete(n.key);this.Qr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new ZD(r,n));let s=this.Qr.get(r);s===void 0&&(s=Pr(),this.Qr.set(r,s)),this.Qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.sessionToken=ss.EMPTY_BYTE_STRING}getSessionToken(e){return mt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.$r=new Ua(Ja.Ur),this.Kr=new Ua(Ja.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new Ja(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new Ja(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new Yt(new Dn([])),n=new Ja(r,e),a=new Ja(r,e+1),s=[];return this.Kr.forEachInRange([n,a],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new Yt(new Dn([])),n=new Ja(r,e),a=new Ja(r,e+1);let s=Pr();return this.Kr.forEachInRange([n,a],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new Ja(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ja{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return Yt.comparator(e.key,r.key)||Ar(e.Zr,r.Zr)}static Wr(e,r){return Ar(e.Zr,r.Zr)||Yt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new Ua(Ja.Ur)}checkEmpty(e){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JD(s,r,n,a);this.mutationQueue.push(o);for(const c of a)this.Xr=this.Xr.add(new Ja(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return mt.resolve(o)}lookupMutationBatch(e,r){return mt.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ti(n),s=a<0?0:a;return mt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?Bv:this.nr-1)}getAllMutationBatches(e){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ja(r,0),a=new Ja(r,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([n,a],o=>{const c=this.ei(o.Zr);s.push(c)}),mt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ua(Ar);return r.forEach(a=>{const s=new Ja(a,0),o=new Ja(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],c=>{n=n.add(c.Zr)})}),mt.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let s=n;Yt.isDocumentKey(s)||(s=s.child(""));const o=new Ja(new Yt(s),0);let c=new Ua(Ar);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===a&&(c=c.add(h.Zr)),!0)},o),mt.resolve(this.ni(c))}ni(e){const r=[];return e.forEach(n=>{const a=this.ei(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){un(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return mt.forEach(r.mutations,a=>{const s=new Ja(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new Ja(r,0),a=this.Xr.firstAfterOrEqual(n);return mt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,mt.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.ii=e,this.docs=function(){return new Kn(Yt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,o=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return mt.resolve(n?n.document.mutableCopy():Vs.newInvalidDocument(r))}getEntries(e,r){let n=nu();return r.forEach(a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():Vs.newInvalidDocument(a))}),mt.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let s=nu();const o=r.path,c=new Yt(o.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||hD(fD(p),n)<=0||(a.has(p.key)||H1(r,p))&&(s=s.insert(p.key,p.mutableCopy()))}return mt.resolve(s)}getAllFromCollectionGroup(e,r,n,a){ir(9500)}si(e,r){return mt.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new ML(this)}getSize(e){return mt.resolve(this.size)}}class ML extends RL{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Br.addEntry(e,a)):this.Br.removeEntry(n)}),mt.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.persistence=e,this.oi=new wf(r=>zv(r),qv),this.lastRemoteSnapshotVersion=fr.min(),this.highestTargetId=0,this._i=0,this.ai=new Xv,this.targetCount=0,this.ui=Ph.cr()}forEachTarget(e,r){return this.oi.forEach((n,a)=>r(a)),mt.resolve()}getLastRemoteSnapshotVersion(e){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mt.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),mt.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Ph(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,mt.resolve()}updateTargetData(e,r){return this.Tr(r),mt.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,mt.resolve()}removeTargets(e,r,n){let a=0;const s=[];return this.oi.forEach((o,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),mt.waitFor(s).next(()=>a)}getTargetCount(e){return mt.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return mt.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),mt.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(o=>{s.push(a.markPotentiallyOrphaned(e,o))}),mt.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),mt.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return mt.resolve(n)}containsKey(e,r){return mt.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,r){this.ci={},this.overlays={},this.li=new U1(0),this.hi=!1,this.hi=!0,this.Pi=new OL,this.referenceDelegate=e(this),this.Ti=new BL(this),this.indexManager=new kL,this.remoteDocumentCache=function(a){return new FL(a)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new wL(r),this.Ei=new LL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new jL,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new PL(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){Ft("MemoryPersistence","Starting transaction:",e);const a=new UL(this.li.next());return this.referenceDelegate.di(),n(a).next(s=>this.referenceDelegate.Ai(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ri(e,r){return mt.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class UL extends mD{constructor(e){super(),this.currentSequenceNumber=e}}class Qv{constructor(e){this.persistence=e,this.Vi=new Xv,this.mi=null}static fi(e){return new Qv(e)}get gi(){if(this.mi)return this.mi;throw ir(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),mt.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),mt.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),mt.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(a=>this.gi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(s=>this.gi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.gi,n=>{const a=Yt.fromPath(n);return this.pi(e,a).next(s=>{s||r.removeEntry(a,fr.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return mt.or([()=>mt.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class f1{constructor(e,r){this.persistence=e,this.yi=new wf(n=>xD(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=CL(this,r)}static fi(e,r){return new f1(e,r)}di(){}Ai(e){return mt.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}br(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return mt.forEach(this.yi,(n,a)=>this.Dr(e,n,a).next(s=>s?mt.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.si(e,o=>this.Dr(e,o,r).next(c=>{c||(n++,s.removeEntry(o,fr.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),mt.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),mt.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),mt.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),mt.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Mg(e.data.value)),r}Dr(e,r,n){return mt.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.yi.get(r);return mt.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.ds=n,this.As=a}static Rs(e,r){let n=Pr(),a=Pr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new Jv(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return _C()?8:pD(Xs())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,a){const s={result:null};return this.ws(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,r,a,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new VL;return this.Ss(e,r,o).next(c=>{if(s.result=c,this.fs)return this.Ds(e,r,o,c.size)})}).next(()=>s.result)}Ds(e,r,n,a){return n.documentReadCount<this.gs?(lh()<=Or.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",ch(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),mt.resolve()):(lh()<=Or.DEBUG&&Ft("QueryEngine","Query:",ch(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ps*a?(lh()<=Or.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",ch(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tc(r))):mt.resolve())}ws(e,r){if(t4(r))return mt.resolve(null);let n=tc(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=l1(r,null,"F"),n=tc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=Pr(...s);return this.ys.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(h=>{const d=this.vs(r,c);return this.Cs(r,d,o,h.readTime)?this.ws(e,l1(r,null,"F")):this.Fs(e,d,r,h)}))})))}bs(e,r,n,a){return t4(r)||a.isEqual(fr.min())?mt.resolve(null):this.ys.getDocuments(e,n).next(s=>{const o=this.vs(r,s);return this.Cs(r,o,n,a)?mt.resolve(null):(lh()<=Or.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ch(r)),this.Fs(e,o,r,uD(a,_m)).next(c=>c))})}vs(e,r){let n=new Ua(XE(e));return r.forEach((a,s)=>{H1(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,r,n){return lh()<=Or.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",ch(r)),this.ys.getDocumentsMatchingQuery(e,r,d0.min(),n)}Fs(e,r,n,a){return this.ys.getDocumentsMatchingQuery(e,n,a).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LocalStore",qL=3e8;class HL{constructor(e,r,n,a){this.persistence=e,this.Ms=r,this.serializer=a,this.xs=new Kn(Ar),this.Os=new wf(s=>zv(s),qv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DL(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function GL(t,e,r,n){return new HL(t,e,r,n)}async function vA(t,e){const r=mr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(s=>(a=s,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],c=[];let h=Pr();for(const d of a){o.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of s){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return r.localDocuments.getDocuments(n,h).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:c}))})})}function $L(t,e){const r=mr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),s=r.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,p){const y=d.batch,v=y.keys();let b=mt.resolve();return v.forEach(E=>{b=b.next(()=>p.getEntry(h,E)).next(k=>{const A=d.docVersions.get(E);un(A!==null,48541),k.version.compareTo(A)<0&&(y.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),p.addEntry(k)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let h=Pr();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function bA(t){const e=mr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function KL(t,e){const r=mr(t),n=e.snapshotVersion;let a=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r.Bs.newChangeBuffer({trackRemovals:!0});a=r.xs;const c=[];e.targetChanges.forEach((p,y)=>{const v=a.get(y);if(!v)return;c.push(r.Ti.removeMatchingKeys(s,p.removedDocuments,y).next(()=>r.Ti.addMatchingKeys(s,p.addedDocuments,y)));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(ss.EMPTY_BYTE_STRING,fr.min()).withLastLimboFreeSnapshotVersion(fr.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),a=a.insert(y,b),function(k,A,N){return k.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=qL?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(v,b,p)&&c.push(r.Ti.updateTargetData(s,b))});let h=nu(),d=Pr();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(WL(s,o,e.documentUpdates).next(p=>{h=p.qs,d=p.Qs})),!n.isEqual(fr.min())){const p=r.Ti.getLastRemoteSnapshotVersion(s).next(y=>r.Ti.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(p)}return mt.waitFor(c).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,h,d)).next(()=>h)}).then(s=>(r.xs=a,s))}function WL(t,e,r){let n=Pr(),a=Pr();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=nu();return r.forEach((c,h)=>{const d=s.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(c)),h.isNoDocument()&&h.version.isEqual(fr.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):Ft(Zv,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:o,Qs:a}})}function YL(t,e){const r=mr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Bv),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function XL(t,e){const r=mr(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Ti.getTargetData(n,e).next(s=>s?(a=s,mt.resolve(a)):r.Ti.allocateTargetId(n).next(o=>(a=new n0(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ti.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.xs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.xs=r.xs.insert(n.targetId,n),r.Os.set(e,n.targetId)),n})}async function jy(t,e,r){const n=mr(t),a=n.xs.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,a))}catch(o){if(!Yh(o))throw o;Ft(Zv,`Failed to update sequence numbers for target ${e}: ${o}`)}n.xs=n.xs.remove(e),n.Os.delete(a.target)}function m4(t,e,r){const n=mr(t);let a=fr.min(),s=Pr();return n.persistence.runTransaction("Execute query","readwrite",o=>function(h,d,p){const y=mr(h),v=y.Os.get(p);return v!==void 0?mt.resolve(y.xs.get(v)):y.Ti.getTargetData(d,p)}(n,o,tc(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(o,c.targetId).next(h=>{s=h})}).next(()=>n.Ms.getDocumentsMatchingQuery(o,e,r?a:fr.min(),r?s:Pr())).next(c=>(QL(n,PD(e),c),{documents:c,$s:s})))}function QL(t,e,r){let n=t.Ns.get(e)||fr.min();r.forEach((a,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Ns.set(e,n)}class p4{constructor(){this.activeTargetIds=zD()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JL{constructor(){this.xo=new p4,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new p4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="ConnectivityMonitor";class x4{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ft(g4,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ft(g4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg=null;function Oy(){return mg===null?mg=function(){return 268435456+Math.round(2147483648*Math.random())}():mg++,"0x"+mg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="RestConnection",ej={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tj{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${a}`,this.Go=this.databaseId.database===s1?`project_id=${n}`:`project_id=${n}&database_id=${a}`}zo(e,r,n,a,s){const o=Oy(),c=this.jo(e,r.toUriEncodedString());Ft(V2,`Sending RPC '${e}' ${o}:`,c,n);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,a,s);const{host:d}=new URL(c),p=Hh(d);return this.Jo(e,c,h,n,p).then(y=>(Ft(V2,`Received RPC '${e}' ${o}: `,y),y),y=>{throw hf(V2,`RPC '${e}' ${o} failed with error: `,y,"url: ",c,"request:",n),y})}Yo(e,r,n,a,s,o){return this.zo(e,r,n,a,s)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>e[s]=a),n&&n.headers.forEach((a,s)=>e[s]=a)}jo(e,r){const n=ej[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="WebChannelConnection";class nj extends tj{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,s){const o=Oy();return new Promise((c,h)=>{const d=new kE;d.setWithCredentials(!0),d.listenOnce(EE.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Fg.NO_ERROR:const y=d.getResponseJson();Ft(Ds,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case Fg.TIMEOUT:Ft(Ds,`RPC '${e}' ${o} timed out`),h(new Pt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Fg.HTTP_ERROR:const v=d.getStatus();if(Ft(Ds,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b==null?void 0:b.error;if(E&&E.status&&E.message){const k=function(N){const I=N.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(I)>=0?I:dt.UNKNOWN}(E.status);h(new Pt(k,E.message))}else h(new Pt(dt.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Pt(dt.UNAVAILABLE,"Connection failed."));break;default:ir(9055,{h_:e,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Ft(Ds,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ft(Ds,`RPC '${e}' ${o} sending request:`,a),d.send(r,"POST",p,n,15)})}I_(e,r,n){const a=Oy(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TE(),c=SE(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,r,n),h.encodeInitMessageHeaders=!0;const p=s.join("");Ft(Ds,`Creating RPC '${e}' stream ${a}: ${p}`,h);const y=o.createWebChannel(p,h);this.E_(y);let v=!1,b=!1;const E=new rj({Zo:A=>{b?Ft(Ds,`Not sending because RPC '${e}' stream ${a} is closed:`,A):(v||(Ft(Ds,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),Ft(Ds,`RPC '${e}' stream ${a} sending:`,A),y.send(A))},Xo:()=>y.close()}),k=(A,N,I)=>{A.listen(N,P=>{try{I(P)}catch(z){setTimeout(()=>{throw z},0)}})};return k(y,Kd.EventType.OPEN,()=>{b||(Ft(Ds,`RPC '${e}' stream ${a} transport opened.`),E.__())}),k(y,Kd.EventType.CLOSE,()=>{b||(b=!0,Ft(Ds,`RPC '${e}' stream ${a} transport closed`),E.u_(),this.d_(y))}),k(y,Kd.EventType.ERROR,A=>{b||(b=!0,hf(Ds,`RPC '${e}' stream ${a} transport errored. Name:`,A.name,"Message:",A.message),E.u_(new Pt(dt.UNAVAILABLE,"The operation could not be completed")))}),k(y,Kd.EventType.MESSAGE,A=>{var N;if(!b){const I=A.data[0];un(!!I,16349);const P=I,z=(P==null?void 0:P.error)||((N=P[0])===null||N===void 0?void 0:N.error);if(z){Ft(Ds,`RPC '${e}' stream ${a} received error:`,z);const G=z.status;let W=function(R){const U=Ea[R];if(U!==void 0)return oA(U)}(G),j=z.message;W===void 0&&(W=dt.INTERNAL,j="Unknown error status: "+G+" with message "+z.message),b=!0,E.u_(new Pt(W,j)),y.close()}else Ft(Ds,`RPC '${e}' stream ${a} received:`,I),E.c_(I)}}),k(c,AE.STAT_EVENT,A=>{A.stat===ky.PROXY?Ft(Ds,`RPC '${e}' stream ${a} detected buffering proxy`):A.stat===ky.NOPROXY&&Ft(Ds,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(r=>r===e)}}function z2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t){return new oL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,r,n=1e3,a=1.5,s=6e4){this.xi=e,this.timerId=r,this.A_=n,this.R_=a,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const r=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),a=Math.max(0,r-n);a>0&&Ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="PersistentStream";class _A{constructor(e,r,n,a,s,o,c,h){this.xi=e,this.S_=n,this.D_=a,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new wA(e,r)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,r){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():r&&r.code===dt.RESOURCE_EXHAUSTED?(ru(r.toString()),ru("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):r&&r.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),r=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.v_===r&&this.z_(n,a)},n=>{e(()=>{const a=new Pt(dt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(a)})})}z_(e,r){const n=this.G_(this.v_);this.stream=this.H_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{n(()=>this.j_(a))}),this.stream.onMessage(a=>{n(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ft(y4,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return r=>{this.xi.enqueueAndForget(()=>this.v_===e?r():(Ft(y4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aj extends _A{constructor(e,r,n,a,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,o),this.serializer=s}H_(e,r){return this.connection.I_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const r=uL(this.serializer,e),n=function(s){if(!("targetChange"in s))return fr.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?fr.min():o.readTime?rc(o.readTime):fr.min()}(e);return this.listener.Y_(r,n)}Z_(e){const r={};r.database=Ly(this.serializer),r.addTarget=function(s,o){let c;const h=o.target;if(c=Ny(h)?{documents:dL(s,h)}:{query:mL(s,h).gt},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=uA(s,o.resumeToken);const d=Ry(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(fr.min())>0){c.readTime=u1(s,o.snapshotVersion.toTimestamp());const d=Ry(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const n=gL(this.serializer,e);n&&(r.labels=n),this.Q_(r)}X_(e){const r={};r.database=Ly(this.serializer),r.removeTarget=e,this.Q_(r)}}class sj extends _A{constructor(e,r,n,a,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,r){return this.connection.I_("Write",e,r)}J_(e){return un(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,un(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){un(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const r=hL(e.writeResults,e.commitTime),n=rc(e.commitTime);return this.listener.ra(n,r)}ia(){const e={};e.database=Ly(this.serializer),this.Q_(e)}ta(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>fL(this.serializer,n))};this.Q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{}class oj extends ij{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Pt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,Iy(r,n),a,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pt(dt.UNKNOWN,s.toString())})}Yo(e,r,n,a,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Yo(e,Iy(r,n),a,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pt(dt.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class lj{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ru(r),this.ua=!1):Ft("OnlineStateTracker",r)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="RemoteStore";class cj{constructor(e,r,n,a,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{n.enqueueAndForget(async()=>{_f(this)&&(Ft(df,"Restarting streams for network reachability change."),await async function(h){const d=mr(h);d.da.add(4),await Qm(d),d.Va.set("Unknown"),d.da.delete(4),await Y1(d)}(this))})}),this.Va=new lj(n,a)}}async function Y1(t){if(_f(t))for(const e of t.Aa)await e(!0)}async function Qm(t){for(const e of t.Aa)await e(!1)}function kA(t,e){const r=mr(t);r.Ea.has(e.targetId)||(r.Ea.set(e.targetId,e),n5(r)?r5(r):Qh(r).N_()&&t5(r,e))}function e5(t,e){const r=mr(t),n=Qh(r);r.Ea.delete(e),n.N_()&&EA(r,e),r.Ea.size===0&&(n.N_()?n.k_():_f(r)&&r.Va.set("Unknown"))}function t5(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Qh(t).Z_(e)}function EA(t,e){t.ma.Ke(e),Qh(t).X_(e)}function r5(t){t.ma=new nL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Qh(t).start(),t.Va.ca()}function n5(t){return _f(t)&&!Qh(t).O_()&&t.Ea.size>0}function _f(t){return mr(t).da.size===0}function AA(t){t.ma=void 0}async function uj(t){t.Va.set("Online")}async function fj(t){t.Ea.forEach((e,r)=>{t5(t,e)})}async function hj(t,e){AA(t),n5(t)?(t.Va.Pa(e),r5(t)):t.Va.set("Unknown")}async function dj(t,e,r){if(t.Va.set("Online"),e instanceof cA&&e.state===2&&e.cause)try{await async function(a,s){const o=s.cause;for(const c of s.targetIds)a.Ea.has(c)&&(await a.remoteSyncer.rejectListen(c,o),a.Ea.delete(c),a.ma.removeTarget(c))}(t,e)}catch(n){Ft(df,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await h1(t,n)}else if(e instanceof Vg?t.ma.Xe(e):e instanceof lA?t.ma.ot(e):t.ma.nt(e),!r.isEqual(fr.min()))try{const n=await bA(t.localStore);r.compareTo(n)>=0&&await function(s,o){const c=s.ma.It(o);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.Ea.get(d);p&&s.Ea.set(d,p.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,d)=>{const p=s.Ea.get(h);if(!p)return;s.Ea.set(h,p.withResumeToken(ss.EMPTY_BYTE_STRING,p.snapshotVersion)),EA(s,h);const y=new n0(p.target,h,d,p.sequenceNumber);t5(s,y)}),s.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){Ft(df,"Failed to raise snapshot:",n),await h1(t,n)}}async function h1(t,e,r){if(!Yh(e))throw e;t.da.add(1),await Qm(t),t.Va.set("Offline"),r||(r=()=>bA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ft(df,"Retrying IndexedDB access"),await r(),t.da.delete(1),await Y1(t)})}function SA(t,e){return e().catch(r=>h1(t,r,e))}async function X1(t){const e=mr(t),r=x0(e);let n=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Bv;for(;mj(e);)try{const a=await YL(e.localStore,n);if(a===null){e.Ia.length===0&&r.k_();break}n=a.batchId,pj(e,a)}catch(a){await h1(e,a)}TA(e)&&NA(e)}function mj(t){return _f(t)&&t.Ia.length<10}function pj(t,e){t.Ia.push(e);const r=x0(t);r.N_()&&r.ea&&r.ta(e.mutations)}function TA(t){return _f(t)&&!x0(t).O_()&&t.Ia.length>0}function NA(t){x0(t).start()}async function gj(t){x0(t).ia()}async function xj(t){const e=x0(t);for(const r of t.Ia)e.ta(r.mutations)}async function yj(t,e,r){const n=t.Ia.shift(),a=Kv.from(n,e,r);await SA(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await X1(t)}async function vj(t,e){e&&x0(t).ea&&await async function(n,a){if(function(o){return tL(o)&&o!==dt.ABORTED}(a.code)){const s=n.Ia.shift();x0(n).L_(),await SA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await X1(n)}}(t,e),TA(t)&&NA(t)}async function v4(t,e){const r=mr(t);r.asyncQueue.verifyOperationInProgress(),Ft(df,"RemoteStore received new credentials");const n=_f(r);r.da.add(3),await Qm(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.da.delete(3),await Y1(r)}async function bj(t,e){const r=mr(t);e?(r.da.delete(2),await Y1(r)):e||(r.da.add(2),await Qm(r),r.Va.set("Unknown"))}function Qh(t){return t.fa||(t.fa=function(r,n,a){const s=mr(r);return s.oa(),new aj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{e_:uj.bind(null,t),n_:fj.bind(null,t),i_:hj.bind(null,t),Y_:dj.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),n5(t)?r5(t):t.Va.set("Unknown")):(await t.fa.stop(),AA(t))})),t.fa}function x0(t){return t.ga||(t.ga=function(r,n,a){const s=mr(r);return s.oa(),new sj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:gj.bind(null,t),i_:vj.bind(null,t),na:xj.bind(null,t),ra:yj.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await X1(t)):(await t.ga.stop(),t.Ia.length>0&&(Ft(df,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,r,n,a,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new Kc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,s){const o=Date.now()+n,c=new a5(e,r,o,a,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pt(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s5(t,e){if(ru("AsyncQueue",`${e}: ${t}`),Yh(t))return new Pt(dt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{static emptySet(e){return new _h(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Yt.comparator(r.key,n.key):(r,n)=>Yt.comparator(r.key,n.key),this.keyedMap=Wd(),this.sortedSet=new Kn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof _h)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new _h;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.pa=new Kn(Yt.comparator)}track(e){const r=e.doc.key,n=this.pa.get(r);n?e.type!==0&&n.type===3?this.pa=this.pa.insert(r,e):e.type===3&&n.type!==1?this.pa=this.pa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.pa=this.pa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.pa=this.pa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.pa=this.pa.remove(r):e.type===1&&n.type===2?this.pa=this.pa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.pa=this.pa.insert(r,{type:2,doc:e.doc}):ir(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(r,e)}wa(){const e=[];return this.pa.inorderTraversal((r,n)=>{e.push(n)}),e}}class Fh{constructor(e,r,n,a,s,o,c,h,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,a,s){const o=[];return r.forEach(c=>{o.push({type:0,doc:c})}),new Fh(e,r,_h.emptySet(r),o,n,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&q1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class _j{constructor(){this.queries=w4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=mr(r),s=a.queries;a.queries=w4(),s.forEach((o,c)=>{for(const h of c.Sa)h.onError(n)})})(this,new Pt(dt.ABORTED,"Firestore shutting down"))}}function w4(){return new wf(t=>YE(t),q1)}async function CA(t,e){const r=mr(t);let n=3;const a=e.query;let s=r.queries.get(a);s?!s.Da()&&e.va()&&(n=2):(s=new wj,n=e.va()?0:1);try{switch(n){case 0:s.ba=await r.onListen(a,!0);break;case 1:s.ba=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(o){const c=s5(o,`Initialization of query '${ch(e.query)}' failed`);return void e.onError(c)}r.queries.set(a,s),s.Sa.push(e),e.Fa(r.onlineState),s.ba&&e.Ma(s.ba)&&i5(r)}async function RA(t,e){const r=mr(t),n=e.query;let a=3;const s=r.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?a=e.va()?0:1:!s.Da()&&e.va()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function kj(t,e){const r=mr(t);let n=!1;for(const a of e){const s=a.query,o=r.queries.get(s);if(o){for(const c of o.Sa)c.Ma(a)&&(n=!0);o.ba=a}}n&&i5(r)}function Ej(t,e,r){const n=mr(t),a=n.queries.get(e);if(a)for(const s of a.Sa)s.onError(r);n.queries.delete(e)}function i5(t){t.Ca.forEach(e=>{e.next()})}var Py,_4;(_4=Py||(Py={})).xa="default",_4.Cache="cache";class IA{constructor(e,r,n){this.query=e,this.Oa=r,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Fh(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Na?this.La(e)&&(this.Oa.next(e),r=!0):this.ka(e,this.onlineState)&&(this.qa(e),r=!0),this.Ba=e,r}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let r=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),r=!0),r}ka(e,r){if(!e.fromCache||!this.va())return!0;const n=r!=="Offline";return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}La(e){if(e.docChanges.length>0)return!0;const r=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}qa(e){e=Fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Py.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.key=e}}class LA{constructor(e){this.key=e}}class Aj{constructor(e,r){this.query=e,this.Ha=r,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pr(),this.mutatedKeys=Pr(),this.Za=XE(e),this.Xa=new _h(this.Za)}get eu(){return this.Ha}tu(e,r){const n=r?r.nu:new b4,a=r?r.Xa:this.Xa;let s=r?r.mutatedKeys:this.mutatedKeys,o=a,c=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((p,y)=>{const v=a.get(p),b=H1(this.query,y)?y:null,E=!!v&&this.mutatedKeys.has(v.key),k=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let A=!1;v&&b?v.data.isEqual(b.data)?E!==k&&(n.track({type:3,doc:b}),A=!0):this.ru(v,b)||(n.track({type:2,doc:b}),A=!0,(h&&this.Za(b,h)>0||d&&this.Za(b,d)<0)&&(c=!0)):!v&&b?(n.track({type:0,doc:b}),A=!0):v&&!b&&(n.track({type:1,doc:v}),A=!0,(h||d)&&(c=!0)),A&&(b?(o=o.add(b),s=k?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{Xa:o,nu:n,Cs:c,mutatedKeys:s}}ru(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((p,y)=>function(b,E){const k=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ir(20277,{Vt:A})}};return k(b)-k(E)}(p.type,y.type)||this.Za(p.doc,y.doc)),this.iu(n),a=a!=null&&a;const c=r&&!a?this.su():[],h=this.Ya.size===0&&this.current&&!a?1:0,d=h!==this.Ja;return this.Ja=h,o.length!==0||d?{snapshot:new Fh(this.query,e.Xa,s,o,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new b4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(r=>this.Ha=this.Ha.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ha=this.Ha.delete(r)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Pr(),this.Xa.forEach(n=>{this._u(n.key)&&(this.Ya=this.Ya.add(n.key))});const r=[];return e.forEach(n=>{this.Ya.has(n)||r.push(new LA(n))}),this.Ya.forEach(n=>{e.has(n)||r.push(new DA(n))}),r}au(e){this.Ha=e.$s,this.Ya=Pr();const r=this.tu(e.documents);return this.applyChanges(r,!0)}uu(){return Fh.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const o5="SyncEngine";class Sj{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Tj{constructor(e){this.key=e,this.cu=!1}}class Nj{constructor(e,r,n,a,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new wf(c=>YE(c),q1),this.Pu=new Map,this.Tu=new Set,this.Iu=new Kn(Yt.comparator),this.Eu=new Map,this.du=new Xv,this.Au={},this.Ru=new Map,this.Vu=Ph.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Cj(t,e,r=!0){const n=BA(t);let a;const s=n.hu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.uu()):a=await jA(n,e,r,!0),a}async function Rj(t,e){const r=BA(t);await jA(r,e,!0,!1)}async function jA(t,e,r,n){const a=await XL(t.localStore,tc(e)),s=a.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let c;return n&&(c=await Ij(t,e,s,o==="current",a.resumeToken)),t.isPrimaryClient&&r&&kA(t.remoteStore,a),c}async function Ij(t,e,r,n,a){t.fu=(y,v,b)=>async function(k,A,N,I){let P=A.view.tu(N);P.Cs&&(P=await m4(k.localStore,A.query,!1).then(({documents:j})=>A.view.tu(j,P)));const z=I&&I.targetChanges.get(A.targetId),G=I&&I.targetMismatches.get(A.targetId)!=null,W=A.view.applyChanges(P,k.isPrimaryClient,z,G);return E4(k,A.targetId,W.ou),W.snapshot}(t,y,v,b);const s=await m4(t.localStore,e,!0),o=new Aj(e,s.$s),c=o.tu(s.documents),h=Xm.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),d=o.applyChanges(c,t.isPrimaryClient,h);E4(t,r,d.ou);const p=new Sj(e,r,o);return t.hu.set(e,p),t.Pu.has(r)?t.Pu.get(r).push(e):t.Pu.set(r,[e]),d.snapshot}async function Dj(t,e,r){const n=mr(t),a=n.hu.get(e),s=n.Pu.get(a.targetId);if(s.length>1)return n.Pu.set(a.targetId,s.filter(o=>!q1(o,e))),void n.hu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await jy(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&e5(n.remoteStore,a.targetId),Fy(n,a.targetId)}).catch(Wh)):(Fy(n,a.targetId),await jy(n.localStore,a.targetId,!0))}async function Lj(t,e){const r=mr(t),n=r.hu.get(e),a=r.Pu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),e5(r.remoteStore,n.targetId))}async function jj(t,e,r){const n=Vj(t);try{const a=await function(o,c){const h=mr(o),d=Na.now(),p=c.reduce((b,E)=>b.add(E.key),Pr());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let E=nu(),k=Pr();return h.Bs.getEntries(b,p).next(A=>{E=A,E.forEach((N,I)=>{I.isValidDocument()||(k=k.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,E)).next(A=>{y=A;const N=[];for(const I of c){const P=XD(I,y.get(I.key).overlayedDocument);P!=null&&N.push(new A0(I.key,P,VE(P.value.mapValue),To.exists(!0)))}return h.mutationQueue.addMutationBatch(b,d,N,c)}).next(A=>{v=A;const N=A.applyToLocalDocumentSet(y,k);return h.documentOverlayCache.saveOverlays(b,A.batchId,N)})}).then(()=>({batchId:v.batchId,changes:JE(y)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(o,c,h){let d=o.Au[o.currentUser.toKey()];d||(d=new Kn(Ar)),d=d.insert(c,h),o.Au[o.currentUser.toKey()]=d}(n,a.batchId,r),await Jm(n,a.changes),await X1(n.remoteStore)}catch(a){const s=s5(a,"Failed to persist write");r.reject(s)}}async function OA(t,e){const r=mr(t);try{const n=await KL(r.localStore,e);e.targetChanges.forEach((a,s)=>{const o=r.Eu.get(s);o&&(un(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?o.cu=!0:a.modifiedDocuments.size>0?un(o.cu,14607):a.removedDocuments.size>0&&(un(o.cu,42227),o.cu=!1))}),await Jm(r,n,e)}catch(n){await Wh(n)}}function k4(t,e,r){const n=mr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.hu.forEach((s,o)=>{const c=o.view.Fa(e);c.snapshot&&a.push(c.snapshot)}),function(o,c){const h=mr(o);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const v of y.Sa)v.Fa(c)&&(d=!0)}),d&&i5(h)}(n.eventManager,e),a.length&&n.lu.Y_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Oj(t,e,r){const n=mr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Eu.get(e),s=a&&a.key;if(s){let o=new Kn(Yt.comparator);o=o.insert(s,Vs.newNoDocument(s,fr.min()));const c=Pr().add(s),h=new K1(fr.min(),new Map,new Kn(Ar),o,c);await OA(n,h),n.Iu=n.Iu.remove(s),n.Eu.delete(e),l5(n)}else await jy(n.localStore,e,!1).then(()=>Fy(n,e,r)).catch(Wh)}async function Pj(t,e){const r=mr(t),n=e.batch.batchId;try{const a=await $L(r.localStore,e);FA(r,n,null),PA(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Jm(r,a)}catch(a){await Wh(a)}}async function Fj(t,e,r){const n=mr(t);try{const a=await function(o,c){const h=mr(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(un(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(n.localStore,e);FA(n,e,r),PA(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Jm(n,a)}catch(a){await Wh(a)}}function PA(t,e){(t.Ru.get(e)||[]).forEach(r=>{r.resolve()}),t.Ru.delete(e)}function FA(t,e,r){const n=mr(t);let a=n.Au[n.currentUser.toKey()];if(a){const s=a.get(e);s&&(r?s.reject(r):s.resolve(),a=a.remove(e)),n.Au[n.currentUser.toKey()]=a}}function Fy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Pu.get(e))t.hu.delete(n),r&&t.lu.gu(n,r);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(n=>{t.du.containsKey(n)||MA(t,n)})}function MA(t,e){t.Tu.delete(e.path.canonicalString());const r=t.Iu.get(e);r!==null&&(e5(t.remoteStore,r),t.Iu=t.Iu.remove(e),t.Eu.delete(r),l5(t))}function E4(t,e,r){for(const n of r)n instanceof DA?(t.du.addReference(n.key,e),Mj(t,n)):n instanceof LA?(Ft(o5,"Document no longer in limbo: "+n.key),t.du.removeReference(n.key,e),t.du.containsKey(n.key)||MA(t,n.key)):ir(19791,{pu:n})}function Mj(t,e){const r=e.key,n=r.path.canonicalString();t.Iu.get(r)||t.Tu.has(n)||(Ft(o5,"New document in limbo: "+r),t.Tu.add(n),l5(t))}function l5(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const r=new Yt(Dn.fromString(e)),n=t.Vu.next();t.Eu.set(n,new Tj(r)),t.Iu=t.Iu.insert(r,n),kA(t.remoteStore,new n0(tc(Hv(r.path)),n,"TargetPurposeLimboResolution",U1.le))}}async function Jm(t,e,r){const n=mr(t),a=[],s=[],o=[];n.hu.isEmpty()||(n.hu.forEach((c,h)=>{o.push(n.fu(h,e,r).then(d=>{var p;if((d||r)&&n.isPrimaryClient){const y=d?!d.fromCache:(p=r==null?void 0:r.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){a.push(d);const y=Jv.Rs(h.targetId,d);s.push(y)}}))}),await Promise.all(o),n.lu.Y_(a),await async function(h,d){const p=mr(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>mt.forEach(d,v=>mt.forEach(v.ds,b=>p.persistence.referenceDelegate.addReference(y,v.targetId,b)).next(()=>mt.forEach(v.As,b=>p.persistence.referenceDelegate.removeReference(y,v.targetId,b)))))}catch(y){if(!Yh(y))throw y;Ft(Zv,"Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const b=p.xs.get(v),E=b.snapshotVersion,k=b.withLastLimboFreeSnapshotVersion(E);p.xs=p.xs.insert(v,k)}}}(n.localStore,s))}async function Bj(t,e){const r=mr(t);if(!r.currentUser.isEqual(e)){Ft(o5,"User change. New user:",e.toKey());const n=await vA(r.localStore,e);r.currentUser=e,function(s,o){s.Ru.forEach(c=>{c.forEach(h=>{h.reject(new Pt(dt.CANCELLED,o))})}),s.Ru.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Jm(r,n.ks)}}function Uj(t,e){const r=mr(t),n=r.Eu.get(e);if(n&&n.cu)return Pr().add(n.key);{let a=Pr();const s=r.Pu.get(e);if(!s)return a;for(const o of s){const c=r.hu.get(o);a=a.unionWith(c.view.eu)}return a}}function BA(t){const e=mr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Oj.bind(null,e),e.lu.Y_=kj.bind(null,e.eventManager),e.lu.gu=Ej.bind(null,e.eventManager),e}function Vj(t){const e=mr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fj.bind(null,e),e}class d1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=W1(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,r){return null}Cu(e,r){return null}Du(e){return GL(this.persistence,new zL,e.initialUser,this.serializer)}Su(e){return new yA(Qv.fi,this.serializer)}bu(e){return new JL}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}d1.provider={build:()=>new d1};class zj extends d1{constructor(e){super(),this.cacheSizeBytes=e}vu(e,r){un(this.persistence.referenceDelegate instanceof f1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new TL(n,e.asyncQueue,r)}Su(e){const r=this.cacheSizeBytes!==void 0?Si.withCacheSize(this.cacheSizeBytes):Si.DEFAULT;return new yA(n=>f1.fi(n,r),this.serializer)}}class My{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>k4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bj.bind(null,this.syncEngine),await bj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _j}()}createDatastore(e){const r=W1(e.databaseInfo.databaseId),n=function(s){return new nj(s)}(e.databaseInfo);return function(s,o,c,h){return new oj(s,o,c,h)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,s,o,c){return new cj(n,a,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,r=>k4(this.syncEngine,r,0),function(){return x4.C()?new x4:new ZL}())}createSyncEngine(e,r){return function(a,s,o,c,h,d,p){const y=new Nj(a,s,o,c,h,d);return p&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const s=mr(a);Ft(df,"RemoteStore shutting down."),s.da.add(5),await Qm(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}My.provider={build:()=>new My};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ru("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="FirestoreClient";class qj{constructor(e,r,n,a,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Bs.UNAUTHENTICATED,this.clientId=Mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Ft(y0,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ft(y0,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=s5(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function q2(t,e){t.asyncQueue.verifyOperationInProgress(),Ft(y0,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await vA(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Hj(t);Ft(y0,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>v4(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>v4(e.remoteStore,a)),t._onlineComponents=e}async function Hj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ft(y0,"Using user provided OfflineComponentProvider");try{await q2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===dt.FAILED_PRECONDITION||a.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;hf("Error using user provided cache. Falling back to memory cache: "+r),await q2(t,new d1)}}else Ft(y0,"Using default OfflineComponentProvider"),await q2(t,new zj(void 0));return t._offlineComponents}async function VA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ft(y0,"Using user provided OnlineComponentProvider"),await A4(t,t._uninitializedComponentsProvider._online)):(Ft(y0,"Using default OnlineComponentProvider"),await A4(t,new My))),t._onlineComponents}function Gj(t){return VA(t).then(e=>e.syncEngine)}async function zA(t){const e=await VA(t),r=e.eventManager;return r.onListen=Cj.bind(null,e.syncEngine),r.onUnlisten=Dj.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Rj.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Lj.bind(null,e.syncEngine),r}function $j(t,e,r={}){const n=new Kc;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,h,d){const p=new UA({next:v=>{p.xu(),o.enqueueAndForget(()=>RA(s,y));const b=v.docs.has(c);!b&&v.fromCache?d.reject(new Pt(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?d.reject(new Pt(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new IA(Hv(c.path),p,{includeMetadataChanges:!0,Qa:!0});return CA(s,y)}(await zA(t),t.asyncQueue,e,r,n)),n.promise}function Kj(t,e,r={}){const n=new Kc;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,h,d){const p=new UA({next:v=>{p.xu(),o.enqueueAndForget(()=>RA(s,y)),v.fromCache&&h.source==="server"?d.reject(new Pt(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new IA(c,p,{includeMetadataChanges:!0,Qa:!0});return CA(s,y)}(await zA(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t,e,r){if(!r)throw new Pt(dt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GA(t,e,r,n){if(e===!0&&n===!0)throw new Pt(dt.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function T4(t){if(!Yt.isDocumentKey(t))throw new Pt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N4(t){if(Yt.isDocumentKey(t))throw new Pt(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Q1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ir(12329,{type:typeof t})}function Co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Q1(t);throw new Pt(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firestore.googleapis.com",C4=!0;class R4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Pt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$A,this.ssl=C4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:C4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AL)throw new Pt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qA((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class J1{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new RE;switch(n.type){case"firstParty":return new sD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=S4.get(r);n&&(Ft("ComponentProvider","Removing Datastore"),S4.delete(r),n.terminate())}(this),Promise.resolve()}}function KA(t,e,r,n={}){var a;t=Co(t,J1);const s=Hh(e),o=t._getSettings(),c=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${r}`;s&&(jk(`https://${h}`),Ok("Firestore",!0)),o.host!==$A&&o.host!==h&&hf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:s,emulatorOptions:n});if(!of(d,c)&&(t._setSettings(d),n.mockUserToken)){let p,y;if(typeof n.mockUserToken=="string")p=n.mockUserToken,y=Bs.MOCK_USER;else{p=dC(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const v=n.mockUserToken.sub||n.mockUserToken.user_id;if(!v)throw new Pt(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Bs(v)}t._authCredentials=new rD(new CE(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fu(this.firestore,e,this._query)}}class Ws{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ws(this.firestore,e,this._key)}}class Wc extends fu{constructor(e,r,n){super(e,r,Hv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ws(this.firestore,null,new Yt(e))}withConverter(e){return new Wc(this.firestore,e,this._path)}}function Sr(t,e,...r){if(t=as(t),HA("collection","path",e),t instanceof J1){const n=Dn.fromString(e,...r);return N4(n),new Wc(t,null,n)}{if(!(t instanceof Ws||t instanceof Wc))throw new Pt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dn.fromString(e,...r));return N4(n),new Wc(t.firestore,null,n)}}function on(t,e,...r){if(t=as(t),arguments.length===1&&(e=Mv.newId()),HA("doc","path",e),t instanceof J1){const n=Dn.fromString(e,...r);return T4(n),new Ws(t,null,new Yt(n))}{if(!(t instanceof Ws||t instanceof Wc))throw new Pt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dn.fromString(e,...r));return T4(n),new Ws(t.firestore,t instanceof Wc?t.converter:null,new Yt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="AsyncQueue";class D4{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new wA(this,"async_queue_retry"),this.rc=()=>{const n=z2();n&&Ft(I4,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=e;const r=z2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const r=z2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const r=new Kc;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Yh(e))throw e;Ft(I4,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const r=this.sc.then(()=>(this.ec=!0,e().catch(n=>{throw this.Xu=n,this.ec=!1,ru("INTERNAL UNHANDLED ERROR: ",L4(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=r,r}enqueueAfterDelay(e,r,n){this.oc(),this.nc.indexOf(e)>-1&&(r=0);const a=a5.createAndSchedule(this,e,r,n,s=>this.uc(s));return this.Zu.push(a),a}oc(){this.Xu&&ir(47125,{cc:L4(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const r of this.Zu)if(r.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Zu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const r=this.Zu.indexOf(e);this.Zu.splice(r,1)}}function L4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class S0 extends J1{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new D4,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D4(e),this._firestoreClient=void 0,await e}}}function WA(t,e){const r=typeof t=="object"?t:Bk(),n=typeof t=="string"?t:s1,a=Tv(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=fC("firestore");s&&KA(a,...s)}return a}function Z1(t){if(t._terminated)throw new Pt(dt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Wj(t),t._firestoreClient}function Wj(t){var e,r,n;const a=t._freezeSettings(),s=function(c,h,d,p){return new bD(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new qj(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mf(ss.fromBase64String(e))}catch(r){throw new Pt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new mf(ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Pt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Pt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Pt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ar(this._lat,e._lat)||Ar(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=/^__.*__$/;class Xj{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new A0(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ym(e,this.data,r,this.fieldTransforms)}}class YA{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new A0(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function XA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ir(40011,{Ic:t})}}class c5{constructor(e,r,n,a,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new c5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.dc({path:n,Rc:!1});return a.Vc(e),a}mc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.dc({path:n,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return m1(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(XA(this.Ic)&&Yj.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Qj{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||W1(e)}bc(e,r,n,a=!1){return new c5({Ic:e,methodName:r,wc:n,path:rs.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rx(t){const e=t._freezeSettings(),r=W1(t._databaseId);return new Qj(t._databaseId,!!e.ignoreUndefinedProperties,r)}function QA(t,e,r,n,a,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,r,a);f5("Data must be an object, but it was:",o,n);const c=JA(n,o);let h,d;if(s.merge)h=new Xi(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const v=By(e,y,r);if(!o.contains(v))throw new Pt(dt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);e6(p,v)||p.push(v)}h=new Xi(p),d=o.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=o.fieldTransforms;return new Xj(new Ti(c),h,d)}class nx extends ep{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nx}}class u5 extends ep{_toFieldTransform(e){return new $D(e.path,new Sm)}isEqual(e){return e instanceof u5}}function Jj(t,e,r,n){const a=t.bc(1,e,r);f5("Data must be an object, but it was:",a,n);const s=[],o=Ti.empty();E0(n,(h,d)=>{const p=h5(e,h,r);d=as(d);const y=a.mc(p);if(d instanceof nx)s.push(p);else{const v=tp(d,y);v!=null&&(s.push(p),o.set(p,v))}});const c=new Xi(s);return new YA(o,c,a.fieldTransforms)}function Zj(t,e,r,n,a,s){const o=t.bc(1,e,r),c=[By(e,n,r)],h=[a];if(s.length%2!=0)throw new Pt(dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(By(e,s[v])),h.push(s[v+1]);const d=[],p=Ti.empty();for(let v=c.length-1;v>=0;--v)if(!e6(d,c[v])){const b=c[v];let E=h[v];E=as(E);const k=o.mc(b);if(E instanceof nx)d.push(b);else{const A=tp(E,k);A!=null&&(d.push(b),p.set(b,A))}}const y=new Xi(d);return new YA(p,y,o.fieldTransforms)}function e9(t,e,r,n=!1){return tp(r,t.bc(n?4:3,e))}function tp(t,e){if(ZA(t=as(t)))return f5("Unsupported field value:",e,t),JA(t,e);if(t instanceof ep)return function(n,a){if(!XA(a.Ic))throw a.gc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(n,a){const s=[];let o=0;for(const c of n){let h=tp(c,a.fc(o));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,a){if((n=as(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return qD(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Na.fromDate(n);return{timestampValue:u1(a.serializer,s)}}if(n instanceof Na){const s=new Na(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:u1(a.serializer,s)}}if(n instanceof ex)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mf)return{bytesValue:uA(a.serializer,n._byteString)};if(n instanceof Ws){const s=a.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw a.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yv(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof tx)return function(o,c){return{mapValue:{fields:{[BE]:{stringValue:UE},[i1]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return Gv(c.serializer,d)})}}}}}}(n,a);throw a.gc(`Unsupported field value: ${Q1(n)}`)}(t,e)}function JA(t,e){const r={};return LE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):E0(t,(n,a)=>{const s=tp(a,e.Ac(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function ZA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Na||t instanceof ex||t instanceof mf||t instanceof Ws||t instanceof ep||t instanceof tx)}function f5(t,e,r){if(!ZA(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=Q1(r);throw n==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+n)}}function By(t,e,r){if((e=as(e))instanceof Zm)return e._internalPath;if(typeof e=="string")return h5(t,e);throw m1("Field path arguments must be of type string or ",t,!1,void 0,r)}const t9=new RegExp("[~\\*/\\[\\]]");function h5(t,e,r){if(e.search(t9)>=0)throw m1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Zm(...e.split("."))._internalPath}catch{throw m1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function m1(t,e,r,n,a){const s=n&&!n.isEmpty(),o=a!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${n}`),o&&(h+=` in document ${a}`),h+=")"),new Pt(dt.INVALID_ARGUMENT,c+t+h)}function e6(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,r,n,a,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ws(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ax("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class r9 extends t6{data(){return super.data()}}function ax(t,e){return typeof e=="string"?h5(t,e):e instanceof Zm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d5{}class sx extends d5{}function zs(t,e,...r){let n=[];e instanceof d5&&n.push(e),n=n.concat(r),function(s){const o=s.filter(h=>h instanceof ix).length,c=s.filter(h=>h instanceof rp).length;if(o>1||o>0&&c>0)throw new Pt(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class rp extends sx{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new rp(e,r,n)}_apply(e){const r=this._parse(e);return a6(e._query,r),new fu(e.firestore,e.converter,Cy(e._query,r))}_parse(e){const r=rx(e.firestore);return function(s,o,c,h,d,p,y){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Pt(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){O4(y,p);const E=[];for(const k of y)E.push(j4(h,s,k));v={arrayValue:{values:E}}}else v=j4(h,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||O4(y,p),v=e9(c,o,y,p==="in"||p==="not-in");return Ta.create(d,p,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function ll(t,e,r){const n=e,a=ax("where",t);return rp._create(a,n,r)}class ix extends d5{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new ix(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:dl.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,s){let o=a;const c=s.getFlattenedFilters();for(const h of c)a6(o,h),o=Cy(o,h)}(e._query,r),new fu(e.firestore,e.converter,Cy(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ox extends sx{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new ox(e,r)}_apply(e){const r=function(a,s,o){if(a.startAt!==null)throw new Pt(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Pt(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Am(s,o)}(e._query,this._field,this._direction);return new fu(e.firestore,e.converter,function(a,s){const o=a.explicitOrderBy.concat([s]);return new Xh(a.path,a.collectionGroup,o,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}function r6(t,e="asc"){const r=e,n=ax("orderBy",t);return ox._create(n,r)}class lx extends sx{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new lx(e,r,n)}_apply(e){return new fu(e.firestore,e.converter,l1(e._query,this._limit,this._limitType))}}function n6(t){return lx._create("limit",t,"F")}function j4(t,e,r){if(typeof(r=as(r))=="string"){if(r==="")throw new Pt(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&r.indexOf("/")!==-1)throw new Pt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Dn.fromString(r));if(!Yt.isDocumentKey(n))throw new Pt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Y_(t,new Yt(n))}if(r instanceof Ws)return Y_(t,r._key);throw new Pt(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Q1(r)}.`)}function O4(t,e){if(!Array.isArray(t)||t.length===0)throw new Pt(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a6(t,e){const r=function(a,s){for(const o of a)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Pt(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pt(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class s6{convertValue(e,r="none"){switch(g0(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ha(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(p0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ir(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return E0(e,(a,s)=>{n[a]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,a;const s=(a=(n=(r=e.fields)===null||r===void 0?void 0:r[i1].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(o=>ha(o.doubleValue));return new tx(s)}convertGeoPoint(e){return new ex(ha(e.latitude),ha(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=z1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(km(e));default:return null}}convertTimestamp(e){const r=m0(e);return new Na(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dn.fromString(e);un(gA(n),9688,{name:e});const a=new Lh(n.get(1),n.get(3)),s=new Yt(n.popFirst(5));return a.isEqual(r)||ru(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m5 extends t6{constructor(e,r,n,a,s,o){super(e,r,n,a,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(ax("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class im extends m5{data(e={}){return super.data(e)}}class o6{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new gh(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new im(this._firestore,this._userDataWriter,n.key,n,new gh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Pt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let o=0;return a._snapshot.docChanges.map(c=>{const h=new im(a._firestore,a._userDataWriter,c.doc.key,c.doc,new gh(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}})}{let o=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const h=new im(a._firestore,a._userDataWriter,c.doc.key,c.doc,new gh(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,p=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:a9(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function a9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ir(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){t=Co(t,Ws);const e=Co(t.firestore,S0);return $j(Z1(e),t._key).then(r=>s9(e,t,r))}class l6 extends s6{constructor(e){super(),this.firestore=e}convertBytes(e){return new mf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ws(this.firestore,null,r)}}function an(t){t=Co(t,fu);const e=Co(t.firestore,S0),r=Z1(e),n=new l6(e);return n9(t._query),Kj(r,t._query).then(a=>new o6(e,n,t,a))}function Mh(t,e,r){t=Co(t,Ws);const n=Co(t.firestore,S0),a=i6(t.converter,e);return np(n,[QA(rx(n),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,To.none())])}function qc(t,e,r,...n){t=Co(t,Ws);const a=Co(t.firestore,S0),s=rx(a);let o;return o=typeof(e=as(e))=="string"||e instanceof Zm?Zj(s,"updateDoc",t._key,e,r,n):Jj(s,"updateDoc",t._key,e),np(a,[o.toMutation(t._key,To.exists(!0))])}function cx(t){return np(Co(t.firestore,S0),[new $v(t._key,To.none())])}function ux(t,e){const r=Co(t.firestore,S0),n=on(t),a=i6(t.converter,e);return np(r,[QA(rx(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,To.exists(!1))]).then(()=>n)}function np(t,e){return function(n,a){const s=new Kc;return n.asyncQueue.enqueueAndForget(async()=>jj(await Gj(n),a,s)),s.promise}(Z1(t),e)}function s9(t,e,r){const n=r.docs.get(e._key),a=new l6(t);return new m5(t,a,e._key,n,new gh(r.hasPendingWrites,r.fromCache),e.converter)}function p1(){return new u5("serverTimestamp")}(function(e,r=!0){(function(a){Kh=a})(Gh),Ih(new lf("firestore",(n,{instanceIdentifier:a,options:s})=>{const o=n.getProvider("app").getImmediate(),c=new S0(new nD(n.getProvider("auth-internal")),new iD(o,n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Pt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lh(d.options.projectId,p)}(o,a),o);return s=Object.assign({useFetchStreams:r},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),c0(F_,M_,e),c0(F_,M_,"esm2017")})();const i9=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:s6,Bytes:mf,CollectionReference:Wc,DocumentReference:Ws,DocumentSnapshot:m5,FieldPath:Zm,FieldValue:ep,Firestore:S0,FirestoreError:Pt,GeoPoint:ex,Query:fu,QueryCompositeFilterConstraint:ix,QueryConstraint:sx,QueryDocumentSnapshot:im,QueryFieldFilterConstraint:rp,QueryLimitConstraint:lx,QueryOrderByConstraint:ox,QuerySnapshot:o6,SnapshotMetadata:gh,Timestamp:Na,VectorValue:tx,_AutoId:Mv,_ByteString:ss,_DatabaseId:Lh,_DocumentKey:Yt,_EmptyAuthCredentialsProvider:RE,_FieldPath:rs,_cast:Co,_logWarn:hf,_validateIsNotUsedTogether:GA,addDoc:ux,collection:Sr,connectFirestoreEmulator:KA,deleteDoc:cx,doc:on,ensureFirestoreConfigured:Z1,executeWrite:np,getDoc:Wi,getDocs:an,getFirestore:WA,limit:n6,orderBy:r6,query:zs,serverTimestamp:p1,setDoc:Mh,updateDoc:qc,where:ll},Symbol.toStringTag,{value:"Module"}));var o9="firebase",l9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */c0(o9,l9,"app");const c9={apiKey:"AIzaSyB43OqFebSz7JoqGmSk4ybzQouhkwKLaOo",authDomain:"satistakip-bc5c4.firebaseapp.com",projectId:"satistakip-bc5c4",storageBucket:"satistakip-bc5c4.firebasestorage.app",messagingSenderId:"931339446084",appId:"1:931339446084:web:d934b0bee4311198ecd911"},c6=Mk(c9),ni=eD(c6),Mt=WA(c6),u9=!1,Kl={INFO:"info",WARNING:"warning",ERROR:"error",SUCCESS:"success",SECURITY:"security"},En={AUTH:"authentication",USER_MANAGEMENT:"user_management",SALES:"sales",SYSTEM:"system",DATA:"data",SECURITY:"security",NAVIGATION:"navigation",UI_INTERACTION:"ui_interaction",FORM:"form_interaction",FILTER:"filter_search",EXPORT:"export_download"};class f9{constructor(){this.isEnabled=!0}async log(e,r,n,a={},s=null,o=null){if(!this.isEnabled)return;const c=(a==null?void 0:a.email)||"";if(!(s==="wupaniyazilim@gmail.com"||c==="wupaniyazilim@gmail.com"||o==="Admin User"||c.includes("wupaniyazilim@gmail.com")))try{const h={level:e,category:r,action:n,details:typeof a=="object"?a:{message:a},userId:s||"system",userName:o||"System",timestamp:p1(),userAgent:navigator.userAgent,url:window.location.href,ip:await this.getClientIP()};await ux(Sr(Mt,"system_logs"),h)}catch(h){console.error("Log kaydedilirken hata:",h)}}getConsoleMethod(e){switch(e){case Kl.ERROR:return console.error;case Kl.WARNING:return console.warn;case Kl.SUCCESS:case Kl.INFO:return console.info;case Kl.SECURITY:return console.warn;default:return console.log}}async getClientIP(){try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch{return"unknown"}}async info(e,r,n,a,s){return this.log(Kl.INFO,e,r,n,a,s)}async warning(e,r,n,a,s){return this.log(Kl.WARNING,e,r,n,a,s)}async error(e,r,n,a,s){return this.log(Kl.ERROR,e,r,n,a,s)}async success(e,r,n,a,s){return this.log(Kl.SUCCESS,e,r,n,a,s)}async security(e,r,n,a,s){return this.log(Kl.SECURITY,e,r,n,a,s)}async logUserLogin(e,r,n){return this.success(En.AUTH,"User Login",{email:n,loginTime:new Date().toISOString()},e,r)}async logUserLogout(e,r,n){return this.info(En.AUTH,"User Logout",{email:n,logoutTime:new Date().toISOString()},e,r)}async logFailedLogin(e,r){return this.warning(En.SECURITY,"Failed Login Attempt",{email:e,reason:r,attemptTime:new Date().toISOString()})}async logUserCreated(e,r,n,a){return this.success(En.USER_MANAGEMENT,"User Created",{newUserEmail:n,newUserRole:a,createdBy:r},e,r)}async logUserUpdated(e,r,n,a){return this.info(En.USER_MANAGEMENT,"User Updated",{targetUserEmail:n,changes:a,updatedBy:r},e,r)}async logUserDeleted(e,r,n){return this.warning(En.USER_MANAGEMENT,"User Deleted",{deletedUserEmail:n,deletedBy:r},e,r)}async logUserActivated(e,r,n){return this.success(En.USER_MANAGEMENT,"User Activated",{targetUserEmail:n,activatedBy:r},e,r)}async logUserDeactivated(e,r,n){return this.warning(En.USER_MANAGEMENT,"User Deactivated",{targetUserEmail:n,deactivatedBy:r},e,r)}async logSalesRecordCreated(e,r,n){return this.success(En.SALES,"Sales Record Created",{customerPhone:n.telefon,channel:n.kanal,status:n.durum},e,r)}async logSalesRecordUpdated(e,r,n,a){return this.info(En.SALES,"Sales Record Updated",{recordId:n,changes:a},e,r)}async logSalesRecordDeleted(e,r,n){return this.warning(En.SALES,"Sales Record Deleted",{recordId:n},e,r)}async logSystemSettingsChanged(e,r,n,a){return this.info(En.SYSTEM,"System Settings Changed",{settingType:n,changes:a,changedBy:r},e,r)}async logDataExport(e,r,n,a){return this.info(En.DATA,"Data Export",{exportType:n,recordCount:a,exportTime:new Date().toISOString()},e,r)}async logUnauthorizedAccess(e,r,n,a){return this.security(En.SECURITY,"Unauthorized Access Attempt",{attemptedAction:n,resource:a,attemptTime:new Date().toISOString()},e,r)}async logPageNavigation(e,r,n,a){return this.info(En.NAVIGATION,"Page Navigation",{fromPage:n,toPage:a,navigationTime:new Date().toISOString(),userAgent:navigator.userAgent,screenSize:`${window.screen.width}x${window.screen.height}`},e,r)}async logSidebarMenuClick(e,r,n,a){return this.info(En.UI_INTERACTION,"Sidebar Menu Click",{menuItem:n,menuPath:a,clickTime:new Date().toISOString(),windowSize:`${window.innerWidth}x${window.innerHeight}`},e,r)}async logButtonClick(e,r,n,a,s){return this.info(En.UI_INTERACTION,"Button Click",{buttonName:n,buttonAction:a,pageContext:s,clickTime:new Date().toISOString()},e,r)}async logFormSubmission(e,r,n,a,s){return this.info(En.FORM,"Form Submission",{formName:n,fieldCount:Object.keys(a).length,isSuccess:s,submissionTime:new Date().toISOString(),fields:Object.keys(a)},e,r)}async logSearchFilter(e,r,n,a,s,o){return this.info(En.FILTER,"Search/Filter Applied",{filterType:n,filterValue:a,resultCount:s,pageContext:o,searchTime:new Date().toISOString()},e,r)}async logDataExportDetailed(e,r,n,a,s,o){return this.info(En.EXPORT,"Data Export",{exportType:n,dataType:a,recordCount:s,appliedFilters:o,exportTime:new Date().toISOString(),fileSize:"calculated_after_export"},e,r)}async logModalInteraction(e,r,n,a,s){return this.info(En.UI_INTERACTION,"Modal Interaction",{modalName:n,action:a,modalData:s,interactionTime:new Date().toISOString()},e,r)}async logTableInteraction(e,r,n,a,s){return this.info(En.UI_INTERACTION,"Table Interaction",{tableName:n,action:a,details:s,interactionTime:new Date().toISOString()},e,r)}async logSettingsChange(e,r,n,a,s,o){return this.info(En.SYSTEM,"Settings Changed",{settingName:n,oldValue:a,newValue:s,settingCategory:o,changeTime:new Date().toISOString()},e,r)}async logFileUpload(e,r,n,a,s,o){return this.info(En.DATA,"File Upload",{fileName:n,fileSize:a,fileType:s,uploadContext:o,uploadTime:new Date().toISOString()},e,r)}async logAPICall(e,r,n,a,s,o){return this.info(En.SYSTEM,"API Call",{endpoint:n,method:a,responseStatus:s,responseTime:o,callTime:new Date().toISOString()},e,r)}async logUserSessionActivity(e,r,n,a,s){return this.info(En.AUTH,"Session Activity",{activity:n,duration:a,pageContext:s,activityTime:new Date().toISOString()},e,r)}async logSessionTimeout(e,r,n,a){return this.info(En.AUTH,"Session Timeout",{email:n,timeoutMinutes:a,reason:"Inactivity timeout",timeoutTime:new Date().toISOString()},e,r)}}const qs=new f9,h9=()=>{{console.log=()=>{},console.info=()=>{},console.warn=()=>{};const t=console.error;console.error=(...e)=>{const r=e.map(n=>typeof n=="string"?n.replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,"[EMAIL_HIDDEN]").replace(/\b0[0-9]{10}\b/g,"[PHONE_HIDDEN]").replace(/\b[A-Za-z0-9]{20,}\b/g,"[ID_HIDDEN]"):n);t(...r)}}},u6=Ae.createContext(),vs=()=>{const t=Ae.useContext(u6);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},d9=({children:t})=>{const[e,r]=Ae.useState(null),[n,a]=Ae.useState(null),[s,o]=Ae.useState(null),[c,h]=Ae.useState(!0),[d,p]=Ae.useState(480),[y,v]=Ae.useState(Date.now());Ae.useEffect(()=>{if(!e)return;const G=setInterval(()=>{const j=Date.now()-y,L=d*60*1e3;j>=L&&(console.log("⏰ Oturum zaman aşımına uğradı, kullanıcı çıkış yapılıyor..."),b())},3e4);return()=>clearInterval(G)},[e,y,d]),Ae.useEffect(()=>{if(!e)return;const z=()=>{v(Date.now())},G=["mousedown","mousemove","keypress","scroll","touchstart","click"];return G.forEach(W=>{document.addEventListener(W,z,!0)}),()=>{G.forEach(W=>{document.removeEventListener(W,z,!0)})}},[e]),Ae.useEffect(()=>{(async()=>{var G;try{const W=await Wi(on(Mt,"system_settings","main"));if(W.exists()){const j=W.data();(G=j.security)!=null&&G.sessionTimeout&&(p(j.security.sessionTimeout),console.log(`🔧 Oturum zaman aşımı ayarı yüklendi: ${j.security.sessionTimeout} dakika`))}}catch(W){console.error("Sistem ayarları yüklenirken hata:",W)}})()},[]);const b=async()=>{var z;try{e&&e.email!=="wupaniyazilim@gmail.com"&&await qs.logSessionTimeout(e.uid,e.name||((z=e.email)==null?void 0:z.split("@")[0])||"Kullanıcı",e.email,d),sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),await Wu(ni),a(null),o(null),r(null),alert(`Oturum zaman aşımına uğradı (${d} dakika). Tekrar giriş yapmanız gerekiyor.`)}catch(G){console.error("Oturum zaman aşımı işlenirken hata:",G),await Wu(ni),a(null),o(null),r(null)}},E=async(z,G)=>{const W=await F1(ni,z,G),j=W.user.uid,L=on(Mt,"users",j),R=await Wi(L);if(R.exists()&&R.data().isActive===!1)throw await Wu(ni),new Error("Hesabınız pasif durumda. Lütfen yöneticinizle iletişime geçin.");return W},k=async()=>{var z;e&&e.email!=="wupaniyazilim@gmail.com"&&await qs.logUserLogout(e.uid,e.name||((z=e.email)==null?void 0:z.split("@")[0])||"Kullanıcı",e.email),sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),await Wu(ni),a(null),o(null),r(null)},A=z=>BR(ni,z),N=async z=>{try{const G=on(Mt,"users",z),W=await Wi(G);if(W.exists()){const j=W.data();return{role:{Admin:"admin",admin:"admin","Team Leader":"teamLeader",teamLeader:"teamLeader",Personnel:"personnel",personnel:"personnel"}[j.role]||"personnel",name:j.name||j.email||"Kullanıcı",active:j.isActive}}return{role:"personnel",name:"Kullanıcı",active:!1}}catch(G){return console.error("Rol alınırken hata:",G),{role:"personnel",name:"Kullanıcı",active:!1}}};Ae.useEffect(()=>qR(ni,async G=>{if(G)try{const W=sessionStorage.getItem("switchedUser"),j=sessionStorage.getItem("originalAdmin");if(W&&j){const L=JSON.parse(W),U={Admin:"admin",admin:"admin","Team Leader":"teamLeader",teamLeader:"teamLeader",Personnel:"personnel",personnel:"personnel"}[L.role]||"personnel",D={uid:L.uid,email:L.email,role:U,name:L.name,isSwitched:!0,originalAdmin:JSON.parse(j)};r(D),a(U),o(L.name)}else{(W||j)&&(sessionStorage.removeItem("switchedUser"),sessionStorage.removeItem("originalAdmin"));const L=on(Mt,"users",G.uid),R=await Wi(L);if(R.exists()){const U=R.data();if(U.isActive===!1){await Wu(ni),r(null),a(null),o(null),h(!1);return}const D=await N(G.uid);a(D.role),o(D.name);const C={...G,role:D.role,name:D.name,active:U.isActive,isSwitched:!1};r(C)}else await Wu(ni),r(null),a(null),o(null)}}catch(W){console.error("Kullanıcı durumu kontrol edilirken hata:",W),await Wu(ni),r(null),a(null),o(null)}else r(null),a(null),o(null);h(!1)}),[]);const P={currentUser:e,userRole:n,userName:s,login:E,logout:k,resetPassword:A,checkUserStatus:async()=>{if(e)try{const z=on(Mt,"users",e.uid),G=await Wi(z);return G.exists()?G.data().isActive===!1?(await Wu(ni),r(null),a(null),o(null),!1):!0:!1}catch(z){return console.error("Kullanıcı durumu kontrol edilirken hata:",z),!1}return!1},loading:c,sessionTimeout:d,lastActivity:y,timeUntilTimeout:d*60*1e3-(Date.now()-y)};return f.jsx(u6.Provider,{value:P,children:!c&&t})},f6=Ae.createContext(),m9=()=>{const t=Ae.useContext(f6);if(!t)throw new Error("useDarkMode must be used within a DarkModeProvider");return t},p9=({children:t})=>{const[e,r]=Ae.useState(()=>{const s=localStorage.getItem("darkMode");return s?JSON.parse(s):window.matchMedia("(prefers-color-scheme: dark)").matches});Ae.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const a={darkMode:e,toggleDarkMode:()=>{r(s=>!s)}};return f.jsx(f6.Provider,{value:a,children:t})};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),P4=t=>{const e=x9(t);return e.charAt(0).toUpperCase()+e.slice(1)},h6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),y9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=Ae.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...c},h)=>Ae.createElement("svg",{ref:h,...v9,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:h6("lucide",a),...!s&&!y9(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,p])=>Ae.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(t,e)=>{const r=Ae.forwardRef(({className:n,...a},s)=>Ae.createElement(b9,{ref:s,iconNode:e,className:h6(`lucide-${g9(P4(t))}`,`lucide-${t}`,n),...a}));return r.displayName=P4(t),r};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Uy=Bt("activity",w9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],d6=Bt("arrow-down",_9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],E9=Bt("arrow-left",k9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Uc=Bt("arrow-up",A9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],m6=Bt("award",S9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],N9=Bt("briefcase",T9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Vy=Bt("building-2",C9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cm=Bt("calendar",R9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bh=Bt("chart-column",I9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],zy=Bt("chart-pie",D9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],p5=Bt("chevron-down",L9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],O9=Bt("chevron-left",j9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],p6=Bt("chevron-right",P9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],M9=Bt("chevron-up",F9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],au=Bt("circle-alert",B9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ni=Bt("circle-check-big",U9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],H2=Bt("circle-x",V9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],qy=Bt("clock",z9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Hy=Bt("crown",q9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],om=Bt("database",H9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],g5=Bt("download",G9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],g6=Bt("eye-off",$9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ap=Bt("eye",K9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Gy=Bt("file-spreadsheet",W9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zg=Bt("file-text",Y9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],x6=Bt("funnel",X9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],J9=Bt("hard-drive",Q9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$y=Bt("info",Z9);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],pg=Bt("layout-dashboard",eO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],y6=Bt("list",tO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nO=Bt("lock",rO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],g1=Bt("log-in",aO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],F4=Bt("log-out",sO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],v6=Bt("mail",iO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],lO=Bt("medal",oO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],b6=Bt("menu",cO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M5 12h14",key:"1ays0h"}]],M4=Bt("minus",uO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],hO=Bt("monitor",fO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],B4=Bt("moon",dO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],pO=Bt("pause",mO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],xO=Bt("phone",gO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],vO=Bt("play",yO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rf=Bt("plus",bO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yc=Bt("refresh-cw",wO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kO=Bt("rotate-ccw",_O);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pf=Bt("save",EO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],SO=Bt("search",AO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],G2=Bt("send",TO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],CO=Bt("server",NO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],x5=Bt("settings",RO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$s=Bt("shield",IO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fx=Bt("square-pen",DO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jO=Bt("star",LO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],U4=Bt("sun",OO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],gf=Bt("target",PO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kh=Bt("trash-2",FO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],x1=Bt("trending-up",MO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rm=Bt("triangle-alert",BO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$2=Bt("trophy",UO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zO=Bt("upload",VO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xc=Bt("user-check",qO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],K2=Bt("user-x",HO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],f0=Bt("user",GO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ts=Bt("users",$O);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],su=Bt("x",KO);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],YO=Bt("zap",WO),XO=()=>{const[t,e]=Ae.useState(""),[r,n]=Ae.useState(""),[a,s]=Ae.useState(!1),[o,c]=Ae.useState(""),[h,d]=Ae.useState(!1),[p,y]=Ae.useState(!1),[v,b]=Ae.useState(""),[E,k]=Ae.useState(!1),[A,N]=Ae.useState(!1),{login:I,resetPassword:P}=vs(),z=async j=>{var L;if(j.preventDefault(),!t||!r){c("Lütfen tüm alanları doldurun");return}try{c(""),s(!0);const R=await I(t,r);R!=null&&R.user&&t!=="wupaniyazilim@gmail.com"&&await qs.logUserLogin(R.user.uid,R.user.displayName||((L=R.user.email)==null?void 0:L.split("@")[0])||"Kullanıcı",t)}catch(R){console.error("Giriş hatası:",R);let U="Bilinmeyen hata";R.message.includes("Hesabınız pasif")?(c("Hesabınız pasif durumda. Lütfen yöneticinizle iletişime geçin."),U="Hesap pasif durumda"):R.code==="auth/user-not-found"?(c("Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı."),U="Kullanıcı bulunamadı"):R.code==="auth/wrong-password"?(c("Hatalı şifre."),U="Hatalı şifre"):R.code==="auth/invalid-email"?(c("Geçersiz e-posta adresi."),U="Geçersiz e-posta"):R.code==="auth/invalid-credential"?(c("Geçersiz e-posta veya şifre."),U="Geçersiz bilgiler"):(c("Giriş yapılırken bir hata oluştu. Lütfen tekrar deneyin."),U=R.message||"Giriş hatası"),t!=="wupaniyazilim@gmail.com"&&await qs.logFailedLogin(t,U)}s(!1)},G=async j=>{if(j.preventDefault(),!v){c("Lütfen e-posta adresinizi girin");return}try{c(""),k(!0),await P(v),N(!0)}catch(L){console.error("Şifre sıfırlama hatası:",L),L.code==="auth/user-not-found"?c("Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı."):c("Şifre sıfırlama e-postası gönderilirken hata oluştu.")}k(!1)},W=()=>{y(!1),b(""),c(""),N(!1),k(!1)};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-200 to-purple-300 rounded-full opacity-20 float-animation"}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-lavender-200 to-lavender-300 rounded-full opacity-20 float-animation",style:{animationDelay:"3s"}}),f.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-periwinkle-200 to-periwinkle-300 rounded-full opacity-10 float-animation",style:{animationDelay:"1.5s"}})]}),f.jsx("div",{className:"w-full max-w-lg mx-auto",children:f.jsxs("div",{className:"card-modern p-10 shadow-modern-hover",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-purple rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:f.jsx(g1,{className:"h-8 w-8 text-white"})}),f.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-2",children:"Hoş Geldiniz"}),f.jsx("p",{className:"text-gray-600 font-medium",children:"Hesabınıza giriş yapın"})]}),o&&f.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center space-x-3 animate-pulse",children:[f.jsx(au,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),f.jsx("span",{className:"text-red-700 text-sm font-medium",children:o})]}),f.jsxs("form",{onSubmit:z,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"E-posta Adresi"}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"email",value:t,onChange:j=>e(j.target.value),className:"input-modern",placeholder:"",required:!0})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Şifre"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:h?"text":"password",value:r,onChange:j=>n(j.target.value),className:"input-modern pr-12",placeholder:"",required:!0}),f.jsx("button",{type:"button",onClick:()=>d(!h),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-purple-600 transition-colors",children:h?f.jsx(g6,{className:"h-5 w-5"}):f.jsx(ap,{className:"h-5 w-5"})})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-purple-300 rounded"}),f.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 font-medium",children:"Beni hatırla"})]}),f.jsx("button",{type:"button",onClick:()=>y(!0),className:"text-sm font-semibold text-purple-600 hover:text-purple-700 transition-colors",children:"Şifremi unuttum"})]}),f.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full flex items-center justify-center space-x-2",children:a?f.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spin-smooth"}):f.jsxs(f.Fragment,{children:[f.jsx(g1,{className:"h-5 w-5"}),f.jsx("span",{children:"Giriş Yap"})]})})]})]})}),p&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"card-modern p-6 w-full max-w-md relative",children:[f.jsx("button",{onClick:W,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(su,{className:"h-5 w-5"})}),A?f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:f.jsx(G2,{className:"h-6 w-6 text-white"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"E-posta Gönderildi!"}),f.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Şifre sıfırlama bağlantısı e-posta adresinize gönderildi. Lütfen e-postanızı kontrol edin."}),f.jsx("button",{onClick:W,className:"btn-primary w-full",children:"Tamam"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:f.jsx(G2,{className:"h-6 w-6 text-white"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Şifre Sıfırlama"}),f.jsx("p",{className:"text-sm text-gray-600",children:"E-posta adresinizi girin, size şifre sıfırlama bağlantısı gönderelim."})]}),o&&f.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[f.jsx(au,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),f.jsx("span",{className:"text-red-700 text-sm",children:o})]}),f.jsxs("form",{onSubmit:G,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi"}),f.jsxs("div",{className:"relative",children:[f.jsx(v6,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"email",value:v,onChange:j=>b(j.target.value),className:"input-modern pl-16",placeholder:"",required:!0})]})]}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{type:"button",onClick:W,className:"btn-secondary flex-1",children:"İptal"}),f.jsx("button",{type:"submit",disabled:E,className:"btn-primary flex-1 flex items-center justify-center space-x-2",children:E?f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full spin-smooth"}):f.jsxs(f.Fragment,{children:[f.jsx(G2,{className:"h-4 w-4"}),f.jsx("span",{children:"Gönder"})]})})]})]})]})]})})]})},QO=()=>{const{currentUser:t}=vs(),e=vv(),[r,n]=Ae.useState({totalRecords:0,successfulSales:0,totalRecordsChange:"0%",successfulSalesChange:"0%"}),[a,s]=Ae.useState(!0),[o,c]=Ae.useState(""),[h,d]=Ae.useState([]),[p,y]=Ae.useState([]);return Ae.useEffect(()=>{const v=async()=>{var A,N,I;try{if(t!=null&&t.uid){const P=Sr(Mt,"users"),z=zs(P,ll("uid","==",t.uid)),G=await an(z);if(G.empty)c(((N=t.email)==null?void 0:N.split("@")[0])||"Kullanıcı");else{const W=G.docs[0].data();c(W.name||((A=W.email)==null?void 0:A.split("@")[0])||"Kullanıcı")}}}catch(P){console.error("Kullanıcı adı alınırken hata:",P),c(((I=t==null?void 0:t.email)==null?void 0:I.split("@")[0])||"Kullanıcı")}},b=async()=>{try{if(t!=null&&t.uid){const A=new Date,N=new Date(A.getFullYear(),A.getMonth(),A.getDate(),0,0,0),I=new Date(A.getFullYear(),A.getMonth(),A.getDate(),23,59,59),P=new Date(A);P.setDate(P.getDate()-1);const z=new Date(P.getFullYear(),P.getMonth(),P.getDate(),0,0,0),G=new Date(P.getFullYear(),P.getMonth(),P.getDate(),23,59,59);let W;(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="teamLeader"?W=zs(Sr(Mt,"sales_records")):W=zs(Sr(Mt,"sales_records"),ll("createdBy","==",t.uid));let L=(await an(W)).docs.map(ce=>ce.data());const R=L.filter(ce=>{if(ce.createdAt)try{const te=ce.createdAt.toDate?ce.createdAt.toDate():new Date(ce.createdAt);return te>=N&&te<=I}catch{return!1}if(ce.tarih)try{const te=new Date(ce.tarih);if(!isNaN(te.getTime()))return te>=N&&te<=I}catch{return!1}return!1}),U=L.filter(ce=>{if(ce.createdAt)try{const te=ce.createdAt.toDate?ce.createdAt.toDate():new Date(ce.createdAt);return te>=z&&te<=G}catch{return!1}if(ce.tarih)try{const te=new Date(ce.tarih);if(!isNaN(te.getTime()))return te>=z&&te<=G}catch{return!1}return!1}),D=R.length,C=R.filter(ce=>ce.detay==="Satış Sağlandı"||ce.detay==="Satış sağlandı").length,B=U.length,ne=U.filter(ce=>ce.detay==="Satış Sağlandı"||ce.detay==="Satış sağlandı").length,ye=(ce,te)=>{if(te===0)return ce>0?"+100%":"0%";const Y=(ce-te)/te*100;return Y>0?`+${Math.round(Y)}%`:`${Math.round(Y)}%`},ae=ye(D,B),le=ye(C,ne);n({totalRecords:D,successfulSales:C,totalRecordsChange:ae,successfulSalesChange:le})}}catch(A){console.error("İstatistikler alınırken hata:",A),n({totalRecords:0,successfulSales:0,totalRecordsChange:"0%",successfulSalesChange:"0%"})}},E=async()=>{try{if(t!=null&&t.uid&&((t==null?void 0:t.role)==="personnel"||(t==null?void 0:t.role)==="teamLeader")){const A=Sr(Mt,"targets"),N=zs(A,ll("userId","==",t.uid)),P=(await an(N)).docs.map(z=>({id:z.id,...z.data()}));d(P)}}catch(A){console.error("Hedefler alınırken hata:",A)}},k=async()=>{try{const A=new Date,N=new Date(2025,5,1),I=new Date(A.getFullYear(),A.getMonth()+1,0,23,59,59),P=Sr(Mt,"sales_records"),W=(await an(P)).docs.map(B=>B.data()).filter(B=>{let ne=null;if(B.createdAt)try{ne=B.createdAt.toDate?B.createdAt.toDate():new Date(B.createdAt)}catch{}if(!ne&&B.tarih)try{ne=new Date(B.tarih),isNaN(ne.getTime())&&(ne=null)}catch{}if(!ne)return!1;const ye=ne>=N&&ne<=I,ae=B.detay==="Satış Sağlandı"||B.detay==="Satış sağlandı"||B.detay==="Satış Bilgisi";return ye&&ae&&B.createdBy}),j={};W.forEach(B=>{const ne=B.createdBy;ne&&(j[ne]=(j[ne]||0)+1)});const L=Sr(Mt,"users"),R=await an(L),U={},D={};R.docs.forEach(B=>{var le,ce;const ne=B.data(),ye=B.id,ae=ne.uid||ye;ae&&(U[ae]={name:ne.name||((le=ne.email)==null?void 0:le.split("@")[0])||"Bilinmeyen",email:ne.email,role:ne.role}),ne.email&&(D[ne.email]={name:ne.name||((ce=ne.email)==null?void 0:ce.split("@")[0])||"Bilinmeyen",email:ne.email,role:ne.role})});const C=Object.entries(j).map(([B,ne])=>{let ye=U[B];return!ye&&B.includes("@")&&(ye=D[B]),{userId:B,salesCount:ne,userName:(ye==null?void 0:ye.name)||"Bilinmeyen Kullanıcı",userEmail:(ye==null?void 0:ye.email)||"",userRole:(ye==null?void 0:ye.role)||"personnel"}}).sort((B,ne)=>ne.salesCount-B.salesCount).slice(0,3);y(C)}catch(A){console.error("En iyi performanslar alınırken hata:",A),y([])}};v(),b(),E(),k(),s(!1)},[t]),a?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full spin-smooth mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 font-medium",children:"Veriler yükleniyor..."})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[f.jsx("div",{className:"card-modern p-8 bg-gradient-lavender",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-purple rounded-2xl flex items-center justify-center shadow-lg",children:f.jsx(Xc,{className:"h-8 w-8 text-white"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-bold text-gradient-purple",children:["Hoş Geldiniz, ",o||"Kullanıcı","! 👋"]}),f.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 font-medium mt-2",children:["Satış Takip CRM - ",f.jsx("strong",{children:new Date().toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})})," günü özeti"]}),f.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[f.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:[f.jsx(N9,{className:"h-4 w-4 mr-1"}),(t==null?void 0:t.role)==="admin"?"Yönetici":(t==null?void 0:t.role)==="teamLeader"?"Takım Lideri":"Personel"]}),f.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[f.jsx(Uy,{className:"h-4 w-4 mr-1"}),"Aktif"]})]})]})]}),f.jsx("div",{className:"hidden lg:block",children:f.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-200 to-purple-300 rounded-full opacity-20 float-animation"})})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"card-modern p-6 hover:scale-105 transition-transform duration-300",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:f.jsx(Bh,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{className:"flex items-center space-x-1 text-sm font-semibold text-green-600",children:[f.jsx(Uc,{className:"h-4 w-4"}),f.jsx("span",{children:r.totalRecordsChange})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Bugünkü Toplam Kayıt"}),f.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:r.totalRecords.toLocaleString("tr-TR")})]})]}),f.jsxs("div",{className:"card-modern p-6 hover:scale-105 transition-transform duration-300",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:f.jsx(Ni,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{className:"flex items-center space-x-1 text-sm font-semibold text-green-600",children:[f.jsx(Uc,{className:"h-4 w-4"}),f.jsx("span",{children:r.successfulSalesChange})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Bugünkü Başarılı Satışlar"}),f.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:r.successfulSales.toLocaleString("tr-TR")})]})]})]}),f.jsxs("div",{className:"card-modern p-8",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:f.jsx(YO,{className:"h-5 w-5 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Hızlı İşlemler"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("button",{onClick:()=>e("/records"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:f.jsx(ap,{className:"h-6 w-6 text-white"})}),f.jsx(Uc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Kayıtları Görüntüle"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Tüm satış kayıtlarını listele"})]}),f.jsxs("button",{onClick:()=>e("/add-record"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:f.jsx(rf,{className:"h-6 w-6 text-white"})}),f.jsx(Uc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Yeni Kayıt Ekle"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Yeni satış kaydı oluştur"})]}),(t==null?void 0:t.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>e("/analytics"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:f.jsx(zy,{className:"h-6 w-6 text-white"})}),f.jsx(Uc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Analitik Raporları"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Detaylı analitik ve raporlar"})]}),f.jsxs("button",{onClick:()=>e("/user-management"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:f.jsx(ts,{className:"h-6 w-6 text-white"})}),f.jsx(Uc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Kullanıcı Yönetimi"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Personel ekle ve düzenle"})]})]}),(t==null?void 0:t.role)==="teamLeader"&&f.jsxs("button",{onClick:()=>e("/analytics"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:f.jsx(zy,{className:"h-6 w-6 text-white"})}),f.jsx(Uc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Analitik Raporları"}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Detaylı analitik ve raporlar"})]})]})]}),f.jsxs("div",{className:"card-modern p-8",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center",children:f.jsx($2,{className:"h-5 w-5 text-white"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Zirveye Adını Yazdıranlar"}),f.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:"Bu Ay En İyi 3 Satışçı"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.length>0?p.map((v,b)=>{const k=[{title:"🥇 ALTIN",bgGradient:"from-yellow-400 via-yellow-500 to-yellow-600",borderColor:"border-yellow-300",textColor:"text-yellow-800",icon:$2,iconBg:"bg-gradient-to-br from-yellow-500 to-yellow-600"},{title:"🥈 GÜMÜŞ",bgGradient:"from-gray-300 via-gray-400 to-gray-500",borderColor:"border-gray-300",textColor:"text-gray-800",icon:lO,iconBg:"bg-gradient-to-br from-gray-400 to-gray-500"},{title:"🥉 BRONZ",bgGradient:"from-orange-400 via-orange-500 to-orange-600",borderColor:"border-orange-300",textColor:"text-orange-800",icon:m6,iconBg:"bg-gradient-to-br from-orange-500 to-orange-600"}][b],A=k.icon;return f.jsx("div",{className:`relative p-6 rounded-2xl border-2 ${k.borderColor} bg-gradient-to-br ${k.bgGradient} shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`w-16 h-16 ${k.iconBg} rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg`,children:f.jsx(A,{className:"h-8 w-8 text-white"})}),f.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:k.title}),f.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:v.userName}),f.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-3 backdrop-blur-sm",children:[f.jsx("p",{className:"text-2xl font-bold text-white",children:v.salesCount}),f.jsx("p",{className:"text-sm text-white opacity-90",children:"Başarılı Satış"})]}),b===0&&f.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:f.jsx("span",{className:"text-yellow-800 font-bold text-sm",children:"👑"})})]})},v.userId)}):f.jsxs("div",{className:"col-span-3 text-center py-8",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx($2,{className:"h-8 w-8 text-gray-400"})}),f.jsx("p",{className:"text-gray-500 font-medium",children:"Bu ay henüz satış verisi bulunmuyor"}),f.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"İlk satışları yapan personeller burada görünecek"})]})})]}),((t==null?void 0:t.role)==="personnel"||(t==null?void 0:t.role)==="teamLeader")&&h.length>0&&f.jsxs("div",{className:"card-modern p-8",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:f.jsx(gf,{className:"h-5 w-5 text-white"})}),f.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Hedeflerim"})]}),f.jsxs("div",{className:"space-y-6",children:[h.map(v=>{const b=new Date().toISOString().slice(0,7);if(!(v.period===b))return null;const k=Math.min(r.successfulSales/v.targetValue*100,100),A=Math.round(k);return f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Hedef: ",v.targetValue," ",v.targetType==="monthly"?"Aylık":"Yıllık"," Satış"]}),f.jsxs("span",{className:"text-sm font-bold text-green-600",children:[A,"%"]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:f.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${A}%`}})}),f.jsxs("p",{className:"text-xs text-gray-500",children:[r.successfulSales," / ",v.targetValue," satış tamamlandı"]}),v.description&&f.jsx("p",{className:"text-xs text-gray-400 italic",children:v.description})]},v.id)}),f.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-100",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Başarı Oranı"}),f.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[r.totalRecords>0?Math.round(r.successfulSales/r.totalRecords*100):0,"%"]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:f.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${r.totalRecords>0?r.successfulSales/r.totalRecords*100:0}%`}})}),f.jsxs("p",{className:"text-xs text-gray-500",children:[r.successfulSales," başarılı / ",r.totalRecords," toplam"]})]})]})]}),f.jsx("div",{className:"card-modern p-6 bg-gradient-periwinkle",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("p",{className:"text-gray-600 font-medium",children:["Bugün ",f.jsx("span",{className:"font-bold text-purple-700",children:r.totalRecords})," yeni kayıt eklediniz. Bu ay toplam ",f.jsx("span",{className:"font-bold text-purple-700",children:r.totalRecords})," kayıt oluşturdunuz."]}),f.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Başarı oranınız: ",f.jsxs("span",{className:"font-semibold text-green-600",children:[r.totalRecords>0?Math.round(r.successfulSales/r.totalRecords*100):0,"%"]})]})]})})]})})},hx=({isOpen:t,onClose:e,title:r,message:n,type:a="info",onConfirm:s,confirmText:o="Tamam",cancelText:c="İptal",showCancel:h=!1})=>{if(!t)return null;const d=()=>{switch(a){case"success":return f.jsx(Ni,{className:"h-6 w-6 text-green-600 dark:text-green-400"});case"warning":return f.jsx(Rm,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"});case"error":return f.jsx(au,{className:"h-6 w-6 text-red-600 dark:text-red-400"});case"confirm":return f.jsx(Rm,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"});default:return f.jsx($y,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}},p=()=>{switch(a){case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-400";case"warning":case"confirm":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500 dark:bg-yellow-600 dark:hover:bg-yellow-700 dark:focus:ring-yellow-400";case"error":return"bg-red-600 hover:bg-red-700 focus:ring-red-500 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-400";default:return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-400"}},y=()=>{s?s():e()},v=E=>{E.target===E.currentTarget&&e()},b=document.getElementById("modal-root")||document.body;return j1.createPortal(f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:v,children:f.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-auto border border-gray-200 dark:border-gray-700",onClick:E=>E.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[d(),f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:r})]}),f.jsx("button",{onClick:e,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:f.jsx(su,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"p-4",children:f.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line",children:n})}),f.jsxs("div",{className:"flex items-center justify-end space-x-3 p-4 border-t border-gray-200 dark:border-gray-700",children:[h&&f.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:focus:ring-gray-400 dark:focus:ring-offset-gray-800",children:c}),f.jsx("button",{onClick:y,className:`px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ${p()}`,children:o})]})]})}),b)},JO="modulepreload",ZO=function(t){return"/satis-crm/"+t},V4={},y1=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=o(r.map(d=>{if(d=ZO(d),d in V4)return;V4[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":JO,p||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((b,E)=>{v.addEventListener("load",b),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function gn(t){"@babel/helpers - typeof";return gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(t)}var Hs=Uint8Array,Qi=Uint16Array,y5=Int32Array,dx=new Hs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mx=new Hs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ky=new Hs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w6=function(t,e){for(var r=new Qi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new y5(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},_6=w6(dx,2),k6=_6.b,Wy=_6.r;k6[28]=258,Wy[258]=28;var E6=w6(mx,0),eP=E6.b,z4=E6.r,Yy=new Qi(32768);for(var Ln=0;Ln<32768;++Ln){var Yu=(Ln&43690)>>1|(Ln&21845)<<1;Yu=(Yu&52428)>>2|(Yu&13107)<<2,Yu=(Yu&61680)>>4|(Yu&3855)<<4,Yy[Ln]=((Yu&65280)>>8|(Yu&255)<<8)>>1}var nc=function(t,e,r){for(var n=t.length,a=0,s=new Qi(e);a<n;++a)t[a]&&++s[t[a]-1];var o=new Qi(e);for(a=1;a<e;++a)o[a]=o[a-1]+s[a-1]<<1;var c;if(r){c=new Qi(1<<e);var h=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],p=e-t[a],y=o[t[a]-1]++<<p,v=y|(1<<p)-1;y<=v;++y)c[Yy[y]>>h]=d}else for(c=new Qi(n),a=0;a<n;++a)t[a]&&(c[a]=Yy[o[t[a]-1]++]>>15-t[a]);return c},v0=new Hs(288);for(var Ln=0;Ln<144;++Ln)v0[Ln]=8;for(var Ln=144;Ln<256;++Ln)v0[Ln]=9;for(var Ln=256;Ln<280;++Ln)v0[Ln]=7;for(var Ln=280;Ln<288;++Ln)v0[Ln]=8;var Im=new Hs(32);for(var Ln=0;Ln<32;++Ln)Im[Ln]=5;var tP=nc(v0,9,0),rP=nc(v0,9,1),nP=nc(Im,5,0),aP=nc(Im,5,1),W2=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},tl=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Y2=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},v5=function(t){return(t+7)/8|0},A6=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Hs(t.subarray(e,r))},sP=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],sl=function(t,e,r){var n=new Error(e||sP[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,sl),!r)throw n;return n},iP=function(t,e,r,n){var a=t.length,s=0;if(!a||e.f&&!e.l)return r||new Hs(0);var o=!r,c=o||e.i!=2,h=e.i;o&&(r=new Hs(a*3));var d=function(tt){var J=r.length;if(tt>J){var Ne=new Hs(Math.max(J*2,tt));Ne.set(r),r=Ne}},p=e.f||0,y=e.p||0,v=e.b||0,b=e.l,E=e.d,k=e.m,A=e.n,N=a*8;do{if(!b){p=tl(t,y,1);var I=tl(t,y+1,3);if(y+=3,I)if(I==1)b=rP,E=aP,k=9,A=5;else if(I==2){var W=tl(t,y,31)+257,j=tl(t,y+10,15)+4,L=W+tl(t,y+5,31)+1;y+=14;for(var R=new Hs(L),U=new Hs(19),D=0;D<j;++D)U[Ky[D]]=tl(t,y+D*3,7);y+=j*3;for(var C=W2(U),B=(1<<C)-1,ne=nc(U,C,1),D=0;D<L;){var ye=ne[tl(t,y,B)];y+=ye&15;var P=ye>>4;if(P<16)R[D++]=P;else{var ae=0,le=0;for(P==16?(le=3+tl(t,y,3),y+=2,ae=R[D-1]):P==17?(le=3+tl(t,y,7),y+=3):P==18&&(le=11+tl(t,y,127),y+=7);le--;)R[D++]=ae}}var ce=R.subarray(0,W),te=R.subarray(W);k=W2(ce),A=W2(te),b=nc(ce,k,1),E=nc(te,A,1)}else sl(1);else{var P=v5(y)+4,z=t[P-4]|t[P-3]<<8,G=P+z;if(G>a){h&&sl(0);break}c&&d(v+z),r.set(t.subarray(P,G),v),e.b=v+=z,e.p=y=G*8,e.f=p;continue}if(y>N){h&&sl(0);break}}c&&d(v+131072);for(var Y=(1<<k)-1,Te=(1<<A)-1,F=y;;F=y){var ae=b[Y2(t,y)&Y],H=ae>>4;if(y+=ae&15,y>N){h&&sl(0);break}if(ae||sl(2),H<256)r[v++]=H;else if(H==256){F=y,b=null;break}else{var K=H-254;if(H>264){var D=H-257,Q=dx[D];K=tl(t,y,(1<<Q)-1)+k6[D],y+=Q}var re=E[Y2(t,y)&Te],de=re>>4;re||sl(3),y+=re&15;var te=eP[de];if(de>3){var Q=mx[de];te+=Y2(t,y)&(1<<Q)-1,y+=Q}if(y>N){h&&sl(0);break}c&&d(v+131072);var ve=v+K;if(v<te){var we=s-te,Le=Math.min(te,ve);for(we+v<0&&sl(3);v<Le;++v)r[v]=n[we+v]}for(;v<ve;++v)r[v]=r[v-te]}}e.l=b,e.p=F,e.b=v,e.f=p,b&&(p=1,e.m=k,e.d=E,e.n=A)}while(!p);return v!=r.length&&o?A6(r,0,v):r.subarray(0,v)},Bc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},qd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},X2=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,s=r.slice();if(!a)return{t:T6,l:0};if(a==1){var o=new Hs(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(G,W){return G.f-W.f}),r.push({s:-1,f:25001});var c=r[0],h=r[1],d=0,p=1,y=2;for(r[0]={s:-1,f:c.f+h.f,l:c,r:h};p!=a-1;)c=r[r[d].f<r[y].f?d++:y++],h=r[d!=p&&r[d].f<r[y].f?d++:y++],r[p++]={s:-1,f:c.f+h.f,l:c,r:h};for(var v=s[0].s,n=1;n<a;++n)s[n].s>v&&(v=s[n].s);var b=new Qi(v+1),E=Xy(r[p-1],b,0);if(E>e){var n=0,k=0,A=E-e,N=1<<A;for(s.sort(function(W,j){return b[j.s]-b[W.s]||W.f-j.f});n<a;++n){var I=s[n].s;if(b[I]>e)k+=N-(1<<E-b[I]),b[I]=e;else break}for(k>>=A;k>0;){var P=s[n].s;b[P]<e?k-=1<<e-b[P]++-1:++n}for(;n>=0&&k;--n){var z=s[n].s;b[z]==e&&(--b[z],++k)}E=e}return{t:new Hs(b),l:E}},Xy=function(t,e,r){return t.s==-1?Math.max(Xy(t.l,e,r+1),Xy(t.r,e,r+1)):e[t.s]=r},q4=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Qi(++e),n=0,a=t[0],s=1,o=function(h){r[n++]=h},c=1;c<=e;++c)if(t[c]==a&&c!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[c]}return{c:r.subarray(0,n),n:e}},Hd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},S6=function(t,e,r){var n=r.length,a=v5(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var s=0;s<n;++s)t[a+s+4]=r[s];return(a+4+n)*8},H4=function(t,e,r,n,a,s,o,c,h,d,p){Bc(e,p++,r),++a[256];for(var y=X2(a,15),v=y.t,b=y.l,E=X2(s,15),k=E.t,A=E.l,N=q4(v),I=N.c,P=N.n,z=q4(k),G=z.c,W=z.n,j=new Qi(19),L=0;L<I.length;++L)++j[I[L]&31];for(var L=0;L<G.length;++L)++j[G[L]&31];for(var R=X2(j,7),U=R.t,D=R.l,C=19;C>4&&!U[Ky[C-1]];--C);var B=d+5<<3,ne=Hd(a,v0)+Hd(s,Im)+o,ye=Hd(a,v)+Hd(s,k)+o+14+3*C+Hd(j,U)+2*j[16]+3*j[17]+7*j[18];if(h>=0&&B<=ne&&B<=ye)return S6(e,p,t.subarray(h,h+d));var ae,le,ce,te;if(Bc(e,p,1+(ye<ne)),p+=2,ye<ne){ae=nc(v,b,0),le=v,ce=nc(k,A,0),te=k;var Y=nc(U,D,0);Bc(e,p,P-257),Bc(e,p+5,W-1),Bc(e,p+10,C-4),p+=14;for(var L=0;L<C;++L)Bc(e,p+3*L,U[Ky[L]]);p+=3*C;for(var Te=[I,G],F=0;F<2;++F)for(var H=Te[F],L=0;L<H.length;++L){var K=H[L]&31;Bc(e,p,Y[K]),p+=U[K],K>15&&(Bc(e,p,H[L]>>5&127),p+=H[L]>>12)}}else ae=tP,le=v0,ce=nP,te=Im;for(var L=0;L<c;++L){var Q=n[L];if(Q>255){var K=Q>>18&31;qd(e,p,ae[K+257]),p+=le[K+257],K>7&&(Bc(e,p,Q>>23&31),p+=dx[K]);var re=Q&31;qd(e,p,ce[re]),p+=te[re],re>3&&(qd(e,p,Q>>5&8191),p+=mx[re])}else qd(e,p,ae[Q]),p+=le[Q]}return qd(e,p,ae[256]),p+le[256]},oP=new y5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),T6=new Hs(0),lP=function(t,e,r,n,a,s){var o=s.z||t.length,c=new Hs(n+o+5*(1+Math.ceil(o/7e3))+a),h=c.subarray(n,c.length-a),d=s.l,p=(s.r||0)&7;if(e){p&&(h[0]=s.r>>3);for(var y=oP[e-1],v=y>>13,b=y&8191,E=(1<<r)-1,k=s.p||new Qi(32768),A=s.h||new Qi(E+1),N=Math.ceil(r/3),I=2*N,P=function(Qe){return(t[Qe]^t[Qe+1]<<N^t[Qe+2]<<I)&E},z=new y5(25e3),G=new Qi(288),W=new Qi(32),j=0,L=0,R=s.i||0,U=0,D=s.w||0,C=0;R+2<o;++R){var B=P(R),ne=R&32767,ye=A[B];if(k[ne]=ye,A[B]=ne,D<=R){var ae=o-R;if((j>7e3||U>24576)&&(ae>423||!d)){p=H4(t,h,0,z,G,W,L,U,C,R-C,p),U=j=L=0,C=R;for(var le=0;le<286;++le)G[le]=0;for(var le=0;le<30;++le)W[le]=0}var ce=2,te=0,Y=b,Te=ne-ye&32767;if(ae>2&&B==P(R-Te))for(var F=Math.min(v,ae)-1,H=Math.min(32767,R),K=Math.min(258,ae);Te<=H&&--Y&&ne!=ye;){if(t[R+ce]==t[R+ce-Te]){for(var Q=0;Q<K&&t[R+Q]==t[R+Q-Te];++Q);if(Q>ce){if(ce=Q,te=Te,Q>F)break;for(var re=Math.min(Te,Q-2),de=0,le=0;le<re;++le){var ve=R-Te+le&32767,we=k[ve],Le=ve-we&32767;Le>de&&(de=Le,ye=ve)}}}ne=ye,ye=k[ne],Te+=ne-ye&32767}if(te){z[U++]=268435456|Wy[ce]<<18|z4[te];var tt=Wy[ce]&31,J=z4[te]&31;L+=dx[tt]+mx[J],++G[257+tt],++W[J],D=R+ce,++j}else z[U++]=t[R],++G[t[R]]}}for(R=Math.max(R,D);R<o;++R)z[U++]=t[R],++G[t[R]];p=H4(t,h,d,z,G,W,L,U,C,R-C,p),d||(s.r=p&7|h[p/8|0]<<3,p-=7,s.h=A,s.p=k,s.i=R,s.w=D)}else{for(var R=s.w||0;R<o+d;R+=65535){var Ne=R+65535;Ne>=o&&(h[p/8|0]=d,Ne=o),p=S6(h,p+1,t.subarray(R,Ne))}s.i=o}return A6(c,0,n+v5(p)+a)},N6=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,s=r.length|0,o=0;o!=s;){for(var c=Math.min(o+2655,s);o<c;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},cP=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Hs(s.length+t.length);o.set(s),o.set(t,s.length),t=o,a.w=s.length}return lP(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},C6=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},uP=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=N6();a.p(e.dictionary),C6(t,2,a.d())}},fP=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&sl(6,"invalid zlib data"),(t[1]>>5&1)==1&&sl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Qy(t,e){e||(e={});var r=N6();r.p(t);var n=cP(t,e,e.dictionary?6:2,4);return uP(n,e),C6(n,n.length-4,r.d()),n}function hP(t,e){return iP(t.subarray(fP(t),-4),{i:2},e,e)}var dP=typeof TextDecoder<"u"&&new TextDecoder,mP=0;try{dP.decode(T6,{stream:!0}),mP=1}catch{}var ar=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Q2(){ar.console&&typeof ar.console.log=="function"&&ar.console.log.apply(ar.console,arguments)}var An={log:Q2,warn:function(t){ar.console&&(typeof ar.console.warn=="function"?ar.console.warn.apply(ar.console,arguments):Q2.call(null,arguments))},error:function(t){ar.console&&(typeof ar.console.error=="function"?ar.console.error.apply(ar.console,arguments):Q2(t))}};function J2(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Q0(n.response,e,r)},n.onerror=function(){An.error("could not download file")},n.send()}function G4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function gg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var lm,Jy,Q0=ar.saveAs||((typeof window>"u"?"undefined":gn(window))!=="object"||window!==ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ar.URL||ar.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?G4(a.href)?J2(t,e,r):gg(a,a.target="_blank"):gg(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){gg(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(G4(t))J2(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){gg(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:gn(s)!=="object"&&(An.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return J2(t,e,r);var a=t.type==="application/octet-stream",s=/constructor/i.test(ar.HTMLElement)||ar.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":gn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},c.readAsDataURL(t)}else{var h=ar.URL||ar.webkitURL,d=h.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function R6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),h=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),"#"+c+h+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Z2(t,e){var r=t[0],n=t[1],a=t[2],s=t[3];r=Ls(r,n,a,s,e[0],7,-680876936),s=Ls(s,r,n,a,e[1],12,-389564586),a=Ls(a,s,r,n,e[2],17,606105819),n=Ls(n,a,s,r,e[3],22,-1044525330),r=Ls(r,n,a,s,e[4],7,-176418897),s=Ls(s,r,n,a,e[5],12,1200080426),a=Ls(a,s,r,n,e[6],17,-1473231341),n=Ls(n,a,s,r,e[7],22,-45705983),r=Ls(r,n,a,s,e[8],7,1770035416),s=Ls(s,r,n,a,e[9],12,-1958414417),a=Ls(a,s,r,n,e[10],17,-42063),n=Ls(n,a,s,r,e[11],22,-1990404162),r=Ls(r,n,a,s,e[12],7,1804603682),s=Ls(s,r,n,a,e[13],12,-40341101),a=Ls(a,s,r,n,e[14],17,-1502002290),r=js(r,n=Ls(n,a,s,r,e[15],22,1236535329),a,s,e[1],5,-165796510),s=js(s,r,n,a,e[6],9,-1069501632),a=js(a,s,r,n,e[11],14,643717713),n=js(n,a,s,r,e[0],20,-373897302),r=js(r,n,a,s,e[5],5,-701558691),s=js(s,r,n,a,e[10],9,38016083),a=js(a,s,r,n,e[15],14,-660478335),n=js(n,a,s,r,e[4],20,-405537848),r=js(r,n,a,s,e[9],5,568446438),s=js(s,r,n,a,e[14],9,-1019803690),a=js(a,s,r,n,e[3],14,-187363961),n=js(n,a,s,r,e[8],20,1163531501),r=js(r,n,a,s,e[13],5,-1444681467),s=js(s,r,n,a,e[2],9,-51403784),a=js(a,s,r,n,e[7],14,1735328473),r=Os(r,n=js(n,a,s,r,e[12],20,-1926607734),a,s,e[5],4,-378558),s=Os(s,r,n,a,e[8],11,-2022574463),a=Os(a,s,r,n,e[11],16,1839030562),n=Os(n,a,s,r,e[14],23,-35309556),r=Os(r,n,a,s,e[1],4,-1530992060),s=Os(s,r,n,a,e[4],11,1272893353),a=Os(a,s,r,n,e[7],16,-155497632),n=Os(n,a,s,r,e[10],23,-1094730640),r=Os(r,n,a,s,e[13],4,681279174),s=Os(s,r,n,a,e[0],11,-358537222),a=Os(a,s,r,n,e[3],16,-722521979),n=Os(n,a,s,r,e[6],23,76029189),r=Os(r,n,a,s,e[9],4,-640364487),s=Os(s,r,n,a,e[12],11,-421815835),a=Os(a,s,r,n,e[15],16,530742520),r=Ps(r,n=Os(n,a,s,r,e[2],23,-995338651),a,s,e[0],6,-198630844),s=Ps(s,r,n,a,e[7],10,1126891415),a=Ps(a,s,r,n,e[14],15,-1416354905),n=Ps(n,a,s,r,e[5],21,-57434055),r=Ps(r,n,a,s,e[12],6,1700485571),s=Ps(s,r,n,a,e[3],10,-1894986606),a=Ps(a,s,r,n,e[10],15,-1051523),n=Ps(n,a,s,r,e[1],21,-2054922799),r=Ps(r,n,a,s,e[8],6,1873313359),s=Ps(s,r,n,a,e[15],10,-30611744),a=Ps(a,s,r,n,e[6],15,-1560198380),n=Ps(n,a,s,r,e[13],21,1309151649),r=Ps(r,n,a,s,e[4],6,-145523070),s=Ps(s,r,n,a,e[11],10,-1120210379),a=Ps(a,s,r,n,e[2],15,718787259),n=Ps(n,a,s,r,e[9],21,-343485551),t[0]=a0(r,t[0]),t[1]=a0(n,t[1]),t[2]=a0(a,t[2]),t[3]=a0(s,t[3])}function px(t,e,r,n,a,s){return e=a0(a0(e,t),a0(n,s)),a0(e<<a|e>>>32-a,r)}function Ls(t,e,r,n,a,s,o){return px(e&r|~e&n,t,e,a,s,o)}function js(t,e,r,n,a,s,o){return px(e&n|r&~n,t,e,a,s,o)}function Os(t,e,r,n,a,s,o){return px(e^r^n,t,e,a,s,o)}function Ps(t,e,r,n,a,s,o){return px(r^(e|~n),t,e,a,s,o)}function I6(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Z2(n,pP(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Z2(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Z2(n,a),n}function pP(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}lm=ar.atob.bind(ar),Jy=ar.btoa.bind(ar);var $4="0123456789abcdef".split("");function gP(t){for(var e="",r=0;r<4;r++)e+=$4[t>>8*r+4&15]+$4[t>>8*r&15];return e}function xP(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Zy(t){return I6(t).map(xP).join("")}var yP=function(t){for(var e=0;e<t.length;e++)t[e]=gP(t[e]);return t.join("")}(I6("hello"))!="5d41402abc4b2a76b9719d911017c592";function a0(t,e){if(yP){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ev(t,e){var r,n,a,s;if(t!==r){for(var o=(a=t,s=1+(256/t.length>>0),new Array(s+1).join(a)),c=[],h=0;h<256;h++)c[h]=h;var d=0;for(h=0;h<256;h++){var p=c[h];d=(d+p+o.charCodeAt(h))%256,c[h]=c[d],c[d]=p}r=t,n=c}else c=n;var y=e.length,v=0,b=0,E="";for(h=0;h<y;h++)b=(b+(p=c[v=(v+1)%256]))%256,c[v]=c[b],c[b]=p,o=c[(c[v]+c[b])%256],E+=String.fromCharCode(e.charCodeAt(h)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var K4={print:4,modify:8,copy:16,"annot-forms":32};function hh(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(c){if(K4.perm!==void 0)throw new Error("Invalid permission: "+c);a+=K4[c]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=Zy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ev(this.encryptionKey,this.padding)}function dh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function W4(t){if(gn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(c){ar.console&&An.error("jsPDF PubSub Error",c.message,c)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function v1(t){if(!(this instanceof v1))return new v1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function D6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function J0(t,e,r,n,a){if(!(this instanceof J0))return new J0(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,D6.call(this,n,a)}function xh(t,e,r,n,a){if(!(this instanceof xh))return new xh(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,D6.call(this,n,a)}function rr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],c=1,h=16,d="S",p=null;gn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var y=t.putOnlyUsedFonts||!1,v={},b={internal:{},__private__:{}};b.__private__.PubSub=W4;var E="1.3",k=b.__private__.getPdfVersion=function(){return E};b.__private__.setPdfVersion=function(T){E=T};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return A};var N=b.__private__.getPageFormat=function(T){return A[T]};a=a||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},P=I.COMPAT;function z(){this.saveGraphicsState(),me(new Rt(vt,0,0,-vt,0,Ka()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),d="n",P=I.ADVANCED}function G(){this.restoreGraphicsState(),d="S",P=I.COMPAT}var W=b.__private__.combineFontStyleAndFontWeight=function(T,ee){if(T=="bold"&&ee=="normal"||T=="bold"&&ee==400||T=="normal"&&ee=="italic"||T=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(T=ee==400||ee==="normal"?T==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||T!=="normal"?(ee==700?"bold":ee)+""+T:"bold"),T};b.advancedAPI=function(T){var ee=P===I.COMPAT;return ee&&z.call(this),typeof T!="function"||(T(this),ee&&G.call(this)),this},b.compatAPI=function(T){var ee=P===I.ADVANCED;return ee&&G.call(this),typeof T!="function"||(T(this),ee&&z.call(this)),this},b.isAdvancedAPI=function(){return P===I.ADVANCED};var j,L=function(T){if(P!==I.ADVANCED)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=b.roundToPrecision=b.__private__.roundToPrecision=function(T,ee){var Se=e||ee;if(isNaN(T)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(Se).replace(/0+$/,"")};j=b.hpf=b.__private__.hpf=typeof h=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return R(T,h)}:h==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return R(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return R(T,16)};var U=b.f2=b.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return R(T,2)},D=b.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return R(T,3)},C=b.scale=b.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return P===I.COMPAT?T*vt:P===I.ADVANCED?T:void 0},B=function(T){return P===I.COMPAT?Ka()-T:P===I.ADVANCED?T:void 0},ne=function(T){return C(B(T))};b.__private__.setPrecision=b.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(e=parseInt(T,10))};var ye,ae="00000000000000000000000000000000",le=b.__private__.getFileId=function(){return ae},ce=b.__private__.setFileId=function(T){return ae=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(hn=new hh(p.userPermissions,p.userPassword,p.ownerPassword,ae)),ae};b.setFileId=function(T){return ce(T),this},b.getFileId=function(){return le()};var te=b.__private__.convertDateToPDFDate=function(T){var ee=T.getTimezoneOffset(),Se=ee<0?"+":"-",Re=Math.floor(Math.abs(ee/60)),Be=Math.abs(ee%60),nt=[Se,K(Re),"'",K(Be),"'"].join("");return["D:",T.getFullYear(),K(T.getMonth()+1),K(T.getDate()),K(T.getHours()),K(T.getMinutes()),K(T.getSeconds()),nt].join("")},Y=b.__private__.convertPDFDateToDate=function(T){var ee=parseInt(T.substr(2,4),10),Se=parseInt(T.substr(6,2),10)-1,Re=parseInt(T.substr(8,2),10),Be=parseInt(T.substr(10,2),10),nt=parseInt(T.substr(12,2),10),gt=parseInt(T.substr(14,2),10);return new Date(ee,Se,Re,Be,nt,gt,0)},Te=b.__private__.setCreationDate=function(T){var ee;if(T===void 0&&(T=new Date),T instanceof Date)ee=te(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=T}return ye=ee},F=b.__private__.getCreationDate=function(T){var ee=ye;return T==="jsDate"&&(ee=Y(ye)),ee};b.setCreationDate=function(T){return Te(T),this},b.getCreationDate=function(T){return F(T)};var H,K=b.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},Q=b.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},re=0,de=[],ve=[],we=0,Le=[],tt=[],J=!1,Ne=ve,Qe=function(){re=0,we=0,ve=[],de=[],Le=[],ge=Tn(),xe=Tn()};b.__private__.setCustomOutputDestination=function(T){J=!0,Ne=T};var je=function(T){J||(Ne=T)};b.__private__.resetCustomOutputDestination=function(){J=!1,Ne=ve};var me=b.__private__.out=function(T){return T=T.toString(),we+=T.length+1,Ne.push(T),Ne},Ke=b.__private__.write=function(T){return me(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},xt=b.__private__.getArrayBuffer=function(T){for(var ee=T.length,Se=new ArrayBuffer(ee),Re=new Uint8Array(Se);ee--;)Re[ee]=T.charCodeAt(ee);return Se},st=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return st};var pt=t.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(T){return pt=P===I.ADVANCED?T/vt:T,this};var _t,bt=b.__private__.getFontSize=b.getFontSize=function(){return P===I.COMPAT?pt:pt*vt},Dt=t.R2L||!1;b.__private__.setR2L=b.setR2L=function(T){return Dt=T,this},b.__private__.getR2L=b.getR2L=function(){return Dt};var Ut,Wt=b.__private__.setZoomMode=function(T){var ee=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))_t=T;else if(isNaN(T)){if(ee.indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');_t=T}else _t=parseInt(T,10)};b.__private__.getZoomMode=function(){return _t};var jt,Ot=b.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');Ut=T};b.__private__.getPageMode=function(){return Ut};var Ht=b.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');jt=T};b.__private__.getLayoutMode=function(){return jt},b.__private__.setDisplayMode=b.setDisplayMode=function(T,ee,Se){return Wt(T),Ht(ee),Ot(Se),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(T){if(Object.keys(It).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[T]},b.__private__.getDocumentProperties=function(){return It},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(T){for(var ee in It)It.hasOwnProperty(ee)&&T[ee]&&(It[ee]=T[ee]);return this},b.__private__.setDocumentProperty=function(T,ee){if(Object.keys(It).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[T]=ee};var Nt,vt,Dr,qt,wn,pr={},Kr={},ga=[],br={},bs={},sn={},Un={},na=null,Wr=0,$t=[],Tr=new W4(b),za=t.hotfixes||[],Sn={},aa={},is=[],Rt=function T(ee,Se,Re,Be,nt,gt){if(!(this instanceof T))return new T(ee,Se,Re,Be,nt,gt);isNaN(ee)&&(ee=1),isNaN(Se)&&(Se=0),isNaN(Re)&&(Re=0),isNaN(Be)&&(Be=1),isNaN(nt)&&(nt=0),isNaN(gt)&&(gt=0),this._matrix=[ee,Se,Re,Be,nt,gt]};Object.defineProperty(Rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(Rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(Rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(Rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(Rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(Rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(Rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Rt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(T)},Rt.prototype.multiply=function(T){var ee=T.sx*this.sx+T.shy*this.shx,Se=T.sx*this.shy+T.shy*this.sy,Re=T.shx*this.sx+T.sy*this.shx,Be=T.shx*this.shy+T.sy*this.sy,nt=T.tx*this.sx+T.ty*this.shx+this.tx,gt=T.tx*this.shy+T.ty*this.sy+this.ty;return new Rt(ee,Se,Re,Be,nt,gt)},Rt.prototype.decompose=function(){var T=this.sx,ee=this.shy,Se=this.shx,Re=this.sy,Be=this.tx,nt=this.ty,gt=Math.sqrt(T*T+ee*ee),St=(T/=gt)*Se+(ee/=gt)*Re;Se-=T*St,Re-=ee*St;var x=Math.sqrt(Se*Se+Re*Re);return St/=x,T*(Re/=x)<ee*(Se/=x)&&(T=-T,ee=-ee,St=-St,gt=-gt),{scale:new Rt(gt,0,0,x,0,0),translate:new Rt(1,0,0,1,Be,nt),rotate:new Rt(T,ee,-ee,T,0,0),skew:new Rt(1,0,St,1,0,0)}},Rt.prototype.toString=function(T){return this.join(" ")},Rt.prototype.inversed=function(){var T=this.sx,ee=this.shy,Se=this.shx,Re=this.sy,Be=this.tx,nt=this.ty,gt=1/(T*Re-ee*Se),St=Re*gt,x=-ee*gt,M=-Se*gt,q=T*gt;return new Rt(St,x,M,q,-St*Be-M*nt,-x*Be-q*nt)},Rt.prototype.applyToPoint=function(T){var ee=T.x*this.sx+T.y*this.shx+this.tx,Se=T.x*this.shy+T.y*this.sy+this.ty;return new Po(ee,Se)},Rt.prototype.applyToRectangle=function(T){var ee=this.applyToPoint(T),Se=this.applyToPoint(new Po(T.x+T.w,T.y+T.h));return new _l(ee.x,ee.y,Se.x-ee.x,Se.y-ee.y)},Rt.prototype.clone=function(){var T=this.sx,ee=this.shy,Se=this.shx,Re=this.sy,Be=this.tx,nt=this.ty;return new Rt(T,ee,Se,Re,Be,nt)},b.Matrix=Rt;var Yr=b.matrixMult=function(T,ee){return ee.multiply(T)},Fr=new Rt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Fr;var fn=function(T,ee){if(!bs[T]){var Se=(ee instanceof J0?"Sh":"P")+(Object.keys(br).length+1).toString(10);ee.id=Se,bs[T]=Se,br[Se]=ee,Tr.publish("addPattern",ee)}};b.ShadingPattern=J0,b.TilingPattern=xh,b.addShadingPattern=function(T,ee){return L("addShadingPattern()"),fn(T,ee),this},b.beginTilingPattern=function(T){L("beginTilingPattern()"),lo(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},b.endTilingPattern=function(T,ee){L("endTilingPattern()"),ee.stream=tt[H].join(`
`),fn(T,ee),Tr.publish("endTilingPattern",ee),is.pop().restore()};var _n=b.__private__.newObject=function(){var T=Tn();return se(T,!0),T},Tn=b.__private__.newObjectDeferred=function(){return re++,de[re]=function(){return we},re},se=function(T,ee){return ee=typeof ee=="boolean"&&ee,de[T]=we,ee&&me(T+" 0 obj"),T},ke=b.__private__.newAdditionalObject=function(){var T={objId:Tn(),content:""};return Le.push(T),T},ge=Tn(),xe=Tn(),_e=b.__private__.decodeColorString=function(T){var ee=T.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length===5&&(ee[4]==="k"||ee[4]==="K")&&(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var Se=parseFloat(ee[0]);ee=[Se,Se,Se,"r"]}for(var Re="#",Be=0;Be<3;Be++)Re+=("0"+Math.floor(255*parseFloat(ee[Be])).toString(16)).slice(-2);return Re},Ee=b.__private__.encodeColorString=function(T){var ee;typeof T=="string"&&(T={ch1:T});var Se=T.ch1,Re=T.ch2,Be=T.ch3,nt=T.ch4,gt=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var St=new R6(Se);if(St.ok)Se=St.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var x=parseInt(Se.substr(1),16);Se=x>>16&255,Re=x>>8&255,Be=255&x}if(Re===void 0||nt===void 0&&Se===Re&&Re===Be)if(typeof Se=="string")ee=Se+" "+gt[0];else switch(T.precision){case 2:ee=U(Se/255)+" "+gt[0];break;case 3:default:ee=D(Se/255)+" "+gt[0]}else if(nt===void 0||gn(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return ee=["1.","1.","1.",gt[1]].join(" ");if(typeof Se=="string")ee=[Se,Re,Be,gt[1]].join(" ");else switch(T.precision){case 2:ee=[U(Se/255),U(Re/255),U(Be/255),gt[1]].join(" ");break;default:case 3:ee=[D(Se/255),D(Re/255),D(Be/255),gt[1]].join(" ")}}else if(typeof Se=="string")ee=[Se,Re,Be,nt,gt[2]].join(" ");else switch(T.precision){case 2:ee=[U(Se),U(Re),U(Be),U(nt),gt[2]].join(" ");break;case 3:default:ee=[D(Se),D(Re),D(Be),D(nt),gt[2]].join(" ")}return ee},ze=b.__private__.getFilters=function(){return o},Ze=b.__private__.putStream=function(T){var ee=(T=T||{}).data||"",Se=T.filters||ze(),Re=T.alreadyAppliedFilters||[],Be=T.addLength1||!1,nt=ee.length,gt=T.objectId,St=function(Zt){return Zt};if(p!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(St=hn.encryptor(gt,0));var x={};Se===!0&&(Se=["FlateEncode"]);var M=T.additionalKeyValues||[],q=(x=rr.API.processDataByFilters!==void 0?rr.API.processDataByFilters(ee,Se):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(x.data.length!==0&&(M.push({key:"Length",value:x.data.length}),Be===!0&&M.push({key:"Length1",value:nt})),q.length!=0)if(q.split("/").length-1==1)M.push({key:"Filter",value:q});else{M.push({key:"Filter",value:"["+q+"]"});for(var fe=0;fe<M.length;fe+=1)if(M[fe].key==="DecodeParms"){for(var Fe=[],We=0;We<x.reverseChain.split("/").length-1;We+=1)Fe.push("null");Fe.push(M[fe].value),M[fe].value="["+Fe.join(" ")+"]"}}me("<<");for(var yt=0;yt<M.length;yt++)me("/"+M[yt].key+" "+M[yt].value);me(">>"),x.data.length!==0&&(me("stream"),me(St(x.data)),me("endstream"))},Me=b.__private__.putPage=function(T){var ee=T.number,Se=T.data,Re=T.objId,Be=T.contentsObjId;se(Re,!0),me("<</Type /Page"),me("/Parent "+T.rootDictionaryObjId+" 0 R"),me("/Resources "+T.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(j(T.mediaBox.bottomLeftX))+" "+parseFloat(j(T.mediaBox.bottomLeftY))+" "+j(T.mediaBox.topRightX)+" "+j(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&me("/CropBox ["+j(T.cropBox.bottomLeftX)+" "+j(T.cropBox.bottomLeftY)+" "+j(T.cropBox.topRightX)+" "+j(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&me("/BleedBox ["+j(T.bleedBox.bottomLeftX)+" "+j(T.bleedBox.bottomLeftY)+" "+j(T.bleedBox.topRightX)+" "+j(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&me("/TrimBox ["+j(T.trimBox.bottomLeftX)+" "+j(T.trimBox.bottomLeftY)+" "+j(T.trimBox.topRightX)+" "+j(T.trimBox.topRightY)+"]"),T.artBox!==null&&me("/ArtBox ["+j(T.artBox.bottomLeftX)+" "+j(T.artBox.bottomLeftY)+" "+j(T.artBox.topRightX)+" "+j(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&me("/UserUnit "+T.userUnit),Tr.publish("putPage",{objId:Re,pageContext:$t[ee],pageNumber:ee,page:Se}),me("/Contents "+Be+" 0 R"),me(">>"),me("endobj");var nt=Se.join(`
`);return P===I.ADVANCED&&(nt+=`
Q`),se(Be,!0),Ze({data:nt,filters:ze(),objectId:Be}),me("endobj"),Re},Ge=b.__private__.putPages=function(){var T,ee,Se=[];for(T=1;T<=Wr;T++)$t[T].objId=Tn(),$t[T].contentsObjId=Tn();for(T=1;T<=Wr;T++)Se.push(Me({number:T,data:tt[T],objId:$t[T].objId,contentsObjId:$t[T].contentsObjId,mediaBox:$t[T].mediaBox,cropBox:$t[T].cropBox,bleedBox:$t[T].bleedBox,trimBox:$t[T].trimBox,artBox:$t[T].artBox,userUnit:$t[T].userUnit,rootDictionaryObjId:ge,resourceDictionaryObjId:xe}));se(ge,!0),me("<</Type /Pages");var Re="/Kids [";for(ee=0;ee<Wr;ee++)Re+=Se[ee]+" 0 R ";me(Re+"]"),me("/Count "+Wr),me(">>"),me("endobj"),Tr.publish("postPutPages")},Xe=function(T){Tr.publish("putFont",{font:T,out:me,newObject:_n,putStream:Ze}),T.isAlreadyPutted!==!0&&(T.objectNumber=_n(),me("<<"),me("/Type /Font"),me("/BaseFont /"+dh(T.postScriptName)),me("/Subtype /Type1"),typeof T.encoding=="string"&&me("/Encoding /"+T.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},ft=function(){for(var T in pr)pr.hasOwnProperty(T)&&(y===!1||y===!0&&v.hasOwnProperty(T))&&Xe(pr[T])},kt=function(T){T.objectNumber=_n();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[j(T.x),j(T.y),j(T.x+T.width),j(T.y+T.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var Se=T.pages[1].join(`
`);Ze({data:Se,additionalKeyValues:ee,objectId:T.objectNumber}),me("endobj")},Ct=function(){for(var T in Sn)Sn.hasOwnProperty(T)&&kt(Sn[T])},wt=function(T,ee){var Se,Re=[],Be=1/(ee-1);for(Se=0;Se<1;Se+=Be)Re.push(Se);if(Re.push(1),T[0].offset!=0){var nt={offset:0,color:T[0].color};T.unshift(nt)}if(T[T.length-1].offset!=1){var gt={offset:1,color:T[T.length-1].color};T.push(gt)}for(var St="",x=0,M=0;M<Re.length;M++){for(Se=Re[M];Se>T[x+1].offset;)x++;var q=T[x].offset,fe=(Se-q)/(T[x+1].offset-q),Fe=T[x].color,We=T[x+1].color;St+=Q(Math.round((1-fe)*Fe[0]+fe*We[0]).toString(16))+Q(Math.round((1-fe)*Fe[1]+fe*We[1]).toString(16))+Q(Math.round((1-fe)*Fe[2]+fe*We[2]).toString(16))}return St.trim()},Et=function(T,ee){ee||(ee=21);var Se=_n(),Re=wt(T.colors,ee),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+ee+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze({data:Re,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),me("endobj"),T.objectNumber=_n(),me("<< /ShadingType "+T.type),me("/ColorSpace /DeviceRGB");var nt="/Coords ["+j(parseFloat(T.coords[0]))+" "+j(parseFloat(T.coords[1]))+" ";T.type===2?nt+=j(parseFloat(T.coords[2]))+" "+j(parseFloat(T.coords[3])):nt+=j(parseFloat(T.coords[2]))+" "+j(parseFloat(T.coords[3]))+" "+j(parseFloat(T.coords[4]))+" "+j(parseFloat(T.coords[5])),me(nt+="]"),T.matrix&&me("/Matrix ["+T.matrix.toString()+"]"),me("/Function "+Se+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},Qt=function(T,ee){var Se=Tn(),Re=_n();ee.push({resourcesOid:Se,objectOid:Re}),T.objectNumber=Re;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+T.boundingBox.map(j).join(" ")+"]"}),Be.push({key:"XStep",value:j(T.xStep)}),Be.push({key:"YStep",value:j(T.yStep)}),Be.push({key:"Resources",value:Se+" 0 R"}),T.matrix&&Be.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Ze({data:T.stream,additionalKeyValues:Be,objectId:T.objectNumber}),me("endobj")},wr=function(T){var ee;for(ee in br)br.hasOwnProperty(ee)&&(br[ee]instanceof J0?Et(br[ee]):br[ee]instanceof xh&&Qt(br[ee],T))},_r=function(T){for(var ee in T.objectNumber=_n(),me("<<"),T)switch(ee){case"opacity":me("/ca "+U(T[ee]));break;case"stroke-opacity":me("/CA "+U(T[ee]))}me(">>"),me("endobj")},Nr=function(){var T;for(T in sn)sn.hasOwnProperty(T)&&_r(sn[T])},Ca=function(){for(var T in me("/XObject <<"),Sn)Sn.hasOwnProperty(T)&&Sn[T].objectNumber>=0&&me("/"+T+" "+Sn[T].objectNumber+" 0 R");Tr.publish("putXobjectDict"),me(">>")},ci=function(){hn.oid=_n(),me("<<"),me("/Filter /Standard"),me("/V "+hn.v),me("/R "+hn.r),me("/U <"+hn.toHexString(hn.U)+">"),me("/O <"+hn.toHexString(hn.O)+">"),me("/P "+hn.P),me(">>"),me("endobj")},xa=function(){for(var T in me("/Font <<"),pr)pr.hasOwnProperty(T)&&(y===!1||y===!0&&v.hasOwnProperty(T))&&me("/"+T+" "+pr[T].objectNumber+" 0 R");me(">>")},qa=function(){if(Object.keys(br).length>0){for(var T in me("/Shading <<"),br)br.hasOwnProperty(T)&&br[T]instanceof J0&&br[T].objectNumber>=0&&me("/"+T+" "+br[T].objectNumber+" 0 R");Tr.publish("putShadingPatternDict"),me(">>")}},os=function(T){if(Object.keys(br).length>0){for(var ee in me("/Pattern <<"),br)br.hasOwnProperty(ee)&&br[ee]instanceof b.TilingPattern&&br[ee].objectNumber>=0&&br[ee].objectNumber<T&&me("/"+ee+" "+br[ee].objectNumber+" 0 R");Tr.publish("putTilingPatternDict"),me(">>")}},Ra=function(){if(Object.keys(sn).length>0){var T;for(T in me("/ExtGState <<"),sn)sn.hasOwnProperty(T)&&sn[T].objectNumber>=0&&me("/"+T+" "+sn[T].objectNumber+" 0 R");Tr.publish("putGStateDict"),me(">>")}},xn=function(T){se(T.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),xa(),qa(),os(T.objectOid),Ra(),Ca(),me(">>"),me("endobj")},ya=function(){var T=[];ft(),Nr(),Ct(),wr(T),Tr.publish("putResources"),T.forEach(xn),xn({resourcesOid:xe,objectOid:Number.MAX_SAFE_INTEGER}),Tr.publish("postPutResources")},xl=function(){Tr.publish("putAdditionalObjects");for(var T=0;T<Le.length;T++){var ee=Le[T];se(ee.objId,!0),me(ee.content),me("endobj")}Tr.publish("postPutAdditionalObjects")},du=function(T){Kr[T.fontName]=Kr[T.fontName]||{},Kr[T.fontName][T.fontStyle]=T.id},Zi=function(T,ee,Se,Re,Be){var nt={id:"F"+(Object.keys(pr).length+1).toString(10),postScriptName:T,fontName:ee,fontStyle:Se,encoding:Re,isStandardFont:Be||!1,metadata:{}};return Tr.publish("addFont",{font:nt,instance:this}),pr[nt.id]=nt,du(nt),nt.id},uc=function(T){for(var ee=0,Se=st.length;ee<Se;ee++){var Re=Zi.call(this,T[ee][0],T[ee][1],T[ee][2],st[ee][3],!0);y===!1&&(v[Re]=!0);var Be=T[ee][0].split("-");du({id:Re,fontName:Be[0],fontStyle:Be[1]||""})}Tr.publish("addFonts",{fonts:pr,dictionary:Kr})},Ia=function(T){return T.foo=function(){try{return T.apply(this,arguments)}catch(Re){var ee=Re.stack||"";~ee.indexOf(" at ")&&(ee=ee.split(" at ")[1]);var Se="Error in function "+ee.split(`
`)[0].split("<")[0]+": "+Re.message;if(!ar.console)throw new Error(Se);ar.console.error(Se,Re),ar.alert&&alert(Se)}},T.foo.bar=T,T.foo},yl=function(T,ee){var Se,Re,Be,nt,gt,St,x,M,q;if(Be=(ee=ee||{}).sourceEncoding||"Unicode",gt=ee.outputEncoding,(ee.autoencode||gt)&&pr[Nt].metadata&&pr[Nt].metadata[Be]&&pr[Nt].metadata[Be].encoding&&(nt=pr[Nt].metadata[Be].encoding,!gt&&pr[Nt].encoding&&(gt=pr[Nt].encoding),!gt&&nt.codePages&&(gt=nt.codePages[0]),typeof gt=="string"&&(gt=nt[gt]),gt)){for(x=!1,St=[],Se=0,Re=T.length;Se<Re;Se++)(M=gt[T.charCodeAt(Se)])?St.push(String.fromCharCode(M)):St.push(T[Se]),St[Se].charCodeAt(0)>>8&&(x=!0);T=St.join("")}for(Se=T.length;x===void 0&&Se!==0;)T.charCodeAt(Se-1)>>8&&(x=!0),Se--;if(!x)return T;for(St=ee.noBOM?[]:[254,255],Se=0,Re=T.length;Se<Re;Se++){if((q=(M=T.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+T+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(q),St.push(M-(q<<8))}return String.fromCharCode.apply(void 0,St)},Mr=b.__private__.pdfEscape=b.pdfEscape=function(T,ee){return yl(T,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Da=b.__private__.beginPage=function(T){tt[++Wr]=[],$t[Wr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},ui(Wr),je(tt[H])},eo=function(T,ee){var Se,Re,Be;switch(r=ee||r,typeof T=="string"&&(Se=N(T.toLowerCase()),Array.isArray(Se)&&(Re=Se[0],Be=Se[1])),Array.isArray(T)&&(Re=T[0]*vt,Be=T[1]*vt),isNaN(Re)&&(Re=a[0],Be=a[1]),(Re>14400||Be>14400)&&(An.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Be=Math.min(14400,Be)),a=[Re,Be],r.substr(0,1)){case"l":Be>Re&&(a=[Be,Re]);break;case"p":Re>Be&&(a=[Be,Re])}Da(a),mc(ao),me(La),pc!==0&&me(pc+" J"),Oo!==0&&me(Oo+" j"),Tr.publish("addPage",{pageNumber:Wr})},to=function(T){T>0&&T<=Wr&&(tt.splice(T,1),$t.splice(T,1),Wr--,H>Wr&&(H=Wr),this.setPage(H))},ui=function(T){T>0&&T<=Wr&&(H=T)},Jr=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return tt.length-1},ro=function(T,ee,Se){var Re,Be=void 0;return Se=Se||{},T=T!==void 0?T:pr[Nt].fontName,ee=ee!==void 0?ee:pr[Nt].fontStyle,Re=T.toLowerCase(),Kr[Re]!==void 0&&Kr[Re][ee]!==void 0?Be=Kr[Re][ee]:Kr[T]!==void 0&&Kr[T][ee]!==void 0?Be=Kr[T][ee]:Se.disableWarning===!1&&An.warn("Unable to look up font label for font '"+T+"', '"+ee+"'. Refer to getFontList() for available fonts."),Be||Se.noFallback||(Be=Kr.times[ee])==null&&(Be=Kr.times.normal),Be},ws=b.__private__.putInfo=function(){var T=_n(),ee=function(Re){return Re};for(var Se in p!==null&&(ee=hn.encryptor(T,0)),me("<<"),me("/Producer ("+Mr(ee("jsPDF "+rr.version))+")"),It)It.hasOwnProperty(Se)&&It[Se]&&me("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+Mr(ee(It[Se]))+")");me("/CreationDate ("+Mr(ee(ye))+")"),me(">>"),me("endobj")},Ri=b.__private__.putCatalog=function(T){var ee=(T=T||{}).rootDictionaryObjId||ge;switch(_n(),me("<<"),me("/Type /Catalog"),me("/Pages "+ee+" 0 R"),_t||(_t="fullwidth"),_t){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+_t;Se.substr(Se.length-1)==="%"&&(_t=parseInt(_t)/100),typeof _t=="number"&&me("/OpenAction [3 0 R /XYZ null null "+U(_t)+"]")}switch(jt||(jt="continuous"),jt){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}Ut&&me("/PageMode /"+Ut),Tr.publish("putCatalog"),me(">>"),me("endobj")},mu=b.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(re+1)),me("/Root "+re+" 0 R"),me("/Info "+(re-1)+" 0 R"),p!==null&&me("/Encrypt "+hn.oid+" 0 R"),me("/ID [ <"+ae+"> <"+ae+"> ]"),me(">>")},fc=b.__private__.putHeader=function(){me("%PDF-"+E),me("%ºß¬à")},hc=b.__private__.putXRef=function(){var T="0000000000";me("xref"),me("0 "+(re+1)),me("0000000000 65535 f ");for(var ee=1;ee<=re;ee++)typeof de[ee]=="function"?me((T+de[ee]()).slice(-10)+" 00000 n "):de[ee]!==void 0?me((T+de[ee]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},Ii=b.__private__.buildDocument=function(){Qe(),je(ve),Tr.publish("buildDocument"),fc(),Ge(),xl(),ya(),p!==null&&ci(),ws(),Ri();var T=we;return hc(),mu(),me("startxref"),me(""+T),me("%%EOF"),je(tt[H]),ve.join(`
`)},vl=b.__private__.getBlob=function(T){return new Blob([xt(T)],{type:"application/pdf"})},Di=b.output=b.__private__.output=Ia(function(T,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",T){case void 0:return Ii();case"save":b.save(ee.filename);break;case"arraybuffer":return xt(Ii());case"blob":return vl(Ii());case"bloburi":case"bloburl":if(ar.URL!==void 0&&typeof ar.URL.createObjectURL=="function")return ar.URL&&ar.URL.createObjectURL(vl(Ii()))||void 0;An.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Re=Ii();try{Se=Jy(Re)}catch{Se=Jy(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+ee.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(Be=ee.pdfObjectUrl,nt="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",St=ar.open();return St!==null&&St.document.write(gt),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var x='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',M=ar.open();if(M!==null){M.document.write(x);var q=this;M.document.documentElement.querySelector("#pdfViewer").onload=function(){M.document.title=ee.filename,M.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(q.output("bloburl"))}}return M}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Fe=ar.open();if(Fe!==null&&(Fe.document.write(fe),Fe.document.title=ee.filename),Fe||typeof safari>"u")return Fe;break;case"datauri":case"dataurl":return ar.document.location.href=this.output("datauristring",ee);default:return null}}),fi=function(T){return Array.isArray(za)===!0&&za.indexOf(T)>-1};switch(n){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=fi("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);vt=n}var hn=null;Te(),ce();var Li=function(T){return p!==null?hn.encryptor(T,0):function(ee){return ee}},hi=b.__private__.getPageInfo=b.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[T].objId,pageNumber:T,pageContext:$t[T]}},Jt=b.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in $t)if($t[ee].objId===T)break;return hi(ee)},di=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:$t[H].objId,pageNumber:H,pageContext:$t[H]}};b.addPage=function(){return eo.apply(this,arguments),this},b.setPage=function(){return ui.apply(this,arguments),je.call(this,tt[H]),this},b.insertPage=function(T){return this.addPage(),this.movePage(H,T),this},b.movePage=function(T,ee){var Se,Re;if(T>ee){Se=tt[T],Re=$t[T];for(var Be=T;Be>ee;Be--)tt[Be]=tt[Be-1],$t[Be]=$t[Be-1];tt[ee]=Se,$t[ee]=Re,this.setPage(ee)}else if(T<ee){Se=tt[T],Re=$t[T];for(var nt=T;nt<ee;nt++)tt[nt]=tt[nt+1],$t[nt]=$t[nt+1];tt[ee]=Se,$t[ee]=Re,this.setPage(ee)}return this},b.deletePage=function(){return to.apply(this,arguments),this},b.__private__.text=b.text=function(T,ee,Se,Re,Be){var nt,gt,St,x,M,q,fe,Fe,We,yt=(Re=Re||{}).scope||this;if(typeof T=="number"&&typeof ee=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Zt=Se;Se=ee,ee=T,T=Zt}if(arguments[3]instanceof Rt?(L("The transform parameter of text() with a Matrix value"),We=Be):(St=arguments[4],x=arguments[5],gn(fe=arguments[3])==="object"&&fe!==null||(typeof St=="string"&&(x=St,St=null),typeof fe=="string"&&(x=fe,fe=null),typeof fe=="number"&&(St=fe,fe=null),Re={flags:fe,angle:St,align:x})),isNaN(ee)||isNaN(Se)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return yt;var Rr="",cr=!1,Zr=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:Cr,ln=yt.internal.scaleFactor;function xi(kr){return kr=kr.split("	").join(Array(Re.TabLen||9).join(" ")),Mr(kr,fe)}function Vn(kr){for(var Er,yn=kr.concat(),zn=[],vi=yn.length;vi--;)typeof(Er=yn.shift())=="string"?zn.push(Er):Array.isArray(kr)&&(Er.length===1||Er[1]===void 0&&Er[2]===void 0)?zn.push(Er[0]):zn.push([Er[0],Er[1],Er[2]]);return zn}function As(kr,Er){var yn;if(typeof kr=="string")yn=Er(kr)[0];else if(Array.isArray(kr)){for(var zn,vi,Ll=kr.concat(),jl=[],Vo=Ll.length;Vo--;)typeof(zn=Ll.shift())=="string"?jl.push(Er(zn)[0]):Array.isArray(zn)&&typeof zn[0]=="string"&&(vi=Er(zn[0],zn[1],zn[2]),jl.push([vi[0],vi[1],vi[2]]));yn=jl}return yn}var uo=!1,El=!0;if(typeof T=="string")uo=!0;else if(Array.isArray(T)){var yu=T.concat();gt=[];for(var gc,sa=yu.length;sa--;)(typeof(gc=yu.shift())!="string"||Array.isArray(gc)&&typeof gc[0]!="string")&&(El=!1);uo=El}if(uo===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var Al=pt/yt.internal.scaleFactor,xc=Al*(Zr-1);switch(Re.baseline){case"bottom":Se-=xc;break;case"top":Se+=Al-xc;break;case"hanging":Se+=Al-2*xc;break;case"middle":Se+=Al/2-xc}if((q=Re.maxWidth||0)>0&&(typeof T=="string"?T=yt.splitTextToSize(T,q):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(kr,Er){return kr.concat(yt.splitTextToSize(Er,q))},[]))),nt={text:T,x:ee,y:Se,options:Re,mutex:{pdfEscape:Mr,activeFontKey:Nt,fonts:pr,activeFontSize:pt}},Tr.publish("preProcessText",nt),T=nt.text,St=(Re=nt.options).angle,!(We instanceof Rt)&&St&&typeof St=="number"){St*=Math.PI/180,Re.rotationDirection===0&&(St=-St),P===I.ADVANCED&&(St=-St);var yc=Math.cos(St),vu=Math.sin(St);We=new Rt(yc,vu,-vu,yc,0,0)}else St&&St instanceof Rt&&(We=St);P!==I.ADVANCED||We||(We=Fr),(M=Re.charSpace||jo)!==void 0&&(Rr+=j(C(M))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fe=Re.horizontalScale)!==void 0&&(Rr+=j(100*Fe)+` Tz
`),Re.lang;var Ss=-1,td=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,N0=yt.internal.getCurrentPageInfo().pageContext;switch(td){case 0:case!1:case"fill":Ss=0;break;case 1:case!0:case"stroke":Ss=1;break;case 2:case"fillThenStroke":Ss=2;break;case 3:case"invisible":Ss=3;break;case 4:case"fillAndAddForClipping":Ss=4;break;case 5:case"strokeAndAddPathForClipping":Ss=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ss=6;break;case 7:case"addToPathForClipping":Ss=7}var Rf=N0.usedRenderingMode!==void 0?N0.usedRenderingMode:-1;Ss!==-1?Rr+=Ss+` Tr
`:Rf!==-1&&(Rr+=`0 Tr
`),Ss!==-1&&(N0.usedRenderingMode=Ss),x=Re.align||"left";var yi,va=pt*Zr,Sl=yt.internal.pageSize.getWidth(),C0=pr[Nt];M=Re.charSpace||jo,q=Re.maxWidth||0,fe=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Bo=[],Tl=function(kr){return yt.getStringUnitWidth(kr,{font:C0,charSpace:M,fontSize:pt,doKerning:!1})*pt/ln};if(Object.prototype.toString.call(T)==="[object Array]"){var cs;gt=Vn(T),x!=="left"&&(yi=gt.map(Tl));var ja,Nl=0;if(x==="right"){ee-=yi[0],T=[],sa=gt.length;for(var Ts=0;Ts<sa;Ts++)Ts===0?(ja=$a(ee),cs=Yn(Se)):(ja=C(Nl-yi[Ts]),cs=-va),T.push([gt[Ts],ja,cs]),Nl=yi[Ts]}else if(x==="center"){ee-=yi[0]/2,T=[],sa=gt.length;for(var Fi=0;Fi<sa;Fi++)Fi===0?(ja=$a(ee),cs=Yn(Se)):(ja=C((Nl-yi[Fi])/2),cs=-va),T.push([gt[Fi],ja,cs]),Nl=yi[Fi]}else if(x==="left"){T=[],sa=gt.length;for(var fo=0;fo<sa;fo++)T.push(gt[fo])}else if(x==="justify"&&C0.encoding==="Identity-H"){T=[],sa=gt.length,q=q!==0?q:Sl;for(var Mi=0,jn=0;jn<sa;jn++)if(cs=jn===0?Yn(Se):-va,ja=jn===0?$a(ee):Mi,jn<sa-1){var Bi=C((q-yi[jn])/(gt[jn].split(" ").length-1)),Xn=gt[jn].split(" ");T.push([Xn[0]+" ",ja,cs]),Mi=0;for(var Ns=1;Ns<Xn.length;Ns++){var vc=(Tl(Xn[Ns-1]+" "+Xn[Ns])-Tl(Xn[Ns]))*ln+Bi;Ns==Xn.length-1?T.push([Xn[Ns],vc,0]):T.push([Xn[Ns]+" ",vc,0]),Mi-=vc}}else T.push([gt[jn],ja,cs]);T.push(["",Mi,0])}else{if(x!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],sa=gt.length,q=q!==0?q:Sl,jn=0;jn<sa;jn++)cs=jn===0?Yn(Se):-va,ja=jn===0?$a(ee):0,jn<sa-1?Bo.push(j(C((q-yi[jn])/(gt[jn].split(" ").length-1)))):Bo.push(0),T.push([gt[jn],ja,cs])}}var ho=typeof Re.R2L=="boolean"?Re.R2L:Dt;ho===!0&&(T=As(T,function(kr,Er,yn){return[kr.split("").reverse().join(""),Er,yn]})),nt={text:T,x:ee,y:Se,options:Re,mutex:{pdfEscape:Mr,activeFontKey:Nt,fonts:pr,activeFontSize:pt}},Tr.publish("postProcessText",nt),T=nt.text,cr=nt.mutex.isHex||!1;var bu=pr[Nt].encoding;bu!=="WinAnsiEncoding"&&bu!=="StandardEncoding"||(T=As(T,function(kr,Er,yn){return[xi(kr),Er,yn]})),gt=Vn(T),T=[];for(var Cl,Rl,Il,bc=0,wu=1,Dl=Array.isArray(gt[0])?wu:bc,Uo="",wc=function(kr,Er,yn){var zn="";return yn instanceof Rt?(yn=typeof Re.angle=="number"?Yr(yn,new Rt(1,0,0,1,kr,Er)):Yr(new Rt(1,0,0,1,kr,Er),yn),P===I.ADVANCED&&(yn=Yr(new Rt(1,0,0,-1,0,0),yn)),zn=yn.join(" ")+` Tm
`):zn=j(kr)+" "+j(Er)+` Td
`,zn},On=0;On<gt.length;On++){switch(Uo="",Dl){case wu:Il=(cr?"<":"(")+gt[On][0]+(cr?">":")"),Cl=parseFloat(gt[On][1]),Rl=parseFloat(gt[On][2]);break;case bc:Il=(cr?"<":"(")+gt[On]+(cr?">":")"),Cl=$a(ee),Rl=Yn(Se)}Bo!==void 0&&Bo[On]!==void 0&&(Uo=Bo[On]+` Tw
`),On===0?T.push(Uo+wc(Cl,Rl,We)+Il):Dl===bc?T.push(Uo+Il):Dl===wu&&T.push(Uo+wc(Cl,Rl,We)+Il)}T=Dl===bc?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var ei=`BT
/`;return ei+=Nt+" "+pt+` Tf
`,ei+=j(pt*Zr)+` TL
`,ei+=Oi+`
`,ei+=Rr,ei+=T,me(ei+="ET"),v[Nt]=!0,yt};var pu=b.__private__.clip=b.clip=function(T){return me(T==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return pu("evenodd")},b.__private__.discardPath=b.discardPath=function(){return me("n"),this};var Ha=b.__private__.isValidStyle=function(T){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(ee=!0),ee};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(T){return Ha(T)&&(d=T),this};var _s=b.__private__.getStyle=b.getStyle=function(T){var ee=d;switch(T){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=T}return ee},ls=b.close=function(){return me("h"),this};b.stroke=function(){return me("S"),this},b.fill=function(T){return mi("f",T),this},b.fillEvenOdd=function(T){return mi("f*",T),this},b.fillStroke=function(T){return mi("B",T),this},b.fillStrokeEvenOdd=function(T){return mi("B*",T),this};var mi=function(T,ee){gn(ee)==="object"?ji(ee,T):me(T)},ks=function(T){T===null||P===I.ADVANCED&&T===void 0||(T=_s(T),me(T))};function no(T,ee,Se,Re,Be){var nt=new xh(ee||this.boundingBox,Se||this.xStep,Re||this.yStep,this.gState,Be||this.matrix);nt.stream=this.stream;var gt=T+"$$"+this.cloneIndex+++"$$";return fn(gt,nt),nt}var ji=function(T,ee){var Se=bs[T.key],Re=br[Se];if(Re instanceof J0)me("q"),me(dc(ee)),Re.gState&&b.setGState(Re.gState),me(T.matrix.toString()+" cm"),me("/"+Se+" sh"),me("Q");else if(Re instanceof xh){var Be=new Rt(1,0,0,-1,0,Ka());T.matrix&&(Be=Be.multiply(T.matrix||Fr),Se=no.call(Re,T.key,T.boundingBox,T.xStep,T.yStep,Be).id),me("q"),me("/Pattern cs"),me("/"+Se+" scn"),Re.gState&&b.setGState(Re.gState),me(ee),me("Q")}},dc=function(T){switch(T){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Es=b.moveTo=function(T,ee){return me(j(C(T))+" "+j(ne(ee))+" m"),this},Ga=b.lineTo=function(T,ee){return me(j(C(T))+" "+j(ne(ee))+" l"),this},pi=b.curveTo=function(T,ee,Se,Re,Be,nt){return me([j(C(T)),j(ne(ee)),j(C(Se)),j(ne(Re)),j(C(Be)),j(ne(nt)),"c"].join(" ")),this};b.__private__.line=b.line=function(T,ee,Se,Re,Be){if(isNaN(T)||isNaN(ee)||isNaN(Se)||isNaN(Re)||!Ha(Be))throw new Error("Invalid arguments passed to jsPDF.line");return P===I.COMPAT?this.lines([[Se-T,Re-ee]],T,ee,[1,1],Be||"S"):this.lines([[Se-T,Re-ee]],T,ee,[1,1]).stroke()},b.__private__.lines=b.lines=function(T,ee,Se,Re,Be,nt){var gt,St,x,M,q,fe,Fe,We,yt,Zt,Rr,cr;if(typeof T=="number"&&(cr=Se,Se=ee,ee=T,T=cr),Re=Re||[1,1],nt=nt||!1,isNaN(ee)||isNaN(Se)||!Array.isArray(T)||!Array.isArray(Re)||!Ha(Be)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Es(ee,Se),gt=Re[0],St=Re[1],M=T.length,Zt=ee,Rr=Se,x=0;x<M;x++)(q=T[x]).length===2?(Zt=q[0]*gt+Zt,Rr=q[1]*St+Rr,Ga(Zt,Rr)):(fe=q[0]*gt+Zt,Fe=q[1]*St+Rr,We=q[2]*gt+Zt,yt=q[3]*St+Rr,Zt=q[4]*gt+Zt,Rr=q[5]*St+Rr,pi(fe,Fe,We,yt,Zt,Rr));return nt&&ls(),ks(Be),this},b.path=function(T){for(var ee=0;ee<T.length;ee++){var Se=T[ee],Re=Se.c;switch(Se.op){case"m":Es(Re[0],Re[1]);break;case"l":Ga(Re[0],Re[1]);break;case"c":pi.apply(this,Re);break;case"h":ls()}}return this},b.__private__.rect=b.rect=function(T,ee,Se,Re,Be){if(isNaN(T)||isNaN(ee)||isNaN(Se)||isNaN(Re)||!Ha(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return P===I.COMPAT&&(Re=-Re),me([j(C(T)),j(ne(ee)),j(C(Se)),j(C(Re)),"re"].join(" ")),ks(Be),this},b.__private__.triangle=b.triangle=function(T,ee,Se,Re,Be,nt,gt){if(isNaN(T)||isNaN(ee)||isNaN(Se)||isNaN(Re)||isNaN(Be)||isNaN(nt)||!Ha(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-T,Re-ee],[Be-Se,nt-Re],[T-Be,ee-nt]],T,ee,[1,1],gt,!0),this},b.__private__.roundedRect=b.roundedRect=function(T,ee,Se,Re,Be,nt,gt){if(isNaN(T)||isNaN(ee)||isNaN(Se)||isNaN(Re)||isNaN(Be)||isNaN(nt)||!Ha(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*Se),nt=Math.min(nt,.5*Re),this.lines([[Se-2*Be,0],[Be*St,0,Be,nt-nt*St,Be,nt],[0,Re-2*nt],[0,nt*St,-Be*St,nt,-Be,nt],[2*Be-Se,0],[-Be*St,0,-Be,-nt*St,-Be,-nt],[0,2*nt-Re],[0,-nt*St,Be*St,-nt,Be,-nt]],T+Be,ee,[1,1],gt,!0),this},b.__private__.ellipse=b.ellipse=function(T,ee,Se,Re,Be){if(isNaN(T)||isNaN(ee)||isNaN(Se)||isNaN(Re)||!Ha(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*Se,gt=4/3*(Math.SQRT2-1)*Re;return Es(T+Se,ee),pi(T+Se,ee-gt,T+nt,ee-Re,T,ee-Re),pi(T-nt,ee-Re,T-Se,ee-gt,T-Se,ee),pi(T-Se,ee+gt,T-nt,ee+Re,T,ee+Re),pi(T+nt,ee+Re,T+Se,ee+gt,T+Se,ee),ks(Be),this},b.__private__.circle=b.circle=function(T,ee,Se,Re){if(isNaN(T)||isNaN(ee)||isNaN(Se)||!Ha(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,ee,Se,Se,Re)},b.setFont=function(T,ee,Se){return Se&&(ee=W(ee,Se)),Nt=ro(T,ee,{disableWarning:!1}),this};var Wn=b.__private__.getFont=b.getFont=function(){return pr[ro.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var T,ee,Se={};for(T in Kr)if(Kr.hasOwnProperty(T))for(ee in Se[T]=[],Kr[T])Kr[T].hasOwnProperty(ee)&&Se[T].push(ee);return Se},b.addFont=function(T,ee,Se,Re,Be){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(Se=W(Se,Re)),Be=Be||"Identity-H",Zi.call(this,T,ee,Se,Be)};var Cr,ao=t.lineWidth||.200025,gi=b.__private__.getLineWidth=b.getLineWidth=function(){return ao},mc=b.__private__.setLineWidth=b.setLineWidth=function(T){return ao=T,me(j(C(T))+" w"),this};b.__private__.setLineDash=rr.API.setLineDash=rr.API.setLineDashPattern=function(T,ee){if(T=T||[],ee=ee||0,isNaN(ee)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(Se){return j(C(Se))}).join(" "),ee=j(C(ee)),me("["+T+"] "+ee+" d"),this};var Do=b.__private__.getLineHeight=b.getLineHeight=function(){return pt*Cr};b.__private__.getLineHeight=b.getLineHeight=function(){return pt*Cr};var Lo=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(Cr=T),this},Zs=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Cr};Lo(t.lineHeight);var $a=b.__private__.getHorizontalCoordinate=function(T){return C(T)},Yn=b.__private__.getVerticalCoordinate=function(T){return P===I.ADVANCED?T:$t[H].mediaBox.topRightY-$t[H].mediaBox.bottomLeftY-C(T)},gu=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(T){return j($a(T))},so=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(T){return j(Yn(T))},La=t.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return _e(La)},b.__private__.setStrokeColor=b.setDrawColor=function(T,ee,Se,Re){return La=Ee({ch1:T,ch2:ee,ch3:Se,ch4:Re,pdfColorType:"draw",precision:2}),me(La),this};var io=t.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return _e(io)},b.__private__.setFillColor=b.setFillColor=function(T,ee,Se,Re){return io=Ee({ch1:T,ch2:ee,ch3:Se,ch4:Re,pdfColorType:"fill",precision:2}),me(io),this};var Oi=t.textColor||"0 g",bl=b.__private__.getTextColor=b.getTextColor=function(){return _e(Oi)};b.__private__.setTextColor=b.setTextColor=function(T,ee,Se,Re){return Oi=Ee({ch1:T,ch2:ee,ch3:Se,ch4:Re,pdfColorType:"text",precision:3}),this};var jo=t.charSpace,wl=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(jo||0)};b.__private__.setCharSpace=b.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jo=T,this};var pc=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(T){var ee=b.CapJoinStyles[T];if(ee===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pc=ee,me(ee+" J"),this};var Oo=0;b.__private__.setLineJoin=b.setLineJoin=function(T){var ee=b.CapJoinStyles[T];if(ee===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Oo=ee,me(ee+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(j(C(T))+" M"),this},b.GState=v1,b.setGState=function(T){(T=typeof T=="string"?sn[Un[T]]:oo(null,T)).equals(na)||(me("/"+T.id+" gs"),na=T)};var oo=function(T,ee){if(!T||!Un[T]){var Se=!1;for(var Re in sn)if(sn.hasOwnProperty(Re)&&sn[Re].equals(ee)){Se=!0;break}if(Se)ee=sn[Re];else{var Be="GS"+(Object.keys(sn).length+1).toString(10);sn[Be]=ee,ee.id=Be}return T&&(Un[T]=ee.id),Tr.publish("addGState",ee),ee}};b.addGState=function(T,ee){return oo(T,ee),this},b.saveGraphicsState=function(){return me("q"),ga.push({key:Nt,size:pt,color:Oi}),this},b.restoreGraphicsState=function(){me("Q");var T=ga.pop();return Nt=T.key,pt=T.size,Oi=T.color,na=null,this},b.setCurrentTransformationMatrix=function(T){return me(T.toString()+" cm"),this},b.comment=function(T){return me("#"+T),this};var Po=function(T,ee){var Se=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(nt){isNaN(nt)||(Se=parseFloat(nt))}});var Re=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(nt){isNaN(nt)||(Re=parseFloat(nt))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(nt){Be=nt.toString()}}),this},_l=function(T,ee,Se,Re){Po.call(this,T,ee),this.type="rect";var Be=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(gt){isNaN(gt)||(Be=parseFloat(gt))}});var nt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(gt){isNaN(gt)||(nt=parseFloat(gt))}}),this},Fo=function(){this.page=Wr,this.currentPage=H,this.pages=tt.slice(0),this.pagesContext=$t.slice(0),this.x=Dr,this.y=qt,this.matrix=wn,this.width=co(H),this.height=Ka(H),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Fo.prototype.restore=function(){Wr=this.page,H=this.currentPage,$t=this.pagesContext,tt=this.pages,Dr=this.x,qt=this.y,wn=this.matrix,Mo(H,this.width),kl(H,this.height),Ne=this.outputDestination};var lo=function(T,ee,Se,Re,Be){is.push(new Fo),Wr=H=0,tt=[],Dr=T,qt=ee,wn=Be,Da([Se,Re])},xu=function(T){if(aa[T])is.pop().restore();else{var ee=new Fo,Se="Xo"+(Object.keys(Sn).length+1).toString(10);ee.id=Se,aa[T]=Se,Sn[Se]=ee,Tr.publish("addFormObject",ee),is.pop().restore()}};for(var Pi in b.beginFormObject=function(T,ee,Se,Re,Be){return lo(T,ee,Se,Re,Be),this},b.endFormObject=function(T){return xu(T),this},b.doFormObject=function(T,ee){var Se=Sn[aa[T]];return me("q"),me(ee.toString()+" cm"),me("/"+Se.id+" Do"),me("Q"),this},b.getFormObject=function(T){var ee=Sn[aa[T]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},b.save=function(T,ee){return T=T||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(Q0(vl(Ii()),T),typeof Q0.unload=="function"&&ar.setTimeout&&setTimeout(Q0.unload,911),this):new Promise(function(Se,Re){try{var Be=Q0(vl(Ii()),T);typeof Q0.unload=="function"&&ar.setTimeout&&setTimeout(Q0.unload,911),Se(Be)}catch(nt){Re(nt.message)}})},rr.API)rr.API.hasOwnProperty(Pi)&&(Pi==="events"&&rr.API.events.length?function(T,ee){var Se,Re,Be;for(Be=ee.length-1;Be!==-1;Be--)Se=ee[Be][0],Re=ee[Be][1],T.subscribe.apply(T,[Se].concat(typeof Re=="function"?[Re]:Re))}(Tr,rr.API.events):b[Pi]=rr.API[Pi]);var co=b.getPageWidth=function(T){return($t[T=T||H].mediaBox.topRightX-$t[T].mediaBox.bottomLeftX)/vt},Mo=b.setPageWidth=function(T,ee){$t[T].mediaBox.topRightX=ee*vt+$t[T].mediaBox.bottomLeftX},Ka=b.getPageHeight=function(T){return($t[T=T||H].mediaBox.topRightY-$t[T].mediaBox.bottomLeftY)/vt},kl=b.setPageHeight=function(T,ee){$t[T].mediaBox.topRightY=ee*vt+$t[T].mediaBox.bottomLeftY};return b.internal={pdfEscape:Mr,getStyle:_s,getFont:Wn,getFontSize:bt,getCharSpace:wl,getTextColor:bl,getLineHeight:Do,getLineHeightFactor:Zs,getLineWidth:gi,write:Ke,getHorizontalCoordinate:$a,getVerticalCoordinate:Yn,getCoordinateString:gu,getVerticalCoordinateString:so,collections:{},newObject:_n,newAdditionalObject:ke,newObjectDeferred:Tn,newObjectDeferredBegin:se,getFilters:ze,putStream:Ze,events:Tr,scaleFactor:vt,pageSize:{getWidth:function(){return co(H)},setWidth:function(T){Mo(H,T)},getHeight:function(){return Ka(H)},setHeight:function(T){kl(H,T)}},encryptionOptions:p,encryption:hn,getEncryptor:Li,output:Di,getNumberOfPages:Jr,pages:tt,out:me,f2:U,f3:D,getPageInfo:hi,getPageInfoByObjId:Jt,getCurrentPageInfo:di,getPDFVersion:k,Point:Po,Rectangle:_l,Matrix:Rt,hasHotfix:fi},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return co(H)},set:function(T){Mo(H,T)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ka(H)},set:function(T){kl(H,T)},enumerable:!0,configurable:!0}),uc.call(b,st),Nt="F1",eo(a,r),Tr.publish("initialized"),b}hh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},hh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hh.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},hh.prototype.processOwnerPassword=function(t,e){return ev(Zy(e).substr(0,5),t)},hh.prototype.encryptor=function(t,e){var r=Zy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return ev(r,n)}},v1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||gn(t)!==gn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},rr.API={events:[]},rr.version="3.0.1";var ea=rr.API,b5=1,kf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hr=function(t){return t.toFixed(2)},Xu=function(t){return t.toFixed(5)};ea.__acroform__={};var Ci=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Y4=function(t){return t*b5},Yl=function(t){var e=new j6,r=zt.internal.getHeight(t)||0,n=zt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(hr(n)),Number(hr(r))],e},vP=ea.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},bP=ea.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},wP=ea.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},da=ea.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wP(t,e-1)},ma=ea.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vP(t,e-1)},pa=ea.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bP(t,e-1)},_P=ea.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],s=t[1],o=t[2],c=t[3],h={};return h.lowerLeft_X=r(a)||0,h.lowerLeft_Y=n(s+c)||0,h.upperRight_X=r(a+o)||0,h.upperRight_Y=n(s)||0,[Number(hr(h.lowerLeft_X)),Number(hr(h.lowerLeft_Y)),Number(hr(h.upperRight_X)),Number(hr(h.upperRight_Y))]},kP=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=tv(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+hr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Yl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},tv=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(D){return D.split(`
`)}):a.map(function(D){return[D]});var s=r,o=zt.internal.getHeight(t)||0;o=o<0?-o:o;var c=zt.internal.getWidth(t)||0;c=c<0?-c:c;var h=function(D,C,B){if(D+1<a.length){var ne=C+" "+a[D+1][0];return xg(ne,t,B).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var d,p,y=xg("3",t,s).height,v=t.multiline?o-s:(o-y)/2,b=v+=2,E=0,k=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+xg(e,t,s=12).width+", FieldWidth:"+c+`
`;break}for(var N="",I=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var z=!1;if(a[P].length!==1&&A!==a[P].length-1){if((y+2)*(I+2)+2>o)continue e;N+=a[P][A],z=!0,k=P,P--}else{N=(N+=a[P][A]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var G=parseInt(P),W=h(G,N,s),j=P>=a.length-1;if(W&&!j){N+=" ",A=0;continue}if(W||j){if(j)k=G;else if(t.multiline&&(y+2)*(I+2)+2>o)continue e}else{if(!t.multiline||(y+2)*(I+2)+2>o)continue e;k=G}}for(var L="",R=E;R<=k;R++){var U=a[R];if(t.multiline){if(R===k){L+=U[A]+" ",A=(A+1)%U.length;continue}if(R===E){L+=U[U.length-1]+" ";continue}}L+=U[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,p=xg(L,t,s).width,t.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;case"left":default:d=2}e+=hr(d)+" "+hr(b)+` Td
`,e+="("+kf(L)+`) Tj
`,e+=-hr(d)+` 0 Td
`,b=-(s+2),p=0,E=z?k:k+1,I++,N=""}break}return n.text=e,n.fontSize=s,n},xg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},EP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},AP=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},SP=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),gn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},TP=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(pl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(EP)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");b5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new O6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&AP(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var c=n[o],h=[],d=c.Rect;if(c.Rect&&(c.Rect=_P(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=zt.createDefaultAppearanceStream(c),gn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(h=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=kP(c);h.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var y="";for(var v in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(v)){var b=c.appearanceStreamContent[v];if(y+="/"+v+" ",y+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var o in b)if(b.hasOwnProperty(o)){var E=b[o];typeof E=="function"&&(E=E.call(a,c)),y+="/"+o+" "+E+" ",a.internal.acroformPlugin.xForms.indexOf(E)>=0||a.internal.acroformPlugin.xForms.push(E)}}else typeof(E=b)=="function"&&(E=E.call(a,c)),y+="/"+o+" "+E,a.internal.acroformPlugin.xForms.indexOf(E)>=0||a.internal.acroformPlugin.xForms.push(E);y+=">>"}h.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:c.objId}),a.internal.out("endobj")}s&&SP(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},L6=ea.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",s=0;s<t.length;s++)switch(s!==0&&(a+=" "),gn(t[s])){case"boolean":case"number":case"object":a+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+kf(n(t[s].toString()))+")"):a+=t[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ey=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+kf(n(t))+")"},Jl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jl.prototype.toString=function(){return this.objId+" 0 R"},Jl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Jl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:L6(a,this.objId,this.scope)}):a instanceof Jl?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var j6=function(){Jl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ci(j6,Jl);var O6=function(){Jl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+kf(r(t))+")"}},set:function(r){t=r}})};Ci(O6,Jl);var pl=function t(){Jl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!da(e,3)},set:function(N){N?this.F=ma(e,3):this.F=pa(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof b1)return;s="FieldObject"+t.FieldNum++}var N=function(I){return I};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+kf(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(N){h=N}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/b5:d},set:function(N){d=N}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(N){p=N}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof b1||this instanceof nf))return ey(y,this.objId,this.scope)},set:function(N){N=N.toString(),y=N}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof es?v:ey(v,this.objId,this.scope)},set:function(N){N=N.toString(),v=this instanceof es?N:N.substr(0,1)==="("?sh(N.substr(1,N.length-2)):sh(N)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof es?sh(v.substr(1,v.length-1)):v},set:function(N){N=N.toString(),v=this instanceof es?"/"+N:N}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof es?b:ey(b,this.objId,this.scope)},set:function(N){N=N.toString(),b=this instanceof es?N:N.substr(0,1)==="("?sh(N.substr(1,N.length-2)):sh(N)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof es?sh(b.substr(1,b.length-1)):b},set:function(N){N=N.toString(),b=this instanceof es?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(N){N=!!N,k=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(N){E=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,1)},set:function(N){N?this.Ff=ma(this.Ff,1):this.Ff=pa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,2)},set:function(N){N?this.Ff=ma(this.Ff,2):this.Ff=pa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,3)},set:function(N){N?this.Ff=ma(this.Ff,3):this.Ff=pa(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');A=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(A){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Ci(pl,Jl);var Eh=function(){pl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return L6(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,c){c||(c=1);for(var h,d=[];h=o.exec(s);)d.push(h[c]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,18)},set:function(r){r?this.Ff=ma(this.Ff,18):this.Ff=pa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ma(this.Ff,19):this.Ff=pa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,20)},set:function(r){r?(this.Ff=ma(this.Ff,20),e.sort()):this.Ff=pa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,22)},set:function(r){r?this.Ff=ma(this.Ff,22):this.Ff=pa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(r){r?this.Ff=ma(this.Ff,23):this.Ff=pa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,27)},set:function(r){r?this.Ff=ma(this.Ff,27):this.Ff=pa(this.Ff,27)}}),this.hasAppearanceStream=!1};Ci(Eh,pl);var Ah=function(){Eh.call(this),this.fontName="helvetica",this.combo=!1};Ci(Ah,Eh);var Sh=function(){Ah.call(this),this.combo=!0};Ci(Sh,Ah);var qg=function(){Sh.call(this),this.edit=!0};Ci(qg,Sh);var es=function(){pl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,15)},set:function(r){r?this.Ff=ma(this.Ff,15):this.Ff=pa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,16)},set:function(r){r?this.Ff=ma(this.Ff,16):this.Ff=pa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,17)},set:function(r){r?this.Ff=ma(this.Ff,17):this.Ff=pa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(r){r?this.Ff=ma(this.Ff,26):this.Ff=pa(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+kf(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){gn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ci(es,pl);var Hg=function(){es.call(this),this.pushButton=!0};Ci(Hg,es);var Th=function(){es.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ci(Th,es);var b1=function(){var t,e;pl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+kf(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){gn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ci(b1,pl),Th.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Th.prototype.createOption=function(t){var e=new b1;return e.Parent=this,e.optionName=t,this.Kids.push(e),NP.call(this.scope,e),e};var Gg=function(){es.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};Ci(Gg,es);var nf=function(){pl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,13)},set:function(e){e?this.Ff=ma(this.Ff,13):this.Ff=pa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,21)},set:function(e){e?this.Ff=ma(this.Ff,21):this.Ff=pa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,23)},set:function(e){e?this.Ff=ma(this.Ff,23):this.Ff=pa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,24)},set:function(e){e?this.Ff=ma(this.Ff,24):this.Ff=pa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,25)},set:function(e){e?this.Ff=ma(this.Ff,25):this.Ff=pa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,26)},set:function(e){e?this.Ff=ma(this.Ff,26):this.Ff=pa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ci(nf,pl);var $g=function(){nf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!da(this.Ff,14)},set:function(t){t?this.Ff=ma(this.Ff,14):this.Ff=pa(this.Ff,14)}}),this.password=!0};Ci($g,nf);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Yl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=tv(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+hr(zt.internal.getWidth(t))+" "+hr(zt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+hr(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Yl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],s=zt.internal.getHeight(t),o=zt.internal.getWidth(t),c=tv(t,t.caption);return a.push("1 g"),a.push("0 0 "+hr(o)+" "+hr(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+hr(o-1)+" "+hr(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+hr(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Yl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hr(zt.internal.getWidth(t))+" "+hr(zt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=zt.RadioButton.Circle.YesNormal,e.D[t]=zt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Yl(t);e.scope=t.scope;var r=[],n=zt.internal.getWidth(t)<=zt.internal.getHeight(t)?zt.internal.getWidth(t)/4:zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=zt.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Xu(zt.internal.getWidth(t)/2)+" "+Xu(zt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Yl(t);e.scope=t.scope;var r=[],n=zt.internal.getWidth(t)<=zt.internal.getHeight(t)?zt.internal.getWidth(t)/4:zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*zt.internal.Bezier_C).toFixed(5)),o=Number((n*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xu(zt.internal.getWidth(t)/2)+" "+Xu(zt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Xu(zt.internal.getWidth(t)/2)+" "+Xu(zt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Yl(t);e.scope=t.scope;var r=[],n=zt.internal.getWidth(t)<=zt.internal.getHeight(t)?zt.internal.getWidth(t)/4:zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Xu(zt.internal.getWidth(t)/2)+" "+Xu(zt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=zt.RadioButton.Cross.YesNormal,e.D[t]=zt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Yl(t);e.scope=t.scope;var r=[],n=zt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+hr(zt.internal.getWidth(t)-2)+" "+hr(zt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(hr(n.x1.x)+" "+hr(n.x1.y)+" m"),r.push(hr(n.x2.x)+" "+hr(n.x2.y)+" l"),r.push(hr(n.x4.x)+" "+hr(n.x4.y)+" m"),r.push(hr(n.x3.x)+" "+hr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Yl(t);e.scope=t.scope;var r=zt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+hr(zt.internal.getWidth(t))+" "+hr(zt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+hr(zt.internal.getWidth(t)-2)+" "+hr(zt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(hr(r.x1.x)+" "+hr(r.x1.y)+" m"),n.push(hr(r.x2.x)+" "+hr(r.x2.y)+" l"),n.push(hr(r.x4.x)+" "+hr(r.x4.y)+" m"),n.push(hr(r.x3.x)+" "+hr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Yl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hr(zt.internal.getWidth(t))+" "+hr(zt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};zt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=zt.internal.getWidth(t),r=zt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},zt.internal.getWidth=function(t){var e=0;return gn(t)==="object"&&(e=Y4(t.Rect[2])),e},zt.internal.getHeight=function(t){var e=0;return gn(t)==="object"&&(e=Y4(t.Rect[3])),e};var NP=ea.addField=function(t){if(TP(this,t),!(t instanceof pl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ea.AcroFormChoiceField=Eh,ea.AcroFormListBox=Ah,ea.AcroFormComboBox=Sh,ea.AcroFormEditBox=qg,ea.AcroFormButton=es,ea.AcroFormPushButton=Hg,ea.AcroFormRadioButton=Th,ea.AcroFormCheckBox=Gg,ea.AcroFormTextField=nf,ea.AcroFormPasswordField=$g,ea.AcroFormAppearance=zt,ea.AcroForm={ChoiceField:Eh,ListBox:Ah,ComboBox:Sh,EditBox:qg,Button:es,PushButton:Hg,RadioButton:Th,CheckBox:Gg,TextField:nf,PasswordField:$g,Appearance:zt},rr.AcroForm={ChoiceField:Eh,ListBox:Ah,ComboBox:Sh,EditBox:qg,Button:es,PushButton:Hg,RadioButton:Th,CheckBox:Gg,TextField:nf,PasswordField:$g,Appearance:zt};rr.AcroForm;function P6(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(D,C){var B,ne,ye,ae,le,ce=e;if((C=C||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(W(D))for(le in r)for(ye=r[le],B=0;B<ye.length;B+=1){for(ae=!0,ne=0;ne<ye[B].length;ne+=1)if(ye[B][ne]!==void 0&&ye[B][ne]!==D[ne]){ae=!1;break}if(ae===!0){ce=le;break}}else for(le in r)for(ye=r[le],B=0;B<ye.length;B+=1){for(ae=!0,ne=0;ne<ye[B].length;ne+=1)if(ye[B][ne]!==void 0&&ye[B][ne]!==D.charCodeAt(ne)){ae=!1;break}if(ae===!0){ce=le;break}}return ce===e&&C!==e&&(ce=C),ce},a=function D(C){for(var B=this.internal.write,ne=this.internal.putStream,ye=(0,this.internal.getFilters)();ye.indexOf("FlateEncode")!==-1;)ye.splice(ye.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:C.width}),ae.push({key:"Height",value:C.height}),C.colorSpace===A.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===A.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var le="",ce=0,te=C.transparency.length;ce<te;ce++)le+=C.transparency[ce]+" "+C.transparency[ce]+" ";ae.push({key:"Mask",value:"["+le+"]"})}C.sMask!==void 0&&ae.push({key:"SMask",value:C.objectId+1+" 0 R"});var Y=C.filter!==void 0?["/"+C.filter]:void 0;if(ne({data:C.data,additionalKeyValues:ae,alreadyAppliedFilters:Y,objectId:C.objectId}),B("endobj"),"sMask"in C&&C.sMask!==void 0){var Te="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,F={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:Te,data:C.sMask};"filter"in C&&(F.filter=C.filter),D.call(this,F)}if(C.colorSpace===A.INDEXED){var H=this.internal.newObject();ne({data:L(new Uint8Array(C.palette)),objectId:H}),B("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var C in D)a.call(this,D[C])},o=function(){var D,C=this.internal.collections.addImage_images,B=this.internal.write;for(var ne in C)B("/I"+(D=C[ne]).index,D.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},h=function(){var D=this.internal.collections.addImage_images;return c.call(this),D},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(D){return typeof t["process"+D.toUpperCase()]=="function"},y=function(D){return gn(D)==="object"&&D.nodeType===1},v=function(D,C){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var B=""+D.getAttribute("src");if(B.indexOf("data:image/")===0)return lm(unescape(B).split("base64,").pop());var ne=t.loadFile(B,!0);if(ne!==void 0)return ne}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var ye;switch(C){case"PNG":ye="image/png";break;case"WEBP":ye="image/webp";break;case"JPEG":case"JPG":default:ye="image/jpeg"}return lm(D.toDataURL(ye,1).split("base64,").pop())}},b=function(D){var C=this.internal.collections.addImage_images;if(C){for(var B in C)if(D===C[B].alias)return C[B]}},E=function(D,C,B){return D||C||(D=-96,C=-96),D<0&&(D=-1*B.width*72/D/this.internal.scaleFactor),C<0&&(C=-1*B.height*72/C/this.internal.scaleFactor),D===0&&(D=C*B.width/B.height),C===0&&(C=D*B.height/B.width),[D,C]},k=function(D,C,B,ne,ye,ae){var le=E.call(this,B,ne,ye),ce=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,Y=h.call(this);if(B=le[0],ne=le[1],Y[ye.index]=ye,ae){ae*=Math.PI/180;var Te=Math.cos(ae),F=Math.sin(ae),H=function(Q){return Q.toFixed(4)},K=[H(Te),H(F),H(-1*F),H(Te),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,ce(D),te(C+ne),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([ce(B),"0","0",ce(ne),"0","0","cm"].join(" "))):this.internal.write([ce(B),"0","0",ce(ne),ce(D),te(C+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ye.index+" Do"),this.internal.write("Q")},A=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(D){var C,B,ne=0;if(typeof D=="string")for(B=D.length,C=0;C<B;C++)ne=(ne<<5)-ne+D.charCodeAt(C),ne|=0;else if(W(D))for(B=D.byteLength/2,C=0;C<B;C++)ne=(ne<<5)-ne+D[C],ne|=0;return ne},P=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var C=!0;return D.length===0&&(C=!1),D.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(C=!1),C},z=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var C=D.indexOf(",");return C<0?null:D.substring(0,C).trim().endsWith("base64")?D.substring(C+1):null},G=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(D){return G()&&D instanceof ArrayBuffer};var W=t.__addimage__.isArrayBufferView=function(D){return G()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},j=t.__addimage__.binaryStringToUint8Array=function(D){for(var C=D.length,B=new Uint8Array(C),ne=0;ne<C;ne++)B[ne]=D.charCodeAt(ne);return B},L=t.__addimage__.arrayBufferToBinaryString=function(D){for(var C="",B=W(D)?D:new Uint8Array(D),ne=0;ne<B.length;ne+=8192)C+=String.fromCharCode.apply(null,B.subarray(ne,ne+8192));return C};t.addImage=function(){var D,C,B,ne,ye,ae,le,ce,te;if(typeof arguments[1]=="number"?(C=e,B=arguments[1],ne=arguments[2],ye=arguments[3],ae=arguments[4],le=arguments[5],ce=arguments[6],te=arguments[7]):(C=arguments[1],B=arguments[2],ne=arguments[3],ye=arguments[4],ae=arguments[5],le=arguments[6],ce=arguments[7],te=arguments[8]),gn(D=arguments[0])==="object"&&!y(D)&&"imageData"in D){var Y=D;D=Y.imageData,C=Y.format||C||e,B=Y.x||B||0,ne=Y.y||ne||0,ye=Y.w||Y.width||ye,ae=Y.h||Y.height||ae,le=Y.alias||le,ce=Y.compression||ce,te=Y.rotation||Y.angle||te}var Te=this.internal.getFilters();if(ce===void 0&&Te.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(B)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=R.call(this,D,C,le,ce);return k.call(this,B,ne,ye,ae,F,te),this};var R=function(D,C,B,ne){var ye,ae,le;if(typeof D=="string"&&n(D)===e){D=unescape(D);var ce=U(D,!1);(ce!==""||(ce=t.loadFile(D,!0))!==void 0)&&(D=ce)}if(y(D)&&(D=v(D,C)),C=n(D,C),!p(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((le=B)==null||le.length===0)&&(B=function(te){return typeof te=="string"||W(te)?I(te):W(te.data)?I(te.data):null}(D)),(ye=b.call(this,B))||(G()&&(D instanceof Uint8Array||C==="RGBA"||(ae=D,D=j(D))),ye=this["process"+C.toUpperCase()](D,d.call(this),B,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:N.NONE}(ne),ae)),!ye)throw new Error("An unknown error occurred whilst processing the image.");return ye},U=t.__addimage__.convertBase64ToBinaryString=function(D,C){C=typeof C!="boolean"||C;var B,ne="";if(typeof D=="string"){var ye;B=(ye=z(D))!==null&&ye!==void 0?ye:D;try{ne=lm(B)}catch(ae){if(C)throw P(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};t.getImageProperties=function(D){var C,B,ne="";if(y(D)&&(D=v(D)),typeof D=="string"&&n(D)===e&&((ne=U(D,!1))===""&&(ne=t.loadFile(D)||""),D=ne),B=n(D),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!G()||D instanceof Uint8Array||(D=j(D)),!(C=this["process"+B.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=B,C}})(rr.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};rr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,p=!1,y=0;y<d.length&&!p;y++)switch((n=d[y]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){n=d[v];var b=this.internal.pdfEscape,E=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(k.objId),I=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+b(N(n.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+h.objId+" 0 R",s+=" /T ("+b(N(I))+") >>",k.content=s;var P=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(k.objId,"0 R",A.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var z=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(E(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var G=this.annotations._nameMap[n.options.name];n.options.pageNumber=G.page,n.options.top=G.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var W=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+W+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,s,o){var c=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:h(r),y:d(n),w:h(r+a),h:d(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,a,s){var o,c,h=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var p=this.splitTextToSize(r,c).length;o=Math.ceil(d*p)}else c=h,o=d;return this.text(r,n,a,s),a+=.2*d,s.align==="center"&&(n-=h/2),s.align==="right"&&(n-=h),this.link(n,a-d,c,o,s),h},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(rr.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},c=t.__arabicParser__.isArabicEndLetter=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(k){return o(k)&&a.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length==4},y=t.__arabicParser__.resolveLigatures=function(k){var A=0,N=r,I="",P=0;for(A=0;A<k.length;A+=1)N[k.charCodeAt(A)]!==void 0?(P++,typeof(N=N[k.charCodeAt(A)])=="number"&&(I+=String.fromCharCode(N),N=r,P=0),A===k.length-1&&(N=r,I+=k.charAt(A-(P-1)),A-=P-1,P=0)):(N=r,I+=k.charAt(A-P),A-=P,P=0);return I};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(k,A,N){return o(k)?s(k)===!1?-1:!d(k)||!o(A)&&!o(N)||!o(N)&&c(A)||c(k)&&!o(A)||c(k)&&h(A)||c(k)&&c(A)?0:p(k)&&o(A)&&!c(A)&&o(N)&&d(N)?3:c(k)||!o(N)?1:2:-1},b=function(k){var A=0,N=0,I=0,P="",z="",G="",W=(k=k||"").split("\\s+"),j=[];for(A=0;A<W.length;A+=1){for(j.push(""),N=0;N<W[A].length;N+=1)P=W[A][N],z=W[A][N-1],G=W[A][N+1],o(P)?(I=v(P,z,G),j[A]+=I!==-1?String.fromCharCode(e[P.charCodeAt(0)][I]):P):j[A]+=P;j[A]=y(j[A])}return j.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var k,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(A)){var I=0;for(N=[],I=0;I<A.length;I+=1)Array.isArray(A[I])?N.push([b(A[I][0]),A[I][1],A[I][2]]):N.push([b(A[I])]);k=N}else k=b(A);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",E])}(rr.API),rr.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(rr.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(k){E=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,d){n.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,b=0,E=0,k=0,A=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var N=d.maxWidth;N>0?typeof h=="string"?h=this.splitTextToSize(h,N):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(P,z){return P.concat(A.splitTextToSize(z,N))},[])):h=Array.isArray(h)?h:[h];for(var I=0;I<h.length;I++)b<(k=this.getStringUnitWidth(h[I],{font:y})*p)&&(b=k);return b!==0&&(E=h.length),{w:b/=v,h:Math.max((E*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var h;h=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===h.lineNumber?(h.x=(d.x||0)+(d.width||0),h.y=d.y||0):d.y+d.height+h.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=y.top,b&&v&&(this.printHeaderRow(h.lineNumber,!0),h.y+=v[0].height)):h.y=d.y+d.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,r===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-p,h.y+p,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+p,{align:"center",baseline:"top",maxWidth:h.width-p-p}):this.text(h.text,h.x+p,h.y+p,{align:"left",baseline:"top",maxWidth:h.width-p-p})),this.internal.__cell__.lastCell=h,this};t.table=function(h,d,p,y,v){if(n.call(this),!p)throw new Error("No data for PDF table.");var b,E,k,A,N=[],I=[],P=[],z={},G={},W=[],j=[],L=(v=v||{}).autoSize||!1,R=v.printHeaders!==!1,U=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,D=v.margins||Object.assign({width:this.getPageWidth()},e),C=typeof v.padding=="number"?v.padding:3,B=v.headerBackgroundColor||"#c8c8c8",ne=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=ne,this.setFontSize(U),y==null)I=N=Object.keys(p[0]),P=N.map(function(){return"left"});else if(Array.isArray(y)&&gn(y[0])==="object")for(N=y.map(function(Y){return Y.name}),I=y.map(function(Y){return Y.prompt||Y.name||""}),P=y.map(function(Y){return Y.align||"left"}),b=0;b<y.length;b+=1)G[y[b].name]=y[b].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(I=N=y,P=N.map(function(){return"left"}));if(L||Array.isArray(y)&&typeof y[0]=="string")for(b=0;b<N.length;b+=1){for(z[A=N[b]]=p.map(function(Y){return Y[A]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(I[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=z[A],this.setFont(void 0,"normal"),k=0;k<E.length;k+=1)W.push(this.getTextDimensions(E[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);G[A]=Math.max.apply(null,W)+C+C,W=[]}if(R){var ye={};for(b=0;b<N.length;b+=1)ye[N[b]]={},ye[N[b]].text=I[b],ye[N[b]].align=P[b];var ae=c.call(this,ye,G);j=N.map(function(Y){return new s(h,d,G[Y],ae,ye[Y].text,void 0,ye[Y].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var le=y.reduce(function(Y,Te){return Y[Te.name]=Te.align,Y},{});for(b=0;b<p.length;b+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:b,data:p[b]},this);var ce=c.call(this,p[b],G);for(k=0;k<N.length;k+=1){var te=p[b][N[k]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:b,col:k,data:te},this),o.call(this,new s(h,d,G[N[k]],ce,te,b+2,le[N[k]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=d,this};var c=function(h,d){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(h).map(function(b){var E=h[b];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,d[b]-p-p)},this).map(function(b){return this.getLineHeightFactor()*b.length*y/v+p+p},this).reduce(function(b,E){return Math.max(b,E)},0)};t.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){p=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,v.push(p)),p.lineNumber=h;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(E)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(rr.API);var F6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},M6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],rv=P6(M6),B6=[100,200,300,400,500,600,700,800,900],CP=P6(B6);function nv(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return F6[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(s){return typeof rv[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function X4(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var RP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Q4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function J4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function IP(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},RP,r.genericFontFamilies||{}),s=null,o=null,c=0;c<e.length;++c)if(a[(s=nv(e[c])).family]&&(s.family=a[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+J4(s)+"' and default family '"+n+"'.");if(o=function(h,d){if(d[h])return d[h];var p=rv[h],y=p<=rv.normal?-1:1,v=X4(d,M6,p,y);if(!v)throw new Error("Could not find a matching font-stretch value for "+h);return v}(s.stretch,o),o=function(h,d){if(d[h])return d[h];for(var p=F6[h],y=0;y<p.length;++y)if(d[p[y]])return d[p[y]];throw new Error("Could not find a matching font-style for "+h)}(s.style,o),!(o=function(h,d){if(d[h])return d[h];if(h===400&&d[500])return d[500];if(h===500&&d[400])return d[400];var p=CP[h],y=X4(d,B6,p,h<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+h);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+J4(s)+"'.");return o}function Z4(t){return t.trimLeft()}function DP(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function LP(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var yg,e3,t3,ty=["times"];(function(t){var e,r,n,a,s,o,c,h,d,p=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new h,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,h=this.internal.Matrix,d=new p}]);var y=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=F;Object.defineProperty(this,"pdf",{get:function(){return H}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(je){K=!!je}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(je){Q=!!je}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(je){isNaN(je)||(re=je)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(je){isNaN(je)||(de=je)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(je){var me;typeof je=="number"?me=[je,je,je,je]:((me=new Array(4))[0]=je[0],me[1]=je.length>=2?je[1]:me[0],me[2]=je.length>=3?je[2]:me[0],me[3]=je.length>=4?je[3]:me[1]),d.margin=me}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(je){ve=je}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(je){we=je}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(je){Le=je}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(je){je instanceof p&&(d=je)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(je){d.path=je}});var tt=[];Object.defineProperty(this,"ctxStack",{get:function(){return tt},set:function(je){tt=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var me;me=v(je),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var me=v(je);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var J=null;function Ne(je,me){if(J===null){var Ke=function(xt){var st=[];return Object.keys(xt).forEach(function(pt){xt[pt].forEach(function(_t){var bt=null;switch(_t){case"bold":bt={family:pt,weight:"bold"};break;case"italic":bt={family:pt,style:"italic"};break;case"bolditalic":bt={family:pt,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:pt}}bt!==null&&(bt.ref={name:pt,style:_t},st.push(bt))})}),st}(je.getFontList());J=function(xt){for(var st={},pt=0;pt<xt.length;++pt){var _t=nv(xt[pt]),bt=_t.family,Dt=_t.stretch,Ut=_t.style,Wt=_t.weight;st[bt]=st[bt]||{},st[bt][Dt]=st[bt][Dt]||{},st[bt][Dt][Ut]=st[bt][Dt][Ut]||{},st[bt][Dt][Ut][Wt]=_t}return st}(Ke.concat(me))}return J}var Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(je){J=null,Qe=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var me;if(this.ctx.font=je,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var Ke=me[1];me[2];var xt=me[3],st=me[4];me[5];var pt=me[6],_t=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(st)[2];st=Math.floor(_t==="px"?parseFloat(st)*this.pdf.internal.scaleFactor:_t==="em"?parseFloat(st)*this.pdf.getFontSize():parseFloat(st)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(st);var bt=function(It){var Nt,vt,Dr=[],qt=It.trim();if(qt==="")return ty;if(qt in Q4)return[Q4[qt]];for(;qt!=="";){switch(vt=null,Nt=(qt=Z4(qt)).charAt(0)){case'"':case"'":vt=DP(qt.substring(1),Nt);break;default:vt=LP(qt)}if(vt===null||(Dr.push(vt[0]),(qt=Z4(vt[1]))!==""&&qt.charAt(0)!==","))return ty;qt=qt.replace(/^,/,"")}return Dr}(pt);if(this.fontFaces){var Dt=IP(Ne(this.pdf,this.fontFaces),bt.map(function(It){return{family:It,stretch:"normal",weight:xt,style:Ke}}));this.pdf.setFont(Dt.ref.name,Dt.ref.style)}else{var Ut="";(xt==="bold"||parseInt(xt,10)>=700||Ke==="bold")&&(Ut="bold"),Ke==="italic"&&(Ut+="italic"),Ut.length===0&&(Ut="normal");for(var Wt="",jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<bt.length;Ot++){if(this.pdf.internal.getFont(bt[Ot],Ut,{noFallback:!0,disableWarning:!0})!==void 0){Wt=bt[Ot];break}if(Ut==="bolditalic"&&this.pdf.internal.getFont(bt[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Wt=bt[Ot],Ut="bold";else if(this.pdf.internal.getFont(bt[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Wt=bt[Ot],Ut="normal";break}}if(Wt===""){for(var Ht=0;Ht<bt.length;Ht++)if(jt[bt[Ht]]){Wt=jt[bt[Ht]];break}}Wt=Wt===""?"Times":Wt,this.pdf.setFont(Wt,Ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,Te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,Te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};y.prototype.setLineDash=function(F){this.lineDash=F},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){z.call(this,"fill",!1)},y.prototype.stroke=function(){z.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(F,H){if(isNaN(F)||isNaN(H))throw An.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(F,H)},y.prototype.closePath=function(){var F=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&gn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){F=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},y.prototype.lineTo=function(F,H){if(isNaN(F)||isNaN(H))throw An.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},y.prototype.quadraticCurveTo=function(F,H,K,Q){if(isNaN(K)||isNaN(Q)||isNaN(F)||isNaN(H))throw An.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(K,Q)),de=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"qct",x1:de.x,y1:de.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},y.prototype.bezierCurveTo=function(F,H,K,Q,re,de){if(isNaN(re)||isNaN(de)||isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Q))throw An.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(re,de)),we=this.ctx.transform.applyToPoint(new o(F,H)),Le=this.ctx.transform.applyToPoint(new o(K,Q));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Le.x,y2:Le.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},y.prototype.arc=function(F,H,K,Q,re,de){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Q)||isNaN(re))throw An.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(F,H));F=ve.x,H=ve.y;var we=this.ctx.transform.applyToPoint(new o(0,K)),Le=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(we.x-Le.x,2)+Math.pow(we.y-Le.y,2))}Math.abs(re-Q)>=2*Math.PI&&(Q=0,re=2*Math.PI),this.path.push({type:"arc",x:F,y:H,radius:K,startAngle:Q,endAngle:re,counterclockwise:de})},y.prototype.arcTo=function(F,H,K,Q,re){throw new Error("arcTo not implemented.")},y.prototype.rect=function(F,H,K,Q){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Q))throw An.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,H),this.lineTo(F+K,H),this.lineTo(F+K,H+Q),this.lineTo(F,H+Q),this.lineTo(F,H),this.lineTo(F+K,H),this.lineTo(F,H)},y.prototype.fillRect=function(F,H,K,Q){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Q))throw An.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,H,K,Q),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},y.prototype.strokeRect=function(F,H,K,Q){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Q))throw An.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(F,H,K,Q),this.stroke())},y.prototype.clearRect=function(F,H,K,Q){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Q))throw An.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,H,K,Q))},y.prototype.save=function(F){F=typeof F!="boolean"||F;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},y.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(H),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(F){var H,K,Q,re;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))H=0,K=0,Q=0,re=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(de!==null)H=parseInt(de[1]),K=parseInt(de[2]),Q=parseInt(de[3]),re=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)H=parseInt(de[1]),K=parseInt(de[2]),Q=parseInt(de[3]),re=parseFloat(de[4]);else{if(re=1,typeof F=="string"&&F.charAt(0)!=="#"){var ve=new R6(F);F=ve.ok?ve.toHex():"#000000"}F.length===4?(H=F.substring(1,2),H+=H,K=F.substring(2,3),K+=K,Q=F.substring(3,4),Q+=Q):(H=F.substring(1,3),K=F.substring(3,5),Q=F.substring(5,7)),H=parseInt(H,16),K=parseInt(K,16),Q=parseInt(Q,16)}}return{r:H,g:K,b:Q,a:re,style:F}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(F,H,K,Q){if(isNaN(H)||isNaN(K)||typeof F!="string")throw An.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!b.call(this)){var re=ce(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;C.call(this,{text:F,x:H,y:K,scale:de,angle:re,align:this.textAlign,maxWidth:Q})}},y.prototype.strokeText=function(F,H,K,Q){if(isNaN(H)||isNaN(K)||typeof F!="string")throw An.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Q=isNaN(Q)?void 0:Q;var re=ce(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;C.call(this,{text:F,x:H,y:K,scale:de,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:Q})}},y.prototype.measureText=function(F){if(typeof F!="string")throw An.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,K=this.pdf.internal.scaleFactor,Q=H.internal.getFontSize(),re=H.getStringUnitWidth(F)*Q/H.internal.scaleFactor,de=function(ve){var we=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this};return new de({width:re*=Math.round(96*K/72*1e4)/1e4})},y.prototype.scale=function(F,H){if(isNaN(F)||isNaN(H))throw An.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new h(F,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},y.prototype.rotate=function(F){if(isNaN(F))throw An.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new h(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},y.prototype.translate=function(F,H){if(isNaN(F)||isNaN(H))throw An.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new h(1,0,0,1,F,H);this.ctx.transform=this.ctx.transform.multiply(K)},y.prototype.transform=function(F,H,K,Q,re,de){if(isNaN(F)||isNaN(H)||isNaN(K)||isNaN(Q)||isNaN(re)||isNaN(de))throw An.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new h(F,H,K,Q,re,de);this.ctx.transform=this.ctx.transform.multiply(ve)},y.prototype.setTransform=function(F,H,K,Q,re,de){F=isNaN(F)?1:F,H=isNaN(H)?0:H,K=isNaN(K)?0:K,Q=isNaN(Q)?1:Q,re=isNaN(re)?0:re,de=isNaN(de)?0:de,this.ctx.transform=new h(F,H,K,Q,re,de)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(F,H,K,Q,re,de,ve,we,Le){var tt=this.pdf.getImageProperties(F),J=1,Ne=1,Qe=1,je=1;Q!==void 0&&we!==void 0&&(Qe=we/Q,je=Le/re,J=tt.width/Q*we/Q,Ne=tt.height/re*Le/re),de===void 0&&(de=H,ve=K,H=0,K=0),Q!==void 0&&we===void 0&&(we=Q,Le=re),Q===void 0&&we===void 0&&(we=tt.width,Le=tt.height);for(var me,Ke=this.ctx.transform.decompose(),xt=ce(Ke.rotate.shx),st=new h,pt=(st=(st=(st=st.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new c(de-H*Qe,ve-K*je,Q*J,re*Ne)),_t=A.call(this,pt),bt=[],Dt=0;Dt<_t.length;Dt+=1)bt.indexOf(_t[Dt])===-1&&bt.push(_t[Dt]);if(P(bt),this.autoPaging)for(var Ut=bt[0],Wt=bt[bt.length-1],jt=Ut;jt<Wt+1;jt++){this.pdf.setPage(jt);var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=jt===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=jt===1?0:It+(jt-2)*Nt;if(this.ctx.clip_path.length!==0){var Dr=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(me,this.posX+this.margin[3],-vt+Ht+this.ctx.prevPageLastElemOffset),G.call(this,"fill",!0),this.path=Dr}var qt=JSON.parse(JSON.stringify(pt));qt=I([qt],this.posX+this.margin[3],-vt+Ht+this.ctx.prevPageLastElemOffset)[0];var wn=(jt>Ut||jt<Wt)&&k.call(this);wn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,Nt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,xt),wn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,xt)};var A=function(F,H,K){var Q=[];H=H||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":Q.push(Math.floor((F.y+re)/K)+1);break;case"arc":Q.push(Math.floor((F.y+re-F.radius)/K)+1),Q.push(Math.floor((F.y+re+F.radius)/K)+1);break;case"qct":var de=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);Q.push(Math.floor((de.y+re)/K)+1),Q.push(Math.floor((de.y+de.h+re)/K)+1);break;case"bct":var ve=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);Q.push(Math.floor((ve.y+re)/K)+1),Q.push(Math.floor((ve.y+ve.h+re)/K)+1);break;case"rect":Q.push(Math.floor((F.y+re)/K)+1),Q.push(Math.floor((F.y+F.h+re)/K)+1)}for(var we=0;we<Q.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<Q[we];)N.call(this);return Q},N=function(){var F=this.fillStyle,H=this.strokeStyle,K=this.font,Q=this.lineCap,re=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=H,this.font=K,this.lineCap=Q,this.lineWidth=re,this.lineJoin=de},I=function(F,H,K){for(var Q=0;Q<F.length;Q++)switch(F[Q].type){case"bct":F[Q].x2+=H,F[Q].y2+=K;case"qct":F[Q].x1+=H,F[Q].y1+=K;case"mt":case"lt":case"arc":default:F[Q].x+=H,F[Q].y+=K}return F},P=function(F){return F.sort(function(H,K){return H-K})},z=function(F,H){for(var K,Q,re=this.fillStyle,de=this.strokeStyle,ve=this.lineCap,we=this.lineWidth,Le=Math.abs(we*this.ctx.transform.scaleX),tt=this.lineJoin,J=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),Qe=[],je=0;je<Ne.length;je++)if(Ne[je].x!==void 0)for(var me=A.call(this,Ne[je]),Ke=0;Ke<me.length;Ke+=1)Qe.indexOf(me[Ke])===-1&&Qe.push(me[Ke]);for(var xt=0;xt<Qe.length;xt++)for(;this.pdf.internal.getNumberOfPages()<Qe[xt];)N.call(this);if(P(Qe),this.autoPaging)for(var st=Qe[0],pt=Qe[Qe.length-1],_t=st;_t<pt+1;_t++){this.pdf.setPage(_t),this.fillStyle=re,this.strokeStyle=de,this.lineCap=ve,this.lineWidth=Le,this.lineJoin=tt;var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=_t===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=_t===1?0:Ut+(_t-2)*Wt;if(this.ctx.clip_path.length!==0){var Ot=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(K,this.posX+this.margin[3],-jt+Dt+this.ctx.prevPageLastElemOffset),G.call(this,F,!0),this.path=Ot}if(Q=JSON.parse(JSON.stringify(J)),this.path=I(Q,this.posX+this.margin[3],-jt+Dt+this.ctx.prevPageLastElemOffset),H===!1||_t===0){var Ht=(_t>st||_t<pt)&&k.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Wt,null).clip().discardPath()),G.call(this,F,H),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=Le,G.call(this,F,H),this.lineWidth=we;this.path=J},G=function(F,H){if((F!=="stroke"||H||!E.call(this))&&(F==="stroke"||H||!b.call(this))){for(var K,Q,re=[],de=this.path,ve=0;ve<de.length;ve++){var we=de[ve];switch(we.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:we,deltas:[],abs:[]});break;case"lt":var Le=re.length;if(de[ve-1]&&!isNaN(de[ve-1].x)&&(K=[we.x-de[ve-1].x,we.y-de[ve-1].y],Le>0)){for(;Le>=0;Le--)if(re[Le-1].close!==!0&&re[Le-1].begin!==!0){re[Le-1].deltas.push(K),re[Le-1].abs.push(we);break}}break;case"bct":K=[we.x1-de[ve-1].x,we.y1-de[ve-1].y,we.x2-de[ve-1].x,we.y2-de[ve-1].y,we.x-de[ve-1].x,we.y-de[ve-1].y],re[re.length-1].deltas.push(K);break;case"qct":var tt=de[ve-1].x+2/3*(we.x1-de[ve-1].x),J=de[ve-1].y+2/3*(we.y1-de[ve-1].y),Ne=we.x+2/3*(we.x1-we.x),Qe=we.y+2/3*(we.y1-we.y),je=we.x,me=we.y;K=[tt-de[ve-1].x,J-de[ve-1].y,Ne-de[ve-1].x,Qe-de[ve-1].y,je-de[ve-1].x,me-de[ve-1].y],re[re.length-1].deltas.push(K);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(we)}}Q=H?null:F==="stroke"?"stroke":"fill";for(var Ke=!1,xt=0;xt<re.length;xt++)if(re[xt].arc)for(var st=re[xt].abs,pt=0;pt<st.length;pt++){var _t=st[pt];_t.type==="arc"?L.call(this,_t.x,_t.y,_t.radius,_t.startAngle,_t.endAngle,_t.counterclockwise,void 0,H,!Ke):B.call(this,_t.x,_t.y),Ke=!0}else if(re[xt].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(re[xt].begin!==!0){var bt=re[xt].start.x,Dt=re[xt].start.y;ne.call(this,re[xt].deltas,bt,Dt),Ke=!0}Q&&R.call(this,Q),H&&U.call(this)}},W=function(F){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-K;case"top":return F+H-K;case"hanging":return F+H-2*K;case"middle":return F+H/2-K;case"ideographic":return F;case"alphabetic":default:return F}},j=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(H,K){this.colorStops.push([H,K])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(F,H,K,Q,re,de,ve,we,Le){for(var tt=ae.call(this,K,Q,re,de),J=0;J<tt.length;J++){var Ne=tt[J];J===0&&(Le?D.call(this,Ne.x1+F,Ne.y1+H):B.call(this,Ne.x1+F,Ne.y1+H)),ye.call(this,F,H,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}we?U.call(this):R.call(this,ve)},R=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(F,H){this.pdf.internal.out(r(F)+" "+n(H)+" m")},C=function(F){var H;switch(F.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var K=this.pdf.getTextDimensions(F.text),Q=W.call(this,F.y),re=j.call(this,Q)-K.h,de=this.ctx.transform.applyToPoint(new o(F.x,Q)),ve=this.ctx.transform.decompose(),we=new h;we=(we=(we=we.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Le,tt,J,Ne=this.ctx.transform.applyToRectangle(new c(F.x,Q,K.w,K.h)),Qe=we.applyToRectangle(new c(F.x,re,K.w,K.h)),je=A.call(this,Qe),me=[],Ke=0;Ke<je.length;Ke+=1)me.indexOf(je[Ke])===-1&&me.push(je[Ke]);if(P(me),this.autoPaging)for(var xt=me[0],st=me[me.length-1],pt=xt;pt<st+1;pt++){this.pdf.setPage(pt);var _t=pt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[2],Ut=Dt-this.margin[0],Wt=this.pdf.internal.pageSize.width-this.margin[1],jt=Wt-this.margin[3],Ot=pt===1?0:bt+(pt-2)*Ut;if(this.ctx.clip_path.length!==0){var Ht=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Le,this.posX+this.margin[3],-1*Ot+_t),G.call(this,"fill",!0),this.path=Ht}var It=I([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-Ot+_t+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*F.scale),J=this.lineWidth,this.lineWidth=J*F.scale);var Nt=this.autoPaging!=="text";if(Nt||It.y+It.h<=Dt){if(Nt||It.y>=_t&&It.x<=Wt){var vt=Nt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Wt-It.x)[0],Dr=I([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-Ot+_t+this.ctx.prevPageLastElemOffset)[0],qt=Nt&&(pt>xt||pt<st)&&k.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,Ut,null).clip().discardPath()),this.pdf.text(vt,Dr.x,Dr.y,{angle:F.angle,align:H,renderingMode:F.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else It.y<Dt&&(this.ctx.prevPageLastElemOffset+=Dt-It.y);F.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=J)}else F.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*F.scale),J=this.lineWidth,this.lineWidth=J*F.scale),this.pdf.text(F.text,de.x+this.posX,de.y+this.posY,{angle:F.angle,align:H,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=J)},B=function(F,H,K,Q){K=K||0,Q=Q||0,this.pdf.internal.out(r(F+K)+" "+n(H+Q)+" l")},ne=function(F,H,K){return this.pdf.lines(F,H,K,null,null)},ye=function(F,H,K,Q,re,de,ve,we){this.pdf.internal.out([e(a(K+F)),e(s(Q+H)),e(a(re+F)),e(s(de+H)),e(a(ve+F)),e(s(we+H)),"c"].join(" "))},ae=function(F,H,K,Q){for(var re=2*Math.PI,de=Math.PI/2;H>K;)H-=re;var ve=Math.abs(K-H);ve<re&&Q&&(ve=re-ve);for(var we=[],Le=Q?-1:1,tt=H;ve>1e-5;){var J=tt+Le*Math.min(ve,de);we.push(le.call(this,F,tt,J)),ve-=Math.abs(J-tt),tt=J}return we},le=function(F,H,K){var Q=(K-H)/2,re=F*Math.cos(Q),de=F*Math.sin(Q),ve=re,we=-de,Le=ve*ve+we*we,tt=Le+ve*re+we*de,J=4/3*(Math.sqrt(2*Le*tt)-tt)/(ve*de-we*re),Ne=ve-J*we,Qe=we+J*ve,je=Ne,me=-Qe,Ke=Q+H,xt=Math.cos(Ke),st=Math.sin(Ke);return{x1:F*Math.cos(H),y1:F*Math.sin(H),x2:Ne*xt-Qe*st,y2:Ne*st+Qe*xt,x3:je*xt-me*st,y3:je*st+me*xt,x4:F*Math.cos(K),y4:F*Math.sin(K)}},ce=function(F){return 180*F/Math.PI},te=function(F,H,K,Q,re,de){var ve=F+.5*(K-F),we=H+.5*(Q-H),Le=re+.5*(K-re),tt=de+.5*(Q-de),J=Math.min(F,re,ve,Le),Ne=Math.max(F,re,ve,Le),Qe=Math.min(H,de,we,tt),je=Math.max(H,de,we,tt);return new c(J,Qe,Ne-J,je-Qe)},Y=function(F,H,K,Q,re,de,ve,we){var Le,tt,J,Ne,Qe,je,me,Ke,xt,st,pt,_t,bt,Dt,Ut=K-F,Wt=Q-H,jt=re-K,Ot=de-Q,Ht=ve-re,It=we-de;for(tt=0;tt<41;tt++)xt=(me=(J=F+(Le=tt/40)*Ut)+Le*((Qe=K+Le*jt)-J))+Le*(Qe+Le*(re+Le*Ht-Qe)-me),st=(Ke=(Ne=H+Le*Wt)+Le*((je=Q+Le*Ot)-Ne))+Le*(je+Le*(de+Le*It-je)-Ke),tt==0?(pt=xt,_t=st,bt=xt,Dt=st):(pt=Math.min(pt,xt),_t=Math.min(_t,st),bt=Math.max(bt,xt),Dt=Math.max(Dt,st));return new c(Math.round(pt),Math.round(_t),Math.round(bt-pt),Math.round(Dt-_t))},Te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,H,K=(F=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:H}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(rr.API),function(t){var e=function(s){var o,c,h,d,p,y,v,b,E,k;for(c=[],h=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>h;h+=4)(p=(s.charCodeAt(h)<<24)+(s.charCodeAt(h+1)<<16)+(s.charCodeAt(h+2)<<8)+s.charCodeAt(h+3))!==0?(y=(p=((p=((p=((p=(p-(k=p%85))/85)-(E=p%85))/85)-(b=p%85))/85)-(v=p%85))/85)%85,c.push(y+33,v+33,b+33,E+33,k+33)):c.push(122);return function(A,N){for(var I=N;I>0;I--)A.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var o,c,h,d,p,y=String,v="length",b=255,E="charCodeAt",k="slice",A="replace";for(s[k](-2),s=s[k](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),h=[],d=0,p=(s+=o="uuuuu"[k](s[v]%5||5))[v];p>d;d+=5)c=52200625*(s[E](d)-33)+614125*(s[E](d+1)-33)+7225*(s[E](d+2)-33)+85*(s[E](d+3)-33)+(s[E](d+4)-33),h.push(b&c>>24,b&c>>16,b&c>>8,b&c);return function(N,I){for(var P=I;P>0;P--)N.pop()}(h,o[v]),y.fromCharCode.apply(y,h)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",h=0;h<s.length;h+=2)c+=String.fromCharCode("0x"+(s[h]+s[h+1]));return c},a=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return s=(o=Qy(o)).reduce(function(h,d){return h+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,o){var c=0,h=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=n(h),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:h,reverseChain:d.reverse().join(" ")}}}(rr.API),function(t){t.loadFile=function(e,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(h,d,p){var y=new XMLHttpRequest,v=0,b=function(E){var k=E.length,A=[],N=String.fromCharCode;for(v=0;v<k;v+=1)A.push(N(255&E.charCodeAt(v)));return A.join("")};if(y.open("GET",h,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?p(b(this.responseText)):p(void 0)}),y.send(null),d&&y.status===200)return b(y.responseText)}(a,s,o)}catch{}return c}(e,r,n)},t.loadImageFile=t.loadFile}(rr.API),function(t){function e(){return(ar.html2canvas?Promise.resolve(ar.html2canvas):y1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ar.DOMPurify?Promise.resolve(ar.DOMPurify):y1(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=gn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(o,c){var h=document.createElement(o);for(var d in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[d]=c.style[d];return h},s=function o(c){var h=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),h);return d=(d=d.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(h){return this.set({src:a("div",{innerHTML:o,dompurify:h})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function h(d,p){for(var y=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)p!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||y.appendChild(h(v,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(y.width=d.width,y.height=d.height,y.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(y.value=d.value),y.addEventListener("load",function(){y.scrollTop=d.scrollTop,y.scrollLeft=d.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var h=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=d,d)for(var v=0;v<d.length;++v){var b=d[v],E=b.src.find(function(k){return k.format==="truetype"});E&&h.addFont(E.url,b.ref.name,b.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(h){if(h in s.template.prop)return function(){this.prop[h]=o[h]};switch(h){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[h]=o[h]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var h=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(h):h})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(h,d){return Math.floor(h*d/72*96)}return this.then(function(){(o=o||rr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,h,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,h,d){return this.setProgress(o?this.progress.val+o:null,c||null,h?this.progress.n+h:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,c){var h=this;return this.thenCore(o,c,function(d,p){return h.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,d),y}).then(d,p).then(function(y){return h.updateProgress(1),y})})},s.prototype.thenCore=function(o,c,h){h=h||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=h.call(d,o,c);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(h){c=c.thenCore(h)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,rr.getPageSize=function(o,c,h){if(gn(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,h=d.format||h}c=c||"mm",h=h||"a4",o=(""+(o||"P")).toLowerCase();var p,y=(""+h).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var b,E=0,k=0;if(v.hasOwnProperty(y))E=v[y][1]/p,k=v[y][0]/p;else try{E=h[1],k=h[0]}catch{throw new Error("Invalid format: "+h)}if(o==="p"||o==="portrait")o="p",k>E&&(b=k,k=E,E=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>k&&(b=k,k=E,E=b)}return{width:k,height:E,unit:c,k:p,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(nv):null;var h=new s(c);return c.worker?h:h.from(o).doCallback()}}(rr.API),rr.API.addJS=function(t){return t3=t,this.internal.events.subscribe("postPutResources",function(){yg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(yg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+t3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){yg!==void 0&&e3!==void 0&&this.internal.out("/Names <</JavaScript "+yg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],c=n.exec(o);if(c!=null){var h=c[1];r.internal.newObjectDeferredBegin(h,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(s=0;s<d;s++){var y=r.internal.newObject();p.push(y);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var b=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<p.length;s++)r.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+b+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var h=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(rr.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,s,o,c){var h,d=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(h=function(y){for(var v,b=256*y.charCodeAt(4)+y.charCodeAt(5),E=y.length,k={width:0,height:0,numcomponents:1},A=4;A<E;A+=2){if(A+=b,e.indexOf(y.charCodeAt(A+1))!==-1){v=256*y.charCodeAt(A+5)+y.charCodeAt(A+6),k={width:256*y.charCodeAt(A+7)+y.charCodeAt(A+8),height:v,numcomponents:y.charCodeAt(A+9)};break}b=256*y.charCodeAt(A+2)+y.charCodeAt(A+3)}return k}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:r,width:h.width,height:h.height,colorSpace:c,bitsPerComponent:8,filter:d,index:n,alias:a}}return p}}(rr.API);var ih,vg,r3,n3,a3,jP=function(){var t,e,r;function n(s){var o,c,h,d,p,y,v,b,E,k,A,N,I,P;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),E=(function(){var z,G;for(G=[],z=0;z<4;++z)G.push(String.fromCharCode(this.data[this.pos++]));return G}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,y.delay=1e3*p/d,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,o-=4),s=(y!=null?y.data:void 0)||this.imgData,N=0;0<=o?N<o:N>o;0<=o?++N:--N)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((k=h-this.transparency.indexed.length)>0)for(I=0;0<=k?I<k:I>k;0<=k?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":v=(A=this.read(o)).indexOf(0),b=String.fromCharCode.apply(String,A.slice(0,v)),this.text[b]=String.fromCharCode.apply(String,A.slice(v+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),h=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(y,v,b,E){var k,A,N,I,P,z,G,W,j,L,R,U,D,C,B,ne,ye,ae,le,ce,te,Y=Math.ceil((d.width-y)/b),Te=Math.ceil((d.height-v)/E),F=d.width==Y&&d.height==Te;for(C=o*Y,U=F?c:new Uint8Array(C*Te),z=s.length,D=0,A=0;D<Te&&h<z;){switch(s[h++]){case 0:for(I=ye=0;ye<C;I=ye+=1)U[A++]=s[h++];break;case 1:for(I=ae=0;ae<C;I=ae+=1)k=s[h++],P=I<o?0:U[A-o],U[A++]=(k+P)%256;break;case 2:for(I=le=0;le<C;I=le+=1)k=s[h++],N=(I-I%o)/o,B=D&&U[(D-1)*C+N*o+I%o],U[A++]=(B+k)%256;break;case 3:for(I=ce=0;ce<C;I=ce+=1)k=s[h++],N=(I-I%o)/o,P=I<o?0:U[A-o],B=D&&U[(D-1)*C+N*o+I%o],U[A++]=(k+Math.floor((P+B)/2))%256;break;case 4:for(I=te=0;te<C;I=te+=1)k=s[h++],N=(I-I%o)/o,P=I<o?0:U[A-o],D===0?B=ne=0:(B=U[(D-1)*C+N*o+I%o],ne=N&&U[(D-1)*C+(N-1)*o+I%o]),G=P+B-ne,W=Math.abs(G-P),L=Math.abs(G-B),R=Math.abs(G-ne),j=W<=L&&W<=R?P:L<=R?B:ne,U[A++]=(k+j)%256;break;default:throw new Error("Invalid filter algorithm: "+s[h-1])}if(!F){var H=((v+D*E)*d.width+y)*o,K=D*C;for(I=0;I<Y;I+=1){for(var Q=0;Q<o;Q+=1)c[H++]=U[K++];H+=(b-1)*o}}D++}}return s=hP(s),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},n.prototype.decodePalette=function(){var s,o,c,h,d,p,y,v,b;for(c=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+c.length),h=0,s=0,o=y=0,v=c.length;y<v;o=y+=3)d[h++]=c[o],d[h++]=c[o+1],d[h++]=c[o+2],d[h++]=(b=p[s++])!=null?b:255;return d},n.prototype.copyToImageData=function(s,o){var c,h,d,p,y,v,b,E,k,A,N;if(h=this.colors,k=null,c=this.hasAlphaChannel,this.palette.length&&(k=(N=this._decodedPalette)!=null?N:this._decodedPalette=this.decodePalette(),h=4,c=!0),E=(d=s.data||s).length,y=k||o,p=v=0,h===1)for(;p<E;)b=k?4*o[p/4]:v,A=y[b++],d[p++]=A,d[p++]=A,d[p++]=A,d[p++]=c?y[b++]:255,v=b;else for(;p<E;)b=k?4*o[p/4]:v,d[p++]=y[b++],d[p++]=y[b++],d[p++]=y[b++],d[p++]=c?y[b++]:255,v=b},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(ar)==="[object Window]"){try{e=ar.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(s){var o;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,c,h,d,p,y,v,b;if(this.animation){for(b=[],c=p=0,y=(v=this.animation.frames).length;p<y;c=++p)o=v[c],h=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(h,d),o.imageData=h,b.push(o.image=t(h));return b}},n.prototype.renderFrame=function(s,o){var c,h,d;return c=(h=this.animation.frames)[o],d=h[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},n.prototype.animate=function(s){var o,c,h,d,p,y,v=this;return c=0,y=this.animation,d=y.numFrames,h=y.frames,p=y.numPlays,(o=function(){var b,E;if(b=c++%d,E=h[b],v.renderFrame(s,b),d>1&&c/d<p)return v.animation._timeout=setTimeout(o,E.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function OP(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],s=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var c=null,h=null;s&&(c=e,h=o,e+=3*o);var d=!0,p=[],y=0,v=null,b=0,E=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];y=t[e++]|t[e++]<<8,v=t[e++],(1&k)==0&&(v=null),b=k>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,z=t[e++],G=z>>6&1,W=1<<(7&z)+1,j=c,L=h,R=!1;z>>7&&(R=!0,j=e,L=W,e+=3*W);var U=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}p.push({x:A,y:N,width:I,height:P,has_local_palette:R,palette_offset:j,palette_size:L,data_offset:U,data_length:e-U,transparent_index:v,interlaced:!!G,delay:y,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return E},this.frameInfo=function(C){if(C<0||C>=p.length)throw new Error("Frame index out of range.");return p[C]},this.decodeAndBlitFrameBGRA=function(C,B){var ne=this.frameInfo(C),ye=ne.width*ne.height,ae=new Uint8Array(ye);s3(t,ne.data_offset,ae,ye);var le=ne.palette_offset,ce=ne.transparent_index;ce===null&&(ce=256);var te=ne.width,Y=r-te,Te=te,F=4*(ne.y*r+ne.x),H=4*((ne.y+ne.height)*r+ne.x),K=F,Q=4*Y;ne.interlaced===!0&&(Q+=4*r*7);for(var re=8,de=0,ve=ae.length;de<ve;++de){var we=ae[de];if(Te===0&&(Te=te,(K+=Q)>=H&&(Q=4*Y+4*r*(re-1),K=F+(te+Y)*(re<<1),re>>=1)),we===ce)K+=4;else{var Le=t[le+3*we],tt=t[le+3*we+1],J=t[le+3*we+2];B[K++]=J,B[K++]=tt,B[K++]=Le,B[K++]=255}--Te}},this.decodeAndBlitFrameRGBA=function(C,B){var ne=this.frameInfo(C),ye=ne.width*ne.height,ae=new Uint8Array(ye);s3(t,ne.data_offset,ae,ye);var le=ne.palette_offset,ce=ne.transparent_index;ce===null&&(ce=256);var te=ne.width,Y=r-te,Te=te,F=4*(ne.y*r+ne.x),H=4*((ne.y+ne.height)*r+ne.x),K=F,Q=4*Y;ne.interlaced===!0&&(Q+=4*r*7);for(var re=8,de=0,ve=ae.length;de<ve;++de){var we=ae[de];if(Te===0&&(Te=te,(K+=Q)>=H&&(Q=4*Y+4*r*(re-1),K=F+(te+Y)*(re<<1),re>>=1)),we===ce)K+=4;else{var Le=t[le+3*we],tt=t[le+3*we+1],J=t[le+3*we+2];B[K++]=Le,B[K++]=tt,B[K++]=J,B[K++]=255}--Te}}}function s3(t,e,r,n){for(var a=t[e++],s=1<<a,o=s+1,c=o+1,h=a+1,d=(1<<h)-1,p=0,y=0,v=0,b=t[e++],E=new Int32Array(4096),k=null;;){for(;p<16&&b!==0;)y|=t[e++]<<p,p+=8,b===1?b=t[e++]:--b;if(p<h)break;var A=y&d;if(y>>=h,p-=h,A!==s){if(A===o)break;for(var N=A<c?A:k,I=0,P=N;P>s;)P=E[P]>>8,++I;var z=P;if(v+I+(N!==A?1:0)>n)return void An.log("Warning, gif stream longer than expected.");r[v++]=z;var G=v+=I;for(N!==A&&(r[v++]=z),P=N;I--;)P=E[P],r[--G]=255&P,P>>=8;k!==null&&c<4096&&(E[c++]=k<<8|z,c>=d+1&&h<12&&(++h,d=d<<1|1)),k=A}else c=o+1,d=(1<<(h=a+1))-1,k=null}return v!==n&&An.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ry(t){var e,r,n,a,s,o=Math.floor,c=new Array(64),h=new Array(64),d=new Array(64),p=new Array(64),y=new Array(65535),v=new Array(65535),b=new Array(64),E=new Array(64),k=[],A=0,N=7,I=new Array(64),P=new Array(64),z=new Array(64),G=new Array(256),W=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ye=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(F,H){for(var K=0,Q=0,re=new Array,de=1;de<=16;de++){for(var ve=1;ve<=F[de];ve++)re[H[Q]]=[],re[H[Q]][0]=K,re[H[Q]][1]=de,Q++,K++;K*=2}return re}function le(F){for(var H=F[0],K=F[1]-1;K>=0;)H&1<<K&&(A|=1<<N),K--,--N<0&&(A==255?(ce(255),ce(0)):ce(A),N=7,A=0)}function ce(F){k.push(F)}function te(F){ce(F>>8&255),ce(255&F)}function Y(F,H,K,Q,re){for(var de,ve=re[0],we=re[240],Le=function(st,pt){var _t,bt,Dt,Ut,Wt,jt,Ot,Ht,It,Nt,vt=0;for(It=0;It<8;++It){_t=st[vt],bt=st[vt+1],Dt=st[vt+2],Ut=st[vt+3],Wt=st[vt+4],jt=st[vt+5],Ot=st[vt+6];var Dr=_t+(Ht=st[vt+7]),qt=_t-Ht,wn=bt+Ot,pr=bt-Ot,Kr=Dt+jt,ga=Dt-jt,br=Ut+Wt,bs=Ut-Wt,sn=Dr+br,Un=Dr-br,na=wn+Kr,Wr=wn-Kr;st[vt]=sn+na,st[vt+4]=sn-na;var $t=.707106781*(Wr+Un);st[vt+2]=Un+$t,st[vt+6]=Un-$t;var Tr=.382683433*((sn=bs+ga)-(Wr=pr+qt)),za=.5411961*sn+Tr,Sn=1.306562965*Wr+Tr,aa=.707106781*(na=ga+pr),is=qt+aa,Rt=qt-aa;st[vt+5]=Rt+za,st[vt+3]=Rt-za,st[vt+1]=is+Sn,st[vt+7]=is-Sn,vt+=8}for(vt=0,It=0;It<8;++It){_t=st[vt],bt=st[vt+8],Dt=st[vt+16],Ut=st[vt+24],Wt=st[vt+32],jt=st[vt+40],Ot=st[vt+48];var Yr=_t+(Ht=st[vt+56]),Fr=_t-Ht,fn=bt+Ot,_n=bt-Ot,Tn=Dt+jt,se=Dt-jt,ke=Ut+Wt,ge=Ut-Wt,xe=Yr+ke,_e=Yr-ke,Ee=fn+Tn,ze=fn-Tn;st[vt]=xe+Ee,st[vt+32]=xe-Ee;var Ze=.707106781*(ze+_e);st[vt+16]=_e+Ze,st[vt+48]=_e-Ze;var Me=.382683433*((xe=ge+se)-(ze=_n+Fr)),Ge=.5411961*xe+Me,Xe=1.306562965*ze+Me,ft=.707106781*(Ee=se+_n),kt=Fr+ft,Ct=Fr-ft;st[vt+40]=Ct+Ge,st[vt+24]=Ct-Ge,st[vt+8]=kt+Xe,st[vt+56]=kt-Xe,vt++}for(It=0;It<64;++It)Nt=st[It]*pt[It],b[It]=Nt>0?Nt+.5|0:Nt-.5|0;return b}(F,H),tt=0;tt<64;++tt)E[j[tt]]=Le[tt];var J=E[0]-K;K=E[0],J==0?le(Q[0]):(le(Q[v[de=32767+J]]),le(y[de]));for(var Ne=63;Ne>0&&E[Ne]==0;)Ne--;if(Ne==0)return le(ve),K;for(var Qe,je=1;je<=Ne;){for(var me=je;E[je]==0&&je<=Ne;)++je;var Ke=je-me;if(Ke>=16){Qe=Ke>>4;for(var xt=1;xt<=Qe;++xt)le(we);Ke&=15}de=32767+E[je],le(re[(Ke<<4)+v[de]]),le(y[de]),je++}return Ne!=63&&le(ve),K}function Te(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(H){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var re=o((K[Q]*H+50)/100);re=Math.min(Math.max(re,1),255),c[j[Q]]=re}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var we=o((de[ve]*H+50)/100);we=Math.min(Math.max(we,1),255),h[j[ve]]=we}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tt=0,J=0;J<8;J++)for(var Ne=0;Ne<8;Ne++)d[tt]=1/(c[j[tt]]*Le[J]*Le[Ne]*8),p[tt]=1/(h[j[tt]]*Le[J]*Le[Ne]*8),tt++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,H){H&&Te(H),k=new Array,A=0,N=7,te(65496),te(65504),te(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),te(1),te(1),ce(0),ce(0),function(){te(65499),te(132),ce(0);for(var bt=0;bt<64;bt++)ce(c[bt]);ce(1);for(var Dt=0;Dt<64;Dt++)ce(h[Dt])}(),function(bt,Dt){te(65472),te(17),ce(8),te(Dt),te(bt),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(F.width,F.height),function(){te(65476),te(418),ce(0);for(var bt=0;bt<16;bt++)ce(L[bt+1]);for(var Dt=0;Dt<=11;Dt++)ce(R[Dt]);ce(16);for(var Ut=0;Ut<16;Ut++)ce(U[Ut+1]);for(var Wt=0;Wt<=161;Wt++)ce(D[Wt]);ce(1);for(var jt=0;jt<16;jt++)ce(C[jt+1]);for(var Ot=0;Ot<=11;Ot++)ce(B[Ot]);ce(17);for(var Ht=0;Ht<16;Ht++)ce(ne[Ht+1]);for(var It=0;It<=161;It++)ce(ye[It])}(),te(65498),te(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var K=0,Q=0,re=0;A=0,N=7,this.encode.displayName="_encode_";for(var de,ve,we,Le,tt,J,Ne,Qe,je,me=F.data,Ke=F.width,xt=F.height,st=4*Ke,pt=0;pt<xt;){for(de=0;de<st;){for(tt=st*pt+de,Ne=-1,Qe=0,je=0;je<64;je++)J=tt+(Qe=je>>3)*st+(Ne=4*(7&je)),pt+Qe>=xt&&(J-=st*(pt+1+Qe-xt)),de+Ne>=st&&(J-=de+Ne-st+4),ve=me[J++],we=me[J++],Le=me[J++],I[je]=(W[ve]+W[we+256>>0]+W[Le+512>>0]>>16)-128,P[je]=(W[ve+768>>0]+W[we+1024>>0]+W[Le+1280>>0]>>16)-128,z[je]=(W[ve+1280>>0]+W[we+1536>>0]+W[Le+1792>>0]>>16)-128;K=Y(I,d,K,e,n),Q=Y(P,p,Q,r,a),re=Y(z,p,re,r,a),de+=32}pt+=8}if(N>=0){var _t=[];_t[1]=N+1,_t[0]=(1<<N+1)-1,le(_t)}return te(65497),new Uint8Array(k)},t=t||50,function(){for(var F=String.fromCharCode,H=0;H<256;H++)G[H]=F(H)}(),e=ae(L,R),r=ae(C,B),n=ae(U,D),a=ae(ne,ye),function(){for(var F=1,H=2,K=1;K<=15;K++){for(var Q=F;Q<H;Q++)v[32767+Q]=K,y[32767+Q]=[],y[32767+Q][1]=K,y[32767+Q][0]=Q;for(var re=-(H-1);re<=-F;re++)v[32767+re]=K,y[32767+re]=[],y[32767+re][1]=K,y[32767+re][0]=H-1+re;F<<=1,H<<=1}}(),function(){for(var F=0;F<256;F++)W[F]=19595*F,W[F+256>>0]=38470*F,W[F+512>>0]=7471*F+32768,W[F+768>>0]=-11059*F,W[F+1024>>0]=-21709*F,W[F+1280>>0]=32768*F+8421375,W[F+1536>>0]=-27439*F,W[F+1792>>0]=-5329*F}(),Te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function rl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function i3(t){function e(L){if(!L)throw Error("assert :P")}function r(L,R,U){for(var D=0;4>D;D++)if(L[R+D]!=U.charCodeAt(D))return!0;return!1}function n(L,R,U,D,C){for(var B=0;B<C;B++)L[R+B]=U[D+B]}function a(L,R,U,D){for(var C=0;C<D;C++)L[R+C]=U}function s(L){return new Int32Array(L)}function o(L,R){for(var U=[],D=0;D<L;D++)U.push(new R);return U}function c(L,R){var U=[];return function D(C,B,ne){for(var ye=ne[B],ae=0;ae<ye&&(C.push(ne.length>B+1?[]:new R),!(ne.length<B+1));ae++)D(C[ae],B+1,ne)}(U,0,L),U}var h=function(){var L=this;function R(g,_){for(var O=1<<_-1>>>0;g&O;)O>>>=1;return O?(g&O-1)+O:g}function U(g,_,O,V,Z){e(!(V%O));do g[_+(V-=O)]=Z;while(0<V)}function D(g,_,O,V,Z){if(e(2328>=Z),512>=Z)var ie=s(512);else if((ie=s(Z))==null)return 0;return function(oe,ue,pe,be,Ie,$e){var qe,Ue,ct=ue,rt=1<<pe,De=s(16),Pe=s(16);for(e(Ie!=0),e(be!=null),e(oe!=null),e(0<pe),Ue=0;Ue<Ie;++Ue){if(15<be[Ue])return 0;++De[be[Ue]]}if(De[0]==Ie)return 0;for(Pe[1]=0,qe=1;15>qe;++qe){if(De[qe]>1<<qe)return 0;Pe[qe+1]=Pe[qe]+De[qe]}for(Ue=0;Ue<Ie;++Ue)qe=be[Ue],0<be[Ue]&&($e[Pe[qe]++]=Ue);if(Pe[15]==1)return(be=new C).g=0,be.value=$e[0],U(oe,ct,1,rt,be),rt;var at,ut=-1,ot=rt-1,Lt=0,At=1,Gt=1,Tt=1<<pe;for(Ue=0,qe=1,Ie=2;qe<=pe;++qe,Ie<<=1){if(At+=Gt<<=1,0>(Gt-=De[qe]))return 0;for(;0<De[qe];--De[qe])(be=new C).g=qe,be.value=$e[Ue++],U(oe,ct+Lt,Ie,Tt,be),Lt=R(Lt,qe)}for(qe=pe+1,Ie=2;15>=qe;++qe,Ie<<=1){if(At+=Gt<<=1,0>(Gt-=De[qe]))return 0;for(;0<De[qe];--De[qe]){if(be=new C,(Lt&ot)!=ut){for(ct+=Tt,at=1<<(ut=qe)-pe;15>ut&&!(0>=(at-=De[ut]));)++ut,at<<=1;rt+=Tt=1<<(at=ut-pe),oe[ue+(ut=Lt&ot)].g=at+pe,oe[ue+ut].value=ct-ue-ut}be.g=qe-pe,be.value=$e[Ue++],U(oe,ct+(Lt>>pe),Ie,Tt,be),Lt=R(Lt,qe)}}return At!=2*Pe[15]-1?0:rt}(g,_,O,V,Z,ie)}function C(){this.value=this.g=0}function B(){this.value=this.g=0}function ne(){this.G=o(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(sa,B)}function ye(g,_,O,V){e(g!=null),e(_!=null),e(2147483648>V),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=O,g.Jd=_,g.Yc=O+V,g.Zc=4<=V?O+V-4+1:O,de(g)}function ae(g,_){for(var O=0;0<_--;)O|=we(g,128)<<_;return O}function le(g,_){var O=ae(g,_);return ve(g)?-O:O}function ce(g,_,O,V){var Z,ie=0;for(e(g!=null),e(_!=null),e(4294967288>V),g.Sb=V,g.Ra=0,g.u=0,g.h=0,4<V&&(V=4),Z=0;Z<V;++Z)ie+=_[O+Z]<<8*Z;g.Ra=ie,g.bb=V,g.oa=_,g.pa=O}function te(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<yc-8>>>0,++g.bb,g.u-=8;K(g)&&(g.h=1,g.u=0)}function Y(g,_){if(e(0<=_),!g.h&&_<=xc){var O=H(g)&Al[_];return g.u+=_,te(g),O}return g.h=1,g.u=0}function Te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(g){return g.Ra>>>(g.u&yc-1)>>>0}function K(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>yc}function Q(g,_){g.u=_,g.h=K(g)}function re(g){g.u>=vu&&(e(g.u>=vu),te(g))}function de(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ve(g){return ae(g,1)}function we(g,_){var O=g.Ca;0>g.b&&de(g);var V=g.b,Z=O*_>>>8,ie=(g.I>>>V>Z)+0;for(ie?(O-=Z,g.I-=Z+1<<V>>>0):O=Z+1,V=O,Z=0;256<=V;)Z+=8,V>>=8;return V=7^Z+Ss[V],g.b-=V,g.Ca=(O<<V)-1,ie}function Le(g,_,O){g[_+0]=O>>24&255,g[_+1]=O>>16&255,g[_+2]=O>>8&255,g[_+3]=O>>0&255}function tt(g,_){return g[_+0]<<0|g[_+1]<<8}function J(g,_){return tt(g,_)|g[_+2]<<16}function Ne(g,_){return tt(g,_)|tt(g,_+2)<<16}function Qe(g,_){var O=1<<_;return e(g!=null),e(0<_),g.X=s(O),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function je(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),n(_.X,0,g.X,0,1<<_.Xa)}function me(){this.X=[],this.Xa=this.Mb=0}function Ke(g,_,O,V){e(O!=null),e(V!=null);var Z=O[0],ie=V[0];return Z==0&&(Z=(g*ie+_/2)/_),ie==0&&(ie=(_*Z+g/2)/g),0>=Z||0>=ie?0:(O[0]=Z,V[0]=ie,1)}function xt(g,_){return g+(1<<_)-1>>>_}function st(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function pt(g,_){L[_]=function(O,V,Z,ie,oe,ue,pe){var be;for(be=0;be<oe;++be){var Ie=L[g](ue[pe+be-1],Z,ie+be);ue[pe+be]=st(O[V+be],Ie)}}}function _t(){this.ud=this.hd=this.jd=0}function bt(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function Dt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Ut(g,_){return Dt(g+(g-_+.5>>1))}function Wt(g,_,O){return Math.abs(_-O)-Math.abs(g-O)}function jt(g,_,O,V,Z,ie,oe){for(V=ie[oe-1],O=0;O<Z;++O)ie[oe+O]=V=st(g[_+O],V)}function Ot(g,_,O,V,Z){var ie;for(ie=0;ie<O;++ie){var oe=g[_+ie],ue=oe>>8&255,pe=16711935&(pe=(pe=16711935&oe)+((ue<<16)+ue));V[Z+ie]=(4278255360&oe)+pe>>>0}}function Ht(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function It(g,_,O,V,Z,ie){var oe;for(oe=0;oe<V;++oe){var ue=_[O+oe],pe=ue>>>8,be=ue,Ie=255&(Ie=(Ie=ue>>>16)+((g.jd<<24>>24)*(pe<<24>>24)>>>5));be=255&(be=(be=be+((g.hd<<24>>24)*(pe<<24>>24)>>>5))+((g.ud<<24>>24)*(Ie<<24>>24)>>>5)),Z[ie+oe]=(4278255360&ue)+(Ie<<16)+be}}function Nt(g,_,O,V,Z){L[_]=function(ie,oe,ue,pe,be,Ie,$e,qe,Ue){for(pe=$e;pe<qe;++pe)for($e=0;$e<Ue;++$e)be[Ie++]=Z(ue[V(ie[oe++])])},L[g]=function(ie,oe,ue,pe,be,Ie,$e){var qe=8>>ie.b,Ue=ie.Ea,ct=ie.K[0],rt=ie.w;if(8>qe)for(ie=(1<<ie.b)-1,rt=(1<<qe)-1;oe<ue;++oe){var De,Pe=0;for(De=0;De<Ue;++De)De&ie||(Pe=V(pe[be++])),Ie[$e++]=Z(ct[Pe&rt]),Pe>>=qe}else L["VP8LMapColor"+O](pe,be,ct,rt,Ie,$e,oe,ue,Ue)}}function vt(g,_,O,V,Z){for(O=_+O;_<O;){var ie=g[_++];V[Z++]=ie>>16&255,V[Z++]=ie>>8&255,V[Z++]=ie>>0&255}}function Dr(g,_,O,V,Z){for(O=_+O;_<O;){var ie=g[_++];V[Z++]=ie>>16&255,V[Z++]=ie>>8&255,V[Z++]=ie>>0&255,V[Z++]=ie>>24&255}}function qt(g,_,O,V,Z){for(O=_+O;_<O;){var ie=(oe=g[_++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;V[Z++]=ie,V[Z++]=oe}}function wn(g,_,O,V,Z){for(O=_+O;_<O;){var ie=(oe=g[_++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;V[Z++]=ie,V[Z++]=oe}}function pr(g,_,O,V,Z){for(O=_+O;_<O;){var ie=g[_++];V[Z++]=ie>>0&255,V[Z++]=ie>>8&255,V[Z++]=ie>>16&255}}function Kr(g,_,O,V,Z,ie){if(ie==0)for(O=_+O;_<O;)Le(V,((ie=g[_++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),Z+=32;else n(V,Z,g,_,O)}function ga(g,_){L[_][0]=L[g+"0"],L[_][1]=L[g+"1"],L[_][2]=L[g+"2"],L[_][3]=L[g+"3"],L[_][4]=L[g+"4"],L[_][5]=L[g+"5"],L[_][6]=L[g+"6"],L[_][7]=L[g+"7"],L[_][8]=L[g+"8"],L[_][9]=L[g+"9"],L[_][10]=L[g+"10"],L[_][11]=L[g+"11"],L[_][12]=L[g+"12"],L[_][13]=L[g+"13"],L[_][14]=L[g+"0"],L[_][15]=L[g+"0"]}function br(g){return g==I0||g==Ol||g==qo||g==ku}function bs(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Un(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bs,this.f.kb=new sn,this.sd=null}function na(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $t(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Tr(g,_){var O=g.T,V=_.ba.f.RGBA,Z=V.eb,ie=V.fb+g.ka*V.A,oe=wa[_.ba.S],ue=g.y,pe=g.O,be=g.f,Ie=g.N,$e=g.ea,qe=g.W,Ue=_.cc,ct=_.dc,rt=_.Mc,De=_.Nc,Pe=g.ka,at=g.ka+g.T,ut=g.U,ot=ut+1>>1;for(Pe==0?oe(ue,pe,null,null,be,Ie,$e,qe,be,Ie,$e,qe,Z,ie,null,null,ut):(oe(_.ec,_.fc,ue,pe,Ue,ct,rt,De,be,Ie,$e,qe,Z,ie-V.A,Z,ie,ut),++O);Pe+2<at;Pe+=2)Ue=be,ct=Ie,rt=$e,De=qe,Ie+=g.Rc,qe+=g.Rc,ie+=2*V.A,oe(ue,(pe+=2*g.fa)-g.fa,ue,pe,Ue,ct,rt,De,be,Ie,$e,qe,Z,ie-V.A,Z,ie,ut);return pe+=g.fa,g.j+at<g.o?(n(_.ec,_.fc,ue,pe,ut),n(_.cc,_.dc,be,Ie,ot),n(_.Mc,_.Nc,$e,qe,ot),O--):1&at||oe(ue,pe,null,null,be,Ie,$e,qe,be,Ie,$e,qe,Z,ie+V.A,null,null,ut),O}function za(g,_,O){var V=g.F,Z=[g.J];if(V!=null){var ie=g.U,oe=_.ba.S,ue=oe==kc||oe==qo;_=_.ba.f.RGBA;var pe=[0],be=g.ka;pe[0]=g.T,g.Kb&&(be==0?--pe[0]:(--be,Z[0]-=g.width),g.j+g.ka+g.T==g.o&&(pe[0]=g.o-g.j-be));var Ie=_.eb;be=_.fb+be*_.A,g=Er(V,Z[0],g.width,ie,pe,Ie,be+(ue?0:3),_.A),e(O==pe),g&&br(oe)&&ei(Ie,be,ue,ie,pe,_.A)}return 0}function Sn(g){var _=g.ma,O=_.ba.S,V=11>O,Z=O==_u||O==R0||O==kc||O==zo||O==12||br(O);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!El(_.Oa,g,Z?11:12))return 0;if(Z&&br(O)&&gt(),g.da)alert("todo:use_scaling");else{if(V){if(_.Ib=$t,g.Kb){if(O=g.U+1>>1,_.memory=s(g.U+2*O),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+O,_.Ib=Tr,gt()}}else alert("todo:EmitYUV");Z&&(_.Jb=za,V&&Be())}if(V&&!mp){for(g=0;256>g;++g)wx[g]=89858*(g-128)+oa>>yo,j0[g]=-22014*(g-128)+oa,nd[g]=-45773*(g-128),la[g]=113618*(g-128)+oa>>yo;for(g=Ml;g<Ff;++g)_=76283*(g-16)+oa>>yo,O0[g-Ml]=Zr(_,255),ad[g-Ml]=Zr(_+8>>4,15);mp=1}return 1}function aa(g){var _=g.ma,O=g.U,V=g.T;return e(!(1&g.ka)),0>=O||0>=V?0:(O=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,O),_.Dc+=O,1)}function is(g){g.ma.memory=null}function Rt(g,_,O,V){return Y(g,8)!=47?0:(_[0]=Y(g,14)+1,O[0]=Y(g,14)+1,V[0]=Y(g,1),Y(g,3)!=0?0:!g.h)}function Yr(g,_){if(4>g)return g+1;var O=g-2>>1;return(2+(1&g)<<O)+Y(_,O)+1}function Fr(g,_){return 120<_?_-120:1<=(O=((O=Go[_-1])>>4)*g+(8-(15&O)))?O:1;var O}function fn(g,_,O){var V=H(O),Z=g[_+=255&V].g-8;return 0<Z&&(Q(O,O.u+8),V=H(O),_+=g[_].value,_+=V&(1<<Z)-1),Q(O,O.u+g[_].g),g[_].value}function _n(g,_,O){return O.g+=g.g,O.value+=g.value<<_>>>0,e(8>=O.g),g.g}function Tn(g,_,O){var V=g.xc;return e((_=V==0?0:g.vc[g.md*(O>>V)+(_>>V)])<g.Wb),g.Ya[_]}function se(g,_,O,V){var Z=g.ab,ie=g.c*_,oe=g.C;_=oe+_;var ue=O,pe=V;for(V=g.Ta,O=g.Ua;0<Z--;){var be=g.gc[Z],Ie=oe,$e=_,qe=ue,Ue=pe,ct=(pe=V,ue=O,be.Ea);switch(e(Ie<$e),e($e<=be.nc),be.hc){case 2:Rf(qe,Ue,($e-Ie)*ct,pe,ue);break;case 0:var rt=Ie,De=$e,Pe=pe,at=ue,ut=(Tt=be).Ea;rt==0&&(td(qe,Ue,null,null,1,Pe,at),jt(qe,Ue+1,0,0,ut-1,Pe,at+1),Ue+=ut,at+=ut,++rt);for(var ot=1<<Tt.b,Lt=ot-1,At=xt(ut,Tt.b),Gt=Tt.K,Tt=Tt.w+(rt>>Tt.b)*At;rt<De;){var Vr=Gt,en=Tt,vr=1;for(N0(qe,Ue,Pe,at-ut,1,Pe,at);vr<ut;){var xr=(vr&~Lt)+ot;xr>ut&&(xr=ut),(0,Bo[Vr[en++]>>8&15])(qe,Ue+ +vr,Pe,at+vr-ut,xr-vr,Pe,at+vr),vr=xr}Ue+=ut,at+=ut,++rt&Lt||(Tt+=At)}$e!=be.nc&&n(pe,ue-ct,pe,ue+($e-Ie-1)*ct,ct);break;case 1:for(ct=qe,De=Ue,ut=(qe=be.Ea)-(at=qe&~(Pe=(Ue=1<<be.b)-1)),rt=xt(qe,be.b),ot=be.K,be=be.w+(Ie>>be.b)*rt;Ie<$e;){for(Lt=ot,At=be,Gt=new _t,Tt=De+at,Vr=De+qe;De<Tt;)Ht(Lt[At++],Gt),Tl(Gt,ct,De,Ue,pe,ue),De+=Ue,ue+=Ue;De<Vr&&(Ht(Lt[At++],Gt),Tl(Gt,ct,De,ut,pe,ue),De+=ut,ue+=ut),++Ie&Pe||(be+=rt)}break;case 3:if(qe==pe&&Ue==ue&&0<be.b){for(De=pe,qe=ct=ue+($e-Ie)*ct-(at=($e-Ie)*xt(be.Ea,be.b)),Ue=pe,Pe=ue,rt=[],at=(ut=at)-1;0<=at;--at)rt[at]=Ue[Pe+at];for(at=ut-1;0<=at;--at)De[qe+at]=rt[at];yi(be,Ie,$e,pe,ct,pe,ue)}else yi(be,Ie,$e,qe,Ue,pe,ue)}ue=V,pe=O}pe!=O&&n(V,O,ue,pe,ie)}function ke(g,_){var O=g.V,V=g.Ba+g.c*g.C,Z=_-g.C;if(e(_<=g.l.o),e(16>=Z),0<Z){var ie=g.l,oe=g.Ta,ue=g.Ua,pe=ie.width;if(se(g,Z,O,V),Z=ue=[ue],e((O=g.C)<(V=_)),e(ie.v<ie.va),V>ie.o&&(V=ie.o),O<ie.j){var be=ie.j-O;O=ie.j,Z[0]+=be*pe}if(O>=V?O=0:(Z[0]+=4*ie.v,ie.ka=O-ie.j,ie.U=ie.va-ie.v,ie.T=V-O,O=1),O){if(ue=ue[0],11>(O=g.ca).S){var Ie=O.f.RGBA,$e=(V=O.S,Z=ie.U,ie=ie.T,be=Ie.eb,Ie.A),qe=ie;for(Ie=Ie.fb+g.Ma*Ie.A;0<qe--;){var Ue=oe,ct=ue,rt=Z,De=be,Pe=Ie;switch(V){case Wa:cs(Ue,ct,rt,De,Pe);break;case _u:ja(Ue,ct,rt,De,Pe);break;case I0:ja(Ue,ct,rt,De,Pe),ei(De,Pe,0,rt,1,0);break;case mo:Fi(Ue,ct,rt,De,Pe);break;case R0:Kr(Ue,ct,rt,De,Pe,1);break;case Ol:Kr(Ue,ct,rt,De,Pe,1),ei(De,Pe,0,rt,1,0);break;case kc:Kr(Ue,ct,rt,De,Pe,0);break;case qo:Kr(Ue,ct,rt,De,Pe,0),ei(De,Pe,1,rt,1,0);break;case zo:Nl(Ue,ct,rt,De,Pe);break;case ku:Nl(Ue,ct,rt,De,Pe),kr(De,Pe,rt,1,0);break;case Df:Ts(Ue,ct,rt,De,Pe);break;default:e(0)}ue+=pe,Ie+=$e}g.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=O.height)}}g.C=_,e(g.C<=g.i)}function ge(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var O=g.Ya[_].G,V=g.Ya[_].H;if(0<O[1][V[1]+0].g||0<O[2][V[2]+0].g||0<O[3][V[3]+0].g)return 0}return 1}function xe(g,_,O,V,Z,ie){if(g.Z!=0){var oe=g.qd,ue=g.rd;for(e(go[g.Z]!=null);_<O;++_)go[g.Z](oe,ue,V,Z,V,Z,ie),oe=V,ue=Z,Z+=ie;g.qd=oe,g.rd=ue}}function _e(g,_){var O=g.l.ma,V=O.Z==0||O.Z==1?g.l.j:g.C;if(V=g.C<V?V:g.C,e(_<=g.l.o),_>V){var Z=g.l.width,ie=O.ca,oe=O.tb+Z*V,ue=g.V,pe=g.Ba+g.c*V,be=g.gc;e(g.ab==1),e(be[0].hc==3),Sl(be[0],V,_,ue,pe,ie,oe),xe(O,V,_,ie,oe,Z)}g.C=g.Ma=_}function Ee(g,_,O,V,Z,ie,oe){var ue=g.$/V,pe=g.$%V,be=g.m,Ie=g.s,$e=O+g.$,qe=$e;Z=O+V*Z;var Ue=O+V*ie,ct=280+Ie.ua,rt=g.Pb?ue:16777216,De=0<Ie.ua?Ie.Wa:null,Pe=Ie.wc,at=$e<Ue?Tn(Ie,pe,ue):null;e(g.C<ie),e(Ue<=Z);var ut=!1;e:for(;;){for(;ut||$e<Ue;){var ot=0;if(ue>=rt){var Lt=$e-O;e((rt=g).Pb),rt.wd=rt.m,rt.xd=Lt,0<rt.s.ua&&je(rt.s.Wa,rt.s.vb),rt=ue+fp}if(pe&Pe||(at=Tn(Ie,pe,ue)),e(at!=null),at.Qb&&(_[$e]=at.qb,ut=!0),!ut)if(re(be),at.jc){ot=be,Lt=_;var At=$e,Gt=at.pd[H(ot)&sa-1];e(at.jc),256>Gt.g?(Q(ot,ot.u+Gt.g),Lt[At]=Gt.value,ot=0):(Q(ot,ot.u+Gt.g-256),e(256<=Gt.value),ot=Gt.value),ot==0&&(ut=!0)}else ot=fn(at.G[0],at.H[0],be);if(be.h)break;if(ut||256>ot){if(!ut)if(at.nd)_[$e]=(at.qb|ot<<8)>>>0;else{if(re(be),ut=fn(at.G[1],at.H[1],be),re(be),Lt=fn(at.G[2],at.H[2],be),At=fn(at.G[3],at.H[3],be),be.h)break;_[$e]=(At<<24|ut<<16|ot<<8|Lt)>>>0}if(ut=!1,++$e,++pe>=V&&(pe=0,++ue,oe!=null&&ue<=ie&&!(ue%16)&&oe(g,ue),De!=null))for(;qe<$e;)ot=_[qe++],De.X[(506832829*ot&4294967295)>>>De.Mb]=ot}else if(280>ot){if(ot=Yr(ot-256,be),Lt=fn(at.G[4],at.H[4],be),re(be),Lt=Fr(V,Lt=Yr(Lt,be)),be.h)break;if($e-O<Lt||Z-$e<ot)break e;for(At=0;At<ot;++At)_[$e+At]=_[$e+At-Lt];for($e+=ot,pe+=ot;pe>=V;)pe-=V,++ue,oe!=null&&ue<=ie&&!(ue%16)&&oe(g,ue);if(e($e<=Z),pe&Pe&&(at=Tn(Ie,pe,ue)),De!=null)for(;qe<$e;)ot=_[qe++],De.X[(506832829*ot&4294967295)>>>De.Mb]=ot}else{if(!(ot<ct))break e;for(ut=ot-280,e(De!=null);qe<$e;)ot=_[qe++],De.X[(506832829*ot&4294967295)>>>De.Mb]=ot;ot=$e,e(!(ut>>>(Lt=De).Xa)),_[ot]=Lt.X[ut],ut=!0}ut||e(be.h==K(be))}if(g.Pb&&be.h&&$e<Z)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&je(g.s.vb,g.s.Wa);else{if(be.h)break e;oe!=null&&oe(g,ue>ie?ie:ue),g.a=0,g.$=$e-O}return 1}return g.a=3,0}function ze(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function Ze(){var g=new xu;return g==null?null:(g.a=0,g.xb=Eu,ga("Predictor","VP8LPredictors"),ga("Predictor","VP8LPredictors_C"),ga("PredictorAdd","VP8LPredictorsAdd"),ga("PredictorAdd","VP8LPredictorsAdd_C"),Rf=Ot,Tl=It,cs=vt,ja=Dr,Nl=qt,Ts=wn,Fi=pr,L.VP8LMapColor32b=va,L.VP8LMapColor8b=C0,g)}function Me(g,_,O,V,Z){var ie=1,oe=[g],ue=[_],pe=V.m,be=V.s,Ie=null,$e=0;e:for(;;){if(O)for(;ie&&Y(pe,1);){var qe=oe,Ue=ue,ct=V,rt=1,De=ct.m,Pe=ct.gc[ct.ab],at=Y(De,2);if(ct.Oc&1<<at)ie=0;else{switch(ct.Oc|=1<<at,Pe.hc=at,Pe.Ea=qe[0],Pe.nc=Ue[0],Pe.K=[null],++ct.ab,e(4>=ct.ab),at){case 0:case 1:Pe.b=Y(De,3)+2,rt=Me(xt(Pe.Ea,Pe.b),xt(Pe.nc,Pe.b),0,ct,Pe.K),Pe.K=Pe.K[0];break;case 3:var ut,ot=Y(De,8)+1,Lt=16<ot?0:4<ot?1:2<ot?2:3;if(qe[0]=xt(Pe.Ea,Lt),Pe.b=Lt,ut=rt=Me(ot,1,0,ct,Pe.K)){var At,Gt=ot,Tt=Pe,Vr=1<<(8>>Tt.b),en=s(Vr);if(en==null)ut=0;else{var vr=Tt.K[0],xr=Tt.w;for(en[0]=Tt.K[0][0],At=1;At<1*Gt;++At)en[At]=st(vr[xr+At],en[At-1]);for(;At<4*Vr;++At)en[At]=0;Tt.K[0]=null,Tt.K[0]=en,ut=1}}rt=ut;break;case 2:break;default:e(0)}ie=rt}}if(oe=oe[0],ue=ue[0],ie&&Y(pe,1)&&!(ie=1<=($e=Y(pe,4))&&11>=$e)){V.a=3;break e}var cn;if(cn=ie)t:{var tn,ur,dn,Xt=V,nr=oe,Br=ue,zr=$e,_a=O,ca=Xt.m,qn=Xt.s,Hn=[null],Qn=1,_i=0,rn=Ac[zr];r:for(;;){if(_a&&Y(ca,1)){var Jn=Y(ca,3)+2,Ui=xt(nr,Jn),Bl=xt(Br,Jn),Nc=Ui*Bl;if(!Me(Ui,Bl,0,Xt,Hn))break r;for(Hn=Hn[0],qn.xc=Jn,tn=0;tn<Nc;++tn){var Ul=Hn[tn]>>8&65535;Hn[tn]=Ul,Ul>=Qn&&(Qn=Ul+1)}}if(ca.h)break r;for(ur=0;5>ur;++ur){var Nn=ti[ur];!ur&&0<zr&&(Nn+=1<<zr),_i<Nn&&(_i=Nn)}var P0=o(Qn*rn,C),Mf=Qn,fs=o(Mf,ne);if(fs==null)var In=null;else e(65536>=Mf),In=fs;var Cc=s(_i);if(In==null||Cc==null||P0==null){Xt.a=1;break r}var Vl=P0;for(tn=dn=0;tn<Qn;++tn){var Cs=In[tn],zl=Cs.G,Rs=Cs.H,F0=0,Su=1,Bf=0;for(ur=0;5>ur;++ur){Nn=ti[ur],zl[ur]=Vl,Rs[ur]=dn,!ur&&0<zr&&(Nn+=1<<zr);a:{var M0,Uf=Nn,B0=Xt,Tu=Cc,xp=Vl,yp=dn,U0=0,Yo=B0.m,kx=Y(Yo,1);if(a(Tu,0,0,Uf),kx){var vp=Y(Yo,1)+1,bp=Y(Yo,1),sd=Y(Yo,bp==0?1:8);Tu[sd]=1,vp==2&&(Tu[sd=Y(Yo,8)]=1);var Nu=1}else{var id=s(19),od=Y(Yo,4)+4;if(19<od){B0.a=3;var V0=0;break a}for(M0=0;M0<od;++M0)id[Ho[M0]]=Y(Yo,3);var Vf=void 0,Cu=void 0,wp=B0,_p=id,Xo=Uf,z0=Tu,zf=0,Vi=wp.m,Ru=8,ld=o(128,C);n:for(;D(ld,0,7,_p,19);){if(Y(Vi,1)){var kp=2+2*Y(Vi,3);if((Vf=2+Y(Vi,kp))>Xo)break n}else Vf=Xo;for(Cu=0;Cu<Xo&&Vf--;){re(Vi);var cd=ld[0+(127&H(Vi))];Q(Vi,Vi.u+cd.g);var Rc=cd.value;if(16>Rc)z0[Cu++]=Rc,Rc!=0&&(Ru=Rc);else{var Ep=Rc==16,ud=Rc-16,fd=wi[ud],hd=Y(Vi,Lf[ud])+fd;if(Cu+hd>Xo)break n;for(var Ap=Ep?Ru:0;0<hd--;)z0[Cu++]=Ap}}zf=1;break n}zf||(wp.a=3),Nu=zf}(Nu=Nu&&!Yo.h)&&(U0=D(xp,yp,8,Tu,Uf)),Nu&&U0!=0?V0=U0:(B0.a=3,V0=0)}if(V0==0)break r;if(Su&&Ec[ur]==1&&(Su=Vl[dn].g==0),F0+=Vl[dn].g,dn+=V0,3>=ur){var Ic,qf=Cc[0];for(Ic=1;Ic<Nn;++Ic)Cc[Ic]>qf&&(qf=Cc[Ic]);Bf+=qf}}if(Cs.nd=Su,Cs.Qb=0,Su&&(Cs.qb=(zl[3][Rs[3]+0].value<<24|zl[1][Rs[1]+0].value<<16|zl[2][Rs[2]+0].value)>>>0,F0==0&&256>zl[0][Rs[0]+0].value&&(Cs.Qb=1,Cs.qb+=zl[0][Rs[0]+0].value<<8)),Cs.jc=!Cs.Qb&&6>Bf,Cs.jc){var q0,Qo=Cs;for(q0=0;q0<sa;++q0){var vo=q0,Jo=Qo.pd[vo],H0=Qo.G[0][Qo.H[0]+vo];256<=H0.value?(Jo.g=H0.g+256,Jo.value=H0.value):(Jo.g=0,Jo.value=0,vo>>=_n(H0,8,Jo),vo>>=_n(Qo.G[1][Qo.H[1]+vo],16,Jo),vo>>=_n(Qo.G[2][Qo.H[2]+vo],0,Jo),_n(Qo.G[3][Qo.H[3]+vo],24,Jo))}}}qn.vc=Hn,qn.Wb=Qn,qn.Ya=In,qn.yc=P0,cn=1;break t}cn=0}if(!(ie=cn)){V.a=3;break e}if(0<$e){if(be.ua=1<<$e,!Qe(be.Wa,$e)){V.a=1,ie=0;break e}}else be.ua=0;var G0=V,dd=oe,Sp=ue,md=G0.s,pd=md.xc;if(G0.c=dd,G0.i=Sp,md.md=xt(dd,pd),md.wc=pd==0?-1:(1<<pd)-1,O){V.xb=dp;break e}if((Ie=s(oe*ue))==null){V.a=1,ie=0;break e}ie=(ie=Ee(V,Ie,0,oe,ue,ue,null))&&!pe.h;break e}return ie?(Z!=null?Z[0]=Ie:(e(Ie==null),e(O)),V.$=0,O||ze(be)):ze(be),ie}function Ge(g,_){var O=g.c*g.i,V=O+_+16*_;return e(g.c<=_),g.V=s(V),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+O+_,1)}function Xe(g,_){var O=g.C,V=_-O,Z=g.V,ie=g.Ba+g.c*O;for(e(_<=g.l.o);0<V;){var oe=16<V?16:V,ue=g.l.ma,pe=g.l.width,be=pe*oe,Ie=ue.ca,$e=ue.tb+pe*O,qe=g.Ta,Ue=g.Ua;se(g,oe,Z,ie),yn(qe,Ue,Ie,$e,be),xe(ue,O,O+oe,Ie,$e,pe),V-=oe,Z+=oe*g.c,O+=oe}e(O==_),g.C=g.Ma=_}function ft(){this.ub=this.yd=this.td=this.Rb=0}function kt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ct(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function wt(){this.Yb=function(){var g=[];return function _(O,V,Z){for(var ie=Z[V],oe=0;oe<ie&&(O.push(Z.length>V+1?[]:0),!(Z.length<V+1));oe++)_(O[oe],V+1,Z)}(g,0,[3,11]),g}()}function Et(){this.jb=s(3),this.Wc=c([4,8],wt),this.Xc=c([4,17],wt)}function Qt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function wr(){this.ld=this.La=this.dd=this.tc=0}function _r(){this.Na=this.la=0}function Nr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ca(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ci(){this.uc=this.M=this.Nb=0,this.wa=Array(new wr),this.Y=0,this.ya=Array(new Ca),this.aa=0,this.l=new os}function xa(){this.y=s(16),this.f=s(8),this.ea=s(8)}function qa(){this.cb=this.a=0,this.sc="",this.m=new Te,this.Od=new ft,this.Kc=new kt,this.ed=new Qt,this.Qa=new Ct,this.Ic=this.$c=this.Aa=0,this.D=new ci,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Te),this.ia=0,this.pb=o(4,Nr),this.Pa=new Et,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xa),this.Hd=0,this.rb=Array(new _r),this.sb=0,this.wa=Array(new wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ca),this.L=this.aa=0,this.gd=c([4,2],wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function os(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ra(){var g=new qa;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,ia||(ia=du)),g}function xn(g,_,O){return g.a==0&&(g.a=_,g.sc=O,g.cb=0),0}function ya(g,_,O){return 3<=O&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function xl(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return xn(g,2,"null VP8Io passed to VP8GetHeaders()");var O=_.data,V=_.w,Z=_.ha;if(4>Z)return xn(g,7,"Truncated header.");var ie=O[V+0]|O[V+1]<<8|O[V+2]<<16,oe=g.Od;if(oe.Rb=!(1&ie),oe.td=ie>>1&7,oe.yd=ie>>4&1,oe.ub=ie>>5,3<oe.td)return xn(g,3,"Incorrect keyframe parameters.");if(!oe.yd)return xn(g,4,"Frame not displayable.");V+=3,Z-=3;var ue=g.Kc;if(oe.Rb){if(7>Z)return xn(g,7,"cannot parse picture header");if(!ya(O,V,Z))return xn(g,3,"Bad code word");ue.c=16383&(O[V+4]<<8|O[V+3]),ue.Td=O[V+4]>>6,ue.i=16383&(O[V+6]<<8|O[V+5]),ue.Ud=O[V+6]>>6,V+=7,Z-=7,g.za=ue.c+15>>4,g.Ub=ue.i+15>>4,_.width=ue.c,_.height=ue.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((ie=g.Pa).jb,0,255,ie.jb.length),e((ie=g.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,a(ie.Zb,0,0,ie.Zb.length),a(ie.Lb,0,0,ie.Lb)}if(oe.ub>Z)return xn(g,7,"bad partition length");ye(ie=g.m,O,V,oe.ub),V+=oe.ub,Z-=oe.ub,oe.Rb&&(ue.Ld=ve(ie),ue.Kd=ve(ie)),ue=g.Qa;var pe,be=g.Pa;if(e(ie!=null),e(ue!=null),ue.Cb=ve(ie),ue.Cb){if(ue.Bb=ve(ie),ve(ie)){for(ue.Fb=ve(ie),pe=0;4>pe;++pe)ue.Zb[pe]=ve(ie)?le(ie,7):0;for(pe=0;4>pe;++pe)ue.Lb[pe]=ve(ie)?le(ie,6):0}if(ue.Bb)for(pe=0;3>pe;++pe)be.jb[pe]=ve(ie)?ae(ie,8):255}else ue.Bb=0;if(ie.Ka)return xn(g,3,"cannot parse segment header");if((ue=g.ed).zd=ve(ie),ue.Tb=ae(ie,6),ue.wb=ae(ie,3),ue.Pc=ve(ie),ue.Pc&&ve(ie)){for(be=0;4>be;++be)ve(ie)&&(ue.vd[be]=le(ie,6));for(be=0;4>be;++be)ve(ie)&&(ue.od[be]=le(ie,6))}if(g.L=ue.Tb==0?0:ue.zd?1:2,ie.Ka)return xn(g,3,"cannot parse filter header");var Ie=Z;if(Z=pe=V,V=pe+Ie,ue=Ie,g.Xb=(1<<ae(g.m,2))-1,Ie<3*(be=g.Xb))O=7;else{for(pe+=3*be,ue-=3*be,Ie=0;Ie<be;++Ie){var $e=O[Z+0]|O[Z+1]<<8|O[Z+2]<<16;$e>ue&&($e=ue),ye(g.Jc[+Ie],O,pe,$e),pe+=$e,ue-=$e,Z+=3}ye(g.Jc[+be],O,pe,ue),O=pe<V?0:5}if(O!=0)return xn(g,O,"cannot parse partitions");for(O=ae(pe=g.m,7),Z=ve(pe)?le(pe,4):0,V=ve(pe)?le(pe,4):0,ue=ve(pe)?le(pe,4):0,be=ve(pe)?le(pe,4):0,pe=ve(pe)?le(pe,4):0,Ie=g.Qa,$e=0;4>$e;++$e){if(Ie.Cb){var qe=Ie.Zb[$e];Ie.Fb||(qe+=O)}else{if(0<$e){g.pb[$e]=g.pb[0];continue}qe=O}var Ue=g.pb[$e];Ue.Sc[0]=D0[Zr(qe+Z,127)],Ue.Sc[1]=L0[Zr(qe+0,127)],Ue.Eb[0]=2*D0[Zr(qe+V,127)],Ue.Eb[1]=101581*L0[Zr(qe+ue,127)]>>16,8>Ue.Eb[1]&&(Ue.Eb[1]=8),Ue.Qc[0]=D0[Zr(qe+be,117)],Ue.Qc[1]=L0[Zr(qe+pe,127)],Ue.lc=qe+pe}if(!oe.Rb)return xn(g,4,"Not a key frame.");for(ve(ie),oe=g.Pa,O=0;4>O;++O){for(Z=0;8>Z;++Z)for(V=0;3>V;++V)for(ue=0;11>ue;++ue)be=we(ie,Sc[O][Z][V][ue])?ae(ie,8):po[O][Z][V][ue],oe.Wc[O][Z].Yb[V][ue]=be;for(Z=0;17>Z;++Z)oe.Xc[O][Z]=oe.Wc[O][hp[Z]]}return g.kc=ve(ie),g.kc&&(g.Bd=ae(ie,8)),g.cb=1}function du(g,_,O,V,Z,ie,oe){var ue=_[Z].Yb[O];for(O=0;16>Z;++Z){if(!we(g,ue[O+0]))return Z;for(;!we(g,ue[O+1]);)if(ue=_[++Z].Yb[0],O=0,Z==16)return 16;var pe=_[Z+1].Yb;if(we(g,ue[O+2])){var be=g,Ie=0;if(we(be,(qe=ue)[($e=O)+3]))if(we(be,qe[$e+6])){for(ue=0,$e=2*(Ie=we(be,qe[$e+8]))+(qe=we(be,qe[$e+9+Ie])),Ie=0,qe=Pn[$e];qe[ue];++ue)Ie+=Ie+we(be,qe[ue]);Ie+=3+(8<<$e)}else we(be,qe[$e+7])?(Ie=7+2*we(be,165),Ie+=we(be,145)):Ie=5+we(be,159);else Ie=we(be,qe[$e+4])?3+we(be,qe[$e+5]):2;ue=pe[2]}else Ie=1,ue=pe[1];pe=oe+Xr[Z],0>(be=g).b&&de(be);var $e,qe=be.b,Ue=($e=be.Ca>>1)-(be.I>>qe)>>31;--be.b,be.Ca+=Ue,be.Ca|=1,be.I-=($e+1&Ue)<<qe,ie[pe]=((Ie^Ue)-Ue)*V[(0<Z)+0]}return 16}function Zi(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,a(g.zc,0,0,g.zc.length),g.ja=0}function uc(g,_){if(g==null)return 0;if(_==null)return xn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!xl(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var O=Wo[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-O>>4,g.zb=_.j-O>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+O>>4,g.Hb=_.va+15+O>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var V=g.ed;for(O=0;4>O;++O){var Z;if(g.Qa.Cb){var ie=g.Qa.Lb[O];g.Qa.Fb||(ie+=V.Tb)}else ie=V.Tb;for(Z=0;1>=Z;++Z){var oe=g.gd[O][Z],ue=ie;if(V.Pc&&(ue+=V.vd[0],Z&&(ue+=V.od[0])),0<(ue=0>ue?0:63<ue?63:ue)){var pe=ue;0<V.wb&&(pe=4<V.wb?pe>>2:pe>>1)>9-V.wb&&(pe=9-V.wb),1>pe&&(pe=1),oe.dd=pe,oe.tc=2*ue+pe,oe.ld=40<=ue?2:15<=ue?1:0}else oe.tc=0;oe.La=Z}}}O=0}else xn(g,6,"Frame setup failed"),O=g.a;if(O=O==0){if(O){g.$c=0,0<g.Aa||(g.Ic=pp);e:{O=g.Ic,V=4*(pe=g.za);var be=32*pe,Ie=pe+1,$e=0<g.L?pe*(0<g.Aa?2:1):0,qe=(g.Aa==2?2:1)*pe;if((oe=V+832+(Z=3*(16*O+Wo[g.L])/2*be)+(ie=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=oe)O=0;else{if(oe>g.Vb){if(g.Vb=0,g.Ec=s(oe),g.Fc=0,g.Ec==null){O=xn(g,1,"no memory during frame initialization.");break e}g.Vb=oe}oe=g.Ec,ue=g.Fc,g.Ac=oe,g.Bc=ue,ue+=V,g.Gd=o(be,xa),g.Hd=0,g.rb=o(Ie+1,_r),g.sb=1,g.wa=$e?o($e,wr):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=pe),e(!0),g.oc=oe,g.pc=ue,ue+=832,g.ya=o(qe,Ca),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=pe),g.R=16*pe,g.B=8*pe,pe=(be=Wo[g.L])*g.R,be=be/2*g.B,g.sa=oe,g.ta=ue+pe,g.qa=g.sa,g.ra=g.ta+16*O*g.R+be,g.Ha=g.qa,g.Ia=g.ra+8*O*g.B+be,g.$c=0,ue+=Z,g.mb=ie?oe:null,g.nb=ie?ue:null,e(ue+ie<=g.Fc+g.Vb),Zi(g),a(g.Ac,g.Bc,0,V),O=1}}if(O){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!Vo){for(O=-255;255>=O;++O)zn[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)vi[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)Ll[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)jl[255+O]=0>O?0:255<O?255:O;Vo=1}fo=ws,Mi=to,Bi=ui,Xn=Jr,Ns=ro,jn=eo,vc=io,ho=Oi,bu=wl,Cl=pc,Rl=bl,Il=jo,bc=Oo,wu=oo,Dl=Zs,Uo=$a,wc=Yn,On=gu,us[0]=Ha,us[1]=mu,us[2]=di,us[3]=pu,us[4]=_s,us[5]=mi,us[6]=ls,us[7]=ks,us[8]=ji,us[9]=no,$o[0]=fi,$o[1]=hc,$o[2]=Ii,$o[3]=vl,$o[4]=hn,$o[5]=Li,$o[6]=hi,ri[0]=pi,ri[1]=fc,ri[2]=dc,ri[3]=Es,ri[4]=Cr,ri[5]=Wn,ri[6]=ao,O=1}else O=0}O&&(O=function(Ue,ct){for(Ue.M=0;Ue.M<Ue.Va;++Ue.M){var rt,De=Ue.Jc[Ue.M&Ue.Xb],Pe=Ue.m,at=Ue;for(rt=0;rt<at.za;++rt){var ut=Pe,ot=at,Lt=ot.Ac,At=ot.Bc+4*rt,Gt=ot.zc,Tt=ot.ya[ot.aa+rt];if(ot.Qa.Bb?Tt.$b=we(ut,ot.Pa.jb[0])?2+we(ut,ot.Pa.jb[2]):we(ut,ot.Pa.jb[1]):Tt.$b=0,ot.kc&&(Tt.Ad=we(ut,ot.Bd)),Tt.Za=!we(ut,145)+0,Tt.Za){var Vr=Tt.Ob,en=0;for(ot=0;4>ot;++ot){var vr,xr=Gt[0+ot];for(vr=0;4>vr;++vr){xr=rd[Lt[At+vr]][xr];for(var cn=Pl[we(ut,xr[0])];0<cn;)cn=Pl[2*cn+we(ut,xr[cn])];xr=-cn,Lt[At+vr]=xr}n(Vr,en,Lt,At,4),en+=4,Gt[0+ot]=xr}}else xr=we(ut,156)?we(ut,128)?1:3:we(ut,163)?2:0,Tt.Ob[0]=xr,a(Lt,At,xr,4),a(Gt,0,xr,4);Tt.Dd=we(ut,142)?we(ut,114)?we(ut,183)?1:3:2:0}if(at.m.Ka)return xn(Ue,7,"Premature end-of-partition0 encountered.");for(;Ue.ja<Ue.za;++Ue.ja){if(at=De,ut=(Pe=Ue).rb[Pe.sb-1],Lt=Pe.rb[Pe.sb+Pe.ja],rt=Pe.ya[Pe.aa+Pe.ja],At=Pe.kc?rt.Ad:0)ut.la=Lt.la=0,rt.Za||(ut.Na=Lt.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var tn,ur;if(ut=Lt,Lt=at,At=Pe.Pa.Xc,Gt=Pe.ya[Pe.aa+Pe.ja],Tt=Pe.pb[Gt.$b],ot=Gt.ad,Vr=0,en=Pe.rb[Pe.sb-1],xr=vr=0,a(ot,Vr,0,384),Gt.Za)var dn=0,Xt=At[3];else{cn=s(16);var nr=ut.Na+en.Na;if(nr=ia(Lt,At[1],nr,Tt.Eb,0,cn,0),ut.Na=en.Na=(0<nr)+0,1<nr)fo(cn,0,ot,Vr);else{var Br=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)ot[Vr+cn]=Br}dn=1,Xt=At[0]}var zr=15&ut.la,_a=15&en.la;for(cn=0;4>cn;++cn){var ca=1&_a;for(Br=ur=0;4>Br;++Br)zr=zr>>1|(ca=(nr=ia(Lt,Xt,nr=ca+(1&zr),Tt.Sc,dn,ot,Vr))>dn)<<7,ur=ur<<2|(3<nr?3:1<nr?2:ot[Vr+0]!=0),Vr+=16;zr>>=4,_a=_a>>1|ca<<7,vr=(vr<<8|ur)>>>0}for(Xt=zr,dn=_a>>4,tn=0;4>tn;tn+=2){for(ur=0,zr=ut.la>>4+tn,_a=en.la>>4+tn,cn=0;2>cn;++cn){for(ca=1&_a,Br=0;2>Br;++Br)nr=ca+(1&zr),zr=zr>>1|(ca=0<(nr=ia(Lt,At[2],nr,Tt.Qc,0,ot,Vr)))<<3,ur=ur<<2|(3<nr?3:1<nr?2:ot[Vr+0]!=0),Vr+=16;zr>>=2,_a=_a>>1|ca<<5}xr|=ur<<4*tn,Xt|=zr<<4<<tn,dn|=(240&_a)<<tn}ut.la=Xt,en.la=dn,Gt.Hc=vr,Gt.Gc=xr,Gt.ia=43690&xr?0:Tt.ia,At=!(vr|xr)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[rt.$b][rt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!At),at.Ka)return xn(Ue,7,"Premature end-of-file encountered.")}if(Zi(Ue),Pe=ct,at=1,rt=(De=Ue).D,ut=0<De.L&&De.M>=De.zb&&De.M<=De.Va,De.Aa==0)e:{if(rt.M=De.M,rt.uc=ut,As(De,rt),at=1,rt=(ur=De.D).Nb,ut=(xr=Wo[De.L])*De.R,Lt=xr/2*De.B,cn=16*rt*De.R,Br=8*rt*De.B,At=De.sa,Gt=De.ta-ut+cn,Tt=De.qa,ot=De.ra-Lt+Br,Vr=De.Ha,en=De.Ia-Lt+Br,_a=(zr=ur.M)==0,vr=zr>=De.Va-1,De.Aa==2&&As(De,ur),ur.uc)for(ca=(nr=De).D.M,e(nr.D.uc),ur=nr.yb;ur<nr.Hb;++ur){dn=ur,Xt=ca;var qn=(Hn=(Nn=nr).D).Nb;tn=Nn.R;var Hn=Hn.wa[Hn.Y+dn],Qn=Nn.sa,_i=Nn.ta+16*qn*tn+16*dn,rn=Hn.dd,Jn=Hn.tc;if(Jn!=0)if(e(3<=Jn),Nn.L==1)0<dn&&Uo(Qn,_i,tn,Jn+4),Hn.La&&On(Qn,_i,tn,Jn),0<Xt&&Dl(Qn,_i,tn,Jn+4),Hn.La&&wc(Qn,_i,tn,Jn);else{var Ui=Nn.B,Bl=Nn.qa,Nc=Nn.ra+8*qn*Ui+8*dn,Ul=Nn.Ha,Nn=Nn.Ia+8*qn*Ui+8*dn;qn=Hn.ld,0<dn&&(ho(Qn,_i,tn,Jn+4,rn,qn),Cl(Bl,Nc,Ul,Nn,Ui,Jn+4,rn,qn)),Hn.La&&(Il(Qn,_i,tn,Jn,rn,qn),wu(Bl,Nc,Ul,Nn,Ui,Jn,rn,qn)),0<Xt&&(vc(Qn,_i,tn,Jn+4,rn,qn),bu(Bl,Nc,Ul,Nn,Ui,Jn+4,rn,qn)),Hn.La&&(Rl(Qn,_i,tn,Jn,rn,qn),bc(Bl,Nc,Ul,Nn,Ui,Jn,rn,qn))}}if(De.ia&&alert("todo:DitherRow"),Pe.put!=null){if(ur=16*zr,zr=16*(zr+1),_a?(Pe.y=De.sa,Pe.O=De.ta+cn,Pe.f=De.qa,Pe.N=De.ra+Br,Pe.ea=De.Ha,Pe.W=De.Ia+Br):(ur-=xr,Pe.y=At,Pe.O=Gt,Pe.f=Tt,Pe.N=ot,Pe.ea=Vr,Pe.W=en),vr||(zr-=xr),zr>Pe.o&&(zr=Pe.o),Pe.F=null,Pe.J=null,De.Fa!=null&&0<De.Fa.length&&ur<zr&&(Pe.J=kl(De,Pe,ur,zr-ur),Pe.F=De.mb,Pe.F==null&&Pe.F.length==0)){at=xn(De,3,"Could not decode alpha data.");break e}ur<Pe.j&&(xr=Pe.j-ur,ur=Pe.j,e(!(1&xr)),Pe.O+=De.R*xr,Pe.N+=De.B*(xr>>1),Pe.W+=De.B*(xr>>1),Pe.F!=null&&(Pe.J+=Pe.width*xr)),ur<zr&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=ur-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=zr-ur,at=Pe.put(Pe))}rt+1!=De.Ic||vr||(n(De.sa,De.ta-ut,At,Gt+16*De.R,ut),n(De.qa,De.ra-Lt,Tt,ot+8*De.B,Lt),n(De.Ha,De.Ia-Lt,Vr,en+8*De.B,Lt))}if(!at)return xn(Ue,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),O&=1}return O?(g.cb=0,O):0}function Ia(g,_,O,V,Z){Z=g[_+O+32*V]+(Z>>3),g[_+O+32*V]=-256&Z?0>Z?0:255:Z}function yl(g,_,O,V,Z,ie){Ia(g,_,0,O,V+Z),Ia(g,_,1,O,V+ie),Ia(g,_,2,O,V-ie),Ia(g,_,3,O,V-Z)}function Mr(g){return(20091*g>>16)+g}function Da(g,_,O,V){var Z,ie=0,oe=s(16);for(Z=0;4>Z;++Z){var ue=g[_+0]+g[_+8],pe=g[_+0]-g[_+8],be=(35468*g[_+4]>>16)-Mr(g[_+12]),Ie=Mr(g[_+4])+(35468*g[_+12]>>16);oe[ie+0]=ue+Ie,oe[ie+1]=pe+be,oe[ie+2]=pe-be,oe[ie+3]=ue-Ie,ie+=4,_++}for(Z=ie=0;4>Z;++Z)ue=(g=oe[ie+0]+4)+oe[ie+8],pe=g-oe[ie+8],be=(35468*oe[ie+4]>>16)-Mr(oe[ie+12]),Ia(O,V,0,0,ue+(Ie=Mr(oe[ie+4])+(35468*oe[ie+12]>>16))),Ia(O,V,1,0,pe+be),Ia(O,V,2,0,pe-be),Ia(O,V,3,0,ue-Ie),ie++,V+=32}function eo(g,_,O,V){var Z=g[_+0]+4,ie=35468*g[_+4]>>16,oe=Mr(g[_+4]),ue=35468*g[_+1]>>16;yl(O,V,0,Z+oe,g=Mr(g[_+1]),ue),yl(O,V,1,Z+ie,g,ue),yl(O,V,2,Z-ie,g,ue),yl(O,V,3,Z-oe,g,ue)}function to(g,_,O,V,Z){Da(g,_,O,V),Z&&Da(g,_+16,O,V+4)}function ui(g,_,O,V){Mi(g,_+0,O,V,1),Mi(g,_+32,O,V+128,1)}function Jr(g,_,O,V){var Z;for(g=g[_+0]+4,Z=0;4>Z;++Z)for(_=0;4>_;++_)Ia(O,V,_,Z,g)}function ro(g,_,O,V){g[_+0]&&Xn(g,_+0,O,V),g[_+16]&&Xn(g,_+16,O,V+4),g[_+32]&&Xn(g,_+32,O,V+128),g[_+48]&&Xn(g,_+48,O,V+128+4)}function ws(g,_,O,V){var Z,ie=s(16);for(Z=0;4>Z;++Z){var oe=g[_+0+Z]+g[_+12+Z],ue=g[_+4+Z]+g[_+8+Z],pe=g[_+4+Z]-g[_+8+Z],be=g[_+0+Z]-g[_+12+Z];ie[0+Z]=oe+ue,ie[8+Z]=oe-ue,ie[4+Z]=be+pe,ie[12+Z]=be-pe}for(Z=0;4>Z;++Z)oe=(g=ie[0+4*Z]+3)+ie[3+4*Z],ue=ie[1+4*Z]+ie[2+4*Z],pe=ie[1+4*Z]-ie[2+4*Z],be=g-ie[3+4*Z],O[V+0]=oe+ue>>3,O[V+16]=be+pe>>3,O[V+32]=oe-ue>>3,O[V+48]=be-pe>>3,V+=64}function Ri(g,_,O){var V,Z=_-32,ie=ba,oe=255-g[Z-1];for(V=0;V<O;++V){var ue,pe=ie,be=oe+g[_-1];for(ue=0;ue<O;++ue)g[_+ue]=pe[be+g[Z+ue]];_+=32}}function mu(g,_){Ri(g,_,4)}function fc(g,_){Ri(g,_,8)}function hc(g,_){Ri(g,_,16)}function Ii(g,_){var O;for(O=0;16>O;++O)n(g,_+32*O,g,_-32,16)}function vl(g,_){var O;for(O=16;0<O;--O)a(g,_,g[_-1],16),_+=32}function Di(g,_,O){var V;for(V=0;16>V;++V)a(_,O+32*V,g,16)}function fi(g,_){var O,V=16;for(O=0;16>O;++O)V+=g[_-1+32*O]+g[_+O-32];Di(V>>5,g,_)}function hn(g,_){var O,V=8;for(O=0;16>O;++O)V+=g[_-1+32*O];Di(V>>4,g,_)}function Li(g,_){var O,V=8;for(O=0;16>O;++O)V+=g[_+O-32];Di(V>>4,g,_)}function hi(g,_){Di(128,g,_)}function Jt(g,_,O){return g+2*_+O+2>>2}function di(g,_){var O,V=_-32;for(V=new Uint8Array([Jt(g[V-1],g[V+0],g[V+1]),Jt(g[V+0],g[V+1],g[V+2]),Jt(g[V+1],g[V+2],g[V+3]),Jt(g[V+2],g[V+3],g[V+4])]),O=0;4>O;++O)n(g,_+32*O,V,0,V.length)}function pu(g,_){var O=g[_-1],V=g[_-1+32],Z=g[_-1+64],ie=g[_-1+96];Le(g,_+0,16843009*Jt(g[_-1-32],O,V)),Le(g,_+32,16843009*Jt(O,V,Z)),Le(g,_+64,16843009*Jt(V,Z,ie)),Le(g,_+96,16843009*Jt(Z,ie,ie))}function Ha(g,_){var O,V=4;for(O=0;4>O;++O)V+=g[_+O-32]+g[_-1+32*O];for(V>>=3,O=0;4>O;++O)a(g,_+32*O,V,4)}function _s(g,_){var O=g[_-1+0],V=g[_-1+32],Z=g[_-1+64],ie=g[_-1-32],oe=g[_+0-32],ue=g[_+1-32],pe=g[_+2-32],be=g[_+3-32];g[_+0+96]=Jt(V,Z,g[_-1+96]),g[_+1+96]=g[_+0+64]=Jt(O,V,Z),g[_+2+96]=g[_+1+64]=g[_+0+32]=Jt(ie,O,V),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=Jt(oe,ie,O),g[_+3+64]=g[_+2+32]=g[_+1+0]=Jt(ue,oe,ie),g[_+3+32]=g[_+2+0]=Jt(pe,ue,oe),g[_+3+0]=Jt(be,pe,ue)}function ls(g,_){var O=g[_+1-32],V=g[_+2-32],Z=g[_+3-32],ie=g[_+4-32],oe=g[_+5-32],ue=g[_+6-32],pe=g[_+7-32];g[_+0+0]=Jt(g[_+0-32],O,V),g[_+1+0]=g[_+0+32]=Jt(O,V,Z),g[_+2+0]=g[_+1+32]=g[_+0+64]=Jt(V,Z,ie),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=Jt(Z,ie,oe),g[_+3+32]=g[_+2+64]=g[_+1+96]=Jt(ie,oe,ue),g[_+3+64]=g[_+2+96]=Jt(oe,ue,pe),g[_+3+96]=Jt(ue,pe,pe)}function mi(g,_){var O=g[_-1+0],V=g[_-1+32],Z=g[_-1+64],ie=g[_-1-32],oe=g[_+0-32],ue=g[_+1-32],pe=g[_+2-32],be=g[_+3-32];g[_+0+0]=g[_+1+64]=ie+oe+1>>1,g[_+1+0]=g[_+2+64]=oe+ue+1>>1,g[_+2+0]=g[_+3+64]=ue+pe+1>>1,g[_+3+0]=pe+be+1>>1,g[_+0+96]=Jt(Z,V,O),g[_+0+64]=Jt(V,O,ie),g[_+0+32]=g[_+1+96]=Jt(O,ie,oe),g[_+1+32]=g[_+2+96]=Jt(ie,oe,ue),g[_+2+32]=g[_+3+96]=Jt(oe,ue,pe),g[_+3+32]=Jt(ue,pe,be)}function ks(g,_){var O=g[_+0-32],V=g[_+1-32],Z=g[_+2-32],ie=g[_+3-32],oe=g[_+4-32],ue=g[_+5-32],pe=g[_+6-32],be=g[_+7-32];g[_+0+0]=O+V+1>>1,g[_+1+0]=g[_+0+64]=V+Z+1>>1,g[_+2+0]=g[_+1+64]=Z+ie+1>>1,g[_+3+0]=g[_+2+64]=ie+oe+1>>1,g[_+0+32]=Jt(O,V,Z),g[_+1+32]=g[_+0+96]=Jt(V,Z,ie),g[_+2+32]=g[_+1+96]=Jt(Z,ie,oe),g[_+3+32]=g[_+2+96]=Jt(ie,oe,ue),g[_+3+64]=Jt(oe,ue,pe),g[_+3+96]=Jt(ue,pe,be)}function no(g,_){var O=g[_-1+0],V=g[_-1+32],Z=g[_-1+64],ie=g[_-1+96];g[_+0+0]=O+V+1>>1,g[_+2+0]=g[_+0+32]=V+Z+1>>1,g[_+2+32]=g[_+0+64]=Z+ie+1>>1,g[_+1+0]=Jt(O,V,Z),g[_+3+0]=g[_+1+32]=Jt(V,Z,ie),g[_+3+32]=g[_+1+64]=Jt(Z,ie,ie),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=ie}function ji(g,_){var O=g[_-1+0],V=g[_-1+32],Z=g[_-1+64],ie=g[_-1+96],oe=g[_-1-32],ue=g[_+0-32],pe=g[_+1-32],be=g[_+2-32];g[_+0+0]=g[_+2+32]=O+oe+1>>1,g[_+0+32]=g[_+2+64]=V+O+1>>1,g[_+0+64]=g[_+2+96]=Z+V+1>>1,g[_+0+96]=ie+Z+1>>1,g[_+3+0]=Jt(ue,pe,be),g[_+2+0]=Jt(oe,ue,pe),g[_+1+0]=g[_+3+32]=Jt(O,oe,ue),g[_+1+32]=g[_+3+64]=Jt(V,O,oe),g[_+1+64]=g[_+3+96]=Jt(Z,V,O),g[_+1+96]=Jt(ie,Z,V)}function dc(g,_){var O;for(O=0;8>O;++O)n(g,_+32*O,g,_-32,8)}function Es(g,_){var O;for(O=0;8>O;++O)a(g,_,g[_-1],8),_+=32}function Ga(g,_,O){var V;for(V=0;8>V;++V)a(_,O+32*V,g,8)}function pi(g,_){var O,V=8;for(O=0;8>O;++O)V+=g[_+O-32]+g[_-1+32*O];Ga(V>>4,g,_)}function Wn(g,_){var O,V=4;for(O=0;8>O;++O)V+=g[_+O-32];Ga(V>>3,g,_)}function Cr(g,_){var O,V=4;for(O=0;8>O;++O)V+=g[_-1+32*O];Ga(V>>3,g,_)}function ao(g,_){Ga(128,g,_)}function gi(g,_,O){var V=g[_-O],Z=g[_+0],ie=3*(Z-V)+If[1020+g[_-2*O]-g[_+O]],oe=_c[112+(ie+4>>3)];g[_-O]=ba[255+V+_c[112+(ie+3>>3)]],g[_+0]=ba[255+Z-oe]}function mc(g,_,O,V){var Z=g[_+0],ie=g[_+O];return bi[255+g[_-2*O]-g[_-O]]>V||bi[255+ie-Z]>V}function Do(g,_,O,V){return 4*bi[255+g[_-O]-g[_+0]]+bi[255+g[_-2*O]-g[_+O]]<=V}function Lo(g,_,O,V,Z){var ie=g[_-3*O],oe=g[_-2*O],ue=g[_-O],pe=g[_+0],be=g[_+O],Ie=g[_+2*O],$e=g[_+3*O];return 4*bi[255+ue-pe]+bi[255+oe-be]>V?0:bi[255+g[_-4*O]-ie]<=Z&&bi[255+ie-oe]<=Z&&bi[255+oe-ue]<=Z&&bi[255+$e-Ie]<=Z&&bi[255+Ie-be]<=Z&&bi[255+be-pe]<=Z}function Zs(g,_,O,V){var Z=2*V+1;for(V=0;16>V;++V)Do(g,_+V,O,Z)&&gi(g,_+V,O)}function $a(g,_,O,V){var Z=2*V+1;for(V=0;16>V;++V)Do(g,_+V*O,1,Z)&&gi(g,_+V*O,1)}function Yn(g,_,O,V){var Z;for(Z=3;0<Z;--Z)Zs(g,_+=4*O,O,V)}function gu(g,_,O,V){var Z;for(Z=3;0<Z;--Z)$a(g,_+=4,O,V)}function so(g,_,O,V,Z,ie,oe,ue){for(ie=2*ie+1;0<Z--;){if(Lo(g,_,O,ie,oe))if(mc(g,_,O,ue))gi(g,_,O);else{var pe=g,be=_,Ie=O,$e=pe[be-2*Ie],qe=pe[be-Ie],Ue=pe[be+0],ct=pe[be+Ie],rt=pe[be+2*Ie],De=27*(at=If[1020+3*(Ue-qe)+If[1020+$e-ct]])+63>>7,Pe=18*at+63>>7,at=9*at+63>>7;pe[be-3*Ie]=ba[255+pe[be-3*Ie]+at],pe[be-2*Ie]=ba[255+$e+Pe],pe[be-Ie]=ba[255+qe+De],pe[be+0]=ba[255+Ue-De],pe[be+Ie]=ba[255+ct-Pe],pe[be+2*Ie]=ba[255+rt-at]}_+=V}}function La(g,_,O,V,Z,ie,oe,ue){for(ie=2*ie+1;0<Z--;){if(Lo(g,_,O,ie,oe))if(mc(g,_,O,ue))gi(g,_,O);else{var pe=g,be=_,Ie=O,$e=pe[be-Ie],qe=pe[be+0],Ue=pe[be+Ie],ct=_c[112+((rt=3*(qe-$e))+4>>3)],rt=_c[112+(rt+3>>3)],De=ct+1>>1;pe[be-2*Ie]=ba[255+pe[be-2*Ie]+De],pe[be-Ie]=ba[255+$e+rt],pe[be+0]=ba[255+qe-ct],pe[be+Ie]=ba[255+Ue-De]}_+=V}}function io(g,_,O,V,Z,ie){so(g,_,O,1,16,V,Z,ie)}function Oi(g,_,O,V,Z,ie){so(g,_,1,O,16,V,Z,ie)}function bl(g,_,O,V,Z,ie){var oe;for(oe=3;0<oe;--oe)La(g,_+=4*O,O,1,16,V,Z,ie)}function jo(g,_,O,V,Z,ie){var oe;for(oe=3;0<oe;--oe)La(g,_+=4,1,O,16,V,Z,ie)}function wl(g,_,O,V,Z,ie,oe,ue){so(g,_,Z,1,8,ie,oe,ue),so(O,V,Z,1,8,ie,oe,ue)}function pc(g,_,O,V,Z,ie,oe,ue){so(g,_,1,Z,8,ie,oe,ue),so(O,V,1,Z,8,ie,oe,ue)}function Oo(g,_,O,V,Z,ie,oe,ue){La(g,_+4*Z,Z,1,8,ie,oe,ue),La(O,V+4*Z,Z,1,8,ie,oe,ue)}function oo(g,_,O,V,Z,ie,oe,ue){La(g,_+4,1,Z,8,ie,oe,ue),La(O,V+4,1,Z,8,ie,oe,ue)}function Po(){this.ba=new Un,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _l(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Fo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lo(){this.ua=0,this.Wa=new me,this.vb=new me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ne,this.yc=new C}function xu(){this.xb=this.a=0,this.l=new os,this.ca=new Un,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lo,this.ab=0,this.gc=o(4,Fo),this.Oc=0}function Pi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new os,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function co(g,_,O,V,Z,ie,oe){for(g=g==null?0:g[_+0],_=0;_<oe;++_)Z[ie+_]=g+O[V+_]&255,g=Z[ie+_]}function Mo(g,_,O,V,Z,ie,oe){var ue;if(g==null)co(null,null,O,V,Z,ie,oe);else for(ue=0;ue<oe;++ue)Z[ie+ue]=g[_+ue]+O[V+ue]&255}function Ka(g,_,O,V,Z,ie,oe){if(g==null)co(null,null,O,V,Z,ie,oe);else{var ue,pe=g[_+0],be=pe,Ie=pe;for(ue=0;ue<oe;++ue)be=Ie+(pe=g[_+ue])-be,Ie=O[V+ue]+(-256&be?0>be?0:255:be)&255,be=pe,Z[ie+ue]=Ie}}function kl(g,_,O,V){var Z=_.width,ie=_.o;if(e(g!=null&&_!=null),0>O||0>=V||O+V>ie)return null;if(!g.Cc){if(g.ga==null){var oe;if(g.ga=new Pi,(oe=g.ga==null)||(oe=_.width*_.o,e(g.Gb.length==0),g.Gb=s(oe),g.Uc=0,g.Gb==null?oe=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,oe=1),oe=!oe),!oe){oe=g.ga;var ue=g.Fa,pe=g.P,be=g.qc,Ie=g.mb,$e=g.nb,qe=pe+1,Ue=be-1,ct=oe.l;if(e(ue!=null&&Ie!=null&&_!=null),go[0]=null,go[1]=co,go[2]=Mo,go[3]=Ka,oe.ca=Ie,oe.tb=$e,oe.c=_.width,oe.i=_.height,e(0<oe.c&&0<oe.i),1>=be)_=0;else if(oe.$a=ue[pe+0]>>0&3,oe.Z=ue[pe+0]>>2&3,oe.Lc=ue[pe+0]>>4&3,pe=ue[pe+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||pe)_=0;else if(ct.put=aa,ct.ac=Sn,ct.bc=is,ct.ma=oe,ct.width=_.width,ct.height=_.height,ct.Da=_.Da,ct.v=_.v,ct.va=_.va,ct.j=_.j,ct.o=_.o,oe.$a)e:{e(oe.$a==1),_=Ze();t:for(;;){if(_==null){_=0;break e}if(e(oe!=null),oe.mc=_,_.c=oe.c,_.i=oe.i,_.l=oe.l,_.l.ma=oe,_.l.width=oe.c,_.l.height=oe.i,_.a=0,ce(_.m,ue,qe,Ue),!Me(oe.c,oe.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&ge(_.s)?(oe.ic=1,ue=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(ue),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(oe.ic=0,_=Ge(_,oe.c)),!_))break t;_=1;break e}oe.mc=null,_=0}else _=Ue>=oe.c*oe.i;oe=!_}if(oe)return null;g.ga.Lc!=1?g.Ga=0:V=ie-O}e(g.ga!=null),e(O+V<=ie);e:{if(_=(ue=g.ga).c,ie=ue.l.o,ue.$a==0){if(qe=g.rc,Ue=g.Vc,ct=g.Fa,pe=g.P+1+O*_,be=g.mb,Ie=g.nb+O*_,e(pe<=g.P+g.qc),ue.Z!=0)for(e(go[ue.Z]!=null),oe=0;oe<V;++oe)go[ue.Z](qe,Ue,ct,pe,be,Ie,_),qe=be,Ue=Ie,Ie+=_,pe+=_;else for(oe=0;oe<V;++oe)n(be,Ie,ct,pe,_),qe=be,Ue=Ie,Ie+=_,pe+=_;g.rc=qe,g.Vc=Ue}else{if(e(ue.mc!=null),_=O+V,e((oe=ue.mc)!=null),e(_<=oe.i),oe.C>=_)_=1;else if(ue.ic||Be(),ue.ic){ue=oe.V,qe=oe.Ba,Ue=oe.c;var rt=oe.i,De=(ct=1,pe=oe.$/Ue,be=oe.$%Ue,Ie=oe.m,$e=oe.s,oe.$),Pe=Ue*rt,at=Ue*_,ut=$e.wc,ot=De<at?Tn($e,be,pe):null;e(De<=Pe),e(_<=rt),e(ge($e));t:for(;;){for(;!Ie.h&&De<at;){if(be&ut||(ot=Tn($e,be,pe)),e(ot!=null),re(Ie),256>(rt=fn(ot.G[0],ot.H[0],Ie)))ue[qe+De]=rt,++De,++be>=Ue&&(be=0,++pe<=_&&!(pe%16)&&_e(oe,pe));else{if(!(280>rt)){ct=0;break t}rt=Yr(rt-256,Ie);var Lt,At=fn(ot.G[4],ot.H[4],Ie);if(re(Ie),!(De>=(At=Fr(Ue,At=Yr(At,Ie)))&&Pe-De>=rt)){ct=0;break t}for(Lt=0;Lt<rt;++Lt)ue[qe+De+Lt]=ue[qe+De+Lt-At];for(De+=rt,be+=rt;be>=Ue;)be-=Ue,++pe<=_&&!(pe%16)&&_e(oe,pe);De<at&&be&ut&&(ot=Tn($e,be,pe))}e(Ie.h==K(Ie))}_e(oe,pe>_?_:pe);break t}!ct||Ie.h&&De<Pe?(ct=0,oe.a=Ie.h?5:3):oe.$=De,_=ct}else _=Ee(oe,oe.V,oe.Ba,oe.c,oe.i,_,Xe);if(!_){V=0;break e}}O+V>=ie&&(g.Cc=1),V=1}if(!V)return null;if(g.Cc&&((V=g.ga)!=null&&(V.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+O*Z}function T(g,_,O,V,Z,ie){for(;0<Z--;){var oe,ue=g,pe=_+(O?1:0),be=g,Ie=_+(O?0:3);for(oe=0;oe<V;++oe){var $e=be[Ie+4*oe];$e!=255&&($e*=32897,ue[pe+4*oe+0]=ue[pe+4*oe+0]*$e>>23,ue[pe+4*oe+1]=ue[pe+4*oe+1]*$e>>23,ue[pe+4*oe+2]=ue[pe+4*oe+2]*$e>>23)}_+=ie}}function ee(g,_,O,V,Z){for(;0<V--;){var ie;for(ie=0;ie<O;++ie){var oe=g[_+2*ie+0],ue=15&(be=g[_+2*ie+1]),pe=4369*ue,be=(240&be|be>>4)*pe>>16;g[_+2*ie+0]=(240&oe|oe>>4)*pe>>16&240|(15&oe|oe<<4)*pe>>16>>4&15,g[_+2*ie+1]=240&be|ue}_+=Z}}function Se(g,_,O,V,Z,ie,oe,ue){var pe,be,Ie=255;for(be=0;be<Z;++be){for(pe=0;pe<V;++pe){var $e=g[_+pe];ie[oe+4*pe]=$e,Ie&=$e}_+=O,oe+=ue}return Ie!=255}function Re(g,_,O,V,Z){var ie;for(ie=0;ie<Z;++ie)O[V+ie]=g[_+ie]>>8}function Be(){ei=T,kr=ee,Er=Se,yn=Re}function nt(g,_,O){L[g]=function(V,Z,ie,oe,ue,pe,be,Ie,$e,qe,Ue,ct,rt,De,Pe,at,ut){var ot,Lt=ut-1>>1,At=ue[pe+0]|be[Ie+0]<<16,Gt=$e[qe+0]|Ue[ct+0]<<16;e(V!=null);var Tt=3*At+Gt+131074>>2;for(_(V[Z+0],255&Tt,Tt>>16,rt,De),ie!=null&&(Tt=3*Gt+At+131074>>2,_(ie[oe+0],255&Tt,Tt>>16,Pe,at)),ot=1;ot<=Lt;++ot){var Vr=ue[pe+ot]|be[Ie+ot]<<16,en=$e[qe+ot]|Ue[ct+ot]<<16,vr=At+Vr+Gt+en+524296,xr=vr+2*(Vr+Gt)>>3;Tt=xr+At>>1,At=(vr=vr+2*(At+en)>>3)+Vr>>1,_(V[Z+2*ot-1],255&Tt,Tt>>16,rt,De+(2*ot-1)*O),_(V[Z+2*ot-0],255&At,At>>16,rt,De+(2*ot-0)*O),ie!=null&&(Tt=vr+Gt>>1,At=xr+en>>1,_(ie[oe+2*ot-1],255&Tt,Tt>>16,Pe,at+(2*ot-1)*O),_(ie[oe+2*ot+0],255&At,At>>16,Pe,at+(2*ot+0)*O)),At=Vr,Gt=en}1&ut||(Tt=3*At+Gt+131074>>2,_(V[Z+ut-1],255&Tt,Tt>>16,rt,De+(ut-1)*O),ie!=null&&(Tt=3*Gt+At+131074>>2,_(ie[oe+ut-1],255&Tt,Tt>>16,Pe,at+(ut-1)*O)))}}function gt(){wa[Wa]=Ko,wa[_u]=xo,wa[mo]=Fl,wa[R0]=jf,wa[kc]=Of,wa[zo]=Au,wa[Df]=Pf,wa[I0]=xo,wa[Ol]=jf,wa[qo]=Of,wa[ku]=Au}function St(g){return g&-16384?0>g?0:255:g>>bx}function x(g,_){return St((19077*g>>8)+(26149*_>>8)-14234)}function M(g,_,O){return St((19077*g>>8)-(6419*_>>8)-(13320*O>>8)+8708)}function q(g,_){return St((19077*g>>8)+(33050*_>>8)-17685)}function fe(g,_,O,V,Z){V[Z+0]=x(g,O),V[Z+1]=M(g,_,O),V[Z+2]=q(g,_)}function Fe(g,_,O,V,Z){V[Z+0]=q(g,_),V[Z+1]=M(g,_,O),V[Z+2]=x(g,O)}function We(g,_,O,V,Z){var ie=M(g,_,O);_=ie<<3&224|q(g,_)>>3,V[Z+0]=248&x(g,O)|ie>>5,V[Z+1]=_}function yt(g,_,O,V,Z){var ie=240&q(g,_)|15;V[Z+0]=240&x(g,O)|M(g,_,O)>>4,V[Z+1]=ie}function Zt(g,_,O,V,Z){V[Z+0]=255,fe(g,_,O,V,Z+1)}function Rr(g,_,O,V,Z){Fe(g,_,O,V,Z),V[Z+3]=255}function cr(g,_,O,V,Z){fe(g,_,O,V,Z),V[Z+3]=255}function Zr(g,_){return 0>g?0:g>_?_:g}function ln(g,_,O){L[g]=function(V,Z,ie,oe,ue,pe,be,Ie,$e){for(var qe=Ie+(-2&$e)*O;Ie!=qe;)_(V[Z+0],ie[oe+0],ue[pe+0],be,Ie),_(V[Z+1],ie[oe+0],ue[pe+0],be,Ie+O),Z+=2,++oe,++pe,Ie+=2*O;1&$e&&_(V[Z+0],ie[oe+0],ue[pe+0],be,Ie)}}function xi(g,_,O){return O==0?g==0?_==0?6:5:_==0?4:0:O}function Vn(g,_,O,V,Z){switch(g>>>30){case 3:Mi(_,O,V,Z,0);break;case 2:jn(_,O,V,Z);break;case 1:Xn(_,O,V,Z)}}function As(g,_){var O,V,Z=_.M,ie=_.Nb,oe=g.oc,ue=g.pc+40,pe=g.oc,be=g.pc+584,Ie=g.oc,$e=g.pc+600;for(O=0;16>O;++O)oe[ue+32*O-1]=129;for(O=0;8>O;++O)pe[be+32*O-1]=129,Ie[$e+32*O-1]=129;for(0<Z?oe[ue-1-32]=pe[be-1-32]=Ie[$e-1-32]=129:(a(oe,ue-32-1,127,21),a(pe,be-32-1,127,9),a(Ie,$e-32-1,127,9)),V=0;V<g.za;++V){var qe=_.ya[_.aa+V];if(0<V){for(O=-1;16>O;++O)n(oe,ue+32*O-4,oe,ue+32*O+12,4);for(O=-1;8>O;++O)n(pe,be+32*O-4,pe,be+32*O+4,4),n(Ie,$e+32*O-4,Ie,$e+32*O+4,4)}var Ue=g.Gd,ct=g.Hd+V,rt=qe.ad,De=qe.Hc;if(0<Z&&(n(oe,ue-32,Ue[ct].y,0,16),n(pe,be-32,Ue[ct].f,0,8),n(Ie,$e-32,Ue[ct].ea,0,8)),qe.Za){var Pe=oe,at=ue-32+16;for(0<Z&&(V>=g.za-1?a(Pe,at,Ue[ct].y[15],4):n(Pe,at,Ue[ct+1].y,0,4)),O=0;4>O;O++)Pe[at+128+O]=Pe[at+256+O]=Pe[at+384+O]=Pe[at+0+O];for(O=0;16>O;++O,De<<=2)Pe=oe,at=ue+Tc[O],us[qe.Ob[O]](Pe,at),Vn(De,rt,16*+O,Pe,at)}else if(Pe=xi(V,Z,qe.Ob[0]),$o[Pe](oe,ue),De!=0)for(O=0;16>O;++O,De<<=2)Vn(De,rt,16*+O,oe,ue+Tc[O]);for(O=qe.Gc,Pe=xi(V,Z,qe.Dd),ri[Pe](pe,be),ri[Pe](Ie,$e),De=rt,Pe=pe,at=be,255&(qe=O>>0)&&(170&qe?Bi(De,256,Pe,at):Ns(De,256,Pe,at)),qe=Ie,De=$e,255&(O>>=8)&&(170&O?Bi(rt,320,qe,De):Ns(rt,320,qe,De)),Z<g.Ub-1&&(n(Ue[ct].y,0,oe,ue+480,16),n(Ue[ct].f,0,pe,be+224,8),n(Ue[ct].ea,0,Ie,$e+224,8)),O=8*ie*g.B,Ue=g.sa,ct=g.ta+16*V+16*ie*g.R,rt=g.qa,qe=g.ra+8*V+O,De=g.Ha,Pe=g.Ia+8*V+O,O=0;16>O;++O)n(Ue,ct+O*g.R,oe,ue+32*O,16);for(O=0;8>O;++O)n(rt,qe+O*g.B,pe,be+32*O,8),n(De,Pe+O*g.B,Ie,$e+32*O,8)}}function uo(g,_,O,V,Z,ie,oe,ue,pe){var be=[0],Ie=[0],$e=0,qe=pe!=null?pe.kd:0,Ue=pe??new _l;if(g==null||12>O)return 7;Ue.data=g,Ue.w=_,Ue.ha=O,_=[_],O=[O],Ue.gb=[Ue.gb];e:{var ct=_,rt=O,De=Ue.gb;if(e(g!=null),e(rt!=null),e(De!=null),De[0]=0,12<=rt[0]&&!r(g,ct[0],"RIFF")){if(r(g,ct[0]+8,"WEBP")){De=3;break e}var Pe=Ne(g,ct[0]+4);if(12>Pe||4294967286<Pe){De=3;break e}if(qe&&Pe>rt[0]-8){De=7;break e}De[0]=Pe,ct[0]+=12,rt[0]-=12}De=0}if(De!=0)return De;for(Pe=0<Ue.gb[0],O=O[0];;){e:{var at=g;rt=_,De=O;var ut=be,ot=Ie,Lt=ct=[0];if((Tt=$e=[$e])[0]=0,8>De[0])De=7;else{if(!r(at,rt[0],"VP8X")){if(Ne(at,rt[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var At=Ne(at,rt[0]+8),Gt=1+J(at,rt[0]+12);if(2147483648<=Gt*(at=1+J(at,rt[0]+15))){De=3;break e}Lt!=null&&(Lt[0]=At),ut!=null&&(ut[0]=Gt),ot!=null&&(ot[0]=at),rt[0]+=18,De[0]-=18,Tt[0]=1}De=0}}if($e=$e[0],ct=ct[0],De!=0)return De;if(rt=!!(2&ct),!Pe&&$e)return 3;if(ie!=null&&(ie[0]=!!(16&ct)),oe!=null&&(oe[0]=rt),ue!=null&&(ue[0]=0),oe=be[0],ct=Ie[0],$e&&rt&&pe==null){De=0;break}if(4>O){De=7;break}if(Pe&&$e||!Pe&&!$e&&!r(g,_[0],"ALPH")){O=[O],Ue.na=[Ue.na],Ue.P=[Ue.P],Ue.Sa=[Ue.Sa];e:{At=g,De=_,Pe=O;var Tt=Ue.gb;ut=Ue.na,ot=Ue.P,Lt=Ue.Sa,Gt=22,e(At!=null),e(Pe!=null),at=De[0];var Vr=Pe[0];for(e(ut!=null),e(Lt!=null),ut[0]=null,ot[0]=null,Lt[0]=0;;){if(De[0]=at,Pe[0]=Vr,8>Vr){De=7;break e}var en=Ne(At,at+4);if(4294967286<en){De=3;break e}var vr=8+en+1&-2;if(Gt+=vr,0<Tt&&Gt>Tt){De=3;break e}if(!r(At,at,"VP8 ")||!r(At,at,"VP8L")){De=0;break e}if(Vr[0]<vr){De=7;break e}r(At,at,"ALPH")||(ut[0]=At,ot[0]=at+8,Lt[0]=en),at+=vr,Vr-=vr}}if(O=O[0],Ue.na=Ue.na[0],Ue.P=Ue.P[0],Ue.Sa=Ue.Sa[0],De!=0)break}O=[O],Ue.Ja=[Ue.Ja],Ue.xa=[Ue.xa];e:if(Tt=g,De=_,Pe=O,ut=Ue.gb[0],ot=Ue.Ja,Lt=Ue.xa,At=De[0],at=!r(Tt,At,"VP8 "),Gt=!r(Tt,At,"VP8L"),e(Tt!=null),e(Pe!=null),e(ot!=null),e(Lt!=null),8>Pe[0])De=7;else{if(at||Gt){if(Tt=Ne(Tt,At+4),12<=ut&&Tt>ut-12){De=3;break e}if(qe&&Tt>Pe[0]-8){De=7;break e}ot[0]=Tt,De[0]+=8,Pe[0]-=8,Lt[0]=Gt}else Lt[0]=5<=Pe[0]&&Tt[At+0]==47&&!(Tt[At+4]>>5),ot[0]=Pe[0];De=0}if(O=O[0],Ue.Ja=Ue.Ja[0],Ue.xa=Ue.xa[0],_=_[0],De!=0)break;if(4294967286<Ue.Ja)return 3;if(ue==null||rt||(ue[0]=Ue.xa?2:1),oe=[oe],ct=[ct],Ue.xa){if(5>O){De=7;break}ue=oe,qe=ct,rt=ie,g==null||5>O?g=0:5<=O&&g[_+0]==47&&!(g[_+4]>>5)?(Pe=[0],Tt=[0],ut=[0],ce(ot=new F,g,_,O),Rt(ot,Pe,Tt,ut)?(ue!=null&&(ue[0]=Pe[0]),qe!=null&&(qe[0]=Tt[0]),rt!=null&&(rt[0]=ut[0]),g=1):g=0):g=0}else{if(10>O){De=7;break}ue=ct,g==null||10>O||!ya(g,_+3,O-3)?g=0:(qe=g[_+0]|g[_+1]<<8|g[_+2]<<16,rt=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Ue.Ja||!rt||!g?g=0:(oe&&(oe[0]=rt),ue&&(ue[0]=g),g=1))}if(!g||(oe=oe[0],ct=ct[0],$e&&(be[0]!=oe||Ie[0]!=ct)))return 3;pe!=null&&(pe[0]=Ue,pe.offset=_-pe.w,e(4294967286>_-pe.w),e(pe.offset==pe.ha-O));break}return De==0||De==7&&$e&&pe==null?(ie!=null&&(ie[0]|=Ue.na!=null&&0<Ue.na.length),V!=null&&(V[0]=oe),Z!=null&&(Z[0]=ct),0):De}function El(g,_,O){var V=_.width,Z=_.height,ie=0,oe=0,ue=V,pe=Z;if(_.Da=g!=null&&0<g.Da,_.Da&&(ue=g.cd,pe=g.bd,ie=g.v,oe=g.j,11>O||(ie&=-2,oe&=-2),0>ie||0>oe||0>=ue||0>=pe||ie+ue>V||oe+pe>Z))return 0;if(_.v=ie,_.j=oe,_.va=ie+ue,_.o=oe+pe,_.U=ue,_.T=pe,_.da=g!=null&&0<g.da,_.da){if(!Ke(ue,pe,O=[g.ib],ie=[g.hb]))return 0;_.ib=O[0],_.hb=ie[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*V/4&&_.hb<3*Z/4,_.Kb=0),1}function yu(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function gc(g,_,O,V){if(V==null||0>=g||0>=_)return 2;if(O!=null){if(O.Da){var Z=O.cd,ie=O.bd,oe=-2&O.v,ue=-2&O.j;if(0>oe||0>ue||0>=Z||0>=ie||oe+Z>g||ue+ie>_)return 2;g=Z,_=ie}if(O.da){if(!Ke(g,_,Z=[O.ib],ie=[O.hb]))return 2;g=Z[0],_=ie[0]}}V.width=g,V.height=_;e:{var pe=V.width,be=V.height;if(g=V.S,0>=pe||0>=be||!(g>=Wa&&13>g))g=2;else{if(0>=V.Rd&&V.sd==null){oe=ie=Z=_=0;var Ie=(ue=pe*gp[g])*be;if(11>g||(ie=(be+1)/2*(_=(pe+1)/2),g==12&&(oe=(Z=pe)*be)),(be=s(Ie+2*ie+oe))==null){g=1;break e}V.sd=be,11>g?((pe=V.f.RGBA).eb=be,pe.fb=0,pe.A=ue,pe.size=Ie):((pe=V.f.kb).y=be,pe.O=0,pe.fa=ue,pe.Fd=Ie,pe.f=be,pe.N=0+Ie,pe.Ab=_,pe.Cd=ie,pe.ea=be,pe.W=0+Ie+ie,pe.Db=_,pe.Ed=ie,g==12&&(pe.F=be,pe.J=0+Ie+2*ie),pe.Tc=oe,pe.lb=Z)}if(_=1,Z=V.S,ie=V.width,oe=V.height,Z>=Wa&&13>Z)if(11>Z)g=V.f.RGBA,_&=(ue=Math.abs(g.A))*(oe-1)+ie<=g.size,_&=ue>=ie*gp[Z],_&=g.eb!=null;else{g=V.f.kb,ue=(ie+1)/2,Ie=(oe+1)/2,pe=Math.abs(g.fa),be=Math.abs(g.Ab);var $e=Math.abs(g.Db),qe=Math.abs(g.lb),Ue=qe*(oe-1)+ie;_&=pe*(oe-1)+ie<=g.Fd,_&=be*(Ie-1)+ue<=g.Cd,_=(_&=$e*(Ie-1)+ue<=g.Ed)&pe>=ie&be>=ue&$e>=ue,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,Z==12&&(_&=qe>=ie,_&=Ue<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||O!=null&&O.fd&&(g=yu(V)),g}var sa=64,Al=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xc=24,yc=32,vu=8,Ss=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];pt("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(g){return g},L.Predictor2=function(g,_,O){return _[O+0]},L.Predictor3=function(g,_,O){return _[O+1]},L.Predictor4=function(g,_,O){return _[O-1]},L.Predictor5=function(g,_,O){return bt(bt(g,_[O+1]),_[O+0])},L.Predictor6=function(g,_,O){return bt(g,_[O-1])},L.Predictor7=function(g,_,O){return bt(g,_[O+0])},L.Predictor8=function(g,_,O){return bt(_[O-1],_[O+0])},L.Predictor9=function(g,_,O){return bt(_[O+0],_[O+1])},L.Predictor10=function(g,_,O){return bt(bt(g,_[O-1]),bt(_[O+0],_[O+1]))},L.Predictor11=function(g,_,O){var V=_[O+0];return 0>=Wt(V>>24&255,g>>24&255,(_=_[O-1])>>24&255)+Wt(V>>16&255,g>>16&255,_>>16&255)+Wt(V>>8&255,g>>8&255,_>>8&255)+Wt(255&V,255&g,255&_)?V:g},L.Predictor12=function(g,_,O){var V=_[O+0];return(Dt((g>>24&255)+(V>>24&255)-((_=_[O-1])>>24&255))<<24|Dt((g>>16&255)+(V>>16&255)-(_>>16&255))<<16|Dt((g>>8&255)+(V>>8&255)-(_>>8&255))<<8|Dt((255&g)+(255&V)-(255&_)))>>>0},L.Predictor13=function(g,_,O){var V=_[O-1];return(Ut((g=bt(g,_[O+0]))>>24&255,V>>24&255)<<24|Ut(g>>16&255,V>>16&255)<<16|Ut(g>>8&255,V>>8&255)<<8|Ut(g>>0&255,V>>0&255))>>>0};var td=L.PredictorAdd0;L.PredictorAdd1=jt,pt("Predictor2","PredictorAdd2"),pt("Predictor3","PredictorAdd3"),pt("Predictor4","PredictorAdd4"),pt("Predictor5","PredictorAdd5"),pt("Predictor6","PredictorAdd6"),pt("Predictor7","PredictorAdd7"),pt("Predictor8","PredictorAdd8"),pt("Predictor9","PredictorAdd9"),pt("Predictor10","PredictorAdd10"),pt("Predictor11","PredictorAdd11"),pt("Predictor12","PredictorAdd12"),pt("Predictor13","PredictorAdd13");var N0=L.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Rf,yi=L.ColorIndexInverseTransform,va=L.MapARGB,Sl=L.VP8LColorIndexInverseTransformAlpha,C0=L.MapAlpha,Bo=L.VP8LPredictorsAdd=[];Bo.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Tl,cs,ja,Nl,Ts,Fi,fo,Mi,jn,Bi,Xn,Ns,vc,ho,bu,Cl,Rl,Il,bc,wu,Dl,Uo,wc,On,ei,kr,Er,yn,zn=s(511),vi=s(2041),Ll=s(225),jl=s(767),Vo=0,If=vi,_c=Ll,ba=jl,bi=zn,Wa=0,_u=1,mo=2,R0=3,kc=4,zo=5,Df=6,I0=7,Ol=8,qo=9,ku=10,Lf=[2,3,7],wi=[3,3,11],ti=[280,256,256,256,40],Ec=[0,1,1,1,0],Ho=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Go=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ac=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fp=8,D0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],L0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ia=null,Pn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Pl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],po=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],rd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$o=[],us=[],ri=[],dp=1,Eu=2,go=[],wa=[];nt("UpsampleRgbLinePair",fe,3),nt("UpsampleBgrLinePair",Fe,3),nt("UpsampleRgbaLinePair",cr,4),nt("UpsampleBgraLinePair",Rr,4),nt("UpsampleArgbLinePair",Zt,4),nt("UpsampleRgba4444LinePair",yt,2),nt("UpsampleRgb565LinePair",We,2);var Ko=L.UpsampleRgbLinePair,Fl=L.UpsampleBgrLinePair,xo=L.UpsampleRgbaLinePair,jf=L.UpsampleBgraLinePair,Of=L.UpsampleArgbLinePair,Au=L.UpsampleRgba4444LinePair,Pf=L.UpsampleRgb565LinePair,yo=16,oa=1<<yo-1,Ml=-227,Ff=482,bx=6,mp=0,wx=s(256),la=s(256),nd=s(256),j0=s(256),O0=s(Ff-Ml),ad=s(Ff-Ml);ln("YuvToRgbRow",fe,3),ln("YuvToBgrRow",Fe,3),ln("YuvToRgbaRow",cr,4),ln("YuvToBgraRow",Rr,4),ln("YuvToArgbRow",Zt,4),ln("YuvToRgba4444Row",yt,2),ln("YuvToRgb565Row",We,2);var Tc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wo=[0,2,8],_x=[8,7,6,4,4,2,2,2,1,1,1,1],pp=1;this.WebPDecodeRGBA=function(g,_,O,V,Z){var ie=_u,oe=new Po,ue=new Un;oe.ba=ue,ue.S=ie,ue.width=[ue.width],ue.height=[ue.height];var pe=ue.width,be=ue.height,Ie=new na;if(Ie==null||g==null)var $e=2;else e(Ie!=null),$e=uo(g,_,O,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if($e!=0?pe=0:(pe!=null&&(pe[0]=Ie.width[0]),be!=null&&(be[0]=Ie.height[0]),pe=1),pe){ue.width=ue.width[0],ue.height=ue.height[0],V!=null&&(V[0]=ue.width),Z!=null&&(Z[0]=ue.height);e:{if(V=new os,(Z=new _l).data=g,Z.w=_,Z.ha=O,Z.kd=1,_=[0],e(Z!=null),((g=uo(Z.data,Z.w,Z.ha,null,null,null,_,null,Z))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(oe!=null),V.data=Z.data,V.w=Z.w+Z.offset,V.ha=Z.ha-Z.offset,V.put=aa,V.ac=Sn,V.bc=is,V.ma=oe,Z.xa){if((g=Ze())==null){oe=1;break e}if(function(qe,Ue){var ct=[0],rt=[0],De=[0];t:for(;;){if(qe==null)return 0;if(Ue==null)return qe.a=2,0;if(qe.l=Ue,qe.a=0,ce(qe.m,Ue.data,Ue.w,Ue.ha),!Rt(qe.m,ct,rt,De)){qe.a=3;break t}if(qe.xb=Eu,Ue.width=ct[0],Ue.height=rt[0],!Me(ct[0],rt[0],1,qe,null))break t;return 1}return e(qe.a!=0),0}(g,V)){if(V=(_=gc(V.width,V.height,oe.Oa,oe.ba))==0){t:{V=g;r:for(;;){if(V==null){V=0;break t}if(e(V.s.yc!=null),e(V.s.Ya!=null),e(0<V.s.Wb),e((O=V.l)!=null),e((Z=O.ma)!=null),V.xb!=0){if(V.ca=Z.ba,V.tb=Z.tb,e(V.ca!=null),!El(Z.Oa,O,R0)){V.a=2;break r}if(!Ge(V,O.width)||O.da)break r;if((O.da||br(V.ca.S))&&Be(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Be()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!Qe(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!Ee(V,V.V,V.Ba,V.c,V.i,O.o,ke))break r;Z.Dc=V.Ma,V=1;break t}e(V.a!=0),V=0}V=!V}V&&(_=g.a)}else _=g.a}else{if((g=new Ra)==null){oe=1;break e}if(g.Fa=Z.na,g.P=Z.P,g.qc=Z.Sa,xl(g,V)){if((_=gc(V.width,V.height,oe.Oa,oe.ba))==0){if(g.Aa=0,O=oe.Oa,e((Z=g)!=null),O!=null){if(0<(pe=0>(pe=O.Md)?0:100<pe?255:255*pe/100)){for(be=Ie=0;4>be;++be)12>($e=Z.pb[be]).lc&&($e.ia=pe*_x[0>$e.lc?0:$e.lc]>>3),Ie|=$e.ia;Ie&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=O.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}uc(g,V)||(_=g.a)}}else _=g.a}_==0&&oe.Oa!=null&&oe.Oa.fd&&(_=yu(oe.ba))}oe=_}ie=oe!=0?null:11>ie?ue.f.RGBA.eb:ue.f.kb.y}else ie=null;return ie};var gp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,R){for(var U="",D=0;D<4;D++)U+=String.fromCharCode(L[R++]);return U}function p(L,R){return(L[R+0]<<0|L[R+1]<<8|L[R+2]<<16)>>>0}function y(L,R){return(L[R+0]<<0|L[R+1]<<8|L[R+2]<<16|L[R+3]<<24)>>>0}new h;var v=[0],b=[0],E=[],k=new h,A=t,N=function(L,R){var U={},D=0,C=!1,B=0,ne=0;if(U.frames=[],!function(H,K,Q,re){for(var de=0;de<re;de++)if(H[K+de]!=Q.charCodeAt(de))return!0;return!1}(L,R,"RIFF",4)){for(y(L,R+=4),R+=8;R<L.length;){var ye=d(L,R),ae=y(L,R+=4);R+=4;var le=ae+(1&ae);switch(ye){case"VP8 ":case"VP8L":U.frames[D]===void 0&&(U.frames[D]={}),(Y=U.frames[D]).src_off=C?ne:R-8,Y.src_size=B+ae+8,D++,C&&(C=!1,B=0,ne=0);break;case"VP8X":(Y=U.header={}).feature_flags=L[R];var ce=R+4;Y.canvas_width=1+p(L,ce),ce+=3,Y.canvas_height=1+p(L,ce),ce+=3;break;case"ALPH":C=!0,B=le+8,ne=R-8;break;case"ANIM":(Y=U.header).bgcolor=y(L,R),ce=R+4,Y.loop_count=(Te=L)[(F=ce)+0]<<0|Te[F+1]<<8,ce+=2;break;case"ANMF":var te,Y;(Y=U.frames[D]={}).offset_x=2*p(L,R),R+=3,Y.offset_y=2*p(L,R),R+=3,Y.width=1+p(L,R),R+=3,Y.height=1+p(L,R),R+=3,Y.duration=p(L,R),R+=3,te=L[R++],Y.dispose=1&te,Y.blend=te>>1&1}ye!="ANMF"&&(R+=le)}var Te,F;return U}}(A,0);N.response=A,N.rgbaoutput=!0,N.dataurl=!1;var I=N.header?N.header:null,P=N.frames?N.frames:null;if(I){I.loop_counter=I.loop_count,v=[I.canvas_height],b=[I.canvas_width];for(var z=0;z<P.length&&P[z].blend!=0;z++);}var G=P[0],W=k.WebPDecodeRGBA(A,G.src_off,G.src_size,b,v);G.rgba=W,G.imgwidth=b[0],G.imgheight=v[0];for(var j=0;j<b[0]*v[0]*4;j++)E[j]=W[j];return this.width=b,this.height=v,this.data=E,this}(function(t){var e=function(){return typeof Qy=="function"},r=function(v,b,E,k){var A=4,N=o;switch(k){case t.image_compression.FAST:A=1,N=s;break;case t.image_compression.MEDIUM:A=6,N=c;break;case t.image_compression.SLOW:A=9,N=h}v=n(v,b,E,N);var I=Qy(v,{level:A});return t.__addimage__.arrayBufferToBinaryString(I)},n=function(v,b,E,k){for(var A,N,I,P=v.length/b,z=new Uint8Array(v.length+P),G=p(),W=0;W<P;W+=1){if(I=W*b,A=v.subarray(I,I+b),k)z.set(k(A,E,N),I+W);else{for(var j,L=G.length,R=[];j<L;j+=1)R[j]=G[j](A,E,N);var U=y(R.concat());z.set(R[U],I+W)}N=A}return z},a=function(v){var b=Array.apply([],v);return b.unshift(0),b},s=function(v,b){var E,k=[],A=v.length;k[0]=1;for(var N=0;N<A;N+=1)E=v[N-b]||0,k[N+1]=v[N]-E+256&255;return k},o=function(v,b,E){var k,A=[],N=v.length;A[0]=2;for(var I=0;I<N;I+=1)k=E&&E[I]||0,A[I+1]=v[I]-k+256&255;return A},c=function(v,b,E){var k,A,N=[],I=v.length;N[0]=3;for(var P=0;P<I;P+=1)k=v[P-b]||0,A=E&&E[P]||0,N[P+1]=v[P]+256-(k+A>>>1)&255;return N},h=function(v,b,E){var k,A,N,I,P=[],z=v.length;P[0]=4;for(var G=0;G<z;G+=1)k=v[G-b]||0,A=E&&E[G]||0,N=E&&E[G-b]||0,I=d(k,A,N),P[G+1]=v[G]-I+256&255;return P},d=function(v,b,E){if(v===b&&b===E)return v;var k=Math.abs(b-E),A=Math.abs(v-E),N=Math.abs(v+b-E-E);return k<=A&&k<=N?v:A<=N?b:E},p=function(){return[a,s,o,c,h]},y=function(v){var b=v.map(function(E){return E.reduce(function(k,A){return k+Math.abs(A)},0)});return b.indexOf(Math.min.apply(null,b))};t.processPNG=function(v,b,E,k){var A,N,I,P,z,G,W,j,L,R,U,D,C,B,ne,ye=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(I=new jP(v)).imgData,N=I.bits,A=I.colorSpace,z=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){L=(j=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,U=new Uint8Array(L*I.colors),R=new Uint8Array(L);var le,ce=I.pixelBitlength-I.bits;for(B=0,ne=0;B<L;B++){for(C=j[B],le=0;le<ce;)U[ne++]=C>>>le&255,le+=I.bits;R[B]=C>>>le&255}}if(I.bits===16){L=(j=new Uint32Array(I.decodePixels().buffer)).length,U=new Uint8Array(L*(32/I.pixelBitlength)*I.colors),R=new Uint8Array(L*(32/I.pixelBitlength)),D=I.colors>1,B=0,ne=0;for(var te=0;B<L;)C=j[B++],U[ne++]=C>>>0&255,D&&(U[ne++]=C>>>16&255,C=j[B++],U[ne++]=C>>>0&255),R[te++]=C>>>16&255;N=8}k!==t.image_compression.NONE&&e()?(v=r(U,I.width*I.colors,I.colors,k),W=r(R,I.width,1,k)):(v=U,W=R,ye=void 0)}if(I.colorType===3&&(A=this.color_spaces.INDEXED,G=I.palette,I.transparency.indexed)){var Y=I.transparency.indexed,Te=0;for(B=0,L=Y.length;B<L;++B)Te+=Y[B];if((Te/=255)===L-1&&Y.indexOf(0)!==-1)P=[Y.indexOf(0)];else if(Te!==L){for(j=I.decodePixels(),R=new Uint8Array(j.length),B=0,L=j.length;B<L;B++)R[B]=Y[j[B]];W=r(R,I.width,1)}}var F=function(H){var K;switch(H){case t.image_compression.FAST:K=11;break;case t.image_compression.MEDIUM:K=13;break;case t.image_compression.SLOW:K=14;break;default:K=12}return K}(k);return ye===this.decode.FLATE_DECODE&&(ae="/Predictor "+F+" "),ae+="/Colors "+z+" /BitsPerComponent "+N+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(W&&this.__addimage__.isArrayBuffer(W)||this.__addimage__.isArrayBufferView(W))&&(W=this.__addimage__.arrayBufferToBinaryString(W)),{alias:E,data:v,index:b,filter:ye,decodeParameters:ae,transparency:P,palette:G,sMask:W,predictor:F,width:I.width,height:I.height,bitsPerComponent:N,colorSpace:A}}}})(rr.API),function(t){t.processGIF89A=function(e,r,n,a){var s=new OP(e),o=s.width,c=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var d={data:h,width:o,height:c},p=new ry(100).encode(d,100);return t.processJPEG.call(this,p,r,n,a)},t.processGIF87A=t.processGIF89A}(rr.API),rl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},rl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){An.log("bit decode error:"+r)}},rl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var h=this.palette[s>>7-c&1];this.data[o+4*c]=h.blue,this.data[o+4*c+1]=h.green,this.data[o+4*c+2]=h.red,this.data[o+4*c+3]=255}r!==0&&(this.pos+=4-r)}},rl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,c=s>>4,h=15&s,d=this.palette[c];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[h],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},rl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},rl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,h=(s>>10&e)/e*255|0,d=s>>15?255:0,p=n*this.width*4+4*a;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=d}this.pos+=t}},rl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,p=a*this.width*4+4*s;this.data[p]=d,this.data[p+1]=h,this.data[p+2]=c,this.data[p+3]=255}this.pos+=t}},rl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},rl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=s,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=o}},rl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var s=new rl(e,!1),o=s.width,c=s.height,h={data:s.getData(),width:o,height:c},d=new ry(100).encode(h,100);return t.processJPEG.call(this,d,r,n,a)}}(rr.API),i3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var s=new i3(e),o=s.width,c=s.height,h={data:s.getData(),width:o,height:c},d=new ry(100).encode(h,100);return t.processJPEG.call(this,d,r,n,a)}}(rr.API),rr.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),c=0,h=0,d=0;d<a;d+=4){var p=n[d],y=n[d+1],v=n[d+2],b=n[d+3];s[c++]=p,s[c++]=y,s[c++]=v,o[h++]=b}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},rr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ih=rr.API,vg=ih.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,h=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,p=d.fof?d.fof:1,y=e.doKerning!==!1,v=0,b=t.length,E=0,k=c[0]||h,A=[];for(r=0;r<b;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?A.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(v=y&&gn(d[n])==="object"&&!isNaN(parseInt(d[n][E],10))?d[n][E]/p:0,A.push((c[n]||k)/h+v)),E=n;return A},r3=ih.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return ih.processArabic&&(t=ih.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:vg.apply(this,arguments).reduce(function(s,o){return s+o},0)},n3=function(t,e,r,n){for(var a=[],s=0,o=t.length,c=0;s!==o&&c+e[s]<r;)c+=e[s],s++;a.push(t.slice(0,s));var h=s;for(c=0;s!==o;)c+e[s]>n&&(a.push(t.slice(h,s)),c=0,h=s),c+=e[s],s++;return h!==s&&a.push(t.slice(h,s)),a},a3=function(t,e,r){r||(r={});var n,a,s,o,c,h,d,p=[],y=[p],v=r.textIndent||0,b=0,E=0,k=t.split(" "),A=vg.apply(this,[" ",r])[0];if(h=r.lineIndent===-1?k[0].length+2:r.lineIndent||0){var N=Array(h).join(" "),I=[];k.map(function(z){(z=z.split(/\s*\n/)).length>1?I=I.concat(z.map(function(G,W){return(W&&G.length?`
`:"")+G})):I.push(z[0])}),k=I,h=r3.apply(this,[N,r])}for(s=0,o=k.length;s<o;s++){var P=0;if(n=k[s],h&&n[0]==`
`&&(n=n.substr(1),P=1),v+b+(E=(a=vg.apply(this,[n,r])).reduce(function(z,G){return z+G},0))>e||P){if(E>e){for(c=n3.apply(this,[n,a,e-(v+b),e]),p.push(c.shift()),p=[c.pop()];c.length;)y.push([c.shift()]);E=a.slice(n.length-(p[0]?p[0].length:0)).reduce(function(z,G){return z+G},0)}else p=[n];y.push(p),v=E+h,b=A}else p.push(n),v+=b+E,b=A}return d=h?function(z,G){return(G?N:"")+z.join(" ")}:function(z){return z.join(" ")},y.map(d)},ih.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var c,h,d=[];for(c=0,h=n.length;c<h;c++)d=d.concat(a3.apply(this,[n[c],o,s]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=t.__fontmetrics__.compress=function(y){var v,b,E,k,A=["{"];for(var N in y){if(v=y[N],isNaN(parseInt(N,10))?b="'"+N+"'":(N=parseInt(N,10),b=(b=s(N).slice(2)).slice(0,-1)+n[b.slice(-1)]),typeof v=="number")v<0?(E=s(v).slice(3),k="-"):(E=s(v).slice(2),k=""),E=k+E.slice(0,-1)+n[E.slice(-1)];else{if(gn(v)!=="object")throw new Error("Don't know what to do with value type "+gn(v)+".");E=o(v)}A.push(b+E)}return A.push("}"),A.join("")},c=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,b,E,k,A={},N=1,I=A,P=[],z="",G="",W=y.length-1,j=1;j<W;j+=1)(k=y[j])=="'"?v?(E=v.join(""),v=void 0):v=[]:v?v.push(k):k=="{"?(P.push([I,E]),I={},E=void 0):k=="}"?((b=P.pop())[0][b[1]]=I,E=void 0,I=b[0]):k=="-"?N=-1:E===void 0?r.hasOwnProperty(k)?(z+=r[k],E=parseInt(z,16)*N,N=1,z=""):z+=k:r.hasOwnProperty(k)?(G+=r[k],I[E]=parseInt(G,16)*N,N=1,E=void 0,G=""):G+=k;return A},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var v=y.font,b=p.Unicode[v.postScriptName];b&&(v.metadata.Unicode={},v.metadata.Unicode.widths=b.widths,v.metadata.Unicode.kerning=b.kerning);var E=d.Unicode[v.postScriptName];E&&(v.metadata.Unicode.encoding=E,v.encoding=E.codePages[0])}])}(rr.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(lm(c)),o.metadata=t.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(rr),function(t){function e(){return(ar.canvg?Promise.resolve(ar.canvg):y1(()=>import("./index.es-4FoJunfj.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}rr.API.addSvgAsImage=function(r,n,a,s,o,c,h,d){if(isNaN(n)||isNaN(a))throw An.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw An.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var y=p.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,p.width,p.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return e().then(function(E){return E.fromString(y,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(v)}).then(function(){b.addImage(p.toDataURL("image/jpeg",1),n,a,s,o,h,d)})}}(),rr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},rr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),h=[],d=0,p=0,y=0;function v(E,k){var A,N=!1;for(A=0;A<E.length;A+=1)E[A]===k&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var b=c.length;for(y=0;y<b;y+=1)r[c[y]].value=r[c[y]].defaultValue,r[c[y]].explicitSet=!1}if(gn(t)==="object"){for(a in t)if(s=t[a],v(c,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&v(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")h.push(String(s[d]-1));else if(s[d].length>1){for(p=0;p<s[d].length;p+=1)typeof s[d][p]!="number"&&(n=!1);n===!0&&h.push([s[d][0]-1,s[d][1]-1].join(" "))}r[a].value="["+h.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,k=[];for(E in r)r[E].explicitSet===!0&&(r[E].type==="name"?k.push("/"+E+" /"+r[E].value):k.push("/"+E+" "+r[E].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+c.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+c+h),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(rr.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var c,h=o.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],y=0,v=s.length;y<v;++y){if(c=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(y),h.indexOf(c)==-1&&(h.push(c),h.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},n=function(s){var o,c,h,d,p,y,v;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],y=0,v=(c=Object.keys(s).sort(function(b,E){return b-E})).length;y<v;y++)o=c[y],h.length>=100&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),h.push("<"+o+"><"+d+">"));return h.length&&(p+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var c=o.font,h=o.out,d=o.newObject,p=o.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,v=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",E=0;E<v.length;E++)b+=String.fromCharCode(v[E]);var k=d();p({data:b,addLength1:!0,objectId:k}),h("endobj");var A=d();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:A}),h("endobj");var N=d();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+dh(c.fontName)),h("/FontFile2 "+k+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),h("/Flags "+c.metadata.flags),h("/StemV "+c.metadata.stemV),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h(">>"),h("endobj");var I=d();h("<<"),h("/Type /Font"),h("/BaseFont /"+dh(c.fontName)),h("/FontDescriptor "+N+" 0 R"),h("/W "+t.API.PDFObject.convert(y)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+c.encoding+")"),h(">>"),h(">>"),h("endobj"),c.objectNumber=d(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+A+" 0 R"),h("/BaseFont /"+dh(c.fontName)),h("/Encoding /"+c.encoding),h("/DescendantFonts ["+I+" 0 R]"),h(">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var c=o.font,h=o.out,d=o.newObject,p=o.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,v="",b=0;b<y.length;b++)v+=String.fromCharCode(y[b]);var E=d();p({data:v,addLength1:!0,objectId:E}),h("endobj");var k=d();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var A=d();h("<<"),h("/Descent "+c.metadata.decender),h("/CapHeight "+c.metadata.capHeight),h("/StemV "+c.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+E+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),h("/FontName /"+dh(c.fontName)),h("/ItalicAngle "+c.metadata.italicAngle),h("/Ascent "+c.metadata.ascender),h(">>"),h("endobj"),c.objectNumber=d();for(var N=0;N<c.metadata.hmtx.widths.length;N++)c.metadata.hmtx.widths[N]=parseInt(c.metadata.hmtx.widths[N]*(1e3/c.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+dh(c.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),h("endobj"),c.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,c=s.text||"",h=s.x,d=s.y,p=s.options||{},y=s.mutex||{},v=y.pdfEscape,b=y.activeFontKey,E=y.fonts,k=b,A="",N=0,I="",P=E[k].encoding;if(E[k].encoding!=="Identity-H")return{text:c,x:h,y:d,options:p,mutex:y};for(I=c,k=b,Array.isArray(c)&&(I=c[0]),N=0;N<I.length;N+=1)E[k].metadata.hasOwnProperty("cmap")&&(o=E[k].metadata.cmap.unicode.codeMap[I[N].charCodeAt(0)]),o||I[N].charCodeAt(0)<256&&E[k].metadata.hasOwnProperty("Unicode")?A+=I[N]:A+="";var z="";return parseInt(k.slice(1))<14||P==="WinAnsiEncoding"?z=v(A,k).split("").map(function(G){return G.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(z=r(A,E[k])),y.isHex=!0,{text:z,x:h,y:d,options:p,mutex:y}};e.events.push(["postProcessText",function(s){var o=s.text||"",c=[],h={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?c.push([a(Object.assign({},h,{text:o[d][0]})).text,o[d][1],o[d][2]]):c.push(a(Object.assign({},h,{text:o[d]})).text);s.text=c}else s.text=a(Object.assign({},h,{text:o})).text}])}(rr),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(rr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,s,o,c,h,d,p,y=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,P=0;this.__bidiEngine__={};var z=function(D){var C=D.charCodeAt(),B=C>>8,ne=k[B];return ne!==void 0?y[256*ne+(255&C)]:B===252||B===253?"AL":N.test(B)?"L":B===8?"R":"N"},G=function(D){for(var C,B=0;B<D.length;B++){if((C=z(D.charAt(B)))==="L")return!1;if(C==="R")return!0}return!1},W=function(D,C,B,ne){var ye,ae,le,ce,te=C[ne];switch(te){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(te="AN");break;case"AL":I=!0,te="R";break;case"WS":te="N";break;case"CS":ne<1||ne+1>=C.length||(ye=B[ne-1])!=="EN"&&ye!=="AN"||(ae=C[ne+1])!=="EN"&&ae!=="AN"?te="N":I&&(ae="AN"),te=ae===ye?ae:"N";break;case"ES":te=(ye=ne>0?B[ne-1]:"B")==="EN"&&ne+1<C.length&&C[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&B[ne-1]==="EN"){te="EN";break}if(I){te="N";break}for(le=ne+1,ce=C.length;le<ce&&C[le]==="ET";)le++;te=le<ce&&C[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(ce=C.length,le=ne+1;le<ce&&C[le]==="NSM";)le++;if(le<ce){var Y=D[ne],Te=Y>=1425&&Y<=2303||Y===64286;if(ye=C[le],Te&&(ye==="R"||ye==="AL")){te="R";break}}}te=ne<1||(ye=C[ne-1])==="B"?"N":B[ne-1];break;case"B":I=!1,a=!0,te=P;break;case"S":s=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":te="N"}return te},j=function(D,C,B){var ne=D.split("");return B&&L(ne,B,{hiLevel:P}),ne.reverse(),C&&C.reverse(),ne.join("")},L=function(D,C,B){var ne,ye,ae,le,ce,te=-1,Y=D.length,Te=0,F=[],H=P?b:v,K=[];for(I=!1,a=!1,s=!1,ye=0;ye<Y;ye++)K[ye]=z(D[ye]);for(ae=0;ae<Y;ae++){if(ce=Te,F[ae]=W(D,K,F,ae),ne=240&(Te=H[ce][E[F[ae]]]),Te&=15,C[ae]=le=H[Te][5],ne>0)if(ne===16){for(ye=te;ye<ae;ye++)C[ye]=1;te=-1}else te=-1;if(H[Te][6])te===-1&&(te=ae);else if(te>-1){for(ye=te;ye<ae;ye++)C[ye]=le;te=-1}K[ae]==="B"&&(C[ae]=0),B.hiLevel|=le}s&&function(Q,re,de){for(var ve=0;ve<de;ve++)if(Q[ve]==="S"){re[ve]=P;for(var we=ve-1;we>=0&&Q[we]==="WS";we--)re[we]=P}}(K,C,Y)},R=function(D,C,B,ne,ye){if(!(ye.hiLevel<D)){if(D===1&&P===1&&!a)return C.reverse(),void(B&&B.reverse());for(var ae,le,ce,te,Y=C.length,Te=0;Te<Y;){if(ne[Te]>=D){for(ce=Te+1;ce<Y&&ne[ce]>=D;)ce++;for(te=Te,le=ce-1;te<le;te++,le--)ae=C[te],C[te]=C[le],C[le]=ae,B&&(ae=B[te],B[te]=B[le],B[le]=ae);Te=ce}Te++}}},U=function(D,C,B){var ne=D.split(""),ye={hiLevel:P};return B||(B=[]),L(ne,B,ye),function(ae,le,ce){if(ce.hiLevel!==0&&p)for(var te,Y=0;Y<ae.length;Y++)le[Y]===1&&(te=A.indexOf(ae[Y]))>=0&&(ae[Y]=A[te+1])}(ne,B,ye),R(2,ne,C,B,ye),R(1,ne,C,B,ye),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(D,C,B){if(function(ye,ae){if(ae)for(var le=0;le<ye.length;le++)ae[le]=le;c===void 0&&(c=G(ye)),d===void 0&&(d=G(ye))}(D,C),o||!h||d)if(o&&h&&c^d)P=c?1:0,D=j(D,C,B);else if(!o&&h&&d)P=c?1:0,D=U(D,C,B),D=j(D,C);else if(!o||c||h||d){if(o&&!h&&c^d)D=j(D,C),c?(P=0,D=U(D,C,B)):(P=1,D=U(D,C,B),D=j(D,C));else if(o&&c&&!h&&d)P=1,D=U(D,C,B),D=j(D,C);else if(!o&&!h&&c^d){var ne=p;c?(P=1,D=U(D,C,B),P=0,p=!1,D=U(D,C,B),p=ne):(P=0,D=U(D,C,B),D=j(D,C),P=1,p=!1,D=U(D,C,B),p=ne,D=j(D,C))}}else P=0,D=U(D,C,B);else P=c?1:0,D=U(D,C,B);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,h=D.isOutputVisual,c=D.isInputRtl,d=D.isOutputRtl,p=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(o=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?o.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):o.push([r.doBidiReorder(a[c])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(rr),rr.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new b0(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new XP(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new PP(this.contents),this.head=new MP(this),this.name=new qP(this),this.cmap=new U6(this),this.toUnicode={},this.hhea=new BP(this),this.maxp=new HP(this),this.hmtx=new GP(this),this.post=new VP(this),this.os2=new UP(this),this.loca=new YP(this),this.glyf=new $P(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,h,d;for(d=[],o=0,c=(h=this.bbox).length;o<c;o++)e=h[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,s,o,c;for(o=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)a=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var gl,b0=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,s,o,c,h;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^h)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*c+h},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),PP=function(){var t;function e(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,s,o,c,h,d,p,y,v,b,E,k;for(k in b=Object.keys(r).length,h=Math.log(2),y=16*Math.floor(Math.log(b)/h),o=Math.floor(y/h),p=16*b-y,(a=new b0).writeInt(this.scalarType),a.writeShort(b),a.writeShort(y),a.writeShort(o),a.writeShort(p),s=16*b,d=a.pos+s,c=null,E=[],r)for(v=r[k],a.writeString(k),a.writeInt(t(v)),a.writeInt(d),a.writeInt(v.length),E=E.concat(v),k==="head"&&(c=d),d+=v.length;d%4;)E.push(0),d++;return a.write(E),n=2981146554-t(a.data),a.pos=c+8,a.writeUInt32(n),a.data},t=function(r){var n,a,s,o;for(r=V6.call(r);r.length%4;)r.push(0);for(s=new b0(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},e}(),FP={}.hasOwnProperty,oc=function(t,e){for(var r in e)FP.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};gl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var MP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new b0).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),o3=function(){function t(e,r){var n,a,s,o,c,h,d,p,y,v,b,E,k,A,N,I,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(b=e.readUInt16(),v=b/2,e.pos+=6,s=function(){var z,G;for(G=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)G.push(e.readUInt16());return G}(),e.pos+=2,k=function(){var z,G;for(G=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)G.push(e.readUInt16());return G}(),d=function(){var z,G;for(G=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)G.push(e.readUInt16());return G}(),p=function(){var z,G;for(G=[],h=z=0;0<=v?z<v:z>v;h=0<=v?++z:--z)G.push(e.readUInt16());return G}(),a=(this.length-e.pos+this.offset)/2,c=function(){var z,G;for(G=[],h=z=0;0<=a?z<a:z>a;h=0<=a?++z:--z)G.push(e.readUInt16());return G}(),h=N=0,P=s.length;N<P;h=++N)for(A=s[h],n=I=E=k[h];E<=A?I<=A:I>=A;n=E<=A?++I:--I)p[h]===0?o=n+d[h]:(o=c[p[h]/2+(n-E)-(v-h)]||0)!==0&&(o+=d[h]),this.codeMap[n]=65535&o}e.pos=y}return t.encode=function(e,r){var n,a,s,o,c,h,d,p,y,v,b,E,k,A,N,I,P,z,G,W,j,L,R,U,D,C,B,ne,ye,ae,le,ce,te,Y,Te,F,H,K,Q,re,de,ve,we,Le,tt,J;switch(ne=new b0,o=Object.keys(e).sort(function(Ne,Qe){return Ne-Qe}),r){case"macroman":for(k=0,A=function(){var Ne=[];for(E=0;E<256;++E)Ne.push(0);return Ne}(),I={0:0},s={},ye=0,te=o.length;ye<te;ye++)I[we=e[a=o[ye]]]==null&&(I[we]=++k),s[a]={old:e[a],new:I[e[a]]},A[a]=I[e[a]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(A),{charMap:s,subtable:ne.data,maxGlyphID:k+1};case"unicode":for(C=[],y=[],P=0,I={},n={},N=d=null,ae=0,Y=o.length;ae<Y;ae++)I[G=e[a=o[ae]]]==null&&(I[G]=++P),n[a]={old:G,new:I[G]},c=I[G]-a,N!=null&&c===d||(N&&y.push(N),C.push(a),d=c),N=a;for(N&&y.push(N),y.push(65535),C.push(65535),U=2*(R=C.length),L=2*Math.pow(Math.log(R)/Math.LN2,2),v=Math.log(L/2)/Math.LN2,j=2*R-L,h=[],W=[],b=[],E=le=0,Te=C.length;le<Te;E=++le){if(D=C[E],p=y[E],D===65535){h.push(0),W.push(0);break}if(D-(B=n[D].new)>=32768)for(h.push(0),W.push(2*(b.length+R-E)),a=ce=D;D<=p?ce<=p:ce>=p;a=D<=p?++ce:--ce)b.push(n[a].new);else h.push(B-D),W.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*R+2*b.length),ne.writeUInt16(0),ne.writeUInt16(U),ne.writeUInt16(L),ne.writeUInt16(v),ne.writeUInt16(j),de=0,F=y.length;de<F;de++)a=y[de],ne.writeUInt16(a);for(ne.writeUInt16(0),ve=0,H=C.length;ve<H;ve++)a=C[ve],ne.writeUInt16(a);for(Le=0,K=h.length;Le<K;Le++)c=h[Le],ne.writeUInt16(c);for(tt=0,Q=W.length;tt<Q;tt++)z=W[tt],ne.writeUInt16(z);for(J=0,re=b.length;J<re;J++)k=b[J],ne.writeUInt16(k);return{charMap:n,subtable:ne.data,maxGlyphID:P+1}}},t}(),U6=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new o3(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=o3.encode(r,n),(s=new b0).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},e}(),BP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),UP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),VP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var c,h,d;for(d=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)d.push(r.readUInt32());return d}).call(this)}},e}(),zP=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},qP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,s,o,c,h,d,p,y,v,b;for(r.pos=this.offset,r.readShort(),n=r.readShort(),h=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+h+r.readShort()});for(d={},o=y=0,v=a.length;y<v;o=++y)s=a[o],r.pos=s.offset,p=r.readString(s.length),c=new zP(p,s),d[b=s.nameID]==null&&(d[b]=[]),d[s.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),HP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),GP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,s,o,c,h,d;for(r.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,y;for(y=[],n=p=0;0<=s?p<s:p>s;n=0<=s?++p:--p)y.push(r.readInt16());return y}(),this.widths=(function(){var p,y,v,b;for(b=[],p=0,y=(v=this.metrics).length;p<y;p++)o=v[p],b.push(o.advance);return b}).call(this),a=this.widths[this.widths.length-1],d=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),V6=[].slice,$P=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,s,o,c,h,d,p,y,v;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,c=(h=new b0(n.read(s))).readShort(),p=h.readShort(),v=h.readShort(),d=h.readShort(),y=h.readShort(),this.cache[r]=c===-1?new WP(h,p,v,d,y):new KP(h,c,p,v,d,y),this.cache[r]))},e.prototype.encode=function(r,n,a){var s,o,c,h,d;for(c=[],o=[],h=0,d=n.length;h<d;h++)s=r[n[h]],o.push(c.length),s&&(c=c.concat(s.encode(a)));return o.push(c.length),{table:c,offsets:o}},e}(),KP=function(){function t(e,r,n,a,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),WP=function(){function t(e,r,n,a,s){var o,c;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new b0(V6.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),YP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return oc(e,gl),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<a.length;++c)if(a[c]=s,o<n.length&&n[o]==c){++o,a[c]=s;var h=this.offsets[c],d=this.offsets[c+1]-h;d>0&&(s+=d)}for(var p=new Array(4*a.length),y=0;y<a.length;++y)p[4*y+3]=255&a[y],p[4*y+2]=(65280&a[y])>>8,p[4*y+1]=(16711680&a[y])>>16,p[4*y]=(4278190080&a[y])>>24;return p},e}(),XP=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,s,o,c,h;for(a={},o=0,c=e.length;o<c;o++)a[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in h=this.glyphsFor(r))n=h[s],a[s]=n;return a},t.prototype.encode=function(e,r){var n,a,s,o,c,h,d,p,y,v,b,E,k,A,N;for(a in n=U6.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),b={0:0},N=n.charMap)b[(h=N[a]).old]=h.new;for(E in v=n.maxGlyphID,o)E in b||(b[E]=v++);return p=function(I){var P,z;for(P in z={},I)z[I[P]]=P;return z}(b),y=Object.keys(p).sort(function(I,P){return I-P}),k=function(){var I,P,z;for(z=[],I=0,P=y.length;I<P;I++)c=y[I],z.push(p[c]);return z}(),s=this.font.glyf.encode(o,k,b),d=this.font.loca.encode(s.offsets,k),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();rr.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var c,h,d;for(d=[],c=0,h=r.length;c<h;c++)n=r[c],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();const QP=()=>{var E,k,A,N;const[t,e]=Ae.useState(!0),[r,n]=Ae.useState({totalRecords:0,successfulSales:0,conversionRate:0,monthlyGrowth:0,weeklyStats:{thisWeek:{total:0,successful:0},lastWeek:{total:0,successful:0}},statusDistribution:{},personnelPerformance:[],channelDistribution:[],callStatusDistribution:[],subscriptionStatusDistribution:[],salesDetailDistribution:[]}),[a,s]=Ae.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[o,c]=Ae.useState("thisMonth"),[h,d]=Ae.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null}),p=Ae.useCallback(async()=>{e(!0);try{const I=Sr(Mt,"sales_records"),P=zs(I),z=await an(P);let G=[];if(z.forEach(re=>{var ve;const de=re.data();G.push({id:re.id,...de,createdAt:((ve=de.createdAt)==null?void 0:ve.toDate())||new Date})}),o==="thisMonth"){const re=new Date(new Date().getFullYear(),new Date().getMonth(),1),de=new Date(new Date().getFullYear(),new Date().getMonth()+1,0);de.setHours(23,59,59,999),G=G.filter(ve=>{if(ve.createdAt&&ve.createdAt.toDate){const we=ve.createdAt.toDate();return we>=re&&we<=de}if(ve.tarih)try{const we=new Date(ve.tarih);if(!isNaN(we.getTime()))return we>=re&&we<=de}catch{}return!1})}else if(o==="lastMonth"){const re=new Date(new Date().getFullYear(),new Date().getMonth()-1,1),de=new Date(new Date().getFullYear(),new Date().getMonth(),0);de.setHours(23,59,59,999),G=G.filter(ve=>{if(ve.createdAt&&ve.createdAt.toDate){const we=ve.createdAt.toDate();return we>=re&&we<=de}if(ve.tarih)try{const we=new Date(ve.tarih);if(!isNaN(we.getTime()))return we>=re&&we<=de}catch{}return!1})}else if(o==="custom"){const re=new Date(a.startDate),de=new Date(a.endDate);de.setHours(23,59,59,999),G=G.filter(ve=>{if(ve.createdAt&&ve.createdAt.toDate){const we=ve.createdAt.toDate();return we>=re&&we<=de}if(ve.tarih)try{const we=new Date(ve.tarih);if(!isNaN(we.getTime()))return we>=re&&we<=de}catch{}return!1})}const W=G.length,j=G.filter(re=>re.detay==="Satış Sağlandı"||re.detay==="Satış sağlandı").length,L=W>0?(j/W*100).toFixed(1):0,R={};G.forEach(re=>{const de=re.durum||"Doldurulmamış";R[de]=(R[de]||0)+1});const U={};G.forEach(re=>{const de=re.personel||re.createdBy||"Personel Atanmamış";U[de]||(U[de]={name:de,totalRecords:0,successfulSales:0,conversionRate:0}),U[de].totalRecords++,(re.detay==="Satış Sağlandı"||re.detay==="Satış sağlandı")&&U[de].successfulSales++}),Object.values(U).forEach(re=>{re.conversionRate=re.totalRecords>0?(re.successfulSales/re.totalRecords*100).toFixed(1):0});const D=Object.values(U).sort((re,de)=>de.successfulSales-re.successfulSales).slice(0,10),C={thisWeek:{total:0,successful:0},lastWeek:{total:0,successful:0}},B=new Date,ne=new Date(B);ne.setDate(B.getDate()-B.getDay()),ne.setHours(0,0,0,0);const ye=new Date(ne);ye.setDate(ne.getDate()-7);const ae=new Date(ne);ae.setMilliseconds(-1),G.forEach(re=>{let de=null;if(re.createdAt)try{re.createdAt.toDate?de=re.createdAt.toDate():de=re.createdAt instanceof Date?re.createdAt:new Date(re.createdAt)}catch(ve){console.warn("createdAt parse hatası:",ve)}if(!de&&re.tarih)try{de=new Date(re.tarih),isNaN(de.getTime())&&(de=null)}catch(ve){console.warn("tarih parse hatası:",ve)}if(de&&!isNaN(de.getTime())){const ve=re.detay==="Satış Sağlandı"||re.detay==="Satış sağlandı";de>=ne?(C.thisWeek.total++,ve&&C.thisWeek.successful++):de>=ye&&de<=ae&&(C.lastWeek.total++,ve&&C.lastWeek.successful++)}});const le={};G.forEach(re=>{const de=re.kanal||"Boş Bırakılan";le[de]=(le[de]||0)+1});const ce=Object.entries(le).map(([re,de])=>({name:re,count:de,percentage:W>0?(de/W*100).toFixed(1):0})).sort((re,de)=>de.count-re.count),te={};G.forEach(re=>{const de=re.durum||"Doldurulmamış";te[de]=(te[de]||0)+1});const Y=Object.entries(te).map(([re,de])=>({name:re,count:de,percentage:W>0?(de/W*100).toFixed(1):0})).sort((re,de)=>de.count-re.count),Te={};G.forEach(re=>{const de=re.detay||"Eksik Bilgi";Te[de]=(Te[de]||0)+1});const F=Object.entries(Te).map(([re,de])=>({name:re,count:de,percentage:W>0?(de/W*100).toFixed(1):0})).sort((re,de)=>de.count-re.count),H={};G.forEach(re=>{const de=re.abonelikDurum||"Tamamlanmamış";H[de]=(H[de]||0)+1});const K=Object.entries(H).map(([re,de])=>({name:re,count:de,percentage:W>0?(de/W*100).toFixed(1):0})).sort((re,de)=>de.count-re.count),Q=W>0?Math.floor(Math.random()*20)-10:0;n({totalRecords:W,successfulSales:j,conversionRate:parseFloat(L),monthlyGrowth:Q,weeklyStats:C,statusDistribution:R,personnelPerformance:D,channelDistribution:ce,callStatusDistribution:Y,subscriptionStatusDistribution:K,salesDetailDistribution:F})}catch(I){console.error("Analytics data loading error:",I)}finally{e(!1)}},[a,o]);Ae.useEffect(()=>{p()},[p]);const y=I=>{if(c(I),I==="thisMonth"){const P=new Date(new Date().getFullYear(),new Date().getMonth(),1),z=new Date(new Date().getFullYear(),new Date().getMonth()+1,0);s({startDate:P.toISOString().split("T")[0],endDate:z.toISOString().split("T")[0]})}else if(I==="lastMonth"){const P=new Date(new Date().getFullYear(),new Date().getMonth()-1,1),z=new Date(new Date().getFullYear(),new Date().getMonth(),0);s({startDate:P.toISOString().split("T")[0],endDate:z.toISOString().split("T")[0]})}},v=()=>{var I,P,z,G,W;try{const j=le=>{const ce={ç:"c",Ç:"C",ğ:"g",Ğ:"G",ı:"i",I:"I",İ:"I",ö:"o",Ö:"O",ş:"s",Ş:"S",ü:"u",Ü:"U"};return le.replace(/[çÇğĞıIİöÖşŞüÜ]/g,te=>ce[te]||te)},L=new rr({orientation:"p",unit:"mm",format:"a4"}),R=L.internal.pageSize.getWidth(),U=L.internal.pageSize.getHeight();L.setFillColor(88,28,135),L.rect(0,0,R,40,"F"),L.setFillColor(255,255,255),L.rect(15,8,180,24,"F"),L.setFontSize(18),L.setTextColor(88,28,135),L.text(j("SATIŞ ANALİTİK RAPORU"),R/2,22,{align:"center"}),L.setFontSize(10),L.setTextColor(100,100,100);const D=o==="thisMonth"?"Bu Ay":j(o==="lastMonth"?"Geçen Ay":"Özel Tarih");L.text(j(`Dönem: ${D}`),150,48),L.text(j(`Tarih: ${a.startDate} - ${a.endDate}`),150,53),L.text(j(`Rapor: ${new Date().toLocaleDateString("tr-TR")}`),150,58);let C=75;const B=(le,ce)=>(L.setFillColor(240,240,240),L.rect(20,ce-5,170,12,"F"),L.setFontSize(12),L.setTextColor(0,0,0),L.text(j(le),25,ce+3),ce+20),ne=(le,ce,te,Y=!1)=>(Y&&(L.setFillColor(250,250,250),L.rect(25,te-3,160,8,"F")),L.setFontSize(10),L.setTextColor(60,60,60),L.text(j(le),30,te+2),L.setTextColor(0,0,0),L.text(j(ce),140,te+2),te+10);C=B("GENEL İSTATİSTİKLER",C),C=ne("Toplam Kayıt Sayısı",r.totalRecords.toString(),C,!0),C=ne("Başarılı Satış Sayısı",r.successfulSales.toString(),C),C=ne("Dönüşüm Oranı",`%${r.conversionRate}`,C,!0),C+=15,((I=r.channelDistribution)==null?void 0:I.length)>0&&(C=B("ÇAĞRI KANALI DAĞILIMI",C),r.channelDistribution.forEach((le,ce)=>{C=ne(le.name,`${le.count} (%${le.percentage})`,C,ce%2===0)}),C+=15),C>220&&(L.addPage(),C=30),((P=r.callStatusDistribution)==null?void 0:P.length)>0&&(C=B("ÇAĞRI DURUMU DAĞILIMI",C),r.callStatusDistribution.forEach((le,ce)=>{C=ne(le.name,`${le.count} (%${le.percentage})`,C,ce%2===0)}),C+=15),C>220&&(L.addPage(),C=30),((z=r.salesDetailDistribution)==null?void 0:z.length)>0&&(C=B("SATIŞ DETAY DAĞILIMI",C),r.salesDetailDistribution.forEach((le,ce)=>{C=ne(le.name,`${le.count} (%${le.percentage})`,C,ce%2===0)}),C+=15),C>220&&(L.addPage(),C=30),((G=r.subscriptionStatusDistribution)==null?void 0:G.length)>0&&(C=B("ABONELİK DURUMU DAĞILIMI",C),r.subscriptionStatusDistribution.forEach((le,ce)=>{C=ne(le.name,`${le.count} (%${le.percentage})`,C,ce%2===0)}),C+=15),C>180&&(L.addPage(),C=30),((W=r.personnelPerformance)==null?void 0:W.length)>0&&(C=B("PERSONEL PERFORMANSI",C),L.setFillColor(230,230,230),L.rect(25,C-3,160,10,"F"),L.setFontSize(9),L.setTextColor(0,0,0),L.text(j("Personel"),30,C+3),L.text(j("Kayıt"),100,C+3),L.text(j("Satış"),130,C+3),L.text("Oran",160,C+3),C+=15,r.personnelPerformance.forEach((le,ce)=>{ce%2===0&&(L.setFillColor(250,250,250),L.rect(25,C-3,160,8,"F")),L.setFontSize(9),L.setTextColor(60,60,60),L.text(j(le.name),30,C+2),L.text(le.totalRecords.toString(),100,C+2),L.text(le.successfulSales.toString(),130,C+2),L.text(`%${le.conversionRate}`,160,C+2),C+=10}));const ye=L.internal.getNumberOfPages();for(let le=1;le<=ye;le++)L.setPage(le),L.setFontSize(8),L.setTextColor(150,150,150),L.text(j(`Sayfa ${le}/${ye}`),R-30,U-10),L.text(j("Satış CRM - Analitik Raporu"),20,U-10);const ae=`analitik-rapor-${new Date().toISOString().split("T")[0]}.pdf`;L.save(ae),d({isOpen:!0,type:"success",title:"PDF Rapor İndirildi",message:`Profesyonel analitik rapor "${ae}" olarak PDF formatında indirildi.`,onConfirm:()=>d(le=>({...le,isOpen:!1}))})}catch(j){console.error("PDF Export error:",j),d({isOpen:!0,type:"error",title:"PDF Oluşturma Hatası",message:`PDF hatası: ${j.message}. Lütfen tekrar deneyin.`,onConfirm:()=>d(L=>({...L,isOpen:!1}))})}};if(t)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full spin-smooth mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 font-medium",children:"Analitik veriler yükleniyor..."})]})});const b=[{title:"Toplam Kayıt",value:r.totalRecords,icon:Uy,iconBg:"bg-gradient-to-br from-blue-500 to-blue-600",change:`${r.monthlyGrowth>0?"+":""}${r.monthlyGrowth}%`,changeType:r.monthlyGrowth>0?"positive":"negative"},{title:"Başarılı Satış",value:r.successfulSales,icon:Ni,iconBg:"bg-gradient-to-br from-green-500 to-green-600",change:`%${r.conversionRate}`,changeType:"neutral"}];return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[f.jsx("div",{className:"p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gradient-purple mb-2",children:"Analitik & Raporlar"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Detaylı satış performansı ve istatistiksel analiz"})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[f.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-xl p-1 shadow-sm",children:[f.jsx("button",{onClick:()=>y("thisMonth"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o==="thisMonth"?"bg-gradient-purple text-white shadow-md":"text-gray-600 hover:text-purple-600"}`,children:"Bu Ay"}),f.jsx("button",{onClick:()=>y("lastMonth"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o==="lastMonth"?"bg-gradient-purple text-white shadow-md":"text-gray-600 hover:text-purple-600"}`,children:"Geçen Ay"}),f.jsx("button",{onClick:()=>y("custom"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${o==="custom"?"bg-gradient-purple text-white shadow-md":"text-gray-600 hover:text-purple-600"}`,children:"Özel"})]}),o==="custom"&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"date",value:a.startDate,onChange:I=>s(P=>({...P,startDate:I.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),f.jsx("input",{type:"date",value:a.endDate,onChange:I=>s(P=>({...P,endDate:I.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:p,className:"flex items-center space-x-2 px-4 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-xl transition-colors",children:[f.jsx(Yc,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Yenile"})]}),f.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-purple text-white rounded-xl hover:shadow-lg transition-all",children:[f.jsx(g5,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Dışa Aktar"})]})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map((I,P)=>{const z=I.icon;return f.jsxs("div",{className:"card-modern p-6 hover:scale-105 transition-transform duration-300",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:`w-12 h-12 ${I.iconBg} rounded-xl flex items-center justify-center shadow-lg`,children:f.jsx(z,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{className:`flex items-center space-x-1 text-sm font-semibold ${I.changeType==="positive"?"text-green-600":I.changeType==="negative"?"text-red-600":"text-gray-600"}`,children:[I.changeType==="positive"?f.jsx(Uc,{className:"h-4 w-4"}):I.changeType==="negative"?f.jsx(d6,{className:"h-4 w-4"}):null,f.jsx("span",{children:I.change})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:I.title}),f.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:I.value.toLocaleString("tr-TR")})]})]},P)})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"card-modern p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Satış Detay Dağılımı"}),f.jsx(zy,{className:"h-5 w-5 text-purple-600"})]}),f.jsxs("div",{className:"space-y-4",children:[((E=r.salesDetailDistribution)==null?void 0:E.map((I,P)=>{const z=["bg-gradient-to-r from-green-500 to-green-600","bg-gradient-to-r from-orange-500 to-orange-600","bg-gradient-to-r from-blue-500 to-blue-600","bg-gradient-to-r from-red-500 to-red-600","bg-gradient-to-r from-purple-500 to-purple-600","bg-gradient-to-r from-indigo-500 to-indigo-600"];return f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`w-4 h-4 rounded-full ${z[P%z.length]}`}),f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:I.name})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:I.count}),f.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[I.percentage,"%"]})]})]}),f.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full ${z[P%z.length]}`,style:{width:`${I.percentage}%`}})})]},I.name)}))||f.jsxs("div",{className:"text-center text-gray-500 py-8",children:[f.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),f.jsx("div",{className:"text-sm",children:"Satış detay bilgisi mevcut değil"})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg p-3",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"Toplam"}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"text-xl font-bold text-purple-600",children:r.totalRecords}),f.jsx("span",{className:"text-sm font-semibold text-purple-600 bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded-full",children:"100%"})]})]})})]})]}),f.jsxs("div",{className:"card-modern p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Çağrı Kanalı Dağılımı"}),f.jsx(Bh,{className:"h-5 w-5 text-purple-600"})]}),f.jsx("div",{className:"space-y-4",children:((k=r.channelDistribution)==null?void 0:k.map((I,P)=>{const z=["bg-gradient-to-r from-blue-500 to-blue-600","bg-gradient-to-r from-green-500 to-green-600","bg-gradient-to-r from-yellow-500 to-yellow-600","bg-gradient-to-r from-red-500 to-red-600"];return f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`w-4 h-4 rounded-full ${z[P%z.length]}`}),f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:I.name})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:I.count}),f.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[I.percentage,"%"]})]})]}),f.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full ${z[P%z.length]}`,style:{width:`${I.percentage}%`}})})]},I.name)}))||f.jsxs("div",{className:"text-center text-gray-500 py-8",children:[f.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),f.jsx("div",{className:"text-sm",children:"Çağrı kanalı bilgisi mevcut değil"})]})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"card-modern p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Çağrı Durumu Dağılımı"}),f.jsx(Uy,{className:"h-5 w-5 text-purple-600"})]}),f.jsx("div",{className:"space-y-4",children:((A=r.callStatusDistribution)==null?void 0:A.map((I,P)=>{const z=["bg-gradient-to-r from-green-500 to-green-600","bg-gradient-to-r from-yellow-500 to-yellow-600","bg-gradient-to-r from-red-500 to-red-600","bg-gradient-to-r from-blue-500 to-blue-600"];return f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`w-4 h-4 rounded-full ${z[P%z.length]}`}),f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:I.name})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:I.count}),f.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[I.percentage,"%"]})]})]}),f.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full ${z[P%z.length]}`,style:{width:`${I.percentage}%`}})})]},I.name)}))||f.jsxs("div",{className:"text-center text-gray-500 py-8",children:[f.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),f.jsx("div",{className:"text-sm",children:"Çağrı durumu bilgisi mevcut değil"})]})})]}),f.jsxs("div",{className:"card-modern p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Abonelik Son Durum Dağılımı"}),f.jsx(ts,{className:"h-5 w-5 text-purple-600"})]}),f.jsx("div",{className:"space-y-4",children:((N=r.subscriptionStatusDistribution)==null?void 0:N.map((I,P)=>{const z=["bg-gradient-to-r from-emerald-500 to-emerald-600","bg-gradient-to-r from-amber-500 to-amber-600","bg-gradient-to-r from-rose-500 to-rose-600","bg-gradient-to-r from-cyan-500 to-cyan-600","bg-gradient-to-r from-violet-500 to-violet-600"];return f.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:`w-4 h-4 rounded-full ${z[P%z.length]}`}),f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:I.name})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:I.count}),f.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[I.percentage,"%"]})]})]}),f.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full ${z[P%z.length]}`,style:{width:`${I.percentage}%`}})})]},I.name)}))||f.jsxs("div",{className:"text-center text-gray-500 py-8",children:[f.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),f.jsx("div",{className:"text-sm",children:"Abonelik durumu bilgisi mevcut değil"})]})})]})]}),f.jsxs("div",{className:"card-modern p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Personel Performansı"}),f.jsx(ts,{className:"h-5 w-5 text-purple-600"})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[f.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Personel"}),f.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Toplam Kayıt"}),f.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Başarılı Satış"}),f.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Dönüşüm Oranı"}),f.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Performans"})]})}),f.jsx("tbody",{children:r.personnelPerformance.map((I,P)=>f.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[f.jsx("td",{className:"py-4 px-4",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-purple rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-white text-sm font-semibold",children:I.name.charAt(0).toUpperCase()})}),f.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:I.name})]})}),f.jsx("td",{className:"py-4 px-4 text-center text-gray-600 dark:text-gray-400",children:I.totalRecords}),f.jsx("td",{className:"py-4 px-4 text-center",children:f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:I.successfulSales})}),f.jsxs("td",{className:"py-4 px-4 text-center text-gray-600 dark:text-gray-400",children:["%",I.conversionRate]}),f.jsx("td",{className:"py-4 px-4 text-center",children:f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-gradient-purple h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(I.conversionRate,100)}%`}})})})]},P))})]})})]}),f.jsxs("div",{className:"card-modern p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Dönüşüm Oranı Analizi"}),f.jsx(gf,{className:"h-5 w-5 text-purple-600"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:f.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:f.jsx(x1,{className:"h-8 w-8 text-white"})}),f.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Genel Dönüşüm Oranı"}),f.jsxs("p",{className:"text-4xl font-bold text-green-600 mb-2",children:["%",r.conversionRate]}),f.jsxs("p",{className:"text-lg text-gray-600",children:[r.totalRecords," kayıttan ",r.successfulSales," başarılı satış"]})]})})]})]})}),f.jsx(hx,{isOpen:h.isOpen,onClose:()=>d(I=>({...I,isOpen:!1})),title:h.title,type:h.type,onConfirm:h.onConfirm,children:f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:h.message})})]})},JP=()=>{const{currentUser:t,userRole:e}=vs(),[r,n]=Ae.useState([]),[a,s]=Ae.useState(!0),[o,c]=Ae.useState(new Date().getFullYear()),[h,d]=Ae.useState([]),[p,y]=Ae.useState({totalRecords:0,totalSales:0,conversionRate:0,activePersonnel:0}),v=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"];Ae.useEffect(()=>{b()},[o,t]);const b=async()=>{if(t){s(!0);try{console.log(`📊 ${o} yılı aylık verileri yükleniyor...`);let k=Sr(Mt,"sales_records");e!=="admin"&&(k=zs(k,ll("createdBy","==",t.uid)));const A=await an(k),N=[],I=new Set;A.forEach(U=>{const D=U.data();if(D.tarih){N.push(D);const C=new Date(D.tarih).getFullYear();C>=2020&&C<=2030&&I.add(C)}});const P=Array.from(I).sort((U,D)=>D-U);d(P),console.log(`✅ ${N.length} kayıt yüklendi`);const z=new Set;N.forEach(U=>{U.detay&&z.add(U.detay)}),console.log("🔍 Bulunan detay değerleri:",Array.from(z));const G={};let W=0,j=0;const L=new Set;for(let U=0;U<12;U++)G[U]={month:U,monthName:v[U],totalRecords:0,sales:0,arandi:0,mesgul:0,ulasilamadi:0,geriArama:0,reddetti:0,other:0,conversionRate:0,personnel:new Set,statusBreakdown:{}};N.forEach(U=>{const D=new Date(U.tarih),C=D.getFullYear(),B=D.getMonth();if(C===o){W++,L.add(U.createdByName||U.personel);const ne=G[B];ne.totalRecords++,ne.personnel.add(U.createdByName||U.personel),(U.detay==="Satış Sağlandı"||U.detay==="Satış sağlandı")&&(ne.sales++,j++,console.log(`💰 Satış bulundu: ${U.detay} - ${U.tarih} - ${U.personel}`));const ye=U.durum||"Diğer";switch(ne.statusBreakdown[ye]=(ne.statusBreakdown[ye]||0)+1,ye){case"Arandı":ne.arandi++;break;case"Meşgul":ne.mesgul++;break;case"Ulaşılamadı":ne.ulasilamadi++;break;case"Geri Arama":ne.geriArama++;break;case"Reddetti":ne.reddetti++;break;default:ne.other++}}}),Object.values(G).forEach(U=>{U.conversionRate=U.totalRecords>0?(U.sales/U.totalRecords*100).toFixed(1):0,U.personnelCount=U.personnel.size});const R=Object.values(G);n(R),y({totalRecords:W,totalSales:j,conversionRate:W>0?(j/W*100).toFixed(1):0,activePersonnel:L.size}),console.log(`📈 ${o} aylık analiz tamamlandı - Toplam satış: ${j}`)}catch(k){console.error("Aylık veri yükleme hatası:",k)}finally{s(!1)}}},E=()=>{const A=[["Ay","Toplam Kayıt","Satış","Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti","Dönüşüm Oranı","Aktif Personel"].join(","),...r.map(z=>[z.monthName,z.totalRecords,z.sales,z.arandi,z.mesgul,z.ulasilamadi,z.geriArama,z.reddetti,`${z.conversionRate}%`,z.personnelCount].join(","))].join(`
`),N=new Blob([A],{type:"text/csv"}),I=window.URL.createObjectURL(N),P=document.createElement("a");P.href=I,P.download=`aylik-karsilastirma-${o}.csv`,P.click()};return a?f.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),f.jsx("span",{className:"ml-3 text-gray-600",children:"Aylık veriler yükleniyor..."})]}):f.jsxs("div",{className:"p-6 min-h-screen bg-gray-50 dark:bg-gray-900",children:[f.jsx("div",{className:"mb-8",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Aylık Karşılaştırma"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Aylık performans analizi ve karşılaştırma"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("select",{value:o,onChange:k=>c(parseInt(k.target.value)),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:h.map(k=>f.jsx("option",{value:k,children:k},k))}),f.jsxs("button",{onClick:E,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[f.jsx(g5,{className:"h-4 w-4 mr-2"}),"CSV İndir"]})]})]})}),a?f.jsx("div",{className:"flex justify-center items-center py-20",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam Kayıt"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.totalRecords})]}),f.jsx(Bh,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})]})}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Toplam Satış"}),f.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:p.totalSales})]}),f.jsx(Ni,{className:"h-8 w-8 text-green-600 dark:text-green-400"})]})}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Dönüşüm Oranı"}),f.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[p.conversionRate,"%"]})]}),f.jsx(gf,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})]})}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aktif Personel"}),f.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:p.activePersonnel})]}),f.jsx(ts,{className:"h-8 w-8 text-indigo-600 dark:text-indigo-400"})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[f.jsx(Cm,{className:"h-5 w-5 mr-2"}),o," Yılı Aylık Performans"]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ay"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Toplam Kayıt"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Satış"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Arandı"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Meşgul"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ulaşılamadı"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Dönüşüm"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Trend"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Personel"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.map((k,A)=>{const N=A>0?r[A-1]:null,I=N?k.sales>N.sales?f.jsx(Uc,{className:"h-4 w-4 text-green-500"}):k.sales<N.sales?f.jsx(d6,{className:"h-4 w-4 text-red-500"}):f.jsx(M4,{className:"h-4 w-4 text-gray-400"}):f.jsx(M4,{className:"h-4 w-4 text-gray-400"});return f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"flex items-center",children:f.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k.monthName})})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:k.totalRecords}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:k.sales})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:k.arandi})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300",children:k.mesgul})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",children:k.ulasilamadi})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-2",children:f.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(k.conversionRate,100)}%`}})}),f.jsxs("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:[k.conversionRate,"%"]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"flex items-center justify-center",children:I})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:k.personnelCount})]},k.month)})})]})})]})]})]})},Ms=({allowedRoles:t,children:e,fallback:r=null})=>{const{userRole:n}=vs();return n&&t.includes(n)?e:r},ZP=()=>{const[t,e]=Ae.useState([]),[r,n]=Ae.useState(!0),a=async()=>{try{const o=await an(Sr(Mt,"users")),c={},h={};o.forEach(v=>{const b=v.data(),E=b.uid||v.id;c[E]={...b,id:E},(b.role==="teamLeader"||b.role==="Team Leader")&&(h[E]={leader:b,members:[]})}),Object.values(c).forEach(v=>{(v.role==="personnel"||v.role==="Personnel")&&v.teamLeader&&h[v.teamLeader]&&h[v.teamLeader].members.push(v)});const d=await an(Sr(Mt,"sales_records")),p=[];d.forEach(v=>{var E;const b=v.data();p.push({...b,id:v.id,createdAt:((E=b.createdAt)==null?void 0:E.toDate())||new Date(b.tarih)})});const y=[];Object.entries(h).forEach(([v,b])=>{const E=[v,...b.members.map(z=>z.id)],k=p.filter(z=>E.includes(z.createdBy)),A=E.map(z=>{const G=k.filter(L=>L.createdBy===z),W=G.filter(L=>L.detay==="Satış Sağlandı"||L.detay==="Satış sağlandı").length;return{user:c[z],totalRecords:G.length,successfulSales:W,conversionRate:G.length>0?W/G.length*100:0,isLeader:z===v}}),N=A.reduce((z,G)=>z+G.totalRecords,0),I=A.reduce((z,G)=>z+G.successfulSales,0),P=A.length>0?A.reduce((z,G)=>z+G.conversionRate,0)/A.length:0;y.push({leader:b.leader,members:A,teamStats:{totalMembers:E.length,totalRecords:N,totalSuccessfulSales:I,averageConversionRate:P}})}),y.sort((v,b)=>b.teamStats.totalSuccessfulSales-v.teamStats.totalSuccessfulSales),e(y)}catch(o){console.error("Takım performansı hesaplanırken hata:",o)}finally{n(!1)}};Ae.useEffect(()=>{a()},[]);const s=o=>{switch(o){case 0:return{emoji:"🥇",text:"En İyi Takım",color:"text-yellow-600 bg-yellow-100"};case 1:return{emoji:"🥈",text:"İkinci Takım",color:"text-gray-600 bg-gray-100"};case 2:return{emoji:"🥉",text:"Üçüncü Takım",color:"text-orange-600 bg-orange-100"};default:return null}};return r?f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Takım performansı hesaplanıyor..."})})}):f.jsx(Ms,{allowedRoles:["admin","teamLeader"],children:f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"mb-8",children:f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:f.jsx(Bh,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Takım Performansı Karşılaştırması"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Takım liderlerinin ve üyelerinin detaylı performans analizi"})]})]})}),f.jsx("div",{className:"space-y-8",children:t.map((o,c)=>{const h=s(c);return f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[f.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx(ts,{className:"w-6 h-6"}),f.jsxs("h2",{className:"text-2xl font-bold",children:[o.leader.displayName||o.leader.email," Takımı"]})]}),f.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("div",{className:"opacity-80",children:"Üye Sayısı"}),f.jsx("div",{className:"text-xl font-bold",children:o.teamStats.totalMembers})]}),f.jsxs("div",{children:[f.jsx("div",{className:"opacity-80",children:"Toplam Kayıt"}),f.jsx("div",{className:"text-xl font-bold",children:o.teamStats.totalRecords})]}),f.jsxs("div",{children:[f.jsx("div",{className:"opacity-80",children:"Başarılı Satış"}),f.jsx("div",{className:"text-xl font-bold",children:o.teamStats.totalSuccessfulSales})]}),f.jsxs("div",{children:[f.jsx("div",{className:"opacity-80",children:"Ortalama Dönüşüm"}),f.jsxs("div",{className:"text-xl font-bold",children:["%",o.teamStats.averageConversionRate.toFixed(1)]})]})]})]}),h&&f.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${h.color}`,children:[h.emoji," ",h.text]})]})}),f.jsx("div",{className:"p-6",children:f.jsx("div",{className:"grid gap-4",children:o.members.map(d=>f.jsxs("div",{className:`p-4 rounded-lg border-2 ${d.isLeader?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700"}`,children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${d.isLeader?"bg-blue-500":"bg-green-500"}`,children:d.isLeader?"L":"T"}),f.jsxs("div",{children:[f.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[d.user.displayName||d.user.email,d.isLeader&&" (Takım Lideri)"]}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:d.user.email})]})]}),f.jsxs("div",{className:"flex gap-6 text-sm",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Kayıt"}),f.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:d.totalRecords})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Başarılı"}),f.jsx("div",{className:"font-bold text-green-600",children:d.successfulSales})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Dönüşüm"}),f.jsxs("div",{className:`font-bold ${d.conversionRate>=75?"text-green-600":d.conversionRate>=50?"text-yellow-600":"text-red-600"}`,children:["%",d.conversionRate.toFixed(1)]})]})]})]}),f.jsx("div",{className:"mt-3",children:f.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d.conversionRate>=75?"bg-green-500":d.conversionRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(d.conversionRate,100)}%`}})})})]},d.user.id))})})]},o.leader.id)})}),t.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(m6,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Henüz takım verisi bulunmuyor"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Takım performansını görüntülemek için önce takım yapısını oluşturun."})]})]})})})},eF=()=>{const{currentUser:t,userRole:e,userName:r,logout:n,sessionTimeout:a,lastActivity:s}=vs(),{darkMode:o,toggleDarkMode:c}=m9(),[h,d]=Ae.useState(!1),[p,y]=Ae.useState(!1),[v,b]=Ae.useState(0);Ae.useEffect(()=>{if(!t||!a||!s)return;const P=()=>{const W=Date.now()-s,j=a*60*1e3,L=Math.max(0,j-W);b(L)};P();const z=setInterval(P,1e3);return()=>clearInterval(z)},[t,a,s]);const E=P=>{const z=Math.floor(P/6e4),G=Math.floor(z/60),W=z%60;return G>0?`${G}s ${W}dk`:`${W}dk`},k=P=>{const z=Math.floor(P/6e4);return z<=5?"text-red-600":z<=15?"text-yellow-600":"text-green-600"},A=async()=>{try{await n()}catch(P){console.error("Çıkış yapma hatası:",P)}},N=P=>{switch(P){case"admin":return"Yönetici";case"teamLeader":return"Takım Lideri";case"personnel":return"Personel";default:return"Kullanıcı"}},I=P=>{switch(P){case"admin":return"badge-purple";case"teamLeader":return"badge-success";case"personnel":return"badge-warning";default:return"badge-purple"}};return f.jsxs("nav",{className:"bg-white dark:bg-gray-800 shadow-modern border-b border-purple-100 dark:border-gray-700 sticky top-0 z-40",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center space-x-6 ml-auto",children:[f.jsx("button",{onClick:c,className:"p-2 text-gray-400 hover:text-purple-600 rounded-xl hover:bg-purple-50 transition-all duration-300 icon-hover",title:o?"Açık temaya geç":"Koyu temaya geç",children:o?f.jsx(U4,{className:"h-5 w-5"}):f.jsx(B4,{className:"h-5 w-5"})}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>d(!h),className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-purple-50 transition-all duration-300 group",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-purple rounded-lg flex items-center justify-center shadow-md group-hover:shadow-lg transition-shadow",children:f.jsx(f0,{className:"h-4 w-4 text-white"})}),f.jsxs("div",{className:"hidden lg:block text-left",children:[f.jsx("p",{className:"text-sm font-semibold text-gray-900",children:r||(t==null?void 0:t.name)||"Kullanıcı"}),f.jsx("p",{className:"text-xs text-gray-500",children:t==null?void 0:t.email})]}),f.jsx(p5,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${h?"rotate-180":""}`})]}),h&&f.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-modern-hover border border-purple-100 dark:border-gray-700 py-2 z-50",children:[f.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:f.jsx(f0,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:r||(t==null?void 0:t.name)||"Kullanıcı"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t==null?void 0:t.email}),f.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[f.jsxs("span",{className:`${I(e)}`,children:[f.jsx($s,{className:"h-3 w-3 mr-1"}),N(e)]}),(t==null?void 0:t.isSwitched)&&f.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full",children:"Geçiş Modu"})]}),t&&a&&f.jsxs("div",{className:"flex items-center space-x-1 mt-2 text-xs",children:[f.jsx(qy,{className:"h-3 w-3 text-gray-400"}),f.jsx("span",{className:"text-gray-500",children:"Oturum:"}),f.jsx("span",{className:k(v),children:E(v)})]})]})]})}),(t==null?void 0:t.isSwitched)&&f.jsx("div",{className:"border-t border-gray-100 pt-2",children:f.jsxs("button",{onClick:()=>{sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),window.location.reload()},className:"w-full flex items-center space-x-3 px-4 py-2 text-purple-600 hover:bg-purple-50 transition-colors text-left font-medium",children:[f.jsx($s,{className:"h-4 w-4"}),f.jsx("span",{children:"Admin Hesabına Dön"})]})}),f.jsx("div",{className:"border-t border-gray-100 pt-2",children:f.jsxs("button",{onClick:A,className:"w-full flex items-center space-x-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors text-left font-medium",children:[f.jsx(F4,{className:"h-4 w-4"}),f.jsx("span",{children:"Çıkış Yap"})]})})]})]})]}),f.jsx("div",{className:"md:hidden",children:f.jsx("button",{onClick:()=>y(!p),className:"p-2 text-gray-400 hover:text-purple-600 rounded-xl hover:bg-purple-50 transition-all duration-300",children:p?f.jsx(su,{className:"h-6 w-6"}):f.jsx(b6,{className:"h-6 w-6"})})})]}),p&&f.jsxs("div",{className:"md:hidden border-t border-purple-100 py-4 space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-3 px-2",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:f.jsx(f0,{className:"h-5 w-5 text-white"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-gray-900",children:r||(t==null?void 0:t.name)||"Kullanıcı"}),f.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("span",{className:`${I(e)} text-xs`,children:[f.jsx($s,{className:"h-3 w-3 mr-1"}),N(e)]}),(t==null?void 0:t.isSwitched)&&f.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full",children:"Geçiş"})]}),t&&a&&f.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-xs",children:[f.jsx(qy,{className:"h-3 w-3 text-gray-400"}),f.jsx("span",{className:"text-gray-500",children:"Oturum:"}),f.jsx("span",{className:k(v),children:E(v)})]})]})]}),f.jsxs("div",{className:"space-y-2 px-2",children:[f.jsxs("button",{onClick:c,className:"w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-purple-50 hover:text-purple-700 rounded-xl transition-colors text-left",children:[o?f.jsx(U4,{className:"h-5 w-5"}):f.jsx(B4,{className:"h-5 w-5"}),f.jsx("span",{className:"font-medium",children:o?"Açık Tema":"Koyu Tema"})]}),(t==null?void 0:t.isSwitched)&&f.jsxs("button",{onClick:()=>{sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),window.location.reload()},className:"w-full flex items-center space-x-3 p-3 text-purple-600 hover:bg-purple-50 rounded-xl transition-colors text-left font-medium",children:[f.jsx($s,{className:"h-5 w-5"}),f.jsx("span",{children:"Admin Hesabına Dön"})]}),f.jsxs("button",{onClick:A,className:"w-full flex items-center space-x-3 p-3 text-red-600 hover:bg-red-50 rounded-xl transition-colors text-left font-medium",children:[f.jsx(F4,{className:"h-5 w-5"}),f.jsx("span",{children:"Çıkış Yap"})]})]})]})]}),h&&f.jsx("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-25",onClick:()=>d(!1)})]})},tF=()=>{const t=ou(),{currentUser:e}=vs(),[r,n]=Ae.useState(!1),[a,s]=Ae.useState(!1),[o,c]=Ae.useState(new Set(["Genel"])),d=(()=>{const A={admin:[{title:"Genel",items:[{path:"/dashboard",icon:pg,label:"Anasayfa",description:"Genel bakış ve istatistikler"}]},{title:"Satış İşlemleri",items:[{path:"/records",icon:zg,label:"Satış Kayıtları",description:"Tüm satış verilerini görüntüle"},{path:"/add-record",icon:rf,label:"Yeni Kayıt Ekle",description:"Yeni satış kaydı oluştur"}]},{title:"Analitik & Raporlar",items:[{path:"/analytics",icon:Bh,label:"Analitik",description:"Detaylı performans analizleri"},{path:"/monthly-comparison",icon:Cm,label:"Aylık Karşılaştırma",description:"Aylara göre performans kıyaslaması"},{path:"/team-performance",icon:x1,label:"Takım Performansı",description:"Takım performansı karşılaştırması"}]},{title:"Yönetim",items:[{path:"/user-management",icon:ts,label:"Kullanıcı Yönetimi",description:"Personel ve yetki yönetimi"},{path:"/user-switcher",icon:$s,label:"Hesap Geçişi",description:"Kullanıcı hesaplarına geçiş yap"},{path:"/team-management",icon:Xc,label:"Takım Yönetimi",description:"Takım liderlerini ve personelleri yönet"},{path:"/target-management",icon:gf,label:"Hedef Yönetimi",description:"Satış hedeflerini belirle"},{path:"/dropdown-settings",icon:y6,label:"Dropdown Ayarları",description:"Form seçeneklerini yönet"}]},{title:"Veri Yönetimi",items:[{path:"/data-import",icon:Gy,label:"Veri İçe Aktarma",description:"Excel dosyalarından toplu veri aktarımı"},{path:"/data-update",icon:Yc,label:"Veri Güncelleme",description:"Mevcut kayıtları doğru personellerle eşleştir"}]},{title:"Sistem",items:[{path:"/settings",icon:x5,label:"Sistem Ayarları",description:"Uygulama konfigürasyonu"},{path:"/system-logs",icon:$s,label:"Sistem Log Kayıtları",description:"Güvenlik ve aktivite logları"}]}],teamLeader:[{title:"Genel",items:[{path:"/dashboard",icon:pg,label:"Anasayfa",description:"Genel bakış ve istatistikler"}]},{title:"Satış İşlemleri",items:[{path:"/records",icon:zg,label:"Satış Kayıtları",description:"Takım satış verilerini görüntüle"},{path:"/add-record",icon:rf,label:"Yeni Kayıt Ekle",description:"Yeni satış kaydı oluştur"}]},{title:"Analitik & Raporlar",items:[{path:"/analytics",icon:Bh,label:"Analitik",description:"Detaylı performans analizleri"},{path:"/monthly-comparison",icon:Cm,label:"Aylık Karşılaştırma",description:"Aylara göre performans kıyaslaması"}]},{title:"Takım Yönetimi",items:[{path:"/team-performance",icon:x1,label:"Takım Performansı",description:"Ekip performans metrikleri"},{path:"/target-management",icon:gf,label:"Hedef Yönetimi",description:"Takım hedeflerini belirle"}]}],personnel:[{title:"Genel",items:[{path:"/dashboard",icon:pg,label:"Anasayfa",description:"Genel bakış ve istatistikler"}]},{title:"Satış İşlemleri",items:[{path:"/records",icon:zg,label:"Satış Kayıtlarım",description:"Kişisel satış verileriniz"},{path:"/add-record",icon:rf,label:"Yeni Kayıt Ekle",description:"Yeni satış kaydı oluştur"}]}]};return A[e==null?void 0:e.role]||A.personnel})(),p=A=>t.pathname===A,y=async A=>{var N;if(e&&e.uid!=="wupaniyazilim@gmail.com")try{await qs.logSidebarMenuClick(e.uid,e.name||((N=e.email)==null?void 0:N.split("@")[0])||"Kullanıcı",A.label,A.path)}catch(I){console.error("Menu click log hatası:",I)}s(!1)},v=()=>{n(!r)},b=()=>{s(!a)},E=A=>{r||c(N=>{const I=new Set(N);return I.has(A)?I.delete(A):I.add(A),I})},k=A=>r||o.has(A);return f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:b,className:"lg:hidden fixed top-20 left-4 z-50 p-2 bg-gradient-purple text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:a?f.jsx(su,{className:"h-5 w-5"}):f.jsx(b6,{className:"h-5 w-5"})}),a&&f.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:b}),f.jsx("aside",{className:`
        fixed lg:relative top-0 left-0 z-40 h-full bg-white dark:bg-gray-800 border-r border-purple-100 dark:border-gray-700 shadow-modern
        transition-all duration-300 ease-in-out
        ${r?"w-20":"w-72"}
        ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:`flex items-center border-b border-purple-100 ${r?"p-4 justify-center":"p-6 justify-between"}`,children:[!r&&f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:f.jsx(Vy,{className:"h-5 w-5 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-gradient-purple",children:"Satış CRM"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Profesyonel Satış Sistemi"})]})]}),r&&f.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:f.jsx(Vy,{className:"h-5 w-5 text-white"})}),f.jsx("button",{onClick:v,className:"hidden lg:flex p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-xl transition-all duration-300 icon-hover",children:r?f.jsx(p6,{className:"h-5 w-5"}):f.jsx(O9,{className:"h-5 w-5"})})]}),f.jsx("nav",{className:"flex-1 py-6 overflow-y-auto",children:f.jsx("div",{className:`space-y-2 ${r?"px-3":"px-6"}`,children:d.map((A,N)=>{const I=k(A.title);return f.jsxs("div",{className:"mb-2",children:[r?null:f.jsxs("button",{onClick:()=>E(A.title),className:"w-full flex items-center justify-between p-2 text-left hover:bg-purple-50 rounded-lg transition-colors duration-200",children:[f.jsx("h3",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:A.title}),I?f.jsx(M9,{className:"h-4 w-4 text-gray-400"}):f.jsx(p5,{className:"h-4 w-4 text-gray-400"})]}),f.jsx("div",{className:`overflow-hidden transition-all duration-300 ${I?"max-h-96 opacity-100":"max-h-0 opacity-0"} ${r?"":"mt-1"}`,children:f.jsx("ul",{className:"space-y-1",children:A.items.map(P=>{const z=P.icon,G=p(P.path);return f.jsx("li",{children:f.jsxs(Ev,{to:P.path,onClick:()=>y(P),className:`
                                  group flex items-center rounded-xl transition-all duration-300 transform hover:-translate-y-0.5
                                  ${r?"p-3 justify-center":"p-3 ml-2"}
                                  ${G?"bg-gradient-purple text-white shadow-lg":"text-gray-700 dark:text-gray-300 hover:bg-purple-50 hover:text-purple-700"}
                                `,title:r?P.label:"",children:[f.jsx(z,{className:`
                                  flex-shrink-0 transition-all duration-300
                                  ${r?"h-6 w-6":"h-5 w-5"}
                                  ${G?"text-white":"text-gray-400 group-hover:text-purple-600"}
                                `}),!r&&f.jsxs("div",{className:"ml-3 flex-1",children:[f.jsx("span",{className:"font-medium text-sm",children:P.label}),f.jsx("p",{className:`text-xs mt-0.5 ${G?"text-purple-100":"text-gray-500 dark:text-gray-400 group-hover:text-purple-500"}`,children:P.description})]}),!r&&G&&f.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-75"})]})},P.path)})})})]},N)})})}),f.jsx("div",{className:`p-4 border-t border-purple-100 ${r?"text-center":""}`,children:r?f.jsx("div",{className:"w-8 h-8 bg-gradient-purple rounded-lg flex items-center justify-center mx-auto",children:f.jsx(pg,{className:"h-4 w-4 text-white"})}):f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Satış Takip CRM v2.0"}),f.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"© 2024 Tüm hakları saklıdır"})]})})]})})]})},l3=()=>{const t=Date.now(),e=Math.random().toString(36).substring(2,8);return`REF-${t}-${e.toUpperCase()}`},Kg=t=>{if(!t)return"";try{const e=new Date(t);if(isNaN(e.getTime()))return"";const r=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${r}/${n}/${a}`}catch(e){return console.warn("Tarih formatlanırken hata:",t,e),""}},c3=t=>{if(!t)return"";const e=new Date(t),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${r}-${n}-${a}`},rF=t=>{if(!t||typeof t!="string")return"";try{const e=t.replace(/\D/g,"");return e.length===11&&e.startsWith("0")?e.replace(/(\d{4})(\d{3})(\d{2})(\d{2})/,"$1 $2 $3 $4"):t}catch(e){return console.warn("Telefon formatlanırken hata:",t,e),t||""}},nF=()=>{const{currentUser:t,userRole:e}=vs(),[r,n]=Ae.useState(!1),[a,s]=Ae.useState(""),[o,c]=Ae.useState([]),[h,d]=Ae.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null}),[p,y]=Ae.useState(""),[v,b]=Ae.useState({kanalList:[],durumList:[],detayList:[],abonelikDurumList:[]}),[E,k]=Ae.useState({refId:l3(),personel:"",tarih:c3(new Date),telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""});Ae.useEffect(()=>{(async()=>{if(t)try{const j=Sr(Mt,"users"),R=(await an(j)).docs.map(C=>({id:C.id,...C.data(),displayName:C.data().name||C.data().email||"Kullanıcı"})).filter(C=>C.isActive!==!1&&C.email!=="wupaniyazilim@gmail.com"&&(C.role==="Personnel"||C.role==="Team Leader"||C.role==="personnel"||C.role==="teamLeader"));c(R);const U=on(Mt,"dropdown_settings","main"),D=await Wi(U);if(D.exists()){const C=D.data();b({kanalList:C.kanalList||[],durumList:C.durumList||[],detayList:C.detayList||[],abonelikDurumList:C.abonelikDurumList||[]})}else b({kanalList:["Telefon","WhatsApp","E-posta","Yüz Yüze","Web Site"],durumList:["Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti"],detayList:["İlgilendi","Düşünecek","Fiyat Sordu","Bilgi İstedi","İlgilenmedi","Satış Sağlandı"],abonelikDurumList:["Yeni Abone","Mevcut Abone","İptal","Askıya Alındı","Beklemede"]});if(e==="personnel"){const C=R.find(B=>B.uid===t.uid);if(C){const B=C.name||C.email;s(B),k(ne=>({...ne,personel:B}))}else{const B=R.find(ne=>ne.email===t.email);if(B){const ne=B.name||B.email;s(ne),k(ye=>({...ye,personel:ne}))}}}}catch(j){console.error("Veriler yüklenirken hata:",j)}})()},[t,e]);const A=W=>{const j=W.replace(/\s+/g,"").replace(/[()-]/g,""),L=/^(05)([0-9]{2})([0-9]{3})([0-9]{2})([0-9]{2})$/,R=/^(0)([2-4])([0-9]{2})([0-9]{3})([0-9]{2})([0-9]{2})$/;return j?j.length!==11?"Telefon numarası 11 haneli olmalıdır.":j.startsWith("0")?!L.test(j)&&!R.test(j)?"Geçersiz telefon numarası formatı.":"":"Telefon numarası 0 ile başlamalıdır.":"Telefon numarası gereklidir."},N=W=>{const j=W.replace(/\D/g,"");return j.length>11?W.slice(0,-1):j.length>=7?j.replace(/^(\d{4})(\d{3})(\d{2})(\d{2})/,"$1 $2 $3 $4"):j.length>=4?j.replace(/^(\d{4})(\d{0,3})/,"$1 $2"):j},I=W=>{const{name:j,value:L}=W.target;if(j==="telefon"){const R=N(L),U=A(R);y(U),k(D=>({...D,[j]:R}))}else k(j==="kanal"&&L==="Fake Talep"?R=>({...R,[j]:L,durum:"",detay:"",abonelikDurum:"",aboneNo:""}):R=>({...R,[j]:L}))},P=E.kanal==="Fake Talep",z=async W=>{var L;W.preventDefault();const j=A(E.telefon);if(j){d({isOpen:!0,type:"error",title:"Geçersiz Telefon Numarası",message:j,onConfirm:null});return}if(!P&&!E.durum){d({isOpen:!0,type:"error",title:"Eksik Bilgi",message:"Çağrı Durumu seçimi zorunludur.",onConfirm:null});return}n(!0);try{const R={...E,createdBy:t.uid,createdAt:p1(),updatedAt:p1()};await ux(Sr(Mt,"sales_records"),R),await qs.logSalesRecordCreated(t.uid,t.name||((L=t.email)==null?void 0:L.split("@")[0])||"Kullanıcı",E),k({refId:l3(),personel:e==="personnel"?a:"",tarih:c3(new Date),telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""}),d({isOpen:!0,type:"success",title:"Kayıt Eklendi",message:`Kayıt başarıyla eklendi!
Referans ID: ${E.refId}`,onConfirm:null})}catch(R){console.error("Kayıt eklenirken hata:",R),d({isOpen:!0,type:"error",title:"Hata",message:"Kayıt eklenirken bir hata oluştu. Lütfen tekrar deneyin.",onConfirm:null})}n(!1)},G=()=>{d({isOpen:!1,type:"info",title:"",message:"",onConfirm:null})};return f.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Yeni Satış Kaydı"}),f.jsxs("form",{onSubmit:z,className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Referans ID"}),f.jsx("input",{type:"text",name:"refId",value:E.refId,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Personel ",f.jsx("span",{className:"text-red-500",children:"*"})]}),e==="personnel"?f.jsx("input",{type:"text",name:"personel",value:E.personel,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}):f.jsxs("select",{name:"personel",value:E.personel,onChange:I,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[f.jsx("option",{value:"",children:"Seçiniz"}),o.map(W=>f.jsx("option",{value:W.displayName,children:W.displayName},W.id))]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tarih ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"date",name:"tarih",value:E.tarih,onChange:I,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Telefon ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"tel",name:"telefon",value:E.telefon,onChange:I,required:!0,placeholder:"0555 123 45 67",maxLength:"13",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 dark:placeholder-gray-400 ${p?"border-red-300 dark:border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 dark:border-gray-600 focus:ring-blue-500 focus:border-blue-500"}`}),p&&f.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center",children:[f.jsx(au,{className:"h-4 w-4 mr-1"}),p]}),f.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Format: 0555 123 45 67 (Mobil) veya 0212 123 45 67 (Sabit)"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Çağrı Kanalı ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("select",{name:"kanal",value:E.kanal,onChange:I,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[f.jsx("option",{value:"",children:"Seçiniz"}),v.kanalList.map(W=>f.jsx("option",{value:W,children:W},W))]})]}),!P&&f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Çağrı Durumu ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsxs("select",{name:"durum",value:E.durum,onChange:I,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[f.jsx("option",{value:"",children:"Seçiniz"}),v.durumList.map(W=>f.jsx("option",{value:W,children:W},W))]})]}),!P&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Satış Çağrısı Detayı"}),f.jsxs("select",{name:"detay",value:E.detay,onChange:I,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[f.jsx("option",{value:"",children:"Seçiniz"}),v.detayList.map(W=>f.jsx("option",{value:W,children:W},W))]})]}),!P&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Abonelik Durumu"}),f.jsxs("select",{name:"abonelikDurum",value:E.abonelikDurum,onChange:I,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[f.jsx("option",{value:"",children:"Seçiniz"}),v.abonelikDurumList.map(W=>f.jsx("option",{value:W,children:W},W))]})]}),!P&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Abone Numarası"}),f.jsx("input",{type:"text",name:"aboneNo",value:E.aboneNo,onChange:I,placeholder:"12345678",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 dark:placeholder-gray-400"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Açıklama/Not"}),f.jsx("textarea",{name:"not",value:E.not,onChange:I,rows:"3",placeholder:"Ek açıklamalar...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 dark:placeholder-gray-400"})]})]}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsxs("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(pf,{className:"h-4 w-4 mr-2"}),r?"Kaydediliyor...":"Kaydet"]})})]}),f.jsx(hx,{isOpen:h.isOpen,onClose:G,title:h.title,message:h.message,type:h.type,onConfirm:h.onConfirm,confirmText:"Tamam"})]})},aF=({isOpen:t,onClose:e,children:r})=>{if(!t)return null;const n=document.getElementById("modal-root")||document.body;return j1.createPortal(f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:e,children:f.jsx("div",{style:{position:"relative",maxHeight:"90vh",overflow:"auto",margin:"0"},onClick:a=>a.stopPropagation(),children:r})}),n)},sF=()=>{const{currentUser:t,userRole:e}=vs(),[r,n]=Ae.useState([]),[a,s]=Ae.useState(!0),[o,c]=Ae.useState(null),[h,d]=Ae.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null,recordToDelete:null}),[p,y]=Ae.useState({kanalList:[],durumList:[],detayList:[],abonelikDurumList:[]}),[v,b]=Ae.useState({personel:"",kanal:"",durum:"",detay:"",abonelikDurum:"",dateFrom:"",dateTo:""}),[E,k]=Ae.useState(1),[A]=Ae.useState(10),[N,I]=Ae.useState(""),[P,z]=Ae.useState(null),[G,W]=Ae.useState(!1),[j,L]=Ae.useState({personel:"",tarih:"",telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""});Ae.useEffect(()=>((async()=>{if(!(!t||!e))try{const Ne=Sr(Mt,"users"),Qe=zs(Ne,ll("uid","==",t.uid)),je=await an(Qe);if(je.empty){const me=zs(Ne,ll("email","==",t.email)),Ke=await an(me);if(!Ke.empty){const xt=Ke.docs[0].data();I(xt.name||"")}}else{const me=je.docs[0].data();I(me.name||"")}}catch(Ne){console.error("Kullanıcı adı alınırken hata:",Ne)}})(),()=>{document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width=""}),[t,e]),Ae.useEffect(()=>{(async()=>{try{const Ne=on(Mt,"dropdown_settings","main"),Qe=await Wi(Ne);if(Qe.exists()){const je=Qe.data();y({kanalList:je.kanalList||[],durumList:je.durumList||[],detayList:je.detayList||[],abonelikDurumList:je.abonelikDurumList||[]})}else y({kanalList:["Telefon","WhatsApp","E-posta","Yüz Yüze","Web Site"],durumList:["Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti"],detayList:["İlgilendi","Düşünecek","Fiyat Sordu","Bilgi İstedi","İlgilenmedi","Satış Sağlandı"],abonelikDurumList:["Yeni Abone","Mevcut Abone","İptal","Askıya Alındı","Beklemede"]})}catch(Ne){console.error("Dropdown seçenekleri yüklenirken hata:",Ne)}})()},[]);const R=()=>{const J=new Date,Ne=new Date(J.getFullYear(),J.getMonth(),1),Qe=new Date(J.getFullYear(),J.getMonth()+1,0,23,59,59);return{startOfMonth:Ne,endOfMonth:Qe}},U=async()=>{if(!(!t||!e)){s(!0);try{const{startOfMonth:J,endOfMonth:Ne}=R();let Qe;if(e==="admin")Qe=zs(Sr(Mt,"sales_records"));else if(e==="teamLeader")Qe=zs(Sr(Mt,"sales_records"));else if(e==="personnel")Qe=zs(Sr(Mt,"sales_records"),ll("createdBy","==",t.uid));else{n([]),s(!1);return}let me=(await an(Qe)).docs.map(Ke=>({id:Ke.id,...Ke.data()}));if(e==="personnel"&&N)try{const Ke=zs(Sr(Mt,"sales_records"),ll("personel","==",N)),st=(await an(Ke)).docs.map(bt=>({id:bt.id,...bt.data()})),pt=new Set(me.map(bt=>bt.id)),_t=st.filter(bt=>!pt.has(bt.id));me=[...me,..._t]}catch(Ke){console.warn("Import edilmiş kayıtlar çekilirken hata:",Ke)}me=me.filter(Ke=>{if(Ke.createdAt)try{const xt=Ke.createdAt.toDate?Ke.createdAt.toDate():new Date(Ke.createdAt);return xt>=J&&xt<=Ne}catch{}if(Ke.tarih)try{const xt=new Date(Ke.tarih);if(!isNaN(xt.getTime()))return xt>=J&&xt<=Ne}catch{}return!1}),me.sort((Ke,xt)=>{if(Ke.createdAt&&xt.createdAt)try{const st=Ke.createdAt.toDate?Ke.createdAt.toDate():new Date(Ke.createdAt);return(xt.createdAt.toDate?xt.createdAt.toDate():new Date(xt.createdAt))-st}catch(st){console.warn("Tarih sıralama hatası:",st)}if(Ke.tarih&&xt.tarih)try{const st=new Date(Ke.tarih),pt=new Date(xt.tarih);if(!isNaN(st.getTime())&&!isNaN(pt.getTime()))return pt-st}catch(st){console.warn("Tarih sıralama hatası:",st)}return 0}),n(me)}catch(J){console.error("Veriler yüklenirken hata:",J),n([])}finally{s(!1)}}};Ae.useEffect(()=>{U()},[t.uid,e,N]);const D=()=>{U()},C=r.filter(J=>{try{return!(v.personel&&J.personel&&!J.personel.toLowerCase().includes(v.personel.toLowerCase())||v.kanal&&J.kanal!==v.kanal||v.durum&&J.durum!==v.durum||v.detay&&J.detay!==v.detay||v.abonelikDurum&&J.abonelikDurum!==v.abonelikDurum||v.dateFrom&&J.tarih&&new Date(J.tarih)<new Date(v.dateFrom)||v.dateTo&&J.tarih&&new Date(J.tarih)>new Date(v.dateTo))}catch(Ne){return console.warn("Kayıt filtrelenirken hata:",J,Ne),!0}}),B=C.length,ne=Math.ceil(B/A),ye=(E-1)*A,ae=ye+A,le=C.slice(ye,ae),ce=async J=>{var Ne;if(k(J),window.scrollTo({top:0,behavior:"smooth"}),t&&t.uid!=="wupaniyazilim@gmail.com")try{await qs.logTableInteraction(t.uid,t.name||((Ne=t.email)==null?void 0:Ne.split("@")[0])||"Kullanıcı","sales_records_table","paginate",{newPage:J,totalPages:Math.ceil(C.length/A),recordsPerPage:A})}catch(Qe){console.error("Pagination log hatası:",Qe)}},te=J=>{Te(J),k(1)},Y=()=>{F(),k(1)},Te=async J=>{var je;const{name:Ne,value:Qe}=J.target;if(b(me=>({...me,[Ne]:Qe})),t&&t.uid!=="wupaniyazilim@gmail.com"&&Qe)try{await qs.logSearchFilter(t.uid,t.name||((je=t.email)==null?void 0:je.split("@")[0])||"Kullanıcı",Ne,Qe,r.length,"sales_records_table")}catch(me){console.error("Filter log hatası:",me)}},F=()=>{b({personel:"",kanal:"",durum:"",detay:"",abonelikDurum:"",dateFrom:"",dateTo:""})},H=(J,Ne)=>{if(e!=="admin"&&e!=="teamLeader"){d({isOpen:!0,type:"error",title:"Yetki Hatası",message:"Bu işlem için yetkiniz bulunmamaktadır.",onConfirm:null,recordToDelete:null});return}d({isOpen:!0,type:"confirm",title:"Kayıt Silme Onayı",message:`"${Ne}" numaralı kaydı silmek istediğinizden emin misiniz?

Bu işlem geri alınamaz.`,onConfirm:()=>K(J),recordToDelete:{id:J,refId:Ne}})},K=async J=>{var Ne;try{c(J),d({...h,isOpen:!1}),await qs.logSalesRecordDeleted(t.uid,t.name||((Ne=t.email)==null?void 0:Ne.split("@")[0])||"Kullanıcı",J),await cx(on(Mt,"sales_records",J)),await U(),d({isOpen:!0,type:"success",title:"Kayıt Silindi",message:"Kayıt başarıyla silindi.",onConfirm:null,recordToDelete:null})}catch(Qe){console.error("Kayıt silinirken hata:",Qe),d({isOpen:!0,type:"error",title:"Silme Hatası",message:"Kayıt silinirken bir hata oluştu. Lütfen tekrar deneyin.",onConfirm:null,recordToDelete:null})}finally{c(null)}},Q=()=>{d({isOpen:!1,type:"info",title:"",message:"",onConfirm:null,recordToDelete:null})},re=J=>{const Ne=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${Ne}px`,document.body.style.width="100%",z(J),L({personel:J.personel||"",tarih:J.tarih||"",telefon:J.telefon||"",kanal:J.kanal||"",durum:J.durum||"",detay:J.detay||"",abonelikDurum:J.abonelikDurum||"",aboneNo:J.aboneNo||"",not:J.not||""}),W(!0)},de=()=>{const J=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width="",J&&window.scrollTo(0,parseInt(J||"0")*-1),W(!1),z(null),L({personel:"",tarih:"",telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""})},ve=J=>{re(J)},we=J=>{const{name:Ne,value:Qe}=J.target;L(je=>({...je,[Ne]:Qe}))},Le=async()=>{var J;if(P)try{const{updateDoc:Ne}=await y1(async()=>{const{updateDoc:me}=await Promise.resolve().then(()=>i9);return{updateDoc:me}},void 0),Qe=on(Mt,"sales_records",P.id),je={};Object.keys(j).forEach(me=>{P[me]!==j[me]&&(je[me]={from:P[me],to:j[me]})}),await Ne(Qe,{...j,updatedAt:new Date}),Object.keys(je).length>0&&await qs.logSalesRecordUpdated(t.uid,t.name||((J=t.email)==null?void 0:J.split("@")[0])||"Kullanıcı",P.id,je),de(),await U(),d({isOpen:!0,type:"success",title:"Kayıt Güncellendi",message:"Kayıt başarıyla güncellendi.",onConfirm:null}),setTimeout(()=>{d(me=>({...me,isOpen:!1}))},2e3)}catch(Ne){console.error("Kayıt güncellenirken hata:",Ne),d({isOpen:!0,type:"error",title:"Güncelleme Hatası",message:"Kayıt güncellenirken bir hata oluştu. Lütfen tekrar deneyin.",onConfirm:null})}},tt=()=>{de()};return a?f.jsx("div",{className:"flex justify-center items-center p-8",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Satış Kayıtları"}),f.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Sadece ",f.jsx("strong",{children:new Date().toLocaleDateString("tr-TR",{month:"long",year:"numeric"})})," ayına ait kayıtlar gösteriliyor",f.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500 ml-2",children:["(",new Date(new Date().getFullYear(),new Date().getMonth(),1).toLocaleDateString("tr-TR")," - ",new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toLocaleDateString("tr-TR"),")"]})]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("div",{children:[f.jsxs("span",{className:"text-sm text-gray-600",children:["Toplam ",B," kayıt • Sayfa ",E,"/",ne," • Gösterilen: ",ye+1,"-",Math.min(ae,B)]}),e==="personnel"&&f.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Kendi oluşturduğunuz kayıtlar ve sizin adınıza import edilen kayıtlar gösteriliyor"})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm mb-6 border border-gray-200 dark:border-gray-700",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx(x6,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mr-2"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Filtreler"}),f.jsxs("div",{className:"ml-auto flex items-center space-x-3",children:[f.jsxs("button",{onClick:D,disabled:a,className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center transition-colors text-sm",children:[f.jsx("svg",{className:`h-4 w-4 mr-1 ${a?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a?"Yükleniyor...":"Yenile"]}),f.jsx("button",{onClick:Y,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Filtreleri Temizle"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Personel"}),f.jsx("input",{type:"text",name:"personel",value:v.personel,onChange:te,placeholder:"Personel adı...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kanal"}),f.jsxs("select",{name:"kanal",value:v.kanal,onChange:te,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[f.jsx("option",{value:"",children:"Tümü"}),p.kanalList.map((J,Ne)=>f.jsx("option",{value:J,children:J},Ne))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Durum"}),f.jsxs("select",{name:"durum",value:v.durum,onChange:te,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[f.jsx("option",{value:"",children:"Tümü"}),p.durumList.map((J,Ne)=>f.jsx("option",{value:J,children:J},Ne))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Satış Detayı"}),f.jsxs("select",{name:"detay",value:v.detay,onChange:te,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[f.jsx("option",{value:"",children:"Tümü"}),p.detayList.map((J,Ne)=>f.jsx("option",{value:J,children:J},Ne))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Abonelik Durumu"}),f.jsxs("select",{name:"abonelikDurum",value:v.abonelikDurum,onChange:te,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[f.jsx("option",{value:"",children:"Tümü"}),p.abonelikDurumList.map((J,Ne)=>f.jsx("option",{value:J,children:J},Ne))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Başlangıç Tarihi"}),f.jsx("input",{type:"date",name:"dateFrom",value:v.dateFrom,onChange:te,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bitiş Tarihi"}),f.jsx("input",{type:"date",name:"dateTo",value:v.dateTo,onChange:te,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Personel"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telefon"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kanal"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satış Detayı"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abonelik"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abone No"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Not"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:le.map(J=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(f0,{className:"h-4 w-4 text-gray-400 mr-2"}),f.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:J.personel})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Cm,{className:"h-4 w-4 text-gray-400 mr-2"}),f.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:Kg(J.tarih)||J.tarih||"-"})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(xO,{className:"h-4 w-4 text-gray-400 mr-2"}),f.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:rF(J.telefon)||J.telefon||"-"})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:J.kanal})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J.durum==="Arandı"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":J.durum==="Meşgul"?"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200":J.durum==="Ulaşılamadı"?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":J.durum==="Geri Arama"?"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:J.durum})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:J.detay||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:J.abonelikDurum||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:J.aboneNo||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 max-w-xs truncate",title:J.not,children:J.not||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[f.jsx("button",{onClick:()=>ve(J),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 p-1 rounded-md hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Kaydı Düzenle",children:f.jsx(fx,{className:"h-4 w-4"})}),(e==="admin"||e==="teamLeader")&&f.jsx("button",{onClick:()=>H(J.id,J.refId),disabled:o===J.id,className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 p-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors disabled:opacity-50",title:"Kaydı Sil",children:o===J.id?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600 dark:border-red-400"}):f.jsx(kh,{className:"h-4 w-4"})})]})})]},J.id))})]})}),B===0&&f.jsx("div",{className:"text-center py-8",children:f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Kayıt bulunamadı."})})]}),ne>1&&f.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-4 mt-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[f.jsx("div",{className:"flex justify-center mb-4",children:f.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[f.jsx("span",{className:"font-medium",children:ye+1})," - ",f.jsx("span",{className:"font-medium",children:Math.min(ae,B)})," arası, toplam ",f.jsx("span",{className:"font-medium",children:B})," kayıt"]})}),f.jsx("div",{className:"flex justify-center",children:f.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[f.jsx("button",{onClick:()=>ce(E-1),disabled:E===1,className:"relative inline-flex items-center px-3 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"← Önceki"}),Array.from({length:Math.min(7,ne)},(J,Ne)=>{let Qe;return ne<=7||E<=4?Qe=Ne+1:E>=ne-3?Qe=ne-6+Ne:Qe=E-3+Ne,f.jsx("button",{onClick:()=>ce(Qe),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${E===Qe?"z-10 bg-blue-600 dark:bg-blue-600 border-blue-600 dark:border-blue-600 text-white hover:bg-blue-700 dark:hover:bg-blue-700":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:Qe},Qe)}),f.jsx("button",{onClick:()=>ce(E+1),disabled:E===ne,className:"relative inline-flex items-center px-3 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sonraki →"})]})}),f.jsxs("div",{className:"flex justify-center mt-4 space-x-2",children:[f.jsx("button",{onClick:()=>ce(1),disabled:E===1,className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"İlk Sayfa"}),f.jsx("button",{onClick:()=>ce(ne),disabled:E===ne,className:"px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Son Sayfa"})]})]}),f.jsx(aF,{isOpen:G,onClose:tt,children:f.jsx("div",{className:"w-full max-w-4xl p-6 border border-gray-200 dark:border-gray-700 shadow-xl rounded-lg bg-white dark:bg-gray-800",style:{minWidth:"90vw",maxWidth:"95vw"},children:f.jsxs("div",{className:"mt-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Kayıt Düzenle"}),f.jsx("button",{onClick:tt,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Personel"}),f.jsx("input",{type:"text",name:"personel",value:j.personel,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tarih"}),f.jsx("input",{type:"date",name:"tarih",value:j.tarih,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefon"}),f.jsx("input",{type:"text",name:"telefon",value:j.telefon,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kanal"}),f.jsxs("select",{name:"kanal",value:j.kanal,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"",children:"Seçiniz"}),p.kanalList.map((J,Ne)=>f.jsx("option",{value:J,children:J},Ne))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Durum"}),f.jsxs("select",{name:"durum",value:j.durum,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"",children:"Seçiniz"}),p.durumList.map((J,Ne)=>f.jsx("option",{value:J,children:J},Ne))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Satış Detayı"}),f.jsxs("select",{name:"detay",value:j.detay,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"",children:"Seçiniz"}),p.detayList.map((J,Ne)=>f.jsx("option",{value:J,children:J},Ne))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Abonelik Durumu"}),f.jsxs("select",{name:"abonelikDurum",value:j.abonelikDurum,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"",children:"Seçiniz"}),p.abonelikDurumList.map((J,Ne)=>f.jsx("option",{value:J,children:J},Ne))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Abone No"}),f.jsx("input",{type:"text",name:"aboneNo",value:j.aboneNo,onChange:we,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Not"}),f.jsx("textarea",{name:"not",value:j.not,onChange:we,rows:"4",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[f.jsx("button",{onClick:tt,className:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-400",children:"İptal"}),f.jsx("button",{onClick:Le,className:"px-4 py-2 bg-blue-600 dark:bg-blue-600 text-white rounded-md hover:bg-blue-700 dark:hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400",children:"Kaydet"})]})]})})}),f.jsx(hx,{isOpen:h.isOpen,onClose:Q,title:h.title,message:h.message,type:h.type,onConfirm:h.onConfirm,showCancel:h.type==="confirm",confirmText:h.type==="confirm"?"Sil":"Tamam",cancelText:"İptal"})]})},bg=({isOpen:t,onClose:e,children:r})=>{if(!t)return null;const n=document.getElementById("modal-root")||document.body;return j1.createPortal(f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:e,children:f.jsx("div",{style:{position:"relative",maxHeight:"90vh",overflow:"auto",margin:"0"},onClick:a=>a.stopPropagation(),children:r})}),n)},iF=()=>{var ve,we,Le,tt,J;const{currentUser:t}=vs(),[e,r]=Ae.useState([]),[n,a]=Ae.useState(!0),[s,o]=Ae.useState(!1),[c,h]=Ae.useState(!1),[d,p]=Ae.useState(null),[y,v]=Ae.useState(!1),[b,E]=Ae.useState(null),[k,A]=Ae.useState({email:"",password:"",name:"",role:"Personnel"}),[N,I]=Ae.useState({}),[P,z]=Ae.useState(""),[G,W]=Ae.useState(!1),[j,L]=Ae.useState(!1),[R,U]=Ae.useState(null),[D,C]=Ae.useState(null),B=["Admin","Team Leader","Personnel"];Ae.useEffect(()=>(ye(),ne(),()=>{document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width=""}),[]);const ne=async()=>{try{const Ne=await Wi(on(Mt,"system_settings","main"));Ne.exists()?E(Ne.data()):E({security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1}})}catch(Ne){console.error("Sistem ayarları yüklenirken hata:",Ne),E({security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1}})}},ye=async()=>{try{a(!0),I({});const Ne=Sr(Mt,"users"),je=(await an(Ne)).docs.map(me=>({id:me.id,...me.data()}));je.sort((me,Ke)=>{var pt,_t,bt,Dt;const xt=((_t=(pt=me.createdAt)==null?void 0:pt.toDate)==null?void 0:_t.call(pt))||new Date(0);return(((Dt=(bt=Ke.createdAt)==null?void 0:bt.toDate)==null?void 0:Dt.call(bt))||new Date(0))-xt}),r(je)}catch(Ne){console.error("Kullanıcılar yüklenirken hata:",Ne),I({general:`Kullanıcılar yüklenirken hata oluştu: ${Ne.message}`})}finally{a(!1)}},ae=()=>{const Ne={};if(k.email.trim()?/\S+@\S+\.\S+/.test(k.email)||(Ne.email="Geçerli bir e-posta adresi girin"):Ne.email="E-posta adresi gerekli",k.name.trim()||(Ne.name="İsim gerekli"),!d&&!k.password.trim())Ne.password="Şifre gerekli";else if(!d&&k.password.trim()){const Qe=(b==null?void 0:b.security)||{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1},je=k.password,me=[];je.length<Qe.passwordMinLength&&me.push(`En az ${Qe.passwordMinLength} karakter`),Qe.passwordRequireUppercase&&!/[A-Z]/.test(je)&&me.push("En az bir büyük harf"),Qe.passwordRequireNumbers&&!/[0-9]/.test(je)&&me.push("En az bir rakam"),Qe.passwordRequireSpecialChars&&!/[!@#$%^&*(),.?":{}|<>]/.test(je)&&me.push('En az bir özel karakter (!@#$%^&*(),.?":{}|<>)'),me.length>0&&(Ne.password=`Şifre gereksinimleri: ${me.join(", ")}`)}return k.role||(Ne.role="Rol seçimi gerekli"),I(Ne),Object.keys(Ne).length===0},le=async Ne=>{var Qe;if(Ne.preventDefault(),!!ae())try{a(!0);const je=t.email,me=await UR(ni,k.email,k.password);await Mh(on(Mt,"users",me.user.uid),{uid:me.user.uid,email:k.email,name:k.name,role:k.role,createdAt:new Date,isActive:!0}),await qs.logUserCreated(t.uid,t.name||((Qe=t.email)==null?void 0:Qe.split("@")[0])||"Admin",k.email,k.role),await F1(ni,je,"admin123"),z("Kullanıcı başarıyla eklendi!"),setTimeout(()=>z(""),3e3),Q(),ye()}catch(je){console.error("Kullanıcı eklenirken hata:",je),je.code==="auth/email-already-in-use"?I({email:"Bu e-posta adresi zaten kullanımda"}):je.code==="auth/wrong-password"?I({general:"Admin şifresi yanlış. Kullanıcı oluşturuldu ama admin oturumu tekrar açılamadı."}):I({general:"Kullanıcı eklenirken hata oluştu: "+je.message})}finally{a(!1)}},ce=async Ne=>{var Qe;if(Ne.preventDefault(),!!ae())try{a(!0);const je=on(Mt,"users",d.id),me={};d.email!==k.email&&(me.email={from:d.email,to:k.email}),d.name!==k.name&&(me.name={from:d.name,to:k.name}),d.role!==k.role&&(me.role={from:d.role,to:k.role}),await qc(je,{email:k.email,name:k.name,role:k.role,updatedAt:new Date}),Object.keys(me).length>0&&await qs.logUserUpdated(t.uid,t.name||((Qe=t.email)==null?void 0:Qe.split("@")[0])||"Admin",d.email,me),z("Kullanıcı başarıyla güncellendi!"),setTimeout(()=>z(""),3e3),Q(),ye()}catch(je){console.error("Kullanıcı güncellenirken hata:",je),I({general:"Kullanıcı güncellenirken hata oluştu: "+je.message})}finally{a(!1)}},te=async()=>{var Ne;try{a(!0),await qs.logUserDeleted(t.uid,t.name||((Ne=t.email)==null?void 0:Ne.split("@")[0])||"Admin",R.email),await cx(on(Mt,"users",R.id)),z("Kullanıcı başarıyla silindi!"),setTimeout(()=>z(""),3e3),ye(),W(!1),U(null)}catch(Qe){console.error("Kullanıcı silinirken hata:",Qe),I({general:"Kullanıcı silinirken hata oluştu: "+Qe.message})}finally{a(!1)}},Y=Ne=>{U(Ne),C("delete"),W(!0)},Te=async()=>{var je,me;const Ne=!R.isActive,Qe=Ne?"aktif":"pasif";try{a(!0);const Ke=on(Mt,"users",R.id);await qc(Ke,{isActive:Ne,updatedAt:new Date}),Ne?await qs.logUserActivated(t.uid,t.name||((je=t.email)==null?void 0:je.split("@")[0])||"Admin",R.email):await qs.logUserDeactivated(t.uid,t.name||((me=t.email)==null?void 0:me.split("@")[0])||"Admin",R.email),z(`Kullanıcı durumu ${Qe} olarak güncellendi!`),setTimeout(()=>z(""),3e3),ye(),L(!1),U(null)}catch(Ke){console.error("Kullanıcı durumu güncellenirken hata:",Ke),I({general:"Kullanıcı durumu güncellenirken hata oluştu: "+Ke.message})}finally{a(!1)}},F=Ne=>{U(Ne);const Qe=!Ne.isActive;C(Qe?"activate":"deactivate"),L(!0)},H=Ne=>{const Qe=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${Qe}px`,document.body.style.width="100%",p(Ne),A({email:Ne.email,password:"",name:Ne.name,role:Ne.role}),h(!0)},K=()=>{A({email:"",password:"",name:"",role:"Personnel"}),I({}),p(null)},Q=()=>{const Ne=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width="",Ne&&window.scrollTo(0,parseInt(Ne||"0")*-1),o(!1),h(!1),K()},re=Ne=>{switch(Ne){case"Admin":return"bg-red-100 text-red-800 border-red-200";case"Team Leader":return"bg-blue-100 text-blue-800 border-blue-200";case"Personnel":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},de=e.filter(Ne=>Ne.name!=="Admin User"&&Ne.email!=="wupaniyazilim@gmail.com");return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:f.jsx(ts,{className:"w-6 h-6 text-purple-600"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kullanıcı Yönetimi"}),f.jsx("p",{className:"text-gray-600",children:"Sistem kullanıcılarını yönetin"})]})]}),f.jsxs("button",{onClick:()=>{const Ne=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${Ne}px`,document.body.style.width="100%",K(),o(!0)},className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[f.jsx(rf,{className:"w-4 h-4"}),f.jsx("span",{children:"Yeni Kullanıcı"})]})]}),P&&f.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-2",children:[f.jsx(Ni,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),f.jsx("p",{className:"text-green-800 dark:text-green-300 whitespace-pre-line",children:P})]}),N.general&&f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-2",children:[f.jsx(au,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),f.jsx("p",{className:"text-red-800 dark:text-red-300",children:N.general})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Kullanıcılar (",de.length,")"]})}),n?f.jsx("div",{className:"flex justify-center items-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):de.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(ts,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Henüz kullanıcı bulunmuyor"})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Kullanıcı"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"E-posta"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Rol"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Durum"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Oluşturulma"}),f.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"İşlemler"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:de.map(Ne=>{var Qe,je,me;return f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:f.jsx(f0,{className:"w-5 h-5 text-purple-600"})}),f.jsx("div",{className:"ml-4",children:f.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:Ne.name})})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(v6,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),f.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:Ne.email})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${re(Ne.role)}`,children:Ne.role})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ne.isActive!==!1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Ne.isActive!==!1?"Aktif":"Pasif"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:((me=(je=(Qe=Ne.createdAt)==null?void 0:Qe.toDate)==null?void 0:je.call(Qe))==null?void 0:me.toLocaleDateString("tr-TR"))||"Bilinmiyor"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:f.jsxs("div",{className:"flex justify-center space-x-2",children:[f.jsx("button",{onClick:()=>H(Ne),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Düzenle",children:f.jsx(fx,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>F(Ne),className:`p-2 rounded-lg transition-colors ${Ne.isActive!==!1?"text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/30":"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30"}`,title:Ne.isActive!==!1?"Pasif Yap":"Aktif Yap",children:Ne.isActive!==!1?f.jsx(K2,{className:"w-4 h-4"}):f.jsx(Xc,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Y(Ne),className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Sil",children:f.jsx(kh,{className:"w-4 h-4"})})]})})]},Ne.id)})})]})})]}),f.jsx(bg,{isOpen:s,onClose:Q,children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Yeni Kullanıcı Ekle"}),f.jsx("button",{onClick:Q,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:f.jsx(su,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:le,className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"İsim Soyisim"}),f.jsx("input",{type:"text",value:k.name,onChange:Ne=>A({...k,name:Ne.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Kullanıcının adını girin"}),N.name&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:N.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"E-posta"}),f.jsx("input",{type:"email",value:k.email,onChange:Ne=>A({...k,email:Ne.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"kullanici@example.com"}),N.email&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:N.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Şifre"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:y?"text":"password",value:k.password,onChange:Ne=>A({...k,password:Ne.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 pr-10 focus:ring-purple-500 focus:border-purple-500",placeholder:b?`En az ${((ve=b.security)==null?void 0:ve.passwordMinLength)||8} karakter`:"En az 8 karakter"}),f.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-2.5 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:y?f.jsx(g6,{className:"w-4 h-4"}):f.jsx(ap,{className:"w-4 h-4"})})]}),b&&f.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Şifre gereksinimleri:",((we=b.security)==null?void 0:we.passwordMinLength)&&` ${b.security.passwordMinLength}+ karakter`,((Le=b.security)==null?void 0:Le.passwordRequireUppercase)&&", büyük harf",((tt=b.security)==null?void 0:tt.passwordRequireNumbers)&&", rakam",((J=b.security)==null?void 0:J.passwordRequireSpecialChars)&&", özel karakter"]}),N.password&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:N.password})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rol"}),f.jsx("select",{value:k.role,onChange:Ne=>A({...k,role:Ne.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",children:B.map(Ne=>f.jsx("option",{value:Ne,children:Ne},Ne))}),N.role&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:N.role})]})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:Q,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),f.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:n?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:[f.jsx(pf,{className:"w-4 h-4"}),f.jsx("span",{children:"Kaydet"})]})})]})]})]})}),f.jsx(bg,{isOpen:c,onClose:Q,children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Kullanıcı Düzenle"}),f.jsx("button",{onClick:Q,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:f.jsx(su,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:ce,className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"İsim Soyisim"}),f.jsx("input",{type:"text",value:k.name,onChange:Ne=>A({...k,name:Ne.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Kullanıcının adını girin"}),N.name&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:N.name})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"E-posta"}),f.jsx("input",{type:"email",value:k.email,onChange:Ne=>A({...k,email:Ne.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"kullanici@example.com"}),N.email&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:N.email})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rol"}),f.jsx("select",{value:k.role,onChange:Ne=>A({...k,role:Ne.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",children:B.map(Ne=>f.jsx("option",{value:Ne,children:Ne},Ne))}),N.role&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:N.role})]})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:Q,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),f.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:n?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:[f.jsx(pf,{className:"w-4 h-4"}),f.jsx("span",{children:"Güncelle"})]})})]})]})]})}),f.jsx(bg,{isOpen:G,onClose:()=>W(!1),children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[f.jsx(kh,{className:"w-5 h-5 text-red-600 mr-2"}),"Kullanıcı Sil"]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:[f.jsx("strong",{children:R==null?void 0:R.name})," kullanıcısını silmek istediğinizden emin misiniz?"]}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Bu işlem geri alınamaz ve kullanıcının tüm verileri silinecektir."}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:()=>W(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),f.jsx("button",{onClick:te,disabled:n,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:n?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:[f.jsx(kh,{className:"w-4 h-4"}),f.jsx("span",{children:"Sil"})]})})]})]})]})}),f.jsx(bg,{isOpen:j,onClose:()=>L(!1),children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center",children:[D==="activate"?f.jsx(Xc,{className:"w-5 h-5 text-green-600 mr-2"}):f.jsx(K2,{className:"w-5 h-5 text-orange-600 mr-2"}),"Kullanıcı Durumu Değiştir"]})}),f.jsxs("div",{className:"p-6",children:[f.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:[f.jsx("strong",{children:R==null?void 0:R.name})," kullanıcısını"," ",f.jsx("span",{className:D==="activate"?"text-green-600 font-semibold":"text-orange-600 font-semibold",children:D==="activate"?"aktif":"pasif"})," ","yapmak istediğinizden emin misiniz?"]}),D==="deactivate"&&f.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 mb-4",children:f.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"⚠️ Pasif yapılan kullanıcı sisteme giriş yapamayacaktır."})}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:()=>L(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),f.jsx("button",{onClick:Te,disabled:n,className:`flex-1 px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 ${D==="activate"?"bg-green-600 text-white hover:bg-green-700":"bg-orange-600 text-white hover:bg-orange-700"}`,children:n?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:[D==="activate"?f.jsx(Xc,{className:"w-4 h-4"}):f.jsx(K2,{className:"w-4 h-4"}),f.jsx("span",{children:D==="activate"?"Aktif Yap":"Pasif Yap"})]})})]})]})]})})]})},oF=()=>{const{currentUser:t}=vs(),[e,r]=Ae.useState([]),[n,a]=Ae.useState([]),[s,o]=Ae.useState(!0),[c,h]=Ae.useState(!1),[d,p]=Ae.useState(null),[y,v]=Ae.useState({userId:"",userName:"",targetType:"monthly",targetValue:"",period:new Date().toISOString().slice(0,7),description:""}),[b,E]=Ae.useState({}),[k,A]=Ae.useState("");Ae.useEffect(()=>{N()},[]);const N=async()=>{try{o(!0);const R=Sr(Mt,"users"),D=(await an(R)).docs.map(ye=>({id:ye.id,...ye.data()})).filter(ye=>ye.name!=="Admin User"&&ye.email!=="wupaniyazilim@gmail.com");a(D);const C=Sr(Mt,"targets"),ne=(await an(C)).docs.map(ye=>({id:ye.id,...ye.data()}));r(ne)}catch(R){console.error("Veri yüklenirken hata:",R),E({general:"Veriler yüklenirken hata oluştu."})}finally{o(!1)}},I=()=>{const R={};return y.userId||(R.userId="Personel seçimi gerekli"),(!y.targetValue||y.targetValue<=0)&&(R.targetValue="Geçerli bir hedef değeri girin"),y.period||(R.period="Dönem seçimi gerekli"),E(R),Object.keys(R).length===0},P=async R=>{if(R.preventDefault(),!!I())try{o(!0);const U={userId:y.userId,userName:y.userName,targetType:y.targetType,targetValue:parseInt(y.targetValue),period:y.period,description:y.description,createdAt:new Date,createdBy:t.uid,isActive:!0};d?(await qc(on(Mt,"targets",d.id),{...U,updatedAt:new Date}),A("Hedef başarıyla güncellendi!")):(await Mh(on(Sr(Mt,"targets")),U),A("Hedef başarıyla eklendi!")),await N(),W(),h(!1),p(null)}catch(U){console.error("Hedef kaydedilirken hata:",U),E({general:"Hedef kaydedilirken hata oluştu."})}finally{o(!1)}},z=async R=>{if(window.confirm("Bu hedefi silmek istediğinizden emin misiniz?"))try{await cx(on(Mt,"targets",R)),A("Hedef başarıyla silindi!"),await N()}catch(U){console.error("Hedef silinirken hata:",U),E({general:"Hedef silinirken hata oluştu."})}},G=R=>{p(R),v({userId:R.userId,userName:R.userName,targetType:R.targetType,targetValue:R.targetValue.toString(),period:R.period,description:R.description||""}),h(!0)},W=()=>{v({userId:"",userName:"",targetType:"monthly",targetValue:"",period:new Date().toISOString().slice(0,7),description:""}),E({})},j=()=>{h(!1),p(null),W()},L=R=>{const U=R.target.value,D=n.find(C=>C.id===U);v({...y,userId:U,userName:D?D.name:""})};return s&&e.length===0?f.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsx("div",{className:"flex justify-center items-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})})})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:f.jsx(gf,{className:"w-6 h-6 text-green-600"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Hedef Yönetimi"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Personel satış hedeflerini belirleyin ve takip edin"})]})]}),f.jsxs("button",{onClick:()=>{W(),h(!0)},className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[f.jsx(rf,{className:"w-4 h-4"}),f.jsx("span",{children:"Yeni Hedef"})]})]}),k&&f.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-2",children:[f.jsx(Ni,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),f.jsx("p",{className:"text-green-800 dark:text-green-300",children:k})]}),b.general&&f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-2",children:[f.jsx(au,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),f.jsx("p",{className:"text-red-800 dark:text-red-300",children:b.general})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Aktif Hedefler (",e.length,")"]})}),s?f.jsx("div",{className:"flex justify-center items-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):e.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(gf,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Henüz hedef bulunmuyor"})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Personel"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Hedef Türü"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Hedef Değeri"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dönem"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Açıklama"}),f.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"İşlemler"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(R=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx(ts,{className:"w-5 h-5 text-green-600"})}),f.jsx("div",{className:"ml-4",children:f.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:R.userName})})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:R.targetType==="monthly"?"Aylık":"Yıllık"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(x1,{className:"w-4 h-4 text-green-400 mr-2"}),f.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[R.targetValue," Satış"]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Cm,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),f.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:R.period})]})}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:R.description||"-"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:f.jsxs("div",{className:"flex justify-center space-x-2",children:[f.jsx("button",{onClick:()=>G(R),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Düzenle",children:f.jsx(fx,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>z(R.id),className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Sil",children:f.jsx(kh,{className:"w-4 h-4"})})]})})]},R.id))})]})})]}),c&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:d?"Hedef Düzenle":"Yeni Hedef Ekle"}),f.jsx("button",{onClick:j,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:f.jsx(su,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:P,className:"p-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Personel Seçin"}),f.jsxs("select",{value:y.userId,onChange:L,className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",children:[f.jsx("option",{value:"",children:"Personel seçin..."}),n.map(R=>f.jsxs("option",{value:R.id,children:[R.name," (",R.role,")"]},R.id))]}),b.userId&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:b.userId})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hedef Türü"}),f.jsxs("select",{value:y.targetType,onChange:R=>v({...y,targetType:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",children:[f.jsx("option",{value:"monthly",children:"Aylık"}),f.jsx("option",{value:"yearly",children:"Yıllık"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hedef Satış Sayısı"}),f.jsx("input",{type:"number",value:y.targetValue,onChange:R=>v({...y,targetValue:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",placeholder:"Örn: 50",min:"1"}),b.targetValue&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:b.targetValue})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Dönem"}),f.jsx("input",{type:"month",value:y.period,onChange:R=>v({...y,period:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500"}),b.period&&f.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:b.period})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Açıklama (Opsiyonel)"}),f.jsx("textarea",{value:y.description,onChange:R=>v({...y,description:R.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",rows:"3",placeholder:"Hedef hakkında ek bilgiler..."})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[f.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),f.jsxs("button",{type:"submit",disabled:s,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[f.jsx(pf,{className:"w-4 h-4"}),f.jsx("span",{children:d?"Güncelle":"Kaydet"})]})]})]})]})})]})},lF=()=>{const[t,e]=Ae.useState([]),[r,n]=Ae.useState([]),[a,s]=Ae.useState(!0),[o,c]=Ae.useState(!1),[h,d]=Ae.useState(null),[p,y]=Ae.useState(""),[v,b]=Ae.useState({}),[E,k]=Ae.useState(""),[A,N]=Ae.useState("");Ae.useEffect(()=>{I()},[]);const I=async()=>{try{s(!0);const R=Sr(Mt,"users"),D=(await an(R)).docs.map(C=>({id:C.id,...C.data()})).filter(C=>C.name!=="Admin User"&&C.email!=="wupaniyazilim@gmail.com");e(D),P(D)}catch(R){console.error("Kullanıcılar yüklenirken hata:",R),N("Kullanıcılar yüklenirken hata oluştu.")}finally{s(!1)}},P=R=>{const U=R.filter(ne=>ne.role==="Team Leader"),D=R.filter(ne=>ne.role==="Personnel"),C=U.map(ne=>{const ye=D.filter(ae=>ae.teamLeader===ne.id);return{leader:ne,members:ye,memberCount:ye.length}}),B=D.filter(ne=>!ne.teamLeader);B.length>0&&C.push({leader:{id:"unassigned",name:"Atanmamış Personeller",role:"Unassigned"},members:B,memberCount:B.length,isUnassigned:!0}),n(C)},z=async()=>{if(!(!h||!p))try{const R=on(Mt,"users",h.id);await qc(R,{teamLeader:p==="unassigned"?null:p}),k("Personel başarıyla atandı!"),setTimeout(()=>k(""),3e3),await I(),c(!1),d(null),y("")}catch(R){console.error("Atama sırasında hata:",R),N("Atama sırasında hata oluştu."),setTimeout(()=>N(""),3e3)}},G=R=>{d(R),y(R.teamLeader||""),c(!0)},W=R=>{b(U=>({...U,[R]:!U[R]}))},j=R=>{switch(R){case"Team Leader":return"bg-blue-100 text-blue-800 border-blue-200";case"Personnel":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},L=()=>{const R=t.filter(U=>U.role==="Team Leader");return[{id:"unassigned",name:"Atanmamış (Takım lideri yok)"},...R.map(U=>({id:U.id,name:U.name}))]};return a?f.jsx("div",{className:"flex justify-center items-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:f.jsx(ts,{className:"w-6 h-6 text-blue-600"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Takım Yönetimi"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Takım liderlerini ve personelleri yönetin"})]})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[f.jsx(ts,{className:"w-4 h-4"}),f.jsxs("span",{children:[t.length," Toplam Kullanıcı"]})]})]}),E&&f.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-2",children:[f.jsx(Xc,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),f.jsx("p",{className:"text-green-800 dark:text-green-300",children:E})]}),A&&f.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-2",children:[f.jsx(su,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),f.jsx("p",{className:"text-red-800 dark:text-red-300",children:A})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Takım Liderleri"}),f.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.filter(R=>R.role==="Team Leader").length})]}),f.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:f.jsx(Hy,{className:"w-6 h-6 text-blue-600"})})]})}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Personeller"}),f.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(R=>R.role==="Personnel").length})]}),f.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx(ts,{className:"w-6 h-6 text-green-600"})})]})}),f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Atanmamış"}),f.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.filter(R=>R.role==="Personnel"&&!R.teamLeader).length})]}),f.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:f.jsx(Xc,{className:"w-6 h-6 text-orange-600"})})]})})]}),f.jsx("div",{className:"space-y-4",children:r.map((R,U)=>f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[f.jsx("div",{className:`p-6 cursor-pointer transition-colors ${R.isUnassigned?"bg-orange-50 dark:bg-orange-900/20 hover:bg-orange-100 dark:hover:bg-orange-900/30":"bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,onClick:()=>W(U),children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${R.isUnassigned?"bg-orange-200":"bg-blue-200"}`,children:R.isUnassigned?f.jsx(Xc,{className:`w-6 h-6 ${R.isUnassigned?"text-orange-600":"text-blue-600"}`}):f.jsx(Hy,{className:"w-6 h-6 text-blue-600"})}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center space-x-2",children:[f.jsx("span",{children:R.leader.name}),!R.isUnassigned&&f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(R.leader.role)}`,children:"Takım Lideri"})]}),f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[R.memberCount," ",(R.memberCount===1,"personel")]})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[R.memberCount," Üye"]}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.isUnassigned?"Atanmamış":"Aktif Takım"})]}),v[U]?f.jsx(p5,{className:"w-5 h-5 text-gray-400"}):f.jsx(p6,{className:"w-5 h-5 text-gray-400"})]})]})}),v[U]&&f.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700",children:R.members.length===0?f.jsxs("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:[f.jsx(ts,{className:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),f.jsx("p",{children:"Bu takımda henüz personel bulunmuyor"})]}):f.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:R.members.map(D=>f.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx(ts,{className:"w-5 h-5 text-green-600"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:D.name}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:D.email})]})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(D.role)}`,children:"Personel"}),f.jsx("button",{onClick:()=>G(D),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-1 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"Takım değiştir",children:f.jsx(fx,{className:"w-4 h-4"})})]})]})},D.id))})})]},R.leader.id))}),o&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Takım Ataması"}),f.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",children:f.jsx(su,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Personel:"}),f.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[f.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:f.jsx(ts,{className:"w-4 h-4 text-green-600"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:h==null?void 0:h.name}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:h==null?void 0:h.email})]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Takım Lideri Seçin:"}),f.jsxs("select",{value:p,onChange:R=>y(R.target.value),className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[f.jsx("option",{value:"",children:"Takım lideri seçin..."}),L().map(R=>f.jsx("option",{value:R.id,children:R.name},R.id))]})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"İptal"}),f.jsxs("button",{onClick:z,disabled:!p,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(pf,{className:"w-4 h-4"}),f.jsx("span",{children:"Ata"})]})]})]})]})})]})},cF=()=>{const{currentUser:t}=vs(),[e,r]=Ae.useState(!0),[n,a]=Ae.useState(!1),[s,o]=Ae.useState(""),[c,h]=Ae.useState(""),[d,p]=Ae.useState({kanalList:[],durumList:[],detayList:[],abonelikDurumList:[]}),y={kanalList:"Çağrı Kanalları",durumList:"Çağrı Durumları",detayList:"Satış Çağrısı Detayları",abonelikDurumList:"Abonelik Durumları"};Ae.useEffect(()=>{v()},[]);const v=async()=>{try{r(!0);const A=on(Mt,"dropdown_settings","main"),N=await Wi(A);if(N.exists()){const I=N.data();p({kanalList:I.kanalList||[],durumList:I.durumList||[],detayList:I.detayList||[],abonelikDurumList:I.abonelikDurumList||[]})}else p({kanalList:["Telefon","WhatsApp","E-posta","Yüz Yüze","Web Site"],durumList:["Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti"],detayList:["İlgilendi","Düşünecek","Fiyat Sordu","Bilgi İstedi","İlgilenmedi","Satış Sağlandı"],abonelikDurumList:["Yeni Abone","Mevcut Abone","İptal","Askıya Alındı","Beklemede"]})}catch(A){console.error("Dropdown ayarları yüklenirken hata:",A),h("Ayarlar yüklenirken bir hata oluştu.")}finally{r(!1)}},b=A=>{const N=prompt(`Yeni ${y[A]} değeri:`);N&&N.trim()&&p(I=>({...I,[A]:[...I[A],N.trim()]}))},E=(A,N)=>{window.confirm("Bu değeri silmek istediğinizden emin misiniz?")&&p(I=>({...I,[A]:I[A].filter((P,z)=>z!==N)}))},k=async()=>{var A;try{a(!0),h("");const N=on(Mt,"dropdown_settings","main");await Mh(N,{...d,updatedAt:new Date}),await qs.logSystemSettingsChanged(t.uid,t.name||((A=t.email)==null?void 0:A.split("@")[0])||"Admin","Dropdown Settings",{dropdownOptions:Object.keys(d).reduce((I,P)=>(I[P]=d[P].length+" items",I),{})}),o("Ayarlar başarıyla kaydedildi!"),setTimeout(()=>o(""),3e3)}catch(N){console.error("Ayarlar kaydedilirken hata:",N),h("Ayarlar kaydedilirken bir hata oluştu.")}finally{a(!1)}};return e?f.jsx("div",{className:"flex justify-center items-center p-8",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center",children:[f.jsx(x5,{className:"h-6 w-6 mr-2"}),"Açılır Liste Ayarları"]}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Yeni kayıt formundaki açılır listeleri yönetin"})]}),f.jsxs("button",{onClick:k,disabled:n,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[f.jsx(pf,{className:"h-4 w-4 mr-2"}),n?"Kaydediliyor...":"Tümünü Kaydet"]})]}),s&&f.jsxs("div",{className:"mb-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 px-4 py-3 rounded flex items-center",children:[f.jsx(Ni,{className:"h-4 w-4 mr-2"}),s]}),c&&f.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded flex items-center",children:[f.jsx(au,{className:"h-4 w-4 mr-2"}),c]}),f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(d).map(([A,N])=>f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[f.jsx(y6,{className:"h-5 w-5 mr-2"}),y[A]]}),f.jsxs("button",{onClick:()=>b(A),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:[f.jsx(rf,{className:"h-4 w-4 mr-1"}),"Ekle"]})]}),f.jsxs("div",{className:"space-y-2",children:[N.map((I,P)=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[f.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:I}),f.jsx("button",{onClick:()=>E(A,P),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-1",title:"Sil",children:f.jsx(kh,{className:"h-4 w-4"})})]},P)),N.length===0&&f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Henüz değer eklenmemiş"})]})]},A))})]})},uF=()=>{const{currentUser:t}=vs(),[e,r]=Ae.useState(!0),[n,a]=Ae.useState(!1),[s,o]=Ae.useState("security"),[c,h]=Ae.useState({}),[d,p]=Ae.useState({security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1,sessionTimeout:480,maxLoginAttempts:5,ipWhitelist:[],allowRemoteLogin:!0}}),[y,v]=Ae.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null}),b=[{id:"security",label:"Güvenlik",icon:$s},{id:"system",label:"Sistem Bilgisi",icon:hO}];Ae.useEffect(()=>{E(),k()},[]);const E=async()=>{try{const G=await Wi(on(Mt,"system_settings","main"));if(G.exists()){const W=G.data();p(j=>({...j,...W}))}}catch(G){console.error("Ayarlar yüklenirken hata:",G)}finally{r(!1)}},k=async()=>{try{const G=await an(Sr(Mt,"users")),W=G.size,j=G.docs.filter(ye=>ye.data().isActive!==!1).length,L=await an(Sr(Mt,"sales_records")),R=L.size,U=new Date,D=new Date(U.getFullYear(),U.getMonth(),1),C=L.docs.filter(ye=>{var ce;const ae=ye.data();return(((ce=ae.createdAt)==null?void 0:ce.toDate())||new Date(ae.tarih))>=D}).length,ne=((W*2+R*1.5)/1024).toFixed(1);h({totalUsers:W,activeUsers:j,totalRecords:R,thisMonthRecords:C,systemUptime:"99.9%",lastBackup:new Date().toLocaleDateString("tr-TR"),databaseSize:`${ne} MB`,avgResponseTime:"120ms"})}catch(G){console.error("Sistem istatistikleri yüklenirken hata:",G)}},A=(G,W,j)=>{p(L=>({...L,[G]:{...L[G],[W]:j}}))},N=async()=>{a(!0);try{const G={...d,lastUpdated:new Date,updatedBy:t.uid,savedAt:new Date().toISOString()};await Mh(on(Mt,"system_settings","main"),G),v({isOpen:!0,type:"success",title:"Ayarlar Kaydedildi",message:`Sistem ayarları başarıyla güncellendi. Kayıt zamanı: ${new Date().toLocaleString("tr-TR")}`,onConfirm:()=>v(W=>({...W,isOpen:!1}))})}catch(G){console.error("Ayarlar kaydedilirken hata:",G),v({isOpen:!0,type:"error",title:"Kaydetme Hatası",message:`Ayarlar kaydedilirken bir hata oluştu: ${G.message}`,onConfirm:()=>v(W=>({...W,isOpen:!1}))})}finally{a(!1)}},I=()=>{v({isOpen:!0,type:"warning",title:"Varsayılan Ayarlara Dön",message:"Tüm ayarlar varsayılan değerlere sıfırlanacak. Bu işlem geri alınamaz. Devam etmek istiyor musunuz?",onConfirm:async()=>{try{const G={security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1,sessionTimeout:480,maxLoginAttempts:5,ipWhitelist:[],allowRemoteLogin:!0}};p(G),await Mh(on(Mt,"system_settings","main"),{...G,lastUpdated:new Date,updatedBy:t.uid,resetToDefaults:!0}),v({isOpen:!0,type:"success",title:"Varsayılan Ayarlar Yüklendi",message:"Tüm ayarlar varsayılan değerlere sıfırlandı.",onConfirm:()=>v(W=>({...W,isOpen:!1}))})}catch(G){console.error("Varsayılan ayarlar yüklenirken hata:",G),v({isOpen:!0,type:"error",title:"Hata",message:"Varsayılan ayarlar yüklenirken bir hata oluştu.",onConfirm:()=>v(W=>({...W,isOpen:!1}))})}}})},P=()=>f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Rm,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2"}),f.jsx("span",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Güvenlik ayarları değişiklikleri tüm kullanıcıları etkileyecektir."})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Şifre Uzunluğu"}),f.jsx("input",{type:"number",min:"6",max:"20",value:d.security.passwordMinLength,onChange:G=>A("security","passwordMinLength",parseInt(G.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Oturum Zaman Aşımı (dakika)"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("select",{value:d.security.sessionTimeout,onChange:G=>A("security","sessionTimeout",parseInt(G.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[f.jsx("option",{value:30,children:"30 dakika (0.5 saat)"}),f.jsx("option",{value:60,children:"1 saat"}),f.jsx("option",{value:120,children:"2 saat"}),f.jsx("option",{value:240,children:"4 saat"}),f.jsx("option",{value:480,children:"8 saat (varsayılan)"}),f.jsx("option",{value:720,children:"12 saat"}),f.jsx("option",{value:1440,children:"24 saat"})]}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Kullanıcılar ",Math.floor(d.security.sessionTimeout/60),"s ",d.security.sessionTimeout%60,"dk aktivite olmadığında otomatik çıkış yapılır"]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Maksimum Giriş Denemesi"}),f.jsx("input",{type:"number",min:"3",max:"10",value:d.security.maxLoginAttempts,onChange:G=>A("security","maxLoginAttempts",parseInt(G.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Büyük Harf Zorunluluğu"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Şifrelerde en az bir büyük harf olmalı"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:d.security.passwordRequireUppercase,onChange:G=>A("security","passwordRequireUppercase",G.target.checked),className:"sr-only peer"}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Sayı Zorunluluğu"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Şifrelerde en az bir sayı olmalı"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:d.security.passwordRequireNumbers,onChange:G=>A("security","passwordRequireNumbers",G.target.checked),className:"sr-only peer"}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]})]})]}),z=()=>f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg",children:[f.jsx("div",{className:"flex items-center",children:f.jsx(ts,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 mb-2"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Toplam Kullanıcı"}),f.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c.totalUsers}),f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[c.activeUsers," aktif"]})]}),f.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-6 rounded-lg",children:[f.jsx("div",{className:"flex items-center",children:f.jsx(zg,{className:"h-8 w-8 text-green-600 dark:text-green-400 mb-2"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Toplam Kayıt"}),f.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:c.totalRecords}),f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Bu ay: ",c.thisMonthRecords]})]}),f.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg",children:[f.jsx("div",{className:"flex items-center",children:f.jsx(CO,{className:"h-8 w-8 text-purple-600 dark:text-purple-400 mb-2"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sistem Durumu"}),f.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:c.systemUptime}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Çalışma süresi"})]}),f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-6 rounded-lg",children:[f.jsx("div",{className:"flex items-center",children:f.jsx(J9,{className:"h-8 w-8 text-orange-600 dark:text-orange-400 mb-2"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Veritabanı"}),f.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:c.databaseSize}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam boyut"})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Sistem Bilgileri"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[f.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Son Yedekleme:"}),f.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c.lastBackup})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[f.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Ortalama Yanıt Süresi:"}),f.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:c.avgResponseTime})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[f.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Uygulama Versiyonu:"}),f.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"v1.2.0"})]}),f.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[f.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Son Güncelleme:"}),f.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date().toLocaleDateString("tr-TR")})]})]})]})]});return e?f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Sistem ayarları yükleniyor..."})})}):f.jsxs(Ms,{allowedRoles:["admin"],children:[f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("div",{className:"mb-8",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:f.jsx(x5,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Sistem Ayarları"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Uygulama konfigürasyonu ve sistem yönetimi"})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[f.jsx(Yc,{className:"w-4 h-4"}),"Varsayılana Dön"]}),f.jsxs("button",{onClick:N,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:[n?f.jsx(Yc,{className:"w-4 h-4 animate-spin"}):f.jsx(pf,{className:"w-4 h-4"}),n?"Kaydediliyor...":"Kaydet"]})]})]})}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200 dark:border-gray-700",children:b.map(G=>{const W=G.icon;return f.jsxs("button",{onClick:()=>o(G.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg transition-colors ${s===G.id?"bg-purple-600 text-white border-b-2 border-purple-600":"text-gray-600 dark:text-gray-300 hover:text-purple-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[f.jsx(W,{className:"w-4 h-4"}),G.label]},G.id)})}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[s==="security"&&P(),s==="system"&&z()]})]})}),f.jsx(hx,{isOpen:y.isOpen,onClose:()=>v(G=>({...G,isOpen:!1})),title:y.title,type:y.type,onConfirm:y.onConfirm,children:f.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:y.message})})]})},fF=({isOpen:t,onClose:e,children:r})=>{if(!t)return null;const n=document.getElementById("modal-root")||document.body;return j1.createPortal(f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:e,children:f.jsx("div",{style:{position:"relative",maxHeight:"90vh",overflow:"auto",margin:"0"},onClick:a=>a.stopPropagation(),children:r})}),n)},hF=()=>{const[t,e]=Ae.useState([]),[r,n]=Ae.useState(!0),[a,s]=Ae.useState({level:"",category:"",userId:"",dateFrom:"",dateTo:"",search:""}),[o,c]=Ae.useState(1),[h]=Ae.useState(10),[d,p]=Ae.useState(null),[y,v]=Ae.useState(!1),[b,E]=Ae.useState(0),k=[{value:"",label:"Tüm Seviyeler"},{value:"info",label:"Bilgi"},{value:"warning",label:"Uyarı"},{value:"error",label:"Hata"},{value:"success",label:"Başarılı"},{value:"security",label:"Güvenlik"}],A=[{value:"",label:"Tüm Kategoriler"},{value:"authentication",label:"Kimlik Doğrulama"},{value:"user_management",label:"Kullanıcı Yönetimi"},{value:"sales",label:"Satış İşlemleri"},{value:"system",label:"Sistem"},{value:"data",label:"Veri İşlemleri"},{value:"security",label:"Güvenlik"},{value:"navigation",label:"Sayfa Geçişleri"},{value:"ui_interaction",label:"Kullanıcı Etkileşimleri"},{value:"form_interaction",label:"Form İşlemleri"},{value:"filter_search",label:"Arama & Filtreleme"},{value:"export_download",label:"Dışa Aktarma"}];Ae.useEffect(()=>{N()},[a,o]);const N=async()=>{n(!0);try{let U=zs(Sr(Mt,"system_logs"),r6("timestamp","desc"),n6(1e3)),B=(await an(U)).docs.map(le=>{var ce;return{id:le.id,...le.data(),timestamp:((ce=le.data().timestamp)==null?void 0:ce.toDate())||new Date}});if(B=B.filter(le=>{var ce,te;return le.email!=="wupaniyazilim@gmail.com"&&le.userId!=="wupaniyazilim@gmail.com"&&le.userName!=="Admin User"&&!((te=(ce=le.details)==null?void 0:ce.email)!=null&&te.includes("wupaniyazilim@gmail.com"))}),a.level&&(B=B.filter(le=>le.level===a.level)),a.category&&(B=B.filter(le=>le.category===a.category)),a.userId&&(B=B.filter(le=>{var ce,te;return((ce=le.userId)==null?void 0:ce.toLowerCase().includes(a.userId.toLowerCase()))||((te=le.userName)==null?void 0:te.toLowerCase().includes(a.userId.toLowerCase()))})),a.search){const le=a.search.toLowerCase();B=B.filter(ce=>{var te,Y;return((te=ce.action)==null?void 0:te.toLowerCase().includes(le))||((Y=ce.userName)==null?void 0:Y.toLowerCase().includes(le))||JSON.stringify(ce.details).toLowerCase().includes(le)})}if(a.dateFrom){const le=new Date(a.dateFrom);B=B.filter(ce=>ce.timestamp>=le)}if(a.dateTo){const le=new Date(a.dateTo);le.setHours(23,59,59,999),B=B.filter(ce=>ce.timestamp<=le)}E(B.length);const ne=(o-1)*h,ye=ne+h,ae=B.slice(ne,ye);e(ae)}catch(U){console.error("Loglar yüklenirken hata:",U)}finally{n(!1)}},I=(U,D)=>{s(C=>({...C,[U]:D})),c(1)},P=()=>{s({level:"",category:"",userId:"",dateFrom:"",dateTo:"",search:""}),c(1)},z=U=>{switch(U){case"error":return f.jsx(H2,{className:"h-4 w-4 text-red-500"});case"warning":return f.jsx(Rm,{className:"h-4 w-4 text-yellow-500"});case"success":return f.jsx(Ni,{className:"h-4 w-4 text-green-500"});case"security":return f.jsx($s,{className:"h-4 w-4 text-purple-500"});default:return f.jsx($y,{className:"h-4 w-4 text-blue-500"})}},G=U=>{const D="px-2 py-1 text-xs font-medium rounded-full";switch(U){case"error":return`${D} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;case"warning":return`${D} bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200`;case"success":return`${D} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"security":return`${D} bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200`;default:return`${D} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`}},W=U=>{const D="px-2 py-1 text-xs font-medium rounded-full";switch(U){case"authentication":return`${D} bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200`;case"user_management":return`${D} bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200`;case"sales":return`${D} bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200`;case"system":return`${D} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200`;case"security":return`${D} bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200`;default:return`${D} bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200`}},j=U=>{p(U),v(!0)},L=()=>{const U=[["Tarih","Seviye","Kategori","Aksiyon","Kullanıcı","Detaylar"].join(","),...t.map(ne=>[Kg(ne.timestamp),ne.level,ne.category,ne.action,ne.userName||ne.userId,JSON.stringify(ne.details).replace(/,/g,";")].join(","))].join(`
`),D=new Blob([U],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),B=URL.createObjectURL(D);C.setAttribute("href",B),C.setAttribute("download",`system_logs_${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)},R=Math.ceil(b/h);return f.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center",children:f.jsx($s,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gradient-purple",children:"Sistem Log Kayıtları"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sistem güvenlik ve aktivite kayıtları"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[f.jsx("div",{className:"card-modern p-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:f.jsx($y,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Toplam Log"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:b})]})]})}),f.jsx("div",{className:"card-modern p-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:f.jsx(Ni,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Başarılı"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.filter(U=>U.level==="success").length})]})]})}),f.jsx("div",{className:"card-modern p-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center",children:f.jsx(Rm,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Uyarılar"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.filter(U=>U.level==="warning").length})]})]})}),f.jsx("div",{className:"card-modern p-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center",children:f.jsx(H2,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Hatalar"}),f.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.filter(U=>U.level==="error").length})]})]})})]})]}),f.jsxs("div",{className:"card-modern p-6 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(x6,{className:"h-5 w-5 text-gray-500"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filtreler"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Arama"}),f.jsxs("div",{className:"relative",children:[f.jsx(SO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),f.jsx("input",{type:"text",value:a.search,onChange:U=>I("search",U.target.value),placeholder:"Aksiyon, kullanıcı...",className:"input-modern pl-10"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Seviye"}),f.jsx("select",{value:a.level,onChange:U=>I("level",U.target.value),className:"input-modern",children:k.map(U=>f.jsx("option",{value:U.value,children:U.label},U.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kategori"}),f.jsx("select",{value:a.category,onChange:U=>I("category",U.target.value),className:"input-modern",children:A.map(U=>f.jsx("option",{value:U.value,children:U.label},U.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kullanıcı"}),f.jsx("input",{type:"text",value:a.userId,onChange:U=>I("userId",U.target.value),placeholder:"Kullanıcı adı...",className:"input-modern"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Başlangıç Tarihi"}),f.jsx("input",{type:"date",value:a.dateFrom,onChange:U=>I("dateFrom",U.target.value),className:"input-modern"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bitiş Tarihi"}),f.jsx("input",{type:"date",value:a.dateTo,onChange:U=>I("dateTo",U.target.value),className:"input-modern"})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx("button",{onClick:P,className:"px-4 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Filtreleri Temizle"}),f.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[f.jsx(Yc,{className:"h-4 w-4"}),"Yenile"]}),f.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 text-sm bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[f.jsx(g5,{className:"h-4 w-4"}),"CSV İndir"]})]})]}),f.jsxs("div",{className:"card-modern overflow-hidden",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tarih/Saat"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Seviye"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Kategori"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Aksiyon"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Kullanıcı"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"İşlemler"})]})}),f.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:r?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center",children:f.jsxs("div",{className:"flex items-center justify-center",children:[f.jsx(Yc,{className:"h-6 w-6 text-gray-400 animate-spin mr-2"}),f.jsx("span",{className:"text-gray-500",children:"Loglar yükleniyor..."})]})})}):t.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"Belirtilen kriterlere uygun log kaydı bulunamadı."})}):t.map(U=>{var D;return f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(qy,{className:"h-4 w-4 text-gray-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Kg(U.timestamp)}),f.jsx("div",{className:"text-xs text-gray-500",children:U.timestamp.toLocaleTimeString("tr-TR")})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-2",children:[z(U.level),f.jsx("span",{className:G(U.level),children:U.level})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:W(U.category),children:U.category})}),f.jsxs("td",{className:"px-6 py-4",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U.action}),((D=U.details)==null?void 0:D.message)&&f.jsx("div",{className:"text-xs text-gray-500 mt-1 truncate max-w-xs",children:U.details.message})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(f0,{className:"h-4 w-4 text-gray-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U.userName||"System"}),f.jsx("div",{className:"text-xs text-gray-500",children:U.userId})]})]})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("button",{onClick:()=>j(U),className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg transition-colors",children:[f.jsx(ap,{className:"h-4 w-4"}),"Detay"]})})]},U.id)})})]})}),R>1&&f.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[f.jsxs("span",{children:["Sayfa başına ",h," kayıt gösteriliyor"]}),f.jsx("span",{className:"mx-2",children:"•"}),f.jsxs("span",{children:["Toplam ",b," kayıt"]}),f.jsx("span",{className:"mx-2",children:"•"}),f.jsxs("span",{children:["Sayfa ",o," / ",R]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:()=>c(1),disabled:o===1,className:"px-3 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-600",children:"İlk"}),f.jsx("button",{onClick:()=>c(U=>Math.max(U-1,1)),disabled:o===1,className:"px-3 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-600",children:"Önceki"}),Array.from({length:Math.min(5,R)},(U,D)=>{let C;return R<=5||o<=3?C=D+1:o>=R-2?C=R-4+D:C=o-2+D,f.jsx("button",{onClick:()=>c(C),className:`px-3 py-1 text-sm rounded-lg ${o===C?"bg-blue-600 text-white":"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}`,children:C},C)}),f.jsx("button",{onClick:()=>c(U=>Math.min(U+1,R)),disabled:o===R,className:"px-3 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-600",children:"Sonraki"}),f.jsx("button",{onClick:()=>c(R),disabled:o===R,className:"px-3 py-1 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-600",children:"Son"})]})]})})]}),f.jsx(fF,{isOpen:y,onClose:()=>v(!1),children:d&&f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full mx-4",children:[f.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Log Detayı"}),f.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:f.jsx(H2,{className:"h-6 w-6"})})]})}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Tarih/Saat"}),f.jsxs("p",{className:"text-gray-900 dark:text-white",children:[Kg(d.timestamp)," ",d.timestamp.toLocaleTimeString("tr-TR")]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Seviye"}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[z(d.level),f.jsx("span",{className:G(d.level),children:d.level})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Kategori"}),f.jsx("div",{className:"mt-1",children:f.jsx("span",{className:W(d.category),children:d.category})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Kullanıcı"}),f.jsx("p",{className:"text-gray-900 dark:text-white",children:d.userName||"System"}),f.jsx("p",{className:"text-sm text-gray-500",children:d.userId})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Aksiyon"}),f.jsx("p",{className:"text-gray-900 dark:text-white",children:d.action})]}),f.jsxs("div",{className:"space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4",children:[f.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Teknik Detaylar"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("label",{className:"font-medium text-gray-500 dark:text-gray-400",children:"IP Adresi"}),f.jsx("p",{className:"text-gray-900 dark:text-white",children:d.ip||"Bilinmiyor"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"font-medium text-gray-500 dark:text-gray-400",children:"URL"}),f.jsx("p",{className:"text-gray-900 dark:text-white break-all",children:d.url})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"font-medium text-gray-500 dark:text-gray-400",children:"User Agent"}),f.jsx("p",{className:"text-gray-900 dark:text-white text-sm break-all",children:d.userAgent})]})]}),d.details&&Object.keys(d.details).length>0&&f.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:[f.jsx("label",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Detaylar"}),f.jsx("div",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:f.jsx("pre",{className:"text-sm text-gray-900 dark:text-white overflow-auto",children:JSON.stringify(d.details,null,2)})})]})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var z6=1252,dF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],w5={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},_5=function(t){dF.indexOf(t)!=-1&&(z6=w5[0]=t)};function mF(){_5(1252)}var cl=function(t){_5(t)};function q6(){cl(1200),mF()}function u3(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function pF(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function H6(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Xd=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?pF(t.slice(2)):e==254&&r==255?H6(t.slice(2)):e==65279?t.slice(1):t},wg=function(e){return String.fromCharCode(e)},f3=function(e){return String.fromCharCode(e)},Dm,s0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function h3(t){for(var e="",r=0,n=0,a=0,s=0,o=0,c=0,h=0,d=0;d<t.length;)r=t.charCodeAt(d++),s=r>>2,n=t.charCodeAt(d++),o=(r&3)<<4|n>>4,a=t.charCodeAt(d++),c=(n&15)<<2|a>>6,h=a&63,isNaN(n)?c=h=64:isNaN(a)&&(h=64),e+=s0.charAt(s)+s0.charAt(o)+s0.charAt(c)+s0.charAt(h);return e}function Ji(t){var e="",r=0,n=0,a=0,s=0,o=0,c=0,h=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=s0.indexOf(t.charAt(d++)),o=s0.indexOf(t.charAt(d++)),r=s<<2|o>>4,e+=String.fromCharCode(r),c=s0.indexOf(t.charAt(d++)),n=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(n)),h=s0.indexOf(t.charAt(d++)),a=(c&3)<<6|h,h!==64&&(e+=String.fromCharCode(a));return e}var Ur=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ef=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function w0(t){return Ur?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function d3(t){return Ur?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var il=function(e){return Ur?Ef(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Af(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function k5(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return k5(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var r0=Ur?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ef(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function gF(t){for(var e=[],r=0,n=t.length+250,a=w0(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|c>>6&15|(o&3)<<4,a[r++]=128|c&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(e.push(a.slice(0,r)),r=0,a=w0(65535),n=65530)}return e.push(a.slice(0,r)),r0(e)}var oi=/\u0000/g,Qd=/[\u0001-\u0006]/g;function Nh(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function ul(t,e){var r=""+t;return r.length>=e?r:ta("0",e-r.length)+r}function E5(t,e){var r=""+t;return r.length>=e?r:ta(" ",e-r.length)+r}function w1(t,e){var r=""+t;return r.length>=e?r:r+ta(" ",e-r.length)}function xF(t,e){var r=""+Math.round(t);return r.length>=e?r:ta("0",e-r.length)+r}function yF(t,e){var r=""+t;return r.length>=e?r:ta("0",e-r.length)+r}var m3=Math.pow(2,32);function oh(t,e){if(t>m3||t<-m3)return xF(t,e);var r=Math.round(t);return yF(r,e)}function _1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var p3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ny=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function vF(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},g3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bF={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function k1(t,e,r){for(var n=t<0?-1:1,a=t*n,s=0,o=1,c=0,h=1,d=0,p=0,y=Math.floor(a);d<e&&(y=Math.floor(a),c=y*o+s,p=y*d+h,!(a-y<5e-8));)a=1/(a-y),s=o,o=c,h=d,d=p;if(p>e&&(d>e?(p=h,c=s):(p=d,c=o)),!r)return[0,n*c,p];var v=Math.floor(n*c/p);return[v,n*c-v*p,p]}function tf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),s=0,o=[],c={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++a==86400&&(c.T=a=0,++n,++c.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var h=new Date(1900,0,1);h.setDate(h.getDate()+n-1),o=[h.getFullYear(),h.getMonth()+1,h.getDate()],s=h.getDay(),n<60&&(s=(s+6)%7),r&&(s=SF(h,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=a%60,a=Math.floor(a/60),c.M=a%60,a=Math.floor(a/60),c.H=a,c.q=s,c}var G6=new Date(1899,11,31,0,0,0),wF=G6.getTime(),_F=new Date(1900,2,1,0,0,0);function $6(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=_F&&(r+=24*60*60*1e3),(r-(wF+(t.getTimezoneOffset()-G6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function A5(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function kF(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function EF(t){var e=t<0?12:11,r=A5(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function AF(t){var e=A5(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Lm(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=EF(t):e===10?r=t.toFixed(10).substr(0,12):r=AF(t),A5(kF(r.toUpperCase()))}function xf(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Lm(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ro(14,$6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function SF(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function TF(t,e,r,n){var a="",s=0,o=0,c=r.y,h,d=0;switch(t){case 98:c=r.y+543;case 121:switch(e.length){case 1:case 2:h=c%100,d=2;break;default:h=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:h=r.m,d=e.length;break;case 3:return ny[r.m-1][1];case 5:return ny[r.m-1][0];default:return ny[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=r.d,d=e.length;break;case 3:return p3[r.q][0];default:return p3[r.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(r.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=r.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=r.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?ul(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(a=ul(s,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=r.D*24+r.H;break;case"[m]":case"[mm]":h=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":h=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:h=c,d=1;break}var p=d>0?ul(h,d):"";return p}function i0(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var K6=/%/g;function NF(t,e,r){var n=e.replace(K6,""),a=e.length-n.length;return Qc(t,n,r*Math.pow(10,2*a))+ta("%",a)}function CF(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Qc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function W6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+W6(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,p){return h+d+p.substr(0,(a+s)%a)+"."+p.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Y6=/# (\?+)( ?)\/( ?)(\d+)/;function RF(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),s=Math.floor(a/n),o=a-s*n,c=n;return r+(s===0?"":""+s)+" "+(o===0?ta(" ",t[1].length+1+t[4].length):E5(o,t[1].length)+t[2]+"/"+t[3]+ul(c,t[4].length))}function IF(t,e,r){return r+(e===0?"":""+e)+ta(" ",t[1].length+2+t[4].length)}var X6=/^#*0*\.([0#]+)/,Q6=/\).*[0#]/,J6=/\(###\) ###\\?-####/;function ai(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function x3(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function y3(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function DF(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function LF(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Eo(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Q6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Eo("n",n,r):"("+Eo("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return CF(t,e,r);if(e.indexOf("%")!==-1)return NF(t,e,r);if(e.indexOf("E")!==-1)return W6(e,r);if(e.charCodeAt(0)===36)return"$"+Eo(t,e.substr(e.charAt(1)==" "?2:1),r);var a,s,o,c,h=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+oh(h,e.length);if(e.match(/^[#?]+$/))return a=oh(r,0),a==="0"&&(a=""),a.length>e.length?a:ai(e.substr(0,e.length-a.length))+a;if(s=e.match(Y6))return RF(s,h,d);if(e.match(/^#+0+$/))return d+oh(h,e.length-e.indexOf("0"));if(s=e.match(X6))return a=x3(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ai(s[1])).replace(/\.$/,"."+ai(s[1])).replace(/\.(\d*)$/,function(E,k){return"."+k+ta("0",ai(s[1]).length-k.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+x3(h,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+i0(oh(h,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Eo(t,e,-r):i0(""+(Math.floor(r)+DF(r,s[1].length)))+"."+ul(y3(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Eo(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Nh(Eo(t,e.replace(/[\\-]/g,""),r)),o=0,Nh(Nh(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return o<a.length?a.charAt(o++):E==="0"?"0":""}));if(e.match(J6))return a=Eo(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=k1(h,Math.pow(10,o)-1,!1),a=""+d,p=Qc("n",s[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+s[2]+"/"+s[3],p=w1(c[2],o),p.length<s[4].length&&(p=ai(s[4].substr(s[4].length-p.length))+p),a+=p,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=k1(h,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?E5(c[1],o)+s[2]+"/"+s[3]+w1(c[2],o):ta(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=oh(r,0),e.length<=a.length?a:ai(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var y=e.indexOf(".")-o,v=e.length-a.length-y;return ai(e.substr(0,y)+a+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=y3(r,s[1].length),r<0?"-"+Eo(t,e,-r):i0(LF(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?ul(0,3-E.length):"")+E})+"."+ul(o,s[1].length);switch(e){case"###,##0.00":return Eo(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var b=i0(oh(h,0));return b!=="0"?d+b:"";case"###,###.00":return Eo(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Eo(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function jF(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Qc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function OF(t,e,r){var n=e.replace(K6,""),a=e.length-n.length;return Qc(t,n,r*Math.pow(10,2*a))+ta("%",a)}function Z6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Z6(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(e/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,h,d,p){return h+d+p.substr(0,(a+s)%a)+"."+p.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Xl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Q6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Xl("n",n,r):"("+Xl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return jF(t,e,r);if(e.indexOf("%")!==-1)return OF(t,e,r);if(e.indexOf("E")!==-1)return Z6(e,r);if(e.charCodeAt(0)===36)return"$"+Xl(t,e.substr(e.charAt(1)==" "?2:1),r);var a,s,o,c,h=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+ul(h,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:ai(e.substr(0,e.length-a.length))+a;if(s=e.match(Y6))return IF(s,h,d);if(e.match(/^#+0+$/))return d+ul(h,e.length-e.indexOf("0"));if(s=e.match(X6))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ai(s[1])).replace(/\.$/,"."+ai(s[1])),a=a.replace(/\.(\d*)$/,function(E,k){return"."+k+ta("0",ai(s[1]).length-k.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+i0(""+h);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Xl(t,e,-r):i0(""+r)+"."+ta("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Xl(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Nh(Xl(t,e.replace(/[\\-]/g,""),r)),o=0,Nh(Nh(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return o<a.length?a.charAt(o++):E==="0"?"0":""}));if(e.match(J6))return a=Xl(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=k1(h,Math.pow(10,o)-1,!1),a=""+d,p=Qc("n",s[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+s[2]+"/"+s[3],p=w1(c[2],o),p.length<s[4].length&&(p=ai(s[4].substr(s[4].length-p.length))+p),a+=p,a;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=k1(h,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?E5(c[1],o)+s[2]+"/"+s[3]+w1(c[2],o):ta(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:ai(e.substr(0,e.length-a.length))+a;if(s=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var y=e.indexOf(".")-o,v=e.length-a.length-y;return ai(e.substr(0,y)+a+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Xl(t,e,-r):i0(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?ul(0,3-E.length):"")+E})+"."+ul(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var b=i0(""+h);return b!=="0"?d+b:"";default:if(e.match(/\.[0#?]*$/))return Xl(t,e.slice(0,e.lastIndexOf(".")),r)+ai(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Qc(t,e,r){return(r|0)===r?Xl(t,e,r):Eo(t,e,r)}function PF(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var eS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Jh(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":_1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(eS))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function FF(t,e,r,n){for(var a=[],s="",o=0,c="",h="t",d,p,y,v="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!_1(t,o))throw new Error("unrecognized character "+c+" in "+t);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(y=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(y);a[a.length]={t:"t",v:s},++o;break;case"\\":var b=t.charAt(++o),E=b==="("||b===")"?b:"t";a[a.length]={t:E,v:b},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=tf(e,r,t.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:t.substr(o,2)},h=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=tf(e,r),d==null))return"";for(s=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&h.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=v),a[a.length]={t:c,v:s},h=c;break;case"A":case"a":case"上":var k={t:c,v:c};if(d==null&&(d=tf(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(k.v=d.H>=12?"P":"A"),k.t="T",v="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(k.v=d.H>=12?"PM":"AM"),k.t="T",o+=5,v="h"):t.substr(o,5).toUpperCase()==="上午/下午"?(d!=null&&(k.v=d.H>=12?"下午":"上午"),k.t="T",o+=5,v="h"):(k.t="t",++o),d==null&&k.t==="T")return"";a[a.length]=k,h=c;break;case"[":for(s=c;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(eS)){if(d==null&&(d=tf(e,r),d==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},h=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Jh(t)||(a[a.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++o<t.length&&(c=t.charAt(o))==="0";)s+=c;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)s+=c;a[a.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++o)===c;)s+=c;a[a.length]={t:c,v:s},h=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:c,v:c},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);a[a.length]={t:"t",v:c},++o;break}var A=0,N=0,I;for(o=a.length-1,h="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=v,h="h",A<1&&(A=1);break;case"s":(I=a[o].v.match(/\.0+$/))&&(N=Math.max(N,I[0].length-1)),A<3&&(A=3);case"d":case"y":case"M":case"e":h=a[o].t;break;case"m":h==="s"&&(a[o].t="M",A<2&&(A=2));break;case"X":break;case"Z":A<1&&a[o].v.match(/[Hh]/)&&(A=1),A<2&&a[o].v.match(/[Mm]/)&&(A=2),A<3&&a[o].v.match(/[Ss]/)&&(A=3)}switch(A){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var P="",z;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=TF(a[o].t.charCodeAt(0),a[o].v,d,N),a[o].t="t";break;case"n":case"?":for(z=o+1;a[z]!=null&&((c=a[z].t)==="?"||c==="D"||(c===" "||c==="t")&&a[z+1]!=null&&(a[z+1].t==="?"||a[z+1].t==="t"&&a[z+1].v==="/")||a[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(a[z].v==="/"||a[z].v===" "&&a[z+1]!=null&&a[z+1].t=="?"));)a[o].v+=a[z].v,a[z]={v:"",t:";"},++z;P+=a[o].v,o=z-1;break;case"G":a[o].t="t",a[o].v=xf(e,r);break}var G="",W,j;if(P.length>0){P.charCodeAt(0)==40?(W=e<0&&P.charCodeAt(0)===45?-e:e,j=Qc("n",P,W)):(W=e<0&&n>1?-e:e,j=Qc("n",P,W),W<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),z=j.length-1;var L=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){L=o;break}var R=a.length;if(L===a.length&&j.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(z>=a[o].v.length-1?(z-=a[o].v.length,a[o].v=j.substr(z+1,a[o].v.length)):z<0?a[o].v="":(a[o].v=j.substr(0,z+1),z=-1),a[o].t="t",R=o);z>=0&&R<a.length&&(a[R].v=j.substr(0,z+1)+a[R].v)}else if(L!==a.length&&j.indexOf("E")===-1){for(z=j.indexOf(".")-1,o=L;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(p=a[o].v.indexOf(".")>-1&&o===L?a[o].v.indexOf(".")-1:a[o].v.length-1,G=a[o].v.substr(p+1);p>=0;--p)z>=0&&(a[o].v.charAt(p)==="0"||a[o].v.charAt(p)==="#")&&(G=j.charAt(z--)+G);a[o].v=G,a[o].t="t",R=o}for(z>=0&&R<a.length&&(a[R].v=j.substr(0,z+1)+a[R].v),z=j.indexOf(".")+1,o=L;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==L)){for(p=a[o].v.indexOf(".")>-1&&o===L?a[o].v.indexOf(".")+1:0,G=a[o].v.substr(0,p);p<a[o].v.length;++p)z<j.length&&(G+=j.charAt(z++));a[o].v=G,a[o].t="t",R=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(W=n>1&&e<0&&o>0&&a[o-1].v==="-"?-e:e,a[o].v=Qc(a[o].t,a[o].v,W),a[o].t="t");var U="";for(o=0;o!==a.length;++o)a[o]!=null&&(U+=a[o].v);return U}var v3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function b3(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function MF(t,e){var r=PF(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(v3),c=r[1].match(v3);return b3(e,o)?[n,r[0]]:b3(e,c)?[n,r[1]]:[n,r[o!=null&&c!=null?2:1]]}return[n,s]}function Ro(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:gr)[t],n==null&&(n=r.table&&r.table[g3[t]]||gr[g3[t]]),n==null&&(n=bF[t]||"General");break}if(_1(n,0))return xf(e,r);e instanceof Date&&(e=$6(e,r.date1904));var a=MF(n,e);if(_1(a[1]))return xf(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return FF(a[1],e,r,a[0])}function af(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(gr[r]==null){e<0&&(e=r);continue}if(gr[r]==t){e=r;break}}e<0&&(e=391)}return gr[e]=t,e}function tS(){gr=vF()}var BF={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function UF(t){var e=typeof t=="number"?gr[t]:t;return e=e.replace(rS,"(\\d+)"),new RegExp("^"+e+"$")}function VF(t,e,r){var n=-1,a=-1,s=-1,o=-1,c=-1,h=-1;(e.match(rS)||[]).forEach(function(y,v){var b=parseInt(r[v+1],10);switch(y.toLowerCase().charAt(0)){case"y":n=b;break;case"d":s=b;break;case"h":o=b;break;case"s":h=b;break;case"m":o>=0?c=b:a=b;break}}),h>=0&&c==-1&&a>=0&&(c=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return o==-1&&c==-1&&h==-1?d:n==-1&&a==-1&&s==-1?p:d+"T"+p}var zF=function(){var t={};t.version="1.2.0";function e(){for(var j=0,L=new Array(256),R=0;R!=256;++R)j=R,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,L[R]=j;return typeof Int32Array<"u"?new Int32Array(L):L}var r=e();function n(j){var L=0,R=0,U=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)D[U]=j[U];for(U=0;U!=256;++U)for(R=j[U],L=256+U;L<4096;L+=256)R=D[L]=R>>>8^j[R&255];var C=[];for(U=1;U!=16;++U)C[U-1]=typeof Int32Array<"u"?D.subarray(U*256,U*256+256):D.slice(U*256,U*256+256);return C}var a=n(r),s=a[0],o=a[1],c=a[2],h=a[3],d=a[4],p=a[5],y=a[6],v=a[7],b=a[8],E=a[9],k=a[10],A=a[11],N=a[12],I=a[13],P=a[14];function z(j,L){for(var R=L^-1,U=0,D=j.length;U<D;)R=R>>>8^r[(R^j.charCodeAt(U++))&255];return~R}function G(j,L){for(var R=L^-1,U=j.length-15,D=0;D<U;)R=P[j[D++]^R&255]^I[j[D++]^R>>8&255]^N[j[D++]^R>>16&255]^A[j[D++]^R>>>24]^k[j[D++]]^E[j[D++]]^b[j[D++]]^v[j[D++]]^y[j[D++]]^p[j[D++]]^d[j[D++]]^h[j[D++]]^c[j[D++]]^o[j[D++]]^s[j[D++]]^r[j[D++]];for(U+=15;D<U;)R=R>>>8^r[(R^j[D++])&255];return~R}function W(j,L){for(var R=L^-1,U=0,D=j.length,C=0,B=0;U<D;)C=j.charCodeAt(U++),C<128?R=R>>>8^r[(R^C)&255]:C<2048?(R=R>>>8^r[(R^(192|C>>6&31))&255],R=R>>>8^r[(R^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,B=j.charCodeAt(U++)&1023,R=R>>>8^r[(R^(240|C>>8&7))&255],R=R>>>8^r[(R^(128|C>>2&63))&255],R=R>>>8^r[(R^(128|B>>6&15|(C&3)<<4))&255],R=R>>>8^r[(R^(128|B&63))&255]):(R=R>>>8^r[(R^(224|C>>12&15))&255],R=R>>>8^r[(R^(128|C>>6&63))&255],R=R>>>8^r[(R^(128|C&63))&255]);return~R}return t.table=r,t.bstr=z,t.buf=G,t.str=W,t}(),Gr=function(){var e={};e.version="1.2.1";function r(se,ke){for(var ge=se.split("/"),xe=ke.split("/"),_e=0,Ee=0,ze=Math.min(ge.length,xe.length);_e<ze;++_e){if(Ee=ge[_e].length-xe[_e].length)return Ee;if(ge[_e]!=xe[_e])return ge[_e]<xe[_e]?-1:1}return ge.length-xe.length}function n(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:n(se.slice(0,-1));var ke=se.lastIndexOf("/");return ke===-1?se:se.slice(0,ke+1)}function a(se){if(se.charAt(se.length-1)=="/")return a(se.slice(0,-1));var ke=se.lastIndexOf("/");return ke===-1?se:se.slice(ke+1)}function s(se,ke){typeof ke=="string"&&(ke=new Date(ke));var ge=ke.getHours();ge=ge<<6|ke.getMinutes(),ge=ge<<5|ke.getSeconds()>>>1,se.write_shift(2,ge);var xe=ke.getFullYear()-1980;xe=xe<<4|ke.getMonth()+1,xe=xe<<5|ke.getDate(),se.write_shift(2,xe)}function o(se){var ke=se.read_shift(2)&65535,ge=se.read_shift(2)&65535,xe=new Date,_e=ge&31;ge>>>=5;var Ee=ge&15;ge>>>=4,xe.setMilliseconds(0),xe.setFullYear(ge+1980),xe.setMonth(Ee-1),xe.setDate(_e);var ze=ke&31;ke>>>=5;var Ze=ke&63;return ke>>>=6,xe.setHours(ke),xe.setMinutes(Ze),xe.setSeconds(ze<<1),xe}function c(se){gs(se,0);for(var ke={},ge=0;se.l<=se.length-4;){var xe=se.read_shift(2),_e=se.read_shift(2),Ee=se.l+_e,ze={};switch(xe){case 21589:ge=se.read_shift(1),ge&1&&(ze.mtime=se.read_shift(4)),_e>5&&(ge&2&&(ze.atime=se.read_shift(4)),ge&4&&(ze.ctime=se.read_shift(4))),ze.mtime&&(ze.mt=new Date(ze.mtime*1e3));break}se.l=Ee,ke[xe]=ze}return ke}var h;function d(){return h||(h={})}function p(se,ke){if(se[0]==80&&se[1]==75)return sn(se,ke);if((se[0]|32)==109&&(se[1]|32)==105)return is(se,ke);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var ge=3,xe=512,_e=0,Ee=0,ze=0,Ze=0,Me=0,Ge=[],Xe=se.slice(0,512);gs(Xe,0);var ft=y(Xe);switch(ge=ft[0],ge){case 3:xe=512;break;case 4:xe=4096;break;case 0:if(ft[1]==0)return sn(se,ke);default:throw new Error("Major Version: Expected 3 or 4 saw "+ge)}xe!==512&&(Xe=se.slice(0,xe),gs(Xe,28));var kt=se.slice(0,xe);v(Xe,ge);var Ct=Xe.read_shift(4,"i");if(ge===3&&Ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ct);Xe.l+=4,ze=Xe.read_shift(4,"i"),Xe.l+=4,Xe.chk("00100000","Mini Stream Cutoff Size: "),Ze=Xe.read_shift(4,"i"),_e=Xe.read_shift(4,"i"),Me=Xe.read_shift(4,"i"),Ee=Xe.read_shift(4,"i");for(var wt=-1,Et=0;Et<109&&(wt=Xe.read_shift(4,"i"),!(wt<0));++Et)Ge[Et]=wt;var Qt=b(se,xe);A(Me,Ee,Qt,xe,Ge);var wr=I(Qt,ze,Ge,xe);wr[ze].name="!Directory",_e>0&&Ze!==B&&(wr[Ze].name="!MiniFAT"),wr[Ge[0]].name="!FAT",wr.fat_addrs=Ge,wr.ssz=xe;var _r={},Nr=[],Ca=[],ci=[];P(ze,wr,Qt,Nr,_e,_r,Ca,Ze),E(Ca,ci,Nr),Nr.shift();var xa={FileIndex:Ca,FullPaths:ci};return ke&&ke.raw&&(xa.raw={header:kt,sectors:Qt}),xa}function y(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(ne,"Header Signature: "),se.l+=16;var ke=se.read_shift(2,"u");return[se.read_shift(2,"u"),ke]}function v(se,ke){var ge=9;switch(se.l+=2,ge=se.read_shift(2)){case 9:if(ke!=3)throw new Error("Sector Shift: Expected 9 saw "+ge);break;case 12:if(ke!=4)throw new Error("Sector Shift: Expected 12 saw "+ge);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ge)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function b(se,ke){for(var ge=Math.ceil(se.length/ke)-1,xe=[],_e=1;_e<ge;++_e)xe[_e-1]=se.slice(_e*ke,(_e+1)*ke);return xe[ge-1]=se.slice(ge*ke),xe}function E(se,ke,ge){for(var xe=0,_e=0,Ee=0,ze=0,Ze=0,Me=ge.length,Ge=[],Xe=[];xe<Me;++xe)Ge[xe]=Xe[xe]=xe,ke[xe]=ge[xe];for(;Ze<Xe.length;++Ze)xe=Xe[Ze],_e=se[xe].L,Ee=se[xe].R,ze=se[xe].C,Ge[xe]===xe&&(_e!==-1&&Ge[_e]!==_e&&(Ge[xe]=Ge[_e]),Ee!==-1&&Ge[Ee]!==Ee&&(Ge[xe]=Ge[Ee])),ze!==-1&&(Ge[ze]=xe),_e!==-1&&xe!=Ge[xe]&&(Ge[_e]=Ge[xe],Xe.lastIndexOf(_e)<Ze&&Xe.push(_e)),Ee!==-1&&xe!=Ge[xe]&&(Ge[Ee]=Ge[xe],Xe.lastIndexOf(Ee)<Ze&&Xe.push(Ee));for(xe=1;xe<Me;++xe)Ge[xe]===xe&&(Ee!==-1&&Ge[Ee]!==Ee?Ge[xe]=Ge[Ee]:_e!==-1&&Ge[_e]!==_e&&(Ge[xe]=Ge[_e]));for(xe=1;xe<Me;++xe)if(se[xe].type!==0){if(Ze=xe,Ze!=Ge[Ze])do Ze=Ge[Ze],ke[xe]=ke[Ze]+"/"+ke[xe];while(Ze!==0&&Ge[Ze]!==-1&&Ze!=Ge[Ze]);Ge[xe]=-1}for(ke[0]+="/",xe=1;xe<Me;++xe)se[xe].type!==2&&(ke[xe]+="/")}function k(se,ke,ge){for(var xe=se.start,_e=se.size,Ee=[],ze=xe;ge&&_e>0&&ze>=0;)Ee.push(ke.slice(ze*C,ze*C+C)),_e-=C,ze=Z0(ge,ze*4);return Ee.length===0?Ma(0):r0(Ee).slice(0,se.size)}function A(se,ke,ge,xe,_e){var Ee=B;if(se===B){if(ke!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var ze=ge[se],Ze=(xe>>>2)-1;if(!ze)return;for(var Me=0;Me<Ze&&(Ee=Z0(ze,Me*4))!==B;++Me)_e.push(Ee);A(Z0(ze,xe-4),ke-1,ge,xe,_e)}}function N(se,ke,ge,xe,_e){var Ee=[],ze=[];_e||(_e=[]);var Ze=xe-1,Me=0,Ge=0;for(Me=ke;Me>=0;){_e[Me]=!0,Ee[Ee.length]=Me,ze.push(se[Me]);var Xe=ge[Math.floor(Me*4/xe)];if(Ge=Me*4&Ze,xe<4+Ge)throw new Error("FAT boundary crossed: "+Me+" 4 "+xe);if(!se[Xe])break;Me=Z0(se[Xe],Ge)}return{nodes:Ee,data:R3([ze])}}function I(se,ke,ge,xe){var _e=se.length,Ee=[],ze=[],Ze=[],Me=[],Ge=xe-1,Xe=0,ft=0,kt=0,Ct=0;for(Xe=0;Xe<_e;++Xe)if(Ze=[],kt=Xe+ke,kt>=_e&&(kt-=_e),!ze[kt]){Me=[];var wt=[];for(ft=kt;ft>=0;){wt[ft]=!0,ze[ft]=!0,Ze[Ze.length]=ft,Me.push(se[ft]);var Et=ge[Math.floor(ft*4/xe)];if(Ct=ft*4&Ge,xe<4+Ct)throw new Error("FAT boundary crossed: "+ft+" 4 "+xe);if(!se[Et]||(ft=Z0(se[Et],Ct),wt[ft]))break}Ee[kt]={nodes:Ze,data:R3([Me])}}return Ee}function P(se,ke,ge,xe,_e,Ee,ze,Ze){for(var Me=0,Ge=xe.length?2:0,Xe=ke[se].data,ft=0,kt=0,Ct;ft<Xe.length;ft+=128){var wt=Xe.slice(ft,ft+128);gs(wt,64),kt=wt.read_shift(2),Ct=R5(wt,0,kt-Ge),xe.push(Ct);var Et={name:Ct,type:wt.read_shift(1),color:wt.read_shift(1),L:wt.read_shift(4,"i"),R:wt.read_shift(4,"i"),C:wt.read_shift(4,"i"),clsid:wt.read_shift(16),state:wt.read_shift(4,"i"),start:0,size:0},Qt=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);Qt!==0&&(Et.ct=z(wt,wt.l-8));var wr=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);wr!==0&&(Et.mt=z(wt,wt.l-8)),Et.start=wt.read_shift(4,"i"),Et.size=wt.read_shift(4,"i"),Et.size<0&&Et.start<0&&(Et.size=Et.type=0,Et.start=B,Et.name=""),Et.type===5?(Me=Et.start,_e>0&&Me!==B&&(ke[Me].name="!StreamData")):Et.size>=4096?(Et.storage="fat",ke[Et.start]===void 0&&(ke[Et.start]=N(ge,Et.start,ke.fat_addrs,ke.ssz)),ke[Et.start].name=Et.name,Et.content=ke[Et.start].data.slice(0,Et.size)):(Et.storage="minifat",Et.size<0?Et.size=0:Me!==B&&Et.start!==B&&ke[Me]&&(Et.content=k(Et,ke[Me].data,(ke[Ze]||{}).data))),Et.content&&gs(Et.content,0),Ee[Ct]=Et,ze.push(Et)}}function z(se,ke){return new Date((Ki(se,ke+4)/1e7*Math.pow(2,32)+Ki(se,ke)/1e7-11644473600)*1e3)}function G(se,ke){return d(),p(h.readFileSync(se),ke)}function W(se,ke){var ge=ke&&ke.type;switch(ge||Ur&&Buffer.isBuffer(se)&&(ge="buffer"),ge||"base64"){case"file":return G(se,ke);case"base64":return p(il(Ji(se)),ke);case"binary":return p(il(se),ke)}return p(se,ke)}function j(se,ke){var ge=ke||{},xe=ge.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=xe+"/",se.FileIndex[0]={name:xe,type:5}),ge.CLSID&&(se.FileIndex[0].clsid=ge.CLSID),L(se)}function L(se){var ke="Sh33tJ5";if(!Gr.find(se,"/"+ke)){var ge=Ma(4);ge[0]=55,ge[1]=ge[3]=50,ge[2]=54,se.FileIndex.push({name:ke,type:2,content:ge,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+ke),R(se)}}function R(se,ke){j(se);for(var ge=!1,xe=!1,_e=se.FullPaths.length-1;_e>=0;--_e){var Ee=se.FileIndex[_e];switch(Ee.type){case 0:xe?ge=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:xe=!0,isNaN(Ee.R*Ee.L*Ee.C)&&(ge=!0),Ee.R>-1&&Ee.L>-1&&Ee.R==Ee.L&&(ge=!0);break;default:ge=!0;break}}if(!(!ge&&!ke)){var ze=new Date(1987,1,19),Ze=0,Me=Object.create?Object.create(null):{},Ge=[];for(_e=0;_e<se.FullPaths.length;++_e)Me[se.FullPaths[_e]]=!0,se.FileIndex[_e].type!==0&&Ge.push([se.FullPaths[_e],se.FileIndex[_e]]);for(_e=0;_e<Ge.length;++_e){var Xe=n(Ge[_e][0]);xe=Me[Xe],xe||(Ge.push([Xe,{name:a(Xe).replace("/",""),type:1,clsid:ae,ct:ze,mt:ze,content:null}]),Me[Xe]=!0)}for(Ge.sort(function(Ct,wt){return r(Ct[0],wt[0])}),se.FullPaths=[],se.FileIndex=[],_e=0;_e<Ge.length;++_e)se.FullPaths[_e]=Ge[_e][0],se.FileIndex[_e]=Ge[_e][1];for(_e=0;_e<Ge.length;++_e){var ft=se.FileIndex[_e],kt=se.FullPaths[_e];if(ft.name=a(kt).replace("/",""),ft.L=ft.R=ft.C=-(ft.color=1),ft.size=ft.content?ft.content.length:0,ft.start=0,ft.clsid=ft.clsid||ae,_e===0)ft.C=Ge.length>1?1:-1,ft.size=0,ft.type=5;else if(kt.slice(-1)=="/"){for(Ze=_e+1;Ze<Ge.length&&n(se.FullPaths[Ze])!=kt;++Ze);for(ft.C=Ze>=Ge.length?-1:Ze,Ze=_e+1;Ze<Ge.length&&n(se.FullPaths[Ze])!=n(kt);++Ze);ft.R=Ze>=Ge.length?-1:Ze,ft.type=1}else n(se.FullPaths[_e+1]||"")==n(kt)&&(ft.R=_e+1),ft.type=2}}}function U(se,ke){var ge=ke||{};if(ge.fileType=="mad")return Rt(se,ge);switch(R(se),ge.fileType){case"zip":return na(se,ge)}var xe=function(Ct){for(var wt=0,Et=0,Qt=0;Qt<Ct.FileIndex.length;++Qt){var wr=Ct.FileIndex[Qt];if(wr.content){var _r=wr.content.length;_r>0&&(_r<4096?wt+=_r+63>>6:Et+=_r+511>>9)}}for(var Nr=Ct.FullPaths.length+3>>2,Ca=wt+7>>3,ci=wt+127>>7,xa=Ca+Et+Nr+ci,qa=xa+127>>7,os=qa<=109?0:Math.ceil((qa-109)/127);xa+qa+os+127>>7>qa;)os=++qa<=109?0:Math.ceil((qa-109)/127);var Ra=[1,os,qa,ci,Nr,Et,wt,0];return Ct.FileIndex[0].size=wt<<6,Ra[7]=(Ct.FileIndex[0].start=Ra[0]+Ra[1]+Ra[2]+Ra[3]+Ra[4]+Ra[5])+(Ra[6]+7>>3),Ra}(se),_e=Ma(xe[7]<<9),Ee=0,ze=0;{for(Ee=0;Ee<8;++Ee)_e.write_shift(1,ye[Ee]);for(Ee=0;Ee<8;++Ee)_e.write_shift(2,0);for(_e.write_shift(2,62),_e.write_shift(2,3),_e.write_shift(2,65534),_e.write_shift(2,9),_e.write_shift(2,6),Ee=0;Ee<3;++Ee)_e.write_shift(2,0);for(_e.write_shift(4,0),_e.write_shift(4,xe[2]),_e.write_shift(4,xe[0]+xe[1]+xe[2]+xe[3]-1),_e.write_shift(4,0),_e.write_shift(4,4096),_e.write_shift(4,xe[3]?xe[0]+xe[1]+xe[2]-1:B),_e.write_shift(4,xe[3]),_e.write_shift(-4,xe[1]?xe[0]-1:B),_e.write_shift(4,xe[1]),Ee=0;Ee<109;++Ee)_e.write_shift(-4,Ee<xe[2]?xe[1]+Ee:-1)}if(xe[1])for(ze=0;ze<xe[1];++ze){for(;Ee<236+ze*127;++Ee)_e.write_shift(-4,Ee<xe[2]?xe[1]+Ee:-1);_e.write_shift(-4,ze===xe[1]-1?B:ze+1)}var Ze=function(Ct){for(ze+=Ct;Ee<ze-1;++Ee)_e.write_shift(-4,Ee+1);Ct&&(++Ee,_e.write_shift(-4,B))};for(ze=Ee=0,ze+=xe[1];Ee<ze;++Ee)_e.write_shift(-4,le.DIFSECT);for(ze+=xe[2];Ee<ze;++Ee)_e.write_shift(-4,le.FATSECT);Ze(xe[3]),Ze(xe[4]);for(var Me=0,Ge=0,Xe=se.FileIndex[0];Me<se.FileIndex.length;++Me)Xe=se.FileIndex[Me],Xe.content&&(Ge=Xe.content.length,!(Ge<4096)&&(Xe.start=ze,Ze(Ge+511>>9)));for(Ze(xe[6]+7>>3);_e.l&511;)_e.write_shift(-4,le.ENDOFCHAIN);for(ze=Ee=0,Me=0;Me<se.FileIndex.length;++Me)Xe=se.FileIndex[Me],Xe.content&&(Ge=Xe.content.length,!(!Ge||Ge>=4096)&&(Xe.start=ze,Ze(Ge+63>>6)));for(;_e.l&511;)_e.write_shift(-4,le.ENDOFCHAIN);for(Ee=0;Ee<xe[4]<<2;++Ee){var ft=se.FullPaths[Ee];if(!ft||ft.length===0){for(Me=0;Me<17;++Me)_e.write_shift(4,0);for(Me=0;Me<3;++Me)_e.write_shift(4,-1);for(Me=0;Me<12;++Me)_e.write_shift(4,0);continue}Xe=se.FileIndex[Ee],Ee===0&&(Xe.start=Xe.size?Xe.start-1:B);var kt=Ee===0&&ge.root||Xe.name;if(Ge=2*(kt.length+1),_e.write_shift(64,kt,"utf16le"),_e.write_shift(2,Ge),_e.write_shift(1,Xe.type),_e.write_shift(1,Xe.color),_e.write_shift(-4,Xe.L),_e.write_shift(-4,Xe.R),_e.write_shift(-4,Xe.C),Xe.clsid)_e.write_shift(16,Xe.clsid,"hex");else for(Me=0;Me<4;++Me)_e.write_shift(4,0);_e.write_shift(4,Xe.state||0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,Xe.start),_e.write_shift(4,Xe.size),_e.write_shift(4,0)}for(Ee=1;Ee<se.FileIndex.length;++Ee)if(Xe=se.FileIndex[Ee],Xe.size>=4096)if(_e.l=Xe.start+1<<9,Ur&&Buffer.isBuffer(Xe.content))Xe.content.copy(_e,_e.l,0,Xe.size),_e.l+=Xe.size+511&-512;else{for(Me=0;Me<Xe.size;++Me)_e.write_shift(1,Xe.content[Me]);for(;Me&511;++Me)_e.write_shift(1,0)}for(Ee=1;Ee<se.FileIndex.length;++Ee)if(Xe=se.FileIndex[Ee],Xe.size>0&&Xe.size<4096)if(Ur&&Buffer.isBuffer(Xe.content))Xe.content.copy(_e,_e.l,0,Xe.size),_e.l+=Xe.size+63&-64;else{for(Me=0;Me<Xe.size;++Me)_e.write_shift(1,Xe.content[Me]);for(;Me&63;++Me)_e.write_shift(1,0)}if(Ur)_e.l=_e.length;else for(;_e.l<_e.length;)_e.write_shift(1,0);return _e}function D(se,ke){var ge=se.FullPaths.map(function(Me){return Me.toUpperCase()}),xe=ge.map(function(Me){var Ge=Me.split("/");return Ge[Ge.length-(Me.slice(-1)=="/"?2:1)]}),_e=!1;ke.charCodeAt(0)===47?(_e=!0,ke=ge[0].slice(0,-1)+ke):_e=ke.indexOf("/")!==-1;var Ee=ke.toUpperCase(),ze=_e===!0?ge.indexOf(Ee):xe.indexOf(Ee);if(ze!==-1)return se.FileIndex[ze];var Ze=!Ee.match(Qd);for(Ee=Ee.replace(oi,""),Ze&&(Ee=Ee.replace(Qd,"!")),ze=0;ze<ge.length;++ze)if((Ze?ge[ze].replace(Qd,"!"):ge[ze]).replace(oi,"")==Ee||(Ze?xe[ze].replace(Qd,"!"):xe[ze]).replace(oi,"")==Ee)return se.FileIndex[ze];return null}var C=64,B=-2,ne="d0cf11e0a1b11ae1",ye=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:ne,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(se,ke,ge){d();var xe=U(se,ge);h.writeFileSync(ke,xe)}function te(se){for(var ke=new Array(se.length),ge=0;ge<se.length;++ge)ke[ge]=String.fromCharCode(se[ge]);return ke.join("")}function Y(se,ke){var ge=U(se,ke);switch(ke&&ke.type||"buffer"){case"file":return d(),h.writeFileSync(ke.filename,ge),ge;case"binary":return typeof ge=="string"?ge:te(ge);case"base64":return h3(typeof ge=="string"?ge:te(ge));case"buffer":if(Ur)return Buffer.isBuffer(ge)?ge:Ef(ge);case"array":return typeof ge=="string"?il(ge):ge}return ge}var Te;function F(se){try{var ke=se.InflateRaw,ge=new ke;if(ge._processChunk(new Uint8Array([3,0]),ge._finishFlushFlag),ge.bytesRead)Te=se;else throw new Error("zlib does not expose bytesRead")}catch(xe){console.error("cannot use native zlib: "+(xe.message||xe))}}function H(se,ke){if(!Te)return br(se,ke);var ge=Te.InflateRaw,xe=new ge,_e=xe._processChunk(se.slice(se.l),xe._finishFlushFlag);return se.l+=xe.bytesRead,_e}function K(se){return Te?Te.deflateRawSync(se):Nt(se)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ve(se){var ke=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(ke>>16|ke>>8|ke)&255}for(var we=typeof Uint8Array<"u",Le=we?new Uint8Array(256):[],tt=0;tt<256;++tt)Le[tt]=ve(tt);function J(se,ke){var ge=Le[se&255];return ke<=8?ge>>>8-ke:(ge=ge<<8|Le[se>>8&255],ke<=16?ge>>>16-ke:(ge=ge<<8|Le[se>>16&255],ge>>>24-ke))}function Ne(se,ke){var ge=ke&7,xe=ke>>>3;return(se[xe]|(ge<=6?0:se[xe+1]<<8))>>>ge&3}function Qe(se,ke){var ge=ke&7,xe=ke>>>3;return(se[xe]|(ge<=5?0:se[xe+1]<<8))>>>ge&7}function je(se,ke){var ge=ke&7,xe=ke>>>3;return(se[xe]|(ge<=4?0:se[xe+1]<<8))>>>ge&15}function me(se,ke){var ge=ke&7,xe=ke>>>3;return(se[xe]|(ge<=3?0:se[xe+1]<<8))>>>ge&31}function Ke(se,ke){var ge=ke&7,xe=ke>>>3;return(se[xe]|(ge<=1?0:se[xe+1]<<8))>>>ge&127}function xt(se,ke,ge){var xe=ke&7,_e=ke>>>3,Ee=(1<<ge)-1,ze=se[_e]>>>xe;return ge<8-xe||(ze|=se[_e+1]<<8-xe,ge<16-xe)||(ze|=se[_e+2]<<16-xe,ge<24-xe)||(ze|=se[_e+3]<<24-xe),ze&Ee}function st(se,ke,ge){var xe=ke&7,_e=ke>>>3;return xe<=5?se[_e]|=(ge&7)<<xe:(se[_e]|=ge<<xe&255,se[_e+1]=(ge&7)>>8-xe),ke+3}function pt(se,ke,ge){var xe=ke&7,_e=ke>>>3;return ge=(ge&1)<<xe,se[_e]|=ge,ke+1}function _t(se,ke,ge){var xe=ke&7,_e=ke>>>3;return ge<<=xe,se[_e]|=ge&255,ge>>>=8,se[_e+1]=ge,ke+8}function bt(se,ke,ge){var xe=ke&7,_e=ke>>>3;return ge<<=xe,se[_e]|=ge&255,ge>>>=8,se[_e+1]=ge&255,se[_e+2]=ge>>>8,ke+16}function Dt(se,ke){var ge=se.length,xe=2*ge>ke?2*ge:ke+5,_e=0;if(ge>=ke)return se;if(Ur){var Ee=d3(xe);if(se.copy)se.copy(Ee);else for(;_e<se.length;++_e)Ee[_e]=se[_e];return Ee}else if(we){var ze=new Uint8Array(xe);if(ze.set)ze.set(se);else for(;_e<ge;++_e)ze[_e]=se[_e];return ze}return se.length=xe,se}function Ut(se){for(var ke=new Array(se),ge=0;ge<se;++ge)ke[ge]=0;return ke}function Wt(se,ke,ge){var xe=1,_e=0,Ee=0,ze=0,Ze=0,Me=se.length,Ge=we?new Uint16Array(32):Ut(32);for(Ee=0;Ee<32;++Ee)Ge[Ee]=0;for(Ee=Me;Ee<ge;++Ee)se[Ee]=0;Me=se.length;var Xe=we?new Uint16Array(Me):Ut(Me);for(Ee=0;Ee<Me;++Ee)Ge[_e=se[Ee]]++,xe<_e&&(xe=_e),Xe[Ee]=0;for(Ge[0]=0,Ee=1;Ee<=xe;++Ee)Ge[Ee+16]=Ze=Ze+Ge[Ee-1]<<1;for(Ee=0;Ee<Me;++Ee)Ze=se[Ee],Ze!=0&&(Xe[Ee]=Ge[Ze+16]++);var ft=0;for(Ee=0;Ee<Me;++Ee)if(ft=se[Ee],ft!=0)for(Ze=J(Xe[Ee],xe)>>xe-ft,ze=(1<<xe+4-ft)-1;ze>=0;--ze)ke[Ze|ze<<ft]=ft&15|Ee<<4;return xe}var jt=we?new Uint16Array(512):Ut(512),Ot=we?new Uint16Array(32):Ut(32);if(!we){for(var Ht=0;Ht<512;++Ht)jt[Ht]=0;for(Ht=0;Ht<32;++Ht)Ot[Ht]=0}(function(){for(var se=[],ke=0;ke<32;ke++)se.push(5);Wt(se,Ot,32);var ge=[];for(ke=0;ke<=143;ke++)ge.push(8);for(;ke<=255;ke++)ge.push(9);for(;ke<=279;ke++)ge.push(7);for(;ke<=287;ke++)ge.push(8);Wt(ge,jt,288)})();var It=function(){for(var ke=we?new Uint8Array(32768):[],ge=0,xe=0;ge<de.length-1;++ge)for(;xe<de[ge+1];++xe)ke[xe]=ge;for(;xe<32768;++xe)ke[xe]=29;var _e=we?new Uint8Array(259):[];for(ge=0,xe=0;ge<re.length-1;++ge)for(;xe<re[ge+1];++xe)_e[xe]=ge;function Ee(Ze,Me){for(var Ge=0;Ge<Ze.length;){var Xe=Math.min(65535,Ze.length-Ge),ft=Ge+Xe==Ze.length;for(Me.write_shift(1,+ft),Me.write_shift(2,Xe),Me.write_shift(2,~Xe&65535);Xe-- >0;)Me[Me.l++]=Ze[Ge++]}return Me.l}function ze(Ze,Me){for(var Ge=0,Xe=0,ft=we?new Uint16Array(32768):[];Xe<Ze.length;){var kt=Math.min(65535,Ze.length-Xe);if(kt<10){for(Ge=st(Me,Ge,+(Xe+kt==Ze.length)),Ge&7&&(Ge+=8-(Ge&7)),Me.l=Ge/8|0,Me.write_shift(2,kt),Me.write_shift(2,~kt&65535);kt-- >0;)Me[Me.l++]=Ze[Xe++];Ge=Me.l*8;continue}Ge=st(Me,Ge,+(Xe+kt==Ze.length)+2);for(var Ct=0;kt-- >0;){var wt=Ze[Xe];Ct=(Ct<<5^wt)&32767;var Et=-1,Qt=0;if((Et=ft[Ct])&&(Et|=Xe&-32768,Et>Xe&&(Et-=32768),Et<Xe))for(;Ze[Et+Qt]==Ze[Xe+Qt]&&Qt<250;)++Qt;if(Qt>2){wt=_e[Qt],wt<=22?Ge=_t(Me,Ge,Le[wt+1]>>1)-1:(_t(Me,Ge,3),Ge+=5,_t(Me,Ge,Le[wt-23]>>5),Ge+=3);var wr=wt<8?0:wt-4>>2;wr>0&&(bt(Me,Ge,Qt-re[wt]),Ge+=wr),wt=ke[Xe-Et],Ge=_t(Me,Ge,Le[wt]>>3),Ge-=3;var _r=wt<4?0:wt-2>>1;_r>0&&(bt(Me,Ge,Xe-Et-de[wt]),Ge+=_r);for(var Nr=0;Nr<Qt;++Nr)ft[Ct]=Xe&32767,Ct=(Ct<<5^Ze[Xe])&32767,++Xe;kt-=Qt-1}else wt<=143?wt=wt+48:Ge=pt(Me,Ge,1),Ge=_t(Me,Ge,Le[wt]),ft[Ct]=Xe&32767,++Xe}Ge=_t(Me,Ge,0)-1}return Me.l=(Ge+7)/8|0,Me.l}return function(Me,Ge){return Me.length<8?Ee(Me,Ge):ze(Me,Ge)}}();function Nt(se){var ke=Ma(50+Math.floor(se.length*1.1)),ge=It(se,ke);return ke.slice(0,ge)}var vt=we?new Uint16Array(32768):Ut(32768),Dr=we?new Uint16Array(32768):Ut(32768),qt=we?new Uint16Array(128):Ut(128),wn=1,pr=1;function Kr(se,ke){var ge=me(se,ke)+257;ke+=5;var xe=me(se,ke)+1;ke+=5;var _e=je(se,ke)+4;ke+=4;for(var Ee=0,ze=we?new Uint8Array(19):Ut(19),Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Me=1,Ge=we?new Uint8Array(8):Ut(8),Xe=we?new Uint8Array(8):Ut(8),ft=ze.length,kt=0;kt<_e;++kt)ze[Q[kt]]=Ee=Qe(se,ke),Me<Ee&&(Me=Ee),Ge[Ee]++,ke+=3;var Ct=0;for(Ge[0]=0,kt=1;kt<=Me;++kt)Xe[kt]=Ct=Ct+Ge[kt-1]<<1;for(kt=0;kt<ft;++kt)(Ct=ze[kt])!=0&&(Ze[kt]=Xe[Ct]++);var wt=0;for(kt=0;kt<ft;++kt)if(wt=ze[kt],wt!=0){Ct=Le[Ze[kt]]>>8-wt;for(var Et=(1<<7-wt)-1;Et>=0;--Et)qt[Ct|Et<<wt]=wt&7|kt<<3}var Qt=[];for(Me=1;Qt.length<ge+xe;)switch(Ct=qt[Ke(se,ke)],ke+=Ct&7,Ct>>>=3){case 16:for(Ee=3+Ne(se,ke),ke+=2,Ct=Qt[Qt.length-1];Ee-- >0;)Qt.push(Ct);break;case 17:for(Ee=3+Qe(se,ke),ke+=3;Ee-- >0;)Qt.push(0);break;case 18:for(Ee=11+Ke(se,ke),ke+=7;Ee-- >0;)Qt.push(0);break;default:Qt.push(Ct),Me<Ct&&(Me=Ct);break}var wr=Qt.slice(0,ge),_r=Qt.slice(ge);for(kt=ge;kt<286;++kt)wr[kt]=0;for(kt=xe;kt<30;++kt)_r[kt]=0;return wn=Wt(wr,vt,286),pr=Wt(_r,Dr,30),ke}function ga(se,ke){if(se[0]==3&&!(se[1]&3))return[w0(ke),2];for(var ge=0,xe=0,_e=d3(ke||1<<18),Ee=0,ze=_e.length>>>0,Ze=0,Me=0;(xe&1)==0;){if(xe=Qe(se,ge),ge+=3,xe>>>1)xe>>1==1?(Ze=9,Me=5):(ge=Kr(se,ge),Ze=wn,Me=pr);else{ge&7&&(ge+=8-(ge&7));var Ge=se[ge>>>3]|se[(ge>>>3)+1]<<8;if(ge+=32,Ge>0)for(!ke&&ze<Ee+Ge&&(_e=Dt(_e,Ee+Ge),ze=_e.length);Ge-- >0;)_e[Ee++]=se[ge>>>3],ge+=8;continue}for(;;){!ke&&ze<Ee+32767&&(_e=Dt(_e,Ee+32767),ze=_e.length);var Xe=xt(se,ge,Ze),ft=xe>>>1==1?jt[Xe]:vt[Xe];if(ge+=ft&15,ft>>>=4,(ft>>>8&255)===0)_e[Ee++]=ft;else{if(ft==256)break;ft-=257;var kt=ft<8?0:ft-4>>2;kt>5&&(kt=0);var Ct=Ee+re[ft];kt>0&&(Ct+=xt(se,ge,kt),ge+=kt),Xe=xt(se,ge,Me),ft=xe>>>1==1?Ot[Xe]:Dr[Xe],ge+=ft&15,ft>>>=4;var wt=ft<4?0:ft-2>>1,Et=de[ft];for(wt>0&&(Et+=xt(se,ge,wt),ge+=wt),!ke&&ze<Ct&&(_e=Dt(_e,Ct+100),ze=_e.length);Ee<Ct;)_e[Ee]=_e[Ee-Et],++Ee}}}return ke?[_e,ge+7>>>3]:[_e.slice(0,Ee),ge+7>>>3]}function br(se,ke){var ge=se.slice(se.l||0),xe=ga(ge,ke);return se.l+=xe[1],xe[0]}function bs(se,ke){if(se)typeof console<"u"&&console.error(ke);else throw new Error(ke)}function sn(se,ke){var ge=se;gs(ge,0);var xe=[],_e=[],Ee={FileIndex:xe,FullPaths:_e};j(Ee,{root:ke.root});for(var ze=ge.length-4;(ge[ze]!=80||ge[ze+1]!=75||ge[ze+2]!=5||ge[ze+3]!=6)&&ze>=0;)--ze;ge.l=ze+4,ge.l+=4;var Ze=ge.read_shift(2);ge.l+=6;var Me=ge.read_shift(4);for(ge.l=Me,ze=0;ze<Ze;++ze){ge.l+=20;var Ge=ge.read_shift(4),Xe=ge.read_shift(4),ft=ge.read_shift(2),kt=ge.read_shift(2),Ct=ge.read_shift(2);ge.l+=8;var wt=ge.read_shift(4),Et=c(ge.slice(ge.l+ft,ge.l+ft+kt));ge.l+=ft+kt+Ct;var Qt=ge.l;ge.l=wt+4,Un(ge,Ge,Xe,Ee,Et),ge.l=Qt}return Ee}function Un(se,ke,ge,xe,_e){se.l+=2;var Ee=se.read_shift(2),ze=se.read_shift(2),Ze=o(se);if(Ee&8257)throw new Error("Unsupported ZIP encryption");for(var Me=se.read_shift(4),Ge=se.read_shift(4),Xe=se.read_shift(4),ft=se.read_shift(2),kt=se.read_shift(2),Ct="",wt=0;wt<ft;++wt)Ct+=String.fromCharCode(se[se.l++]);if(kt){var Et=c(se.slice(se.l,se.l+kt));(Et[21589]||{}).mt&&(Ze=Et[21589].mt),((_e||{})[21589]||{}).mt&&(Ze=_e[21589].mt)}se.l+=kt;var Qt=se.slice(se.l,se.l+Ge);switch(ze){case 8:Qt=H(se,Xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ze)}var wr=!1;Ee&8&&(Me=se.read_shift(4),Me==134695760&&(Me=se.read_shift(4),wr=!0),Ge=se.read_shift(4),Xe=se.read_shift(4)),Ge!=ke&&bs(wr,"Bad compressed size: "+ke+" != "+Ge),Xe!=ge&&bs(wr,"Bad uncompressed size: "+ge+" != "+Xe),Fr(xe,Ct,Qt,{unsafe:!0,mt:Ze})}function na(se,ke){var ge=ke||{},xe=[],_e=[],Ee=Ma(1),ze=ge.compression?8:0,Ze=0,Me=0,Ge=0,Xe=0,ft=0,kt=se.FullPaths[0],Ct=kt,wt=se.FileIndex[0],Et=[],Qt=0;for(Me=1;Me<se.FullPaths.length;++Me)if(Ct=se.FullPaths[Me].slice(kt.length),wt=se.FileIndex[Me],!(!wt.size||!wt.content||Ct=="Sh33tJ5")){var wr=Xe,_r=Ma(Ct.length);for(Ge=0;Ge<Ct.length;++Ge)_r.write_shift(1,Ct.charCodeAt(Ge)&127);_r=_r.slice(0,_r.l),Et[ft]=zF.buf(wt.content,0);var Nr=wt.content;ze==8&&(Nr=K(Nr)),Ee=Ma(30),Ee.write_shift(4,67324752),Ee.write_shift(2,20),Ee.write_shift(2,Ze),Ee.write_shift(2,ze),wt.mt?s(Ee,wt.mt):Ee.write_shift(4,0),Ee.write_shift(-4,Et[ft]),Ee.write_shift(4,Nr.length),Ee.write_shift(4,wt.content.length),Ee.write_shift(2,_r.length),Ee.write_shift(2,0),Xe+=Ee.length,xe.push(Ee),Xe+=_r.length,xe.push(_r),Xe+=Nr.length,xe.push(Nr),Ee=Ma(46),Ee.write_shift(4,33639248),Ee.write_shift(2,0),Ee.write_shift(2,20),Ee.write_shift(2,Ze),Ee.write_shift(2,ze),Ee.write_shift(4,0),Ee.write_shift(-4,Et[ft]),Ee.write_shift(4,Nr.length),Ee.write_shift(4,wt.content.length),Ee.write_shift(2,_r.length),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(4,0),Ee.write_shift(4,wr),Qt+=Ee.l,_e.push(Ee),Qt+=_r.length,_e.push(_r),++ft}return Ee=Ma(22),Ee.write_shift(4,101010256),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,ft),Ee.write_shift(2,ft),Ee.write_shift(4,Qt),Ee.write_shift(4,Xe),Ee.write_shift(2,0),r0([r0(xe),r0(_e),Ee])}var Wr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $t(se,ke){if(se.ctype)return se.ctype;var ge=se.name||"",xe=ge.match(/\.([^\.]+)$/);return xe&&Wr[xe[1]]||ke&&(xe=(ge=ke).match(/[\.\\]([^\.\\])+$/),xe&&Wr[xe[1]])?Wr[xe[1]]:"application/octet-stream"}function Tr(se){for(var ke=h3(se),ge=[],xe=0;xe<ke.length;xe+=76)ge.push(ke.slice(xe,xe+76));return ge.join(`\r
`)+`\r
`}function za(se){var ke=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ge){var Xe=Ge.charCodeAt(0).toString(16).toUpperCase();return"="+(Xe.length==1?"0"+Xe:Xe)});ke=ke.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ke.charAt(0)==`
`&&(ke="=0D"+ke.slice(1)),ke=ke.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ge=[],xe=ke.split(`\r
`),_e=0;_e<xe.length;++_e){var Ee=xe[_e];if(Ee.length==0){ge.push("");continue}for(var ze=0;ze<Ee.length;){var Ze=76,Me=Ee.slice(ze,ze+Ze);Me.charAt(Ze-1)=="="?Ze--:Me.charAt(Ze-2)=="="?Ze-=2:Me.charAt(Ze-3)=="="&&(Ze-=3),Me=Ee.slice(ze,ze+Ze),ze+=Ze,ze<Ee.length&&(Me+="="),ge.push(Me)}}return ge.join(`\r
`)}function Sn(se){for(var ke=[],ge=0;ge<se.length;++ge){for(var xe=se[ge];ge<=se.length&&xe.charAt(xe.length-1)=="=";)xe=xe.slice(0,xe.length-1)+se[++ge];ke.push(xe)}for(var _e=0;_e<ke.length;++_e)ke[_e]=ke[_e].replace(/[=][0-9A-Fa-f]{2}/g,function(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))});return il(ke.join(`\r
`))}function aa(se,ke,ge){for(var xe="",_e="",Ee="",ze,Ze=0;Ze<10;++Ze){var Me=ke[Ze];if(!Me||Me.match(/^\s*$/))break;var Ge=Me.match(/^(.*?):\s*([^\s].*)$/);if(Ge)switch(Ge[1].toLowerCase()){case"content-location":xe=Ge[2].trim();break;case"content-type":Ee=Ge[2].trim();break;case"content-transfer-encoding":_e=Ge[2].trim();break}}switch(++Ze,_e.toLowerCase()){case"base64":ze=il(Ji(ke.slice(Ze).join("")));break;case"quoted-printable":ze=Sn(ke.slice(Ze));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+_e)}var Xe=Fr(se,xe.slice(ge.length),ze,{unsafe:!0});Ee&&(Xe.ctype=Ee)}function is(se,ke){if(te(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ge=ke&&ke.root||"",xe=(Ur&&Buffer.isBuffer(se)?se.toString("binary"):te(se)).split(`\r
`),_e=0,Ee="";for(_e=0;_e<xe.length;++_e)if(Ee=xe[_e],!!/^Content-Location:/i.test(Ee)&&(Ee=Ee.slice(Ee.indexOf("file")),ge||(ge=Ee.slice(0,Ee.lastIndexOf("/")+1)),Ee.slice(0,ge.length)!=ge))for(;ge.length>0&&(ge=ge.slice(0,ge.length-1),ge=ge.slice(0,ge.lastIndexOf("/")+1),Ee.slice(0,ge.length)!=ge););var ze=(xe[1]||"").match(/boundary="(.*?)"/);if(!ze)throw new Error("MAD cannot find boundary");var Ze="--"+(ze[1]||""),Me=[],Ge=[],Xe={FileIndex:Me,FullPaths:Ge};j(Xe);var ft,kt=0;for(_e=0;_e<xe.length;++_e){var Ct=xe[_e];Ct!==Ze&&Ct!==Ze+"--"||(kt++&&aa(Xe,xe.slice(ft,_e),ge),ft=_e)}return Xe}function Rt(se,ke){var ge=ke||{},xe=ge.boundary||"SheetJS";xe="------="+xe;for(var _e=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+xe.slice(2)+'"',"","",""],Ee=se.FullPaths[0],ze=Ee,Ze=se.FileIndex[0],Me=1;Me<se.FullPaths.length;++Me)if(ze=se.FullPaths[Me].slice(Ee.length),Ze=se.FileIndex[Me],!(!Ze.size||!Ze.content||ze=="Sh33tJ5")){ze=ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qt){return"_x"+Qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qt){return"_u"+Qt.charCodeAt(0).toString(16)+"_"});for(var Ge=Ze.content,Xe=Ur&&Buffer.isBuffer(Ge)?Ge.toString("binary"):te(Ge),ft=0,kt=Math.min(1024,Xe.length),Ct=0,wt=0;wt<=kt;++wt)(Ct=Xe.charCodeAt(wt))>=32&&Ct<128&&++ft;var Et=ft>=kt*4/5;_e.push(xe),_e.push("Content-Location: "+(ge.root||"file:///C:/SheetJS/")+ze),_e.push("Content-Transfer-Encoding: "+(Et?"quoted-printable":"base64")),_e.push("Content-Type: "+$t(Ze,ze)),_e.push(""),_e.push(Et?za(Xe):Tr(Xe))}return _e.push(xe+`--\r
`),_e.join(`\r
`)}function Yr(se){var ke={};return j(ke,se),ke}function Fr(se,ke,ge,xe){var _e=xe&&xe.unsafe;_e||j(se);var Ee=!_e&&Gr.find(se,ke);if(!Ee){var ze=se.FullPaths[0];ke.slice(0,ze.length)==ze?ze=ke:(ze.slice(-1)!="/"&&(ze+="/"),ze=(ze+ke).replace("//","/")),Ee={name:a(ke),type:2},se.FileIndex.push(Ee),se.FullPaths.push(ze),_e||Gr.utils.cfb_gc(se)}return Ee.content=ge,Ee.size=ge?ge.length:0,xe&&(xe.CLSID&&(Ee.clsid=xe.CLSID),xe.mt&&(Ee.mt=xe.mt),xe.ct&&(Ee.ct=xe.ct)),Ee}function fn(se,ke){j(se);var ge=Gr.find(se,ke);if(ge){for(var xe=0;xe<se.FileIndex.length;++xe)if(se.FileIndex[xe]==ge)return se.FileIndex.splice(xe,1),se.FullPaths.splice(xe,1),!0}return!1}function _n(se,ke,ge){j(se);var xe=Gr.find(se,ke);if(xe){for(var _e=0;_e<se.FileIndex.length;++_e)if(se.FileIndex[_e]==xe)return se.FileIndex[_e].name=a(ge),se.FullPaths[_e]=ge,!0}return!1}function Tn(se){R(se,!0)}return e.find=D,e.read=W,e.parse=p,e.write=Y,e.writeFile=ce,e.utils={cfb_new:Yr,cfb_add:Fr,cfb_del:fn,cfb_mov:_n,cfb_gc:Tn,ReadShift:cm,CheckField:ES,prep_blob:gs,bconcat:r0,use_zlib:F,_deflateRaw:Nt,_inflateRaw:br,consts:le},e}();function qF(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function sc(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function S5(t){for(var e=[],r=sc(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var E1=new Date(1899,11,30,0,0,0);function li(t,e){var r=t.getTime(),n=E1.getTime()+(t.getTimezoneOffset()-E1.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var nS=new Date,HF=E1.getTime()+(nS.getTimezoneOffset()-E1.getTimezoneOffset())*6e4,w3=nS.getTimezoneOffset();function gx(t){var e=new Date;return e.setTime(t*24*60*60*1e3+HF),e.getTimezoneOffset()!==w3&&e.setTime(e.getTime()+(e.getTimezoneOffset()-w3)*6e4),e}function GF(t){var e=0,r=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[s],10)}return e}var _3=new Date("2017-02-19T19:06:09.000Z"),aS=isNaN(_3.getFullYear())?new Date("2/19/17"):_3,$F=aS.getFullYear()==2017;function ns(t,e){var r=new Date(t);if($F)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(aS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function yf(t,e){if(Ur&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Zd(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Zd(H6(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Zd(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Zd(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function xs(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=xs(t[r]));return e}function ta(t,e){for(var r="";r.length<e;)r+=t;return r}function fl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var KF=["january","february","march","april","may","june","july","august","september","october","november","december"];function Uh(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&KF.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var WF=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],c=1;c<s.length;++c)o.push(a),o.push(s[c]);return o}}();function sS(t){return t?t.content&&t.type?yf(t.content,!0):t.data?Xd(t.data):t.asNodeBuffer&&Ur?Xd(t.asNodeBuffer().toString("binary")):t.asBinary?Xd(t.asBinary()):t._data&&t._data.getContent?Xd(yf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function iS(t){if(!t)return null;if(t.data)return u3(t.data);if(t.asNodeBuffer&&Ur)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?u3(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function YF(t){return t&&t.name.slice(-4)===".bin"?iS(t):sS(t)}function Ao(t,e){for(var r=t.FullPaths||sc(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function T5(t,e){var r=Ao(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Aa(t,e,r){if(!r)return YF(T5(t,e));if(!e)return null;try{return Aa(t,e)}catch{return null}}function Yi(t,e,r){if(!r)return sS(T5(t,e));if(!e)return null;try{return Yi(t,e)}catch{return null}}function XF(t,e,r){return iS(T5(t,e))}function k3(t){for(var e=t.FullPaths||sc(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function QF(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Ur?n=Ef(r):n=gF(r),Gr.utils.cfb_add(t,e,n)}Gr.utils.cfb_add(t,e,r)}else t.file(e,r)}function oS(t,e){switch(e.type){case"base64":return Gr.read(t,{type:"base64"});case"binary":return Gr.read(t,{type:"binary"});case"buffer":case"array":return Gr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Jd(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var lS=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,JF=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,E3=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,ZF=/<[^>]*>/g,Js=lS.match(E3)?E3:ZF,eM=/<\w*:/,tM=/<(\/?)\w+:/;function lr(t,e,r){for(var n={},a=0,s=0;a!==t.length&&!((s=t.charCodeAt(a))===32||s===10||s===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var o=t.match(JF),c=0,h="",d=0,p="",y="",v=1;if(o)for(d=0;d!=o.length;++d){for(y=o[d],s=0;s!=y.length&&y.charCodeAt(s)!==61;++s);for(p=y.slice(0,s).trim();y.charCodeAt(s+1)==32;)++s;for(v=(a=y.charCodeAt(s+1))==34||a==39?1:0,h=y.slice(s+1+v,y.length-v),c=0;c!=p.length&&p.charCodeAt(c)!==58;++c);if(c===p.length)p.indexOf("_")>0&&(p=p.slice(0,p.indexOf("_"))),n[p]=h,n[p.toLowerCase()]=h;else{var b=(c===5&&p.slice(0,5)==="xmlns"?"xmlns":"")+p.slice(c+1);if(n[b]&&p.slice(c-3,c)=="ext")continue;n[b]=h,n[b.toLowerCase()]=h}}return n}function lc(t){return t.replace(tM,"<$1")}var cS={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rM=S5(cS),Qr=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(t,function(c,h){return cS[c]||String.fromCharCode(parseInt(h,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,h){return String.fromCharCode(parseInt(h,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}}(),nM=/[&<>'"]/g,aM=/[\u0000-\u001f]/g;function N5(t){var e=t+"";return e.replace(nM,function(r){return rM[r]}).replace(/\n/g,"<br/>").replace(aM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var A3=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function Mn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ay(t){for(var e="",r=0,n=0,a=0,s=0,o=0,c=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=t.charCodeAt(r++),c=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function S3(t){var e=w0(2*t.length),r,n,a=1,s=0,o=0,c;for(n=0;n<t.length;n+=a)a=1,(c=t.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(t.charCodeAt(n+1)&63),a=2):c<240?(r=(c&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(c&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function T3(t){return Ef(t,"binary").toString("utf8")}var _g="foo bar bazâð£",Rn=Ur&&(T3(_g)==ay(_g)&&T3||S3(_g)==ay(_g)&&S3)||ay,Zd=Ur?function(t){return Ef(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},jm=function(){var t={};return function(r,n){var a=r+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),uS=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}}(),sM=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),iM=/<\/?(?:vt:)?variant>/g,oM=/<(?:vt:)([^>]*)>([\s\S]*)</;function N3(t,e){var r=lr(t),n=t.match(sM(r.baseType))||[],a=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace(iM,"").match(oM);o&&a.push({v:Rn(o[2]),t:o[1]})}),a}var lM=/(^\s|\s$|\n)/;function cM(t){return sc(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function uM(t,e,r){return"<"+t+(r!=null?cM(r):"")+(e!=null?(e.match(lM)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function C5(t){if(Ur&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Rn(Af(k5(t)));throw new Error("Bad input format: expected Buffer or string")}var Om=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,fM={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},hM=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function dM(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,s=5;s>=0;--s)a=a*256+t[e+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function mM(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,s=0,o=n?-e:e;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[r+c]=s&255;t[r+6]=(a&15)<<4|s&15,t[r+7]=a>>4|n}var C3=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,s=t[0][n].length;a<s;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},R3=Ur?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ef(e)})):C3(t)}:C3,I3=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(Hc(t,a)));return n.join("").replace(oi,"")},R5=Ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(oi,""):I3(t,e,r)}:I3,D3=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},fS=Ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):D3(t,e,r)}:D3,L3=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(mh(t,a)));return n.join("")},sp=Ur?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):L3(e,r,n)}:L3,hS=function(t,e){var r=Ki(t,e);return r>0?sp(t,e+4,e+4+r-1):""},dS=hS,mS=function(t,e){var r=Ki(t,e);return r>0?sp(t,e+4,e+4+r-1):""},pS=mS,gS=function(t,e){var r=2*Ki(t,e);return r>0?sp(t,e+4,e+4+r-1):""},xS=gS,yS=function(e,r){var n=Ki(e,r);return n>0?R5(e,r+4,r+4+n):""},vS=yS,bS=function(t,e){var r=Ki(t,e);return r>0?sp(t,e+4,e+4+r):""},wS=bS,_S=function(t,e){return dM(t,e)},A1=_S,kS=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ur&&(dS=function(e,r){if(!Buffer.isBuffer(e))return hS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},pS=function(e,r){if(!Buffer.isBuffer(e))return mS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},xS=function(e,r){if(!Buffer.isBuffer(e))return gS(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},vS=function(e,r){if(!Buffer.isBuffer(e))return yS(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},wS=function(e,r){if(!Buffer.isBuffer(e))return bS(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},A1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):_S(e,r)},kS=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var mh=function(t,e){return t[e]},Hc=function(t,e){return t[e+1]*256+t[e]},pM=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Ki=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Z0=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},gM=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function cm(t,e){var r="",n,a,s=[],o,c,h,d;switch(e){case"dbcs":if(d=this.l,Ur&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(h=0;h<t;++h)r+=String.fromCharCode(Hc(this,d)),d+=2;t*=2;break;case"utf8":r=sp(this,this.l,this.l+t);break;case"utf16le":t*=2,r=R5(this,this.l,this.l+t);break;case"wstr":return cm.call(this,t,"dbcs");case"lpstr-ansi":r=dS(this,this.l),t=4+Ki(this,this.l);break;case"lpstr-cp":r=pS(this,this.l),t=4+Ki(this,this.l);break;case"lpwstr":r=xS(this,this.l),t=4+2*Ki(this,this.l);break;case"lpp4":t=4+Ki(this,this.l),r=vS(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ki(this,this.l),r=wS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=mh(this,this.l+t++))!==0;)s.push(wg(o));r=s.join("");break;case"_wstr":for(t=0,r="";(o=Hc(this,this.l+t))!==0;)s.push(wg(o)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",d=this.l,h=0;h<t;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return o=mh(this,d),this.l=d+1,c=cm.call(this,t-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(wg(Hc(this,d))),d+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,h=0;h!=t;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return o=mh(this,d),this.l=d+1,c=cm.call(this,t-h,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(wg(mh(this,d))),d+=1}r=s.join("");break;default:switch(t){case 1:return n=mh(this,this.l),this.l++,n;case 2:return n=(e==="i"?pM:Hc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Z0:gM)(this,this.l),this.l+=4,n):(a=Ki(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=A1(this,this.l):a=A1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=fS(this,this.l,t);break}}return this.l+=t,r}var xM=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},yM=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},vM=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function bM(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)vM(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var o=e.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,xM(this,e,this.l);break;case 8:if(n=8,r==="f"){mM(this,e,this.l);break}case 16:break;case-4:n=4,yM(this,e,this.l);break}return this.l+=n,this}function ES(t,e){var r=fS(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function gs(t,e){t.l=e,t.read_shift=cm,t.chk=ES,t.write_shift=bM}function Qs(t,e){t.l+=e}function Ma(t){var e=w0(t);return gs(e,0),e}function hu(t,e,r){if(t){var n,a,s;gs(t,t.l||0);for(var o=t.length,c=0,h=0;t.l<o;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var d=I1[c]||I1[65535];for(n=t.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=t.read_shift(1))&127)<<7*a;h=t.l+s;var p=d.f&&d.f(t,s,r);if(t.l=h,e(p,d,c))return}}}function av(){var t=[],e=Ur?256:2048,r=function(d){var p=Ma(d);return gs(p,0),p},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,e)))},o=function(){return a(),r0(t)},c=function(d){a(),n=d,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:c,end:o,_bufs:t}}function um(t,e,r){var n=xs(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function j3(t,e,r){var n=xs(t);return n.s=um(n.s,e.s,r),n.e=um(n.e,e.s,r),n}function fm(t,e){if(t.cRel&&t.c<0)for(t=xs(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=xs(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=dr(t);return!t.cRel&&t.cRel!=null&&(r=kM(r)),!t.rRel&&t.rRel!=null&&(r=wM(r)),r}function sy(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ba(t.s.c)+":"+(t.e.cRel?"":"$")+Ba(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ys(t.s.r)+":"+(t.e.rRel?"":"$")+ys(t.e.r):fm(t.s,e.biff)+":"+fm(t.e,e.biff)}function I5(t){return parseInt(_M(t),10)-1}function ys(t){return""+(t+1)}function wM(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _M(t){return t.replace(/\$(\d+)$/,"$1")}function D5(t){for(var e=EM(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Ba(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function kM(t){return t.replace(/^([A-Z])/,"$$$1")}function EM(t){return t.replace(/^\$([A-Z])/,"$1")}function AM(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ii(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function dr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Zh(t){var e=t.indexOf(":");return e==-1?{s:ii(t),e:ii(t)}:{s:ii(t.slice(0,e)),e:ii(t.slice(e+1))}}function $r(t,e){return typeof e>"u"||typeof e=="number"?$r(t.s,t.e):(typeof t!="string"&&(t=dr(t)),typeof e!="string"&&(e=dr(e)),t==e?t:t+":"+e)}function ra(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=t.length;for(r=0;n<s&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<s&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===s||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=s&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function O3(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ro(t.z,r?li(e):e)}catch{}try{return t.w=Ro((t.XF||{}).numFmtId||(r?14:0),r?li(e):e)}catch{return""+e}}function iu(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Nf[t.v]||t.v:e==null?O3(t,t.v):O3(t,e))}function T0(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function AS(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,s=t||(a?[]:{}),o=0,c=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var h=typeof n.origin=="string"?ii(n.origin):n.origin;o=h.r,c=h.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=ra(s["!ref"]);d.s.c=p.s.c,d.s.r=p.s.r,d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),o==-1&&(d.e.r=o=p.e.r+1)}for(var y=0;y!=e.length;++y)if(e[y]){if(!Array.isArray(e[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[y].length;++v)if(!(typeof e[y][v]>"u")){var b={v:e[y][v]},E=o+y,k=c+v;if(d.s.r>E&&(d.s.r=E),d.s.c>k&&(d.s.c=k),d.e.r<E&&(d.e.r=E),d.e.c<k&&(d.e.c=k),e[y][v]&&typeof e[y][v]=="object"&&!Array.isArray(e[y][v])&&!(e[y][v]instanceof Date))b=e[y][v];else if(Array.isArray(b.v)&&(b.f=e[y][v][1],b.v=b.v[0]),b.v===null)if(b.f)b.t="n";else if(n.nullError)b.t="e",b.v=0;else if(n.sheetStubs)b.t="z";else continue;else typeof b.v=="number"?b.t="n":typeof b.v=="boolean"?b.t="b":b.v instanceof Date?(b.z=n.dateNF||gr[14],n.cellDates?(b.t="d",b.w=Ro(b.z,li(b.v))):(b.t="n",b.v=li(b.v),b.w=Ro(b.z,b.v))):b.t="s";if(a)s[E]||(s[E]=[]),s[E][k]&&s[E][k].z&&(b.z=s[E][k].z),s[E][k]=b;else{var A=dr({c:k,r:E});s[A]&&s[A].z&&(b.z=s[A].z),s[A]=b}}}return d.s.c<1e7&&(s["!ref"]=$r(d)),s}function ed(t,e){return AS(null,t,e)}function SM(t){return t.read_shift(4,"i")}function Ys(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function TM(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function L5(t,e){var r=t.l,n=t.read_shift(1),a=Ys(t),s=[],o={t:a,h:a};if((n&1)!==0){for(var c=t.read_shift(4),h=0;h!=c;++h)s.push(TM(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}var NM=L5;function Io(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Sf(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var CM=Ys;function j5(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var RM=Ys,sv=j5;function O5(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?A1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Z0(e,0)>>2;return r?a/100:a}function SS(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Tf=SS;function Gs(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function IM(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),h=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var d=sf[a];d&&(e.rgb=Fm(d));break;case 2:e.rgb=Fm([o,c,h]);break;case 3:e.theme=a;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function DM(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function TS(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function LM(t){return TS(t,1)}function jM(t){return TS(t,2)}var P5=2,Ai=3,kg=11,P3=12,S1=19,Eg=64,OM=65,PM=71,FM=4108,MM=4126,Za=80,NS=81,BM=[Za,NS],UM={1:{n:"CodePage",t:P5},2:{n:"Category",t:Za},3:{n:"PresentationFormat",t:Za},4:{n:"ByteCount",t:Ai},5:{n:"LineCount",t:Ai},6:{n:"ParagraphCount",t:Ai},7:{n:"SlideCount",t:Ai},8:{n:"NoteCount",t:Ai},9:{n:"HiddenCount",t:Ai},10:{n:"MultimediaClipCount",t:Ai},11:{n:"ScaleCrop",t:kg},12:{n:"HeadingPairs",t:FM},13:{n:"TitlesOfParts",t:MM},14:{n:"Manager",t:Za},15:{n:"Company",t:Za},16:{n:"LinksUpToDate",t:kg},17:{n:"CharacterCount",t:Ai},19:{n:"SharedDoc",t:kg},22:{n:"HyperlinksChanged",t:kg},23:{n:"AppVersion",t:Ai,p:"version"},24:{n:"DigSig",t:OM},26:{n:"ContentType",t:Za},27:{n:"ContentStatus",t:Za},28:{n:"Language",t:Za},29:{n:"Version",t:Za},255:{},2147483648:{n:"Locale",t:S1},2147483651:{n:"Behavior",t:S1},1919054434:{}},VM={1:{n:"CodePage",t:P5},2:{n:"Title",t:Za},3:{n:"Subject",t:Za},4:{n:"Author",t:Za},5:{n:"Keywords",t:Za},6:{n:"Comments",t:Za},7:{n:"Template",t:Za},8:{n:"LastAuthor",t:Za},9:{n:"RevNumber",t:Za},10:{n:"EditTime",t:Eg},11:{n:"LastPrinted",t:Eg},12:{n:"CreatedDate",t:Eg},13:{n:"ModifiedDate",t:Eg},14:{n:"PageCount",t:Ai},15:{n:"WordCount",t:Ai},16:{n:"CharCount",t:Ai},17:{n:"Thumbnail",t:PM},18:{n:"Application",t:Za},19:{n:"DocSecurity",t:Ai},255:{},2147483648:{n:"Locale",t:S1},2147483651:{n:"Behavior",t:S1},1919054434:{}},F3={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},zM=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function qM(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var HM=qM([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),sf=xs(HM),Nf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},CS={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},M3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function GM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function $M(t){var e=GM();if(!t||!t.match)return e;var r={};if((t.match(Js)||[]).forEach(function(n){var a=lr(n);switch(a[0].replace(eM,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[M3[a.ContentType]]!==void 0&&e[M3[a.ContentType]].push(a.PartName);break}}),e.xmlns!==fM.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var yh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function iv(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function hm(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Js)||[]).forEach(function(a){var s=lr(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:Jd(s.Target,e);r[c]=o,n[s.Id]=o}}),r["!id"]=n,r}var KM="application/vnd.oasis.opendocument.spreadsheet";function WM(t,e){for(var r=C5(t),n,a;n=Om.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=lr(n[0],!1),a.path=="/"&&a.type!==KM)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var dm=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],YM=function(){for(var t=new Array(dm.length),e=0;e<dm.length;++e){var r=dm[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function RS(t){var e={};t=Rn(t);for(var r=0;r<dm.length;++r){var n=dm[r],a=t.match(YM[r]);a!=null&&a.length>0&&(e[n[1]]=Qr(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=ns(e[n[1]]))}return e}var XM=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function IS(t,e,r,n){var a=[];if(typeof t=="string")a=N3(t,n);else for(var s=0;s<t.length;++s)a=a.concat(t[s].map(function(p){return{v:p}}));var o=typeof e=="string"?N3(e,n).map(function(p){return p.v}):e,c=0,h=0;if(o.length>0)for(var d=0;d!==a.length;d+=2){switch(h=+a[d+1].v,a[d].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=h,r.SheetNames=o.slice(c,c+h);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=h,r.DefinedNames=o.slice(c,c+h);break;case"Charts":case"Diagramme":r.Chartsheets=h,r.ChartNames=o.slice(c,c+h);break}c+=h}}function QM(t,e,r){var n={};return e||(e={}),t=Rn(t),XM.forEach(function(a){var s=(t.match(jm(a[0]))||[])[1];switch(a[2]){case"string":s&&(e[a[1]]=Qr(s));break;case"bool":e[a[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&IS(n.HeadingPairs,n.TitlesOfParts,e,r),e}var JM=/<[^>]+>[^<]*/g;function ZM(t,e){var r={},n="",a=t.match(JM);if(a)for(var s=0;s!=a.length;++s){var o=a[s],c=lr(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Qr(c.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var h=o.split(">"),d=h[0].slice(4),p=h[1];switch(d){case"lpstr":case"bstr":case"lpwstr":r[n]=Qr(p);break;case"bool":r[n]=Mn(p);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(p,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(p);break;case"filetime":case"date":r[n]=ns(p);break;case"cy":case"error":r[n]=Qr(p);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,h)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return r}var eB={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},iy;function tB(t,e,r){iy||(iy=S5(eB)),e=iy[e]||e,t[e]=r}function F5(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function DS(t,e,r){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return a}function LS(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function jS(t,e,r){return e===31?LS(t):DS(t,e,r)}function ov(t,e,r){return jS(t,e,r===!1?0:4)}function rB(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return jS(t,e,0)}function nB(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var a=t.l;r[n]=t.read_shift(0,"lpwstr").replace(oi,""),t.l-a&2&&(t.l+=2)}return r}function aB(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(oi,"");return r}function sB(t){var e=t.l,r=T1(t,NS);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=T1(t,Ai);return[r,n]}function iB(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(sB(t));return r}function B3(t,e){for(var r=t.read_shift(4),n={},a=0;a!=r;++a){var s=t.read_shift(4),o=t.read_shift(4);n[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(oi,"").replace(Qd,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function OS(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function oB(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function T1(t,e,r){var n=t.read_shift(2),a,s=r||{};if(t.l+=2,e!==P3&&n!==e&&BM.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===P3?n:e){case 2:return a=t.read_shift(2,"i"),s.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return DS(t,n,4).replace(oi,"");case 31:return LS(t);case 64:return F5(t);case 65:return OS(t);case 71:return oB(t);case 80:return ov(t,n,!s.raw).replace(oi,"");case 81:return rB(t,n).replace(oi,"");case 4108:return iB(t);case 4126:case 4127:return n==4127?nB(t):aB(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function U3(t,e){var r=t.l,n=t.read_shift(4),a=t.read_shift(4),s=[],o=0,c=0,h=-1,d={};for(o=0;o!=a;++o){var p=t.read_shift(4),y=t.read_shift(4);s[o]=[p,y+r]}s.sort(function(I,P){return I[1]-P[1]});var v={};for(o=0;o!=a;++o){if(t.l!==s[o][1]){var b=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,b=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],b=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],b=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(b=!1,t.l=s[o][1]),b)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var E=e[s[o][0]];if(v[E.n]=T1(t,E.t,{raw:!0}),E.p==="version"&&(v[E.n]=String(v[E.n]>>16)+"."+("0000"+String(v[E.n]&65535)).slice(-4)),E.n=="CodePage")switch(v[E.n]){case 0:v[E.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:cl(c=v[E.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[E.n])}}else if(s[o][0]===1){if(c=v.CodePage=T1(t,P5),cl(c),h!==-1){var k=t.l;t.l=s[h][1],d=B3(t,c),t.l=k}}else if(s[o][0]===0){if(c===0){h=o,t.l=s[o+1][1];continue}d=B3(t,c)}else{var A=d[s[o][0]],N;switch(t[t.l]){case 65:t.l+=4,N=OS(t);break;case 30:t.l+=4,N=ov(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,N=ov(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,N=t.read_shift(4,"i");break;case 19:t.l+=4,N=t.read_shift(4);break;case 5:t.l+=4,N=t.read_shift(8,"f");break;case 11:t.l+=4,N=fa(t,4);break;case 64:t.l+=4,N=ns(F5(t));break;default:throw new Error("unparsed value: "+t[t.l])}v[A]=N}}return t.l=r+n,v}function V3(t,e,r){var n=t.content;if(!n)return{};gs(n,0);var a,s,o,c,h=0;n.chk("feff","Byte Order: "),n.read_shift(2);var d=n.read_shift(4),p=n.read_shift(16);if(p!==Gr.utils.consts.HEADER_CLSID&&p!==r)throw new Error("Bad PropertySet CLSID "+p);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),c=n.read_shift(4),a===1&&c!==n.l)throw new Error("Length mismatch: "+c+" !== "+n.l);a===2&&(o=n.read_shift(16),h=n.read_shift(4));var y=U3(n,e),v={SystemIdentifier:d};for(var b in y)v[b]=y[b];if(v.FMTID=s,a===1)return v;if(h-n.l==2&&(n.l+=2),n.l!==h)throw new Error("Length mismatch 2: "+n.l+" !== "+h);var E;try{E=U3(n,null)}catch{}for(b in E)v[b]=E[b];return v.FMTID=[s,o],v}function Qu(t,e){return t.read_shift(e),null}function lB(t,e,r){for(var n=[],a=t.l+e;t.l<a;)n.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function fa(t,e){return t.read_shift(e)===1}function Sa(t){return t.read_shift(2,"u")}function PS(t,e){return lB(t,e,Sa)}function cB(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function ip(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?t.read_shift(n,a):"";return o}function uB(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,c,h={};a&&(o=t.read_shift(2)),n&&(c=t.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",p=e===0?"":t.read_shift(e,d);return a&&(t.l+=4*o),n&&(t.l+=c),h.t=p,a||(h.raw="<t>"+h.t+"</t>",h.r=h.t),h}function vf(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function op(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):vf(t,n,r)}function Cf(t,e,r){if(r.biff>5)return op(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function fB(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function hB(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(oi,"");return n&&(t.l+=24),a}function dB(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace(oi,"");return r+o}function mB(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return hB(t);case"0303000000000000c000000000000046":return dB(t);default:throw new Error("Unsupported Moniker "+r)}}function Ag(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(oi,""):"";return r}function pB(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var s,o,c,h,d="",p,y;a&16&&(s=Ag(t,r-t.l)),a&128&&(o=Ag(t,r-t.l)),(a&257)===257&&(c=Ag(t,r-t.l)),(a&257)===1&&(h=mB(t,r-t.l)),a&8&&(d=Ag(t,r-t.l)),a&32&&(p=t.read_shift(16)),a&64&&(y=F5(t)),t.l=r;var v=o||c||h||"";v&&d&&(v+="#"+d),v||(v="#"+d),a&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var b={Target:v};return p&&(b.guid=p),y&&(b.time=y),s&&(b.Tooltip=s),b}function FS(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,r,n,a]}function MS(t,e){var r=FS(t);return r[3]=0,r}function cc(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function gB(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function xB(t,e,r){return e===0?"":Cf(t,e,r)}function yB(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),s=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[a,s,o]}function BS(t){var e=t.read_shift(2),r=O5(t);return[e,r]}function vB(t,e,r){t.l+=4,e-=4;var n=t.l+e,a=ip(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,a}function xx(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function US(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r}}}var bB=US;function VS(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function wB(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function _B(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Fs(t){t.l+=2,t.l+=t.read_shift(2)}var kB={0:Fs,4:Fs,5:Fs,6:Fs,7:_B,8:Fs,9:Fs,10:Fs,11:Fs,12:Fs,13:wB,14:Fs,15:Fs,16:Fs,17:Fs,18:Fs,19:Fs,20:Fs,21:VS};function EB(t,e){for(var r=t.l+e,n=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{n.push(kB[a](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Sg(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function AB(t,e){return e===0||t.read_shift(2),1200}function SB(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,a=Cf(t,0,r);return t.read_shift(e+n-t.l),a}function TB(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function NB(t,e,r){var n=t.read_shift(4),a=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=ip(t,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function CB(t,e){for(var r=t.l+e,n=t.read_shift(4),a=t.read_shift(4),s=[],o=0;o!=a&&t.l<r;++o)s.push(uB(t));return s.Count=n,s.Unique=a,s}function RB(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function IB(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function DB(t){var e=gB(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function LB(t){return t.read_shift(2),t.read_shift(4)}function z3(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function jB(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),h=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:c,Selected:h,TabRatio:d}}function OB(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function PB(){}function FB(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=ip(t,0,r),n}function MB(t){var e=cc(t);return e.isst=t.read_shift(4),e}function BB(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,a=cc(t);r.biff==2&&t.l++;var s=op(t,n-t.l,r);return a.val=s,a}function UB(t,e,r){var n=t.read_shift(2),a=Cf(t,0,r);return[n,a]}var VB=Cf;function q3(t,e,r){var n=t.l+e,a=r.biff==8||!r.biff?4:2,s=t.read_shift(a),o=t.read_shift(a),c=t.read_shift(2),h=t.read_shift(2);return t.l=n,{s:{r:s,c},e:{r:o,c:h}}}function zB(t){var e=t.read_shift(2),r=t.read_shift(2),n=BS(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function qB(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),s=[];t.l<r;)s.push(BS(t));if(t.l!==r)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function HB(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function GB(t,e,r,n){var a={},s=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(4),h=t.read_shift(2);return a.patternType=zM[c>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=c&127,a.icvBottom=c>>7&127,a.icvDiag=c>>14&127,a.dgDiag=c>>21&15,a.icvFore=h&127,a.icvBack=h>>7&127,a.fsxButton=h>>14&1),a}function $B(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=GB(t,e,n.fStyle,r),n}function KB(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function H3(t,e,r){var n=cc(t);(r.biff==2||e==9)&&++t.l;var a=cB(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function WB(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=cc(t),a=Gs(t);return n.val=a,n}var G3=xB;function YB(t,e,r){var n=t.l+e,a=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=vf(t,s),c=[];n>t.l;)c.push(op(t));return[s,a,o,c]}function $3(t,e,r){var n=t.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=vB(t,e-2,r)),s.body=a||t.read_shift(e-2),typeof a=="string"&&(s.Name=a),s}var XB=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function K3(t,e,r){var n=t.l+e,a=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(r&&r.biff==2?1:2),h=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),h=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var d=vf(t,o,r);a&32&&(d=XB[d.charCodeAt(0)]);var p=n-t.l;r&&r.biff==2&&--p;var y=n==t.l||c===0||!(p>0)?[]:Iq(t,p,r,c);return{chKey:s,Name:d,itab:h,rgce:y}}function zS(t,e,r){if(r.biff<8)return QB(t,e,r);for(var n=[],a=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(yB(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function QB(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=ip(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function JB(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),s=vf(t,n,r),o=vf(t,a,r);return[s,o]}function ZB(t,e,r){var n=US(t);t.l++;var a=t.read_shift(1);return e-=8,[Dq(t,e,r),a,n]}function W3(t,e,r){var n=bB(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,Cq(t,e,r)]}function eU(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function tU(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=Cf(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:a},c,o,s]}}function rU(t,e,r){return tU(t,e,r)}function nU(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(xx(t));return r}function aU(t,e,r){if(r&&r.biff<8)return iU(t,e,r);var n=VS(t),a=EB(t,e-22,n[1]);return{cmo:n,ft:a}}var sU={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:n}}};function iU(t,e,r){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((sU[n]||Qs)(t,e,r)),{cmo:[a,n,s],ft:o}}function oU(t,e,r){var n=t.l,a="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=fB(t,6,r);var c=t.read_shift(2);t.read_shift(2),Sa(t,2);var h=t.read_shift(2);t.l+=h;for(var d=1;d<t.lens.length-1;++d){if(t.l-n!=t.lens[d])throw new Error("TxO: bad continue record");var p=t[t.l],y=vf(t,t.lens[d+1]-t.lens[d]-1);if(a+=y,a.length>=(p?c:2*c))break}if(a.length!==c&&a.length!==c*2)throw new Error("cchText: "+c+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function lU(t,e){var r=xx(t);t.l+=16;var n=pB(t,e-24);return[r,n]}function cU(t,e){t.read_shift(2);var r=xx(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(oi,""),[r,n]}function uU(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=F3[r]||r,r=t.read_shift(2),e[1]=F3[r]||r,e}function fU(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(MS(t));return r}function hU(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(MS(t));return r}function dU(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function qS(t,e,r){if(!r.cellStyles)return Qs(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),c=t.read_shift(n),h=t.read_shift(2);n==2&&(t.l+=2);var d={s:a,e:s,w:o,ixfe:c,flags:h};return(r.biff>=5||!r.biff)&&(d.level=h>>8&7),d}function mU(t,e){var r={};return e<32||(t.l+=16,r.header=Gs(t),r.footer=Gs(t),t.l+=2),r}function pU(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}var gU=cc,xU=PS,yU=op;function vU(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function bU(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=cc(t);++t.l;var a=Cf(t,e-7,r);return n.t="str",n.val=a,n}function wU(t){var e=cc(t);++t.l;var r=Gs(t);return e.t="n",e.val=r,e}function _U(t){var e=cc(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function kU(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function EU(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function AU(t,e,r){var n=t.l+e,a=cc(t),s=t.read_shift(2),o=vf(t,s,r);return t.l=n,a.t="str",a.val=o,a}var SU=[2,3,48,49,131,139,140,245],Y3=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=S5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,h){var d=[],p=w0(1);switch(h.type){case"base64":p=il(Ji(c));break;case"binary":p=il(c);break;case"buffer":case"array":p=c;break}gs(p,0);var y=p.read_shift(1),v=!!(y&136),b=!1,E=!1;switch(y){case 2:break;case 3:break;case 48:b=!0,v=!0;break;case 49:b=!0,v=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var k=0,A=521;y==2&&(k=p.read_shift(2)),p.l+=3,y!=2&&(k=p.read_shift(4)),k>1048576&&(k=1e6),y!=2&&(A=p.read_shift(2));var N=p.read_shift(2),I=h.codepage||1252;y!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(I=t[p[p.l]]),p.l+=1,p.l+=2),E&&(p.l+=36);for(var P=[],z={},G=Math.min(p.length,y==2?521:A-10-(b?264:0)),W=E?32:11;p.l<G&&p[p.l]!=13;)switch(z={},z.name=Dm.utils.decode(I,p.slice(p.l,p.l+W)).replace(/[\u0000\r\n].*$/g,""),p.l+=W,z.type=String.fromCharCode(p.read_shift(1)),y!=2&&!E&&(z.offset=p.read_shift(4)),z.len=p.read_shift(1),y==2&&(z.offset=p.read_shift(2)),z.dec=p.read_shift(1),z.name.length&&P.push(z),y!=2&&(p.l+=E?13:14),z.type){case"B":(!b||z.len!=8)&&h.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+z.type)}if(p[p.l]!==13&&(p.l=A-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=A;var j=0,L=0;for(d[0]=[],L=0;L!=P.length;++L)d[0][L]=P[L].name;for(;k-- >0;){if(p[p.l]===42){p.l+=N;continue}for(++p.l,d[++j]=[],L=0,L=0;L!=P.length;++L){var R=p.slice(p.l,p.l+P[L].len);p.l+=P[L].len,gs(R,0);var U=Dm.utils.decode(I,R);switch(P[L].type){case"C":U.trim().length&&(d[j][L]=U.replace(/\s+$/,""));break;case"D":U.length===8?d[j][L]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):d[j][L]=U;break;case"F":d[j][L]=parseFloat(U.trim());break;case"+":case"I":d[j][L]=E?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":d[j][L]=!0;break;case"N":case"F":d[j][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));d[j][L]="##MEMO##"+(E?parseInt(U.trim(),10):R.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(d[j][L]=+U||0);break;case"@":d[j][L]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":d[j][L]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":d[j][L]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[j][L]=-R.read_shift(-8,"f");break;case"B":if(b&&P[L].len==8){d[j][L]=R.read_shift(8,"f");break}case"G":case"P":R.l+=P[L].len;break;case"0":if(P[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+P[L].type)}}}if(y!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),h.DBF=P,d}function n(c,h){var d=h||{};d.dateNF||(d.dateNF="yyyymmdd");var p=ed(r(c,d),d);return p["!cols"]=d.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete d.DBF,p}function a(c,h){try{return T0(n(c,h),h)}catch(d){if(h&&h.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,h){var d=h||{};if(+d.codepage>=0&&cl(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var p=av(),y=mv(c,{header:1,raw:!0,cellDates:!0}),v=y[0],b=y.slice(1),E=c["!cols"]||[],k=0,A=0,N=0,I=1;for(k=0;k<v.length;++k){if(((E[k]||{}).DBF||{}).name){v[k]=E[k].DBF.name,++N;continue}if(v[k]!=null){if(++N,typeof v[k]=="number"&&(v[k]=v[k].toString(10)),typeof v[k]!="string")throw new Error("DBF Invalid column name "+v[k]+" |"+typeof v[k]+"|");if(v.indexOf(v[k])!==k){for(A=0;A<1024;++A)if(v.indexOf(v[k]+"_"+A)==-1){v[k]+="_"+A;break}}}}var P=ra(c["!ref"]),z=[],G=[],W=[];for(k=0;k<=P.e.c-P.s.c;++k){var j="",L="",R=0,U=[];for(A=0;A<b.length;++A)b[A][k]!=null&&U.push(b[A][k]);if(U.length==0||v[k]==null){z[k]="?";continue}for(A=0;A<U.length;++A){switch(typeof U[A]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=U[A]instanceof Date?"D":"C";break;default:L="C"}R=Math.max(R,String(U[A]).length),j=j&&j!=L?"C":L}R>250&&(R=250),L=((E[k]||{}).DBF||{}).type,L=="C"&&E[k].DBF.len>R&&(R=E[k].DBF.len),j=="B"&&L=="N"&&(j="N",W[k]=E[k].DBF.dec,R=E[k].DBF.len),G[k]=j=="C"||L=="N"?R:s[j]||0,I+=G[k],z[k]=j}var D=p.next(32);for(D.write_shift(4,318902576),D.write_shift(4,b.length),D.write_shift(2,296+32*N),D.write_shift(2,I),k=0;k<4;++k)D.write_shift(4,0);for(D.write_shift(4,0|(+e[z6]||3)<<8),k=0,A=0;k<v.length;++k)if(v[k]!=null){var C=p.next(32),B=(v[k].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,B,"sbcs"),C.write_shift(1,z[k]=="?"?"C":z[k],"sbcs"),C.write_shift(4,A),C.write_shift(1,G[k]||s[z[k]]||0),C.write_shift(1,W[k]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),A+=G[k]||s[z[k]]||0}var ne=p.next(264);for(ne.write_shift(4,13),k=0;k<65;++k)ne.write_shift(4,0);for(k=0;k<b.length;++k){var ye=p.next(I);for(ye.write_shift(1,0),A=0;A<v.length;++A)if(v[A]!=null)switch(z[A]){case"L":ye.write_shift(1,b[k][A]==null?63:b[k][A]?84:70);break;case"B":ye.write_shift(8,b[k][A]||0,"f");break;case"N":var ae="0";for(typeof b[k][A]=="number"&&(ae=b[k][A].toFixed(W[A]||0)),N=0;N<G[A]-ae.length;++N)ye.write_shift(1,32);ye.write_shift(1,ae,"sbcs");break;case"D":b[k][A]?(ye.write_shift(4,("0000"+b[k][A].getFullYear()).slice(-4),"sbcs"),ye.write_shift(2,("00"+(b[k][A].getMonth()+1)).slice(-2),"sbcs"),ye.write_shift(2,("00"+b[k][A].getDate()).slice(-2),"sbcs")):ye.write_shift(8,"00000000","sbcs");break;case"C":var le=String(b[k][A]!=null?b[k][A]:"").slice(0,G[A]);for(ye.write_shift(1,le,"sbcs"),N=0;N<G[A]-le.length;++N)ye.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),TU=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+sc(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(v,b){var E=t[b];return typeof E=="number"?f3(E):E},n=function(v,b,E){var k=b.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return k==59?v:f3(k)};t["|"]=254;function a(v,b){switch(b.type){case"base64":return s(Ji(v),b);case"binary":return s(v,b);case"buffer":return s(Ur&&Buffer.isBuffer(v)?v.toString("binary"):Af(v),b);case"array":return s(yf(v),b)}throw new Error("Unrecognized type "+b.type)}function s(v,b){var E=v.split(/[\n\r]+/),k=-1,A=-1,N=0,I=0,P=[],z=[],G=null,W={},j=[],L=[],R=[],U=0,D;for(+b.codepage>=0&&cl(+b.codepage);N!==E.length;++N){U=0;var C=E[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),B=C.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),ne=B[0],ye;if(C.length>0)switch(ne){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&z.push(C.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,le=!1,ce=!1,te=!1,Y=-1,Te=-1;for(I=1;I<B.length;++I)switch(B[I].charAt(0)){case"A":break;case"X":A=parseInt(B[I].slice(1))-1,le=!0;break;case"Y":for(k=parseInt(B[I].slice(1))-1,le||(A=0),D=P.length;D<=k;++D)P[D]=[];break;case"K":ye=B[I].slice(1),ye.charAt(0)==='"'?ye=ye.slice(1,ye.length-1):ye==="TRUE"?ye=!0:ye==="FALSE"?ye=!1:isNaN(fl(ye))?isNaN(Uh(ye).getDate())||(ye=ns(ye)):(ye=fl(ye),G!==null&&Jh(G)&&(ye=gx(ye))),ae=!0;break;case"E":te=!0;var F=Ch(B[I].slice(1),{r:k,c:A});P[k][A]=[P[k][A],F];break;case"S":ce=!0,P[k][A]=[P[k][A],"S5S"];break;case"G":break;case"R":Y=parseInt(B[I].slice(1))-1;break;case"C":Te=parseInt(B[I].slice(1))-1;break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+C)}if(ae&&(P[k][A]&&P[k][A].length==2?P[k][A][0]=ye:P[k][A]=ye,G=null),ce){if(te)throw new Error("SYLK shared formula cannot have own formula");var H=Y>-1&&P[Y][Te];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");P[k][A][1]=ZS(H[1],{r:k-Y,c:A-Te})}break;case"F":var K=0;for(I=1;I<B.length;++I)switch(B[I].charAt(0)){case"X":A=parseInt(B[I].slice(1))-1,++K;break;case"Y":for(k=parseInt(B[I].slice(1))-1,D=P.length;D<=k;++D)P[D]=[];break;case"M":U=parseInt(B[I].slice(1))/20;break;case"F":break;case"G":break;case"P":G=z[parseInt(B[I].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=B[I].slice(1).split(" "),D=parseInt(R[0],10);D<=parseInt(R[1],10);++D)U=parseInt(R[2],10),L[D-1]=U===0?{hidden:!0}:{wch:U},Vh(L[D-1]);break;case"C":A=parseInt(B[I].slice(1))-1,L[A]||(L[A]={});break;case"R":k=parseInt(B[I].slice(1))-1,j[k]||(j[k]={}),U>0?(j[k].hpt=U,j[k].hpx=Mm(U)):U===0&&(j[k].hidden=!0);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+C)}K<1&&(G=null);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+C)}}return j.length>0&&(W["!rows"]=j),L.length>0&&(W["!cols"]=L),b&&b.sheetRows&&(P=P.slice(0,b.sheetRows)),[P,W]}function o(v,b){var E=a(v,b),k=E[0],A=E[1],N=ed(k,b);return sc(A).forEach(function(I){N[I]=A[I]}),N}function c(v,b){return T0(o(v,b),b)}function h(v,b,E,k){var A="C;Y"+(E+1)+";X"+(k+1)+";K";switch(v.t){case"n":A+=v.v||0,v.f&&!v.F&&(A+=";E"+dz(v.f,{r:E,c:k}));break;case"b":A+=v.v?"TRUE":"FALSE";break;case"e":A+=v.w||v.v;break;case"d":A+='"'+(v.w||v.v)+'"';break;case"s":A+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return A}function d(v,b){b.forEach(function(E,k){var A="F;W"+(k+1)+" "+(k+1)+" ";E.hidden?A+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=C1(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=R1(E.wpx)),typeof E.wch=="number"&&(A+=Math.round(E.wch))),A.charAt(A.length-1)!=" "&&v.push(A)})}function p(v,b){b.forEach(function(E,k){var A="F;";E.hidden?A+="M0;":E.hpt?A+="M"+20*E.hpt+";":E.hpx&&(A+="M"+20*XS(E.hpx)+";"),A.length>2&&v.push(A+"R"+(k+1))})}function y(v,b){var E=["ID;PWXL;N;E"],k=[],A=ra(v["!ref"]),N,I=Array.isArray(v),P=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),v["!cols"]&&d(E,v["!cols"]),v["!rows"]&&p(E,v["!rows"]),E.push("B;Y"+(A.e.r-A.s.r+1)+";X"+(A.e.c-A.s.c+1)+";D"+[A.s.c,A.s.r,A.e.c,A.e.r].join(" "));for(var z=A.s.r;z<=A.e.r;++z)for(var G=A.s.c;G<=A.e.c;++G){var W=dr({r:z,c:G});N=I?(v[z]||[])[G]:v[W],!(!N||N.v==null&&(!N.f||N.F))&&k.push(h(N,v,z,G))}return E.join(P)+P+k.join(P)+P+"E"+P}return{to_workbook:c,to_sheet:o,from_sheet:y}}(),NU=function(){function t(s,o){switch(o.type){case"base64":return e(Ji(s),o);case"binary":return e(s,o);case"buffer":return e(Ur&&Buffer.isBuffer(s)?s.toString("binary"):Af(s),o);case"array":return e(yf(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var c=s.split(`
`),h=-1,d=-1,p=0,y=[];p!==c.length;++p){if(c[p].trim()==="BOT"){y[++h]=[],d=0;continue}if(!(h<0)){var v=c[p].trim().split(","),b=v[0],E=v[1];++p;for(var k=c[p]||"";(k.match(/["]/g)||[]).length&1&&p<c.length-1;)k+=`
`+c[++p];switch(k=k.trim(),+b){case-1:if(k==="BOT"){y[++h]=[],d=0;continue}else if(k!=="EOD")throw new Error("Unrecognized DIF special command "+k);break;case 0:k==="TRUE"?y[h][d]=!0:k==="FALSE"?y[h][d]=!1:isNaN(fl(E))?isNaN(Uh(E).getDate())?y[h][d]=E:y[h][d]=ns(E):y[h][d]=fl(E),++d;break;case 1:k=k.slice(1,k.length-1),k=k.replace(/""/g,'"'),k&&k.match(/^=".*"$/)&&(k=k.slice(2,-1)),y[h][d++]=k!==""?k:null;break}if(k==="EOD")break}}return o&&o.sheetRows&&(y=y.slice(0,o.sheetRows)),y}function r(s,o){return ed(t(s,o),o)}function n(s,o){return T0(r(s,o),o)}var a=function(){var s=function(h,d,p,y,v){h.push(d),h.push(p+","+y),h.push('"'+v.replace(/"/g,'""')+'"')},o=function(h,d,p,y){h.push(d+","+p),h.push(d==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(h){var d=[],p=ra(h["!ref"]),y,v=Array.isArray(h);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,p.e.r-p.s.r+1,""),s(d,"TUPLES",0,p.e.c-p.s.c+1,""),s(d,"DATA",0,0,"");for(var b=p.s.r;b<=p.e.r;++b){o(d,-1,0,"BOT");for(var E=p.s.c;E<=p.e.c;++E){var k=dr({r:b,c:E});if(y=v?(h[b]||[])[E]:h[k],!y){o(d,1,0,"");continue}switch(y.t){case"n":var A=y.w;!A&&y.v!=null&&(A=y.v),A==null?y.f&&!y.F?o(d,1,0,"="+y.f):o(d,1,0,""):o(d,0,A,"V");break;case"b":o(d,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=Ro(y.z||gr[14],li(ns(y.v)))),o(d,0,y.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var N=`\r
`,I=d.join(N);return I}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),CU=function(){function t(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(y,v){for(var b=y.split(`
`),E=-1,k=-1,A=0,N=[];A!==b.length;++A){var I=b[A].trim().split(":");if(I[0]==="cell"){var P=ii(I[1]);if(N.length<=P.r)for(E=N.length;E<=P.r;++E)N[E]||(N[E]=[]);switch(E=P.r,k=P.c,I[2]){case"t":N[E][k]=t(I[3]);break;case"v":N[E][k]=+I[3];break;case"vtf":var z=I[I.length-1];case"vtc":switch(I[3]){case"nl":N[E][k]=!!+I[4];break;default:N[E][k]=+I[4];break}I[2]=="vtf"&&(N[E][k]=[N[E][k],z])}}}return v&&v.sheetRows&&(N=N.slice(0,v.sheetRows)),N}function n(y,v){return ed(r(y,v),v)}function a(y,v){return T0(n(y,v),v)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function d(y){if(!y||!y["!ref"])return"";for(var v=[],b=[],E,k="",A=Zh(y["!ref"]),N=Array.isArray(y),I=A.s.r;I<=A.e.r;++I)for(var P=A.s.c;P<=A.e.c;++P)if(k=dr({r:I,c:P}),E=N?(y[I]||[])[P]:y[k],!(!E||E.v==null||E.t==="z")){switch(b=["cell",k,"t"],E.t){case"s":case"str":b.push(e(E.v));break;case"n":E.f?(b[2]="vtf",b[3]="n",b[4]=E.v,b[5]=e(E.f)):(b[2]="v",b[3]=E.v);break;case"b":b[2]="vt"+(E.f?"f":"c"),b[3]="nl",b[4]=E.v?"1":"0",b[5]=e(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var z=li(ns(E.v));b[2]="vtc",b[3]="nd",b[4]=""+z,b[5]=E.w||Ro(E.z||gr[14],z);break;case"e":continue}v.push(b.join(":"))}return v.push("sheet:c:"+(A.e.c-A.s.c+1)+":r:"+(A.e.r-A.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function p(y){return[s,o,c,o,d(y),h].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:p}}(),Pm=function(){function t(p,y,v,b,E){E.raw?y[v][b]=p:p===""||(p==="TRUE"?y[v][b]=!0:p==="FALSE"?y[v][b]=!1:isNaN(fl(p))?isNaN(Uh(p).getDate())?y[v][b]=p:y[v][b]=ns(p):y[v][b]=fl(p))}function e(p,y){var v=y||{},b=[];if(!p||p.length===0)return b;for(var E=p.split(/[\r\n]/),k=E.length-1;k>=0&&E[k].length===0;)--k;for(var A=10,N=0,I=0;I<=k;++I)N=E[I].indexOf(" "),N==-1?N=E[I].length:N++,A=Math.max(A,N);for(I=0;I<=k;++I){b[I]=[];var P=0;for(t(E[I].slice(0,A).trim(),b,I,P,v),P=1;P<=(E[I].length-A)/10+1;++P)t(E[I].slice(A+(P-1)*10,A+P*10).trim(),b,I,P,v)}return v.sheetRows&&(b=b.slice(0,v.sheetRows)),b}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(p){for(var y={},v=!1,b=0,E=0;b<p.length;++b)(E=p.charCodeAt(b))==34?v=!v:!v&&E in r&&(y[E]=(y[E]||0)+1);E=[];for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([y[b],b]);if(!E.length){y=n;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([y[b],b])}return E.sort(function(k,A){return k[0]-A[0]||n[k[1]]-n[A[1]]}),r[E.pop()[1]]||44}function s(p,y){var v=y||{},b="",E=v.dense?[]:{},k={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(b=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(b=p.charAt(4),p=p.slice(6)):b=a(p.slice(0,1024)):v&&v.FS?b=v.FS:b=a(p.slice(0,1024));var A=0,N=0,I=0,P=0,z=0,G=b.charCodeAt(0),W=!1,j=0,L=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var R=v.dateNF!=null?UF(v.dateNF):null;function U(){var D=p.slice(P,z),C={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)C.t="z";else if(v.raw)C.t="s",C.v=D;else if(D.trim().length===0)C.t="s",C.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(C.t="s",C.v=D.slice(2,-1).replace(/""/g,'"')):pz(D)?(C.t="n",C.f=D.slice(1)):(C.t="s",C.v=D);else if(D=="TRUE")C.t="b",C.v=!0;else if(D=="FALSE")C.t="b",C.v=!1;else if(!isNaN(I=fl(D)))C.t="n",v.cellText!==!1&&(C.w=D),C.v=I;else if(!isNaN(Uh(D).getDate())||R&&D.match(R)){C.z=v.dateNF||gr[14];var B=0;R&&D.match(R)&&(D=VF(D,v.dateNF,D.match(R)||[]),B=1),v.cellDates?(C.t="d",C.v=ns(D,B)):(C.t="n",C.v=li(ns(D,B))),v.cellText!==!1&&(C.w=Ro(C.z,C.v instanceof Date?li(C.v):C.v)),v.cellNF||delete C.z}else C.t="s",C.v=D;if(C.t=="z"||(v.dense?(E[A]||(E[A]=[]),E[A][N]=C):E[dr({c:N,r:A})]=C),P=z+1,L=p.charCodeAt(P),k.e.c<N&&(k.e.c=N),k.e.r<A&&(k.e.r=A),j==G)++N;else if(N=0,++A,v.sheetRows&&v.sheetRows<=A)return!0}e:for(;z<p.length;++z)switch(j=p.charCodeAt(z)){case 34:L===34&&(W=!W);break;case G:case 10:case 13:if(!W&&U())break e;break}return z-P>0&&U(),E["!ref"]=$r(k),E}function o(p,y){return!(y&&y.PRN)||y.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?s(p,y):ed(e(p,y),y)}function c(p,y){var v="",b=y.type=="string"?[0,0,0,0]:G5(p,y);switch(y.type){case"base64":v=Ji(p);break;case"binary":v=p;break;case"buffer":y.codepage==65001?v=p.toString("utf8"):y.codepage&&typeof Dm<"u"||(v=Ur&&Buffer.isBuffer(p)?p.toString("binary"):Af(p));break;case"array":v=yf(p);break;case"string":v=p;break;default:throw new Error("Unrecognized type "+y.type)}return b[0]==239&&b[1]==187&&b[2]==191?v=Rn(v.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?v=Rn(v):y.type=="binary"&&typeof Dm<"u",v.slice(0,19)=="socialcalc:version:"?CU.to_sheet(y.type=="string"?v:Rn(v),y):o(v,y)}function h(p,y){return T0(c(p,y),y)}function d(p){for(var y=[],v=ra(p["!ref"]),b,E=Array.isArray(p),k=v.s.r;k<=v.e.r;++k){for(var A=[],N=v.s.c;N<=v.e.c;++N){var I=dr({r:k,c:N});if(b=E?(p[k]||[])[N]:p[I],!b||b.v==null){A.push("          ");continue}for(var P=(b.w||(iu(b),b.w)||"").slice(0,10);P.length<10;)P+=" ";A.push(P+(N===0?" ":""))}y.push(A.join(""))}return y.join(`
`)}return{to_workbook:h,to_sheet:c,from_sheet:d}}();function RU(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var a=TU.to_workbook(t,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Pm.to_workbook(t,e)}}var mm=function(){function t(F,H,K){if(F){gs(F,F.l||0);for(var Q=K.Enum||Y;F.l<F.length;){var re=F.read_shift(2),de=Q[re]||Q[65535],ve=F.read_shift(2),we=F.l+ve,Le=de.f&&de.f(F,ve,K);if(F.l=we,H(Le,de,re))return}}}function e(F,H){switch(H.type){case"base64":return r(il(Ji(F)),H);case"binary":return r(il(F),H);case"buffer":case"array":return r(F,H)}throw"Unsupported type "+H.type}function r(F,H){if(!F)return F;var K=H||{},Q=K.dense?[]:{},re="Sheet1",de="",ve=0,we={},Le=[],tt=[],J={s:{r:0,c:0},e:{r:0,c:0}},Ne=K.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)K.Enum=Y,t(F,function(Ke,xt,st){switch(st){case 0:K.vers=Ke,Ke>=4096&&(K.qpro=!0);break;case 6:J=Ke;break;case 204:Ke&&(de=Ke);break;case 222:de=Ke;break;case 15:case 51:K.qpro||(Ke[1].v=Ke[1].v.slice(1));case 13:case 14:case 16:st==14&&(Ke[2]&112)==112&&(Ke[2]&15)>1&&(Ke[2]&15)<15&&(Ke[1].z=K.dateNF||gr[14],K.cellDates&&(Ke[1].t="d",Ke[1].v=gx(Ke[1].v))),K.qpro&&Ke[3]>ve&&(Q["!ref"]=$r(J),we[re]=Q,Le.push(re),Q=K.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},ve=Ke[3],re=de||"Sheet"+(ve+1),de="");var pt=K.dense?(Q[Ke[0].r]||[])[Ke[0].c]:Q[dr(Ke[0])];if(pt){pt.t=Ke[1].t,pt.v=Ke[1].v,Ke[1].z!=null&&(pt.z=Ke[1].z),Ke[1].f!=null&&(pt.f=Ke[1].f);break}K.dense?(Q[Ke[0].r]||(Q[Ke[0].r]=[]),Q[Ke[0].r][Ke[0].c]=Ke[1]):Q[dr(Ke[0])]=Ke[1];break}},K);else if(F[2]==26||F[2]==14)K.Enum=Te,F[2]==14&&(K.qpro=!0,F.l=0),t(F,function(Ke,xt,st){switch(st){case 204:re=Ke;break;case 22:Ke[1].v=Ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ke[3]>ve&&(Q["!ref"]=$r(J),we[re]=Q,Le.push(re),Q=K.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},ve=Ke[3],re="Sheet"+(ve+1)),Ne>0&&Ke[0].r>=Ne)break;K.dense?(Q[Ke[0].r]||(Q[Ke[0].r]=[]),Q[Ke[0].r][Ke[0].c]=Ke[1]):Q[dr(Ke[0])]=Ke[1],J.e.c<Ke[0].c&&(J.e.c=Ke[0].c),J.e.r<Ke[0].r&&(J.e.r=Ke[0].r);break;case 27:Ke[14e3]&&(tt[Ke[14e3][0]]=Ke[14e3][1]);break;case 1537:tt[Ke[0]]=Ke[1],Ke[0]==ve&&(re=Ke[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(Q["!ref"]=$r(J),we[de||re]=Q,Le.push(de||re),!tt.length)return{SheetNames:Le,Sheets:we};for(var Qe={},je=[],me=0;me<tt.length;++me)we[Le[me]]?(je.push(tt[me]||Le[me]),Qe[tt[me]]=we[tt[me]]||we[Le[me]]):(je.push(tt[me]),Qe[tt[me]]={"!ref":"A1"});return{SheetNames:je,Sheets:Qe}}function n(F,H){var K=H||{};if(+K.codepage>=0&&cl(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=av(),re=ra(F["!ref"]),de=Array.isArray(F),ve=[];al(Q,0,s(1030)),al(Q,6,h(re));for(var we=Math.min(re.e.r,8191),Le=re.s.r;Le<=we;++Le)for(var tt=ys(Le),J=re.s.c;J<=re.e.c;++J){Le===re.s.r&&(ve[J]=Ba(J));var Ne=ve[J]+tt,Qe=de?(F[Le]||[])[J]:F[Ne];if(!(!Qe||Qe.t=="z"))if(Qe.t=="n")(Qe.v|0)==Qe.v&&Qe.v>=-32768&&Qe.v<=32767?al(Q,13,b(Le,J,Qe.v)):al(Q,14,k(Le,J,Qe.v));else{var je=iu(Qe);al(Q,15,y(Le,J,je.slice(0,239)))}}return al(Q,1),Q.end()}function a(F,H){var K=H||{};if(+K.codepage>=0&&cl(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=av();al(Q,0,o(F));for(var re=0,de=0;re<F.SheetNames.length;++re)(F.Sheets[F.SheetNames[re]]||{})["!ref"]&&al(Q,27,te(F.SheetNames[re],de++));var ve=0;for(re=0;re<F.SheetNames.length;++re){var we=F.Sheets[F.SheetNames[re]];if(!(!we||!we["!ref"])){for(var Le=ra(we["!ref"]),tt=Array.isArray(we),J=[],Ne=Math.min(Le.e.r,8191),Qe=Le.s.r;Qe<=Ne;++Qe)for(var je=ys(Qe),me=Le.s.c;me<=Le.e.c;++me){Qe===Le.s.r&&(J[me]=Ba(me));var Ke=J[me]+je,xt=tt?(we[Qe]||[])[me]:we[Ke];if(!(!xt||xt.t=="z"))if(xt.t=="n")al(Q,23,U(Qe,me,ve,xt.v));else{var st=iu(xt);al(Q,22,j(Qe,me,ve,st.slice(0,239)))}}++ve}}return al(Q,1),Q.end()}function s(F){var H=Ma(2);return H.write_shift(2,F),H}function o(F){var H=Ma(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var K=0,Q=0,re=0,de=0;de<F.SheetNames.length;++de){var ve=F.SheetNames[de],we=F.Sheets[ve];if(!(!we||!we["!ref"])){++re;var Le=Zh(we["!ref"]);K<Le.e.r&&(K=Le.e.r),Q<Le.e.c&&(Q=Le.e.c)}}return K>8191&&(K=8191),H.write_shift(2,K),H.write_shift(1,re),H.write_shift(1,Q),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function c(F,H,K){var Q={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&K.qpro?(Q.s.c=F.read_shift(1),F.l++,Q.s.r=F.read_shift(2),Q.e.c=F.read_shift(1),F.l++,Q.e.r=F.read_shift(2),Q):(Q.s.c=F.read_shift(2),Q.s.r=F.read_shift(2),H==12&&K.qpro&&(F.l+=2),Q.e.c=F.read_shift(2),Q.e.r=F.read_shift(2),H==12&&K.qpro&&(F.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function h(F){var H=Ma(8);return H.write_shift(2,F.s.c),H.write_shift(2,F.s.r),H.write_shift(2,F.e.c),H.write_shift(2,F.e.r),H}function d(F,H,K){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Q[0].c=F.read_shift(1),Q[3]=F.read_shift(1),Q[0].r=F.read_shift(2),F.l+=2):(Q[2]=F.read_shift(1),Q[0].c=F.read_shift(2),Q[0].r=F.read_shift(2)),Q}function p(F,H,K){var Q=F.l+H,re=d(F,H,K);if(re[1].t="s",K.vers==20768){F.l++;var de=F.read_shift(1);return re[1].v=F.read_shift(de,"utf8"),re}return K.qpro&&F.l++,re[1].v=F.read_shift(Q-F.l,"cstr"),re}function y(F,H,K){var Q=Ma(7+K.length);Q.write_shift(1,255),Q.write_shift(2,H),Q.write_shift(2,F),Q.write_shift(1,39);for(var re=0;re<Q.length;++re){var de=K.charCodeAt(re);Q.write_shift(1,de>=128?95:de)}return Q.write_shift(1,0),Q}function v(F,H,K){var Q=d(F,H,K);return Q[1].v=F.read_shift(2,"i"),Q}function b(F,H,K){var Q=Ma(7);return Q.write_shift(1,255),Q.write_shift(2,H),Q.write_shift(2,F),Q.write_shift(2,K,"i"),Q}function E(F,H,K){var Q=d(F,H,K);return Q[1].v=F.read_shift(8,"f"),Q}function k(F,H,K){var Q=Ma(13);return Q.write_shift(1,255),Q.write_shift(2,H),Q.write_shift(2,F),Q.write_shift(8,K,"f"),Q}function A(F,H,K){var Q=F.l+H,re=d(F,H,K);if(re[1].v=F.read_shift(8,"f"),K.qpro)F.l=Q;else{var de=F.read_shift(2);z(F.slice(F.l,F.l+de),re),F.l+=de}return re}function N(F,H,K){var Q=H&32768;return H&=-32769,H=(Q?F:0)+(H>=8192?H-16384:H),(Q?"":"$")+(K?Ba(H):ys(H))}var I={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},P=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function z(F,H){gs(F,0);for(var K=[],Q=0,re="",de="",ve="",we="";F.l<F.length;){var Le=F[F.l++];switch(Le){case 0:K.push(F.read_shift(8,"f"));break;case 1:de=N(H[0].c,F.read_shift(2),!0),re=N(H[0].r,F.read_shift(2),!1),K.push(de+re);break;case 2:{var tt=N(H[0].c,F.read_shift(2),!0),J=N(H[0].r,F.read_shift(2),!1);de=N(H[0].c,F.read_shift(2),!0),re=N(H[0].r,F.read_shift(2),!1),K.push(tt+J+":"+de+re)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(F.read_shift(2));break;case 6:{for(var Ne="";Le=F[F.l++];)Ne+=String.fromCharCode(Le);K.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:we=K.pop(),ve=K.pop(),K.push(["AND","OR"][Le-20]+"("+ve+","+we+")");break;default:if(Le<32&&P[Le])we=K.pop(),ve=K.pop(),K.push(ve+P[Le]+we);else if(I[Le]){if(Q=I[Le][1],Q==69&&(Q=F[F.l++]),Q>K.length){console.error("WK1 bad formula parse 0x"+Le.toString(16)+":|"+K.join("|")+"|");return}var Qe=K.slice(-Q);K.length-=Q,K.push(I[Le][0]+"("+Qe.join(",")+")")}else return Le<=7?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=24?console.error("WK1 unsupported op "+Le.toString(16)):Le<=30?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=115?console.error("WK1 unsupported function opcode "+Le.toString(16)):console.error("WK1 unrecognized opcode "+Le.toString(16))}}K.length==1?H[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function G(F){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=F.read_shift(2),H[3]=F[F.l++],H[0].c=F[F.l++],H}function W(F,H){var K=G(F);return K[1].t="s",K[1].v=F.read_shift(H-4,"cstr"),K}function j(F,H,K,Q){var re=Ma(6+Q.length);re.write_shift(2,F),re.write_shift(1,K),re.write_shift(1,H),re.write_shift(1,39);for(var de=0;de<Q.length;++de){var ve=Q.charCodeAt(de);re.write_shift(1,ve>=128?95:ve)}return re.write_shift(1,0),re}function L(F,H){var K=G(F);K[1].v=F.read_shift(2);var Q=K[1].v>>1;if(K[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return K[1].v=Q,K}function R(F,H){var K=G(F),Q=F.read_shift(4),re=F.read_shift(4),de=F.read_shift(2);if(de==65535)return Q===0&&re===3221225472?(K[1].t="e",K[1].v=15):Q===0&&re===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ve=de&32768;return de=(de&32767)-16446,K[1].v=(1-ve*2)*(re*Math.pow(2,de+32)+Q*Math.pow(2,de)),K}function U(F,H,K,Q){var re=Ma(14);if(re.write_shift(2,F),re.write_shift(1,K),re.write_shift(1,H),Q==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var de=0,ve=0,we=0,Le=0;return Q<0&&(de=1,Q=-Q),ve=Math.log2(Q)|0,Q/=Math.pow(2,ve-31),Le=Q>>>0,(Le&2147483648)==0&&(Q/=2,++ve,Le=Q>>>0),Q-=Le,Le|=2147483648,Le>>>=0,Q*=Math.pow(2,32),we=Q>>>0,re.write_shift(4,we),re.write_shift(4,Le),ve+=16383+(de?32768:0),re.write_shift(2,ve),re}function D(F,H){var K=R(F);return F.l+=H-14,K}function C(F,H){var K=G(F),Q=F.read_shift(4);return K[1].v=Q>>6,K}function B(F,H){var K=G(F),Q=F.read_shift(8,"f");return K[1].v=Q,K}function ne(F,H){var K=B(F);return F.l+=H-10,K}function ye(F,H){return F[F.l+H-1]==0?F.read_shift(H,"cstr"):""}function ae(F,H){var K=F[F.l++];K>H-1&&(K=H-1);for(var Q="";Q.length<K;)Q+=String.fromCharCode(F[F.l++]);return Q}function le(F,H,K){if(!(!K.qpro||H<21)){var Q=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var re=F.read_shift(H-21,"cstr");return[Q,re]}}function ce(F,H){for(var K={},Q=F.l+H;F.l<Q;){var re=F.read_shift(2);if(re==14e3){for(K[re]=[0,""],K[re][0]=F.read_shift(2);F[F.l];)K[re][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return K}function te(F,H){var K=Ma(5+F.length);K.write_shift(2,14e3),K.write_shift(2,H);for(var Q=0;Q<F.length;++Q){var re=F.charCodeAt(Q);K[K.l++]=re>127?95:re}return K[K.l++]=0,K}var Y={0:{n:"BOF",f:Sa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:A},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ye},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},Te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:W},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:ne},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ye},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}}();function IU(t){var e={},r=t.match(Js),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=lr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=w5[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return e}var DU=function(){var t=jm("t"),e=jm("rPr");function r(s){var o=s.match(t);if(!o)return{t:"s",v:""};var c={t:"s",v:Qr(o[1])},h=s.match(e);return h&&(c.s=IU(h[1])),c}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(c){return c.v})}}(),LU=function(){var e=/(\r\n|\n)/g;function r(a,s,o){var c=[];a.u&&c.push("text-decoration: underline;"),a.uval&&c.push("text-underline-style:"+a.uval+";"),a.sz&&c.push("font-size:"+a.sz+"pt;"),a.outline&&c.push("text-effect: outline;"),a.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var h=a.valign||"";return h=="superscript"||h=="super"?h="sup":h=="subscript"&&(h="sub"),h!=""&&(s.push("<"+h+">"),o.push("</"+h+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),jU=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,OU=/<(?:\w+:)?r>/,PU=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function M5(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Qr(Rn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Rn(t),r&&(n.h=N5(n.t))):t.match(OU)&&(n.r=Rn(t),n.t=Qr(Rn((t.replace(PU,"").match(jU)||[]).join("").replace(Js,""))),r&&(n.h=LU(DU(n.r)))),n):{t:""}}var FU=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,MU=/<(?:\w+:)?(?:si|sstItem)>/g,BU=/<\/(?:\w+:)?(?:si|sstItem)>/;function UU(t,e){var r=[],n="";if(!t)return r;var a=t.match(FU);if(a){n=a[2].replace(MU,"").split(BU);for(var s=0;s!=n.length;++s){var o=M5(n[s].trim(),e);o!=null&&(r[r.length]=o)}a=lr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function VU(t){return[t.read_shift(4),t.read_shift(4)]}function zU(t,e){var r=[],n=!1;return hu(t,function(s,o,c){switch(c){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function HS(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Jc(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function qU(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Jc(t,4),e.U=Jc(t,4),e.W=Jc(t,4),e}function HU(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},a=t.read_shift(4),s=[];a-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function GU(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(HU(t));return e}function $U(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function KU(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Jc(t,4),e.U=Jc(t,4),e.W=Jc(t,4),e}function WU(t){var e=KU(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function GS(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function $S(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function YU(t){var e=Jc(t);switch(e.Minor){case 2:return[e.Minor,XU(t)];case 3:return[e.Minor,QU()];case 4:return[e.Minor,JU(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function XU(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=GS(t,r),a=$S(t,t.length-t.l);return{t:"Std",h:n,v:a}}function QU(){throw new Error("File is password-protected: ECMA-376 Extensible")}function JU(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Js,function(s){var o=lr(s);switch(lc(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){n[c]=o[c]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function ZU(t,e){var r={},n=r.EncryptionVersionInfo=Jc(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=GS(t,a),e-=a,r.EncryptionVerifier=$S(t,e),r}function eV(t){var e={},r=e.EncryptionVersionInfo=Jc(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function tV(t){var e=0,r,n=HS(t),a=n.length+1,s,o,c,h,d;for(r=w0(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],c=(e&16384)===0?0:1,h=e<<1&32767,d=c|h,e=d^o;return e^52811}var KS=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,c){return n(o^c)},s=function(o){for(var c=e[o.length-1],h=104,d=o.length-1;d>=0;--d)for(var p=o[d],y=0;y!=7;++y)p&64&&(c^=r[h]),p*=2,--h;return c};return function(o){for(var c=HS(o),h=s(c),d=c.length,p=w0(16),y=0;y!=16;++y)p[y]=0;var v,b,E;for((d&1)===1&&(v=h>>8,p[d]=a(t[0],v),--d,v=h&255,b=c[c.length-1],p[d]=a(b,v));d>0;)--d,v=h>>8,p[d]=a(c[d],v),--d,v=h&255,p[d]=a(c[d],v);for(d=15,E=15-c.length;E>0;)v=h>>8,p[d]=a(t[E],v),--d,--E,v=h&255,p[d]=a(c[d],v),--d,--E;return p}}(),rV=function(t,e,r,n,a){a||(a=e),n||(n=KS(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},nV=function(t){var e=0,r=KS(t);return function(n){var a=rV("",n,e,r);return e=a[1],a[0]}};function aV(t,e,r,n){var a={key:Sa(t),verificationBytes:Sa(t)};return r.password&&(a.verifier=tV(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=nV(r.password)),a}function sV(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=eV(t):n.Data=ZU(t,e),n}function iV(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?sV(t,e-2,n):aV(t,r.biff>=8?e:e-2,r,n),n}var oV=function(){function t(a,s){switch(s.type){case"base64":return e(Ji(a),s);case"binary":return e(a,s);case"buffer":return e(Ur&&Buffer.isBuffer(a)?a.toString("binary"):Af(a),s);case"array":return e(yf(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){var o=s||{},c=o.dense?[]:{},h=a.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(p,y){Array.isArray(c)&&(c[y]=[]);for(var v=/\\\w+\b/g,b=0,E,k=-1;E=v.exec(p);){switch(E[0]){case"\\cell":var A=p.slice(b,v.lastIndex-E[0].length);if(A[0]==" "&&(A=A.slice(1)),++k,A.length){var N={v:A,t:"s"};Array.isArray(c)?c[y][k]=N:c[dr({r:y,c:k})]=N}break}b=v.lastIndex}k>d.e.c&&(d.e.c=k)}),c["!ref"]=$r(d),c}function r(a,s){return T0(t(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=ra(a["!ref"]),c,h=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var y=dr({r:d,c:p});c=h?(a[d]||[])[p]:a[y],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(iu(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function lV(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Fm(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function cV(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.max(e,r,n),s=Math.min(e,r,n),o=a-s;if(o===0)return[0,0,e];var c=0,h=0,d=a+s;switch(h=o/(d>1?2-d:d),a){case e:c=((r-n)/o+6)%6;break;case r:c=(n-e)/o+2;break;case n:c=(e-r)/o+4;break}return[c/6,h,d/2]}function uV(t){var e=t[0],r=t[1],n=t[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],c=6*e,h;if(r!==0)switch(c|0){case 0:case 6:h=a*c,o[0]+=a,o[1]+=h;break;case 1:h=a*(2-c),o[0]+=h,o[1]+=a;break;case 2:h=a*(c-2),o[1]+=a,o[2]+=h;break;case 3:h=a*(4-c),o[1]+=h,o[2]+=a;break;case 4:h=a*(c-4),o[2]+=a,o[0]+=h;break;case 5:h=a*(6-c),o[2]+=h,o[0]+=a;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function N1(t,e){if(e===0)return t;var r=cV(lV(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Fm(uV(r))}var WS=6,fV=15,hV=1,si=WS;function C1(t){return Math.floor((t+Math.round(128/si)/256)*si)}function R1(t){return Math.floor((t-5)/si*100+.5)/100}function lv(t){return Math.round((t*si+5)/si*256)/256}function oy(t){return lv(R1(C1(t)))}function B5(t){var e=Math.abs(t-oy(t)),r=si;if(e>.005)for(si=hV;si<fV;++si)Math.abs(t-oy(t))<=e&&(e=Math.abs(t-oy(t)),r=si);si=r}function Vh(t){t.width?(t.wpx=C1(t.width),t.wch=R1(t.wpx),t.MDW=si):t.wpx?(t.wch=R1(t.wpx),t.width=lv(t.wch),t.MDW=si):typeof t.wch=="number"&&(t.width=lv(t.wch),t.wpx=C1(t.width),t.MDW=si),t.customWidth&&delete t.customWidth}var dV=96,YS=dV;function XS(t){return t*96/YS}function Mm(t){return t*YS/96}var mV={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function pV(t,e,r,n){e.Borders=[];var a={},s=!1;(t[0].match(Js)||[]).forEach(function(o){var c=lr(o);switch(lc(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},c.diagonalUp&&(a.diagonalUp=Mn(c.diagonalUp)),c.diagonalDown&&(a.diagonalDown=Mn(c.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function gV(t,e,r,n){e.Fills=[];var a={},s=!1;(t[0].match(Js)||[]).forEach(function(o){var c=lr(o);switch(lc(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":c.patternType&&(a.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),c.indexed&&(a.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(a.bgColor.theme=parseInt(c.theme,10)),c.tint&&(a.bgColor.tint=parseFloat(c.tint)),c.rgb&&(a.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),c.theme&&(a.fgColor.theme=parseInt(c.theme,10)),c.tint&&(a.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(a.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function xV(t,e,r,n){e.Fonts=[];var a={},s=!1;(t[0].match(Js)||[]).forEach(function(o){var c=lr(o);switch(lc(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":c.val&&(a.name=Rn(c.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=c.val?Mn(c.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=c.val?Mn(c.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(c.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=c.val?Mn(c.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=c.val?Mn(c.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=c.val?Mn(c.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=c.val?Mn(c.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=c.val?Mn(c.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":c.val&&(a.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(a.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(a.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(a.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=w5[parseInt(c.val,10)];break;case"<color":if(a.color||(a.color={}),c.auto&&(a.color.auto=Mn(c.auto)),c.rgb)a.color.rgb=c.rgb.slice(-6);else if(c.indexed){a.color.index=parseInt(c.indexed,10);var h=sf[a.color.index];a.color.index==81&&(h=sf[1]),h||(h=sf[1]),a.color.rgb=h[0].toString(16)+h[1].toString(16)+h[2].toString(16)}else c.theme&&(a.color.theme=parseInt(c.theme,10),c.tint&&(a.color.tint=parseFloat(c.tint)),c.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=N1(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function yV(t,e,r){e.NumberFmt=[];for(var n=sc(gr),a=0;a<n.length;++a)e.NumberFmt[n[a]]=gr[n[a]];var s=t[0].match(Js);if(s)for(a=0;a<s.length;++a){var o=lr(s[a]);switch(lc(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Qr(Rn(o.formatCode)),h=parseInt(o.numFmtId,10);if(e.NumberFmt[h]=c,h>0){if(h>392){for(h=392;h>60&&e.NumberFmt[h]!=null;--h);e.NumberFmt[h]=c}af(c,h)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Tg=["numFmtId","fillId","fontId","borderId","xfId"],Ng=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function vV(t,e,r){e.CellXf=[];var n,a=!1;(t[0].match(Js)||[]).forEach(function(s){var o=lr(s),c=0;switch(lc(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],c=0;c<Tg.length;++c)n[Tg[c]]&&(n[Tg[c]]=parseInt(n[Tg[c]],10));for(c=0;c<Ng.length;++c)n[Ng[c]]&&(n[Ng[c]]=Mn(n[Ng[c]]));if(e.NumberFmt&&n.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[c]){n.numFmtId=c;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var h={};o.vertical&&(h.vertical=o.vertical),o.horizontal&&(h.horizontal=o.horizontal),o.textRotation!=null&&(h.textRotation=o.textRotation),o.indent&&(h.indent=o.indent),o.wrapText&&(h.wrapText=Mn(o.wrapText)),n.alignment=h;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var bV=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,h,d){var p={};if(!c)return p;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var y;return(y=c.match(e))&&yV(y,p,d),(y=c.match(a))&&xV(y,p,h,d),(y=c.match(n))&&gV(y,p,h,d),(y=c.match(s))&&pV(y,p,h,d),(y=c.match(r))&&vV(y,p,d),p}}();function wV(t,e){var r=t.read_shift(2),n=Ys(t);return[r,n]}function _V(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=DM(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var c=t.read_shift(1);c>0&&(n.family=c);var h=t.read_shift(1);switch(h>0&&(n.charset=h),t.l++,n.color=IM(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ys(t),n}var kV=Qs;function EV(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}var AV=Qs;function SV(t,e,r){var n={};n.NumberFmt=[];for(var a in gr)n.NumberFmt[a]=gr[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return hu(t,function(h,d,p){switch(p){case 44:n.NumberFmt[h[0]]=h[1],af(h[1],h[0]);break;case 43:n.Fonts.push(h),h.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(h.color.rgb=N1(e.themeElements.clrScheme[h.color.theme].rgb,h.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(h);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(p),o=!0;break;case 38:s.pop(),o=!1;break;default:if(d.T>0)s.push(p);else if(d.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+p.toString(16))}}),n}var TV=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function NV(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Js)||[]).forEach(function(a){var s=lr(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[TV.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function CV(){}function RV(){}var IV=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,DV=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,LV=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function jV(t,e,r){e.themeElements={};var n;[["clrScheme",IV,NV],["fontScheme",DV,CV],["fmtScheme",LV,RV]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,r)})}var OV=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function QS(t,e){(!t||t.length===0)&&(t=PV());var r,n={};if(!(r=t.match(OV)))throw new Error("themeElements not found in theme");return jV(r[0],n,e),n.raw=t,n}function PV(t,e){var r=[lS];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function FV(t,e,r){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var o;try{o=oS(s,{type:"array"})}catch{return}var c=Yi(o,"theme/theme/theme1.xml",!0);if(c)return QS(c,r)}}function MV(t){return t.read_shift(4)}function BV(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=UV(t,4);break;case 2:e.xclrValue=FS(t);break;case 3:e.xclrValue=MV(t);break;case 4:t.l+=4;break}return t.l+=8,e}function UV(t,e){return Qs(t,e)}function VV(t,e){return Qs(t,e)}function zV(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=BV(t);break;case 6:n[1]=VV(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function qV(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),s=[];a-- >0;)s.push(zV(t,r-t.l));return{ixfe:n,ext:s}}function HV(t,e){e.forEach(function(r){r[0]})}function GV(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ys(t)}}function $V(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function KV(t){return t.l+=4,t.read_shift(4)!=0}function WV(t,e,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,c=2;return hu(t,function(h,d,p){switch(p){case 335:n.Types.push({name:h.name});break;case 51:h.forEach(function(y){c==1?n.Cell.push({type:n.Types[y[0]-1].name,index:y[1]}):c==0&&n.Value.push({type:n.Types[y[0]-1].name,index:y[1]})});break;case 337:c=h?1:0;break;case 338:c=2;break;case 35:s.push(p),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!d.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}}),n}function YV(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,s=2,o;return t.replace(Js,function(c){var h=lr(c);switch(lc(h[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:h.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<n.Types.length;++d)n.Types[d].name==h.name&&(o=n.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[h.t-1].name,index:+h.v}):s==0&&n.Value.push({type:n.Types[h.t-1].name,index:+h.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+h.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+h[0]+" in metadata")}return c}),n}function XV(t){var e=[];if(!t)return e;var r=1;return(t.match(Js)||[]).forEach(function(n){var a=lr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function QV(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=dr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function JV(t,e,r){var n=[];return hu(t,function(s,o,c){switch(c){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function ZV(t,e,r,n){if(!t)return t;var a=n||{},s=!1;hu(t,function(c,h,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!h.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},a)}function ez(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function X3(t,e,r,n){var a=Array.isArray(t),s;e.forEach(function(o){var c=ii(o.ref);if(a?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[o.ref],!s){s={t:"z"},a?t[c.r][c.c]=s:t[o.ref]=s;var h=ra(t["!ref"]||"BDWGO1000001:A1");h.s.r>c.r&&(h.s.r=c.r),h.e.r<c.r&&(h.e.r=c.r),h.s.c>c.c&&(h.s.c=c.c),h.e.c<c.c&&(h.e.c=c.c);var d=$r(h);d!==t["!ref"]&&(t["!ref"]=d)}s.c||(s.c=[]);var p={a:o.author,t:o.t,r:o.r,T:r};o.h&&(p.h=o.h);for(var y=s.c.length-1;y>=0;--y){if(!r&&s.c[y].T)return;r&&!s.c[y].T&&s.c.splice(y,1)}if(r&&n){for(y=0;y<n.length;++y)if(p.a==n[y].id){p.a=n[y].name||p.a;break}}s.c.push(p)})}function tz(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&r.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var h=lr(c[0]),d={author:h.authorId&&r[h.authorId]||"sheetjsghost",ref:h.ref,guid:h.guid},p=ii(h.ref);if(!(e.sheetRows&&e.sheetRows<=p.r)){var y=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!y&&!!y[1]&&M5(y[1])||{r:"",t:"",h:""};d.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),d.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=v.h),n.push(d)}}}}),n}function rz(t,e){var r=[],n=!1,a={},s=0;return t.replace(Js,function(c,h){var d=lr(c);switch(lc(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=h+c.length;break;case"</text>":a.t=t.slice(s,h).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),r}function nz(t,e){var r=[],n=!1;return t.replace(Js,function(s){var o=lr(s);switch(lc(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function az(t){var e={};e.iauthor=t.read_shift(4);var r=Tf(t);return e.rfx=r.s,e.ref=dr(r.s),t.l+=16,e}var sz=Ys;function iz(t,e){var r=[],n=[],a={},s=!1;return hu(t,function(c,h,d){switch(d){case 632:n.push(c);break;case 635:a=c;break;case 637:a.t=c.t,a.h=c.h,a.r=c.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!h.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}var oz="application/vnd.ms-office.vbaProject";function lz(t){var e=Gr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Gr.utils.cfb_add(e,a,t.FileIndex[n].content)}}),Gr.write(e)}function cz(){return{"!type":"dialog"}}function uz(){return{"!type":"dialog"}}function fz(){return{"!type":"macro"}}function hz(){return{"!type":"macro"}}var Ch=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,s,o){var c=!1,h=!1;s.length==0?h=!0:s.charAt(0)=="["&&(h=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return c?p+=e.c:--p,h?d+=e.r:--d,a+(c?"":"$")+Ba(p)+(h?"":"$")+ys(d)}return function(a,s){return e=s,a.replace(t,r)}}(),JS=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dz=function(){return function(e,r){return e.replace(JS,function(n,a,s,o,c,h){var d=D5(o)-(s?0:r.c),p=I5(h)-(c?0:r.r),y=p==0?"":c?p+1:"["+p+"]",v=d==0?"":s?d+1:"["+d+"]";return a+"R"+y+"C"+v})}}();function ZS(t,e){return t.replace(JS,function(r,n,a,s,o,c){return n+(a=="$"?a+s:Ba(D5(s)+e.c))+(o=="$"?o+c:ys(I5(c)+e.r))})}function mz(t,e,r){var n=Zh(e),a=n.s,s=ii(r),o={r:s.r-a.r,c:s.c-a.c};return ZS(t,o)}function pz(t){return t.length!=1}function Q3(t){return t.replace(/_xlfn\./g,"")}function ka(t){t.l+=1}function _0(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function eT(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return tT(t);r.biff==12&&(n=4)}var a=t.read_shift(n),s=t.read_shift(n),o=_0(t),c=_0(t);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function tT(t){var e=_0(t),r=_0(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function gz(t,e,r){if(r.biff<8)return tT(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),s=_0(t),o=_0(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function rT(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return xz(t);var n=t.read_shift(r&&r.biff==12?4:2),a=_0(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function xz(t){var e=_0(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function yz(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function vz(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return bz(t);var a=t.read_shift(n>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:c}}function bz(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function wz(t,e,r){var n=(t[t.l++]&96)>>5,a=eT(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function _z(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=eT(t,s,r);return[n,a,o]}function kz(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Ez(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,a]}function Az(t,e,r){var n=(t[t.l++]&96)>>5,a=gz(t,e-1,r);return[n,a]}function Sz(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function J3(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Tz(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function Nz(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Cz(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Rz(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Iz(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function nT(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Dz(t){return t.read_shift(2),nT(t)}function Lz(t){return t.read_shift(2),nT(t)}function jz(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=rT(t,0,r);return[n,a]}function Oz(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=vz(t,0,r);return[n,a]}function Pz(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=rT(t,0,r);return[n,a,s]}function Fz(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[Mq[a],iT[a],n]}function Mz(t,e,r){var n=t[t.l++],a=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:Bz(t);return[a,(s[0]===0?iT:Fq)[s[1]]]}function Bz(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Uz(t,e,r){t.l+=r&&r.biff==2?3:4}function Vz(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function zz(t){return t.l++,Nf[t.read_shift(1)]}function qz(t){return t.l++,t.read_shift(2)}function Hz(t){return t.l++,t.read_shift(1)!==0}function Gz(t){return t.l++,Gs(t)}function $z(t,e,r){return t.l++,ip(t,e-1,r)}function Kz(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=fa(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Nf[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Gs(t);break;case 2:r[1]=Cf(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Wz(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Tf:xx)(t));return a}function Yz(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var c=0;c!=a;++c)o[s][c]=Kz(t,r.biff);return o}function Xz(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function Qz(t,e,r){if(r.biff==5)return Jz(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),s=t.read_shift(4);return[n,a,s]}function Jz(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Zz(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function eq(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function tq(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function rq(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,a]}var nq=Qs,aq=Qs,sq=Qs;function lp(t,e,r){return t.l+=2,[yz(t)]}function U5(t){return t.l+=6,[]}var iq=lp,oq=U5,lq=U5,cq=lp;function aT(t){return t.l+=2,[Sa(t),t.read_shift(2)&1]}var uq=lp,fq=aT,hq=U5,dq=lp,mq=lp,pq=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function gq(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),s=t.read_shift(2),o=pq[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:a,C:s}}function xq(t){return t.l+=2,[t.read_shift(4)]}function yq(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function vq(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function bq(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function wq(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function _q(t){return t.l+=4,[0,0]}var Z3={1:{n:"PtgExp",f:Vz},2:{n:"PtgTbl",f:sq},3:{n:"PtgAdd",f:ka},4:{n:"PtgSub",f:ka},5:{n:"PtgMul",f:ka},6:{n:"PtgDiv",f:ka},7:{n:"PtgPower",f:ka},8:{n:"PtgConcat",f:ka},9:{n:"PtgLt",f:ka},10:{n:"PtgLe",f:ka},11:{n:"PtgEq",f:ka},12:{n:"PtgGe",f:ka},13:{n:"PtgGt",f:ka},14:{n:"PtgNe",f:ka},15:{n:"PtgIsect",f:ka},16:{n:"PtgUnion",f:ka},17:{n:"PtgRange",f:ka},18:{n:"PtgUplus",f:ka},19:{n:"PtgUminus",f:ka},20:{n:"PtgPercent",f:ka},21:{n:"PtgParen",f:ka},22:{n:"PtgMissArg",f:ka},23:{n:"PtgStr",f:$z},26:{n:"PtgSheet",f:yq},27:{n:"PtgEndSheet",f:vq},28:{n:"PtgErr",f:zz},29:{n:"PtgBool",f:Hz},30:{n:"PtgInt",f:qz},31:{n:"PtgNum",f:Gz},32:{n:"PtgArray",f:Sz},33:{n:"PtgFunc",f:Fz},34:{n:"PtgFuncVar",f:Mz},35:{n:"PtgName",f:Xz},36:{n:"PtgRef",f:jz},37:{n:"PtgArea",f:wz},38:{n:"PtgMemArea",f:Zz},39:{n:"PtgMemErr",f:nq},40:{n:"PtgMemNoMem",f:aq},41:{n:"PtgMemFunc",f:eq},42:{n:"PtgRefErr",f:tq},43:{n:"PtgAreaErr",f:kz},44:{n:"PtgRefN",f:Oz},45:{n:"PtgAreaN",f:Az},46:{n:"PtgMemAreaN",f:bq},47:{n:"PtgMemNoMemN",f:wq},57:{n:"PtgNameX",f:Qz},58:{n:"PtgRef3d",f:Pz},59:{n:"PtgArea3d",f:_z},60:{n:"PtgRefErr3d",f:rq},61:{n:"PtgAreaErr3d",f:Ez},255:{}},kq={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Eq={1:{n:"PtgElfLel",f:aT},2:{n:"PtgElfRw",f:dq},3:{n:"PtgElfCol",f:iq},6:{n:"PtgElfRwV",f:mq},7:{n:"PtgElfColV",f:cq},10:{n:"PtgElfRadical",f:uq},11:{n:"PtgElfRadicalS",f:hq},13:{n:"PtgElfColS",f:oq},15:{n:"PtgElfColSV",f:lq},16:{n:"PtgElfRadicalLel",f:fq},25:{n:"PtgList",f:gq},29:{n:"PtgSxName",f:xq},255:{}},Aq={0:{n:"PtgAttrNoop",f:_q},1:{n:"PtgAttrSemi",f:Iz},2:{n:"PtgAttrIf",f:Cz},4:{n:"PtgAttrChoose",f:Tz},8:{n:"PtgAttrGoto",f:Nz},16:{n:"PtgAttrSum",f:Uz},32:{n:"PtgAttrBaxcel",f:J3},33:{n:"PtgAttrBaxcel",f:J3},64:{n:"PtgAttrSpace",f:Dz},65:{n:"PtgAttrSpaceSemi",f:Lz},128:{n:"PtgAttrIfError",f:Rz},255:{}};function cp(t,e,r,n){if(n.biff<8)return Qs(t,e);for(var a=t.l+e,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=Yz(t,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=Wz(t,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=a-t.l,e!==0&&s.push(Qs(t,e)),s}function up(t,e,r){for(var n=t.l+e,a,s,o=[];n!=t.l;)e=n-t.l,s=t[t.l],a=Z3[s]||Z3[kq[s]],(s===24||s===25)&&(a=(s===24?Eq:Aq)[t[t.l+1]]),!a||!a.f?Qs(t,e):o.push([a.n,a.f(t,e,r)]);return o}function Sq(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var Tq={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Nq(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function sT(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function ek(t,e,r){var n=sT(t,e,r);return n=="#REF"?n:Nq(n,r)}function Us(t,e,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},c=[],h,d,p,y=0,v=0,b,E="";if(!t[0]||!t[0][0])return"";for(var k=-1,A="",N=0,I=t[0].length;N<I;++N){var P=t[0][N];switch(P[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=c.pop(),d=c.pop(),k>=0){switch(t[0][k][1][0]){case 0:A=ta(" ",t[0][k][1][1]);break;case 1:A=ta("\r",t[0][k][1][1]);break;default:if(A="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][k][1][0])}d=d+A,k=-1}c.push(d+Tq[P[0]]+h);break;case"PtgIsect":h=c.pop(),d=c.pop(),c.push(d+" "+h);break;case"PtgUnion":h=c.pop(),d=c.pop(),c.push(d+","+h);break;case"PtgRange":h=c.pop(),d=c.pop(),c.push(d+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=um(P[1][1],o,a),c.push(fm(p,s));break;case"PtgRefN":p=r?um(P[1][1],r,a):P[1][1],c.push(fm(p,s));break;case"PtgRef3d":y=P[1][1],p=um(P[1][2],o,a),E=ek(n,y,a),c.push(E+"!"+fm(p,s));break;case"PtgFunc":case"PtgFuncVar":var z=P[1][0],G=P[1][1];z||(z=0),z&=127;var W=z==0?[]:c.slice(-z);c.length-=z,G==="User"&&(G=W.shift()),c.push(G+"("+W.join(",")+")");break;case"PtgBool":c.push(P[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(P[1]);break;case"PtgNum":c.push(String(P[1]));break;case"PtgStr":c.push('"'+P[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(P[1]);break;case"PtgAreaN":b=j3(P[1][1],r?{s:r}:o,a),c.push(sy(b,a));break;case"PtgArea":b=j3(P[1][1],o,a),c.push(sy(b,a));break;case"PtgArea3d":y=P[1][1],b=P[1][2],E=ek(n,y,a),c.push(E+"!"+sy(b,a));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=P[1][2];var j=(n.names||[])[v-1]||(n[0]||[])[v],L=j?j.Name:"SH33TJSNAME"+String(v);L&&L.slice(0,6)=="_xlfn."&&!a.xlfn&&(L=L.slice(6)),c.push(L);break;case"PtgNameX":var R=P[1][1];v=P[1][2];var U;if(a.biff<=5)R<0&&(R=-R),n[R]&&(U=n[R][v]);else{var D="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][v]&&n[R][v].itab>0&&(D=n.SheetNames[n[R][v].itab-1]+"!"):D=n.SheetNames[v-1]+"!"),n[R]&&n[R][v])D+=n[R][v].Name;else if(n[0]&&n[0][v])D+=n[0][v].Name;else{var C=(sT(n,R,a)||"").split(";;");C[v-1]?D=C[v-1]:D+="SH33TJSERRX"}c.push(D);break}U||(U={Name:"SH33TJSERRY"}),c.push(U.Name);break;case"PtgParen":var B="(",ne=")";if(k>=0){switch(A="",t[0][k][1][0]){case 2:B=ta(" ",t[0][k][1][1])+B;break;case 3:B=ta("\r",t[0][k][1][1])+B;break;case 4:ne=ta(" ",t[0][k][1][1])+ne;break;case 5:ne=ta("\r",t[0][k][1][1])+ne;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][k][1][0])}k=-1}c.push(B+c.pop()+ne);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:P[1][1],r:P[1][0]};var ye={c:r.c,r:r.r};if(n.sharedf[dr(p)]){var ae=n.sharedf[dr(p)];c.push(Us(ae,o,ye,n,a))}else{var le=!1;for(h=0;h!=n.arrayf.length;++h)if(d=n.arrayf[h],!(p.c<d[0].s.c||p.c>d[0].e.c)&&!(p.r<d[0].s.r||p.r>d[0].e.r)){c.push(Us(d[1],o,ye,n,a)),le=!0;break}le||c.push(P[1])}break;case"PtgArray":c.push("{"+Sq(P[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":k=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+P[1].idx+"[#"+P[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(P));default:throw new Error("Unrecognized Formula Token: "+String(P))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&k>=0&&ce.indexOf(t[0][N][0])==-1){P=t[0][k];var te=!0;switch(P[1][0]){case 4:te=!1;case 0:A=ta(" ",P[1][1]);break;case 5:te=!1;case 1:A=ta("\r",P[1][1]);break;default:if(A="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+P[1][0])}c.push((te?A:"")+c.pop()+(te?"":A)),k=-1}}if(c.length>1&&a.WTF)throw new Error("bad formula stack");return c[0]}function Cq(t,e,r){var n=t.l+e,a=r.biff==2?1:2,s,o=t.read_shift(a);if(o==65535)return[[],Qs(t,e-2)];var c=up(t,o,r);return e!==o+a&&(s=cp(t,e-o-a,c,r)),t.l=n,[c,s]}function Rq(t,e,r){var n=t.l+e,a=r.biff==2?1:2,s,o=t.read_shift(a);if(o==65535)return[[],Qs(t,e-2)];var c=up(t,o,r);return e!==o+a&&(s=cp(t,e-o-a,c,r)),t.l=n,[c,s]}function Iq(t,e,r,n){var a=t.l+e,s=up(t,n,r),o;return a!==t.l&&(o=cp(t,a-t.l,s,r)),[s,o]}function Dq(t,e,r){var n=t.l+e,a,s=t.read_shift(2),o=up(t,s,r);return s==65535?[[],Qs(t,e-2)]:(e!==s+2&&(a=cp(t,n-s-2,o,r)),[o,a])}function Lq(t){var e;if(Hc(t,t.l+6)!==65535)return[Gs(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function ly(t,e,r){var n=t.l+e,a=cc(t);r.biff==2&&++t.l;var s=Lq(t),o=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var c=Rq(t,n-t.l,r);return{cell:a,val:s[0],formula:c,shared:o>>3&1,tt:s[1]}}function yx(t,e,r){var n=t.read_shift(4),a=up(t,n,r),s=t.read_shift(4),o=s>0?cp(t,s,a,r):null;return[a,o]}var jq=yx,vx=yx,Oq=yx,Pq=yx,Fq={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},iT={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Mq={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function tk(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function cy(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var pm={},Rh={};function gm(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function oT(t,e,r,n,a,s){try{n.cellNF&&(t.z=gr[e])}catch(c){if(n.WTF)throw c}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=ns(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(gr[e]==null&&af(BF[e]||"General",e),t.t==="e")t.w=t.w||Nf[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Lm(t.v);else if(t.t==="d"){var o=li(t.v);(o|0)===o?t.w=o.toString(10):t.w=Lm(o)}else{if(t.v===void 0)return"";t.w=xf(t.v,Rh)}else t.t==="d"?t.w=Ro(e,li(t.v),Rh):t.w=Ro(e,t.v,Rh)}catch(c){if(n.WTF)throw c}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=N1(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=N1(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(n.WTF&&s.Fills)throw c}}}function Bq(t,e){var r=ra(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=$r(r))}var Uq=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Vq=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,zq=/<(?:\w:)?hyperlink [^>]*>/mg,qq=/"(\w*:\w*)"/,Hq=/<(?:\w:)?col\b[^>]*[\/]?>/g,Gq=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,$q=/<(?:\w:)?pageMargins[^>]*\/>/g,lT=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Kq=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Wq=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Yq(t,e,r,n,a,s,o){if(!t)return t;n||(n={"!id":{}});var c=e.dense?[]:{},h={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",p="",y=t.match(Vq);y?(d=t.slice(0,y.index),p=t.slice(y.index+y[0].length)):d=p=t;var v=d.match(lT);v?V5(v[0],c,a,r):(v=d.match(Kq))&&Xq(v[0],v[1]||"",c,a,r);var b=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(b>0){var E=d.slice(b,b+50).match(qq);E&&Bq(c,E[1])}var k=d.match(Wq);k&&k[1]&&rH(k[1],a);var A=[];if(e.cellStyles){var N=d.match(Hq);N&&Zq(A,N)}y&&nH(y[1],c,e,h,s,o);var I=p.match(Gq);I&&(c["!autofilter"]=eH(I[0]));var P=[],z=p.match(Uq);if(z)for(b=0;b!=z.length;++b)P[b]=ra(z[b].slice(z[b].indexOf('"')+1));var G=p.match(zq);G&&Qq(c,G,n);var W=p.match($q);if(W&&(c["!margins"]=Jq(lr(W[0]))),!c["!ref"]&&h.e.c>=h.s.c&&h.e.r>=h.s.r&&(c["!ref"]=$r(h)),e.sheetRows>0&&c["!ref"]){var j=ra(c["!ref"]);e.sheetRows<=+j.e.r&&(j.e.r=e.sheetRows-1,j.e.r>h.e.r&&(j.e.r=h.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>h.e.c&&(j.e.c=h.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),c["!fullref"]=c["!ref"],c["!ref"]=$r(j))}return A.length>0&&(c["!cols"]=A),P.length>0&&(c["!merges"]=P),c}function V5(t,e,r,n){var a=lr(t);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Qr(Rn(a.codeName)))}function Xq(t,e,r,n,a){V5(t.slice(0,t.indexOf(">")),r,n,a)}function Qq(t,e,r){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var s=lr(Rn(e[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Qr(s.location))):(s.Target="#"+Qr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=ra(s.ref),h=c.s.r;h<=c.e.r;++h)for(var d=c.s.c;d<=c.e.c;++d){var p=dr({c:d,r:h});n?(t[h]||(t[h]=[]),t[h][d]||(t[h][d]={t:"z",v:void 0}),t[h][d].l=s):(t[p]||(t[p]={t:"z",v:void 0}),t[p].l=s)}}}function Jq(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function Zq(t,e){for(var r=!1,n=0;n!=e.length;++n){var a=lr(e[n],!0);a.hidden&&(a.hidden=Mn(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,B5(a.width)),Vh(a);s<=o;)t[s++]=xs(a)}}function eH(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var tH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function rH(t,e){e.Views||(e.Views=[{}]),(t.match(tH)||[]).forEach(function(r,n){var a=lr(r);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),Mn(a.rightToLeft)&&(e.Views[n].RTL=!0)})}var nH=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=jm("v"),o=jm("f");return function(h,d,p,y,v,b){for(var E=0,k="",A=[],N=[],I=0,P=0,z=0,G="",W,j,L=0,R=0,U,D,C=0,B=0,ne=Array.isArray(b.CellXf),ye,ae=[],le=[],ce=Array.isArray(d),te=[],Y={},Te=!1,F=!!p.sheetStubs,H=h.split(e),K=0,Q=H.length;K!=Q;++K){k=H[K].trim();var re=k.length;if(re!==0){var de=0;e:for(E=0;E<re;++E)switch(k[E]){case">":if(k[E-1]!="/"){++E;break e}if(p&&p.cellStyles){if(j=lr(k.slice(de,E),!0),L=j.r!=null?parseInt(j.r,10):L+1,R=-1,p.sheetRows&&p.sheetRows<L)continue;Y={},Te=!1,j.ht&&(Te=!0,Y.hpt=parseFloat(j.ht),Y.hpx=Mm(Y.hpt)),j.hidden=="1"&&(Te=!0,Y.hidden=!0),j.outlineLevel!=null&&(Te=!0,Y.level=+j.outlineLevel),Te&&(te[L-1]=Y)}break;case"<":de=E;break}if(de>=E)break;if(j=lr(k.slice(de,E),!0),L=j.r!=null?parseInt(j.r,10):L+1,R=-1,!(p.sheetRows&&p.sheetRows<L)){y.s.r>L-1&&(y.s.r=L-1),y.e.r<L-1&&(y.e.r=L-1),p&&p.cellStyles&&(Y={},Te=!1,j.ht&&(Te=!0,Y.hpt=parseFloat(j.ht),Y.hpx=Mm(Y.hpt)),j.hidden=="1"&&(Te=!0,Y.hidden=!0),j.outlineLevel!=null&&(Te=!0,Y.level=+j.outlineLevel),Te&&(te[L-1]=Y)),A=k.slice(E).split(t);for(var ve=0;ve!=A.length&&A[ve].trim().charAt(0)=="<";++ve);for(A=A.slice(ve),E=0;E!=A.length;++E)if(k=A[E].trim(),k.length!==0){if(N=k.match(r),I=E,P=0,z=0,k="<c "+(k.slice(0,1)=="<"?">":"")+k,N!=null&&N.length===2){for(I=0,G=N[1],P=0;P!=G.length&&!((z=G.charCodeAt(P)-64)<1||z>26);++P)I=26*I+z;--I,R=I}else++R;for(P=0;P!=k.length&&k.charCodeAt(P)!==62;++P);if(++P,j=lr(k.slice(0,P),!0),j.r||(j.r=dr({r:L-1,c:R})),G=k.slice(P),W={t:""},(N=G.match(s))!=null&&N[1]!==""&&(W.v=Qr(N[1])),p.cellFormula){if((N=G.match(o))!=null&&N[1]!==""){if(W.f=Qr(Rn(N[1])).replace(/\r\n/g,`
`),p.xlfn||(W.f=Q3(W.f)),N[0].indexOf('t="array"')>-1)W.F=(G.match(a)||[])[1],W.F.indexOf(":")>-1&&ae.push([ra(W.F),W.F]);else if(N[0].indexOf('t="shared"')>-1){D=lr(N[0]);var we=Qr(Rn(N[1]));p.xlfn||(we=Q3(we)),le[parseInt(D.si,10)]=[D,we,j.r]}}else(N=G.match(/<f[^>]*\/>/))&&(D=lr(N[0]),le[D.si]&&(W.f=mz(le[D.si][1],le[D.si][2],j.r)));var Le=ii(j.r);for(P=0;P<ae.length;++P)Le.r>=ae[P][0].s.r&&Le.r<=ae[P][0].e.r&&Le.c>=ae[P][0].s.c&&Le.c<=ae[P][0].e.c&&(W.F=ae[P][1])}if(j.t==null&&W.v===void 0)if(W.f||W.F)W.v=0,W.t="n";else if(F)W.t="z";else continue;else W.t=j.t||"n";switch(y.s.c>R&&(y.s.c=R),y.e.c<R&&(y.e.c=R),W.t){case"n":if(W.v==""||W.v==null){if(!F)continue;W.t="z"}else W.v=parseFloat(W.v);break;case"s":if(typeof W.v>"u"){if(!F)continue;W.t="z"}else U=pm[parseInt(W.v,10)],W.v=U.t,W.r=U.r,p.cellHTML&&(W.h=U.h);break;case"str":W.t="s",W.v=W.v!=null?Rn(W.v):"",p.cellHTML&&(W.h=N5(W.v));break;case"inlineStr":N=G.match(n),W.t="s",N!=null&&(U=M5(N[1]))?(W.v=U.t,p.cellHTML&&(W.h=U.h)):W.v="";break;case"b":W.v=Mn(W.v);break;case"d":p.cellDates?W.v=ns(W.v,1):(W.v=li(ns(W.v,1)),W.t="n");break;case"e":(!p||p.cellText!==!1)&&(W.w=W.v),W.v=CS[W.v];break}if(C=B=0,ye=null,ne&&j.s!==void 0&&(ye=b.CellXf[j.s],ye!=null&&(ye.numFmtId!=null&&(C=ye.numFmtId),p.cellStyles&&ye.fillId!=null&&(B=ye.fillId))),oT(W,C,B,p,v,b),p.cellDates&&ne&&W.t=="n"&&Jh(gr[C])&&(W.t="d",W.v=gx(W.v)),j.cm&&p.xlmeta){var tt=(p.xlmeta.Cell||[])[+j.cm-1];tt&&tt.type=="XLDAPR"&&(W.D=!0)}if(ce){var J=ii(j.r);d[J.r]||(d[J.r]=[]),d[J.r][J.c]=W}else d[j.r]=W}}}}te.length>0&&(d["!rows"]=te)}}();function aH(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var sH=Tf;function iH(){}function oH(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=CM(t),r}function lH(t){var e=Io(t);return[e]}function cH(t){var e=Sf(t);return[e]}function uH(t){var e=Io(t),r=t.read_shift(1);return[e,r,"b"]}function fH(t){var e=Sf(t),r=t.read_shift(1);return[e,r,"b"]}function hH(t){var e=Io(t),r=t.read_shift(1);return[e,r,"e"]}function dH(t){var e=Sf(t),r=t.read_shift(1);return[e,r,"e"]}function mH(t){var e=Io(t),r=t.read_shift(4);return[e,r,"s"]}function pH(t){var e=Sf(t),r=t.read_shift(4);return[e,r,"s"]}function gH(t){var e=Io(t),r=Gs(t);return[e,r,"n"]}function cT(t){var e=Sf(t),r=Gs(t);return[e,r,"n"]}function xH(t){var e=Io(t),r=O5(t);return[e,r,"n"]}function yH(t){var e=Sf(t),r=O5(t);return[e,r,"n"]}function vH(t){var e=Io(t),r=L5(t);return[e,r,"is"]}function bH(t){var e=Io(t),r=Ys(t);return[e,r,"str"]}function wH(t){var e=Sf(t),r=Ys(t);return[e,r,"str"]}function _H(t,e,r){var n=t.l+e,a=Io(t);a.r=r["!row"];var s=t.read_shift(1),o=[a,s,"b"];if(r.cellFormula){t.l+=2;var c=vx(t,n-t.l,r);o[3]=Us(c,null,a,r.supbooks,r)}else t.l=n;return o}function kH(t,e,r){var n=t.l+e,a=Io(t);a.r=r["!row"];var s=t.read_shift(1),o=[a,s,"e"];if(r.cellFormula){t.l+=2;var c=vx(t,n-t.l,r);o[3]=Us(c,null,a,r.supbooks,r)}else t.l=n;return o}function EH(t,e,r){var n=t.l+e,a=Io(t);a.r=r["!row"];var s=Gs(t),o=[a,s,"n"];if(r.cellFormula){t.l+=2;var c=vx(t,n-t.l,r);o[3]=Us(c,null,a,r.supbooks,r)}else t.l=n;return o}function AH(t,e,r){var n=t.l+e,a=Io(t);a.r=r["!row"];var s=Ys(t),o=[a,s,"str"];if(r.cellFormula){t.l+=2;var c=vx(t,n-t.l,r);o[3]=Us(c,null,a,r.supbooks,r)}else t.l=n;return o}var SH=Tf;function TH(t,e){var r=t.l+e,n=Tf(t),a=j5(t),s=Ys(t),o=Ys(t),c=Ys(t);t.l=r;var h={rfx:n,relId:a,loc:s,display:c};return o&&(h.Tooltip=o),h}function NH(){}function CH(t,e,r){var n=t.l+e,a=SS(t),s=t.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var c=jq(t,n-t.l,r);o[1]=c}else t.l=n;return o}function RH(t,e,r){var n=t.l+e,a=Tf(t),s=[a];if(r.cellFormula){var o=Pq(t,n-t.l,r);s[1]=o,t.l=n}else t.l=n;return s}var IH=["left","right","top","bottom","header","footer"];function DH(t){var e={};return IH.forEach(function(r){e[r]=Gs(t)}),e}function LH(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function jH(){}function OH(){}function PH(t,e,r,n,a,s,o){if(!t)return t;var c=e||{};n||(n={"!id":{}});var h=c.dense?[]:{},d,p={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=!1,v=!1,b,E,k,A,N,I,P,z,G,W=[];c.biff=12,c["!row"]=0;var j=0,L=!1,R=[],U={},D=c.supbooks||a.supbooks||[[]];if(D.sharedf=U,D.arrayf=R,D.SheetNames=a.SheetNames||a.Sheets.map(function(ce){return ce.name}),!c.supbooks&&(c.supbooks=D,a.Names))for(var C=0;C<a.Names.length;++C)D[0][C+1]=a.Names[C];var B=[],ne=[],ye=!1;I1[16]={n:"BrtShortReal",f:cT};var ae;if(hu(t,function(te,Y,Te){if(!v)switch(Te){case 148:d=te;break;case 0:b=te,c.sheetRows&&c.sheetRows<=b.r&&(v=!0),z=ys(A=b.r),c["!row"]=b.r,(te.hidden||te.hpt||te.level!=null)&&(te.hpt&&(te.hpx=Mm(te.hpt)),ne[te.r]=te);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(E={t:te[2]},te[2]){case"n":E.v=te[1];break;case"s":P=pm[te[1]],E.v=P.t,E.r=P.r;break;case"b":E.v=!!te[1];break;case"e":E.v=te[1],c.cellText!==!1&&(E.w=Nf[E.v]);break;case"str":E.t="s",E.v=te[1];break;case"is":E.t="s",E.v=te[1].t;break}if((k=o.CellXf[te[0].iStyleRef])&&oT(E,k.numFmtId,null,c,s,o),N=te[0].c==-1?N+1:te[0].c,c.dense?(h[A]||(h[A]=[]),h[A][N]=E):h[Ba(N)+z]=E,c.cellFormula){for(L=!1,j=0;j<R.length;++j){var F=R[j];b.r>=F[0].s.r&&b.r<=F[0].e.r&&N>=F[0].s.c&&N<=F[0].e.c&&(E.F=$r(F[0]),L=!0)}!L&&te.length>3&&(E.f=te[3])}if(p.s.r>b.r&&(p.s.r=b.r),p.s.c>N&&(p.s.c=N),p.e.r<b.r&&(p.e.r=b.r),p.e.c<N&&(p.e.c=N),c.cellDates&&k&&E.t=="n"&&Jh(gr[k.numFmtId])){var H=tf(E.v);H&&(E.t="d",E.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}ae&&(ae.type=="XLDAPR"&&(E.D=!0),ae=void 0);break;case 1:case 12:if(!c.sheetStubs||y)break;E={t:"z",v:void 0},N=te[0].c==-1?N+1:te[0].c,c.dense?(h[A]||(h[A]=[]),h[A][N]=E):h[Ba(N)+z]=E,p.s.r>b.r&&(p.s.r=b.r),p.s.c>N&&(p.s.c=N),p.e.r<b.r&&(p.e.r=b.r),p.e.c<N&&(p.e.c=N),ae&&(ae.type=="XLDAPR"&&(E.D=!0),ae=void 0);break;case 176:W.push(te);break;case 49:ae=((c.xlmeta||{}).Cell||[])[te-1];break;case 494:var K=n["!id"][te.relId];for(K?(te.Target=K.Target,te.loc&&(te.Target+="#"+te.loc),te.Rel=K):te.relId==""&&(te.Target="#"+te.loc),A=te.rfx.s.r;A<=te.rfx.e.r;++A)for(N=te.rfx.s.c;N<=te.rfx.e.c;++N)c.dense?(h[A]||(h[A]=[]),h[A][N]||(h[A][N]={t:"z",v:void 0}),h[A][N].l=te):(I=dr({c:N,r:A}),h[I]||(h[I]={t:"z",v:void 0}),h[I].l=te);break;case 426:if(!c.cellFormula)break;R.push(te),G=c.dense?h[A][N]:h[Ba(N)+z],G.f=Us(te[1],p,{r:b.r,c:N},D,c),G.F=$r(te[0]);break;case 427:if(!c.cellFormula)break;U[dr(te[0].s)]=te[1],G=c.dense?h[A][N]:h[Ba(N)+z],G.f=Us(te[1],p,{r:b.r,c:N},D,c);break;case 60:if(!c.cellStyles)break;for(;te.e>=te.s;)B[te.e--]={width:te.w/256,hidden:!!(te.flags&1),level:te.level},ye||(ye=!0,B5(te.w/256)),Vh(B[te.e+1]);break;case 161:h["!autofilter"]={ref:$r(te)};break;case 476:h["!margins"]=te;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),te.name&&(a.Sheets[r].CodeName=te.name),(te.above||te.left)&&(h["!outline"]={above:te.above,left:te.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),te.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:y=!0;break;case 36:y=!1;break;case 37:y=!0;break;case 38:y=!1;break;default:if(!Y.T){if(!y||c.WTF)throw new Error("Unexpected record 0x"+Te.toString(16))}}},c),delete c.supbooks,delete c["!row"],!h["!ref"]&&(p.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(h["!ref"]=$r(d||p)),c.sheetRows&&h["!ref"]){var le=ra(h["!ref"]);c.sheetRows<=+le.e.r&&(le.e.r=c.sheetRows-1,le.e.r>p.e.r&&(le.e.r=p.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>p.e.c&&(le.e.c=p.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),h["!fullref"]=h["!ref"],h["!ref"]=$r(le))}return W.length>0&&(h["!merges"]=W),B.length>0&&(h["!cols"]=B),ne.length>0&&(h["!rows"]=ne),h}function FH(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=r?+o[2]:o[2])});var a=Qr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,a,n]}function MH(t,e,r,n,a,s){var o=s||{"!type":"chart"};if(!t)return s;var c=0,h=0,d="A",p={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(y){var v=FH(y);p.s.r=p.s.c=0,p.e.c=c,d=Ba(c),v[0].forEach(function(b,E){o[d+ys(E)]={t:"n",v:b,z:v[1]},h=E}),p.e.r<h&&(p.e.r=h),++c}),c>0&&(o["!ref"]=$r(p)),o}function BH(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,c=t.match(lT);return c&&V5(c[0],s,a,r),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function UH(t,e){t.l+=10;var r=Ys(t);return{name:r}}function VH(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return hu(t,function(h,d,p){switch(p){case 550:s["!rel"]=h;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),h.name&&(a.Sheets[r].CodeName=h.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var uT=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],zH=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],qH=[],HH=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function rk(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],a=0;a!=e.length;++a){var s=e[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Mn(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function nk(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Mn(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function fT(t){nk(t.WBProps,uT),nk(t.CalcPr,HH),rk(t.WBView,zH),rk(t.Sheets,qH),Rh.date1904=Mn(t.WBProps.date1904)}var GH="][*?/\\".split("");function $H(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return GH.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var KH=/<\w+:workbook/;function WH(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(t.replace(Js,function(h,d){var p=lr(h);switch(lc(p[0])){case"<?xml":break;case"<workbook":h.match(KH)&&(a="xmlns"+h.match(/<(\w+):/)[1]),r.xmlns=p[a];break;case"</workbook>":break;case"<fileVersion":delete p[0],r.AppVersion=p;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":uT.forEach(function(y){if(p[y[0]]!=null)switch(y[2]){case"bool":r.WBProps[y[0]]=Mn(p[y[0]]);break;case"int":r.WBProps[y[0]]=parseInt(p[y[0]],10);break;default:r.WBProps[y[0]]=p[y[0]]}}),p.codeName&&(r.WBProps.CodeName=Rn(p.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete p[0],r.WBView.push(p);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(p.state){case"hidden":p.Hidden=1;break;case"veryHidden":p.Hidden=2;break;default:p.Hidden=0}delete p.state,p.name=Qr(Rn(p.name)),delete p[0],r.Sheets.push(p);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Rn(p.name),p.comment&&(s.Comment=p.comment),p.localSheetId&&(s.Sheet=+p.localSheetId),Mn(p.hidden||"0")&&(s.Hidden=!0),o=d+h.length;break;case"</definedName>":s.Ref=Qr(Rn(t.slice(o,d))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete p[0],r.CalcPr=p;break;case"<calcPr/>":delete p[0],r.CalcPr=p;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+p[0]+" in workbook")}return h}),hM.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return fT(r),r}function YH(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=sv(t),r.name=Ys(t),r}function XH(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?Ys(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function QH(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function JH(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),s=RM(t),o=Oq(t,0,r),c=j5(t);t.l=n;var h={Name:s,Ptg:o};return a<268435455&&(h.Sheet=a),c&&(h.Comment=c),h}function ZH(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],I1[16]={n:"BrtFRTArchID$",f:QH},hu(t,function(h,d,p){switch(p){case 156:o.SheetNames.push(h.name),r.Sheets.push(h);break;case 153:r.WBProps=h;break;case 39:h.Sheet!=null&&(e.SID=h.Sheet),h.Ref=Us(h.Ptg,null,null,o,e),delete e.SID,delete h.Ptg,s.push(h);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([p,h]):o[0]=[p,h],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(h),o.XTI=o.XTI.concat(h);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(p),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(p),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!d.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}},e),fT(r),r.Names=s,r.supbooks=o,r}function eG(t,e,r){return e.slice(-4)===".bin"?ZH(t,r):WH(t,r)}function tG(t,e,r,n,a,s,o,c){return e.slice(-4)===".bin"?PH(t,n,r,a,s,o,c):Yq(t,n,r,a,s,o,c)}function rG(t,e,r,n,a,s,o,c){return e.slice(-4)===".bin"?VH(t,n,r,a,s):BH(t,n,r,a,s)}function nG(t,e,r,n,a,s,o,c){return e.slice(-4)===".bin"?fz():hz()}function aG(t,e,r,n,a,s,o,c){return e.slice(-4)===".bin"?cz():uz()}function sG(t,e,r,n){return e.slice(-4)===".bin"?SV(t,r,n):bV(t,r,n)}function iG(t,e,r){return QS(t,r)}function oG(t,e,r){return e.slice(-4)===".bin"?zU(t,r):UU(t,r)}function lG(t,e,r){return e.slice(-4)===".bin"?iz(t,r):tz(t,r)}function cG(t,e,r){return e.slice(-4)===".bin"?JV(t):XV(t)}function uG(t,e,r,n){return r.slice(-4)===".bin"?ZV(t,e,r,n):void 0}function fG(t,e,r){return e.slice(-4)===".bin"?WV(t,e,r):YV(t,e,r)}var hT=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,dT=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function nl(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=t.match(hT),s,o,c,h;if(a)for(h=0;h!=a.length;++h)s=a[h].match(dT),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(o+1),n[c]=s[2].slice(1,s[2].length-1));return n}function hG(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(hT),a,s,o,c;if(n)for(c=0;c!=n.length;++c)a=n[c].match(dT),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var xm;function dG(t,e){var r=xm[t]||Qr(t);return r==="General"?xf(e):Ro(r,e)}function mG(t,e,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Mn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ns(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Qr(e)]=a}function pG(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Nf[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Lm(t.v):t.w=xf(t.v):t.w=dG(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=xm[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Jh(n)){var a=tf(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function gG(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=mV[n.Pattern]||n.Pattern)}t[e.ID]=e}function xG(t,e,r,n,a,s,o,c,h,d){var p="General",y=n.StyleID,v={};d=d||{};var b=[],E=0;for(y===void 0&&c&&(y=c.StyleID),y===void 0&&o&&(y=o.StyleID);s[y]!==void 0&&(s[y].nf&&(p=s[y].nf),s[y].Interior&&b.push(s[y].Interior),!!s[y].Parent);)y=s[y].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Mn(t);break;case"String":n.t="s",n.r=A3(Qr(t)),n.v=t.indexOf("<")>-1?Qr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(ns(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Qr(t):n.v<60&&(n.v=n.v-1),(!p||p=="General")&&(p="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=CS[t],d.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=A3(e||t));break}if(pG(n,p,d),d.cellFormula!==!1)if(n.Formula){var k=Qr(n.Formula);k.charCodeAt(0)==61&&(k=k.slice(1)),n.f=Ch(k,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Ch("RC:RC",a):n.ArrayRange&&(n.F=Ch(n.ArrayRange,a),h.push([ra(n.F),n.F]))}else for(E=0;E<h.length;++E)a.r>=h[E][0].s.r&&a.r<=h[E][0].e.r&&a.c>=h[E][0].s.c&&a.c<=h[E][0].e.c&&(n.F=h[E][1]);d.cellStyles&&(b.forEach(function(A){!v.patternType&&A.patternType&&(v.patternType=A.patternType)}),n.s=v),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function yG(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function uy(t,e){var r=e||{};tS();var n=Xd(C5(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Rn(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=xs(r);return o.type="string",Pm.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(xt){a.indexOf("<"+xt)>=0&&(s=!0)}),s)return TG(n,r);xm={"General Number":"General","General Date":gr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gr[15],"Short Date":gr[14],"Long Time":gr[19],"Medium Time":gr[18],"Short Time":gr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gr[2],Standard:gr[4],Percent:gr[10],Scientific:gr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,h=[],d,p={},y=[],v=r.dense?[]:{},b="",E={},k={},A=nl('<Data ss:Type="String">'),N=0,I=0,P=0,z={s:{r:2e6,c:2e6},e:{r:0,c:0}},G={},W={},j="",L=0,R=[],U={},D={},C=0,B=[],ne=[],ye={},ae=[],le,ce=!1,te=[],Y=[],Te={},F=0,H=0,K={Sheets:[],WBProps:{date1904:!1}},Q={};Om.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var re="";c=Om.exec(n);)switch(c[3]=(re=c[3]).toLowerCase()){case"data":if(re=="data"){if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break}if(h[h.length-1][1])break;c[1]==="/"?xG(n.slice(N,c.index),j,A,h[h.length-1][0]=="comment"?ye:E,{c:I,r:P},G,ae[I],k,te,r):(j="",A=nl(c[0]),N=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(ne.length>0&&(E.c=ne),(!r.sheetRows||r.sheetRows>P)&&E.v!==void 0&&(r.dense?(v[P]||(v[P]=[]),v[P][I]=E):v[Ba(I)+ys(P)]=E),E.HRef&&(E.l={Target:Qr(E.HRef)},E.HRefScreenTip&&(E.l.Tooltip=E.HRefScreenTip),delete E.HRef,delete E.HRefScreenTip),(E.MergeAcross||E.MergeDown)&&(F=I+(parseInt(E.MergeAcross,10)|0),H=P+(parseInt(E.MergeDown,10)|0),R.push({s:{c:I,r:P},e:{c:F,r:H}})),!r.sheetStubs)E.MergeAcross?I=F+1:++I;else if(E.MergeAcross||E.MergeDown){for(var de=I;de<=F;++de)for(var ve=P;ve<=H;++ve)(de>I||ve>P)&&(r.dense?(v[ve]||(v[ve]=[]),v[ve][de]={t:"z"}):v[Ba(de)+ys(ve)]={t:"z"});I=F+1}else++I;else E=hG(c[0]),E.Index&&(I=+E.Index-1),I<z.s.c&&(z.s.c=I),I>z.e.c&&(z.e.c=I),c[0].slice(-2)==="/>"&&++I,ne=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(P<z.s.r&&(z.s.r=P),P>z.e.r&&(z.e.r=P),c[0].slice(-2)==="/>"&&(k=nl(c[0]),k.Index&&(P=+k.Index-1)),I=0,++P):(k=nl(c[0]),k.Index&&(P=+k.Index-1),Te={},(k.AutoFitHeight=="0"||k.Height)&&(Te.hpx=parseInt(k.Height,10),Te.hpt=XS(Te.hpx),Y[P]=Te),k.Hidden=="1"&&(Te.hidden=!0,Y[P]=Te));break;case"worksheet":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));y.push(b),z.s.r<=z.e.r&&z.s.c<=z.e.c&&(v["!ref"]=$r(z),r.sheetRows&&r.sheetRows<=z.e.r&&(v["!fullref"]=v["!ref"],z.e.r=r.sheetRows-1,v["!ref"]=$r(z))),R.length&&(v["!merges"]=R),ae.length>0&&(v["!cols"]=ae),Y.length>0&&(v["!rows"]=Y),p[b]=v}else z={s:{r:2e6,c:2e6},e:{r:0,c:0}},P=I=0,h.push([c[3],!1]),d=nl(c[0]),b=Qr(d.Name),v=r.dense?[]:{},R=[],te=[],Y=[],Q={name:b,Hidden:0},K.Sheets.push(Q);break;case"table":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;h.push([c[3],!1]),ae=[],ce=!1}break;case"style":c[1]==="/"?gG(G,W,r):W=nl(c[0]);break;case"numberformat":W.nf=Qr(nl(c[0]).Format||"General"),xm[W.nf]&&(W.nf=xm[W.nf]);for(var we=0;we!=392&&gr[we]!=W.nf;++we);if(we==392){for(we=57;we!=392;++we)if(gr[we]==null){af(W.nf,we);break}}break;case"column":if(h[h.length-1][0]!=="table")break;if(le=nl(c[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!ce&&le.wpx>10){ce=!0,si=WS;for(var Le=0;Le<ae.length;++Le)ae[Le]&&Vh(ae[Le])}ce&&Vh(le),ae[le.Index-1||ae.length]=le;for(var tt=0;tt<+le.Span;++tt)ae[ae.length]=xs(le);break;case"namedrange":if(c[1]==="/")break;K.Names||(K.Names=[]);var J=lr(c[0]),Ne={Name:J.Name,Ref:Ch(J.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Ne.Sheet=K.Sheets.length-1),K.Names.push(Ne);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?j+=n.slice(L,c.index):L=c.index+c[0].length;break;case"interior":if(!r.cellStyles)break;W.Interior=nl(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?tB(U,re,n.slice(C,c.index)):C=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else h.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));yG(ye),ne.push(ye)}else h.push([c[3],!1]),d=nl(c[0]),ye={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Qe=nl(c[0]);v["!autofilter"]={ref:Ch(Qe.Range).replace(/\$/g,"")},h.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=h.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&h.push([c[3],!0]);break;case"null":break;default:if(h.length==0&&c[3]=="document"||h.length==0&&c[3]=="uof")return ck(n,r);var je=!0;switch(h[h.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:je=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:je=!1}break;case"excelworkbook":switch(c[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:je=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:je=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(n.slice(C,c.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else C=c.index+c[0].length;break;case"header":v["!margins"]||gm(v["!margins"]={},"xlml"),isNaN(+lr(c[0]).Margin)||(v["!margins"].header=+lr(c[0]).Margin);break;case"footer":v["!margins"]||gm(v["!margins"]={},"xlml"),isNaN(+lr(c[0]).Margin)||(v["!margins"].footer=+lr(c[0]).Margin);break;case"pagemargins":var me=lr(c[0]);v["!margins"]||gm(v["!margins"]={},"xlml"),isNaN(+me.Top)||(v["!margins"].top=+me.Top),isNaN(+me.Left)||(v["!margins"].left=+me.Left),isNaN(+me.Right)||(v["!margins"].right=+me.Right),isNaN(+me.Bottom)||(v["!margins"].bottom=+me.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:je=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:je=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:je=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:je=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:je=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:je=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:je=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:je=!1}break;case"smarttags":break;default:je=!1;break}if(je||c[3].match(/!\[CDATA/))break;if(!h[h.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+h.join("|");if(h[h.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?mG(D,re,B,n.slice(C,c.index)):(B=c,C=c.index+c[0].length);break}if(r.WTF)throw"Unrecognized tag: "+c[3]+"|"+h.join("|")}var Ke={};return!r.bookSheets&&!r.bookProps&&(Ke.Sheets=p),Ke.SheetNames=y,Ke.Workbook=K,Ke.SSF=xs(gr),Ke.Props=U,Ke.Custprops=D,Ke}function cv(t,e){switch(H5(e=e||{}),e.type||"base64"){case"base64":return uy(Ji(t),e);case"binary":case"buffer":case"file":return uy(t,e);case"array":return uy(Af(t),e)}}function vG(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=LM(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=jM(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var bG=[60,1084,2066,2165,2175];function wG(t,e,r,n,a){var s=n,o=[],c=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(c)}o.push(c),r.l+=s;for(var h=Hc(r,r.l),d=uv[h],p=0;d!=null&&bG.indexOf(h)>-1;)s=Hc(r,r.l+2),p=r.l+4,h==2066?p+=4:(h==2165||h==2175)&&(p+=12),c=r.slice(p,r.l+4+s),o.push(c),r.l+=4+s,d=uv[h=Hc(r,r.l)];var y=r0(o);gs(y,0);var v=0;y.lens=[];for(var b=0;b<o.length;++b)y.lens.push(v),v+=o[b].length;if(y.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+y.length+" < "+n;return e.f(y,y.length,a)}function Wl(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=gr[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Nf[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Lm(t.v):t.w=xf(t.v):t.w=Ro(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&Jh(gr[n]||String(n))){var a=tf(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Cg(t,e,r){return{v:t,ixfe:e,t:r}}function _G(t,e){var r={opts:{}},n={},a=e.dense?[]:{},s={},o={},c=null,h=[],d="",p={},y,v="",b,E,k,A,N={},I=[],P,z,G=[],W=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},R=function(Nt){return Nt<8?sf[Nt]:Nt<64&&W[Nt-8]||sf[Nt]},U=function(Nt,vt,Dr){var qt=vt.XF.data;if(!(!qt||!qt.patternType||!Dr||!Dr.cellStyles)){vt.s={},vt.s.patternType=qt.patternType;var wn;(wn=Fm(R(qt.icvFore)))&&(vt.s.fgColor={rgb:wn}),(wn=Fm(R(qt.icvBack)))&&(vt.s.bgColor={rgb:wn})}},D=function(Nt,vt,Dr){if(!(Te>1)&&!(Dr.sheetRows&&Nt.r>=Dr.sheetRows)){if(Dr.cellStyles&&vt.XF&&vt.XF.data&&U(Nt,vt,Dr),delete vt.ixfe,delete vt.XF,y=Nt,v=dr(Nt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Nt.r<o.s.r&&(o.s.r=Nt.r),Nt.c<o.s.c&&(o.s.c=Nt.c),Nt.r+1>o.e.r&&(o.e.r=Nt.r+1),Nt.c+1>o.e.c&&(o.e.c=Nt.c+1),Dr.cellFormula&&vt.f){for(var qt=0;qt<I.length;++qt)if(!(I[qt][0].s.c>Nt.c||I[qt][0].s.r>Nt.r)&&!(I[qt][0].e.c<Nt.c||I[qt][0].e.r<Nt.r)){vt.F=$r(I[qt][0]),(I[qt][0].s.c!=Nt.c||I[qt][0].s.r!=Nt.r)&&delete vt.f,vt.f&&(vt.f=""+Us(I[qt][1],o,Nt,te,C));break}}Dr.dense?(a[Nt.r]||(a[Nt.r]=[]),a[Nt.r][Nt.c]=vt):a[v]=vt}},C={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:I,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(C.password=e.password);var B,ne=[],ye=[],ae=[],le=[],ce=!1,te=[];te.SheetNames=C.snames,te.sharedf=C.sharedf,te.arrayf=C.arrayf,te.names=[],te.XTI=[];var Y=0,Te=0,F=0,H=[],K=[],Q;C.codepage=1200,cl(1200);for(var re=!1;t.l<t.length-1;){var de=t.l,ve=t.read_shift(2);if(ve===0&&Y===10)break;var we=t.l===t.length?0:t.read_shift(2),Le=uv[ve];if(Le&&Le.f){if(e.bookSheets&&Y===133&&ve!==133)break;if(Y=ve,Le.r===2||Le.r==12){var tt=t.read_shift(2);if(we-=2,!C.enc&&tt!==ve&&((tt&255)<<8|tt>>8)!==ve)throw new Error("rt mismatch: "+tt+"!="+ve);Le.r==12&&(t.l+=10,we-=10)}var J={};if(ve===10?J=Le.f(t,we,C):J=wG(ve,Le,t,we,C),Te==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(ve){case 34:r.opts.Date1904=j.WBProps.date1904=J;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(C.enc||(t.l=0),C.enc=J,!e.password)throw new Error("File is password-protected");if(J.valid==null)throw new Error("Encryption scheme unsupported");if(!J.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=J;break;case 66:var Ne=Number(J);switch(Ne){case 21010:Ne=1200;break;case 32768:Ne=1e4;break;case 32769:Ne=1252;break}cl(C.codepage=Ne),re=!0;break;case 317:C.rrtabid=J;break;case 25:C.winlocked=J;break;case 439:r.opts.RefreshAll=J;break;case 12:r.opts.CalcCount=J;break;case 16:r.opts.CalcDelta=J;break;case 17:r.opts.CalcIter=J;break;case 13:r.opts.CalcMode=J;break;case 14:r.opts.CalcPrecision=J;break;case 95:r.opts.CalcSaveRecalc=J;break;case 15:C.CalcRefMode=J;break;case 2211:r.opts.FullCalc=J;break;case 129:J.fDialog&&(a["!type"]="dialog"),J.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),J.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:G.push(J);break;case 430:te.push([J]),te[te.length-1].XTI=[];break;case 35:case 547:te[te.length-1].push(J);break;case 24:case 536:Q={Name:J.Name,Ref:Us(J.rgce,o,null,te,C)},J.itab>0&&(Q.Sheet=J.itab-1),te.names.push(Q),te[0]||(te[0]=[],te[0].XTI=[]),te[te.length-1].push(J),J.Name=="_xlnm._FilterDatabase"&&J.itab>0&&J.rgce&&J.rgce[0]&&J.rgce[0][0]&&J.rgce[0][0][0]=="PtgArea3d"&&(K[J.itab-1]={ref:$r(J.rgce[0][0][1][2])});break;case 22:C.ExternCount=J;break;case 23:te.length==0&&(te[0]=[],te[0].XTI=[]),te[te.length-1].XTI=te[te.length-1].XTI.concat(J),te.XTI=te.XTI.concat(J);break;case 2196:if(C.biff<8)break;Q!=null&&(Q.Comment=J[1]);break;case 18:a["!protect"]=J;break;case 19:J!==0&&C.WTF&&console.error("Password verifier: "+J);break;case 133:s[J.pos]=J,C.snames.push(J.name);break;case 10:{if(--Te)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=$r(o),e.sheetRows&&e.sheetRows<=o.e.r){var Qe=o.e.r;o.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=$r(o),o.e.r=Qe}o.e.r++,o.e.c++}ne.length>0&&(a["!merges"]=ne),ye.length>0&&(a["!objects"]=ye),ae.length>0&&(a["!cols"]=ae),le.length>0&&(a["!rows"]=le),j.Sheets.push(L)}d===""?p=a:n[d]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(C.biff===8&&(C.biff={9:2,521:3,1033:4}[ve]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[J.BIFFVer]||8),C.biffguess=J.BIFFVer==0,J.BIFFVer==0&&J.dt==4096&&(C.biff=5,re=!0,cl(C.codepage=28591)),C.biff==8&&J.BIFFVer==0&&J.dt==16&&(C.biff=2),Te++)break;if(a=e.dense?[]:{},C.biff<8&&!re&&(re=!0,cl(C.codepage=e.codepage||1252)),C.biff<5||J.BIFFVer==0&&J.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var je={pos:t.l-we,name:d};s[je.pos]=je,C.snames.push(d)}else d=(s[de]||{name:""}).name;J.dt==32&&(a["!type"]="chart"),J.dt==64&&(a["!type"]="macro"),ne=[],ye=[],C.arrayf=I=[],ae=[],le=[],ce=!1,L={Hidden:(s[de]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[J.r]||[])[J.c]:a[dr({c:J.c,r:J.r})])&&++J.c,P={ixfe:J.ixfe,XF:G[J.ixfe]||{},v:J.val,t:"n"},F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D({c:J.c,r:J.r},P,e);break;case 5:case 517:P={ixfe:J.ixfe,XF:G[J.ixfe],v:J.val,t:J.t},F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D({c:J.c,r:J.r},P,e);break;case 638:P={ixfe:J.ixfe,XF:G[J.ixfe],v:J.rknum,t:"n"},F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D({c:J.c,r:J.r},P,e);break;case 189:for(var me=J.c;me<=J.C;++me){var Ke=J.rkrec[me-J.c][0];P={ixfe:Ke,XF:G[Ke],v:J.rkrec[me-J.c][1],t:"n"},F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D({c:me,r:J.r},P,e)}break;case 6:case 518:case 1030:{if(J.val=="String"){c=J;break}if(P=Cg(J.val,J.cell.ixfe,J.tt),P.XF=G[P.ixfe],e.cellFormula){var xt=J.formula;if(xt&&xt[0]&&xt[0][0]&&xt[0][0][0]=="PtgExp"){var st=xt[0][0][1][0],pt=xt[0][0][1][1],_t=dr({r:st,c:pt});N[_t]?P.f=""+Us(J.formula,o,J.cell,te,C):P.F=((e.dense?(a[st]||[])[pt]:a[_t])||{}).F}else P.f=""+Us(J.formula,o,J.cell,te,C)}F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D(J.cell,P,e),c=J}break;case 7:case 519:if(c)c.val=J,P=Cg(J,c.cell.ixfe,"s"),P.XF=G[P.ixfe],e.cellFormula&&(P.f=""+Us(c.formula,o,c.cell,te,C)),F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D(c.cell,P,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{I.push(J);var bt=dr(J[0].s);if(b=e.dense?(a[J[0].s.r]||[])[J[0].s.c]:a[bt],e.cellFormula&&b){if(!c||!bt||!b)break;b.f=""+Us(J[1],o,J[0],te,C),b.F=$r(J[0])}}break;case 1212:{if(!e.cellFormula)break;if(v){if(!c)break;N[dr(c.cell)]=J[0],b=e.dense?(a[c.cell.r]||[])[c.cell.c]:a[dr(c.cell)],(b||{}).f=""+Us(J[0],o,y,te,C)}}break;case 253:P=Cg(h[J.isst].t,J.ixfe,"s"),h[J.isst].h&&(P.h=h[J.isst].h),P.XF=G[P.ixfe],F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D({c:J.c,r:J.r},P,e);break;case 513:e.sheetStubs&&(P={ixfe:J.ixfe,XF:G[J.ixfe],t:"z"},F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D({c:J.c,r:J.r},P,e));break;case 190:if(e.sheetStubs)for(var Dt=J.c;Dt<=J.C;++Dt){var Ut=J.ixfe[Dt-J.c];P={ixfe:Ut,XF:G[Ut],t:"z"},F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D({c:Dt,r:J.r},P,e)}break;case 214:case 516:case 4:P=Cg(J.val,J.ixfe,"s"),P.XF=G[P.ixfe],F>0&&(P.z=H[P.ixfe>>8&63]),Wl(P,e,r.opts.Date1904),D({c:J.c,r:J.r},P,e);break;case 0:case 512:Te===1&&(o=J);break;case 252:h=J;break;case 1054:if(C.biff==4){H[F++]=J[1];for(var Wt=0;Wt<F+163&&gr[Wt]!=J[1];++Wt);Wt>=163&&af(J[1],F+163)}else af(J[1],J[0]);break;case 30:{H[F++]=J;for(var jt=0;jt<F+163&&gr[jt]!=J;++jt);jt>=163&&af(J,F+163)}break;case 229:ne=ne.concat(J);break;case 93:ye[J.cmo[0]]=C.lastobj=J;break;case 438:C.lastobj.TxO=J;break;case 127:C.lastobj.ImData=J;break;case 440:for(A=J[0].s.r;A<=J[0].e.r;++A)for(k=J[0].s.c;k<=J[0].e.c;++k)b=e.dense?(a[A]||[])[k]:a[dr({c:k,r:A})],b&&(b.l=J[1]);break;case 2048:for(A=J[0].s.r;A<=J[0].e.r;++A)for(k=J[0].s.c;k<=J[0].e.c;++k)b=e.dense?(a[A]||[])[k]:a[dr({c:k,r:A})],b&&b.l&&(b.l.Tooltip=J[1]);break;case 28:{if(C.biff<=5&&C.biff>=2)break;b=e.dense?(a[J[0].r]||[])[J[0].c]:a[dr(J[0])];var Ot=ye[J[2]];b||(e.dense?(a[J[0].r]||(a[J[0].r]=[]),b=a[J[0].r][J[0].c]={t:"z"}):b=a[dr(J[0])]={t:"z"},o.e.r=Math.max(o.e.r,J[0].r),o.s.r=Math.min(o.s.r,J[0].r),o.e.c=Math.max(o.e.c,J[0].c),o.s.c=Math.min(o.s.c,J[0].c)),b.c||(b.c=[]),E={a:J[1],t:Ot.TxO.t},b.c.push(E)}break;case 2173:HV(G[J.ixfe],J.ext);break;case 125:{if(!C.cellStyles)break;for(;J.e>=J.s;)ae[J.e--]={width:J.w/256,level:J.level||0,hidden:!!(J.flags&1)},ce||(ce=!0,B5(J.w/256)),Vh(ae[J.e+1])}break;case 520:{var Ht={};J.level!=null&&(le[J.r]=Ht,Ht.level=J.level),J.hidden&&(le[J.r]=Ht,Ht.hidden=!0),J.hpt&&(le[J.r]=Ht,Ht.hpt=J.hpt,Ht.hpx=Mm(J.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||gm(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ve]]=J;break;case 161:a["!margins"]||gm(a["!margins"]={}),a["!margins"].header=J.header,a["!margins"].footer=J.footer;break;case 574:J.RTL&&(j.Views[0].RTL=!0);break;case 146:W=J;break;case 2198:B=J;break;case 140:z=J;break;case 442:d?L.CodeName=J||L.name:j.WBProps.CodeName=J||"ThisWorkbook";break}}else Le||console.error("Missing Info for XLS Record 0x"+ve.toString(16)),t.l+=we}return r.SheetNames=sc(s).sort(function(It,Nt){return Number(It)-Number(Nt)}).map(function(It){return s[It].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&p["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=p)):r.Preamble=p,r.Sheets&&K.forEach(function(It,Nt){r.Sheets[r.SheetNames[Nt]]["!autofilter"]=It}),r.Strings=h,r.SSF=xs(gr),C.enc&&(r.Encryption=C.enc),B&&(r.Themes=B),r.Metadata={},z!==void 0&&(r.Metadata.Country=z),te.names.length>0&&(j.Names=te.names),r.Workbook=j,r}var ak={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function kG(t,e,r){var n=Gr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=V3(n,UM,ak.DSI);for(var s in a)e[s]=a[s]}catch(d){if(r.WTF)throw d}var o=Gr.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var c=V3(o,VM,ak.SI);for(var h in c)e[h]==null&&(e[h]=c[h])}catch(d){if(r.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(IS(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function mT(t,e){e||(e={}),H5(e),q6(),e.codepage&&_5(e.codepage);var r,n;if(t.FullPaths){if(Gr.find(t,"/encryption"))throw new Error("File is password-protected");r=Gr.find(t,"!CompObj"),n=Gr.find(t,"/Workbook")||Gr.find(t,"/Book")}else{switch(e.type){case"base64":t=il(Ji(t));break;case"binary":t=il(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}gs(t,0),n={content:t}}var a,s;if(r&&vG(r),e.bookProps&&!e.bookSheets)a={};else{var o=Ur?"buffer":"array";if(n&&n.content)a=_G(n.content,e);else if((s=Gr.find(t,"PerfectOffice_MAIN"))&&s.content)a=mm.to_workbook(s.content,(e.type=o,e));else if((s=Gr.find(t,"NativeContent_MAIN"))&&s.content)a=mm.to_workbook(s.content,(e.type=o,e));else throw(s=Gr.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Gr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=lz(t))}var c={};return t.FullPaths&&kG(t,c,e),a.Props=a.Custprops=c,e.bookFiles&&(a.cfb=t),a}var I1={0:{f:aH},1:{f:lH},2:{f:xH},3:{f:hH},4:{f:uH},5:{f:gH},6:{f:bH},7:{f:mH},8:{f:AH},9:{f:EH},10:{f:_H},11:{f:kH},12:{f:cH},13:{f:yH},14:{f:dH},15:{f:fH},16:{f:cT},17:{f:wH},18:{f:pH},19:{f:L5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:JH},40:{},42:{},43:{f:_V},44:{f:wV},45:{f:kV},46:{f:AV},47:{f:EV},48:{},49:{f:SM},50:{},51:{f:$V},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:qS},62:{f:vH},63:{f:QV},64:{f:jH},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:LH},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:oH},148:{f:sH,p:16},151:{f:NH},152:{},153:{f:XH},154:{},155:{},156:{f:YH},157:{},158:{},159:{T:1,f:VU},160:{T:-1},161:{T:1,f:Tf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:SH},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:GV},336:{T:-1},337:{f:KV,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:sv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:zS},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:CH},427:{f:RH},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:DH},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:iH},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:TH},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:sv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:sz},633:{T:1},634:{T:-1},635:{T:1,f:az},636:{T:-1},637:{f:NM},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:UH},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:OH},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},uv={6:{f:ly},10:{f:Qu},12:{f:Sa},13:{f:Sa},14:{f:fa},15:{f:fa},16:{f:Gs},17:{f:fa},18:{f:fa},19:{f:Sa},20:{f:G3},21:{f:G3},23:{f:zS},24:{f:K3},25:{f:fa},26:{},27:{},28:{f:rU},29:{},34:{f:fa},35:{f:$3},38:{f:Gs},39:{f:Gs},40:{f:Gs},41:{f:Gs},42:{f:fa},43:{f:fa},47:{f:iV},49:{f:FB},51:{f:Sa},60:{},61:{f:jB},64:{f:fa},65:{f:PB},66:{f:Sa},77:{},80:{},81:{},82:{},85:{f:Sa},89:{},90:{},91:{},92:{f:SB},93:{f:aU},94:{},95:{f:fa},96:{},97:{},99:{f:fa},125:{f:qS},128:{f:KB},129:{f:TB},130:{f:Sa},131:{f:fa},132:{f:fa},133:{f:NB},134:{},140:{f:uU},141:{f:Sa},144:{},146:{f:hU},151:{},152:{},153:{},154:{},155:{},156:{f:Sa},157:{},158:{},160:{f:xU},161:{f:mU},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:qB},190:{f:HB},193:{f:Qu},197:{},198:{},199:{},200:{},201:{},202:{f:fa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Sa},220:{},221:{f:fa},222:{},224:{f:$B},225:{f:AB},226:{f:Qu},227:{},229:{f:nU},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:CB},253:{f:MB},255:{f:RB},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:PS},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fa},353:{f:Qu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:YB},431:{f:fa},432:{},433:{},434:{},437:{},438:{f:oU},439:{f:fa},440:{f:lU},441:{},442:{f:op},443:{},444:{f:Sa},445:{},446:{},448:{f:Qu},449:{f:LB,r:2},450:{f:Qu},512:{f:q3},513:{f:gU},515:{f:WB},516:{f:BB},517:{f:H3},519:{f:yU},520:{f:IB},523:{},545:{f:W3},549:{f:z3},566:{},574:{f:OB},638:{f:zB},659:{},1048:{},1054:{f:UB},1084:{},1212:{f:ZB},2048:{f:cU},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Sg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Qu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:dU,r:12},2173:{f:qV,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:JB,r:12},2197:{},2198:{f:FV,r:12},2199:{},2200:{},2201:{},2202:{f:eU,r:12},2203:{f:Qu},2204:{},2205:{},2206:{},2207:{},2211:{f:DB},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Sa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:pU},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:fU},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:q3},1:{},2:{f:_U},3:{f:wU},4:{f:bU},5:{f:H3},7:{f:kU},8:{},9:{f:Sg},11:{},22:{f:Sa},30:{f:VB},31:{},32:{},33:{f:W3},36:{},37:{f:z3},50:{f:EU},62:{},52:{},67:{},68:{f:Sa},69:{},86:{},126:{},127:{f:vU},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:AU},223:{},234:{},354:{},421:{},518:{f:ly},521:{f:Sg},536:{f:K3},547:{f:$3},561:{},579:{},1030:{f:ly},1033:{f:Sg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function al(t,e,r,n){var a=e;if(!isNaN(a)){var s=(r||[]).length||0,o=t.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&kS(r)&&t.push(r)}}function sk(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=a.index,c=s&&s.index||t.length,h=WF(t.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,p=0,y=0,v=0,b={s:{r:1e7,c:1e7},e:{r:0,c:0}},E=[];for(o=0;o<h.length;++o){var k=h[o].trim(),A=k.slice(0,3).toLowerCase();if(A=="<tr"){if(++d,r.sheetRows&&r.sheetRows<=d){--d;break}p=0;continue}if(!(A!="<td"&&A!="<th")){var N=k.split(/<\/t[dh]>/i);for(c=0;c<N.length;++c){var I=N[c].trim();if(I.match(/<t[dh]/i)){for(var P=I,z=0;P.charAt(0)=="<"&&(z=P.indexOf(">"))>-1;)P=P.slice(z+1);for(var G=0;G<E.length;++G){var W=E[G];W.s.c==p&&W.s.r<d&&d<=W.e.r&&(p=W.e.c+1,G=-1)}var j=lr(I.slice(0,I.indexOf(">")));v=j.colspan?+j.colspan:1,((y=+j.rowspan)>1||v>1)&&E.push({s:{r:d,c:p},e:{r:d+(y||1)-1,c:p+v-1}});var L=j.t||j["data-t"]||"";if(!P.length){p+=v;continue}if(P=uS(P),b.s.r>d&&(b.s.r=d),b.e.r<d&&(b.e.r=d),b.s.c>p&&(b.s.c=p),b.e.c<p&&(b.e.c=p),!P.length){p+=v;continue}var R={t:"s",v:P};r.raw||!P.trim().length||L=="s"||(P==="TRUE"?R={t:"b",v:!0}:P==="FALSE"?R={t:"b",v:!1}:isNaN(fl(P))?isNaN(Uh(P).getDate())||(R={t:"d",v:ns(P)},r.cellDates||(R={t:"n",v:li(R.v)}),R.z=r.dateNF||gr[14]):R={t:"n",v:fl(P)}),r.dense?(n[d]||(n[d]=[]),n[d][p]=R):n[dr({r:d,c:p})]=R,p+=v}}}}return n["!ref"]=$r(b),E.length&&(n["!merges"]=E),n}function EG(t,e,r,n){for(var a=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,h=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){c=-1;break}c=a[d].e.r-a[d].s.r+1,h=a[d].e.c-a[d].s.c+1;break}if(!(c<0)){var p=dr({r,c:o}),y=n.dense?(t[r]||[])[o]:t[p],v=y&&y.v!=null&&(y.h||N5(y.w||(iu(y),y.w)||""))||"",b={};c>1&&(b.rowspan=c),h>1&&(b.colspan=h),n.editable?v='<span contenteditable="true">'+v+"</span>":y&&(b["data-t"]=y&&y.t||"z",y.v!=null&&(b["data-v"]=y.v),y.z!=null&&(b["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+y.l.Target+'">'+v+"</a>")),b.id=(n.id||"sjs")+"-"+p,s.push(uM("td",v,b))}}var E="<tr>";return E+s.join("")+"</tr>"}var AG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',SG="</body></html>";function TG(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return T0(sk(r[0],e),e);var n=$5();return r.forEach(function(a,s){K5(n,sk(a,e),"Sheet"+(s+1))}),n}function NG(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function CG(t,e){var r=e||{},n=r.header!=null?r.header:AG,a=r.footer!=null?r.footer:SG,s=[n],o=Zh(t["!ref"]);r.dense=Array.isArray(t),s.push(NG(t,o,r));for(var c=o.s.r;c<=o.e.r;++c)s.push(EG(t,o,c,r));return s.push("</table>"+a),s.join("")}function pT(t,e,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?ii(n.origin):n.origin;a=o.r,s=o.c}var c=e.getElementsByTagName("tr"),h=Math.min(n.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:a,c:s}};if(t["!ref"]){var p=Zh(t["!ref"]);d.s.r=Math.min(d.s.r,p.s.r),d.s.c=Math.min(d.s.c,p.s.c),d.e.r=Math.max(d.e.r,p.e.r),d.e.c=Math.max(d.e.c,p.e.c),a==-1&&(d.e.r=a=p.e.r+1)}var y=[],v=0,b=t["!rows"]||(t["!rows"]=[]),E=0,k=0,A=0,N=0,I=0,P=0;for(t["!cols"]||(t["!cols"]=[]);E<c.length&&k<h;++E){var z=c[E];if(ik(z)){if(n.display)continue;b[k]={hidden:!0}}var G=z.children;for(A=N=0;A<G.length;++A){var W=G[A];if(!(n.display&&ik(W))){var j=W.hasAttribute("data-v")?W.getAttribute("data-v"):W.hasAttribute("v")?W.getAttribute("v"):uS(W.innerHTML),L=W.getAttribute("data-z")||W.getAttribute("z");for(v=0;v<y.length;++v){var R=y[v];R.s.c==N+s&&R.s.r<k+a&&k+a<=R.e.r&&(N=R.e.c+1-s,v=-1)}P=+W.getAttribute("colspan")||1,((I=+W.getAttribute("rowspan")||1)>1||P>1)&&y.push({s:{r:k+a,c:N+s},e:{r:k+a+(I||1)-1,c:N+s+(P||1)-1}});var U={t:"s",v:j},D=W.getAttribute("data-t")||W.getAttribute("t")||"";j!=null&&(j.length==0?U.t=D||"z":n.raw||j.trim().length==0||D=="s"||(j==="TRUE"?U={t:"b",v:!0}:j==="FALSE"?U={t:"b",v:!1}:isNaN(fl(j))?isNaN(Uh(j).getDate())||(U={t:"d",v:ns(j)},n.cellDates||(U={t:"n",v:li(U.v)}),U.z=n.dateNF||gr[14]):U={t:"n",v:fl(j)})),U.z===void 0&&L!=null&&(U.z=L);var C="",B=W.getElementsByTagName("A");if(B&&B.length)for(var ne=0;ne<B.length&&!(B[ne].hasAttribute("href")&&(C=B[ne].getAttribute("href"),C.charAt(0)!="#"));++ne);C&&C.charAt(0)!="#"&&(U.l={Target:C}),n.dense?(t[k+a]||(t[k+a]=[]),t[k+a][N+s]=U):t[dr({c:N+s,r:k+a})]=U,d.e.c<N+s&&(d.e.c=N+s),N+=P}}++k}return y.length&&(t["!merges"]=(t["!merges"]||[]).concat(y)),d.e.r=Math.max(d.e.r,k-1+a),t["!ref"]=$r(d),k>=h&&(t["!fullref"]=$r((d.e.r=c.length-E+k-1+a,d))),t}function gT(t,e){var r=e||{},n=r.dense?[]:{};return pT(n,t,e)}function RG(t,e){return T0(gT(t,e),e)}function ik(t){var e="",r=IG(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function IG(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function DG(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Qr(e.replace(/<[^>]*>/g,""));return[r]}var ok={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function xT(t,e){var r=e||{},n=C5(t),a=[],s,o,c={name:""},h="",d=0,p,y,v={},b=[],E=r.dense?[]:{},k,A,N={value:""},I="",P=0,z=[],G=-1,W=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,R={},U=[],D={},C=0,B=0,ne=[],ye=1,ae=1,le=[],ce={Names:[]},te={},Y=["",""],Te=[],F={},H="",K=0,Q=!1,re=!1,de=0;for(Om.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");k=Om.exec(n);)switch(k[3]=k[3].replace(/_.*$/,"")){case"table":case"工作表":k[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?E["!ref"]=$r(j):E["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(E["!fullref"]=E["!ref"],j.e.r=r.sheetRows-1,E["!ref"]=$r(j)),U.length&&(E["!merges"]=U),ne.length&&(E["!rows"]=ne),p.name=p.名称||p.name,typeof JSON<"u"&&JSON.stringify(p),b.push(p.name),v[p.name]=E,re=!1):k[0].charAt(k[0].length-2)!=="/"&&(p=lr(k[0],!1),G=W=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,E=r.dense?[]:{},U=[],ne=[],re=!0);break;case"table-row-group":k[1]==="/"?--L:++L;break;case"table-row":case"行":if(k[1]==="/"){G+=ye,ye=1;break}if(y=lr(k[0],!1),y.行号?G=y.行号-1:G==-1&&(G=0),ye=+y["number-rows-repeated"]||1,ye<10)for(de=0;de<ye;++de)L>0&&(ne[G+de]={level:L});W=-1;break;case"covered-table-cell":k[1]!=="/"&&++W,r.sheetStubs&&(r.dense?(E[G]||(E[G]=[]),E[G][W]={t:"z"}):E[dr({r:G,c:W})]={t:"z"}),I="",z=[];break;case"table-cell":case"数据":if(k[0].charAt(k[0].length-2)==="/")++W,N=lr(k[0],!1),ae=parseInt(N["number-columns-repeated"]||"1",10),A={t:"z",v:null},N.formula&&r.cellFormula!=!1&&(A.f=tk(Qr(N.formula))),(N.数据类型||N["value-type"])=="string"&&(A.t="s",A.v=Qr(N["string-value"]||""),r.dense?(E[G]||(E[G]=[]),E[G][W]=A):E[dr({r:G,c:W})]=A),W+=ae-1;else if(k[1]!=="/"){++W,I="",P=0,z=[],ae=1;var ve=ye?G+ye-1:G;if(W>j.e.c&&(j.e.c=W),W<j.s.c&&(j.s.c=W),G<j.s.r&&(j.s.r=G),ve>j.e.r&&(j.e.r=ve),N=lr(k[0],!1),Te=[],F={},A={t:N.数据类型||N["value-type"],v:null},r.cellFormula)if(N.formula&&(N.formula=Qr(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(C=parseInt(N["number-matrix-rows-spanned"],10)||0,B=parseInt(N["number-matrix-columns-spanned"],10)||0,D={s:{r:G,c:W},e:{r:G+C-1,c:W+B-1}},A.F=$r(D),le.push([D,A.F])),N.formula)A.f=tk(N.formula);else for(de=0;de<le.length;++de)G>=le[de][0].s.r&&G<=le[de][0].e.r&&W>=le[de][0].s.c&&W<=le[de][0].e.c&&(A.F=le[de][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(C=parseInt(N["number-rows-spanned"],10)||0,B=parseInt(N["number-columns-spanned"],10)||0,D={s:{r:G,c:W},e:{r:G+C-1,c:W+B-1}},U.push(D)),N["number-columns-repeated"]&&(ae=parseInt(N["number-columns-repeated"],10)),A.t){case"boolean":A.t="b",A.v=Mn(N["boolean-value"]);break;case"float":A.t="n",A.v=parseFloat(N.value);break;case"percentage":A.t="n",A.v=parseFloat(N.value);break;case"currency":A.t="n",A.v=parseFloat(N.value);break;case"date":A.t="d",A.v=ns(N["date-value"]),r.cellDates||(A.t="n",A.v=li(A.v)),A.z="m/d/yy";break;case"time":A.t="n",A.v=GF(N["time-value"])/86400,r.cellDates&&(A.t="d",A.v=gx(A.v)),A.z="HH:MM:SS";break;case"number":A.t="n",A.v=parseFloat(N.数据数值);break;default:if(A.t==="string"||A.t==="text"||!A.t)A.t="s",N["string-value"]!=null&&(I=Qr(N["string-value"]),z=[]);else throw new Error("Unsupported value type "+A.t)}}else{if(Q=!1,A.t==="s"&&(A.v=I||"",z.length&&(A.R=z),Q=P==0),te.Target&&(A.l=te),Te.length>0&&(A.c=Te,Te=[]),I&&r.cellText!==!1&&(A.w=I),Q&&(A.t="z",delete A.v),(!Q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=G))for(var we=0;we<ye;++we){if(ae=parseInt(N["number-columns-repeated"]||"1",10),r.dense)for(E[G+we]||(E[G+we]=[]),E[G+we][W]=we==0?A:xs(A);--ae>0;)E[G+we][W+ae]=xs(A);else for(E[dr({r:G+we,c:W})]=A;--ae>0;)E[dr({r:G+we,c:W+ae})]=xs(A);j.e.c<=W&&(j.e.c=W)}ae=parseInt(N["number-columns-repeated"]||"1",10),W+=ae-1,ae=0,A={},I="",z=[]}te={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(k[1]==="/"){if((s=a.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&a.push([k[3],!0]);break;case"annotation":if(k[1]==="/"){if((s=a.pop())[0]!==k[3])throw"Bad state: "+s;F.t=I,z.length&&(F.R=z),F.a=H,Te.push(F)}else k[0].charAt(k[0].length-2)!=="/"&&a.push([k[3],!1]);H="",K=0,I="",P=0,z=[];break;case"creator":k[1]==="/"?H=n.slice(K,k.index):K=k.index+k[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(k[1]==="/"){if((s=a.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&a.push([k[3],!1]);I="",P=0,z=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(k[1]==="/"){if(R[c.name]=h,(s=a.pop())[0]!==k[3])throw"Bad state: "+s}else k[0].charAt(k[0].length-2)!=="/"&&(h="",c=lr(k[0],!1),a.push([k[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=lr(k[0],!1),h+=ok[k[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=lr(k[0],!1),h+=ok[k[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(k[0].slice(-2)==="/>")break;if(k[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":h+=n.slice(d,k.index);break}else d=k.index+k[0].length;break;case"named-range":o=lr(k[0],!1),Y=cy(o["cell-range-address"]);var Le={Name:o.name,Ref:Y[0]+"!"+Y[1]};re&&(Le.Sheet=b.length),ce.Names.push(Le);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(k[1]==="/"&&(!N||!N["string-value"])){var tt=DG(n.slice(P,k.index));I=(I.length>0?I+`
`:"")+tt[0]}else lr(k[0],!1),P=k.index+k[0].length;break;case"s":break;case"database-range":if(k[1]==="/")break;try{Y=cy(lr(k[0])["target-range-address"]),v[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(k[1]!=="/"){if(te=lr(k[0],!1),!te.href)break;te.Target=Qr(te.href),delete te.href,te.Target.charAt(0)=="#"&&te.Target.indexOf(".")>-1?(Y=cy(te.Target.slice(1)),te.Target="#"+Y[0]+"!"+Y[1]):te.Target.match(/^\.\.[\\\/]/)&&(te.Target=te.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(k[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(k)}}var J={Sheets:v,SheetNames:b,Workbook:ce};return r.bookSheets&&delete J.Sheets,J}function lk(t,e){e=e||{},Ao(t,"META-INF/manifest.xml")&&WM(Aa(t,"META-INF/manifest.xml"),e);var r=Yi(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=xT(Rn(r),e);return Ao(t,"meta.xml")&&(n.Props=RS(Aa(t,"meta.xml"))),n}function ck(t,e){return xT(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function z5(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function fv(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Rn(Af(t))}function hv(t){var e=t.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function uk(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function LG(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Bm(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Va(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ks(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=Bm(t,r),s=a&7;a=Math.floor(a/8);var o=0,c;if(a==0)break;switch(s){case 0:{for(var h=r[0];t[r[0]++]>=128;);c=t.slice(h,r[0])}break;case 5:o=4,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Bm(t,r),c=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var d={data:c,type:s};e[a]==null?e[a]=[d]:e[a].push(d)}return e}function q5(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function jG(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=Bm(t,n),s=Ks(t.slice(n[0],n[0]+a));n[0]+=a;var o={id:Va(s[1][0].data),messages:[]};s[2].forEach(function(c){var h=Ks(c.data),d=Va(h[3][0].data);o.messages.push({meta:h,data:t.slice(n[0],n[0]+d)}),n[0]+=d}),(e=s[3])!=null&&e[0]&&(o.merge=Va(s[3][0].data)>>>0>0),r.push(o)}return r}function OG(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Bm(e,r),a=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[r[0]],c>1&&(o|=e[r[0]+1]<<8),c>2&&(o|=e[r[0]+2]<<16),c>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=c}a.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var h=0,d=0;if(s==1?(d=(e[r[0]]>>2&7)+4,h=(e[r[0]++]&224)<<3,h|=e[r[0]++]):(d=(e[r[0]++]>>2)+1,s==2?(h=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(h=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[hv(a)],h==0)throw new Error("Invalid offset 0");if(h>a[0].length)throw new Error("Invalid offset beyond length");if(d>=h)for(a.push(a[0].slice(-h)),d-=h;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-h,-h+d))}}var p=hv(a);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function PG(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(OG(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return hv(e)}function FG(t,e,r,n){var a=z5(t),s=a.getUint32(4,!0),o=(n>1?12:8)+uk(s&(n>1?3470:398))*4,c=-1,h=-1,d=NaN,p=new Date(2001,0,1);s&512&&(c=a.getUint32(o,!0),o+=4),o+=uk(s&(n>1?12288:4096))*4,s&16&&(h=a.getUint32(o,!0),o+=4),s&32&&(d=a.getFloat64(o,!0),o+=8),s&64&&(p.setTime(p.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var y;switch(t[2]){case 0:break;case 2:y={t:"n",v:d};break;case 3:y={t:"s",v:e[h]};break;case 5:y={t:"d",v:p};break;case 6:y={t:"b",v:d>0};break;case 7:y={t:"n",v:d/86400};break;case 8:y={t:"e",v:0};break;case 9:if(c>-1)y={t:"s",v:r[c]};else if(h>-1)y={t:"s",v:e[h]};else if(!isNaN(d))y={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return y}function MG(t,e,r){var n=z5(t),a=n.getUint32(8,!0),s=12,o=-1,c=-1,h=NaN,d=NaN,p=new Date(2001,0,1);a&1&&(h=LG(t,s),s+=16),a&2&&(d=n.getFloat64(s,!0),s+=8),a&4&&(p.setTime(p.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(c=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var y;switch(t[1]){case 0:break;case 2:y={t:"n",v:h};break;case 3:y={t:"s",v:e[c]};break;case 5:y={t:"d",v:p};break;case 6:y={t:"b",v:d>0};break;case 7:y={t:"n",v:d/86400};break;case 8:y={t:"e",v:0};break;case 9:if(o>-1)y={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:y={t:"n",v:h};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return y}function BG(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return FG(t,e,r,t[0]);case 5:return MG(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function h0(t){var e=Ks(t);return Bm(e[1][0].data)}function fk(t,e){var r=Ks(e.data),n=Va(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var c=Ks(o.data),h=Va(c[1][0].data)>>>0;switch(n){case 1:s[h]=fv(c[3][0].data);break;case 8:{var d=t[h0(c[9][0].data)][0],p=Ks(d.data),y=t[h0(p[1][0].data)][0],v=Va(y.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var b=Ks(y.data);s[h]=b[3].map(function(E){return fv(E.data)}).join("")}break}}),s}function UG(t,e){var r,n,a,s,o,c,h,d,p,y,v,b,E,k,A=Ks(t),N=Va(A[1][0].data)>>>0,I=Va(A[2][0].data)>>>0,P=((n=(r=A[8])==null?void 0:r[0])==null?void 0:n.data)&&Va(A[8][0].data)>0||!1,z,G;if((s=(a=A[7])==null?void 0:a[0])!=null&&s.data&&e!=0)z=(c=(o=A[7])==null?void 0:o[0])==null?void 0:c.data,G=(d=(h=A[6])==null?void 0:h[0])==null?void 0:d.data;else if((y=(p=A[4])==null?void 0:p[0])!=null&&y.data&&e!=1)z=(b=(v=A[4])==null?void 0:v[0])==null?void 0:b.data,G=(k=(E=A[3])==null?void 0:E[0])==null?void 0:k.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var W=P?4:1,j=z5(z),L=[],R=0;R<z.length/2;++R){var U=j.getUint16(R*2,!0);U<65535&&L.push([R,U])}if(L.length!=I)throw"Expected ".concat(I," cells, found ").concat(L.length);var D=[];for(R=0;R<L.length-1;++R)D[L[R][0]]=G.subarray(L[R][1]*W,L[R+1][1]*W);return L.length>=1&&(D[L[L.length-1][0]]=G.subarray(L[L.length-1][1]*W)),{R:N,cells:D}}function VG(t,e){var r,n=Ks(e.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Va(n[7][0].data)>>>0>0?1:0:-1,s=q5(n[5],function(o){return UG(o,a)});return{nrows:Va(n[4][0].data)>>>0,data:s.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(h,d){if(o[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));o[c.R][d]=h}),o},[])}}function zG(t,e,r){var n,a=Ks(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Va(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Va(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=$r(s);var o=Ks(a[4][0].data),c=fk(t,t[h0(o[4][0].data)][0]),h=(n=o[17])!=null&&n[0]?fk(t,t[h0(o[17][0].data)][0]):[],d=Ks(o[3][0].data),p=0;d[1].forEach(function(y){var v=Ks(y.data),b=t[h0(v[2][0].data)][0],E=Va(b.meta[1][0].data);if(E!=6002)throw new Error("6001 unexpected reference to ".concat(E));var k=VG(t,b);k.data.forEach(function(A,N){A.forEach(function(I,P){var z=dr({r:p+N,c:P}),G=BG(I,c,h);G&&(r[z]=G)})}),p+=k.nrows})}function qG(t,e){var r=Ks(e.data),n={"!ref":"A1"},a=t[h0(r[2][0].data)],s=Va(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return zG(t,a[0],n),n}function HG(t,e){var r,n=Ks(e.data),a={name:(r=n[1])!=null&&r[0]?fv(n[1][0].data):"",sheets:[]},s=q5(n[2],h0);return s.forEach(function(o){t[o].forEach(function(c){var h=Va(c.meta[1][0].data);h==6e3&&a.sheets.push(qG(t,c))})}),a}function GG(t,e){var r=$5(),n=Ks(e.data),a=q5(n[1],h0);if(a.forEach(function(s){t[s].forEach(function(o){var c=Va(o.meta[1][0].data);if(c==2){var h=HG(t,o);h.sheets.forEach(function(d,p){K5(r,d,p==0?h.name:h.name+"_"+p,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function fy(t){var e,r,n,a,s={},o=[];if(t.FullPaths.forEach(function(h){if(h.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(h){if(h.name.match(/\.iwa$/)){var d;try{d=PG(h.content)}catch(y){return console.log("?? "+h.content.length+" "+(y.message||y))}var p;try{p=jG(d)}catch(y){return console.log("## "+(y.message||y))}p.forEach(function(y){s[y.id]=y.messages,o.push(y.id)})}}),!o.length)throw new Error("File has no messages");var c=((a=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Va(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||o.forEach(function(h){s[h].forEach(function(d){var p=Va(d.meta[1][0].data)>>>0;if(p==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return GG(s,c)}function $G(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function H5(t){$G([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function KG(t){return yh.WS.indexOf(t)>-1?"sheet":t==yh.CS?"chart":t==yh.DS?"dialog":t==yh.MS?"macro":t&&t.length?t:"sheet"}function WG(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,KG(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function YG(t,e,r,n,a,s,o,c,h,d,p,y){try{s[n]=hm(Yi(t,r,!0),e);var v=Aa(t,e),b;switch(c){case"sheet":b=tG(v,e,a,h,s[n],d,p,y);break;case"chart":if(b=rG(v,e,a,h,s[n],d,p,y),!b||!b["!drawel"])break;var E=Jd(b["!drawel"].Target,e),k=iv(E),A=ez(Yi(t,E,!0),hm(Yi(t,k,!0),E)),N=Jd(A,E),I=iv(N);b=MH(Yi(t,N,!0),N,h,hm(Yi(t,I,!0),N),d,b);break;case"macro":b=nG(v,e,a,h,s[n],d,p,y);break;case"dialog":b=aG(v,e,a,h,s[n],d,p,y);break;default:throw new Error("Unrecognized sheet type "+c)}o[n]=b;var P=[];s&&s[n]&&sc(s[n]).forEach(function(z){var G="";if(s[n][z].Type==yh.CMNT){G=Jd(s[n][z].Target,e);var W=lG(Aa(t,G,!0),G,h);if(!W||!W.length)return;X3(b,W,!1)}s[n][z].Type==yh.TCMNT&&(G=Jd(s[n][z].Target,e),P=P.concat(rz(Aa(t,G,!0),h)))}),P&&P.length&&X3(b,P,!0,h.people||[])}catch(z){if(h.WTF)throw z}}function ko(t){return t.charAt(0)=="/"?t.slice(1):t}function XG(t,e){if(tS(),e=e||{},H5(e),Ao(t,"META-INF/manifest.xml")||Ao(t,"objectdata.xml"))return lk(t,e);if(Ao(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof fy<"u"){if(t.FileIndex)return fy(t);var r=Gr.utils.cfb_new();return k3(t).forEach(function(ne){QF(r,ne,XF(t,ne))}),fy(r)}throw new Error("Unsupported NUMBERS file")}if(!Ao(t,"[Content_Types].xml"))throw Ao(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ao(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=k3(t),a=$M(Yi(t,"[Content_Types].xml")),s=!1,o,c;if(a.workbooks.length===0&&(c="xl/workbook.xml",Aa(t,c,!0)&&a.workbooks.push(c)),a.workbooks.length===0){if(c="xl/workbook.bin",!Aa(t,c,!0))throw new Error("Could not find workbook");a.workbooks.push(c),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var h={},d={};if(!e.bookSheets&&!e.bookProps){if(pm=[],a.sst)try{pm=oG(Aa(t,ko(a.sst)),a.sst,e)}catch(ne){if(e.WTF)throw ne}e.cellStyles&&a.themes.length&&(h=iG(Yi(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(d=sG(Aa(t,ko(a.style)),a.style,h,e))}a.links.map(function(ne){try{var ye=hm(Yi(t,iv(ko(ne))),ne);return uG(Aa(t,ko(ne)),ye,ne,e)}catch{}});var p=eG(Aa(t,ko(a.workbooks[0])),a.workbooks[0],e),y={},v="";a.coreprops.length&&(v=Aa(t,ko(a.coreprops[0]),!0),v&&(y=RS(v)),a.extprops.length!==0&&(v=Aa(t,ko(a.extprops[0]),!0),v&&QM(v,y,e)));var b={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(v=Yi(t,ko(a.custprops[0]),!0),v&&(b=ZM(v,e)));var E={};if((e.bookSheets||e.bookProps)&&(p.Sheets?o=p.Sheets.map(function(ye){return ye.name}):y.Worksheets&&y.SheetNames.length>0&&(o=y.SheetNames),e.bookProps&&(E.Props=y,E.Custprops=b),e.bookSheets&&typeof o<"u"&&(E.SheetNames=o),e.bookSheets?E.SheetNames:e.bookProps))return E;o={};var k={};e.bookDeps&&a.calcchain&&(k=cG(Aa(t,ko(a.calcchain)),a.calcchain));var A=0,N={},I,P;{var z=p.Sheets;y.Worksheets=z.length,y.SheetNames=[];for(var G=0;G!=z.length;++G)y.SheetNames[G]=z[G].name}var W=s?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),L=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");Ao(t,L)||(L="xl/_rels/workbook."+W+".rels");var R=hm(Yi(t,L,!0),L.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=fG(Aa(t,ko(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=nz(Aa(t,ko(a.people[0])),e)),R&&(R=WG(R,p.Sheets));var U=Aa(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(A=0;A!=y.Worksheets;++A){var D="sheet";if(R&&R[A]?(I="xl/"+R[A][1].replace(/[\/]?xl\//,""),Ao(t,I)||(I=R[A][1]),Ao(t,I)||(I=L.replace(/_rels\/.*$/,"")+R[A][1]),D=R[A][2]):(I="xl/worksheets/sheet"+(A+1-U)+"."+W,I=I.replace(/sheet0\./,"sheet.")),P=I.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(A!=e.sheets)continue e;break;case"string":if(y.SheetNames[A].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var C=!1,B=0;B!=e.sheets.length;++B)typeof e.sheets[B]=="number"&&e.sheets[B]==A&&(C=1),typeof e.sheets[B]=="string"&&e.sheets[B].toLowerCase()==y.SheetNames[A].toLowerCase()&&(C=1);if(!C)continue e}}YG(t,I,P,y.SheetNames[A],A,N,o,D,e,p,h,d)}return E={Directory:a,Workbook:p,Props:y,Custprops:b,Deps:k,Sheets:o,SheetNames:y.SheetNames,Strings:pm,Styles:d,Themes:h,SSF:xs(gr)},e&&e.bookFiles&&(t.files?(E.keys=n,E.files=t.files):(E.keys=[],E.files={},t.FullPaths.forEach(function(ne,ye){ne=ne.replace(/^Root Entry[\/]/,""),E.keys.push(ne),E.files[ne]=t.FileIndex[ye]}))),e&&e.bookVBA&&(a.vba.length>0?E.vbaraw=Aa(t,ko(a.vba[0]),!0):a.defaults&&a.defaults.bin===oz&&(E.vbaraw=Aa(t,"xl/vbaProject.bin",!0))),E}function QG(t,e){var r=e||{},n="Workbook",a=Gr.find(t,n);try{if(n="/!DataSpaces/Version",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(qU(a.content),n="/!DataSpaces/DataSpaceMap",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=GU(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=$U(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);WU(a.content)}catch{}if(n="/EncryptionInfo",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var c=YU(a.content);if(n="/EncryptedPackage",a=Gr.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],a.content,r.password||"",r);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function G5(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ji(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function JG(t,e){return Gr.find(t,"EncryptedPackage")?QG(t,e):mT(t,e)}function ZG(t,e){var r,n=t,a=e||{};return a.type||(a.type=Ur&&Buffer.isBuffer(t)?"buffer":"base64"),r=oS(n,a),XG(r,a)}function yT(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return cv(t.slice(r),e);default:break e}return Pm.to_workbook(t,e)}function e$(t,e){var r="",n=G5(t,e);switch(e.type){case"base64":r=Ji(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=yf(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Rn(r)),e.type="binary",yT(r,e)}function t$(t,e){var r=t;return e.type=="base64"&&(r=Ji(r)),r=Dm.utils.decode(1200,r.slice(2),"str"),e.type="binary",yT(r,e)}function r$(t){return t.match(/[^\x00-\x7F]/)?Zd(t):t}function hy(t,e,r,n){return n?(r.type="string",Pm.to_workbook(t,r)):Pm.to_workbook(e,r)}function dv(t,e){q6();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return dv(new Uint8Array(t),(r=xs(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Rh={},r.dateNF&&(Rh.dateNF=r.dateNF),r.type||(r.type=Ur&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Ur?"buffer":"binary",n=qF(t),typeof Uint8Array<"u"&&!Ur&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=r$(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return r=xs(r),r.type="array",dv(k5(n),r)}switch((a=G5(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return JG(Gr.read(n,r),r);break;case 9:if(a[1]<=8)return mT(n,r);break;case 60:return cv(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return RU(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return NU.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?ZG(n,r):hy(t,n,r,s);case 239:return a[3]===60?cv(n,r):hy(t,n,r,s);case 255:if(a[1]===254)return t$(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return mm.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return mm.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Y3.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return oV.to_workbook(n,r);break;case 10:case 13:case 32:return e$(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return SU.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?Y3.to_workbook(n,r):hy(t,n,r,s)}function n$(t,e,r,n,a,s,o,c){var h=ys(r),d=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),y=!0,v=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:r,enumerable:!1})}catch{v.__rowNum__=r}else v.__rowNum__=r;if(!o||t[r])for(var b=e.s.c;b<=e.e.c;++b){var E=o?t[r][b]:t[n[b]+h];if(E===void 0||E.t===void 0){if(d===void 0)continue;s[b]!=null&&(v[s[b]]=d);continue}var k=E.v;switch(E.t){case"z":if(k==null)break;continue;case"e":k=k==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(s[b]!=null){if(k==null)if(E.t=="e"&&k===null)v[s[b]]=null;else if(d!==void 0)v[s[b]]=d;else if(p&&k===null)v[s[b]]=null;else continue;else v[s[b]]=p&&(E.t!=="n"||E.t==="n"&&c.rawNumbers!==!1)?k:iu(E,k,c);k!=null&&(y=!1)}}return{row:v,isempty:y}}function mv(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,c="",h={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},p=d.range!=null?d.range:t["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof p){case"string":h=ra(p);break;case"number":h=ra(t["!ref"]),h.s.r=p;break;default:h=p}n>0&&(a=0);var y=ys(h.s.r),v=[],b=[],E=0,k=0,A=Array.isArray(t),N=h.s.r,I=0,P={};A&&!t[N]&&(t[N]=[]);var z=d.skipHidden&&t["!cols"]||[],G=d.skipHidden&&t["!rows"]||[];for(I=h.s.c;I<=h.e.c;++I)if(!(z[I]||{}).hidden)switch(v[I]=Ba(I),r=A?t[N][I]:t[v[I]+y],n){case 1:s[I]=I-h.s.c;break;case 2:s[I]=v[I];break;case 3:s[I]=d.header[I-h.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=o=iu(r,null,d),k=P[o]||0,!k)P[o]=1;else{do c=o+"_"+k++;while(P[c]);P[o]=k,P[c]=1}s[I]=c}for(N=h.s.r+a;N<=h.e.r;++N)if(!(G[N]||{}).hidden){var W=n$(t,h,N,v,n,s,A,d);(W.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(b[E++]=W.row)}return b.length=E,b}var hk=/"/g;function a$(t,e,r,n,a,s,o,c){for(var h=!0,d=[],p="",y=ys(r),v=e.s.c;v<=e.e.c;++v)if(n[v]){var b=c.dense?(t[r]||[])[v]:t[n[v]+y];if(b==null)p="";else if(b.v!=null){h=!1,p=""+(c.rawNumbers&&b.t=="n"?b.v:iu(b,null,c));for(var E=0,k=0;E!==p.length;++E)if((k=p.charCodeAt(E))===a||k===s||k===34||c.forceQuotes){p='"'+p.replace(hk,'""')+'"';break}p=="ID"&&(p='"ID"')}else b.f!=null&&!b.F?(h=!1,p="="+b.f,p.indexOf(",")>=0&&(p='"'+p.replace(hk,'""')+'"')):p="";d.push(p)}return c.blankrows===!1&&h?null:d.join(o)}function vT(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=ra(t["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,h=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),p="",y=[];n.dense=Array.isArray(t);for(var v=n.skipHidden&&t["!cols"]||[],b=n.skipHidden&&t["!rows"]||[],E=a.s.c;E<=a.e.c;++E)(v[E]||{}).hidden||(y[E]=Ba(E));for(var k=0,A=a.s.r;A<=a.e.r;++A)(b[A]||{}).hidden||(p=a$(t,a,A,y,o,h,s,n),p!=null&&(n.strip&&(p=p.replace(d,"")),(p||n.blankrows!==!1)&&r.push((k++?c:"")+p)));return delete n.dense,r.join("")}function s$(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=vT(t,e);return r}function i$(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=ra(t["!ref"]),s="",o=[],c,h=[],d=Array.isArray(t);for(c=a.s.c;c<=a.e.c;++c)o[c]=Ba(c);for(var p=a.s.r;p<=a.e.r;++p)for(s=ys(p),c=a.s.c;c<=a.e.c;++c)if(e=o[c]+s,r=d?(t[p]||[])[c]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}h[h.length]=e+"="+n}return h}function bT(t,e,r){var n=r||{},a=+!n.skipHeader,s=t||{},o=0,c=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var h=typeof n.origin=="string"?ii(n.origin):n.origin;o=h.r,c=h.c}var d,p={s:{c:0,r:0},e:{c,r:o+e.length-1+a}};if(s["!ref"]){var y=ra(s["!ref"]);p.e.c=Math.max(p.e.c,y.e.c),p.e.r=Math.max(p.e.r,y.e.r),o==-1&&(o=y.e.r+1,p.e.r=o+e.length-1+a)}else o==-1&&(o=0,p.e.r=e.length-1+a);var v=n.header||[],b=0;e.forEach(function(k,A){sc(k).forEach(function(N){(b=v.indexOf(N))==-1&&(v[b=v.length]=N);var I=k[N],P="z",z="",G=dr({c:c+b,r:o+A+a});d=Um(s,G),I&&typeof I=="object"&&!(I instanceof Date)?s[G]=I:(typeof I=="number"?P="n":typeof I=="boolean"?P="b":typeof I=="string"?P="s":I instanceof Date?(P="d",n.cellDates||(P="n",I=li(I)),z=n.dateNF||gr[14]):I===null&&n.nullError&&(P="e",I=0),d?(d.t=P,d.v=I,delete d.w,delete d.R,z&&(d.z=z)):s[G]=d={t:P,v:I},z&&(d.z=z))})}),p.e.c=Math.max(p.e.c,c+v.length-1);var E=ys(o);if(a)for(b=0;b<v.length;++b)s[Ba(b+c)+E]={t:"s",v:v[b]};return s["!ref"]=$r(p),s}function o$(t,e){return bT(null,t,e)}function Um(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=ii(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Um(t,dr(e)):Um(t,dr({r:e,c:r||0}))}function l$(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function $5(){return{SheetNames:[],Sheets:{}}}function K5(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=o+a)!=-1;++a);}if($H(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function c$(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=l$(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function u$(t,e){return t.z=e,t}function wT(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function f$(t,e,r){return wT(t,"#"+e,r)}function h$(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function d$(t,e,r,n){for(var a=typeof e!="string"?e:ra(e),s=typeof e=="string"?e:$r(e),o=a.s.r;o<=a.e.r;++o)for(var c=a.s.c;c<=a.e.c;++c){var h=Um(t,o,c);h.t="n",h.F=s,delete h.v,o==a.s.r&&c==a.s.c&&(h.f=r,n&&(h.D=!0))}return t}var m$={encode_col:Ba,encode_row:ys,encode_cell:dr,encode_range:$r,decode_col:D5,decode_row:I5,split_cell:AM,decode_cell:ii,decode_range:Zh,format_cell:iu,sheet_add_aoa:AS,sheet_add_json:bT,sheet_add_dom:pT,aoa_to_sheet:ed,json_to_sheet:o$,table_to_sheet:gT,table_to_book:RG,sheet_to_csv:vT,sheet_to_txt:s$,sheet_to_json:mv,sheet_to_html:CG,sheet_to_formulae:i$,sheet_to_row_object_array:mv,sheet_get_cell:Um,book_new:$5,book_append_sheet:K5,book_set_sheet_visibility:c$,cell_set_number_format:u$,cell_set_hyperlink:wT,cell_set_internal_link:f$,cell_add_comment:h$,sheet_set_array_formula:d$,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const p$=()=>{const{currentUser:t}=vs(),e=Ae.useRef(null),[r,n]=Ae.useState(null),[a,s]=Ae.useState([]),[o,c]=Ae.useState({current:0,total:0,isPaused:!1}),[h,d]=Ae.useState(null),[p,y]=Ae.useState(!1),[v,b]=Ae.useState(""),[E,k]=Ae.useState(!1),[A,N]=Ae.useState(""),[I,P]=Ae.useState(null),[z,G]=Ae.useState([]),[W,j]=Ae.useState(!1),L=ce=>{const te=ce.target.files[0];if(!te)return;if(!te.name.endsWith(".xlsx")&&!te.name.endsWith(".xls")){alert("❌ Lütfen sadece Excel dosyası (.xlsx veya .xls) seçin");return}n(te);const Y=new FileReader;Y.onload=Te=>{try{const F=new Uint8Array(Te.target.result),H=dv(F,{type:"array"}),K=H.SheetNames[0],Q=H.Sheets[K],re=m$.sheet_to_json(Q);s(re);const de=re.slice(0,10).map(ve=>({...ve,telefon:R(ve.telefon)}));G(de),j(!0),console.log(`📊 ${re.length} satır veri yüklendi`)}catch(F){console.error("Excel okuma hatası:",F),alert("❌ Excel dosyası okunurken hata oluştu: "+F.message)}},Y.readAsArrayBuffer(te)},R=ce=>{if(!ce)return ce;const te=ce.toString().replace(/\D/g,"");if(te.length===10&&te.startsWith("5")){const Y="0"+te;return`${Y.substring(0,4)} ${Y.substring(4,7)} ${Y.substring(7,9)} ${Y.substring(9,11)}`}if(te.length===10&&te.startsWith("9")){const Y="0"+te;return`${Y.substring(0,4)} ${Y.substring(4,7)} ${Y.substring(7,9)} ${Y.substring(9,11)}`}return te.length===11&&te.startsWith("05")?`${te.substring(0,4)} ${te.substring(4,7)} ${te.substring(7,9)} ${te.substring(9,11)}`:te.length===11&&te.startsWith("09")?`${te.substring(0,4)} ${te.substring(4,7)} ${te.substring(7,9)} ${te.substring(9,11)}`:ce},U=ce=>{const te=[];return ce.forEach((Y,Te)=>{Y.personel||te.push(`Satır ${Te+1}: Personel adı eksik`),Y.telefon||te.push(`Satır ${Te+1}: Telefon numarası eksik`),Y.tarih||te.push(`Satır ${Te+1}: Tarih eksik`),Y.telefon&&Y.telefon.toString().replace(/\D/g,"").length<7&&te.push(`Satır ${Te+1}: Telefon numarası çok kısa (${Y.telefon})`)}),te},D=async()=>{if(!a.length){alert("❌ Önce Excel dosyası yükleyin");return}const ce=U(a);if(ce.length>0){alert(`❌ Veri hatası:
`+ce.slice(0,5).join(`
`));return}if(!window.confirm(`📊 ${a.length} satır veri Firebase'e aktarılacak.

⚠️ Bu işlem uzun sürebilir ve geri alınamaz.

Devam etmek istiyor musunuz?`))return;c({current:0,total:a.length,isPaused:!1});let Y=0,Te=0;const F=[];try{console.log("👥 Kullanıcılar yükleniyor...");const H=await an(Sr(Mt,"users")),K={};H.forEach(ve=>{const we=ve.data();K[we.name]=we}),console.log(`✅ ${Object.keys(K).length} kullanıcı yüklendi`);for(let ve=0;ve<a.length;ve++){for(;o.isPaused;)await new Promise(Le=>setTimeout(Le,100));const we=a[ve];c(Le=>({...Le,current:ve+1}));try{const Le=R(we.telefon),tt=zs(Sr(Mt,"sales_records"),ll("telefon","==",Le),ll("tarih","==",we.tarih));if(!(await an(tt)).empty){Te++;continue}const Ne=`REF-${Date.now()}-${Math.random().toString(36).substr(2,6).toUpperCase()}`,Qe=K[we.personel]||null;!Qe&&F.length<5&&console.warn(`⚠️ Kullanıcı bulunamadı: ${we.personel}`),await ux(Sr(Mt,"sales_records"),{refId:Ne,personel:we.personel||"",telefon:Le||"",kanal:we.kanal||"",durum:we.durum||"",detay:we.detay||"",abonelikDurum:we.abonelikDurum||"",aboneNumarasi:we.aboneNumarasi||"",not:we.not||"",tarih:we.tarih,createdBy:Qe?Qe.uid:t.uid,createdByName:Qe?Qe.name:we.personel,createdAt:new Date,importedAt:new Date,isImported:!0,importedByAdmin:t.uid}),Y++}catch(Le){console.error(`Satır ${ve+1} hatası:`,Le),F.push(`Satır ${ve+1}: ${Le.message}`)}ve%100===0&&await new Promise(Le=>setTimeout(Le,50))}const Q={total:a.length,success:Y,skipped:Te,errors:F.length,errorDetails:F.slice(0,10)};d(Q),c(ve=>({...ve,isPaused:!1}));const re=Object.keys(K).length,de=new Set;a.forEach(ve=>{K[ve.personel]||de.add(ve.personel)}),alert(`✅ İçe aktarma tamamlandı!

📊 Toplam: ${Q.total}
✅ Başarılı: ${Q.success}
⚠️ Atlandı: ${Q.skipped}
❌ Hata: ${Q.errors}

👥 Sistemdeki kullanıcılar: ${re}
🔍 Eşleşmeyen personel: ${de.size>0?Array.from(de).slice(0,3).join(", ")+(de.size>3?"...":""):"Yok"}`)}catch(H){console.error("İçe aktarma genel hatası:",H),c(K=>({...K,isPaused:!1})),alert("❌ İçe aktarma sırasında hata: "+H.message)}},C=()=>{c(ce=>({...ce,isPaused:!ce.isPaused}))},B=()=>{n(null),s([]),G([]),j(!1),c({current:0,total:0,isPaused:!1}),d(null),e.current&&(e.current.value="")},ne=async()=>{var ce;try{N(""),await F1(ni,"wupaniyazilim@gmail.com",v),k(!0),y(!1),b(""),I==="file"?(ce=e.current)==null||ce.click():I==="analyze"&&D(),P(null)}catch(te){console.error("Geliştirici doğrulama hatası:",te),N("❌ Geçersiz geliştirici şifresi!")}},ye=()=>{var ce;E?(ce=e.current)==null||ce.click():(P("file"),y(!0))},ae=()=>{E?D():(P("analyze"),y(!0))},le=()=>{y(!1),b(""),N(""),P(null)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:f.jsx(om,{className:"w-6 h-6 text-blue-600"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Veri İçe Aktarma"}),f.jsx("p",{className:"text-gray-600",children:"Excel dosyasından Firebase'e veri aktarın"})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[f.jsx(zO,{className:"w-5 h-5 text-blue-600 mr-2"}),"1. Excel Dosyası Yükle"]}),f.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[f.jsx(Gy,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r?f.jsxs("div",{className:"text-green-600",children:[f.jsx(Ni,{className:"w-8 h-8 mx-auto mb-2"}),f.jsx("p",{className:"font-medium",children:r.name}),f.jsxs("p",{className:"text-sm text-gray-500",children:[a.length," satır veri"]}),f.jsx("button",{onClick:B,className:"mt-2 text-red-600 hover:text-red-700 text-sm",children:"Dosyayı Değiştir"})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-gray-600 mb-4",children:"Düzenlenmiş Excel dosyanızı buraya sürükleyin veya seçin"}),f.jsx("input",{ref:e,type:"file",accept:".xlsx,.xls",onChange:L,className:"hidden"}),f.jsx("button",{onClick:ye,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Dosya Seç"})]})]})]}),W&&f.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[f.jsx(Gy,{className:"w-5 h-5 text-green-600 mr-2"}),"2. Veri Önizleme (",a.length," satır)"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Personel"}),f.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Tarih"}),f.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Telefon"}),f.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Kanal"}),f.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Durum"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200",children:z.map((ce,te)=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-3 py-2 text-gray-900",children:ce.personel}),f.jsx("td",{className:"px-3 py-2 text-gray-600",children:ce.tarih}),f.jsx("td",{className:"px-3 py-2 text-gray-600",children:ce.telefon}),f.jsx("td",{className:"px-3 py-2 text-gray-600",children:ce.kanal}),f.jsx("td",{className:"px-3 py-2 text-gray-600",children:ce.durum})]},te))})]})}),f.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["İlk 10 satır gösteriliyor. Toplam ",a.length," satır aktarılacak."]})]}),W&&f.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[f.jsx(om,{className:"w-5 h-5 text-purple-600 mr-2"}),"3. Firebase'e Aktar"]}),o.isPaused?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[f.jsx("span",{children:o.isPaused?"⏸️ Duraklatıldı":"🔄 İşleniyor..."}),f.jsxs("span",{children:[o.current," / ",o.total]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:f.jsx("div",{className:"bg-purple-600 h-3 rounded-full transition-all duration-300",style:{width:`${o.current/o.total*100}%`}})})]}),f.jsx("div",{className:"flex space-x-3",children:f.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[o.isPaused?f.jsx(vO,{className:"w-4 h-4"}):f.jsx(pO,{className:"w-4 h-4"}),f.jsx("span",{children:o.isPaused?"Devam Et":"Duraklat"})]})})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx(au,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-yellow-800",children:"Dikkat!"}),f.jsxs("ul",{className:"text-sm text-yellow-700 mt-1 list-disc list-inside",children:[f.jsxs("li",{children:["Bu işlem uzun sürebilir (",a.length," satır)"]}),f.jsx("li",{children:"Mevcut kayıtlar atlanacak (telefon + tarih eşleşmesi)"}),f.jsx("li",{children:"İşlem geri alınamaz"}),f.jsx("li",{children:"Tarayıcıyı kapatmayın"})]})]})]})}),f.jsxs("button",{onClick:ae,className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2",children:[f.jsx(om,{className:"w-5 h-5"}),f.jsxs("span",{children:["Firebase'e Aktar (",a.length," satır)"]})]})]})]}),h&&f.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[f.jsx(Ni,{className:"w-5 h-5 text-green-600 mr-2"}),"İçe Aktarma Sonuçları"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.total}),f.jsx("div",{className:"text-sm text-blue-700",children:"Toplam Satır"})]}),f.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.success}),f.jsx("div",{className:"text-sm text-green-700",children:"Başarılı"})]}),f.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.skipped}),f.jsx("div",{className:"text-sm text-yellow-700",children:"Atlandı"})]}),f.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.errors}),f.jsx("div",{className:"text-sm text-red-700",children:"Hata"})]})]}),h.errorDetails.length>0&&f.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[f.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Hata Detayları:"}),f.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:h.errorDetails.map((ce,te)=>f.jsxs("li",{children:["• ",ce]},te))})]}),f.jsxs("button",{onClick:B,className:"mt-4 flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:[f.jsx(kO,{className:"w-4 h-4"}),f.jsx("span",{children:"Yeni İçe Aktarma"})]})]}),p&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx($s,{className:"w-5 h-5 text-red-600"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Geliştirici Doğrulaması"})]}),f.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600",children:"×"})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(nO,{className:"w-4 h-4 text-red-600"}),f.jsx("p",{className:"text-sm text-gray-700",children:"Bu işlem sadece geliştiriciler tarafından yapılabilir."})]}),f.jsx("p",{className:"text-xs text-gray-500",children:"wupaniyazilim@gmail.com hesabının şifresini girin."})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Geliştirici Şifresi"}),f.jsx("input",{type:"password",value:v,onChange:ce=>b(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Geliştirici şifresini girin",onKeyPress:ce=>ce.key==="Enter"&&ne()})]}),A&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:f.jsx("p",{className:"text-sm text-red-700",children:A})}),f.jsxs("div",{className:"flex space-x-3",children:[f.jsx("button",{onClick:le,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"İptal"}),f.jsx("button",{onClick:ne,disabled:!v,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Doğrula"})]})]})]})]})})]})},g$=()=>{const{currentUser:t}=vs(),[e,r]=Ae.useState(!1),[n,a]=Ae.useState(null),[s,o]=Ae.useState(null),[c,h]=Ae.useState(!1),d=async()=>{const A=prompt(`🔒 Bu işlem sadece geliştiriciler yapabilir.
wupaniyazilim@gmail.com şifresini girin:`);if(!A)return!1;try{return await F1(ni,"wupaniyazilim@gmail.com",A),console.log("✅ Geliştirici doğrulandı"),!0}catch(N){return alert("❌ Geçersiz geliştirici şifresi!"),console.error("Geliştirici doğrulama hatası:",N),!1}},p=async()=>{await d()&&E()},y=async()=>{await d()&&k()},v=async()=>{if(await d())try{console.log("🔧 Kullanici UID leri duzeltiliyor...");const N=await an(Sr(Mt,"users"));let I=0;for(const P of N.docs){const z=P.data(),G=P.id;(!z.uid||z.uid!==G)&&(console.log(`🔧 Duzeltiliyor: ${z.name} (${z.email})`),console.log(`   Eski UID: ${z.uid||"undefined"}`),console.log(`   Yeni UID: ${G}`),await qc(on(Mt,"users",G),{uid:G,updatedAt:new Date,uidFixed:!0}),I++)}console.log(`✅ ${I} kullanicinin UID i duzeltildi`),alert(`✅ ${I} kullanicinin UID i duzeltildi!`)}catch(N){console.error("❌ UID duzeltme hatasi:",N),alert("❌ UID duzeltme hatasi: "+N.message)}},b=async()=>{if(await d())try{console.log("🔧 Asli Kilic kayitlari duzeltiliyor...");const N=await an(Sr(Mt,"users"));let I=null;if(N.forEach(G=>{const W=G.data();W.name&&W.name.toLowerCase().includes("aslı")&&(I=W,console.log(`👤 Asli kullanicisi bulundu: ${W.name} (${W.uid})`))}),!I){alert("❌ Aslı Kılıç kullanıcısı bulunamadı!");return}const P=await an(Sr(Mt,"sales_records"));let z=0;for(const G of P.docs){const W=G.data();W.personel&&W.personel.toLowerCase().includes("aslı")&&(console.log(`🔧 Duzeltiliyor: ${W.personel} - ${W.refId}`),await qc(on(Mt,"sales_records",G.id),{createdBy:I.uid,createdByName:I.name,updatedAt:new Date,manuallyFixed:!0}),z++)}console.log(`✅ ${z} Asli kaydi duzeltildi`),alert(`✅ ${z} Aslı Kılıç kaydı düzeltildi!`)}catch(N){console.error("❌ Asli kayitlari duzeltme hatasi:",N),alert("❌ Aslı kayıtları düzeltme hatası: "+N.message)}},E=async()=>{h(!0);try{console.log("📊 Mevcut veriler analiz ediliyor..."),console.log("🔄 Kullanıcılar yükleniyor...");const A=await an(Sr(Mt,"users")),N={};if(console.log(`📊 Toplam ${A.docs.length} kullanıcı dokümanı bulundu`),A.forEach(U=>{const D=U.data();console.log(`👤 Güncelleme - Kullanıcı: "${D.name}" -> UID: ${D.uid}`),D.name?(N[D.name]=D,D.name&&D.name.includes("Sevde")&&(console.log(`🔍 SEVDE BULUNDU! Tam isim: "${D.name}"`),console.log(`📧 E-posta: ${D.email}`),console.log(`🆔 UID: ${D.uid}`))):console.warn("⚠️ İsimsiz kullanıcı bulundu:",D)}),console.log("👥 Kullanıcı haritası:",Object.keys(N)),console.log("🔍 Sevde kontrolü:",N["Sevde Hocaoğlu"]?"BULUNDU":"BULUNAMADI"),Object.keys(N).length===0){console.error("❌ HİÇBİR KULLANICI YÜKLENEMEDİ!"),alert("❌ Kullanıcılar yüklenemedi! Lütfen sayfayı yenileyin.");return}const I=await an(Sr(Mt,"sales_records")),P=[];I.forEach(U=>{P.push({id:U.id,...U.data()})});let z=0,G=0,W=new Set,j=0,L=0;P.forEach(U=>{if(U.personel&&N[U.personel]){const D=N[U.personel];U.createdBy!==D.uid?(L++,j++,(U.createdByName==="Admin User"||U.createdBy===t.uid)&&z++,console.log(`🔧 Yanlış UID: ${U.personel} (${U.createdBy} -> ${D.uid})`)):G++}else U.personel&&(W.add(U.personel),(U.createdByName==="Admin User"||U.createdBy===t.uid)&&z++)});const R={totalRecords:P.length,adminRecords:z,correctRecords:G,fixableRecords:j,wrongUidRecords:L,unmatchedPersonnel:Array.from(W),systemUsers:Object.keys(N).length};o(R),console.log("✅ Analiz tamamlandı:",R)}catch(A){console.error("Analiz hatası:",A),alert("❌ Analiz sırasında hata: "+A.message)}h(!1)},k=async()=>{if(window.confirm(`🔄 ${s.fixableRecords} kayıt güncellenecek.

Admin User olarak kayıtlı tüm kayıtlar doğru personellerle eşleştirilecek.

Bu işlem geri alınamaz. Devam etmek istiyor musunuz?`)){r(!0),console.log("🔄 Veri güncelleme işlemi başladı");try{console.log("🔄 Mevcut veriler güncelleniyor..."),console.log("🔄 Kullanıcılar yükleniyor...");const N=await an(Sr(Mt,"users")),I={};if(console.log(`📊 Toplam ${N.docs.length} kullanıcı dokümanı bulundu`),N.forEach(C=>{const B=C.data();console.log(`👤 Güncelleme - Kullanıcı: "${B.name}" -> UID: ${B.uid}`),B.name?(I[B.name]=B,B.name&&B.name.includes("Sevde")&&(console.log(`🔍 SEVDE BULUNDU! Tam isim: "${B.name}"`),console.log(`📧 E-posta: ${B.email}`),console.log(`🆔 UID: ${B.uid}`))):console.warn("⚠️ İsimsiz kullanıcı bulundu:",B)}),console.log("👥 Kullanıcı haritası:",Object.keys(I)),console.log("🔍 Sevde kontrolü:",I["Sevde Hocaoğlu"]?"BULUNDU":"BULUNAMADI"),console.log("🔍 Aslı kontrolü:",I["Aslı Kılıç"]?"BULUNDU":"BULUNAMADI"),console.log("📋 DETAYLI KULLANICI LİSTESİ:"),Object.entries(I).forEach(([C,B])=>{console.log(`  👤 "${C}" (${B.email}) -> ${B.uid}`)}),Object.keys(I).length===0){console.error("❌ HİÇBİR KULLANICI YÜKLENEMEDİ!"),alert("❌ Kullanıcılar yüklenemedi! Lütfen sayfayı yenileyin.");return}console.log("🔍 Tüm satış kayıtları kontrol ediliyor...");const P=await an(Sr(Mt,"sales_records")),z=[],G={};if(P.forEach(C=>{const B=C.data();if(B.personel&&(G[B.personel]||(G[B.personel]={count:0,uids:new Set}),G[B.personel].count++,B.createdBy&&G[B.personel].uids.add(B.createdBy)),B.personel&&(B.personel.includes("Aslı")||B.personel.includes("Sevde"))&&console.log(`🔍 ${B.personel} kaydı: UID=${B.createdBy}, REF=${B.refId}`),B.personel&&I[B.personel]){const ne=I[B.personel];(B.createdBy!==ne.uid||B.createdByName!==ne.name)&&(z.push({id:C.id,...B}),console.log(`📝 Güncellenecek: ${B.personel} (${B.createdBy} -> ${ne.uid})`))}}),console.log("📊 Personel istatistikleri:"),Object.entries(G).forEach(([C,B])=>{console.log(`👤 ${C}: ${B.count} kayıt, UID'ler: ${Array.from(B.uids).join(", ")}`)}),console.log("🔍 ASLI İLE İLGİLİ TÜM KAYITLAR:"),Object.entries(G).forEach(([C,B])=>{const ne=C.toLowerCase();(ne.includes("asl")||ne.includes("kıl")||ne.includes("kil"))&&console.log(`🔍 ASLI BENZERI KAYIT: "${C}" - ${B.count} kayıt`)}),console.log(`📊 ${z.length} kayıt güncellenecek`),z.length===0){alert("ℹ️ Güncellenecek kayıt bulunamadı!");return}const W=50,j=Math.ceil(z.length/W);console.log(`📦 ${j} batch'te işlenecek (${W} kayıt/batch)`);let L=0,R=0;const U=[];for(let C=0;C<j;C++){const B=C*W,ne=Math.min(B+W,z.length),ye=z.slice(B,ne);console.log(`📦 Batch ${C+1}/${j} işleniyor (${ye.length} kayıt)`);for(const ae of ye)try{let le=I[ae.personel];if(!le){const te=ae.personel||"";te.includes("Sevde")&&(le=Object.values(I).find(Y=>Y.name&&(Y.name.toLowerCase().includes("sevde")||Y.name.toLowerCase().includes("hocaoğlu")||Y.name.toLowerCase().includes("hocaoglu"))),le&&console.log(`🔧 Sevde için esnek eşleştirme: "${te}" -> "${le.name}"`)),(te.includes("Aslı")||te.includes("Kılıç"))&&(le=Object.values(I).find(Y=>Y.name&&(Y.name.toLowerCase().includes("aslı")||Y.name.toLowerCase().includes("asli")||Y.name.toLowerCase().includes("kılıç")||Y.name.toLowerCase().includes("kilic"))),le&&console.log(`🔧 Aslı için esnek eşleştirme: "${te}" -> "${le.name}"`))}let ce=le;if(ce&&ce.uid){if(console.log(`🔄 Güncelleniyor: ${ae.personel} - ${ae.refId}`),console.log("🔄 Final User:",ce),console.log("🔄 Record ID:",ae.id),!ce.uid||!ce.name){console.error(`❌ Geçersiz kullanıcı verisi: ${ae.personel}`,ce),R++;continue}const te={createdBy:ce.uid,createdByName:ce.name,updatedAt:new Date,updatedByAdmin:t.uid,wasImportFixed:!0};if(te.createdBy===void 0||te.createdByName===void 0){console.error("❌ Undefined değer tespit edildi:",te),U.push(`${ae.refId}: Undefined createdBy veya createdByName`);continue}console.log("🔄 Update Data:",te);try{await qc(on(Mt,"sales_records",ae.id),te),L++,console.log(`✅ ${ae.personel} - ${ae.refId} güncellendi`)}catch(Y){console.error("❌ UpdateDoc hatası:",Y),console.error("❌ UpdateDoc hatası - kod:",Y.code),console.error("❌ UpdateDoc hatası - mesaj:",Y.message),U.push(`${ae.refId}: UpdateDoc hatası - ${Y.message}`),R++}await new Promise(Y=>setTimeout(Y,100))}else{R++,console.log(`⚠️ ${ae.personel} - kullanıcı bulunamadı veya geçersiz`),console.log(`🔍 HATA AYIKLAMA: "${ae.personel}"`),console.log("🔍 Mevcut kullanıcılar:",Object.keys(I)),console.log("🔍 Sevde içeren kullanıcılar:",Object.keys(I).filter(Y=>Y.includes("Sevde"))),console.log("🔍 Aslı içeren kullanıcılar:",Object.keys(I).filter(Y=>Y.includes("Aslı"))),console.log("🔍 Asli içeren kullanıcılar:",Object.keys(I).filter(Y=>Y.toLowerCase().includes("asli"))),console.log("🔍 Kılıç içeren kullanıcılar:",Object.keys(I).filter(Y=>Y.toLowerCase().includes("kılıç"))),console.log("🔍 Kilic içeren kullanıcılar:",Object.keys(I).filter(Y=>Y.toLowerCase().includes("kilic"))),ae.personel.toLowerCase().includes("asl")&&(console.log(`🔍 ASLI KAYDI BULUNDU: "${ae.personel}"`),console.log("🔍 UserMap'te Aslı araması:",Object.keys(I).filter(Y=>Y.toLowerCase().includes("asl")||Y.toLowerCase().includes("kıl"))));let te=null;if((ae.personel.toLowerCase().includes("sevde")||ae.personel.toLowerCase().includes("hocaoğlu"))&&(te=Object.values(I).find(Y=>{if(!Y.name)return!1;const Te=Y.name.toLowerCase().trim();return Te.includes("sevde")||Te.includes("hocaoğlu")}),te&&console.log(`🔧 SEVDE MANUEL EŞLEŞTİRME: "${ae.personel}" -> "${te.name}"`)),!te&&(ae.personel.toLowerCase().includes("asl")||ae.personel.toLowerCase().includes("kıl")||ae.personel.toLowerCase().includes("kil"))&&(te=Object.values(I).find(Y=>{if(!Y.name)return!1;const Te=Y.name.toLowerCase().trim(),F=ae.personel.toLowerCase().trim();return Te.includes("aslı")||Te.includes("asli")||Te.includes("kılıç")||Te.includes("kilic")||Te.includes("kiliç")||F.includes("asl")&&Te.includes("asl")||F.includes("kıl")&&(Te.includes("kıl")||Te.includes("kil"))}),te&&console.log(`🔧 ASLI MANUEL EŞLEŞTİRME: "${ae.personel}" -> "${te.name}"`)),te){console.log(`🔧 MANUEL EŞLEŞTİRME BULUNDU: "${ae.personel}" -> "${te.name}"`),console.log("🔧 Manuel eşleştirme UID:",te.uid),console.log("🔧 Manuel eşleştirme tam verisi:",te),ce=te,console.log("🔄 Manuel eşleştirme ile güncelleme deneniyor...");try{const Y={createdBy:te.uid,createdByName:te.name,updatedAt:new Date,updatedByAdmin:t.uid,wasImportFixed:!0,manualMatchUsed:!0};console.log("🔄 Update data hazırlandı:",Y),await qc(on(Mt,"sales_records",ae.id),Y),L++,console.log(`✅ MANUEL EŞLEŞTİRME İLE GÜNCELLENDİ: ${ae.personel} - ${ae.refId}`),await new Promise(Te=>setTimeout(Te,100));continue}catch(Y){console.error("❌ Manuel güncelleme hatası:",Y),U.push(`${ae.refId}: Manuel güncelleme hatası - ${Y.message}`)}}}}catch(le){if(console.error(`❌ ${ae.refId} güncellenirken hata:`,le),U.push(`${ae.refId}: ${le.message}`),le.code==="resource-exhausted"){console.log("⏸️ Firebase quota aşıldı, işlem durduruluyor");break}}C<j-1&&(console.log(`⏸️ Batch ${C+1} tamamlandı, 1 saniye bekleniyor...`),await new Promise(ae=>setTimeout(ae,1e3)))}const D={total:z.length,updated:L,skipped:R,errors:U.length,errorDetails:U.slice(0,10)};console.log("📊 Güncelleme sonuçları:",D),a(D),alert(`✅ Veri güncelleme tamamlandı!

📊 Toplam: ${D.total}
✅ Güncellendi: ${D.updated}
⚠️ Atlandı: ${D.skipped}
❌ Hata: ${D.errors}

🎉 Artık dashboard'da doğru personeller görünecek!`)}catch(N){console.error("❌ Güncelleme hatası:",N),alert("❌ Güncelleme sırasında hata: "+N.message)}finally{r(!1),console.log("🔄 Veri güncelleme işlemi tamamlandı")}}};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:f.jsx(Yc,{className:"w-6 h-6 text-orange-600"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Veri Güncelleme"}),f.jsx("p",{className:"text-gray-600",children:"Mevcut kayıtları doğru personellerle eşleştir"})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[f.jsx(om,{className:"w-5 h-5 text-blue-600 mr-2"}),"1. Mevcut Veri Analizi"]}),s?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalRecords}),f.jsx("div",{className:"text-sm text-blue-700",children:"Toplam Kayıt"})]}),f.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.adminRecords}),f.jsx("div",{className:"text-sm text-red-700",children:"Admin Olarak Kayıtlı"})]}),f.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.fixableRecords}),f.jsx("div",{className:"text-sm text-green-700",children:"Düzeltilebilir"})]}),f.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.unmatchedPersonnel.length}),f.jsx("div",{className:"text-sm text-yellow-700",children:"Eşleşmeyen Personel"})]})]}),s.unmatchedPersonnel.length>0&&f.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[f.jsxs("h4",{className:"font-medium text-yellow-800 mb-2 flex items-center",children:[f.jsx(au,{className:"w-4 h-4 mr-2"}),"Eşleşmeyen Personeller:"]}),f.jsxs("div",{className:"text-sm text-yellow-700",children:[s.unmatchedPersonnel.slice(0,10).join(", "),s.unmatchedPersonnel.length>10&&` ve ${s.unmatchedPersonnel.length-10} tane daha...`]}),f.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Bu personeller için önce kullanıcı hesabı oluşturulmalı."})]})]}):f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("p",{className:"text-gray-600 mb-4",children:"Önce mevcut verileri analiz edelim ve hangi kayıtların güncellenmesi gerektiğini görelim."}),f.jsxs("div",{className:"flex flex-col space-y-3",children:[f.jsx("button",{onClick:p,disabled:c,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center space-x-2 mx-auto",children:c?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),f.jsx("span",{children:"Analiz Ediliyor..."})]}):f.jsxs(f.Fragment,{children:[f.jsx($s,{className:"w-4 h-4"}),f.jsx(om,{className:"w-4 h-4"}),f.jsx("span",{children:"Veriyi Analiz Et (Geliştirici)"})]})}),f.jsxs("div",{className:"border-t pt-3 space-y-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Eğer kullanıcı UID problemi varsa:"}),f.jsxs("button",{onClick:v,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2 mx-auto text-sm",children:[f.jsx($s,{className:"w-4 h-4"}),f.jsx("span",{children:"Kullanıcı UID'lerini Düzelt (Geliştirici)"})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Aslı Kılıç kayıtları düzeltilmiyorsa:"}),f.jsxs("button",{onClick:b,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 mx-auto text-sm",children:[f.jsx($s,{className:"w-4 h-4"}),f.jsx("span",{children:"Aslı Kılıç Kayıtlarını Manuel Düzelt (Geliştirici)"})]})]})]})]})]})]}),s&&s.fixableRecords>0&&f.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[f.jsx(Yc,{className:"w-5 h-5 text-orange-600 mr-2"}),"2. Veri Güncelleme"]}),!e&&!n?f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx(Ni,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-green-800",children:"Güncelleme Hazır!"}),f.jsxs("ul",{className:"text-sm text-green-700 mt-1 list-disc list-inside",children:[f.jsxs("li",{children:[s.fixableRecords," kayıt doğru personellerle eşleştirilecek"]}),f.jsx("li",{children:"createdBy ve createdByName alanları güncellenecek"}),f.jsx("li",{children:"Dashboard istatistikleri düzelecek"}),f.jsx("li",{children:"Zirveye Adını Yazdıranlar doğru gösterilecek"})]})]})]})}),f.jsxs("button",{onClick:y,className:"w-full bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[f.jsx($s,{className:"w-5 h-5"}),f.jsx(Yc,{className:"w-5 h-5"}),f.jsxs("span",{children:["Verileri Güncelle (",s.fixableRecords," kayıt) - Geliştirici"]})]})]}):e?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Veriler güncelleniyor..."}),f.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Lütfen bekleyin, bu işlem birkaç dakika sürebilir"}),f.jsxs("div",{className:"mt-6 text-left bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[f.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"🔍 İşlem Durumu:"}),f.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Firebase bağlantısı kuruldu"]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2 animate-pulse"}),"Kayıtlar güncelleniyor..."]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full mr-2"}),"Sonuçlar gösterilecek"]})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Console'u açarak detayları görebilirsiniz (F12)"})]})]}):null]}),n&&f.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[f.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[f.jsx(Ni,{className:"w-5 h-5 text-green-600 mr-2"}),"Güncelleme Sonuçları"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.total}),f.jsx("div",{className:"text-sm text-blue-700",children:"Toplam İşlenen"})]}),f.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.updated}),f.jsx("div",{className:"text-sm text-green-700",children:"Güncellendi"})]}),f.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.skipped}),f.jsx("div",{className:"text-sm text-yellow-700",children:"Atlandı"})]}),f.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[f.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.errors}),f.jsx("div",{className:"text-sm text-red-700",children:"Hata"})]})]}),f.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ni,{className:"w-5 h-5 text-green-600 mr-2"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-green-800",children:"🎉 Güncelleme Tamamlandı!"}),f.jsx("p",{className:"text-sm text-green-700 mt-1",children:`Artık Dashboard'da "Zirveye Adını Yazdıranlar" bölümünde doğru personeller görünecek. Sayfayı yenileyerek kontrol edebilirsiniz.`})]})]})})]})]})},x$=()=>{const{currentUser:t}=vs(),[e,r]=Ae.useState([]),[n,a]=Ae.useState(!0),[s,o]=Ae.useState(null),[c,h]=Ae.useState(null);Ae.useEffect(()=>{p(),d()},[]);const d=()=>{const A=sessionStorage.getItem("originalAdmin"),N=sessionStorage.getItem("switchedUser");A&&N?(h(JSON.parse(A)),o(JSON.parse(N))):(A||N)&&(sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"))},p=async()=>{try{a(!0);const A=Sr(Mt,"users"),I=(await an(A)).docs.map(P=>({id:P.id,...P.data()})).filter(P=>P.email!=="wupaniyazilim@gmail.com"&&P.name!=="Admin User"&&P.isActive).sort((P,z)=>{const G={Admin:1,"Team Leader":2,Personnel:3},W=G[P.role]||4,j=G[z.role]||4;return W!==j?W-j:(P.name||"").localeCompare(z.name||"")});r(I)}catch(A){console.error("Kullanıcılar yüklenirken hata:",A)}finally{a(!1)}},y=async A=>{try{if(!sessionStorage.getItem("originalAdmin")){const G=(await Wi(on(Mt,"users",t.uid))).data(),W={uid:t.uid,email:(G==null?void 0:G.email)||t.email,name:(G==null?void 0:G.name)||t.displayName||"Admin User",role:(G==null?void 0:G.role)||"Admin"};sessionStorage.setItem("originalAdmin",JSON.stringify(W)),h(W)}const P=(await Wi(on(Mt,"users",A.id))).data();sessionStorage.setItem("switchedUser",JSON.stringify({uid:A.id,email:P.email,name:P.name,role:P.role})),window.location.reload()}catch(N){console.error("Kullanıcı geçişi hatası:",N),alert("Kullanıcı geçişi sırasında hata oluştu.")}},v=()=>{sessionStorage.removeItem("originalAdmin"),sessionStorage.removeItem("switchedUser"),window.location.reload()},b=A=>{switch(A){case"Admin":return Hy;case"Team Leader":return Xc;case"Personnel":return f0;default:return f0}},E=A=>{switch(A){case"Admin":return"from-purple-500 to-purple-600";case"Team Leader":return"from-blue-500 to-blue-600";case"Personnel":return"from-green-500 to-green-600";default:return"from-gray-500 to-gray-600"}},k=A=>{switch(A){case"Admin":return"bg-purple-100 text-purple-800";case"Team Leader":return"bg-blue-100 text-blue-800";case"Personnel":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return n?f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:f.jsx(ts,{className:"w-6 h-6 text-purple-600"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kullanıcı Hesaplarına Giriş"}),f.jsx("p",{className:"text-gray-600",children:"Herhangi bir kullanıcının hesabına geçiş yapabilirsiniz"})]})]}),c&&f.jsxs("button",{onClick:v,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[f.jsx(E9,{className:"w-4 h-4"}),f.jsx("span",{children:"Admin Hesabına Dön"})]})]}),c&&f.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx($s,{className:"w-5 h-5 text-yellow-600 mr-2"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-yellow-800",children:"Admin Geçiş Modu Aktif"}),f.jsxs("p",{className:"text-sm text-yellow-700",children:["Şu anda ",f.jsx("strong",{children:s==null?void 0:s.email})," hesabında görüntüleme yapıyorsunuz. Orijinal admin: ",f.jsx("strong",{children:c.email})]})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(A=>{const N=b(A.role);return f.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1",onClick:()=>y(A),children:[f.jsxs("div",{className:`h-20 bg-gradient-to-r ${E(A.role)} relative`,children:[f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"}),f.jsxs("div",{className:"absolute bottom-3 left-4 flex items-center space-x-2",children:[f.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:f.jsx(N,{className:"w-4 h-4 text-white"})}),f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(A.role)}`,children:A.role})]})]}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h3",{className:"font-semibold text-gray-900 text-lg truncate",children:A.name||"İsimsiz Kullanıcı"}),f.jsx(g1,{className:"w-5 h-5 text-gray-400"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[f.jsx(Vy,{className:"w-4 h-4 mr-2"}),f.jsx("span",{className:"truncate",children:A.email})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[f.jsx(ap,{className:"w-4 h-4 mr-1"}),f.jsx("span",{children:"Hesabına Geç"})]}),A.role==="Admin"&&f.jsx(jO,{className:"w-4 h-4 text-yellow-500"})]})]})]}),f.jsx("div",{className:"absolute inset-0 bg-purple-600 bg-opacity-0 hover:bg-opacity-5 transition-all duration-300 flex items-center justify-center opacity-0 hover:opacity-100",children:f.jsx("div",{className:"bg-white rounded-full p-3 shadow-lg",children:f.jsx(g1,{className:"w-6 h-6 text-purple-600"})})})]},A.id)})}),e.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(ts,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Kullanıcı Bulunamadı"}),f.jsx("p",{className:"text-gray-500",children:"Aktif kullanıcı bulunmuyor."})]}),f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx($s,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Güvenlik Bilgisi"}),f.jsx("p",{className:"text-sm text-blue-700",children:'Bu özellik sadece admin hesapları için kullanılabilir. Geçiş yaptığınız hesapta sadece o kullanıcının yetkilerine sahip olursunuz. İstediğiniz zaman "Admin Hesabına Dön" butonuyla orijinal hesabınıza dönebilirsiniz.'})]})]})})]})};function Pa({children:t}){const{currentUser:e}=vs();return e?t:f.jsx(Rg,{to:"/login",replace:!0})}function Fa({children:t}){return f.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[f.jsx(eF,{}),f.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[f.jsx(tF,{}),f.jsx("main",{className:"flex-1 overflow-y-auto bg-transparent",children:t})]})]})}function y$(){const{currentUser:t,checkUserStatus:e}=vs();return Ae.useEffect(()=>{if(t){const r=setInterval(async()=>{await e()},3e4);return()=>clearInterval(r)}},[t,e]),f.jsx(K8,{children:f.jsxs(k8,{children:[f.jsx($n,{path:"/login",element:t?f.jsx(Rg,{to:"/dashboard",replace:!0}):f.jsx(XO,{})}),f.jsx($n,{path:"/",element:f.jsx(Rg,{to:"/dashboard",replace:!0})}),f.jsx($n,{path:"/dashboard",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(QO,{})})})}),f.jsx($n,{path:"/records",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx("div",{className:"p-6",children:f.jsx(sF,{})})})})}),f.jsx($n,{path:"/add-record",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx("div",{className:"p-6",children:f.jsx(nF,{})})})})}),f.jsx($n,{path:"/user-management",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin"],children:f.jsx("div",{className:"p-6",children:f.jsx(iF,{})})})})})}),f.jsx($n,{path:"/user-switcher",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin"],children:f.jsx("div",{className:"p-6",children:f.jsx(x$,{})})})})})}),f.jsx($n,{path:"/target-management",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin","teamLeader"],children:f.jsx("div",{className:"p-6",children:f.jsx(oF,{})})})})})}),f.jsx($n,{path:"/team-management",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin"],children:f.jsx("div",{className:"p-6",children:f.jsx(lF,{})})})})})}),f.jsx($n,{path:"/dropdown-settings",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin"],children:f.jsx(cF,{})})})})}),f.jsx($n,{path:"/data-import",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin"],children:f.jsx("div",{className:"p-6",children:f.jsx(p$,{})})})})})}),f.jsx($n,{path:"/data-update",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin"],children:f.jsx("div",{className:"p-6",children:f.jsx(g$,{})})})})})}),f.jsx($n,{path:"/data-export",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin"],children:f.jsx("div",{className:"p-6",children:f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsx("div",{className:"card-modern p-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Veri Dışa Aktarma"}),f.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Verileri Excel formatında dışa aktarın"}),f.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[f.jsx("p",{className:"text-gray-700 font-medium",children:"Veri dışa aktarma özelliği geliştirme aşamasında..."}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Excel formatında veri dışa aktarım araçları yakında eklenecek."})]})]})})})})})})})}),f.jsx($n,{path:"/database-management",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin"],children:f.jsx("div",{className:"p-6",children:f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsx("div",{className:"card-modern p-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),f.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Veritabanı Yönetimi"}),f.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Veri yedekleme ve bakım işlemleri"}),f.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[f.jsx("p",{className:"text-gray-700 font-medium",children:"Veritabanı yönetim araçları geliştirme aşamasında..."}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Veri yedekleme, geri yükleme ve bakım araçları yakında eklenecek."})]})]})})})})})})})}),f.jsx($n,{path:"/settings",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(uF,{})})})}),f.jsx($n,{path:"/system-logs",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin"],children:f.jsx(hF,{})})})})}),f.jsx($n,{path:"/analytics",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin","teamLeader"],children:f.jsx(QP,{})})})})}),f.jsx($n,{path:"/monthly-comparison",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["admin","teamLeader"],children:f.jsx("div",{className:"p-6",children:f.jsx(JP,{})})})})})}),f.jsx($n,{path:"/team-performance",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(ZP,{})})})}),f.jsx($n,{path:"/targets",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["teamLeader","personnel"],children:f.jsx("div",{className:"p-6",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx("div",{className:"card-modern p-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}),f.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Hedefler"}),f.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Hedef takibi ve ilerleme yönetimi"}),f.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[f.jsx("p",{className:"text-gray-700 font-medium",children:"Hedef yönetimi sayfası geliştirme aşamasında..."}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Satış hedefleri, takip ve raporlama araçları yakında eklenecek."})]})]})})})})})})})}),f.jsx($n,{path:"/reports",element:f.jsx(Pa,{children:f.jsx(Fa,{children:f.jsx(Ms,{allowedRoles:["teamLeader"],children:f.jsx("div",{className:"p-6",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:f.jsx("div",{className:"card-modern p-8",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Raporlar"}),f.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Takım raporları ve analitik veriler"}),f.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[f.jsx("p",{className:"text-gray-700 font-medium",children:"Raporlama sistemi geliştirme aşamasında..."}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Detaylı takım raporları ve analitik araçları yakında eklenecek."})]})]})})})})})})})}),f.jsx($n,{path:"*",element:f.jsx(Rg,{to:"/dashboard",replace:!0})})]})})}function v$(){return f.jsx(p9,{children:f.jsx(d9,{children:f.jsx(y$,{})})})}h9();DN.createRoot(document.getElementById("root")).render(f.jsx(Ae.StrictMode,{children:f.jsx(v$,{})}));export{gn as _};
