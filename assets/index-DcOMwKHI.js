(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var _g={exports:{}},Hd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function Y3(){if(Kv)return Hd;Kv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:o}}return Hd.Fragment=e,Hd.jsx=t,Hd.jsxs=t,Hd}var Wv;function K3(){return Wv||(Wv=1,_g.exports=Y3()),_g.exports}var h=K3(),Ng={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function W3(){if(Qv)return Wt;Qv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.iterator;function N(X){return X===null||typeof X!="object"?null:(X=A&&X[A]||X["@@iterator"],typeof X=="function"?X:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,C={};function V(X,Re,B){this.props=X,this.context=Re,this.refs=C,this.updater=B||_}V.prototype.isReactComponent={},V.prototype.setState=function(X,Re){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,Re,"setState")},V.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function P(){}P.prototype=V.prototype;function M(X,Re,B){this.props=X,this.context=Re,this.refs=C,this.updater=B||_}var J=M.prototype=new P;J.constructor=M,D(J,V.prototype),J.isPureReactComponent=!0;var se=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function F(X,Re,B,Y,te,ue){return B=ue.ref,{$$typeof:n,type:X,key:Re,ref:B!==void 0?B:null,props:ue}}function T(X,Re){return F(X.type,Re,void 0,void 0,void 0,X.props)}function I(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function G(X){var Re={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(B){return Re[B]})}var R=/\/+/g;function k(X,Re){return typeof X=="object"&&X!==null&&X.key!=null?G(""+X.key):Re.toString(36)}function O(){}function ee(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(O,O):(X.status="pending",X.then(function(Re){X.status==="pending"&&(X.status="fulfilled",X.value=Re)},function(Re){X.status==="pending"&&(X.status="rejected",X.reason=Re)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ve(X,Re,B,Y,te){var ue=typeof X;(ue==="undefined"||ue==="boolean")&&(X=null);var ne=!1;if(X===null)ne=!0;else switch(ue){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(X.$$typeof){case n:case e:ne=!0;break;case b:return ne=X._init,ve(ne(X._payload),Re,B,Y,te)}}if(ne)return te=te(X),ne=Y===""?"."+k(X,0):Y,se(te)?(B="",ne!=null&&(B=ne.replace(R,"$&/")+"/"),ve(te,Re,B,"",function(Se){return Se})):te!=null&&(I(te)&&(te=T(te,B+(te.key==null||X&&X.key===te.key?"":(""+te.key).replace(R,"$&/")+"/")+ne)),Re.push(te)),1;ne=0;var de=Y===""?".":Y+":";if(se(X))for(var we=0;we<X.length;we++)Y=X[we],ue=de+k(Y,we),ne+=ve(Y,Re,B,ue,te);else if(we=N(X),typeof we=="function")for(X=we.call(X),we=0;!(Y=X.next()).done;)Y=Y.value,ue=de+k(Y,we++),ne+=ve(Y,Re,B,ue,te);else if(ue==="object"){if(typeof X.then=="function")return ve(ee(X),Re,B,Y,te);throw Re=String(X),Error("Objects are not valid as a React child (found: "+(Re==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":Re)+"). If you meant to render a collection of children, use an array instead.")}return ne}function re(X,Re,B){if(X==null)return X;var Y=[],te=0;return ve(X,Y,"","",function(ue){return Re.call(B,ue,te++)}),Y}function he(X){if(X._status===-1){var Re=X._result;Re=Re(),Re.then(function(B){(X._status===0||X._status===-1)&&(X._status=1,X._result=B)},function(B){(X._status===0||X._status===-1)&&(X._status=2,X._result=B)}),X._status===-1&&(X._status=0,X._result=Re)}if(X._status===1)return X._result.default;throw X._result}var oe=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(Re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function _e(){}return Wt.Children={map:re,forEach:function(X,Re,B){re(X,function(){Re.apply(this,arguments)},B)},count:function(X){var Re=0;return re(X,function(){Re++}),Re},toArray:function(X){return re(X,function(Re){return Re})||[]},only:function(X){if(!I(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Wt.Component=V,Wt.Fragment=t,Wt.Profiler=s,Wt.PureComponent=M,Wt.StrictMode=i,Wt.Suspense=f,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return ae.H.useMemoCache(X)}},Wt.cache=function(X){return function(){return X.apply(null,arguments)}},Wt.cloneElement=function(X,Re,B){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Y=D({},X.props),te=X.key,ue=void 0;if(Re!=null)for(ne in Re.ref!==void 0&&(ue=void 0),Re.key!==void 0&&(te=""+Re.key),Re)!fe.call(Re,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&Re.ref===void 0||(Y[ne]=Re[ne]);var ne=arguments.length-2;if(ne===1)Y.children=B;else if(1<ne){for(var de=Array(ne),we=0;we<ne;we++)de[we]=arguments[we+2];Y.children=de}return F(X.type,te,void 0,void 0,ue,Y)},Wt.createContext=function(X){return X={$$typeof:c,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},Wt.createElement=function(X,Re,B){var Y,te={},ue=null;if(Re!=null)for(Y in Re.key!==void 0&&(ue=""+Re.key),Re)fe.call(Re,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(te[Y]=Re[Y]);var ne=arguments.length-2;if(ne===1)te.children=B;else if(1<ne){for(var de=Array(ne),we=0;we<ne;we++)de[we]=arguments[we+2];te.children=de}if(X&&X.defaultProps)for(Y in ne=X.defaultProps,ne)te[Y]===void 0&&(te[Y]=ne[Y]);return F(X,ue,void 0,void 0,null,te)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(X){return{$$typeof:d,render:X}},Wt.isValidElement=I,Wt.lazy=function(X){return{$$typeof:b,_payload:{_status:-1,_result:X},_init:he}},Wt.memo=function(X,Re){return{$$typeof:g,type:X,compare:Re===void 0?null:Re}},Wt.startTransition=function(X){var Re=ae.T,B={};ae.T=B;try{var Y=X(),te=ae.S;te!==null&&te(B,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(_e,oe)}catch(ue){oe(ue)}finally{ae.T=Re}},Wt.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Wt.use=function(X){return ae.H.use(X)},Wt.useActionState=function(X,Re,B){return ae.H.useActionState(X,Re,B)},Wt.useCallback=function(X,Re){return ae.H.useCallback(X,Re)},Wt.useContext=function(X){return ae.H.useContext(X)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(X,Re){return ae.H.useDeferredValue(X,Re)},Wt.useEffect=function(X,Re,B){var Y=ae.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(X,Re)},Wt.useId=function(){return ae.H.useId()},Wt.useImperativeHandle=function(X,Re,B){return ae.H.useImperativeHandle(X,Re,B)},Wt.useInsertionEffect=function(X,Re){return ae.H.useInsertionEffect(X,Re)},Wt.useLayoutEffect=function(X,Re){return ae.H.useLayoutEffect(X,Re)},Wt.useMemo=function(X,Re){return ae.H.useMemo(X,Re)},Wt.useOptimistic=function(X,Re){return ae.H.useOptimistic(X,Re)},Wt.useReducer=function(X,Re,B){return ae.H.useReducer(X,Re,B)},Wt.useRef=function(X){return ae.H.useRef(X)},Wt.useState=function(X){return ae.H.useState(X)},Wt.useSyncExternalStore=function(X,Re,B){return ae.H.useSyncExternalStore(X,Re,B)},Wt.useTransition=function(){return ae.H.useTransition()},Wt.version="19.1.0",Wt}var Xv;function H1(){return Xv||(Xv=1,Ng.exports=W3()),Ng.exports}var pe=H1(),Ag={exports:{}},Gd={},Sg={exports:{}},Eg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function Q3(){return Jv||(Jv=1,function(n){function e(re,he){var oe=re.length;re.push(he);e:for(;0<oe;){var _e=oe-1>>>1,X=re[_e];if(0<s(X,he))re[_e]=he,re[oe]=X,oe=_e;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var he=re[0],oe=re.pop();if(oe!==he){re[0]=oe;e:for(var _e=0,X=re.length,Re=X>>>1;_e<Re;){var B=2*(_e+1)-1,Y=re[B],te=B+1,ue=re[te];if(0>s(Y,oe))te<X&&0>s(ue,Y)?(re[_e]=ue,re[te]=oe,_e=te):(re[_e]=Y,re[B]=oe,_e=B);else if(te<X&&0>s(ue,oe))re[_e]=ue,re[te]=oe,_e=te;else break e}}return he}function s(re,he){var oe=re.sortIndex-he.sortIndex;return oe!==0?oe:re.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],g=[],b=1,A=null,N=3,_=!1,D=!1,C=!1,V=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function se(re){for(var he=t(g);he!==null;){if(he.callback===null)i(g);else if(he.startTime<=re)i(g),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(g)}}function ae(re){if(C=!1,se(re),!D)if(t(f)!==null)D=!0,fe||(fe=!0,k());else{var he=t(g);he!==null&&ve(ae,he.startTime-re)}}var fe=!1,F=-1,T=5,I=-1;function G(){return V?!0:!(n.unstable_now()-I<T)}function R(){if(V=!1,fe){var re=n.unstable_now();I=re;var he=!0;try{e:{D=!1,C&&(C=!1,M(F),F=-1),_=!0;var oe=N;try{t:{for(se(re),A=t(f);A!==null&&!(A.expirationTime>re&&G());){var _e=A.callback;if(typeof _e=="function"){A.callback=null,N=A.priorityLevel;var X=_e(A.expirationTime<=re);if(re=n.unstable_now(),typeof X=="function"){A.callback=X,se(re),he=!0;break t}A===t(f)&&i(f),se(re)}else i(f);A=t(f)}if(A!==null)he=!0;else{var Re=t(g);Re!==null&&ve(ae,Re.startTime-re),he=!1}}break e}finally{A=null,N=oe,_=!1}he=void 0}}finally{he?k():fe=!1}}}var k;if(typeof J=="function")k=function(){J(R)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ee=O.port2;O.port1.onmessage=R,k=function(){ee.postMessage(null)}}else k=function(){P(R,0)};function ve(re,he){F=P(function(){re(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(re){switch(N){case 1:case 2:case 3:var he=3;break;default:he=N}var oe=N;N=he;try{return re()}finally{N=oe}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=N;N=re;try{return he()}finally{N=oe}},n.unstable_scheduleCallback=function(re,he,oe){var _e=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?_e+oe:_e):oe=_e,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,re={id:b++,callback:he,priorityLevel:re,startTime:oe,expirationTime:X,sortIndex:-1},oe>_e?(re.sortIndex=oe,e(g,re),t(f)===null&&re===t(g)&&(C?(M(F),F=-1):C=!0,ve(ae,oe-_e))):(re.sortIndex=X,e(f,re),D||_||(D=!0,fe||(fe=!0,k()))),re},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(re){var he=N;return function(){var oe=N;N=he;try{return re.apply(this,arguments)}finally{N=oe}}}}(Eg)),Eg}var Zv;function X3(){return Zv||(Zv=1,Sg.exports=Q3()),Sg.exports}var Tg={exports:{}},Bi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e5;function J3(){if(e5)return Bi;e5=1;var n=H1();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,g,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:f,containerInfo:g,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Bi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bi.createPortal=function(f,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(f,g,null,b)},Bi.flushSync=function(f){var g=c.T,b=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=b,i.d.f()}},Bi.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Bi.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Bi.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var b=g.as,A=d(b,g.crossOrigin),N=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:_}):b==="script"&&i.d.X(f,{crossOrigin:A,integrity:N,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Bi.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=d(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Bi.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,A=d(b,g.crossOrigin);i.d.L(f,b,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Bi.preloadModule=function(f,g){if(typeof f=="string")if(g){var b=d(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Bi.requestFormReset=function(f){i.d.r(f)},Bi.unstable_batchedUpdates=function(f,g){return f(g)},Bi.useFormState=function(f,g,b){return c.H.useFormState(f,g,b)},Bi.useFormStatus=function(){return c.H.useHostTransitionStatus()},Bi.version="19.1.0",Bi}var t5;function gx(){if(t5)return Tg.exports;t5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=J3(),Tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n5;function Z3(){if(n5)return Gd;n5=1;var n=X3(),e=H1(),t=gx();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function f(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,u=a;;){var y=l.return;if(y===null)break;var x=y.alternate;if(x===null){if(u=y.return,u!==null){l=u;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===l)return d(y),r;if(x===u)return d(y),a;x=x.sibling}throw Error(i(188))}if(l.return!==u.return)l=y,u=x;else{for(var U=!1,Q=y.child;Q;){if(Q===l){U=!0,l=y,u=x;break}if(Q===u){U=!0,u=y,l=x;break}Q=Q.sibling}if(!U){for(Q=x.child;Q;){if(Q===l){U=!0,l=x,u=y;break}if(Q===u){U=!0,u=x,l=y;break}Q=Q.sibling}if(!U)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function g(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=g(r),a!==null)return a;r=r.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),J=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function k(r){return r===null||typeof r!="object"?null:(r=R&&r[R]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function ee(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case V:return"Profiler";case C:return"StrictMode";case ae:return"Suspense";case fe:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case J:return(r.displayName||"Context")+".Provider";case M:return(r._context.displayName||"Context")+".Consumer";case se:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case F:return a=r.displayName||null,a!==null?a:ee(r.type)||"Memo";case T:a=r._payload,r=r._init;try{return ee(r(a))}catch{}}return null}var ve=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},_e=[],X=-1;function Re(r){return{current:r}}function B(r){0>X||(r.current=_e[X],_e[X]=null,X--)}function Y(r,a){X++,_e[X]=r.current,r.current=a}var te=Re(null),ue=Re(null),ne=Re(null),de=Re(null);function we(r,a){switch(Y(ne,a),Y(ue,r),Y(te,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?_v(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=_v(a),r=Nv(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}B(te),Y(te,r)}function Se(){B(te),B(ue),B(ne)}function nt(r){r.memoizedState!==null&&Y(de,r);var a=te.current,l=Nv(a,r.type);a!==l&&(Y(ue,r),Y(te,l))}function Ze(r){ue.current===r&&(B(te),B(ue)),de.current===r&&(B(de),Ud._currentValue=oe)}var Ee=Object.prototype.hasOwnProperty,ge=n.unstable_scheduleCallback,$e=n.unstable_cancelCallback,De=n.unstable_shouldYield,le=n.unstable_requestPaint,lt=n.unstable_now,st=n.unstable_getCurrentPriorityLevel,Qe=n.unstable_ImmediatePriority,rt=n.unstable_UserBlockingPriority,at=n.unstable_NormalPriority,it=n.unstable_LowPriority,gt=n.unstable_IdlePriority,Ct=n.log,Ut=n.unstable_setDisableYieldValue,wt=null,xt=null;function $t(r){if(typeof Ct=="function"&&Ut(r),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(wt,r)}catch{}}var yt=Math.clz32?Math.clz32:er,Yt=Math.log,ht=Math.LN2;function er(r){return r>>>=0,r===0?32:31-(Yt(r)/ht|0)|0}var Qt=256,Kr=4194304;function Jt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function En(r,a,l){var u=r.pendingLanes;if(u===0)return 0;var y=0,x=r.suspendedLanes,U=r.pingedLanes;r=r.warmLanes;var Q=u&134217727;return Q!==0?(u=Q&~x,u!==0?y=Jt(u):(U&=Q,U!==0?y=Jt(U):l||(l=Q&~r,l!==0&&(y=Jt(l))))):(Q=u&~x,Q!==0?y=Jt(Q):U!==0?y=Jt(U):l||(l=u&~r,l!==0&&(y=Jt(l)))),y===0?0:a!==0&&a!==y&&(a&x)===0&&(x=y&-y,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:y}function ii(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ln(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(){var r=Qt;return Qt<<=1,(Qt&4194048)===0&&(Qt=256),r}function Mn(){var r=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),r}function Ar(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Wr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Vn(r,a,l,u,y,x){var U=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var Q=r.entanglements,me=r.expirationTimes,Me=r.hiddenUpdates;for(l=U&~l;0<l;){var qe=31-yt(l),We=1<<qe;Q[qe]=0,me[qe]=-1;var Ve=Me[qe];if(Ve!==null)for(Me[qe]=null,qe=0;qe<Ve.length;qe++){var Ue=Ve[qe];Ue!==null&&(Ue.lane&=-536870913)}l&=~We}u!==0&&At(r,u,0),x!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=x&~(U&~a))}function At(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-yt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|l&4194090}function cn(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var u=31-yt(l),y=1<<u;y&a|r[u]&a&&(r[u]|=a),l&=~y}}function ki(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function tr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qr(){var r=he.p;return r!==0?r:(r=window.event,r===void 0?32:zv(r.type))}function Xi(r,a){var l=he.p;try{return he.p=r,a()}finally{he.p=l}}var dt=Math.random().toString(36).slice(2),Tn="__reactFiber$"+dt,kn="__reactProps$"+dt,Hn="__reactContainer$"+dt,Wn="__reactEvents$"+dt,nr="__reactListeners$"+dt,pr="__reactHandles$"+dt,Es="__reactResources$"+dt,bi="__reactMarker$"+dt;function Vr(r){delete r[Tn],delete r[kn],delete r[Wn],delete r[nr],delete r[pr]}function Sr(r){var a=r[Tn];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Hn]||l[Tn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=Tv(r);r!==null;){if(l=r[Tn])return l;r=Tv(r)}return a}r=l,l=r.parentNode}return null}function gr(r){if(r=r[Tn]||r[Hn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Er(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Un(r){var a=r[Es];return a||(a=r[Es]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function bn(r){r[bi]=!0}var Ta=new Set,ka={};function ai(r,a){ji(r,a),ji(r+"Capture",a)}function ji(r,a){for(ka[r]=a,r=0;r<a.length;r++)Ta.add(a[r])}var Ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},ks={};function $l(r){return Ee.call(ks,r)?!0:Ee.call(Jo,r)?!1:Ts.test(r)?ks[r]=!0:(Jo[r]=!0,!1)}function Ji(r,a,l){if($l(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Zi(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Tr(r,a,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+u)}}var ja,Yl;function oa(r){if(ja===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ja=a&&a[1]||"",Yl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+r+Yl}var lo=!1;function Ra(r,a){if(!r||lo)return"";lo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Ue){var Ve=Ue}Reflect.construct(r,[],We)}else{try{We.call()}catch(Ue){Ve=Ue}r.call(We.prototype)}}else{try{throw Error()}catch(Ue){Ve=Ue}(We=r())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Ue){if(Ue&&Ve&&typeof Ue.stack=="string")return[Ue.stack,Ve.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),U=x[0],Q=x[1];if(U&&Q){var me=U.split(`
`),Me=Q.split(`
`);for(y=u=0;u<me.length&&!me[u].includes("DetermineComponentFrameRoot");)u++;for(;y<Me.length&&!Me[y].includes("DetermineComponentFrameRoot");)y++;if(u===me.length||y===Me.length)for(u=me.length-1,y=Me.length-1;1<=u&&0<=y&&me[u]!==Me[y];)y--;for(;1<=u&&0<=y;u--,y--)if(me[u]!==Me[y]){if(u!==1||y!==1)do if(u--,y--,0>y||me[u]!==Me[y]){var qe=`
`+me[u].replace(" at new "," at ");return r.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",r.displayName)),qe}while(1<=u&&0<=y);break}}}finally{lo=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?oa(l):""}function Zo(r){switch(r.tag){case 26:case 27:case 5:return oa(r.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 15:return Ra(r.type,!1);case 11:return Ra(r.type.render,!1);case 1:return Ra(r.type,!0);case 31:return oa("Activity");default:return""}}function Bn(r){try{var a="";do a+=Zo(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ur(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function co(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Kl(r){var a=co(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,x=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return y.call(this)},set:function(U){u=""+U,x.call(this,U)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(U){u=""+U},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Xa(r){r._valueTracker||(r._valueTracker=Kl(r))}function el(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return r&&(u=co(r)?r.checked?"true":"false":r.value),r=u,r!==l?(a.setValue(r),!0):!1}function Xr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var uo=/[\n"\\]/g;function dn(r){return r.replace(uo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Jr(r,a,l,u,y,x,U,Q){r.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.type=U:r.removeAttribute("type"),a!=null?U==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Ur(a)):r.value!==""+Ur(a)&&(r.value=""+Ur(a)):U!=="submit"&&U!=="reset"||r.removeAttribute("value"),a!=null?Za(r,U,Ur(a)):l!=null?Za(r,U,Ur(l)):u!=null&&r.removeAttribute("value"),y==null&&x!=null&&(r.defaultChecked=!!x),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?r.name=""+Ur(Q):r.removeAttribute("name")}function Ja(r,a,l,u,y,x,U,Q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;l=l!=null?""+Ur(l):"",a=a!=null?""+Ur(a):l,Q||a===r.value||(r.value=a),r.defaultValue=a}u=u??y,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=Q?r.checked:!!u,r.defaultChecked=!!u,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.name=U)}function Za(r,a,l){a==="number"&&Xr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function la(r,a,l,u){if(r=r.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<r.length;l++)y=a.hasOwnProperty("$"+r[l].value),r[l].selected!==y&&(r[l].selected=y),y&&u&&(r[l].defaultSelected=!0)}else{for(l=""+Ur(l),a=null,y=0;y<r.length;y++){if(r[y].value===l){r[y].selected=!0,u&&(r[y].defaultSelected=!0);return}a!==null||r[y].disabled||(a=r[y])}a!==null&&(a.selected=!0)}}function xn(r,a,l){if(a!=null&&(a=""+Ur(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Ur(l):""}function es(r,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(ve(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Ur(a),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u)}function Ri(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(r,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,l):typeof l!="number"||l===0||Ca.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function tl(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var y in a)u=a[y],a.hasOwnProperty(y)&&l[y]!==u&&Wl(r,y,u)}else for(var x in a)a.hasOwnProperty(x)&&Wl(r,x,a[x])}function nl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ia=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ho=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(r){return ho.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ca=null;function In(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Da=null,ua=null;function kt(r){var a=gr(r);if(a&&(r=a.stateNode)){var l=r[kn]||null;e:switch(r=a.stateNode,a.type){case"input":if(Jr(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+dn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==r&&u.form===r.form){var y=u[kn]||null;if(!y)throw Error(i(90));Jr(u,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===r.form&&el(u)}break e;case"textarea":xn(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&la(r,!!l.multiple,a,!1)}}}var ha=!1;function Ql(r,a,l){if(ha)return r(a,l);ha=!0;try{var u=r(a);return u}finally{if(ha=!1,(Da!==null||ua!==null)&&(vm(),Da&&(a=Da,r=ua,ua=Da=null,kt(a),r)))for(a=0;a<r.length;a++)kt(r[a])}}function si(r,a){var l=r.stateNode;if(l===null)return null;var u=l[kn]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=!1;if(Ci)try{var da={};Object.defineProperty(da,"passive",{get:function(){xi=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{xi=!1}var Ii=null,ts=null,Pa=null;function rl(){if(Pa)return Pa;var r,a=ts,l=a.length,u,y="value"in Ii?Ii.value:Ii.textContent,x=y.length;for(r=0;r<l&&a[r]===y[r];r++);var U=l-r;for(u=1;u<=U&&a[l-u]===y[x-u];u++);return Pa=y.slice(r,1<u?1-u:void 0)}function Li(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function oi(){return!0}function fa(){return!1}function yr(r){function a(l,u,y,x,U){this._reactName=l,this._targetInst=y,this.type=u,this.nativeEvent=x,this.target=U,this.currentTarget=null;for(var Q in r)r.hasOwnProperty(Q)&&(l=r[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?oi:fa,this.isPropagationStopped=fa,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),a}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=yr(nn),ma=b({},nn,{view:0,detail:0}),il=yr(ma),js,Rs,ea,li=b({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ea&&(ea&&r.type==="mousemove"?(js=r.screenX-ea.screenX,Rs=r.screenY-ea.screenY):Rs=js=0,ea=r),js)},movementY:function(r){return"movementY"in r?r.movementY:Rs}}),vr=yr(li),Xl=b({},li,{dataTransfer:0}),rs=yr(Xl),Zr=b({},ma,{relatedTarget:0}),is=yr(Zr),Oa=b({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),fo=yr(Oa),Cs=b({},nn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mo=yr(Cs),al=b({},nn,{data:0}),Is=yr(al),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ls={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ds(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=po[r])?!!a[r]:!1}function ss(){return Ds}var Jl=b({},ma,{key:function(r){if(r.key){var a=as[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Li(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ls[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(r){return r.type==="keypress"?Li(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Li(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ma=yr(Jl),os=b({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ps=yr(os),ci=b({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),go=yr(ci),w=b({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=yr(w),ce=b({},li,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ye=yr(ce),ke=b({},nn,{newState:0,oldState:0}),Fe=yr(ke),et=[9,13,27,32],ct=Ci&&"CompositionEvent"in window,p=null;Ci&&"documentMode"in document&&(p=document.documentMode);var E=Ci&&"TextEvent"in window&&!p,L=Ci&&(!ct||p&&8<p&&11>=p),W=" ",Te=!1;function Oe(r,a){switch(r){case"keyup":return et.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jt=!1;function rn(r,a){switch(r){case"compositionend":return tt(a);case"keypress":return a.which!==32?null:(Te=!0,W);case"textInput":return r=a.data,r===W&&Te?null:r;default:return null}}function Bt(r,a){if(jt)return r==="compositionend"||!ct&&Oe(r,a)?(r=rl(),Pa=ts=Ii=null,jt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return L&&a.locale!=="ko"?null:a.data;default:return null}}var wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!wn[r.type]:a==="textarea"}function pa(r,a,l,u){Da?ua?ua.push(u):ua=[u]:Da=u,a=Am(a,"onChange"),0<a.length&&(l=new ns("onChange","change",null,l,u),r.push({event:l,listeners:a}))}var cr=null,Di=null;function ls(r){yv(r,0)}function yo(r){var a=Er(r);if(el(a))return r}function Zl(r,a){if(r==="change")return a}var sl=!1;if(Ci){var kr;if(Ci){var vo="oninput"in document;if(!vo){var ol=document.createElement("div");ol.setAttribute("oninput","return;"),vo=typeof ol.oninput=="function"}kr=vo}else kr=!1;sl=kr&&(!document.documentMode||9<document.documentMode)}function ll(){cr&&(cr.detachEvent("onpropertychange",ec),Di=cr=null)}function ec(r){if(r.propertyName==="value"&&yo(Di)){var a=[];pa(a,Di,r,In(r)),Ql(ls,a)}}function Pi(r,a,l){r==="focusin"?(ll(),cr=a,Di=l,cr.attachEvent("onpropertychange",ec)):r==="focusout"&&ll()}function sd(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yo(Di)}function nu(r,a){if(r==="click")return yo(a)}function Gu(r,a){if(r==="input"||r==="change")return yo(a)}function ga(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Br=typeof Object.is=="function"?Object.is:ga;function bo(r,a){if(Br(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var y=l[u];if(!Ee.call(a,y)||!Br(r[y],a[y]))return!1}return!0}function ru(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Os(r,a){var l=ru(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=a&&u>=a)return{node:l,offset:a-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ru(l)}}function xo(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?xo(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function wi(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Xr(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Xr(r.document)}return a}function ei(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var wo=Ci&&"documentMode"in document&&11>=document.documentMode,Oi=null,Va=null,cs=null,Ua=!1;function rr(r,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ua||Oi==null||Oi!==Xr(u)||(u=Oi,"selectionStart"in u&&ei(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cs&&bo(cs,u)||(cs=u,u=Am(Va,"onSelect"),0<u.length&&(a=new ns("onSelect","select",null,a,l),r.push({event:a,listeners:u}),a.target=Oi)))}function Ba(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var br={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},Mi={},cl={};Ci&&(cl=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function us(r){if(Mi[r])return Mi[r];if(!br[r])return r;var a=br[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in cl)return Mi[r]=a[l];return r}var tc=us("animationend"),_o=us("animationiteration"),No=us("animationstart"),Ao=us("transitionrun"),ul=us("transitionstart"),nc=us("transitioncancel"),So=us("transitionend"),Ms=new Map,hl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hl.push("scrollEnd");function ir(r,a){Ms.set(r,a),ai(a,[r])}var ta=new WeakMap;function Zt(r,a){if(typeof r=="object"&&r!==null){var l=ta.get(r);return l!==void 0?l:(a={value:r,source:a,stack:Bn(a)},ta.set(r,a),a)}return{value:r,source:a,stack:Bn(a)}}var en=[],Fn=0,ur=0;function ya(){for(var r=Fn,a=ur=Fn=0;a<r;){var l=en[a];en[a++]=null;var u=en[a];en[a++]=null;var y=en[a];en[a++]=null;var x=en[a];if(en[a++]=null,u!==null&&y!==null){var U=u.pending;U===null?y.next=y:(y.next=U.next,U.next=y),u.pending=y}x!==0&&$u(l,y,x)}}function Eo(r,a,l,u){en[Fn++]=r,en[Fn++]=a,en[Fn++]=l,en[Fn++]=u,ur|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function To(r,a,l,u){return Eo(r,a,l,u),dl(r)}function Vs(r,a){return Eo(r,null,null,a),dl(r)}function $u(r,a,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var y=!1,x=r.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(y=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,y&&a!==null&&(y=31-yt(l),r=x.hiddenUpdates,u=r[y],u===null?r[y]=[a]:u.push(a),a.lane=l|536870912),x):null}function dl(r){if(50<Cd)throw Cd=0,$0=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Fr={};function va(r,a,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(r,a,l,u){return new va(r,a,l,u)}function rc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hs(r,a){var l=r.alternate;return l===null?(l=ui(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function iu(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function fl(r,a,l,u,y,x){var U=0;if(u=r,typeof r=="function")rc(r)&&(U=1);else if(typeof r=="string")U=D3(r,l,te.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=ui(31,l,a,y),r.elementType=I,r.lanes=x,r;case D:return Us(l.children,y,x,a);case C:U=8,y|=24;break;case V:return r=ui(12,l,a,y|2),r.elementType=V,r.lanes=x,r;case ae:return r=ui(13,l,a,y),r.elementType=ae,r.lanes=x,r;case fe:return r=ui(19,l,a,y),r.elementType=fe,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:case J:U=10;break e;case M:U=9;break e;case se:U=11;break e;case F:U=14;break e;case T:U=16,u=null;break e}U=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=ui(U,l,a,y),a.elementType=r,a.type=u,a.lanes=x,a}function Us(r,a,l,u){return r=ui(7,r,u,a),r.lanes=l,r}function Yu(r,a,l){return r=ui(6,r,null,a),r.lanes=l,r}function au(r,a,l){return a=ui(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var ko=[],Bs=0,ic=null,Ku=0,ba=[],na=0,ml=null,Fs=1,zs="";function pl(r,a){ko[Bs++]=Ku,ko[Bs++]=ic,ic=r,Ku=a}function zf(r,a,l){ba[na++]=Fs,ba[na++]=zs,ba[na++]=ml,ml=r;var u=Fs;r=zs;var y=32-yt(u)-1;u&=~(1<<y),l+=1;var x=32-yt(a)+y;if(30<x){var U=y-y%5;x=(u&(1<<U)-1).toString(32),u>>=U,y-=U,Fs=1<<32-yt(a)+y|l<<y|u,zs=x+r}else Fs=1<<x|l<<y|u,zs=r}function su(r){r.return!==null&&(pl(r,1),zf(r,1,0))}function ou(r){for(;r===ic;)ic=ko[--Bs],ko[Bs]=null,Ku=ko[--Bs],ko[Bs]=null;for(;r===ml;)ml=ba[--na],ba[na]=null,zs=ba[--na],ba[na]=null,Fs=ba[--na],ba[na]=null}var jr=null,ar=null,vn=!1,jo=null,ds=!1,od=Error(i(519));function gl(r){var a=Error(i(418,""));throw ac(Zt(a,r)),od}function qf(r){var a=r.stateNode,l=r.type,u=r.memoizedProps;switch(a[Tn]=r,a[kn]=u,l){case"dialog":on("cancel",a),on("close",a);break;case"iframe":case"object":case"embed":on("load",a);break;case"video":case"audio":for(l=0;l<Ld.length;l++)on(Ld[l],a);break;case"source":on("error",a);break;case"img":case"image":case"link":on("error",a),on("load",a);break;case"details":on("toggle",a);break;case"input":on("invalid",a),Ja(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Xa(a);break;case"select":on("invalid",a);break;case"textarea":on("invalid",a),es(a,u.value,u.defaultValue,u.children),Xa(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||wv(a.textContent,l)?(u.popover!=null&&(on("beforetoggle",a),on("toggle",a)),u.onScroll!=null&&on("scroll",a),u.onScrollEnd!=null&&on("scrollend",a),u.onClick!=null&&(a.onclick=Sm),a=!0):a=!1,a||gl(r)}function qs(r){for(jr=r.return;jr;)switch(jr.tag){case 5:case 13:ds=!1;return;case 27:case 3:ds=!0;return;default:jr=jr.return}}function _i(r){if(r!==jr)return!1;if(!vn)return qs(r),vn=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||lg(r.type,r.memoizedProps)),l=!l),l&&ar&&gl(r),qs(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){ar=Xs(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}ar=null}}else a===27?(a=ar,_c(r.type)?(r=dg,dg=null,ar=r):ar=a):ar=jr?Xs(r.stateNode.nextSibling):null;return!0}function ra(){ar=jr=null,vn=!1}function Hf(){var r=jo;return r!==null&&(_a===null?_a=r:_a.push.apply(_a,r),jo=null),r}function ac(r){jo===null?jo=[r]:jo.push(r)}var fs=Re(null),zr=null,Hs=null;function Ro(r,a,l){Y(fs,a._currentValue),a._currentValue=l}function ms(r){r._currentValue=fs.current,B(fs)}function Wu(r,a,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===l)break;r=r.return}}function Qu(r,a,l,u){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var x=y.dependencies;if(x!==null){var U=y.child;x=x.firstContext;e:for(;x!==null;){var Q=x;x=y;for(var me=0;me<a.length;me++)if(Q.context===a[me]){x.lanes|=l,Q=x.alternate,Q!==null&&(Q.lanes|=l),Wu(x.return,l,r),u||(U=null);break e}x=Q.next}}else if(y.tag===18){if(U=y.return,U===null)throw Error(i(341));U.lanes|=l,x=U.alternate,x!==null&&(x.lanes|=l),Wu(U,l,r),U=null}else U=y.child;if(U!==null)U.return=y;else for(U=y;U!==null;){if(U===r){U=null;break}if(y=U.sibling,y!==null){y.return=U.return,U=y;break}U=U.return}y=U}}function sc(r,a,l,u){r=null;for(var y=a,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var U=y.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var Q=y.type;Br(y.pendingProps.value,U.value)||(r!==null?r.push(Q):r=[Q])}}else if(y===de.current){if(U=y.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(Ud):r=[Ud])}y=y.return}r!==null&&Qu(a,r,l,u),a.flags|=262144}function Xu(r){for(r=r.firstContext;r!==null;){if(!Br(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ps(r){zr=r,Hs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Rr(r){return Ju(zr,r)}function Co(r,a){return zr===null&&ps(r),Ju(r,a)}function Ju(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Hs===null){if(r===null)throw Error(i(308));Hs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Hs=Hs.next=a;return l}var y0=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},Gf=n.unstable_scheduleCallback,v0=n.unstable_NormalPriority,Cr={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new y0,data:new Map,refCount:0}}function lu(r){r.refCount--,r.refCount===0&&Gf(v0,function(){r.controller.abort()})}var cu=null,cd=0,yl=0,Gs=null;function b0(r,a){if(cu===null){var l=cu=[];cd=0,yl=Z0(),Gs={status:"pending",value:void 0,then:function(u){l.push(u)}}}return cd++,a.then($f,$f),a}function $f(){if(--cd===0&&cu!==null){Gs!==null&&(Gs.status="fulfilled");var r=cu;cu=null,yl=0,Gs=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function Yf(r,a){var l=[],u={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(u.status="rejected",u.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),u}var m=re.S;re.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&b0(r,a),m!==null&&m(r,a)};var v=Re(null);function S(){var r=v.current;return r!==null?r:Kn.pooledCache}function j(r,a){a===null?Y(v,v.current):Y(v,a.pool)}function z(){var r=S();return r===null?null:{parent:Cr._currentValue,pool:r}}var H=Error(i(460)),$=Error(i(474)),K=Error(i(542)),Z={then:function(){}};function ie(r){return r=r.status,r==="fulfilled"||r==="rejected"}function be(){}function Pe(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(be,be),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Ye(r),r;default:if(typeof a.status=="string")a.then(be,be);else{if(r=Kn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=u}},function(u){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Ye(r),r}throw Ie=a,H}}var Ie=null;function je(){if(Ie===null)throw Error(i(459));var r=Ie;return Ie=null,r}function Ye(r){if(r===H||r===K)throw Error(i(483))}var Be=!1;function xe(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ae(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ze(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ke(r,a,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Dn&2)!==0){var y=u.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),u.pending=a,a=dl(r),$u(r,null,l),a}return Eo(r,u,a,l),dl(r)}function He(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,cn(r,l)}}function ft(r,a){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var y=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var U={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?y=x=U:x=x.next=U,l=l.next}while(l!==null);x===null?y=x=a:x=x.next=a}else y=x=a;l={baseState:u.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var ot=!1;function _t(){if(ot){var r=Gs;if(r!==null)throw r}}function ut(r,a,l,u){ot=!1;var y=r.updateQueue;Be=!1;var x=y.firstBaseUpdate,U=y.lastBaseUpdate,Q=y.shared.pending;if(Q!==null){y.shared.pending=null;var me=Q,Me=me.next;me.next=null,U===null?x=Me:U.next=Me,U=me;var qe=r.alternate;qe!==null&&(qe=qe.updateQueue,Q=qe.lastBaseUpdate,Q!==U&&(Q===null?qe.firstBaseUpdate=Me:Q.next=Me,qe.lastBaseUpdate=me))}if(x!==null){var We=y.baseState;U=0,qe=Me=me=null,Q=x;do{var Ve=Q.lane&-536870913,Ue=Ve!==Q.lane;if(Ue?(gn&Ve)===Ve:(u&Ve)===Ve){Ve!==0&&Ve===yl&&(ot=!0),qe!==null&&(qe=qe.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var Vt=r,Rt=Q;Ve=a;var qn=l;switch(Rt.tag){case 1:if(Vt=Rt.payload,typeof Vt=="function"){We=Vt.call(qn,We,Ve);break e}We=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=Rt.payload,Ve=typeof Vt=="function"?Vt.call(qn,We,Ve):Vt,Ve==null)break e;We=b({},We,Ve);break e;case 2:Be=!0}}Ve=Q.callback,Ve!==null&&(r.flags|=64,Ue&&(r.flags|=8192),Ue=y.callbacks,Ue===null?y.callbacks=[Ve]:Ue.push(Ve))}else Ue={lane:Ve,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},qe===null?(Me=qe=Ue,me=We):qe=qe.next=Ue,U|=Ve;if(Q=Q.next,Q===null){if(Q=y.shared.pending,Q===null)break;Ue=Q,Q=Ue.next,Ue.next=null,y.lastBaseUpdate=Ue,y.shared.pending=null}}while(!0);qe===null&&(me=We),y.baseState=me,y.firstBaseUpdate=Me,y.lastBaseUpdate=qe,x===null&&(y.shared.lanes=0),vc|=U,r.lanes=U,r.memoizedState=We}}function mn(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function _n(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)mn(l[r],a)}var Xt=Re(null),Kt=Re(0);function Rn(r,a){r=Tl,Y(Kt,r),Y(Xt,a),Tl=r|a.baseLanes}function Nn(){Y(Kt,Tl),Y(Xt,Xt.current)}function Ft(){Tl=Kt.current,B(Xt),B(Kt)}var Ln=0,Et=null,Dt=null,fn=null,pn=!1,qr=!1,Ir=!1,hr=0,dr=0,xr=null,xa=0;function An(){throw Error(i(321))}function wr(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Br(r[l],a[l]))return!1;return!0}function Fa(r,a,l,u,y,x){return Ln=x,Et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,re.H=r===null||r.memoizedState===null?ty:ny,Ir=!1,x=l(u,y),Ir=!1,qr&&(x=vl(a,l,u,y)),Io(r),x}function Io(r){re.H=am;var a=Dt!==null&&Dt.next!==null;if(Ln=0,fn=Dt=Et=null,pn=!1,dr=0,xr=null,a)throw Error(i(300));r===null||hi||(r=r.dependencies,r!==null&&Xu(r)&&(hi=!0))}function vl(r,a,l,u){Et=r;var y=0;do{if(qr&&(xr=null),dr=0,qr=!1,25<=y)throw Error(i(301));if(y+=1,fn=Dt=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}re.H=G4,x=a(l,u)}while(qr);return x}function Lo(){var r=re.H,a=r.useState()[0];return a=typeof a.then=="function"?Do(a):a,r=r.useState()[0],(Dt!==null?Dt.memoizedState:null)!==r&&(Et.flags|=1024),a}function Yn(){var r=hr!==0;return hr=0,r}function uu(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Zu(r){if(pn){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}pn=!1}Ln=0,fn=Dt=Et=null,qr=!1,dr=hr=0,xr=null}function Ni(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Et.memoizedState=fn=r:fn=fn.next=r,fn}function Qn(){if(Dt===null){var r=Et.alternate;r=r!==null?r.memoizedState:null}else r=Dt.next;var a=fn===null?Et.memoizedState:fn.next;if(a!==null)fn=a,Dt=r;else{if(r===null)throw Et.alternate===null?Error(i(467)):Error(i(310));Dt=r,r={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},fn===null?Et.memoizedState=fn=r:fn=fn.next=r}return fn}function bl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(r){var a=dr;return dr+=1,xr===null&&(xr=[]),r=Pe(xr,r,a),a=Et,(fn===null?a.memoizedState:fn.next)===null&&(a=a.alternate,re.H=a===null||a.memoizedState===null?ty:ny),r}function Vi(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Do(r);if(r.$$typeof===J)return Rr(r)}throw Error(i(438,String(r)))}function Po(r){var a=null,l=Et.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Et.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=bl(),Et.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),u=0;u<r;u++)l[u]=G;return a.index++,l}function Ui(r,a){return typeof a=="function"?a(r):a}function hu(r){var a=Qn();return oc(a,Dt,r)}function oc(r,a,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var y=r.baseQueue,x=u.pending;if(x!==null){if(y!==null){var U=y.next;y.next=x.next,x.next=U}a.baseQueue=y=x,u.pending=null}if(x=r.baseState,y===null)r.memoizedState=x;else{a=y.next;var Q=U=null,me=null,Me=a,qe=!1;do{var We=Me.lane&-536870913;if(We!==Me.lane?(gn&We)===We:(Ln&We)===We){var Ve=Me.revertLane;if(Ve===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),We===yl&&(qe=!0);else if((Ln&Ve)===Ve){Me=Me.next,Ve===yl&&(qe=!0);continue}else We={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},me===null?(Q=me=We,U=x):me=me.next=We,Et.lanes|=Ve,vc|=Ve;We=Me.action,Ir&&l(x,We),x=Me.hasEagerState?Me.eagerState:l(x,We)}else Ve={lane:We,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},me===null?(Q=me=Ve,U=x):me=me.next=Ve,Et.lanes|=We,vc|=We;Me=Me.next}while(Me!==null&&Me!==a);if(me===null?U=x:me.next=Q,!Br(x,r.memoizedState)&&(hi=!0,qe&&(l=Gs,l!==null)))throw l;r.memoizedState=x,r.baseState=U,r.baseQueue=me,u.lastRenderedState=x}return y===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function eh(r){var a=Qn(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,y=l.pending,x=a.memoizedState;if(y!==null){l.pending=null;var U=y=y.next;do x=r(x,U.action),U=U.next;while(U!==y);Br(x,a.memoizedState)||(hi=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,u]}function du(r,a,l){var u=Et,y=Qn(),x=vn;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=a();var U=!Br((Dt||y).memoizedState,l);U&&(y.memoizedState=l,hi=!0),y=y.queue;var Q=lc.bind(null,u,y,r);if(hc(2048,8,Q,[r]),y.getSnapshot!==a||U||fn!==null&&fn.memoizedState.tag&1){if(u.flags|=2048,Ys(9,gu(),fu.bind(null,u,y,l,a),null),Kn===null)throw Error(i(349));x||(Ln&124)!==0||th(u,a,l)}return l}function th(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Et.updateQueue,a===null?(a=bl(),Et.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function fu(r,a,l,u){a.value=l,a.getSnapshot=u,Kf(a)&&Wf(r)}function lc(r,a,l){return l(function(){Kf(a)&&Wf(r)})}function Kf(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Br(r,l)}catch{return!0}}function Wf(r){var a=Vs(r,2);a!==null&&Ya(a,r,2)}function mu(r){var a=Ni();if(typeof r=="function"){var l=r;if(r=l(),Ir){$t(!0);try{l()}finally{$t(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},a}function $s(r,a,l,u){return r.baseState=l,oc(r,Dt,typeof u=="function"?u:Ui)}function x0(r,a,l,u,y){if(im(r))throw Error(i(485));if(r=a.action,r!==null){var x={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){x.listeners.push(U)}};re.T!==null?l(!0):x.isTransition=!1,u(x),l=a.pending,l===null?(x.next=a.pending=x,Qf(a,x)):(x.next=l.next,a.pending=l.next=x)}}function Qf(r,a){var l=a.action,u=a.payload,y=r.state;if(a.isTransition){var x=re.T,U={};re.T=U;try{var Q=l(y,u),me=re.S;me!==null&&me(U,Q),Xf(r,a,Q)}catch(Me){cc(r,a,Me)}finally{re.T=x}}else try{x=l(y,u),Xf(r,a,x)}catch(Me){cc(r,a,Me)}}function Xf(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ud(r,a,u)},function(u){return cc(r,a,u)}):ud(r,a,l)}function ud(r,a,l){a.status="fulfilled",a.value=l,hd(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Qf(r,l)))}function cc(r,a,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,hd(a),a=a.next;while(a!==u)}r.action=null}function hd(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function dd(r,a){return a}function pu(r,a){if(vn){var l=Kn.formState;if(l!==null){e:{var u=Et;if(vn){if(ar){t:{for(var y=ar,x=ds;y.nodeType!==8;){if(!x){y=null;break t}if(y=Xs(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){ar=Xs(y.nextSibling),u=y.data==="F!";break e}}gl(u)}u=!1}u&&(a=l[0])}}return l=Ni(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:a},l.queue=u,l=J2.bind(null,Et,u),u.dispatch=l,u=mu(!1),x=w0.bind(null,Et,!1,u.queue),u=Ni(),y={state:a,dispatch:null,action:r,pending:null},u.queue=y,l=x0.bind(null,Et,y,x,l),y.dispatch=l,u.memoizedState=r,[a,l,!1]}function nh(r){var a=Qn();return uc(a,Dt,r)}function uc(r,a,l){if(a=oc(r,a,dd)[0],r=hu(Ui)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Do(a)}catch(U){throw U===H?K:U}else u=a;a=Qn();var y=a.queue,x=y.dispatch;return l!==a.memoizedState&&(Et.flags|=2048,Ys(9,gu(),Jf.bind(null,y,l),null)),[u,x,r]}function Jf(r,a){r.action=a}function Zf(r){var a=Qn(),l=Dt;if(l!==null)return uc(a,l,r);Qn(),a=a.memoizedState,l=Qn();var u=l.queue.dispatch;return l.memoizedState=r,[a,u,!1]}function Ys(r,a,l,u){return r={tag:r,create:l,deps:u,inst:a,next:null},a=Et.updateQueue,a===null&&(a=bl(),Et.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,a.lastEffect=r),r}function gu(){return{destroy:void 0,resource:void 0}}function rh(){return Qn().memoizedState}function za(r,a,l,u){var y=Ni();u=u===void 0?null:u,Et.flags|=r,y.memoizedState=Ys(1|a,gu(),l,u)}function hc(r,a,l,u){var y=Qn();u=u===void 0?null:u;var x=y.memoizedState.inst;Dt!==null&&u!==null&&wr(u,Dt.memoizedState.deps)?y.memoizedState=Ys(a,x,l,u):(Et.flags|=r,y.memoizedState=Ys(1|a,x,l,u))}function fd(r,a){za(8390656,8,r,a)}function em(r,a){hc(2048,8,r,a)}function md(r,a){return hc(4,2,r,a)}function xl(r,a){return hc(4,4,r,a)}function tm(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function pd(r,a,l){l=l!=null?l.concat([r]):null,hc(4,4,tm.bind(null,a,r),l)}function gd(){}function yd(r,a){var l=Qn();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&wr(a,u[1])?u[0]:(l.memoizedState=[r,a],r)}function nm(r,a){var l=Qn();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&wr(a,u[1]))return u[0];if(u=r(),Ir){$t(!0);try{r()}finally{$t(!1)}}return l.memoizedState=[u,a],u}function wl(r,a,l){return l===void 0||(Ln&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=Ky(),Et.lanes|=r,vc|=r,l)}function ih(r,a,l,u){return Br(l,a)?l:Xt.current!==null?(r=wl(r,l,u),Br(r,a)||(hi=!0),r):(Ln&42)===0?(hi=!0,r.memoizedState=l):(r=Ky(),Et.lanes|=r,vc|=r,a)}function yu(r,a,l,u,y){var x=he.p;he.p=x!==0&&8>x?x:8;var U=re.T,Q={};re.T=Q,w0(r,!1,a,l);try{var me=y(),Me=re.S;if(Me!==null&&Me(Q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var qe=Yf(me,u);wd(r,a,qe,$a(r))}else wd(r,a,u,$a(r))}catch(We){wd(r,a,{then:function(){},status:"rejected",reason:We},$a())}finally{he.p=x,re.T=U}}function Ks(){}function gs(r,a,l,u){if(r.tag!==5)throw Error(i(476));var y=Ws(r).queue;yu(r,y,a,oe,l===null?Ks:function(){return vu(r),l(u)})}function Ws(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:oe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function vu(r){var a=Ws(r).next.queue;wd(r,a,{},$a())}function bu(){return Rr(Ud)}function vd(){return Qn().memoizedState}function rm(){return Qn().memoizedState}function bd(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=$a();r=ze(l);var u=Ke(a,r,l);u!==null&&(Ya(u,a,l),He(u,a,l)),a={cache:ld()},r.payload=a;return}a=a.return}}function xd(r,a,l){var u=$a();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},im(r)?Z2(a,l):(l=To(r,a,l,u),l!==null&&(Ya(l,r,u),ey(l,a,u)))}function J2(r,a,l){var u=$a();wd(r,a,l,u)}function wd(r,a,l,u){var y={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(im(r))Z2(a,y);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var U=a.lastRenderedState,Q=x(U,l);if(y.hasEagerState=!0,y.eagerState=Q,Br(Q,U))return Eo(r,a,y,0),Kn===null&&ya(),!1}catch{}finally{}if(l=To(r,a,y,u),l!==null)return Ya(l,r,u),ey(l,a,u),!0}return!1}function w0(r,a,l,u){if(u={lane:2,revertLane:Z0(),action:u,hasEagerState:!1,eagerState:null,next:null},im(r)){if(a)throw Error(i(479))}else a=To(r,l,u,2),a!==null&&Ya(a,r,2)}function im(r){var a=r.alternate;return r===Et||a!==null&&a===Et}function Z2(r,a){qr=pn=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function ey(r,a,l){if((l&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,l|=u,a.lanes=l,cn(r,l)}}var am={readContext:Rr,use:Vi,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An},ty={readContext:Rr,use:Vi,useCallback:function(r,a){return Ni().memoizedState=[r,a===void 0?null:a],r},useContext:Rr,useEffect:fd,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,za(4194308,4,tm.bind(null,a,r),l)},useLayoutEffect:function(r,a){return za(4194308,4,r,a)},useInsertionEffect:function(r,a){za(4,2,r,a)},useMemo:function(r,a){var l=Ni();a=a===void 0?null:a;var u=r();if(Ir){$t(!0);try{r()}finally{$t(!1)}}return l.memoizedState=[u,a],u},useReducer:function(r,a,l){var u=Ni();if(l!==void 0){var y=l(a);if(Ir){$t(!0);try{l(a)}finally{$t(!1)}}}else y=a;return u.memoizedState=u.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},u.queue=r,r=r.dispatch=xd.bind(null,Et,r),[u.memoizedState,r]},useRef:function(r){var a=Ni();return r={current:r},a.memoizedState=r},useState:function(r){r=mu(r);var a=r.queue,l=J2.bind(null,Et,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:gd,useDeferredValue:function(r,a){var l=Ni();return wl(l,r,a)},useTransition:function(){var r=mu(!1);return r=yu.bind(null,Et,r.queue,!0,!1),Ni().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var u=Et,y=Ni();if(vn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),Kn===null)throw Error(i(349));(gn&124)!==0||th(u,a,l)}y.memoizedState=l;var x={value:l,getSnapshot:a};return y.queue=x,fd(lc.bind(null,u,x,r),[r]),u.flags|=2048,Ys(9,gu(),fu.bind(null,u,x,l,a),null),l},useId:function(){var r=Ni(),a=Kn.identifierPrefix;if(vn){var l=zs,u=Fs;l=(u&~(1<<32-yt(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=hr++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=xa++,a="«"+a+"r"+l.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:bu,useFormState:pu,useActionState:pu,useOptimistic:function(r){var a=Ni();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=w0.bind(null,Et,!0,l),l.dispatch=a,[r,a]},useMemoCache:Po,useCacheRefresh:function(){return Ni().memoizedState=bd.bind(null,Et)}},ny={readContext:Rr,use:Vi,useCallback:yd,useContext:Rr,useEffect:em,useImperativeHandle:pd,useInsertionEffect:md,useLayoutEffect:xl,useMemo:nm,useReducer:hu,useRef:rh,useState:function(){return hu(Ui)},useDebugValue:gd,useDeferredValue:function(r,a){var l=Qn();return ih(l,Dt.memoizedState,r,a)},useTransition:function(){var r=hu(Ui)[0],a=Qn().memoizedState;return[typeof r=="boolean"?r:Do(r),a]},useSyncExternalStore:du,useId:vd,useHostTransitionStatus:bu,useFormState:nh,useActionState:nh,useOptimistic:function(r,a){var l=Qn();return $s(l,Dt,r,a)},useMemoCache:Po,useCacheRefresh:rm},G4={readContext:Rr,use:Vi,useCallback:yd,useContext:Rr,useEffect:em,useImperativeHandle:pd,useInsertionEffect:md,useLayoutEffect:xl,useMemo:nm,useReducer:eh,useRef:rh,useState:function(){return eh(Ui)},useDebugValue:gd,useDeferredValue:function(r,a){var l=Qn();return Dt===null?wl(l,r,a):ih(l,Dt.memoizedState,r,a)},useTransition:function(){var r=eh(Ui)[0],a=Qn().memoizedState;return[typeof r=="boolean"?r:Do(r),a]},useSyncExternalStore:du,useId:vd,useHostTransitionStatus:bu,useFormState:Zf,useActionState:Zf,useOptimistic:function(r,a){var l=Qn();return Dt!==null?$s(l,Dt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Po,useCacheRefresh:rm},ah=null,_d=0;function sm(r){var a=_d;return _d+=1,ah===null&&(ah=[]),Pe(ah,r,a)}function Nd(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function om(r,a){throw a.$$typeof===A?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function ry(r){var a=r._init;return a(r._payload)}function iy(r){function a(Ce,Ne){if(r){var Le=Ce.deletions;Le===null?(Ce.deletions=[Ne],Ce.flags|=16):Le.push(Ne)}}function l(Ce,Ne){if(!r)return null;for(;Ne!==null;)a(Ce,Ne),Ne=Ne.sibling;return null}function u(Ce){for(var Ne=new Map;Ce!==null;)Ce.key!==null?Ne.set(Ce.key,Ce):Ne.set(Ce.index,Ce),Ce=Ce.sibling;return Ne}function y(Ce,Ne){return Ce=hs(Ce,Ne),Ce.index=0,Ce.sibling=null,Ce}function x(Ce,Ne,Le){return Ce.index=Le,r?(Le=Ce.alternate,Le!==null?(Le=Le.index,Le<Ne?(Ce.flags|=67108866,Ne):Le):(Ce.flags|=67108866,Ne)):(Ce.flags|=1048576,Ne)}function U(Ce){return r&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function Q(Ce,Ne,Le,Ge){return Ne===null||Ne.tag!==6?(Ne=Yu(Le,Ce.mode,Ge),Ne.return=Ce,Ne):(Ne=y(Ne,Le),Ne.return=Ce,Ne)}function me(Ce,Ne,Le,Ge){var vt=Le.type;return vt===D?qe(Ce,Ne,Le.props.children,Ge,Le.key):Ne!==null&&(Ne.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===T&&ry(vt)===Ne.type)?(Ne=y(Ne,Le.props),Nd(Ne,Le),Ne.return=Ce,Ne):(Ne=fl(Le.type,Le.key,Le.props,null,Ce.mode,Ge),Nd(Ne,Le),Ne.return=Ce,Ne)}function Me(Ce,Ne,Le,Ge){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Le.containerInfo||Ne.stateNode.implementation!==Le.implementation?(Ne=au(Le,Ce.mode,Ge),Ne.return=Ce,Ne):(Ne=y(Ne,Le.children||[]),Ne.return=Ce,Ne)}function qe(Ce,Ne,Le,Ge,vt){return Ne===null||Ne.tag!==7?(Ne=Us(Le,Ce.mode,Ge,vt),Ne.return=Ce,Ne):(Ne=y(Ne,Le),Ne.return=Ce,Ne)}function We(Ce,Ne,Le){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=Yu(""+Ne,Ce.mode,Le),Ne.return=Ce,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case N:return Le=fl(Ne.type,Ne.key,Ne.props,null,Ce.mode,Le),Nd(Le,Ne),Le.return=Ce,Le;case _:return Ne=au(Ne,Ce.mode,Le),Ne.return=Ce,Ne;case T:var Ge=Ne._init;return Ne=Ge(Ne._payload),We(Ce,Ne,Le)}if(ve(Ne)||k(Ne))return Ne=Us(Ne,Ce.mode,Le,null),Ne.return=Ce,Ne;if(typeof Ne.then=="function")return We(Ce,sm(Ne),Le);if(Ne.$$typeof===J)return We(Ce,Co(Ce,Ne),Le);om(Ce,Ne)}return null}function Ve(Ce,Ne,Le,Ge){var vt=Ne!==null?Ne.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return vt!==null?null:Q(Ce,Ne,""+Le,Ge);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case N:return Le.key===vt?me(Ce,Ne,Le,Ge):null;case _:return Le.key===vt?Me(Ce,Ne,Le,Ge):null;case T:return vt=Le._init,Le=vt(Le._payload),Ve(Ce,Ne,Le,Ge)}if(ve(Le)||k(Le))return vt!==null?null:qe(Ce,Ne,Le,Ge,null);if(typeof Le.then=="function")return Ve(Ce,Ne,sm(Le),Ge);if(Le.$$typeof===J)return Ve(Ce,Ne,Co(Ce,Le),Ge);om(Ce,Le)}return null}function Ue(Ce,Ne,Le,Ge,vt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ce=Ce.get(Le)||null,Q(Ne,Ce,""+Ge,vt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case N:return Ce=Ce.get(Ge.key===null?Le:Ge.key)||null,me(Ne,Ce,Ge,vt);case _:return Ce=Ce.get(Ge.key===null?Le:Ge.key)||null,Me(Ne,Ce,Ge,vt);case T:var an=Ge._init;return Ge=an(Ge._payload),Ue(Ce,Ne,Le,Ge,vt)}if(ve(Ge)||k(Ge))return Ce=Ce.get(Le)||null,qe(Ne,Ce,Ge,vt,null);if(typeof Ge.then=="function")return Ue(Ce,Ne,Le,sm(Ge),vt);if(Ge.$$typeof===J)return Ue(Ce,Ne,Le,Co(Ne,Ge),vt);om(Ne,Ge)}return null}function Vt(Ce,Ne,Le,Ge){for(var vt=null,an=null,Nt=Ne,It=Ne=0,fi=null;Nt!==null&&It<Le.length;It++){Nt.index>It?(fi=Nt,Nt=null):fi=Nt.sibling;var Sn=Ve(Ce,Nt,Le[It],Ge);if(Sn===null){Nt===null&&(Nt=fi);break}r&&Nt&&Sn.alternate===null&&a(Ce,Nt),Ne=x(Sn,Ne,It),an===null?vt=Sn:an.sibling=Sn,an=Sn,Nt=fi}if(It===Le.length)return l(Ce,Nt),vn&&pl(Ce,It),vt;if(Nt===null){for(;It<Le.length;It++)Nt=We(Ce,Le[It],Ge),Nt!==null&&(Ne=x(Nt,Ne,It),an===null?vt=Nt:an.sibling=Nt,an=Nt);return vn&&pl(Ce,It),vt}for(Nt=u(Nt);It<Le.length;It++)fi=Ue(Nt,Ce,It,Le[It],Ge),fi!==null&&(r&&fi.alternate!==null&&Nt.delete(fi.key===null?It:fi.key),Ne=x(fi,Ne,It),an===null?vt=fi:an.sibling=fi,an=fi);return r&&Nt.forEach(function(Tc){return a(Ce,Tc)}),vn&&pl(Ce,It),vt}function Rt(Ce,Ne,Le,Ge){if(Le==null)throw Error(i(151));for(var vt=null,an=null,Nt=Ne,It=Ne=0,fi=null,Sn=Le.next();Nt!==null&&!Sn.done;It++,Sn=Le.next()){Nt.index>It?(fi=Nt,Nt=null):fi=Nt.sibling;var Tc=Ve(Ce,Nt,Sn.value,Ge);if(Tc===null){Nt===null&&(Nt=fi);break}r&&Nt&&Tc.alternate===null&&a(Ce,Nt),Ne=x(Tc,Ne,It),an===null?vt=Tc:an.sibling=Tc,an=Tc,Nt=fi}if(Sn.done)return l(Ce,Nt),vn&&pl(Ce,It),vt;if(Nt===null){for(;!Sn.done;It++,Sn=Le.next())Sn=We(Ce,Sn.value,Ge),Sn!==null&&(Ne=x(Sn,Ne,It),an===null?vt=Sn:an.sibling=Sn,an=Sn);return vn&&pl(Ce,It),vt}for(Nt=u(Nt);!Sn.done;It++,Sn=Le.next())Sn=Ue(Nt,Ce,It,Sn.value,Ge),Sn!==null&&(r&&Sn.alternate!==null&&Nt.delete(Sn.key===null?It:Sn.key),Ne=x(Sn,Ne,It),an===null?vt=Sn:an.sibling=Sn,an=Sn);return r&&Nt.forEach(function($3){return a(Ce,$3)}),vn&&pl(Ce,It),vt}function qn(Ce,Ne,Le,Ge){if(typeof Le=="object"&&Le!==null&&Le.type===D&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case N:e:{for(var vt=Le.key;Ne!==null;){if(Ne.key===vt){if(vt=Le.type,vt===D){if(Ne.tag===7){l(Ce,Ne.sibling),Ge=y(Ne,Le.props.children),Ge.return=Ce,Ce=Ge;break e}}else if(Ne.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===T&&ry(vt)===Ne.type){l(Ce,Ne.sibling),Ge=y(Ne,Le.props),Nd(Ge,Le),Ge.return=Ce,Ce=Ge;break e}l(Ce,Ne);break}else a(Ce,Ne);Ne=Ne.sibling}Le.type===D?(Ge=Us(Le.props.children,Ce.mode,Ge,Le.key),Ge.return=Ce,Ce=Ge):(Ge=fl(Le.type,Le.key,Le.props,null,Ce.mode,Ge),Nd(Ge,Le),Ge.return=Ce,Ce=Ge)}return U(Ce);case _:e:{for(vt=Le.key;Ne!==null;){if(Ne.key===vt)if(Ne.tag===4&&Ne.stateNode.containerInfo===Le.containerInfo&&Ne.stateNode.implementation===Le.implementation){l(Ce,Ne.sibling),Ge=y(Ne,Le.children||[]),Ge.return=Ce,Ce=Ge;break e}else{l(Ce,Ne);break}else a(Ce,Ne);Ne=Ne.sibling}Ge=au(Le,Ce.mode,Ge),Ge.return=Ce,Ce=Ge}return U(Ce);case T:return vt=Le._init,Le=vt(Le._payload),qn(Ce,Ne,Le,Ge)}if(ve(Le))return Vt(Ce,Ne,Le,Ge);if(k(Le)){if(vt=k(Le),typeof vt!="function")throw Error(i(150));return Le=vt.call(Le),Rt(Ce,Ne,Le,Ge)}if(typeof Le.then=="function")return qn(Ce,Ne,sm(Le),Ge);if(Le.$$typeof===J)return qn(Ce,Ne,Co(Ce,Le),Ge);om(Ce,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Ne!==null&&Ne.tag===6?(l(Ce,Ne.sibling),Ge=y(Ne,Le),Ge.return=Ce,Ce=Ge):(l(Ce,Ne),Ge=Yu(Le,Ce.mode,Ge),Ge.return=Ce,Ce=Ge),U(Ce)):l(Ce,Ne)}return function(Ce,Ne,Le,Ge){try{_d=0;var vt=qn(Ce,Ne,Le,Ge);return ah=null,vt}catch(Nt){if(Nt===H||Nt===K)throw Nt;var an=ui(29,Nt,null,Ce.mode);return an.lanes=Ge,an.return=Ce,an}finally{}}}var sh=iy(!0),ay=iy(!1),ys=Re(null),Oo=null;function dc(r){var a=r.alternate;Y(ti,ti.current&1),Y(ys,r),Oo===null&&(a===null||Xt.current!==null||a.memoizedState!==null)&&(Oo=r)}function sy(r){if(r.tag===22){if(Y(ti,ti.current),Y(ys,r),Oo===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Oo=r)}}else fc()}function fc(){Y(ti,ti.current),Y(ys,ys.current)}function _l(r){B(ys),Oo===r&&(Oo=null),B(ti)}var ti=Re(0);function lm(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||hg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function _0(r,a,l,u){a=r.memoizedState,l=l(u,a),l=l==null?a:b({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var N0={enqueueSetState:function(r,a,l){r=r._reactInternals;var u=$a(),y=ze(u);y.payload=a,l!=null&&(y.callback=l),a=Ke(r,y,u),a!==null&&(Ya(a,r,u),He(a,r,u))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var u=$a(),y=ze(u);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=Ke(r,y,u),a!==null&&(Ya(a,r,u),He(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=$a(),u=ze(l);u.tag=2,a!=null&&(u.callback=a),a=Ke(r,u,l),a!==null&&(Ya(a,r,l),He(a,r,l))}};function oy(r,a,l,u,y,x,U){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,x,U):a.prototype&&a.prototype.isPureReactComponent?!bo(l,u)||!bo(y,x):!0}function ly(r,a,l,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==r&&N0.enqueueReplaceState(a,a.state,null)}function xu(r,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(r=r.defaultProps){l===a&&(l=b({},l));for(var y in r)l[y]===void 0&&(l[y]=r[y])}return l}var cm=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function cy(r){cm(r)}function uy(r){console.error(r)}function hy(r){cm(r)}function um(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function dy(r,a,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function A0(r,a,l){return l=ze(l),l.tag=3,l.payload={element:null},l.callback=function(){um(r,a)},l}function fy(r){return r=ze(r),r.tag=3,r}function my(r,a,l,u){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var x=u.value;r.payload=function(){return y(x)},r.callback=function(){dy(a,l,u)}}var U=l.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(r.callback=function(){dy(a,l,u),typeof y!="function"&&(bc===null?bc=new Set([this]):bc.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})})}function $4(r,a,l,u,y){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&sc(a,l,y,!0),l=ys.current,l!==null){switch(l.tag){case 13:return Oo===null?K0():l.alternate===null&&_r===0&&(_r=3),l.flags&=-257,l.flags|=65536,l.lanes=y,u===Z?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Q0(r,u,y)),!1;case 22:return l.flags|=65536,u===Z?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Q0(r,u,y)),!1}throw Error(i(435,l.tag))}return Q0(r,u,y),K0(),!1}if(vn)return a=ys.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,u!==od&&(r=Error(i(422),{cause:u}),ac(Zt(r,l)))):(u!==od&&(a=Error(i(423),{cause:u}),ac(Zt(a,l))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,u=Zt(u,l),y=A0(r.stateNode,u,y),ft(r,y),_r!==4&&(_r=2)),!1;var x=Error(i(520),{cause:u});if(x=Zt(x,l),Rd===null?Rd=[x]:Rd.push(x),_r!==4&&(_r=2),a===null)return!0;u=Zt(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=y&-y,l.lanes|=r,r=A0(l.stateNode,u,r),ft(l,r),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(bc===null||!bc.has(x))))return l.flags|=65536,y&=-y,l.lanes|=y,y=fy(y),my(y,r,l,u),ft(l,y),!1}l=l.return}while(l!==null);return!1}var py=Error(i(461)),hi=!1;function Ai(r,a,l,u){a.child=r===null?ay(a,null,l,u):sh(a,r.child,l,u)}function gy(r,a,l,u,y){l=l.render;var x=a.ref;if("ref"in u){var U={};for(var Q in u)Q!=="ref"&&(U[Q]=u[Q])}else U=u;return ps(a),u=Fa(r,a,l,U,x,y),Q=Yn(),r!==null&&!hi?(uu(r,a,y),Nl(r,a,y)):(vn&&Q&&su(a),a.flags|=1,Ai(r,a,u,y),a.child)}function yy(r,a,l,u,y){if(r===null){var x=l.type;return typeof x=="function"&&!rc(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,vy(r,a,x,u,y)):(r=fl(l.type,null,u,a,a.mode,y),r.ref=a.ref,r.return=a,a.child=r)}if(x=r.child,!I0(r,y)){var U=x.memoizedProps;if(l=l.compare,l=l!==null?l:bo,l(U,u)&&r.ref===a.ref)return Nl(r,a,y)}return a.flags|=1,r=hs(x,u),r.ref=a.ref,r.return=a,a.child=r}function vy(r,a,l,u,y){if(r!==null){var x=r.memoizedProps;if(bo(x,u)&&r.ref===a.ref)if(hi=!1,a.pendingProps=u=x,I0(r,y))(r.flags&131072)!==0&&(hi=!0);else return a.lanes=r.lanes,Nl(r,a,y)}return S0(r,a,l,u,y)}function by(r,a,l){var u=a.pendingProps,y=u.children,x=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=x!==null?x.baseLanes|l:l,r!==null){for(y=a.child=r.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;a.childLanes=x&~u}else a.childLanes=0,a.child=null;return xy(r,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&j(a,x!==null?x.cachePool:null),x!==null?Rn(a,x):Nn(),sy(a);else return a.lanes=a.childLanes=536870912,xy(r,a,x!==null?x.baseLanes|l:l,l)}else x!==null?(j(a,x.cachePool),Rn(a,x),fc(),a.memoizedState=null):(r!==null&&j(a,null),Nn(),fc());return Ai(r,a,y,l),a.child}function xy(r,a,l,u){var y=S();return y=y===null?null:{parent:Cr._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},r!==null&&j(a,null),Nn(),sy(a),r!==null&&sc(r,a,u,!0),null}function hm(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function S0(r,a,l,u,y){return ps(a),l=Fa(r,a,l,u,void 0,y),u=Yn(),r!==null&&!hi?(uu(r,a,y),Nl(r,a,y)):(vn&&u&&su(a),a.flags|=1,Ai(r,a,l,y),a.child)}function wy(r,a,l,u,y,x){return ps(a),a.updateQueue=null,l=vl(a,u,l,y),Io(r),u=Yn(),r!==null&&!hi?(uu(r,a,x),Nl(r,a,x)):(vn&&u&&su(a),a.flags|=1,Ai(r,a,l,x),a.child)}function _y(r,a,l,u,y){if(ps(a),a.stateNode===null){var x=Fr,U=l.contextType;typeof U=="object"&&U!==null&&(x=Rr(U)),x=new l(u,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=N0,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=u,x.state=a.memoizedState,x.refs={},xe(a),U=l.contextType,x.context=typeof U=="object"&&U!==null?Rr(U):Fr,x.state=a.memoizedState,U=l.getDerivedStateFromProps,typeof U=="function"&&(_0(a,l,U,u),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(U=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),U!==x.state&&N0.enqueueReplaceState(x,x.state,null),ut(a,u,x,y),_t(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){x=a.stateNode;var Q=a.memoizedProps,me=xu(l,Q);x.props=me;var Me=x.context,qe=l.contextType;U=Fr,typeof qe=="object"&&qe!==null&&(U=Rr(qe));var We=l.getDerivedStateFromProps;qe=typeof We=="function"||typeof x.getSnapshotBeforeUpdate=="function",Q=a.pendingProps!==Q,qe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Q||Me!==U)&&ly(a,x,u,U),Be=!1;var Ve=a.memoizedState;x.state=Ve,ut(a,u,x,y),_t(),Me=a.memoizedState,Q||Ve!==Me||Be?(typeof We=="function"&&(_0(a,l,We,u),Me=a.memoizedState),(me=Be||oy(a,l,me,u,Ve,Me,U))?(qe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Me),x.props=u,x.state=Me,x.context=U,u=me):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{x=a.stateNode,Ae(r,a),U=a.memoizedProps,qe=xu(l,U),x.props=qe,We=a.pendingProps,Ve=x.context,Me=l.contextType,me=Fr,typeof Me=="object"&&Me!==null&&(me=Rr(Me)),Q=l.getDerivedStateFromProps,(Me=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(U!==We||Ve!==me)&&ly(a,x,u,me),Be=!1,Ve=a.memoizedState,x.state=Ve,ut(a,u,x,y),_t();var Ue=a.memoizedState;U!==We||Ve!==Ue||Be||r!==null&&r.dependencies!==null&&Xu(r.dependencies)?(typeof Q=="function"&&(_0(a,l,Q,u),Ue=a.memoizedState),(qe=Be||oy(a,l,qe,u,Ve,Ue,me)||r!==null&&r.dependencies!==null&&Xu(r.dependencies))?(Me||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Ue,me),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Ue,me)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||U===r.memoizedProps&&Ve===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Ve===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Ue),x.props=u,x.state=Ue,x.context=me,u=qe):(typeof x.componentDidUpdate!="function"||U===r.memoizedProps&&Ve===r.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||U===r.memoizedProps&&Ve===r.memoizedState||(a.flags|=1024),u=!1)}return x=u,hm(r,a),u=(a.flags&128)!==0,x||u?(x=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,r!==null&&u?(a.child=sh(a,r.child,null,y),a.child=sh(a,null,l,y)):Ai(r,a,l,y),a.memoizedState=x.state,r=a.child):r=Nl(r,a,y),r}function Ny(r,a,l,u){return ra(),a.flags|=256,Ai(r,a,l,u),a.child}var E0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T0(r){return{baseLanes:r,cachePool:z()}}function k0(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=vs),r}function Ay(r,a,l){var u=a.pendingProps,y=!1,x=(a.flags&128)!==0,U;if((U=x)||(U=r!==null&&r.memoizedState===null?!1:(ti.current&2)!==0),U&&(y=!0,a.flags&=-129),U=(a.flags&32)!==0,a.flags&=-33,r===null){if(vn){if(y?dc(a):fc(),vn){var Q=ar,me;if(me=Q){e:{for(me=Q,Q=ds;me.nodeType!==8;){if(!Q){Q=null;break e}if(me=Xs(me.nextSibling),me===null){Q=null;break e}}Q=me}Q!==null?(a.memoizedState={dehydrated:Q,treeContext:ml!==null?{id:Fs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},me=ui(18,null,null,0),me.stateNode=Q,me.return=a,a.child=me,jr=a,ar=null,me=!0):me=!1}me||gl(a)}if(Q=a.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return hg(Q)?a.lanes=32:a.lanes=536870912,null;_l(a)}return Q=u.children,u=u.fallback,y?(fc(),y=a.mode,Q=dm({mode:"hidden",children:Q},y),u=Us(u,y,l,null),Q.return=a,u.return=a,Q.sibling=u,a.child=Q,y=a.child,y.memoizedState=T0(l),y.childLanes=k0(r,U,l),a.memoizedState=E0,u):(dc(a),j0(a,Q))}if(me=r.memoizedState,me!==null&&(Q=me.dehydrated,Q!==null)){if(x)a.flags&256?(dc(a),a.flags&=-257,a=R0(r,a,l)):a.memoizedState!==null?(fc(),a.child=r.child,a.flags|=128,a=null):(fc(),y=u.fallback,Q=a.mode,u=dm({mode:"visible",children:u.children},Q),y=Us(y,Q,l,null),y.flags|=2,u.return=a,y.return=a,u.sibling=y,a.child=u,sh(a,r.child,null,l),u=a.child,u.memoizedState=T0(l),u.childLanes=k0(r,U,l),a.memoizedState=E0,a=y);else if(dc(a),hg(Q)){if(U=Q.nextSibling&&Q.nextSibling.dataset,U)var Me=U.dgst;U=Me,u=Error(i(419)),u.stack="",u.digest=U,ac({value:u,source:null,stack:null}),a=R0(r,a,l)}else if(hi||sc(r,a,l,!1),U=(l&r.childLanes)!==0,hi||U){if(U=Kn,U!==null&&(u=l&-l,u=(u&42)!==0?1:ki(u),u=(u&(U.suspendedLanes|l))!==0?0:u,u!==0&&u!==me.retryLane))throw me.retryLane=u,Vs(r,u),Ya(U,r,u),py;Q.data==="$?"||K0(),a=R0(r,a,l)}else Q.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=me.treeContext,ar=Xs(Q.nextSibling),jr=a,vn=!0,jo=null,ds=!1,r!==null&&(ba[na++]=Fs,ba[na++]=zs,ba[na++]=ml,Fs=r.id,zs=r.overflow,ml=a),a=j0(a,u.children),a.flags|=4096);return a}return y?(fc(),y=u.fallback,Q=a.mode,me=r.child,Me=me.sibling,u=hs(me,{mode:"hidden",children:u.children}),u.subtreeFlags=me.subtreeFlags&65011712,Me!==null?y=hs(Me,y):(y=Us(y,Q,l,null),y.flags|=2),y.return=a,u.return=a,u.sibling=y,a.child=u,u=y,y=a.child,Q=r.child.memoizedState,Q===null?Q=T0(l):(me=Q.cachePool,me!==null?(Me=Cr._currentValue,me=me.parent!==Me?{parent:Me,pool:Me}:me):me=z(),Q={baseLanes:Q.baseLanes|l,cachePool:me}),y.memoizedState=Q,y.childLanes=k0(r,U,l),a.memoizedState=E0,u):(dc(a),l=r.child,r=l.sibling,l=hs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,r!==null&&(U=a.deletions,U===null?(a.deletions=[r],a.flags|=16):U.push(r)),a.child=l,a.memoizedState=null,l)}function j0(r,a){return a=dm({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function dm(r,a){return r=ui(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function R0(r,a,l){return sh(a,r.child,null,l),r=j0(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Sy(r,a,l){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Wu(r.return,a,l)}function C0(r,a,l,u,y){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:y}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=y)}function Ey(r,a,l){var u=a.pendingProps,y=u.revealOrder,x=u.tail;if(Ai(r,a,u.children,l),u=ti.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Sy(r,l,a);else if(r.tag===19)Sy(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Y(ti,u),y){case"forwards":for(l=a.child,y=null;l!==null;)r=l.alternate,r!==null&&lm(r)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),C0(a,!1,y,l,x);break;case"backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(r=y.alternate,r!==null&&lm(r)===null){a.child=y;break}r=y.sibling,y.sibling=l,l=y,y=r}C0(a,!0,l,null,x);break;case"together":C0(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Nl(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),vc|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(sc(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=hs(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=hs(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function I0(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Xu(r)))}function Y4(r,a,l){switch(a.tag){case 3:we(a,a.stateNode.containerInfo),Ro(a,Cr,r.memoizedState.cache),ra();break;case 27:case 5:nt(a);break;case 4:we(a,a.stateNode.containerInfo);break;case 10:Ro(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(dc(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Ay(r,a,l):(dc(a),r=Nl(r,a,l),r!==null?r.sibling:null);dc(a);break;case 19:var y=(r.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(sc(r,a,l,!1),u=(l&a.childLanes)!==0),y){if(u)return Ey(r,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Y(ti,ti.current),u)break;return null;case 22:case 23:return a.lanes=0,by(r,a,l);case 24:Ro(a,Cr,r.memoizedState.cache)}return Nl(r,a,l)}function Ty(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)hi=!0;else{if(!I0(r,l)&&(a.flags&128)===0)return hi=!1,Y4(r,a,l);hi=(r.flags&131072)!==0}else hi=!1,vn&&(a.flags&1048576)!==0&&zf(a,Ku,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,y=u._init;if(u=y(u._payload),a.type=u,typeof u=="function")rc(u)?(r=xu(u,r),a.tag=1,a=_y(null,a,u,r,l)):(a.tag=0,a=S0(null,a,u,r,l));else{if(u!=null){if(y=u.$$typeof,y===se){a.tag=11,a=gy(null,a,u,r,l);break e}else if(y===F){a.tag=14,a=yy(null,a,u,r,l);break e}}throw a=ee(u)||u,Error(i(306,a,""))}}return a;case 0:return S0(r,a,a.type,a.pendingProps,l);case 1:return u=a.type,y=xu(u,a.pendingProps),_y(r,a,u,y,l);case 3:e:{if(we(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var x=a.memoizedState;y=x.element,Ae(r,a),ut(a,u,null,l);var U=a.memoizedState;if(u=U.cache,Ro(a,Cr,u),u!==x.cache&&Qu(a,[Cr],l,!0),_t(),u=U.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:U.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=Ny(r,a,u,l);break e}else if(u!==y){y=Zt(Error(i(424)),a),ac(y),a=Ny(r,a,u,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ar=Xs(r.firstChild),jr=a,vn=!0,jo=null,ds=!0,l=ay(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ra(),u===y){a=Nl(r,a,l);break e}Ai(r,a,u,l)}a=a.child}return a;case 26:return hm(r,a),r===null?(l=Cv(a.type,null,a.pendingProps,null))?a.memoizedState=l:vn||(l=a.type,r=a.pendingProps,u=Em(ne.current).createElement(l),u[Tn]=a,u[kn]=r,Ei(u,l,r),bn(u),a.stateNode=u):a.memoizedState=Cv(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return nt(a),r===null&&vn&&(u=a.stateNode=kv(a.type,a.pendingProps,ne.current),jr=a,ds=!0,y=ar,_c(a.type)?(dg=y,ar=Xs(u.firstChild)):ar=y),Ai(r,a,a.pendingProps.children,l),hm(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&vn&&((y=u=ar)&&(u=w3(u,a.type,a.pendingProps,ds),u!==null?(a.stateNode=u,jr=a,ar=Xs(u.firstChild),ds=!1,y=!0):y=!1),y||gl(a)),nt(a),y=a.type,x=a.pendingProps,U=r!==null?r.memoizedProps:null,u=x.children,lg(y,x)?u=null:U!==null&&lg(y,U)&&(a.flags|=32),a.memoizedState!==null&&(y=Fa(r,a,Lo,null,null,l),Ud._currentValue=y),hm(r,a),Ai(r,a,u,l),a.child;case 6:return r===null&&vn&&((r=l=ar)&&(l=_3(l,a.pendingProps,ds),l!==null?(a.stateNode=l,jr=a,ar=null,r=!0):r=!1),r||gl(a)),null;case 13:return Ay(r,a,l);case 4:return we(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=sh(a,null,u,l):Ai(r,a,u,l),a.child;case 11:return gy(r,a,a.type,a.pendingProps,l);case 7:return Ai(r,a,a.pendingProps,l),a.child;case 8:return Ai(r,a,a.pendingProps.children,l),a.child;case 12:return Ai(r,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ro(a,a.type,u.value),Ai(r,a,u.children,l),a.child;case 9:return y=a.type._context,u=a.pendingProps.children,ps(a),y=Rr(y),u=u(y),a.flags|=1,Ai(r,a,u,l),a.child;case 14:return yy(r,a,a.type,a.pendingProps,l);case 15:return vy(r,a,a.type,a.pendingProps,l);case 19:return Ey(r,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},r===null?(l=dm(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=hs(r.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return by(r,a,l);case 24:return ps(a),u=Rr(Cr),r===null?(y=S(),y===null&&(y=Kn,x=ld(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=l),y=x),a.memoizedState={parent:u,cache:y},xe(a),Ro(a,Cr,y)):((r.lanes&l)!==0&&(Ae(r,a),ut(a,null,null,l),_t()),y=r.memoizedState,x=a.memoizedState,y.parent!==u?(y={parent:u,cache:u},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Ro(a,Cr,u)):(u=x.cache,Ro(a,Cr,u),u!==y.cache&&Qu(a,[Cr],l,!0))),Ai(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Al(r){r.flags|=4}function ky(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ov(a)){if(a=ys.current,a!==null&&((gn&4194048)===gn?Oo!==null:(gn&62914560)!==gn&&(gn&536870912)===0||a!==Oo))throw Ie=Z,$;r.flags|=8192}}function fm(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Mn():536870912,r.lanes|=a,uh|=a)}function Ad(r,a){if(!vn)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function fr(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(a)for(var y=r.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags&65011712,u|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)l|=y.lanes|y.childLanes,u|=y.subtreeFlags,u|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=u,r.childLanes=l,a}function K4(r,a,l){var u=a.pendingProps;switch(ou(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(a),null;case 1:return fr(a),null;case 3:return l=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ms(Cr),Se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(_i(a)?Al(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hf())),fr(a),null;case 26:return l=a.memoizedState,r===null?(Al(a),l!==null?(fr(a),ky(a,l)):(fr(a),a.flags&=-16777217)):l?l!==r.memoizedState?(Al(a),fr(a),ky(a,l)):(fr(a),a.flags&=-16777217):(r.memoizedProps!==u&&Al(a),fr(a),a.flags&=-16777217),null;case 27:Ze(a),l=ne.current;var y=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Al(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return fr(a),null}r=te.current,_i(a)?qf(a):(r=kv(y,u,l),a.stateNode=r,Al(a))}return fr(a),null;case 5:if(Ze(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Al(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return fr(a),null}if(r=te.current,_i(a))qf(a);else{switch(y=Em(ne.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?y.createElement("select",{is:u.is}):y.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?y.createElement(l,{is:u.is}):y.createElement(l)}}r[Tn]=a,r[kn]=u;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=r;e:switch(Ei(r,l,u),l){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Al(a)}}return fr(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&Al(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=ne.current,_i(a)){if(r=a.stateNode,l=a.memoizedProps,u=null,y=jr,y!==null)switch(y.tag){case 27:case 5:u=y.memoizedProps}r[Tn]=a,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||wv(r.nodeValue,l)),r||gl(a)}else r=Em(r).createTextNode(u),r[Tn]=a,a.stateNode=r}return fr(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=_i(a),u!==null&&u.dehydrated!==null){if(r===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Tn]=a}else ra(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fr(a),y=!1}else y=Hf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(_l(a),a):(_l(a),null)}if(_l(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,r=r!==null&&r.memoizedState!==null,l){u=a.child,y=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(y=u.alternate.memoizedState.cachePool.pool);var x=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==y&&(u.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),fm(a,a.updateQueue),fr(a),null;case 4:return Se(),r===null&&rg(a.stateNode.containerInfo),fr(a),null;case 10:return ms(a.type),fr(a),null;case 19:if(B(ti),y=a.memoizedState,y===null)return fr(a),null;if(u=(a.flags&128)!==0,x=y.rendering,x===null)if(u)Ad(y,!1);else{if(_r!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(x=lm(r),x!==null){for(a.flags|=128,Ad(y,!1),r=x.updateQueue,a.updateQueue=r,fm(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)iu(l,r),l=l.sibling;return Y(ti,ti.current&1|2),a.child}r=r.sibling}y.tail!==null&&lt()>gm&&(a.flags|=128,u=!0,Ad(y,!1),a.lanes=4194304)}else{if(!u)if(r=lm(x),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,fm(a,r),Ad(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!vn)return fr(a),null}else 2*lt()-y.renderingStartTime>gm&&l!==536870912&&(a.flags|=128,u=!0,Ad(y,!1),a.lanes=4194304);y.isBackwards?(x.sibling=a.child,a.child=x):(r=y.last,r!==null?r.sibling=x:a.child=x,y.last=x)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=lt(),a.sibling=null,r=ti.current,Y(ti,u?r&1|2:r&1),a):(fr(a),null);case 22:case 23:return _l(a),Ft(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(fr(a),a.subtreeFlags&6&&(a.flags|=8192)):fr(a),l=a.updateQueue,l!==null&&fm(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),r!==null&&B(v),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ms(Cr),fr(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function W4(r,a){switch(ou(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return ms(Cr),Se(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ze(a),null;case 13:if(_l(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ra()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return B(ti),null;case 4:return Se(),null;case 10:return ms(a.type),null;case 22:case 23:return _l(a),Ft(),r!==null&&B(v),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return ms(Cr),null;case 25:return null;default:return null}}function jy(r,a){switch(ou(a),a.tag){case 3:ms(Cr),Se();break;case 26:case 27:case 5:Ze(a);break;case 4:Se();break;case 13:_l(a);break;case 19:B(ti);break;case 10:ms(a.type);break;case 22:case 23:_l(a),Ft(),r!==null&&B(v);break;case 24:ms(Cr)}}function Sd(r,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var y=u.next;l=y;do{if((l.tag&r)===r){u=void 0;var x=l.create,U=l.inst;u=x(),U.destroy=u}l=l.next}while(l!==y)}}catch(Q){Gn(a,a.return,Q)}}function mc(r,a,l){try{var u=a.updateQueue,y=u!==null?u.lastEffect:null;if(y!==null){var x=y.next;u=x;do{if((u.tag&r)===r){var U=u.inst,Q=U.destroy;if(Q!==void 0){U.destroy=void 0,y=a;var me=l,Me=Q;try{Me()}catch(qe){Gn(y,me,qe)}}}u=u.next}while(u!==x)}}catch(qe){Gn(a,a.return,qe)}}function Ry(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{_n(a,l)}catch(u){Gn(r,r.return,u)}}}function Cy(r,a,l){l.props=xu(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){Gn(r,a,u)}}function Ed(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(y){Gn(r,a,y)}}function Mo(r,a){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(y){Gn(r,a,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Gn(r,a,y)}else l.current=null}function Iy(r){var a=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(y){Gn(r,r.return,y)}}function L0(r,a,l){try{var u=r.stateNode;g3(u,r.type,l,a),u[kn]=a}catch(y){Gn(r,r.return,y)}}function Ly(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_c(r.type)||r.tag===4}function D0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ly(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_c(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function P0(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Sm));else if(u!==4&&(u===27&&_c(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(P0(r,a,l),r=r.sibling;r!==null;)P0(r,a,l),r=r.sibling}function mm(r,a,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(u!==4&&(u===27&&_c(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(mm(r,a,l),r=r.sibling;r!==null;)mm(r,a,l),r=r.sibling}function Dy(r){var a=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Ei(a,u,l),a[Tn]=r,a[kn]=l}catch(x){Gn(r,r.return,x)}}var Sl=!1,Lr=!1,O0=!1,Py=typeof WeakSet=="function"?WeakSet:Set,di=null;function Q4(r,a){if(r=r.containerInfo,sg=Im,r=wi(r),ei(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var y=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var U=0,Q=-1,me=-1,Me=0,qe=0,We=r,Ve=null;t:for(;;){for(var Ue;We!==l||y!==0&&We.nodeType!==3||(Q=U+y),We!==x||u!==0&&We.nodeType!==3||(me=U+u),We.nodeType===3&&(U+=We.nodeValue.length),(Ue=We.firstChild)!==null;)Ve=We,We=Ue;for(;;){if(We===r)break t;if(Ve===l&&++Me===y&&(Q=U),Ve===x&&++qe===u&&(me=U),(Ue=We.nextSibling)!==null)break;We=Ve,Ve=We.parentNode}We=Ue}l=Q===-1||me===-1?null:{start:Q,end:me}}else l=null}l=l||{start:0,end:0}}else l=null;for(og={focusedElem:r,selectionRange:l},Im=!1,di=a;di!==null;)if(a=di,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,di=r;else for(;di!==null;){switch(a=di,x=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,l=a,y=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var Vt=xu(l.type,y,l.elementType===l.type);r=u.getSnapshotBeforeUpdate(Vt,x),u.__reactInternalSnapshotBeforeUpdate=r}catch(Rt){Gn(l,l.return,Rt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)ug(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ug(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,di=r;break}di=a.return}}function Oy(r,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:pc(r,l),u&4&&Sd(5,l);break;case 1:if(pc(r,l),u&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(U){Gn(l,l.return,U)}else{var y=xu(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(y,a,r.__reactInternalSnapshotBeforeUpdate)}catch(U){Gn(l,l.return,U)}}u&64&&Ry(l),u&512&&Ed(l,l.return);break;case 3:if(pc(r,l),u&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{_n(r,a)}catch(U){Gn(l,l.return,U)}}break;case 27:a===null&&u&4&&Dy(l);case 26:case 5:pc(r,l),a===null&&u&4&&Iy(l),u&512&&Ed(l,l.return);break;case 12:pc(r,l);break;case 13:pc(r,l),u&4&&Uy(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=a3.bind(null,l),N3(r,l))));break;case 22:if(u=l.memoizedState!==null||Sl,!u){a=a!==null&&a.memoizedState!==null||Lr,y=Sl;var x=Lr;Sl=u,(Lr=a)&&!x?gc(r,l,(l.subtreeFlags&8772)!==0):pc(r,l),Sl=y,Lr=x}break;case 30:break;default:pc(r,l)}}function My(r){var a=r.alternate;a!==null&&(r.alternate=null,My(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Vr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var sr=null,wa=!1;function El(r,a,l){for(l=l.child;l!==null;)Vy(r,a,l),l=l.sibling}function Vy(r,a,l){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(wt,l)}catch{}switch(l.tag){case 26:Lr||Mo(l,a),El(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Lr||Mo(l,a);var u=sr,y=wa;_c(l.type)&&(sr=l.stateNode,wa=!1),El(r,a,l),Pd(l.stateNode),sr=u,wa=y;break;case 5:Lr||Mo(l,a);case 6:if(u=sr,y=wa,sr=null,El(r,a,l),sr=u,wa=y,sr!==null)if(wa)try{(sr.nodeType===9?sr.body:sr.nodeName==="HTML"?sr.ownerDocument.body:sr).removeChild(l.stateNode)}catch(x){Gn(l,a,x)}else try{sr.removeChild(l.stateNode)}catch(x){Gn(l,a,x)}break;case 18:sr!==null&&(wa?(r=sr,Ev(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),qd(r)):Ev(sr,l.stateNode));break;case 4:u=sr,y=wa,sr=l.stateNode.containerInfo,wa=!0,El(r,a,l),sr=u,wa=y;break;case 0:case 11:case 14:case 15:Lr||mc(2,l,a),Lr||mc(4,l,a),El(r,a,l);break;case 1:Lr||(Mo(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Cy(l,a,u)),El(r,a,l);break;case 21:El(r,a,l);break;case 22:Lr=(u=Lr)||l.memoizedState!==null,El(r,a,l),Lr=u;break;default:El(r,a,l)}}function Uy(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qd(r)}catch(l){Gn(a,a.return,l)}}function X4(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new Py),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new Py),a;default:throw Error(i(435,r.tag))}}function M0(r,a){var l=X4(r);a.forEach(function(u){var y=s3.bind(null,r,u);l.has(u)||(l.add(u),u.then(y,y))})}function qa(r,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var y=l[u],x=r,U=a,Q=U;e:for(;Q!==null;){switch(Q.tag){case 27:if(_c(Q.type)){sr=Q.stateNode,wa=!1;break e}break;case 5:sr=Q.stateNode,wa=!1;break e;case 3:case 4:sr=Q.stateNode.containerInfo,wa=!0;break e}Q=Q.return}if(sr===null)throw Error(i(160));Vy(x,U,y),sr=null,wa=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)By(a,r),a=a.sibling}var Qs=null;function By(r,a){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qa(a,r),Ha(r),u&4&&(mc(3,r,r.return),Sd(3,r),mc(5,r,r.return));break;case 1:qa(a,r),Ha(r),u&512&&(Lr||l===null||Mo(l,l.return)),u&64&&Sl&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var y=Qs;if(qa(a,r),Ha(r),u&512&&(Lr||l===null||Mo(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,y=y.ownerDocument||y;t:switch(u){case"title":x=y.getElementsByTagName("title")[0],(!x||x[bi]||x[Tn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(u),y.head.insertBefore(x,y.querySelector("head > title"))),Ei(x,u,l),x[Tn]=r,bn(x),u=x;break e;case"link":var U=Dv("link","href",y).get(u+(l.href||""));if(U){for(var Q=0;Q<U.length;Q++)if(x=U[Q],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){U.splice(Q,1);break t}}x=y.createElement(u),Ei(x,u,l),y.head.appendChild(x);break;case"meta":if(U=Dv("meta","content",y).get(u+(l.content||""))){for(Q=0;Q<U.length;Q++)if(x=U[Q],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){U.splice(Q,1);break t}}x=y.createElement(u),Ei(x,u,l),y.head.appendChild(x);break;default:throw Error(i(468,u))}x[Tn]=r,bn(x),u=x}r.stateNode=u}else Pv(y,r.type,r.stateNode);else r.stateNode=Lv(y,u,r.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?Pv(y,r.type,r.stateNode):Lv(y,u,r.memoizedProps)):u===null&&r.stateNode!==null&&L0(r,r.memoizedProps,l.memoizedProps)}break;case 27:qa(a,r),Ha(r),u&512&&(Lr||l===null||Mo(l,l.return)),l!==null&&u&4&&L0(r,r.memoizedProps,l.memoizedProps);break;case 5:if(qa(a,r),Ha(r),u&512&&(Lr||l===null||Mo(l,l.return)),r.flags&32){y=r.stateNode;try{Ri(y,"")}catch(Ue){Gn(r,r.return,Ue)}}u&4&&r.stateNode!=null&&(y=r.memoizedProps,L0(r,y,l!==null?l.memoizedProps:y)),u&1024&&(O0=!0);break;case 6:if(qa(a,r),Ha(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(Ue){Gn(r,r.return,Ue)}}break;case 3:if(jm=null,y=Qs,Qs=Tm(a.containerInfo),qa(a,r),Qs=y,Ha(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{qd(a.containerInfo)}catch(Ue){Gn(r,r.return,Ue)}O0&&(O0=!1,Fy(r));break;case 4:u=Qs,Qs=Tm(r.stateNode.containerInfo),qa(a,r),Ha(r),Qs=u;break;case 12:qa(a,r),Ha(r);break;case 13:qa(a,r),Ha(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(q0=lt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,M0(r,u)));break;case 22:y=r.memoizedState!==null;var me=l!==null&&l.memoizedState!==null,Me=Sl,qe=Lr;if(Sl=Me||y,Lr=qe||me,qa(a,r),Lr=qe,Sl=Me,Ha(r),u&8192)e:for(a=r.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||me||Sl||Lr||wu(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){me=l=a;try{if(x=me.stateNode,y)U=x.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Q=me.stateNode;var We=me.memoizedProps.style,Ve=We!=null&&We.hasOwnProperty("display")?We.display:null;Q.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(Ue){Gn(me,me.return,Ue)}}}else if(a.tag===6){if(l===null){me=a;try{me.stateNode.nodeValue=y?"":me.memoizedProps}catch(Ue){Gn(me,me.return,Ue)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,M0(r,l))));break;case 19:qa(a,r),Ha(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,M0(r,u)));break;case 30:break;case 21:break;default:qa(a,r),Ha(r)}}function Ha(r){var a=r.flags;if(a&2){try{for(var l,u=r.return;u!==null;){if(Ly(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var y=l.stateNode,x=D0(r);mm(r,x,y);break;case 5:var U=l.stateNode;l.flags&32&&(Ri(U,""),l.flags&=-33);var Q=D0(r);mm(r,Q,U);break;case 3:case 4:var me=l.stateNode.containerInfo,Me=D0(r);P0(r,Me,me);break;default:throw Error(i(161))}}catch(qe){Gn(r,r.return,qe)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Fy(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;Fy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function pc(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Oy(r,a.alternate,a),a=a.sibling}function wu(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:mc(4,a,a.return),wu(a);break;case 1:Mo(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Cy(a,a.return,l),wu(a);break;case 27:Pd(a.stateNode);case 26:case 5:Mo(a,a.return),wu(a);break;case 22:a.memoizedState===null&&wu(a);break;case 30:wu(a);break;default:wu(a)}r=r.sibling}}function gc(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,y=r,x=a,U=x.flags;switch(x.tag){case 0:case 11:case 15:gc(y,x,l),Sd(4,x);break;case 1:if(gc(y,x,l),u=x,y=u.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Me){Gn(u,u.return,Me)}if(u=x,y=u.updateQueue,y!==null){var Q=u.stateNode;try{var me=y.shared.hiddenCallbacks;if(me!==null)for(y.shared.hiddenCallbacks=null,y=0;y<me.length;y++)mn(me[y],Q)}catch(Me){Gn(u,u.return,Me)}}l&&U&64&&Ry(x),Ed(x,x.return);break;case 27:Dy(x);case 26:case 5:gc(y,x,l),l&&u===null&&U&4&&Iy(x),Ed(x,x.return);break;case 12:gc(y,x,l);break;case 13:gc(y,x,l),l&&U&4&&Uy(y,x);break;case 22:x.memoizedState===null&&gc(y,x,l),Ed(x,x.return);break;case 30:break;default:gc(y,x,l)}a=a.sibling}}function V0(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&lu(l))}function U0(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&lu(r))}function Vo(r,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)zy(r,a,l,u),a=a.sibling}function zy(r,a,l,u){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Vo(r,a,l,u),y&2048&&Sd(9,a);break;case 1:Vo(r,a,l,u);break;case 3:Vo(r,a,l,u),y&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&lu(r)));break;case 12:if(y&2048){Vo(r,a,l,u),r=a.stateNode;try{var x=a.memoizedProps,U=x.id,Q=x.onPostCommit;typeof Q=="function"&&Q(U,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(me){Gn(a,a.return,me)}}else Vo(r,a,l,u);break;case 13:Vo(r,a,l,u);break;case 23:break;case 22:x=a.stateNode,U=a.alternate,a.memoizedState!==null?x._visibility&2?Vo(r,a,l,u):Td(r,a):x._visibility&2?Vo(r,a,l,u):(x._visibility|=2,oh(r,a,l,u,(a.subtreeFlags&10256)!==0)),y&2048&&V0(U,a);break;case 24:Vo(r,a,l,u),y&2048&&U0(a.alternate,a);break;default:Vo(r,a,l,u)}}function oh(r,a,l,u,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=r,U=a,Q=l,me=u,Me=U.flags;switch(U.tag){case 0:case 11:case 15:oh(x,U,Q,me,y),Sd(8,U);break;case 23:break;case 22:var qe=U.stateNode;U.memoizedState!==null?qe._visibility&2?oh(x,U,Q,me,y):Td(x,U):(qe._visibility|=2,oh(x,U,Q,me,y)),y&&Me&2048&&V0(U.alternate,U);break;case 24:oh(x,U,Q,me,y),y&&Me&2048&&U0(U.alternate,U);break;default:oh(x,U,Q,me,y)}a=a.sibling}}function Td(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,u=a,y=u.flags;switch(u.tag){case 22:Td(l,u),y&2048&&V0(u.alternate,u);break;case 24:Td(l,u),y&2048&&U0(u.alternate,u);break;default:Td(l,u)}a=a.sibling}}var kd=8192;function lh(r){if(r.subtreeFlags&kd)for(r=r.child;r!==null;)qy(r),r=r.sibling}function qy(r){switch(r.tag){case 26:lh(r),r.flags&kd&&r.memoizedState!==null&&O3(Qs,r.memoizedState,r.memoizedProps);break;case 5:lh(r);break;case 3:case 4:var a=Qs;Qs=Tm(r.stateNode.containerInfo),lh(r),Qs=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=kd,kd=16777216,lh(r),kd=a):lh(r));break;default:lh(r)}}function Hy(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function jd(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];di=u,$y(u,r)}Hy(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Gy(r),r=r.sibling}function Gy(r){switch(r.tag){case 0:case 11:case 15:jd(r),r.flags&2048&&mc(9,r,r.return);break;case 3:jd(r);break;case 12:jd(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,pm(r)):jd(r);break;default:jd(r)}}function pm(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];di=u,$y(u,r)}Hy(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:mc(8,a,a.return),pm(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,pm(a));break;default:pm(a)}r=r.sibling}}function $y(r,a){for(;di!==null;){var l=di;switch(l.tag){case 0:case 11:case 15:mc(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,di=u;else e:for(l=r;di!==null;){u=di;var y=u.sibling,x=u.return;if(My(u),u===l){di=null;break e}if(y!==null){y.return=x,di=y;break e}di=x}}}var J4={getCacheForType:function(r){var a=Rr(Cr),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},Z4=typeof WeakMap=="function"?WeakMap:Map,Dn=0,Kn=null,sn=null,gn=0,Pn=0,Ga=null,yc=!1,ch=!1,B0=!1,Tl=0,_r=0,vc=0,_u=0,F0=0,vs=0,uh=0,Rd=null,_a=null,z0=!1,q0=0,gm=1/0,ym=null,bc=null,Si=0,xc=null,hh=null,dh=0,H0=0,G0=null,Yy=null,Cd=0,$0=null;function $a(){if((Dn&2)!==0&&gn!==0)return gn&-gn;if(re.T!==null){var r=yl;return r!==0?r:Z0()}return Qr()}function Ky(){vs===0&&(vs=(gn&536870912)===0||vn?Ea():536870912);var r=ys.current;return r!==null&&(r.flags|=32),vs}function Ya(r,a,l){(r===Kn&&(Pn===2||Pn===9)||r.cancelPendingCommit!==null)&&(fh(r,0),wc(r,gn,vs,!1)),Wr(r,l),((Dn&2)===0||r!==Kn)&&(r===Kn&&((Dn&2)===0&&(_u|=l),_r===4&&wc(r,gn,vs,!1)),Uo(r))}function Wy(r,a,l){if((Dn&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&r.expiredLanes)===0||ii(r,a),y=u?n3(r,a):W0(r,a,!0),x=u;do{if(y===0){ch&&!u&&wc(r,a,0,!1);break}else{if(l=r.current.alternate,x&&!e3(l)){y=W0(r,a,!1),x=!1;continue}if(y===2){if(x=a,r.errorRecoveryDisabledLanes&x)var U=0;else U=r.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){a=U;e:{var Q=r;y=Rd;var me=Q.current.memoizedState.isDehydrated;if(me&&(fh(Q,U).flags|=256),U=W0(Q,U,!1),U!==2){if(B0&&!me){Q.errorRecoveryDisabledLanes|=x,_u|=x,y=4;break e}x=_a,_a=y,x!==null&&(_a===null?_a=x:_a.push.apply(_a,x))}y=U}if(x=!1,y!==2)continue}}if(y===1){fh(r,0),wc(r,a,0,!0);break}e:{switch(u=r,x=y,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:wc(u,a,vs,!yc);break e;case 2:_a=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=q0+300-lt(),10<y)){if(wc(u,a,vs,!yc),En(u,0,!0)!==0)break e;u.timeoutHandle=Av(Qy.bind(null,u,l,_a,ym,z0,a,vs,_u,uh,yc,x,2,-0,0),y);break e}Qy(u,l,_a,ym,z0,a,vs,_u,uh,yc,x,0,-0,0)}}break}while(!0);Uo(r)}function Qy(r,a,l,u,y,x,U,Q,me,Me,qe,We,Ve,Ue){if(r.timeoutHandle=-1,We=a.subtreeFlags,(We&8192||(We&16785408)===16785408)&&(Vd={stylesheets:null,count:0,unsuspend:P3},qy(a),We=M3(),We!==null)){r.cancelPendingCommit=We(rv.bind(null,r,a,x,l,u,y,U,Q,me,qe,1,Ve,Ue)),wc(r,x,U,!Me);return}rv(r,a,x,l,u,y,U,Q,me)}function e3(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var y=l[u],x=y.getSnapshot;y=y.value;try{if(!Br(x(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wc(r,a,l,u){a&=~F0,a&=~_u,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var y=a;0<y;){var x=31-yt(y),U=1<<x;u[x]=-1,y&=~U}l!==0&&At(r,l,a)}function vm(){return(Dn&6)===0?(Id(0),!1):!0}function Y0(){if(sn!==null){if(Pn===0)var r=sn.return;else r=sn,Hs=zr=null,Zu(r),ah=null,_d=0,r=sn;for(;r!==null;)jy(r.alternate,r),r=r.return;sn=null}}function fh(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,v3(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Y0(),Kn=r,sn=l=hs(r.current,null),gn=a,Pn=0,Ga=null,yc=!1,ch=ii(r,a),B0=!1,uh=vs=F0=_u=vc=_r=0,_a=Rd=null,z0=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var y=31-yt(u),x=1<<y;a|=r[y],u&=~x}return Tl=a,ya(),l}function Xy(r,a){Et=null,re.H=am,a===H||a===K?(a=je(),Pn=3):a===$?(a=je(),Pn=4):Pn=a===py?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ga=a,sn===null&&(_r=1,um(r,Zt(a,r.current)))}function Jy(){var r=re.H;return re.H=am,r===null?am:r}function Zy(){var r=re.A;return re.A=J4,r}function K0(){_r=4,yc||(gn&4194048)!==gn&&ys.current!==null||(ch=!0),(vc&134217727)===0&&(_u&134217727)===0||Kn===null||wc(Kn,gn,vs,!1)}function W0(r,a,l){var u=Dn;Dn|=2;var y=Jy(),x=Zy();(Kn!==r||gn!==a)&&(ym=null,fh(r,a)),a=!1;var U=_r;e:do try{if(Pn!==0&&sn!==null){var Q=sn,me=Ga;switch(Pn){case 8:Y0(),U=6;break e;case 3:case 2:case 9:case 6:ys.current===null&&(a=!0);var Me=Pn;if(Pn=0,Ga=null,mh(r,Q,me,Me),l&&ch){U=0;break e}break;default:Me=Pn,Pn=0,Ga=null,mh(r,Q,me,Me)}}t3(),U=_r;break}catch(qe){Xy(r,qe)}while(!0);return a&&r.shellSuspendCounter++,Hs=zr=null,Dn=u,re.H=y,re.A=x,sn===null&&(Kn=null,gn=0,ya()),U}function t3(){for(;sn!==null;)ev(sn)}function n3(r,a){var l=Dn;Dn|=2;var u=Jy(),y=Zy();Kn!==r||gn!==a?(ym=null,gm=lt()+500,fh(r,a)):ch=ii(r,a);e:do try{if(Pn!==0&&sn!==null){a=sn;var x=Ga;t:switch(Pn){case 1:Pn=0,Ga=null,mh(r,a,x,1);break;case 2:case 9:if(ie(x)){Pn=0,Ga=null,tv(a);break}a=function(){Pn!==2&&Pn!==9||Kn!==r||(Pn=7),Uo(r)},x.then(a,a);break e;case 3:Pn=7;break e;case 4:Pn=5;break e;case 7:ie(x)?(Pn=0,Ga=null,tv(a)):(Pn=0,Ga=null,mh(r,a,x,7));break;case 5:var U=null;switch(sn.tag){case 26:U=sn.memoizedState;case 5:case 27:var Q=sn;if(!U||Ov(U)){Pn=0,Ga=null;var me=Q.sibling;if(me!==null)sn=me;else{var Me=Q.return;Me!==null?(sn=Me,bm(Me)):sn=null}break t}}Pn=0,Ga=null,mh(r,a,x,5);break;case 6:Pn=0,Ga=null,mh(r,a,x,6);break;case 8:Y0(),_r=6;break e;default:throw Error(i(462))}}r3();break}catch(qe){Xy(r,qe)}while(!0);return Hs=zr=null,re.H=u,re.A=y,Dn=l,sn!==null?0:(Kn=null,gn=0,ya(),_r)}function r3(){for(;sn!==null&&!De();)ev(sn)}function ev(r){var a=Ty(r.alternate,r,Tl);r.memoizedProps=r.pendingProps,a===null?bm(r):sn=a}function tv(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=wy(l,a,a.pendingProps,a.type,void 0,gn);break;case 11:a=wy(l,a,a.pendingProps,a.type.render,a.ref,gn);break;case 5:Zu(a);default:jy(l,a),a=sn=iu(a,Tl),a=Ty(l,a,Tl)}r.memoizedProps=r.pendingProps,a===null?bm(r):sn=a}function mh(r,a,l,u){Hs=zr=null,Zu(a),ah=null,_d=0;var y=a.return;try{if($4(r,y,a,l,gn)){_r=1,um(r,Zt(l,r.current)),sn=null;return}}catch(x){if(y!==null)throw sn=y,x;_r=1,um(r,Zt(l,r.current)),sn=null;return}a.flags&32768?(vn||u===1?r=!0:ch||(gn&536870912)!==0?r=!1:(yc=r=!0,(u===2||u===9||u===3||u===6)&&(u=ys.current,u!==null&&u.tag===13&&(u.flags|=16384))),nv(a,r)):bm(a)}function bm(r){var a=r;do{if((a.flags&32768)!==0){nv(a,yc);return}r=a.return;var l=K4(a.alternate,a,Tl);if(l!==null){sn=l;return}if(a=a.sibling,a!==null){sn=a;return}sn=a=r}while(a!==null);_r===0&&(_r=5)}function nv(r,a){do{var l=W4(r.alternate,r);if(l!==null){l.flags&=32767,sn=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){sn=r;return}sn=r=l}while(r!==null);_r=6,sn=null}function rv(r,a,l,u,y,x,U,Q,me){r.cancelPendingCommit=null;do xm();while(Si!==0);if((Dn&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=ur,Vn(r,l,x,U,Q,me),r===Kn&&(sn=Kn=null,gn=0),hh=a,xc=r,dh=l,H0=x,G0=y,Yy=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,o3(at,function(){return lv(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=re.T,re.T=null,y=he.p,he.p=2,U=Dn,Dn|=4;try{Q4(r,a,l)}finally{Dn=U,he.p=y,re.T=u}}Si=1,iv(),av(),sv()}}function iv(){if(Si===1){Si=0;var r=xc,a=hh,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=re.T,re.T=null;var u=he.p;he.p=2;var y=Dn;Dn|=4;try{By(a,r);var x=og,U=wi(r.containerInfo),Q=x.focusedElem,me=x.selectionRange;if(U!==Q&&Q&&Q.ownerDocument&&xo(Q.ownerDocument.documentElement,Q)){if(me!==null&&ei(Q)){var Me=me.start,qe=me.end;if(qe===void 0&&(qe=Me),"selectionStart"in Q)Q.selectionStart=Me,Q.selectionEnd=Math.min(qe,Q.value.length);else{var We=Q.ownerDocument||document,Ve=We&&We.defaultView||window;if(Ve.getSelection){var Ue=Ve.getSelection(),Vt=Q.textContent.length,Rt=Math.min(me.start,Vt),qn=me.end===void 0?Rt:Math.min(me.end,Vt);!Ue.extend&&Rt>qn&&(U=qn,qn=Rt,Rt=U);var Ce=Os(Q,Rt),Ne=Os(Q,qn);if(Ce&&Ne&&(Ue.rangeCount!==1||Ue.anchorNode!==Ce.node||Ue.anchorOffset!==Ce.offset||Ue.focusNode!==Ne.node||Ue.focusOffset!==Ne.offset)){var Le=We.createRange();Le.setStart(Ce.node,Ce.offset),Ue.removeAllRanges(),Rt>qn?(Ue.addRange(Le),Ue.extend(Ne.node,Ne.offset)):(Le.setEnd(Ne.node,Ne.offset),Ue.addRange(Le))}}}}for(We=[],Ue=Q;Ue=Ue.parentNode;)Ue.nodeType===1&&We.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<We.length;Q++){var Ge=We[Q];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}Im=!!sg,og=sg=null}finally{Dn=y,he.p=u,re.T=l}}r.current=a,Si=2}}function av(){if(Si===2){Si=0;var r=xc,a=hh,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=re.T,re.T=null;var u=he.p;he.p=2;var y=Dn;Dn|=4;try{Oy(r,a.alternate,a)}finally{Dn=y,he.p=u,re.T=l}}Si=3}}function sv(){if(Si===4||Si===3){Si=0,le();var r=xc,a=hh,l=dh,u=Yy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Si=5:(Si=0,hh=xc=null,ov(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(bc=null),tr(l),a=a.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(wt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=re.T,y=he.p,he.p=2,re.T=null;try{for(var x=r.onRecoverableError,U=0;U<u.length;U++){var Q=u[U];x(Q.value,{componentStack:Q.stack})}}finally{re.T=a,he.p=y}}(dh&3)!==0&&xm(),Uo(r),y=r.pendingLanes,(l&4194090)!==0&&(y&42)!==0?r===$0?Cd++:(Cd=0,$0=r):Cd=0,Id(0)}}function ov(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,lu(a)))}function xm(r){return iv(),av(),sv(),lv()}function lv(){if(Si!==5)return!1;var r=xc,a=H0;H0=0;var l=tr(dh),u=re.T,y=he.p;try{he.p=32>l?32:l,re.T=null,l=G0,G0=null;var x=xc,U=dh;if(Si=0,hh=xc=null,dh=0,(Dn&6)!==0)throw Error(i(331));var Q=Dn;if(Dn|=4,Gy(x.current),zy(x,x.current,U,l),Dn=Q,Id(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(wt,x)}catch{}return!0}finally{he.p=y,re.T=u,ov(r,a)}}function cv(r,a,l){a=Zt(l,a),a=A0(r.stateNode,a,2),r=Ke(r,a,2),r!==null&&(Wr(r,2),Uo(r))}function Gn(r,a,l){if(r.tag===3)cv(r,r,l);else for(;a!==null;){if(a.tag===3){cv(a,r,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(bc===null||!bc.has(u))){r=Zt(l,r),l=fy(2),u=Ke(a,l,2),u!==null&&(my(l,u,a,r),Wr(u,2),Uo(u));break}}a=a.return}}function Q0(r,a,l){var u=r.pingCache;if(u===null){u=r.pingCache=new Z4;var y=new Set;u.set(a,y)}else y=u.get(a),y===void 0&&(y=new Set,u.set(a,y));y.has(l)||(B0=!0,y.add(l),r=i3.bind(null,r,a,l),a.then(r,r))}function i3(r,a,l){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Kn===r&&(gn&l)===l&&(_r===4||_r===3&&(gn&62914560)===gn&&300>lt()-q0?(Dn&2)===0&&fh(r,0):F0|=l,uh===gn&&(uh=0)),Uo(r)}function uv(r,a){a===0&&(a=Mn()),r=Vs(r,a),r!==null&&(Wr(r,a),Uo(r))}function a3(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),uv(r,l)}function s3(r,a){var l=0;switch(r.tag){case 13:var u=r.stateNode,y=r.memoizedState;y!==null&&(l=y.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),uv(r,l)}function o3(r,a){return ge(r,a)}var wm=null,ph=null,X0=!1,_m=!1,J0=!1,Nu=0;function Uo(r){r!==ph&&r.next===null&&(ph===null?wm=ph=r:ph=ph.next=r),_m=!0,X0||(X0=!0,c3())}function Id(r,a){if(!J0&&_m){J0=!0;do for(var l=!1,u=wm;u!==null;){if(r!==0){var y=u.pendingLanes;if(y===0)var x=0;else{var U=u.suspendedLanes,Q=u.pingedLanes;x=(1<<31-yt(42|r)+1)-1,x&=y&~(U&~Q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,mv(u,x))}else x=gn,x=En(u,u===Kn?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||ii(u,x)||(l=!0,mv(u,x));u=u.next}while(l);J0=!1}}function l3(){hv()}function hv(){_m=X0=!1;var r=0;Nu!==0&&(y3()&&(r=Nu),Nu=0);for(var a=lt(),l=null,u=wm;u!==null;){var y=u.next,x=dv(u,a);x===0?(u.next=null,l===null?wm=y:l.next=y,y===null&&(ph=l)):(l=u,(r!==0||(x&3)!==0)&&(_m=!0)),u=y}Id(r)}function dv(r,a){for(var l=r.suspendedLanes,u=r.pingedLanes,y=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var U=31-yt(x),Q=1<<U,me=y[U];me===-1?((Q&l)===0||(Q&u)!==0)&&(y[U]=ln(Q,a)):me<=a&&(r.expiredLanes|=Q),x&=~Q}if(a=Kn,l=gn,l=En(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===a&&(Pn===2||Pn===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&$e(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||ii(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(u!==null&&$e(u),tr(l)){case 2:case 8:l=rt;break;case 32:l=at;break;case 268435456:l=gt;break;default:l=at}return u=fv.bind(null,r),l=ge(l,u),r.callbackPriority=a,r.callbackNode=l,a}return u!==null&&u!==null&&$e(u),r.callbackPriority=2,r.callbackNode=null,2}function fv(r,a){if(Si!==0&&Si!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(xm()&&r.callbackNode!==l)return null;var u=gn;return u=En(r,r===Kn?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Wy(r,u,a),dv(r,lt()),r.callbackNode!=null&&r.callbackNode===l?fv.bind(null,r):null)}function mv(r,a){if(xm())return null;Wy(r,a,!0)}function c3(){b3(function(){(Dn&6)!==0?ge(Qe,l3):hv()})}function Z0(){return Nu===0&&(Nu=Ea()),Nu}function pv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:La(""+r)}function gv(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function u3(r,a,l,u,y){if(a==="submit"&&l&&l.stateNode===y){var x=pv((y[kn]||null).action),U=u.submitter;U&&(a=(a=U[kn]||null)?pv(a.formAction):U.getAttribute("formAction"),a!==null&&(x=a,U=null));var Q=new ns("action","action",null,u,y);r.push({event:Q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Nu!==0){var me=U?gv(y,U):new FormData(y);gs(l,{pending:!0,data:me,method:y.method,action:x},null,me)}}else typeof x=="function"&&(Q.preventDefault(),me=U?gv(y,U):new FormData(y),gs(l,{pending:!0,data:me,method:y.method,action:x},x,me))},currentTarget:y}]})}}for(var eg=0;eg<hl.length;eg++){var tg=hl[eg],h3=tg.toLowerCase(),d3=tg[0].toUpperCase()+tg.slice(1);ir(h3,"on"+d3)}ir(tc,"onAnimationEnd"),ir(_o,"onAnimationIteration"),ir(No,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(Ao,"onTransitionRun"),ir(ul,"onTransitionStart"),ir(nc,"onTransitionCancel"),ir(So,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ld));function yv(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],y=u.event;u=u.listeners;e:{var x=void 0;if(a)for(var U=u.length-1;0<=U;U--){var Q=u[U],me=Q.instance,Me=Q.currentTarget;if(Q=Q.listener,me!==x&&y.isPropagationStopped())break e;x=Q,y.currentTarget=Me;try{x(y)}catch(qe){cm(qe)}y.currentTarget=null,x=me}else for(U=0;U<u.length;U++){if(Q=u[U],me=Q.instance,Me=Q.currentTarget,Q=Q.listener,me!==x&&y.isPropagationStopped())break e;x=Q,y.currentTarget=Me;try{x(y)}catch(qe){cm(qe)}y.currentTarget=null,x=me}}}}function on(r,a){var l=a[Wn];l===void 0&&(l=a[Wn]=new Set);var u=r+"__bubble";l.has(u)||(vv(a,r,2,!1),l.add(u))}function ng(r,a,l){var u=0;a&&(u|=4),vv(l,r,u,a)}var Nm="_reactListening"+Math.random().toString(36).slice(2);function rg(r){if(!r[Nm]){r[Nm]=!0,Ta.forEach(function(l){l!=="selectionchange"&&(f3.has(l)||ng(l,!1,r),ng(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Nm]||(a[Nm]=!0,ng("selectionchange",!1,a))}}function vv(r,a,l,u){switch(zv(a)){case 2:var y=B3;break;case 8:y=F3;break;default:y=yg}l=y.bind(null,a,l,r),y=void 0,!xi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),u?y!==void 0?r.addEventListener(a,l,{capture:!0,passive:y}):r.addEventListener(a,l,!0):y!==void 0?r.addEventListener(a,l,{passive:y}):r.addEventListener(a,l,!1)}function ig(r,a,l,u,y){var x=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var U=u.tag;if(U===3||U===4){var Q=u.stateNode.containerInfo;if(Q===y)break;if(U===4)for(U=u.return;U!==null;){var me=U.tag;if((me===3||me===4)&&U.stateNode.containerInfo===y)return;U=U.return}for(;Q!==null;){if(U=Sr(Q),U===null)return;if(me=U.tag,me===5||me===6||me===26||me===27){u=x=U;continue e}Q=Q.parentNode}}u=u.return}Ql(function(){var Me=x,qe=In(l),We=[];e:{var Ve=Ms.get(r);if(Ve!==void 0){var Ue=ns,Vt=r;switch(r){case"keypress":if(Li(l)===0)break e;case"keydown":case"keyup":Ue=Ma;break;case"focusin":Vt="focus",Ue=is;break;case"focusout":Vt="blur",Ue=is;break;case"beforeblur":case"afterblur":Ue=is;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=rs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=go;break;case tc:case _o:case No:Ue=fo;break;case So:Ue=q;break;case"scroll":case"scrollend":Ue=il;break;case"wheel":Ue=ye;break;case"copy":case"cut":case"paste":Ue=mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=Ps;break;case"toggle":case"beforetoggle":Ue=Fe}var Rt=(a&4)!==0,qn=!Rt&&(r==="scroll"||r==="scrollend"),Ce=Rt?Ve!==null?Ve+"Capture":null:Ve;Rt=[];for(var Ne=Me,Le;Ne!==null;){var Ge=Ne;if(Le=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Le===null||Ce===null||(Ge=si(Ne,Ce),Ge!=null&&Rt.push(Dd(Ne,Ge,Le))),qn)break;Ne=Ne.return}0<Rt.length&&(Ve=new Ue(Ve,Vt,null,l,qe),We.push({event:Ve,listeners:Rt}))}}if((a&7)===0){e:{if(Ve=r==="mouseover"||r==="pointerover",Ue=r==="mouseout"||r==="pointerout",Ve&&l!==ca&&(Vt=l.relatedTarget||l.fromElement)&&(Sr(Vt)||Vt[Hn]))break e;if((Ue||Ve)&&(Ve=qe.window===qe?qe:(Ve=qe.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,Ue?(Vt=l.relatedTarget||l.toElement,Ue=Me,Vt=Vt?Sr(Vt):null,Vt!==null&&(qn=o(Vt),Rt=Vt.tag,Vt!==qn||Rt!==5&&Rt!==27&&Rt!==6)&&(Vt=null)):(Ue=null,Vt=Me),Ue!==Vt)){if(Rt=vr,Ge="onMouseLeave",Ce="onMouseEnter",Ne="mouse",(r==="pointerout"||r==="pointerover")&&(Rt=Ps,Ge="onPointerLeave",Ce="onPointerEnter",Ne="pointer"),qn=Ue==null?Ve:Er(Ue),Le=Vt==null?Ve:Er(Vt),Ve=new Rt(Ge,Ne+"leave",Ue,l,qe),Ve.target=qn,Ve.relatedTarget=Le,Ge=null,Sr(qe)===Me&&(Rt=new Rt(Ce,Ne+"enter",Vt,l,qe),Rt.target=Le,Rt.relatedTarget=qn,Ge=Rt),qn=Ge,Ue&&Vt)t:{for(Rt=Ue,Ce=Vt,Ne=0,Le=Rt;Le;Le=gh(Le))Ne++;for(Le=0,Ge=Ce;Ge;Ge=gh(Ge))Le++;for(;0<Ne-Le;)Rt=gh(Rt),Ne--;for(;0<Le-Ne;)Ce=gh(Ce),Le--;for(;Ne--;){if(Rt===Ce||Ce!==null&&Rt===Ce.alternate)break t;Rt=gh(Rt),Ce=gh(Ce)}Rt=null}else Rt=null;Ue!==null&&bv(We,Ve,Ue,Rt,!1),Vt!==null&&qn!==null&&bv(We,qn,Vt,Rt,!0)}}e:{if(Ve=Me?Er(Me):window,Ue=Ve.nodeName&&Ve.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Ve.type==="file")var vt=Zl;else if(jn(Ve))if(sl)vt=Gu;else{vt=sd;var an=Pi}else Ue=Ve.nodeName,!Ue||Ue.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?Me&&nl(Me.elementType)&&(vt=Zl):vt=nu;if(vt&&(vt=vt(r,Me))){pa(We,vt,l,qe);break e}an&&an(r,Ve,Me),r==="focusout"&&Me&&Ve.type==="number"&&Me.memoizedProps.value!=null&&Za(Ve,"number",Ve.value)}switch(an=Me?Er(Me):window,r){case"focusin":(jn(an)||an.contentEditable==="true")&&(Oi=an,Va=Me,cs=null);break;case"focusout":cs=Va=Oi=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,rr(We,l,qe);break;case"selectionchange":if(wo)break;case"keydown":case"keyup":rr(We,l,qe)}var Nt;if(ct)e:{switch(r){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else jt?Oe(r,l)&&(It="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(It="onCompositionStart");It&&(L&&l.locale!=="ko"&&(jt||It!=="onCompositionStart"?It==="onCompositionEnd"&&jt&&(Nt=rl()):(Ii=qe,ts="value"in Ii?Ii.value:Ii.textContent,jt=!0)),an=Am(Me,It),0<an.length&&(It=new Is(It,r,null,l,qe),We.push({event:It,listeners:an}),Nt?It.data=Nt:(Nt=tt(l),Nt!==null&&(It.data=Nt)))),(Nt=E?rn(r,l):Bt(r,l))&&(It=Am(Me,"onBeforeInput"),0<It.length&&(an=new Is("onBeforeInput","beforeinput",null,l,qe),We.push({event:an,listeners:It}),an.data=Nt)),u3(We,r,Me,l,qe)}yv(We,a)})}function Dd(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Am(r,a){for(var l=a+"Capture",u=[];r!==null;){var y=r,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=si(r,l),y!=null&&u.unshift(Dd(r,y,x)),y=si(r,a),y!=null&&u.push(Dd(r,y,x))),r.tag===3)return u;r=r.return}return[]}function gh(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function bv(r,a,l,u,y){for(var x=a._reactName,U=[];l!==null&&l!==u;){var Q=l,me=Q.alternate,Me=Q.stateNode;if(Q=Q.tag,me!==null&&me===u)break;Q!==5&&Q!==26&&Q!==27||Me===null||(me=Me,y?(Me=si(l,x),Me!=null&&U.unshift(Dd(l,Me,me))):y||(Me=si(l,x),Me!=null&&U.push(Dd(l,Me,me)))),l=l.return}U.length!==0&&r.push({event:a,listeners:U})}var m3=/\r\n?/g,p3=/\u0000|\uFFFD/g;function xv(r){return(typeof r=="string"?r:""+r).replace(m3,`
`).replace(p3,"")}function wv(r,a){return a=xv(a),xv(r)===a}function Sm(){}function zn(r,a,l,u,y,x){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ri(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ri(r,""+u);break;case"className":Zi(r,"class",u);break;case"tabIndex":Zi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(r,l,u);break;case"style":tl(r,u,x);break;case"data":if(a!=="object"){Zi(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=La(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&zn(r,a,"name",y.name,y,null),zn(r,a,"formEncType",y.formEncType,y,null),zn(r,a,"formMethod",y.formMethod,y,null),zn(r,a,"formTarget",y.formTarget,y,null)):(zn(r,a,"encType",y.encType,y,null),zn(r,a,"method",y.method,y,null),zn(r,a,"target",y.target,y,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=La(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=Sm);break;case"onScroll":u!=null&&on("scroll",r);break;case"onScrollEnd":u!=null&&on("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=La(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":on("beforetoggle",r),on("toggle",r),Ji(r,"popover",u);break;case"xlinkActuate":Tr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Tr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Tr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Tr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Tr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Tr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Tr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Tr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Tr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ji(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ia.get(l)||l,Ji(r,l,u))}}function ag(r,a,l,u,y,x){switch(l){case"style":tl(r,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(y.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Ri(r,u):(typeof u=="number"||typeof u=="bigint")&&Ri(r,""+u);break;case"onScroll":u!=null&&on("scroll",r);break;case"onScrollEnd":u!=null&&on("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Sm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ka.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),x=r[kn]||null,x=x!=null?x[l]:null,typeof x=="function"&&r.removeEventListener(a,x,y),typeof u=="function")){typeof x!="function"&&x!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,u,y);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):Ji(r,l,u)}}}function Ei(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":on("error",r),on("load",r);var u=!1,y=!1,x;for(x in l)if(l.hasOwnProperty(x)){var U=l[x];if(U!=null)switch(x){case"src":u=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:zn(r,a,x,U,l,null)}}y&&zn(r,a,"srcSet",l.srcSet,l,null),u&&zn(r,a,"src",l.src,l,null);return;case"input":on("invalid",r);var Q=x=U=y=null,me=null,Me=null;for(u in l)if(l.hasOwnProperty(u)){var qe=l[u];if(qe!=null)switch(u){case"name":y=qe;break;case"type":U=qe;break;case"checked":me=qe;break;case"defaultChecked":Me=qe;break;case"value":x=qe;break;case"defaultValue":Q=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,a));break;default:zn(r,a,u,qe,l,null)}}Ja(r,x,Q,me,Me,U,y,!1),Xa(r);return;case"select":on("invalid",r),u=U=x=null;for(y in l)if(l.hasOwnProperty(y)&&(Q=l[y],Q!=null))switch(y){case"value":x=Q;break;case"defaultValue":U=Q;break;case"multiple":u=Q;default:zn(r,a,y,Q,l,null)}a=x,l=U,r.multiple=!!u,a!=null?la(r,!!u,a,!1):l!=null&&la(r,!!u,l,!0);return;case"textarea":on("invalid",r),x=y=u=null;for(U in l)if(l.hasOwnProperty(U)&&(Q=l[U],Q!=null))switch(U){case"value":u=Q;break;case"defaultValue":y=Q;break;case"children":x=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:zn(r,a,U,Q,l,null)}es(r,u,y,x),Xa(r);return;case"option":for(me in l)if(l.hasOwnProperty(me)&&(u=l[me],u!=null))switch(me){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:zn(r,a,me,u,l,null)}return;case"dialog":on("beforetoggle",r),on("toggle",r),on("cancel",r),on("close",r);break;case"iframe":case"object":on("load",r);break;case"video":case"audio":for(u=0;u<Ld.length;u++)on(Ld[u],r);break;case"image":on("error",r),on("load",r);break;case"details":on("toggle",r);break;case"embed":case"source":case"link":on("error",r),on("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in l)if(l.hasOwnProperty(Me)&&(u=l[Me],u!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:zn(r,a,Me,u,l,null)}return;default:if(nl(a)){for(qe in l)l.hasOwnProperty(qe)&&(u=l[qe],u!==void 0&&ag(r,a,qe,u,l,void 0));return}}for(Q in l)l.hasOwnProperty(Q)&&(u=l[Q],u!=null&&zn(r,a,Q,u,l,null))}function g3(r,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,U=null,Q=null,me=null,Me=null,qe=null;for(Ue in l){var We=l[Ue];if(l.hasOwnProperty(Ue)&&We!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":me=We;default:u.hasOwnProperty(Ue)||zn(r,a,Ue,null,u,We)}}for(var Ve in u){var Ue=u[Ve];if(We=l[Ve],u.hasOwnProperty(Ve)&&(Ue!=null||We!=null))switch(Ve){case"type":x=Ue;break;case"name":y=Ue;break;case"checked":Me=Ue;break;case"defaultChecked":qe=Ue;break;case"value":U=Ue;break;case"defaultValue":Q=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(i(137,a));break;default:Ue!==We&&zn(r,a,Ve,Ue,u,We)}}Jr(r,U,Q,me,Me,qe,x,y);return;case"select":Ue=U=Q=Ve=null;for(x in l)if(me=l[x],l.hasOwnProperty(x)&&me!=null)switch(x){case"value":break;case"multiple":Ue=me;default:u.hasOwnProperty(x)||zn(r,a,x,null,u,me)}for(y in u)if(x=u[y],me=l[y],u.hasOwnProperty(y)&&(x!=null||me!=null))switch(y){case"value":Ve=x;break;case"defaultValue":Q=x;break;case"multiple":U=x;default:x!==me&&zn(r,a,y,x,u,me)}a=Q,l=U,u=Ue,Ve!=null?la(r,!!l,Ve,!1):!!u!=!!l&&(a!=null?la(r,!!l,a,!0):la(r,!!l,l?[]:"",!1));return;case"textarea":Ue=Ve=null;for(Q in l)if(y=l[Q],l.hasOwnProperty(Q)&&y!=null&&!u.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:zn(r,a,Q,null,u,y)}for(U in u)if(y=u[U],x=l[U],u.hasOwnProperty(U)&&(y!=null||x!=null))switch(U){case"value":Ve=y;break;case"defaultValue":Ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==x&&zn(r,a,U,y,u,x)}xn(r,Ve,Ue);return;case"option":for(var Vt in l)if(Ve=l[Vt],l.hasOwnProperty(Vt)&&Ve!=null&&!u.hasOwnProperty(Vt))switch(Vt){case"selected":r.selected=!1;break;default:zn(r,a,Vt,null,u,Ve)}for(me in u)if(Ve=u[me],Ue=l[me],u.hasOwnProperty(me)&&Ve!==Ue&&(Ve!=null||Ue!=null))switch(me){case"selected":r.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol";break;default:zn(r,a,me,Ve,u,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in l)Ve=l[Rt],l.hasOwnProperty(Rt)&&Ve!=null&&!u.hasOwnProperty(Rt)&&zn(r,a,Rt,null,u,Ve);for(Me in u)if(Ve=u[Me],Ue=l[Me],u.hasOwnProperty(Me)&&Ve!==Ue&&(Ve!=null||Ue!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,a));break;default:zn(r,a,Me,Ve,u,Ue)}return;default:if(nl(a)){for(var qn in l)Ve=l[qn],l.hasOwnProperty(qn)&&Ve!==void 0&&!u.hasOwnProperty(qn)&&ag(r,a,qn,void 0,u,Ve);for(qe in u)Ve=u[qe],Ue=l[qe],!u.hasOwnProperty(qe)||Ve===Ue||Ve===void 0&&Ue===void 0||ag(r,a,qe,Ve,u,Ue);return}}for(var Ce in l)Ve=l[Ce],l.hasOwnProperty(Ce)&&Ve!=null&&!u.hasOwnProperty(Ce)&&zn(r,a,Ce,null,u,Ve);for(We in u)Ve=u[We],Ue=l[We],!u.hasOwnProperty(We)||Ve===Ue||Ve==null&&Ue==null||zn(r,a,We,Ve,u,Ue)}var sg=null,og=null;function Em(r){return r.nodeType===9?r:r.ownerDocument}function _v(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nv(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function lg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cg=null;function y3(){var r=window.event;return r&&r.type==="popstate"?r===cg?!1:(cg=r,!0):(cg=null,!1)}var Av=typeof setTimeout=="function"?setTimeout:void 0,v3=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,b3=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(r){return Sv.resolve(null).then(r).catch(x3)}:Av;function x3(r){setTimeout(function(){throw r})}function _c(r){return r==="head"}function Ev(r,a){var l=a,u=0,y=0;do{var x=l.nextSibling;if(r.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<u&&8>u){l=u;var U=r.ownerDocument;if(l&1&&Pd(U.documentElement),l&2&&Pd(U.body),l&4)for(l=U.head,Pd(l),U=l.firstChild;U;){var Q=U.nextSibling,me=U.nodeName;U[bi]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&U.rel.toLowerCase()==="stylesheet"||l.removeChild(U),U=Q}}if(y===0){r.removeChild(x),qd(a);return}y--}else l==="$"||l==="$?"||l==="$!"?y++:u=l.charCodeAt(0)-48;else u=0;l=x}while(l);qd(a)}function ug(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ug(l),Vr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function w3(r,a,l,u){for(;r.nodeType===1;){var y=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[bi])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Xs(r.nextSibling),r===null)break}return null}function _3(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Xs(r.nextSibling),r===null))return null;return r}function hg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function N3(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Xs(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var dg=null;function Tv(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function kv(r,a,l){switch(a=Em(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Pd(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Vr(r)}var bs=new Map,jv=new Set;function Tm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var kl=he.d;he.d={f:A3,r:S3,D:E3,C:T3,L:k3,m:j3,X:C3,S:R3,M:I3};function A3(){var r=kl.f(),a=vm();return r||a}function S3(r){var a=gr(r);a!==null&&a.tag===5&&a.type==="form"?vu(a):kl.r(r)}var yh=typeof document>"u"?null:document;function Rv(r,a,l){var u=yh;if(u&&typeof a=="string"&&a){var y=dn(a);y='link[rel="'+r+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),jv.has(y)||(jv.add(y),r={rel:r,crossOrigin:l,href:a},u.querySelector(y)===null&&(a=u.createElement("link"),Ei(a,"link",r),bn(a),u.head.appendChild(a)))}}function E3(r){kl.D(r),Rv("dns-prefetch",r,null)}function T3(r,a){kl.C(r,a),Rv("preconnect",r,a)}function k3(r,a,l){kl.L(r,a,l);var u=yh;if(u&&r&&a){var y='link[rel="preload"][as="'+dn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+dn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+dn(l.imageSizes)+'"]')):y+='[href="'+dn(r)+'"]';var x=y;switch(a){case"style":x=vh(r);break;case"script":x=bh(r)}bs.has(x)||(r=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),bs.set(x,r),u.querySelector(y)!==null||a==="style"&&u.querySelector(Od(x))||a==="script"&&u.querySelector(Md(x))||(a=u.createElement("link"),Ei(a,"link",r),bn(a),u.head.appendChild(a)))}}function j3(r,a){kl.m(r,a);var l=yh;if(l&&r){var u=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(r)+'"]',x=y;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=bh(r)}if(!bs.has(x)&&(r=b({rel:"modulepreload",href:r},a),bs.set(x,r),l.querySelector(y)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Md(x)))return}u=l.createElement("link"),Ei(u,"link",r),bn(u),l.head.appendChild(u)}}}function R3(r,a,l){kl.S(r,a,l);var u=yh;if(u&&r){var y=Un(u).hoistableStyles,x=vh(r);a=a||"default";var U=y.get(x);if(!U){var Q={loading:0,preload:null};if(U=u.querySelector(Od(x)))Q.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":a},l),(l=bs.get(x))&&fg(r,l);var me=U=u.createElement("link");bn(me),Ei(me,"link",r),me._p=new Promise(function(Me,qe){me.onload=Me,me.onerror=qe}),me.addEventListener("load",function(){Q.loading|=1}),me.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,km(U,a,u)}U={type:"stylesheet",instance:U,count:1,state:Q},y.set(x,U)}}}function C3(r,a){kl.X(r,a);var l=yh;if(l&&r){var u=Un(l).hoistableScripts,y=bh(r),x=u.get(y);x||(x=l.querySelector(Md(y)),x||(r=b({src:r,async:!0},a),(a=bs.get(y))&&mg(r,a),x=l.createElement("script"),bn(x),Ei(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function I3(r,a){kl.M(r,a);var l=yh;if(l&&r){var u=Un(l).hoistableScripts,y=bh(r),x=u.get(y);x||(x=l.querySelector(Md(y)),x||(r=b({src:r,async:!0,type:"module"},a),(a=bs.get(y))&&mg(r,a),x=l.createElement("script"),bn(x),Ei(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(y,x))}}function Cv(r,a,l,u){var y=(y=ne.current)?Tm(y):null;if(!y)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=vh(l.href),l=Un(y).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=vh(l.href);var x=Un(y).hoistableStyles,U=x.get(r);if(U||(y=y.ownerDocument||y,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,U),(x=y.querySelector(Od(r)))&&!x._p&&(U.instance=x,U.state.loading=5),bs.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},bs.set(r,l),x||L3(y,r,l,U.state))),a&&u===null)throw Error(i(528,""));return U}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=bh(l),l=Un(y).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function vh(r){return'href="'+dn(r)+'"'}function Od(r){return'link[rel="stylesheet"]['+r+"]"}function Iv(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function L3(r,a,l,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Ei(a,"link",l),bn(a),r.head.appendChild(a))}function bh(r){return'[src="'+dn(r)+'"]'}function Md(r){return"script[async]"+r}function Lv(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+dn(l.href)+'"]');if(u)return a.instance=u,bn(u),u;var y=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bn(u),Ei(u,"style",y),km(u,l.precedence,r),a.instance=u;case"stylesheet":y=vh(l.href);var x=r.querySelector(Od(y));if(x)return a.state.loading|=4,a.instance=x,bn(x),x;u=Iv(l),(y=bs.get(y))&&fg(u,y),x=(r.ownerDocument||r).createElement("link"),bn(x);var U=x;return U._p=new Promise(function(Q,me){U.onload=Q,U.onerror=me}),Ei(x,"link",u),a.state.loading|=4,km(x,l.precedence,r),a.instance=x;case"script":return x=bh(l.src),(y=r.querySelector(Md(x)))?(a.instance=y,bn(y),y):(u=l,(y=bs.get(x))&&(u=b({},l),mg(u,y)),r=r.ownerDocument||r,y=r.createElement("script"),bn(y),Ei(y,"link",u),r.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,km(u,l.precedence,r));return a.instance}function km(r,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=u.length?u[u.length-1]:null,x=y,U=0;U<u.length;U++){var Q=u[U];if(Q.dataset.precedence===a)x=Q;else if(x!==y)break}x?x.parentNode.insertBefore(r,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function fg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function mg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var jm=null;function Dv(r,a,l){if(jm===null){var u=new Map,y=jm=new Map;y.set(l,u)}else y=jm,u=y.get(l),u||(u=new Map,y.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),y=0;y<l.length;y++){var x=l[y];if(!(x[bi]||x[Tn]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var U=x.getAttribute(a)||"";U=r+U;var Q=u.get(U);Q?Q.push(x):u.set(U,[x])}}return u}function Pv(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function D3(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ov(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Vd=null;function P3(){}function O3(r,a,l){if(Vd===null)throw Error(i(475));var u=Vd;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=vh(l.href),x=r.querySelector(Od(y));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Rm.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=x,bn(x);return}x=r.ownerDocument||r,l=Iv(l),(y=bs.get(y))&&fg(l,y),x=x.createElement("link"),bn(x);var U=x;U._p=new Promise(function(Q,me){U.onload=Q,U.onerror=me}),Ei(x,"link",l),a.instance=x}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Rm.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function M3(){if(Vd===null)throw Error(i(475));var r=Vd;return r.stylesheets&&r.count===0&&pg(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&pg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Rm(){if(this.count--,this.count===0){if(this.stylesheets)pg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Cm=null;function pg(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Cm=new Map,a.forEach(V3,r),Cm=null,Rm.call(r))}function V3(r,a){if(!(a.state.loading&4)){var l=Cm.get(r);if(l)var u=l.get(null);else{l=new Map,Cm.set(r,l);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var U=y[x];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(l.set(U.dataset.precedence,U),u=U)}u&&l.set(null,u)}y=a.instance,U=y.getAttribute("data-precedence"),x=l.get(U)||u,x===u&&l.set(null,y),l.set(U,y),this.count++,u=Rm.bind(this),y.addEventListener("load",u),y.addEventListener("error",u),x?x.parentNode.insertBefore(y,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),a.state.loading|=4}}var Ud={$$typeof:J,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function U3(r,a,l,u,y,x,U,Q){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=u,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function Mv(r,a,l,u,y,x,U,Q,me,Me,qe,We){return r=new U3(r,a,l,U,Q,me,Me,We),a=1,x===!0&&(a|=24),x=ui(3,null,null,a),r.current=x,x.stateNode=r,a=ld(),a.refCount++,r.pooledCache=a,a.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:a},xe(x),r}function Vv(r){return r?(r=Fr,r):Fr}function Uv(r,a,l,u,y,x){y=Vv(y),u.context===null?u.context=y:u.pendingContext=y,u=ze(a),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=Ke(r,u,a),l!==null&&(Ya(l,r,a),He(l,r,a))}function Bv(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function gg(r,a){Bv(r,a),(r=r.alternate)&&Bv(r,a)}function Fv(r){if(r.tag===13){var a=Vs(r,67108864);a!==null&&Ya(a,r,67108864),gg(r,67108864)}}var Im=!0;function B3(r,a,l,u){var y=re.T;re.T=null;var x=he.p;try{he.p=2,yg(r,a,l,u)}finally{he.p=x,re.T=y}}function F3(r,a,l,u){var y=re.T;re.T=null;var x=he.p;try{he.p=8,yg(r,a,l,u)}finally{he.p=x,re.T=y}}function yg(r,a,l,u){if(Im){var y=vg(u);if(y===null)ig(r,a,u,Lm,l),qv(r,u);else if(q3(y,r,a,l,u))u.stopPropagation();else if(qv(r,u),a&4&&-1<z3.indexOf(r)){for(;y!==null;){var x=gr(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var U=Jt(x.pendingLanes);if(U!==0){var Q=x;for(Q.pendingLanes|=2,Q.entangledLanes|=2;U;){var me=1<<31-yt(U);Q.entanglements[1]|=me,U&=~me}Uo(x),(Dn&6)===0&&(gm=lt()+500,Id(0))}}break;case 13:Q=Vs(x,2),Q!==null&&Ya(Q,x,2),vm(),gg(x,2)}if(x=vg(u),x===null&&ig(r,a,u,Lm,l),x===y)break;y=x}y!==null&&u.stopPropagation()}else ig(r,a,u,null,l)}}function vg(r){return r=In(r),bg(r)}var Lm=null;function bg(r){if(Lm=null,r=Sr(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=c(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Lm=r,null}function zv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case Qe:return 2;case rt:return 8;case at:case it:return 32;case gt:return 268435456;default:return 32}default:return 32}}var xg=!1,Nc=null,Ac=null,Sc=null,Bd=new Map,Fd=new Map,Ec=[],z3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qv(r,a){switch(r){case"focusin":case"focusout":Nc=null;break;case"dragenter":case"dragleave":Ac=null;break;case"mouseover":case"mouseout":Sc=null;break;case"pointerover":case"pointerout":Bd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fd.delete(a.pointerId)}}function zd(r,a,l,u,y,x){return r===null||r.nativeEvent!==x?(r={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[y]},a!==null&&(a=gr(a),a!==null&&Fv(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),r)}function q3(r,a,l,u,y){switch(a){case"focusin":return Nc=zd(Nc,r,a,l,u,y),!0;case"dragenter":return Ac=zd(Ac,r,a,l,u,y),!0;case"mouseover":return Sc=zd(Sc,r,a,l,u,y),!0;case"pointerover":var x=y.pointerId;return Bd.set(x,zd(Bd.get(x)||null,r,a,l,u,y)),!0;case"gotpointercapture":return x=y.pointerId,Fd.set(x,zd(Fd.get(x)||null,r,a,l,u,y)),!0}return!1}function Hv(r){var a=Sr(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){r.blockedOn=a,Xi(r.priority,function(){if(l.tag===13){var u=$a();u=ki(u);var y=Vs(l,u);y!==null&&Ya(y,l,u),gg(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dm(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=vg(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);ca=u,l.target.dispatchEvent(u),ca=null}else return a=gr(l),a!==null&&Fv(a),r.blockedOn=l,!1;a.shift()}return!0}function Gv(r,a,l){Dm(r)&&l.delete(a)}function H3(){xg=!1,Nc!==null&&Dm(Nc)&&(Nc=null),Ac!==null&&Dm(Ac)&&(Ac=null),Sc!==null&&Dm(Sc)&&(Sc=null),Bd.forEach(Gv),Fd.forEach(Gv)}function Pm(r,a){r.blockedOn===a&&(r.blockedOn=null,xg||(xg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,H3)))}var Om=null;function $v(r){Om!==r&&(Om=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Om===r&&(Om=null);for(var a=0;a<r.length;a+=3){var l=r[a],u=r[a+1],y=r[a+2];if(typeof u!="function"){if(bg(u||l)===null)continue;break}var x=gr(l);x!==null&&(r.splice(a,3),a-=3,gs(x,{pending:!0,data:y,method:l.method,action:u},u,y))}}))}function qd(r){function a(me){return Pm(me,r)}Nc!==null&&Pm(Nc,r),Ac!==null&&Pm(Ac,r),Sc!==null&&Pm(Sc,r),Bd.forEach(a),Fd.forEach(a);for(var l=0;l<Ec.length;l++){var u=Ec[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ec.length&&(l=Ec[0],l.blockedOn===null);)Hv(l),l.blockedOn===null&&Ec.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var y=l[u],x=l[u+1],U=y[kn]||null;if(typeof x=="function")U||$v(l);else if(U){var Q=null;if(x&&x.hasAttribute("formAction")){if(y=x,U=x[kn]||null)Q=U.formAction;else if(bg(y)!==null)continue}else Q=U.action;typeof Q=="function"?l[u+1]=Q:(l.splice(u,3),u-=3),$v(l)}}}function wg(r){this._internalRoot=r}Mm.prototype.render=wg.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=$a();Uv(l,u,r,a,null,null)},Mm.prototype.unmount=wg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Uv(r.current,2,null,r,null,null),vm(),a[Hn]=null}};function Mm(r){this._internalRoot=r}Mm.prototype.unstable_scheduleHydration=function(r){if(r){var a=Qr();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Ec.length&&a!==0&&a<Ec[l].priority;l++);Ec.splice(l,0,r),l===0&&Hv(r)}};var Yv=e.version;if(Yv!=="19.1.0")throw Error(i(527,Yv,"19.1.0"));he.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(a),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var G3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{wt=Vm.inject(G3),xt=Vm}catch{}}return Gd.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,u="",y=cy,x=uy,U=hy,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(U=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(Q=a.unstable_transitionCallbacks)),a=Mv(r,1,!1,null,null,l,u,y,x,U,Q,null),r[Hn]=a.current,rg(r),new wg(a)},Gd.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var u=!1,y="",x=cy,U=uy,Q=hy,me=null,Me=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(me=l.unstable_transitionCallbacks),l.formState!==void 0&&(Me=l.formState)),a=Mv(r,1,!0,a,l??null,u,y,x,U,Q,me,Me),a.context=Vv(null),l=a.current,u=$a(),u=ki(u),y=ze(u),y.callback=null,Ke(l,y,u),l=u,a.current.lanes=l,Wr(a,l),Uo(a),r[Hn]=a.current,rg(r),new Mm(a)},Gd.version="19.1.0",Gd}var r5;function eN(){if(r5)return Ag.exports;r5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ag.exports=Z3(),Ag.exports}var tN=eN(),$d={},i5;function nN(){if(i5)return $d;i5=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.parse=c,$d.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function c(N,_){const D=new o,C=N.length;if(C<2)return D;const V=(_==null?void 0:_.decode)||b;let P=0;do{const M=N.indexOf("=",P);if(M===-1)break;const J=N.indexOf(";",P),se=J===-1?C:J;if(M>se){P=N.lastIndexOf(";",M-1)+1;continue}const ae=d(N,P,M),fe=f(N,M,ae),F=N.slice(ae,fe);if(D[F]===void 0){let T=d(N,M+1,se),I=f(N,se,T);const G=V(N.slice(T,I));D[F]=G}P=se+1}while(P<C);return D}function d(N,_,D){do{const C=N.charCodeAt(_);if(C!==32&&C!==9)return _}while(++_<D);return D}function f(N,_,D){for(;_>D;){const C=N.charCodeAt(--_);if(C!==32&&C!==9)return _+1}return D}function g(N,_,D){const C=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(N))throw new TypeError(`argument name is invalid: ${N}`);const V=C(_);if(!e.test(V))throw new TypeError(`argument val is invalid: ${_}`);let P=N+"="+V;if(!D)return P;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);P+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);P+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);P+="; Path="+D.path}if(D.expires){if(!A(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);P+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(P+="; HttpOnly"),D.secure&&(P+="; Secure"),D.partitioned&&(P+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return P}function b(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function A(N){return s.call(N)==="[object Date]"}return $d}nN();var a5="popstate";function rN(n={}){function e(s,o){let{pathname:c="/",search:d="",hash:f=""}=Bu(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Zg("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=s.location.href,g=f.indexOf("#");d=g===-1?f:f.slice(0,g)}return d+"#"+(typeof o=="string"?o:hf(o))}function i(s,o){Ns(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return aN(e,t,i,n)}function lr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ns(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iN(){return Math.random().toString(36).substring(2,10)}function s5(n,e){return{usr:n.state,key:n.key,idx:e}}function Zg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Bu(e):e,state:t,key:e&&e.key||i||iN()}}function hf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Bu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function aN(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,c=s.history,d="POP",f=null,g=b();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function b(){return(c.state||{idx:null}).idx}function A(){d="POP";let V=b(),P=V==null?null:V-g;g=V,f&&f({action:d,location:C.location,delta:P})}function N(V,P){d="PUSH";let M=Zg(C.location,V,P);t&&t(M,V),g=b()+1;let J=s5(M,g),se=C.createHref(M);try{c.pushState(J,"",se)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(se)}o&&f&&f({action:d,location:C.location,delta:1})}function _(V,P){d="REPLACE";let M=Zg(C.location,V,P);t&&t(M,V),g=b();let J=s5(M,g),se=C.createHref(M);c.replaceState(J,"",se),o&&f&&f({action:d,location:C.location,delta:0})}function D(V){return sN(V)}let C={get action(){return d},get location(){return n(s,c)},listen(V){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(a5,A),f=V,()=>{s.removeEventListener(a5,A),f=null}},createHref(V){return e(s,V)},createURL:D,encodeLocation(V){let P=D(V);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:N,replace:_,go(V){return c.go(V)}};return C}function sN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),lr(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:hf(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function yx(n,e,t="/"){return oN(n,e,t,!1)}function oN(n,e,t,i){let s=typeof e=="string"?Bu(e):e,o=Ol(s.pathname||"/",t);if(o==null)return null;let c=vx(n);lN(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let g=bN(o);d=yN(c[f],g,i)}return d}function vx(n,e=[],t=[],i=""){let s=(o,c,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(lr(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=Il([i,f.relativePath]),b=t.concat(f);o.children&&o.children.length>0&&(lr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),vx(o.children,e,b,g)),!(o.path==null&&!o.index)&&e.push({path:g,score:pN(g,o.index),routesMeta:b})};return n.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,c);else for(let f of bx(o.path))s(o,c,f)}),e}function bx(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let c=bx(i.join("/")),d=[];return d.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...c),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function lN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gN(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var cN=/^:[\w-]+$/,uN=3,hN=2,dN=1,fN=10,mN=-2,o5=n=>n==="*";function pN(n,e){let t=n.split("/"),i=t.length;return t.some(o5)&&(i+=mN),e&&(i+=hN),t.filter(s=>!o5(s)).reduce((s,o)=>s+(cN.test(o)?uN:o===""?dN:fN),i)}function gN(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function yN(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],g=d===i.length-1,b=o==="/"?e:e.slice(o.length)||"/",A=pp({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},b),N=f.route;if(!A&&g&&t&&!i[i.length-1].route.index&&(A=pp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},b)),!A)return null;Object.assign(s,A.params),c.push({params:s,pathname:Il([o,A.pathname]),pathnameBase:NN(Il([o,A.pathnameBase])),route:N}),A.pathnameBase!=="/"&&(o=Il([o,A.pathnameBase]))}return c}function pp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=vN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:b,isOptional:A},N)=>{if(b==="*"){let D=d[N]||"";c=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const _=d[N];return A&&!_?g[b]=void 0:g[b]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function vN(n,e=!1,t=!0){Ns(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function bN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ns(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ol(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function xN(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Bu(n):n;return{pathname:t?t.startsWith("/")?t:wN(t,e):e,search:AN(i),hash:SN(s)}}function wN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function kg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _N(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G1(n){let e=_N(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function $1(n,e,t,i=!1){let s;typeof n=="string"?s=Bu(n):(s={...n},lr(!s.pathname||!s.pathname.includes("?"),kg("?","pathname","search",s)),lr(!s.pathname||!s.pathname.includes("#"),kg("#","pathname","hash",s)),lr(!s.search||!s.search.includes("#"),kg("#","search","hash",s)));let o=n===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=t;else{let A=e.length-1;if(!i&&c.startsWith("..")){let N=c.split("/");for(;N[0]==="..";)N.shift(),A-=1;s.pathname=N.join("/")}d=A>=0?e[A]:"/"}let f=xN(s,d),g=c&&c!=="/"&&c.endsWith("/"),b=(o||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||b)&&(f.pathname+="/"),f}var Il=n=>n.join("/").replace(/\/\/+/g,"/"),NN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,SN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function EN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var xx=["POST","PUT","PATCH","DELETE"];new Set(xx);var TN=["GET",...xx];new Set(TN);var Qh=pe.createContext(null);Qh.displayName="DataRouter";var Bp=pe.createContext(null);Bp.displayName="DataRouterState";var wx=pe.createContext({isTransitioning:!1});wx.displayName="ViewTransition";var kN=pe.createContext(new Map);kN.displayName="Fetchers";var jN=pe.createContext(null);jN.displayName="Await";var ao=pe.createContext(null);ao.displayName="Navigation";var Af=pe.createContext(null);Af.displayName="Location";var Qo=pe.createContext({outlet:null,matches:[],isDataRoute:!1});Qo.displayName="Route";var Y1=pe.createContext(null);Y1.displayName="RouteError";function RN(n,{relative:e}={}){lr(Xh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=pe.useContext(ao),{hash:s,pathname:o,search:c}=Sf(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:Il([t,o])),i.createHref({pathname:d,search:c,hash:s})}function Xh(){return pe.useContext(Af)!=null}function zl(){return lr(Xh(),"useLocation() may be used only in the context of a <Router> component."),pe.useContext(Af).location}var _x="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nx(n){pe.useContext(ao).static||pe.useLayoutEffect(n)}function K1(){let{isDataRoute:n}=pe.useContext(Qo);return n?qN():CN()}function CN(){lr(Xh(),"useNavigate() may be used only in the context of a <Router> component.");let n=pe.useContext(Qh),{basename:e,navigator:t}=pe.useContext(ao),{matches:i}=pe.useContext(Qo),{pathname:s}=zl(),o=JSON.stringify(G1(i)),c=pe.useRef(!1);return Nx(()=>{c.current=!0}),pe.useCallback((f,g={})=>{if(Ns(c.current,_x),!c.current)return;if(typeof f=="number"){t.go(f);return}let b=$1(f,JSON.parse(o),s,g.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Il([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,o,s,n])}pe.createContext(null);function Sf(n,{relative:e}={}){let{matches:t}=pe.useContext(Qo),{pathname:i}=zl(),s=JSON.stringify(G1(t));return pe.useMemo(()=>$1(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function IN(n,e){return Ax(n,e)}function Ax(n,e,t,i){var P;lr(Xh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=pe.useContext(ao),{matches:o}=pe.useContext(Qo),c=o[o.length-1],d=c?c.params:{},f=c?c.pathname:"/",g=c?c.pathnameBase:"/",b=c&&c.route;{let M=b&&b.path||"";Sx(f,!b||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let A=zl(),N;if(e){let M=typeof e=="string"?Bu(e):e;lr(g==="/"||((P=M.pathname)==null?void 0:P.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),N=M}else N=A;let _=N.pathname||"/",D=_;if(g!=="/"){let M=g.replace(/^\//,"").split("/");D="/"+_.replace(/^\//,"").split("/").slice(M.length).join("/")}let C=yx(n,{pathname:D});Ns(b||C!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Ns(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=MN(C&&C.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Il([g,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Il([g,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,t,i);return e&&V?pe.createElement(Af.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},V):V}function LN(){let n=zN(),e=EN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=pe.createElement(pe.Fragment,null,pe.createElement("p",null,"💿 Hey developer 👋"),pe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",pe.createElement("code",{style:o},"ErrorBoundary")," or"," ",pe.createElement("code",{style:o},"errorElement")," prop on your route.")),pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},e),t?pe.createElement("pre",{style:s},t):null,c)}var DN=pe.createElement(LN,null),PN=class extends pe.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?pe.createElement(Qo.Provider,{value:this.props.routeContext},pe.createElement(Y1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ON({routeContext:n,match:e,children:t}){let i=pe.useContext(Qh);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),pe.createElement(Qo.Provider,{value:n},t)}function MN(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let f=s.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);lr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let g=s[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=f),g.route.id){let{loaderData:b,errors:A}=t,N=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||N){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,g,b)=>{let A,N=!1,_=null,D=null;t&&(A=o&&g.route.id?o[g.route.id]:void 0,_=g.route.errorElement||DN,c&&(d<0&&b===0?(Sx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,D=null):d===b&&(N=!0,D=g.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,b+1)),V=()=>{let P;return A?P=_:N?P=D:g.route.Component?P=pe.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=f,pe.createElement(ON,{match:g,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:P})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?pe.createElement(PN,{location:t.location,revalidation:t.revalidation,component:_,error:A,children:V(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):V()},null)}function W1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VN(n){let e=pe.useContext(Qh);return lr(e,W1(n)),e}function UN(n){let e=pe.useContext(Bp);return lr(e,W1(n)),e}function BN(n){let e=pe.useContext(Qo);return lr(e,W1(n)),e}function Q1(n){let e=BN(n),t=e.matches[e.matches.length-1];return lr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function FN(){return Q1("useRouteId")}function zN(){var i;let n=pe.useContext(Y1),e=UN("useRouteError"),t=Q1("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function qN(){let{router:n}=VN("useNavigate"),e=Q1("useNavigate"),t=pe.useRef(!1);return Nx(()=>{t.current=!0}),pe.useCallback(async(s,o={})=>{Ns(t.current,_x),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var l5={};function Sx(n,e,t){!e&&!l5[n]&&(l5[n]=!0,Ns(!1,t))}pe.memo(HN);function HN({routes:n,future:e,state:t}){return Ax(n,void 0,t,e)}function Jm({to:n,replace:e,state:t,relative:i}){lr(Xh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=pe.useContext(ao);Ns(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=pe.useContext(Qo),{pathname:c}=zl(),d=K1(),f=$1(n,G1(o),c,i==="path"),g=JSON.stringify(f);return pe.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function ni(n){lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GN({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1}){lr(!Xh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=pe.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof t=="string"&&(t=Bu(t));let{pathname:f="/",search:g="",hash:b="",state:A=null,key:N="default"}=t,_=pe.useMemo(()=>{let D=Ol(f,c);return D==null?null:{location:{pathname:D,search:g,hash:b,state:A,key:N},navigationType:i}},[c,f,g,b,A,N,i]);return Ns(_!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:pe.createElement(ao.Provider,{value:d},pe.createElement(Af.Provider,{children:e,value:_}))}function $N({children:n,location:e}){return IN(e1(n),e)}function e1(n,e=[]){let t=[];return pe.Children.forEach(n,(i,s)=>{if(!pe.isValidElement(i))return;let o=[...e,s];if(i.type===pe.Fragment){t.push.apply(t,e1(i.props.children,o));return}lr(i.type===ni,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=e1(i.props.children,o)),t.push(c)}),t}var Zm="get",ep="application/x-www-form-urlencoded";function Fp(n){return n!=null&&typeof n.tagName=="string"}function YN(n){return Fp(n)&&n.tagName.toLowerCase()==="button"}function KN(n){return Fp(n)&&n.tagName.toLowerCase()==="form"}function WN(n){return Fp(n)&&n.tagName.toLowerCase()==="input"}function QN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XN(n,e){return n.button===0&&(!e||e==="_self")&&!QN(n)}var Um=null;function JN(){if(Um===null)try{new FormData(document.createElement("form"),0),Um=!1}catch{Um=!0}return Um}var ZN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jg(n){return n!=null&&!ZN.has(n)?(Ns(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ep}"`),null):n}function e6(n,e){let t,i,s,o,c;if(KN(n)){let d=n.getAttribute("action");i=d?Ol(d,e):null,t=n.getAttribute("method")||Zm,s=jg(n.getAttribute("enctype"))||ep,o=new FormData(n)}else if(YN(n)||WN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(i=f?Ol(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Zm,s=jg(n.getAttribute("formenctype"))||jg(d.getAttribute("enctype"))||ep,o=new FormData(d,n),!JN()){let{name:g,type:b,value:A}=n;if(b==="image"){let N=g?`${g}.`:"";o.append(`${N}x`,"0"),o.append(`${N}y`,"0")}else g&&o.append(g,A)}}else{if(Fp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zm,i=null,s=ep,c=n}return o&&s==="text/plain"&&(c=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:c}}function X1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function t6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function r6(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await t6(o,t);return c.links?c.links():[]}return[]}));return o6(i.flat(1).filter(n6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function c5(n,e,t,i,s,o){let c=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,d=(f,g)=>{var b;return t[g].pathname!==f.pathname||((b=t[g].route.path)==null?void 0:b.endsWith("*"))&&t[g].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,g)=>c(f,g)||d(f,g)):o==="data"?e.filter((f,g)=>{var A;let b=i.routes[f.route.id];if(!b||!b.hasLoader)return!1;if(c(f,g)||d(f,g))return!0;if(f.route.shouldRevalidate){let N=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function i6(n,e,{includeHydrateFallback:t}={}){return a6(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function a6(n){return[...new Set(n)]}function s6(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function o6(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(s6(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var l6=new Set([100,101,204,205]);function c6(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ol(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Ex(){let n=pe.useContext(Qh);return X1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function u6(){let n=pe.useContext(Bp);return X1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var J1=pe.createContext(void 0);J1.displayName="FrameworkContext";function Tx(){let n=pe.useContext(J1);return X1(n,"You must render this element inside a <HydratedRouter> element"),n}function h6(n,e){let t=pe.useContext(J1),[i,s]=pe.useState(!1),[o,c]=pe.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:g,onMouseLeave:b,onTouchStart:A}=e,N=pe.useRef(null);pe.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let C=P=>{P.forEach(M=>{c(M.isIntersecting)})},V=new IntersectionObserver(C,{threshold:.5});return N.current&&V.observe(N.current),()=>{V.disconnect()}}},[n]),pe.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let _=()=>{s(!0)},D=()=>{s(!1),c(!1)};return t?n!=="intent"?[o,N,{}]:[o,N,{onFocus:Yd(d,_),onBlur:Yd(f,D),onMouseEnter:Yd(g,_),onMouseLeave:Yd(b,D),onTouchStart:Yd(A,_)}]:[!1,N,{}]}function Yd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function d6({page:n,...e}){let{router:t}=Ex(),i=pe.useMemo(()=>yx(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?pe.createElement(m6,{page:n,matches:i,...e}):null}function f6(n){let{manifest:e,routeModules:t}=Tx(),[i,s]=pe.useState([]);return pe.useEffect(()=>{let o=!1;return r6(n,e,t).then(c=>{o||s(c)}),()=>{o=!0}},[n,e,t]),i}function m6({page:n,matches:e,...t}){let i=zl(),{manifest:s,routeModules:o}=Tx(),{basename:c}=Ex(),{loaderData:d,matches:f}=u6(),g=pe.useMemo(()=>c5(n,e,f,s,i,"data"),[n,e,f,s,i]),b=pe.useMemo(()=>c5(n,e,f,s,i,"assets"),[n,e,f,s,i]),A=pe.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let D=new Set,C=!1;if(e.forEach(P=>{var J;let M=s.routes[P.route.id];!M||!M.hasLoader||(!g.some(se=>se.route.id===P.route.id)&&P.route.id in d&&((J=o[P.route.id])!=null&&J.shouldRevalidate)||M.hasClientLoader?C=!0:D.add(P.route.id))}),D.size===0)return[];let V=c6(n,c);return C&&D.size>0&&V.searchParams.set("_routes",e.filter(P=>D.has(P.route.id)).map(P=>P.route.id).join(",")),[V.pathname+V.search]},[c,d,i,s,g,e,n,o]),N=pe.useMemo(()=>i6(b,s),[b,s]),_=f6(b);return pe.createElement(pe.Fragment,null,A.map(D=>pe.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),N.map(D=>pe.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),_.map(({key:D,link:C})=>pe.createElement("link",{key:D,...C})))}function p6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kx&&(window.__reactRouterVersion="7.6.2")}catch{}function g6({basename:n,children:e,window:t}){let i=pe.useRef();i.current==null&&(i.current=rN({window:t,v5Compat:!0}));let s=i.current,[o,c]=pe.useState({action:s.action,location:s.location}),d=pe.useCallback(f=>{pe.startTransition(()=>c(f))},[c]);return pe.useLayoutEffect(()=>s.listen(d),[s,d]),pe.createElement(GN,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z1=pe.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:c,state:d,target:f,to:g,preventScrollReset:b,viewTransition:A,...N},_){let{basename:D}=pe.useContext(ao),C=typeof g=="string"&&jx.test(g),V,P=!1;if(typeof g=="string"&&C&&(V=g,kx))try{let I=new URL(window.location.href),G=g.startsWith("//")?new URL(I.protocol+g):new URL(g),R=Ol(G.pathname,D);G.origin===I.origin&&R!=null?g=R+G.search+G.hash:P=!0}catch{Ns(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=RN(g,{relative:s}),[J,se,ae]=h6(i,N),fe=x6(g,{replace:c,state:d,target:f,preventScrollReset:b,relative:s,viewTransition:A});function F(I){e&&e(I),I.defaultPrevented||fe(I)}let T=pe.createElement("a",{...N,...ae,href:V||M,onClick:P||o?e:F,ref:p6(_,se),target:f,"data-discover":!C&&t==="render"?"true":void 0});return J&&!C?pe.createElement(pe.Fragment,null,T,pe.createElement(d6,{page:M})):T});Z1.displayName="Link";var y6=pe.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:c,viewTransition:d,children:f,...g},b){let A=Sf(c,{relative:g.relative}),N=zl(),_=pe.useContext(Bp),{navigator:D,basename:C}=pe.useContext(ao),V=_!=null&&S6(A)&&d===!0,P=D.encodeLocation?D.encodeLocation(A).pathname:A.pathname,M=N.pathname,J=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(M=M.toLowerCase(),J=J?J.toLowerCase():null,P=P.toLowerCase()),J&&C&&(J=Ol(J,C)||J);const se=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let ae=M===P||!s&&M.startsWith(P)&&M.charAt(se)==="/",fe=J!=null&&(J===P||!s&&J.startsWith(P)&&J.charAt(P.length)==="/"),F={isActive:ae,isPending:fe,isTransitioning:V},T=ae?e:void 0,I;typeof i=="function"?I=i(F):I=[i,ae?"active":null,fe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(F):o;return pe.createElement(Z1,{...g,"aria-current":T,className:I,ref:b,style:G,to:c,viewTransition:d},typeof f=="function"?f(F):f)});y6.displayName="NavLink";var v6=pe.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:c=Zm,action:d,onSubmit:f,relative:g,preventScrollReset:b,viewTransition:A,...N},_)=>{let D=N6(),C=A6(d,{relative:g}),V=c.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&jx.test(d),M=J=>{if(f&&f(J),J.defaultPrevented)return;J.preventDefault();let se=J.nativeEvent.submitter,ae=(se==null?void 0:se.getAttribute("formmethod"))||c;D(se||J.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:s,state:o,relative:g,preventScrollReset:b,viewTransition:A})};return pe.createElement("form",{ref:_,method:V,action:C,onSubmit:i?f:M,...N,"data-discover":!P&&n==="render"?"true":void 0})});v6.displayName="Form";function b6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rx(n){let e=pe.useContext(Qh);return lr(e,b6(n)),e}function x6(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:c}={}){let d=K1(),f=zl(),g=Sf(n,{relative:o});return pe.useCallback(b=>{if(XN(b,e)){b.preventDefault();let A=t!==void 0?t:hf(f)===hf(g);d(n,{replace:A,state:i,preventScrollReset:s,relative:o,viewTransition:c})}},[f,d,g,t,i,e,n,s,o,c])}var w6=0,_6=()=>`__${String(++w6)}__`;function N6(){let{router:n}=Rx("useSubmit"),{basename:e}=pe.useContext(ao),t=FN();return pe.useCallback(async(i,s={})=>{let{action:o,method:c,encType:d,formData:f,body:g}=e6(i,e);if(s.navigate===!1){let b=s.fetcherKey||_6();await n.fetch(b,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function A6(n,{relative:e}={}){let{basename:t}=pe.useContext(ao),i=pe.useContext(Qo);lr(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Sf(n||".",{relative:e})},c=zl();if(n==null){o.search=c.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(b=>b==="")){d.delete("index"),f.filter(A=>A).forEach(A=>d.append("index",A));let b=d.toString();o.search=b?`?${b}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Il([t,o.pathname])),hf(o)}function S6(n,e={}){let t=pe.useContext(wx);lr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Rx("useViewTransitionState"),s=Sf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ol(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ol(t.nextLocation.pathname,i)||t.nextLocation.pathname;return pp(s.pathname,c)!=null||pp(s.pathname,o)!=null}[...l6];var e2=gx();const E6=()=>{};var u5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},T6=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],c=n[t++],d=n[t++],f=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Ix={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],c=s+1<n.length,d=c?n[s+1]:0,f=s+2<n.length,g=f?n[s+2]:0,b=o>>2,A=(o&3)<<4|d>>4;let N=(d&15)<<2|g>>6,_=g&63;f||(_=64,c||(N=64)),i.push(t[b],t[A],t[N],t[_])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Cx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const A=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||d==null||g==null||A==null)throw new k6;const N=o<<2|d>>4;if(i.push(N),g!==64){const _=d<<4&240|g>>2;if(i.push(_),A!==64){const D=g<<6&192|A;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class k6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j6=function(n){const e=Cx(n);return Ix.encodeByteArray(e,!0)},gp=function(n){return j6(n).replace(/\./g,"")},Lx=function(n){try{return Ix.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=()=>R6().__FIREBASE_DEFAULTS__,I6=()=>{if(typeof process>"u"||typeof u5>"u")return;const n=u5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},L6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Lx(n[1]);return e&&JSON.parse(e)},zp=()=>{try{return E6()||C6()||I6()||L6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Dx=n=>{var e,t;return(t=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},D6=n=>{const e=Dx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Px=()=>{var n;return(n=zp())===null||n===void 0?void 0:n.config},Ox=n=>{var e;return(e=zp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(n){return n.endsWith(".cloudworkstations.dev")}async function Mx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gp(JSON.stringify(t)),gp(JSON.stringify(c)),""].join(".")}const tf={};function M6(){const n={prod:[],emulator:[]};for(const e of Object.keys(tf))tf[e]?n.emulator.push(e):n.prod.push(e);return n}function V6(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let h5=!1;function Vx(n,e){if(typeof window>"u"||typeof document>"u"||!Jh(window.location.host)||tf[n]===e||tf[n]||h5)return;tf[n]=e;function t(N){return`__firebase__banner__${N}`}const i="__firebase__banner",o=M6().prod.length>0;function c(){const N=document.getElementById(i);N&&N.remove()}function d(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function f(N,_){N.setAttribute("width","24"),N.setAttribute("id",_),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function g(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{h5=!0,c()},N}function b(N,_){N.setAttribute("id",_),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=V6(i),_=t("text"),D=document.getElementById(_)||document.createElement("span"),C=t("learnmore"),V=document.getElementById(C)||document.createElement("a"),P=t("preprendIcon"),M=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const J=N.element;d(J),b(V,C);const se=g();f(M,P),J.append(M,D,V,se),document.body.appendChild(J)}o?(D.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qi())}function B6(){var n;const e=(n=zp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function q6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H6(){const n=Qi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function G6(){return!B6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $6(){try{return typeof indexedDB=="object"}catch{return!1}}function Y6(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="FirebaseError";class ql extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=K6,Object.setPrototypeOf(this,ql.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ef.prototype.create)}}class Ef{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?W6(o,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new ql(s,d,i)}}function W6(n,e){return n.replace(Q6,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Q6=/\{\$([^}]+)}/g;function X6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ru(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],c=e[s];if(d5(o)&&d5(c)){if(!Ru(o,c))return!1}else if(o!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function d5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Xd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function J6(n,e){const t=new Z6(n,e);return t.subscribe.bind(t)}class Z6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");eA(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Rg),s.error===void 0&&(s.error=Rg),s.complete===void 0&&(s.complete=Rg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(n){return n&&n._delegate?n._delegate:n}class Cu{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new P6;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rA(e))try{this.getOrInitializeService({instanceIdentifier:Au})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Au){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Au){return this.instances.has(e)}getOptions(e=Au){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);i===d&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Au){return this.component?this.component.multipleInstances?e:Au:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(n){return n===Au?void 0:n}function rA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(un||(un={}));const aA={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},sA=un.INFO,oA={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},lA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=oA[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t2{constructor(e){this.name=e,this._logLevel=sA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...e),this._logHandler(this,un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...e),this._logHandler(this,un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,un.INFO,...e),this._logHandler(this,un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,un.WARN,...e),this._logHandler(this,un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,un.ERROR,...e),this._logHandler(this,un.ERROR,...e)}}const cA=(n,e)=>e.some(t=>n instanceof t);let f5,m5;function uA(){return f5||(f5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hA(){return m5||(m5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ux=new WeakMap,t1=new WeakMap,Bx=new WeakMap,Cg=new WeakMap,n2=new WeakMap;function dA(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Uc(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Ux.set(t,n)}).catch(()=>{}),n2.set(e,n),e}function fA(n){if(t1.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});t1.set(n,e)}let n1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return t1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Bx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Uc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mA(n){n1=n(n1)}function pA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ig(this),e,...t);return Bx.set(i,e.sort?e.sort():[e]),Uc(i)}:hA().includes(n)?function(...e){return n.apply(Ig(this),e),Uc(Ux.get(this))}:function(...e){return Uc(n.apply(Ig(this),e))}}function gA(n){return typeof n=="function"?pA(n):(n instanceof IDBTransaction&&fA(n),cA(n,uA())?new Proxy(n,n1):n)}function Uc(n){if(n instanceof IDBRequest)return dA(n);if(Cg.has(n))return Cg.get(n);const e=gA(n);return e!==n&&(Cg.set(n,e),n2.set(e,n)),e}const Ig=n=>n2.get(n);function yA(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const c=indexedDB.open(n,e),d=Uc(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Uc(c.result),f.oldVersion,f.newVersion,Uc(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const vA=["get","getKey","getAll","getAllKeys","count"],bA=["put","add","delete","clear"],Lg=new Map;function p5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Lg.get(e))return Lg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=bA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||vA.includes(t)))return;const o=async function(c,...d){const f=this.transaction(c,s?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&f.done]))[0]};return Lg.set(e,o),o}mA(n=>({...n,get:(e,t,i)=>p5(e,t)||n.get(e,t,i),has:(e,t)=>!!p5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function wA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r1="@firebase/app",g5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new t2("@firebase/app"),_A="@firebase/app-compat",NA="@firebase/analytics-compat",AA="@firebase/analytics",SA="@firebase/app-check-compat",EA="@firebase/app-check",TA="@firebase/auth",kA="@firebase/auth-compat",jA="@firebase/database",RA="@firebase/data-connect",CA="@firebase/database-compat",IA="@firebase/functions",LA="@firebase/functions-compat",DA="@firebase/installations",PA="@firebase/installations-compat",OA="@firebase/messaging",MA="@firebase/messaging-compat",VA="@firebase/performance",UA="@firebase/performance-compat",BA="@firebase/remote-config",FA="@firebase/remote-config-compat",zA="@firebase/storage",qA="@firebase/storage-compat",HA="@firebase/firestore",GA="@firebase/ai",$A="@firebase/firestore-compat",YA="firebase",KA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="[DEFAULT]",WA={[r1]:"fire-core",[_A]:"fire-core-compat",[AA]:"fire-analytics",[NA]:"fire-analytics-compat",[EA]:"fire-app-check",[SA]:"fire-app-check-compat",[TA]:"fire-auth",[kA]:"fire-auth-compat",[jA]:"fire-rtdb",[RA]:"fire-data-connect",[CA]:"fire-rtdb-compat",[IA]:"fire-fn",[LA]:"fire-fn-compat",[DA]:"fire-iid",[PA]:"fire-iid-compat",[OA]:"fire-fcm",[MA]:"fire-fcm-compat",[VA]:"fire-perf",[UA]:"fire-perf-compat",[BA]:"fire-rc",[FA]:"fire-rc-compat",[zA]:"fire-gcs",[qA]:"fire-gcs-compat",[HA]:"fire-fst",[$A]:"fire-fst-compat",[GA]:"fire-vertex","fire-js":"fire-js",[YA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new Map,QA=new Map,a1=new Map;function y5(n,e){try{n.container.addComponent(e)}catch(t){Ml.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fh(n){const e=n.name;if(a1.has(e))return Ml.debug(`There were multiple attempts to register component ${e}.`),!1;a1.set(e,n);for(const t of yp.values())y5(t,n);for(const t of QA.values())y5(t,n);return!0}function r2(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ws(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bc=new Ef("app","Firebase",XA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=KA;function Fx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:i1,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Bc.create("bad-app-name",{appName:String(s)});if(t||(t=Px()),!t)throw Bc.create("no-options");const o=yp.get(s);if(o){if(Ru(t,o.options)&&Ru(i,o.config))return o;throw Bc.create("duplicate-app",{appName:s})}const c=new iA(s);for(const f of a1.values())c.addComponent(f);const d=new JA(t,i,c);return yp.set(s,d),d}function zx(n=i1){const e=yp.get(n);if(!e&&n===i1&&Px())return Fx();if(!e)throw Bc.create("no-app",{appName:n});return e}function Fc(n,e,t){var i;let s=(i=WA[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ml.warn(d.join(" "));return}Fh(new Cu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebase-heartbeat-database",eS=1,df="firebase-heartbeat-store";let Dg=null;function qx(){return Dg||(Dg=yA(ZA,eS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(df)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bc.create("idb-open",{originalErrorMessage:n.message})})),Dg}async function tS(n){try{const t=(await qx()).transaction(df),i=await t.objectStore(df).get(Hx(n));return await t.done,i}catch(e){if(e instanceof ql)Ml.warn(e.message);else{const t=Bc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ml.warn(t.message)}}}async function v5(n,e){try{const i=(await qx()).transaction(df,"readwrite");await i.objectStore(df).put(e,Hx(n)),await i.done}catch(t){if(t instanceof ql)Ml.warn(t.message);else{const i=Bc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ml.warn(i.message)}}}function Hx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=1024,rS=30;class iS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=b5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>rS){const c=oS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ml.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=b5(),{heartbeatsToSend:i,unsentEntries:s}=aS(this._heartbeatsCache.heartbeats),o=gp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ml.warn(t),""}}}function b5(){return new Date().toISOString().substring(0,10)}function aS(n,e=nS){const t=[];let i=n.slice();for(const s of n){const o=t.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),x5(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),x5(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class sS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $6()?Y6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return v5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return v5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function x5(n){return gp(JSON.stringify({version:2,heartbeats:n})).length}function oS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n){Fh(new Cu("platform-logger",e=>new xA(e),"PRIVATE")),Fh(new Cu("heartbeat",e=>new iS(e),"PRIVATE")),Fc(r1,g5,n),Fc(r1,g5,"esm2017"),Fc("fire-js","")}lS("");function i2(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function Gx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cS=Gx,$x=new Ef("auth","Firebase",Gx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=new t2("@firebase/auth");function uS(n,...e){vp.logLevel<=un.WARN&&vp.warn(`Auth (${Zh}): ${n}`,...e)}function tp(n,...e){vp.logLevel<=un.ERROR&&vp.error(`Auth (${Zh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(n,...e){throw a2(n,...e)}function Ho(n,...e){return a2(n,...e)}function Yx(n,e,t){const i=Object.assign(Object.assign({},cS()),{[e]:t});return new Ef("auth","Firebase",i).create(e,{appName:n.name})}function Ll(n){return Yx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a2(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return $x.create(n,...e)}function Ot(n,e,...t){if(!n)throw a2(e,...t)}function Rl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw tp(e),new Error(e)}function Vl(n,e){n||Rl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hS(){return w5()==="http:"||w5()==="https:"}function w5(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hS()||z6()||"connection"in navigator)?navigator.onLine:!0}function fS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vl(t>e,"Short delay should be less than long delay!"),this.isMobile=U6()||q6()}get(){return dS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(n,e){Vl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gS=new kf(3e4,6e4);function Hl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Gl(n,e,t,i,s={}){return Wx(n,s,async()=>{let o={},c={};i&&(e==="GET"?c=i:o={body:JSON.stringify(i)});const d=Tf(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:f},o);return F6()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Jh(n.emulatorConfig.host)&&(g.credentials="include"),Kx.fetch()(await Qx(n,n.config.apiHost,t,d),g)})}async function Wx(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},mS),e);try{const s=new vS(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Bm(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const d=o.ok?c.errorMessage:c.error.message,[f,g]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bm(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Bm(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Bm(n,"user-disabled",c);const b=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Yx(n,b,g);ro(n,b)}}catch(s){if(s instanceof ql)throw s;ro(n,"network-request-failed",{message:String(s)})}}async function jf(n,e,t,i,s={}){const o=await Gl(n,e,t,i,s);return"mfaPendingCredential"in o&&ro(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Qx(n,e,t,i){const s=`${e}${t}?${i}`,o=n,c=o.config.emulator?s2(n.config,s):`${n.config.apiScheme}://${s}`;return pS.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function yS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ho(this.auth,"network-request-failed")),gS.get())})}}function Bm(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Ho(n,e,i);return s.customData._tokenResponse=t,s}function _5(n){return n!==void 0&&n.enterprise!==void 0}class bS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xS(n,e){return Gl(n,"GET","/v2/recaptchaConfig",Hl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(n,e){return Gl(n,"POST","/v1/accounts:delete",e)}async function bp(n,e){return Gl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _S(n,e=!1){const t=yi(n),i=await t.getIdToken(e),s=o2(i);Ot(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:nf(Pg(s.auth_time)),issuedAtTime:nf(Pg(s.iat)),expirationTime:nf(Pg(s.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Pg(n){return Number(n)*1e3}function o2(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return tp("JWT malformed, contained fewer than 3 sections"),null;try{const s=Lx(t);return s?JSON.parse(s):(tp("Failed to decode base64 JWT payload"),null)}catch(s){return tp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function N5(n){const e=o2(n);return Ot(e,"internal-error"),Ot(typeof e.exp<"u","internal-error"),Ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ql&&NS(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function NS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nf(this.lastLoginAt),this.creationTime=nf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(n){var e;const t=n.auth,i=await n.getIdToken(),s=await ff(n,bp(t,{idToken:i}));Ot(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Xx(o.providerUserInfo):[],d=ES(n.providerData,c),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),b=f?g:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new o1(o.createdAt,o.lastLoginAt),isAnonymous:b};Object.assign(n,A)}async function SS(n){const e=yi(n);await xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ES(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Xx(n){return n.map(e=>{var{providerId:t}=e,i=i2(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TS(n,e){const t=await Wx(n,{},async()=>{const i=Tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,c=await Qx(n,s,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:i};return n.emulatorConfig&&Jh(n.emulatorConfig.host)&&(f.credentials="include"),Kx.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kS(n,e){return Gl(n,"POST","/v2/accounts:revokeToken",Hl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ot(e.idToken,"internal-error"),Ot(typeof e.idToken<"u","internal-error"),Ot(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ot(e.length!==0,"internal-error");const t=N5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await TS(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,c=new Ih;return i&&(Ot(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Ot(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),o&&(Ot(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ih,this.toJSON())}_performRefresh(){return Rl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(n,e){Ot(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class no{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,o=i2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new o1(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ff(this,this.stsTokenManager.getToken(this.auth,e));return Ot(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _S(this,e)}reload(){return SS(this)}_assign(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new no(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await xp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ws(this.auth.app))return Promise.reject(Ll(this.auth));const e=await this.getIdToken();return await ff(this,wS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,o,c,d,f,g,b;const A=(i=t.displayName)!==null&&i!==void 0?i:void 0,N=(s=t.email)!==null&&s!==void 0?s:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,D=(c=t.photoURL)!==null&&c!==void 0?c:void 0,C=(d=t.tenantId)!==null&&d!==void 0?d:void 0,V=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,P=(g=t.createdAt)!==null&&g!==void 0?g:void 0,M=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:J,emailVerified:se,isAnonymous:ae,providerData:fe,stsTokenManager:F}=t;Ot(J&&F,e,"internal-error");const T=Ih.fromJSON(this.name,F);Ot(typeof J=="string",e,"internal-error"),kc(A,e.name),kc(N,e.name),Ot(typeof se=="boolean",e,"internal-error"),Ot(typeof ae=="boolean",e,"internal-error"),kc(_,e.name),kc(D,e.name),kc(C,e.name),kc(V,e.name),kc(P,e.name),kc(M,e.name);const I=new no({uid:J,auth:e,email:N,emailVerified:se,displayName:A,isAnonymous:ae,photoURL:D,phoneNumber:_,tenantId:C,stsTokenManager:T,createdAt:P,lastLoginAt:M});return fe&&Array.isArray(fe)&&(I.providerData=fe.map(G=>Object.assign({},G))),V&&(I._redirectEventId=V),I}static async _fromIdTokenResponse(e,t,i=!1){const s=new Ih;s.updateFromServerResponse(t);const o=new no({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await xp(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ot(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?Xx(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new Ih;d.updateFromIdToken(i);const f=new no({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new o1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=new Map;function Cl(n){Vl(n instanceof Function,"Expected a class definition");let e=A5.get(n);return e?(Vl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,A5.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Jx.type="NONE";const S5=Jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n,e,t){return`firebase:${n}:${e}:${t}`}class Lh{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=np(this.userKey,s.apiKey,o),this.fullPersistenceKey=np("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await bp(this.auth,{idToken:e}).catch(()=>{});return t?no._fromGetAccountInfoResponse(this.auth,t,e):null}return no._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Lh(Cl(S5),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=s[0]||Cl(S5);const c=np(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const b=await g._get(c);if(b){let A;if(typeof b=="string"){const N=await bp(e,{idToken:b}).catch(()=>{});if(!N)break;A=await no._fromGetAccountInfoResponse(e,N,b)}else A=no._fromJSON(e,b);g!==o&&(d=A),o=g;break}}catch{}const f=s.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Lh(o,e,i):(o=f[0],d&&await o._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Lh(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iw(e))return"Blackberry";if(aw(e))return"Webos";if(ew(e))return"Safari";if((e.includes("chrome/")||tw(e))&&!e.includes("edge/"))return"Chrome";if(rw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Zx(n=Qi()){return/firefox\//i.test(n)}function ew(n=Qi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tw(n=Qi()){return/crios\//i.test(n)}function nw(n=Qi()){return/iemobile/i.test(n)}function rw(n=Qi()){return/android/i.test(n)}function iw(n=Qi()){return/blackberry/i.test(n)}function aw(n=Qi()){return/webos/i.test(n)}function l2(n=Qi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jS(n=Qi()){var e;return l2(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RS(){return H6()&&document.documentMode===10}function sw(n=Qi()){return l2(n)||rw(n)||aw(n)||iw(n)||/windows phone/i.test(n)||nw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n,e=[]){let t;switch(n){case"Browser":t=E5(Qi());break;case"Worker":t=`${E5(Qi())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zh}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((c,d)=>{try{const f=e(o);c(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(n,e={}){return Gl(n,"GET","/v2/passwordPolicy",Hl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=6;class DS{constructor(e){var t,i,s,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:LS,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,o,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T5(this),this.idTokenSubscription=new T5(this),this.beforeStateQueue=new CS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$x,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cl(t)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await Lh.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bp(this,{idToken:e}),i=await no._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ws(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ws(this.app))return Promise.reject(Ll(this));const t=e?yi(e):null;return t&&Ot(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ws(this.app)?Promise.reject(Ll(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ws(this.app)?Promise.reject(Ll(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IS(this),t=new DS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ef("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await kS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cl(e)||this._popupRedirectResolver;Ot(t,this,"argument-error"),this.redirectPersistenceManager=await Lh.create(this,[Cl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(d,this,"internal-error"),d.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,s);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&uS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Jc(n){return yi(n)}class T5{constructor(e){this.auth=e,this.observer=null,this.addObserver=J6(t=>this.observer=t)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OS(n){qp=n}function lw(n){return qp.loadJS(n)}function MS(){return qp.recaptchaEnterpriseScript}function VS(){return qp.gapiScript}function US(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class BS{constructor(){this.enterprise=new FS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zS="recaptcha-enterprise",cw="NO_RECAPTCHA";class qS{constructor(e){this.type=zS,this.auth=Jc(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,d)=>{xS(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new bS(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(f=>{d(f)})})}function s(o,c,d){const f=window.grecaptcha;_5(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(g=>{c(g)}).catch(()=>{c(cw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BS().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(d=>{if(!t&&_5(window.grecaptcha))s(d,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=MS();f.length!==0&&(f+=d),lw(f).then(()=>{s(d,o,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function k5(n,e,t,i=!1,s=!1){const o=new qS(n);let c;if(s)c=cw;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function wp(n,e,t,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await k5(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await k5(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n,e){const t=r2(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Ru(o,e??{}))return s;ro(s,"already-initialized")}return t.initialize({options:e})}function GS(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Cl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function $S(n,e,t){const i=Jc(n);Ot(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=uw(e),{host:c,port:d}=YS(e),f=d===null?"":`:${d}`,g={url:`${o}//${c}${f}/`},b=Object.freeze({host:c,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ot(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ot(Ru(g,i.config.emulator)&&Ru(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,Jh(c)?(Mx(`${o}//${c}${f}`),Vx("Auth",!0)):KS()}function uw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function YS(n){const e=uw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:j5(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:j5(c)}}}function j5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function KS(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rl("not implemented")}_getIdTokenResponse(e){return Rl("not implemented")}_linkToIdToken(e,t){return Rl("not implemented")}_getReauthenticationResolver(e){return Rl("not implemented")}}async function WS(n,e){return Gl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(n,e){return jf(n,"POST","/v1/accounts:signInWithPassword",Hl(n,e))}async function XS(n,e){return Gl(n,"POST","/v1/accounts:sendOobCode",Hl(n,e))}async function JS(n,e){return XS(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(n,e){return jf(n,"POST","/v1/accounts:signInWithEmailLink",Hl(n,e))}async function eE(n,e){return jf(n,"POST","/v1/accounts:signInWithEmailLink",Hl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends c2{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new mf(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new mf(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,t,"signInWithPassword",QS);case"emailLink":return ZS(e,{email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,i,"signUpPassword",WS);case"emailLink":return eE(e,{idToken:t,email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(n,e){return jf(n,"POST","/v1/accounts:signInWithIdp",Hl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="http://localhost";class Iu extends c2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ro("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,o=i2(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new Iu(i,s);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Dh(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Dh(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dh(e,t)}buildRequest(){const e={requestUri:tE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rE(n){const e=Qd(Xd(n)).link,t=e?Qd(Xd(e)).deep_link_id:null,i=Qd(Xd(n)).deep_link_id;return(i?Qd(Xd(i)).link:null)||i||t||e||n}class u2{constructor(e){var t,i,s,o,c,d;const f=Qd(Xd(e)),g=(t=f.apiKey)!==null&&t!==void 0?t:null,b=(i=f.oobCode)!==null&&i!==void 0?i:null,A=nE((s=f.mode)!==null&&s!==void 0?s:null);Ot(g&&b&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=b,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=rE(e);try{return new u2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.providerId=ed.PROVIDER_ID}static credential(e,t){return mf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=u2.parseLink(t);return Ot(i,"argument-error"),mf._fromEmailAndCode(e,i.code,i.tenantId)}}ed.PROVIDER_ID="password";ed.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ed.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends hw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Rf{constructor(){super("facebook.com")}static credential(e){return Iu._fromParams({providerId:Ic.PROVIDER_ID,signInMethod:Ic.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ic.credentialFromTaggedObject(e)}static credentialFromError(e){return Ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ic.credential(e.oauthAccessToken)}catch{return null}}}Ic.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ic.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Rf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Iu._fromParams({providerId:Lc.PROVIDER_ID,signInMethod:Lc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Lc.credentialFromTaggedObject(e)}static credentialFromError(e){return Lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Lc.credential(t,i)}catch{return null}}}Lc.GOOGLE_SIGN_IN_METHOD="google.com";Lc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Rf{constructor(){super("github.com")}static credential(e){return Iu._fromParams({providerId:Dc.PROVIDER_ID,signInMethod:Dc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dc.credentialFromTaggedObject(e)}static credentialFromError(e){return Dc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dc.credential(e.oauthAccessToken)}catch{return null}}}Dc.GITHUB_SIGN_IN_METHOD="github.com";Dc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Rf{constructor(){super("twitter.com")}static credential(e,t){return Iu._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pc.credentialFromTaggedObject(e)}static credentialFromError(e){return Pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Pc.credential(t,i)}catch{return null}}}Pc.TWITTER_SIGN_IN_METHOD="twitter.com";Pc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iE(n,e){return jf(n,"POST","/v1/accounts:signUp",Hl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await no._fromIdTokenResponse(e,i,s),c=R5(i);return new Lu({user:o,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=R5(i);return new Lu({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function R5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends ql{constructor(e,t,i,s){var o;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,_p.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new _p(e,t,i,s)}}function dw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_p._fromErrorAndOperation(n,o,e,i):o})}async function aE(n,e,t=!1){const i=await ff(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lu._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sE(n,e,t=!1){const{auth:i}=n;if(ws(i.app))return Promise.reject(Ll(i));const s="reauthenticate";try{const o=await ff(n,dw(i,s,e,n),t);Ot(o.idToken,i,"internal-error");const c=o2(o.idToken);Ot(c,i,"internal-error");const{sub:d}=c;return Ot(n.uid===d,i,"user-mismatch"),Lu._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ro(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(n,e,t=!1){if(ws(n.app))return Promise.reject(Ll(n));const i="signIn",s=await dw(n,i,e),o=await Lu._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}async function oE(n,e){return fw(Jc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(n){const e=Jc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lE(n,e,t){const i=Jc(n);await wp(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",JS)}async function cE(n,e,t){if(ws(n.app))return Promise.reject(Ll(n));const i=Jc(n),c=await wp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iE).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&mw(n),f}),d=await Lu._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function pw(n,e,t){return ws(n.app)?Promise.reject(Ll(n)):oE(yi(n),ed.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mw(n),i})}function uE(n,e,t,i){return yi(n).onIdTokenChanged(e,t,i)}function hE(n,e,t){return yi(n).beforeAuthStateChanged(e,t)}function dE(n,e,t,i){return yi(n).onAuthStateChanged(e,t,i)}function xh(n){return yi(n).signOut()}const Np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=1e3,mE=10;class yw extends gw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);RS()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mE):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},fE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yw.type="LOCAL";const pE=yw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends gw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vw.type="SESSION";const bw=vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Hp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,o)),f=await gE(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,c;return new Promise((d,f)=>{const g=h2("",20);s.port1.start();const b=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(A){const N=A;if(N.data.eventId===g)switch(N.data.status){case"ack":clearTimeout(b),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(N.data.response);break;default:clearTimeout(b),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return window}function vE(n){Go().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){return typeof Go().WorkerGlobalScope<"u"&&typeof Go().importScripts=="function"}async function bE(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xE(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function wE(){return xw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="firebaseLocalStorageDb",_E=1,Ap="firebaseLocalStorage",_w="fbase_key";class Cf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gp(n,e){return n.transaction([Ap],e?"readwrite":"readonly").objectStore(Ap)}function NE(){const n=indexedDB.deleteDatabase(ww);return new Cf(n).toPromise()}function l1(){const n=indexedDB.open(ww,_E);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ap,{keyPath:_w})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ap)?e(i):(i.close(),await NE(),e(await l1()))})})}async function C5(n,e,t){const i=Gp(n,!0).put({[_w]:e,value:t});return new Cf(i).toPromise()}async function AE(n,e){const t=Gp(n,!1).get(e),i=await new Cf(t).toPromise();return i===void 0?null:i.value}function I5(n,e){const t=Gp(n,!0).delete(e);return new Cf(t).toPromise()}const SE=800,EE=3;class Nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>EE)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hp._getInstance(wE()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await bE(),!this.activeServiceWorker)return;this.sender=new yE(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l1();return await C5(e,Np,"1"),await I5(e,Np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>C5(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>AE(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>I5(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Gp(s,!1).getAll();return new Cf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nw.type="LOCAL";const TE=Nw;new kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(n,e){return e?Cl(e):(Ot(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends c2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jE(n){return fw(n.auth,new d2(n),n.bypassAuthState)}function RE(n){const{auth:e,user:t}=n;return Ot(t,e,"internal-error"),sE(t,new d2(n),n.bypassAuthState)}async function CE(n){const{auth:e,user:t}=n;return Ot(t,e,"internal-error"),aE(t,new d2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jE;case"linkViaPopup":case"linkViaRedirect":return CE;case"reauthViaPopup":case"reauthViaRedirect":return RE;default:ro(this.auth,"internal-error")}}resolve(e){Vl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new kf(2e3,1e4);class jh extends Aw{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,jh.currentPopupAction&&jh.currentPopupAction.cancel(),jh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ot(e,this.auth,"internal-error"),e}async onExecution(){Vl(this.filter.length===1,"Popup operations only handle one event");const e=h2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ho(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ho(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ho(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IE.get())};e()}}jh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="pendingRedirect",rp=new Map;class DE extends Aw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=rp.get(this.auth._key());if(!e){try{const i=await PE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}rp.set(this.auth._key(),e)}return this.bypassAuthState||rp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PE(n,e){const t=VE(e),i=ME(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function OE(n,e){rp.set(n._key(),e)}function ME(n){return Cl(n._redirectPersistence)}function VE(n){return np(LE,n.config.apiKey,n.name)}async function UE(n,e,t=!1){if(ws(n.app))return Promise.reject(Ll(n));const i=Jc(n),s=kE(i,e),c=await new DE(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=10*60*1e3;class FE{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zE(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Sw(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ho(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BE&&this.cachedEventUids.clear(),this.cachedEventUids.has(L5(e))}saveEventToCache(e){this.cachedEventUids.add(L5(e)),this.lastProcessedEventTime=Date.now()}}function L5(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Sw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zE(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qE(n,e={}){return Gl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GE=/^https?/;async function $E(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qE(n);for(const t of e)try{if(YE(t))return}catch{}ro(n,"unauthorized-domain")}function YE(n){const e=s1(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!GE.test(t))return!1;if(HE.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new kf(3e4,6e4);function D5(){const n=Go().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WE(n){return new Promise((e,t)=>{var i,s,o;function c(){D5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{D5(),t(Ho(n,"network-request-failed"))},timeout:KE.get()})}if(!((s=(i=Go().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Go().gapi)===null||o===void 0)&&o.load)c();else{const d=US("iframefcb");return Go()[d]=()=>{gapi.load?c():t(Ho(n,"network-request-failed"))},lw(`${VS()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw ip=null,e})}let ip=null;function QE(n){return ip=ip||WE(n),ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new kf(5e3,15e3),JE="__/auth/iframe",ZE="emulator/auth/iframe",eT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nT(n){const e=n.config;Ot(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?s2(e,ZE):`https://${n.config.authDomain}/${JE}`,i={apiKey:e.apiKey,appName:n.name,v:Zh},s=tT.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Tf(i).slice(1)}`}async function rT(n){const e=await QE(n),t=Go().gapi;return Ot(t,n,"internal-error"),e.open({where:document.body,url:nT(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eT,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const c=Ho(n,"network-request-failed"),d=Go().setTimeout(()=>{o(c)},XE.get());function f(){Go().clearTimeout(d),s(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aT=500,sT=600,oT="_blank",lT="http://localhost";class P5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cT(n,e,t,i=aT,s=sT){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},iT),{width:i.toString(),height:s.toString(),top:o,left:c}),g=Qi().toLowerCase();t&&(d=tw(g)?oT:t),Zx(g)&&(e=e||lT,f.scrollbars="yes");const b=Object.entries(f).reduce((N,[_,D])=>`${N}${_}=${D},`,"");if(jS(g)&&d!=="_self")return uT(e||"",d),new P5(null);const A=window.open(e||"",d,b);Ot(A,n,"popup-blocked");try{A.focus()}catch{}return new P5(A)}function uT(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__/auth/handler",dT="emulator/auth/handler",fT=encodeURIComponent("fac");async function O5(n,e,t,i,s,o){Ot(n.config.authDomain,n,"auth-domain-config-required"),Ot(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Zh,eventId:s};if(e instanceof hw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",X6(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))c[b]=A}if(e instanceof Rf){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(c.scopes=b.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const f=await n._getAppCheckToken(),g=f?`#${fT}=${encodeURIComponent(f)}`:"";return`${mT(n)}?${Tf(d).slice(1)}${g}`}function mT({config:n}){return n.emulator?s2(n,dT):`https://${n.authDomain}/${hT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="webStorageSupport";class pT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bw,this._completeRedirectFn=UE,this._overrideRedirectResult=OE}async _openPopup(e,t,i,s){var o;Vl((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await O5(e,t,i,s1(),s);return cT(e,c,h2())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await O5(e,t,i,s1(),s);return vE(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Vl(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await rT(e),i=new FE(e);return t.register("authEvent",s=>(Ot(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Og,{type:Og},s=>{var o;const c=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Og];c!==void 0&&t(!!c),ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$E(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sw()||ew()||l2()}}const gT=pT;var M5="@firebase/auth",V5="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bT(n){Fh(new Cu("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ot(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ow(n)},g=new PS(i,s,o,f);return GS(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Fh(new Cu("auth-internal",e=>{const t=Jc(e.getProvider("auth").getImmediate());return(i=>new yT(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fc(M5,V5,vT(n)),Fc(M5,V5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=5*60,wT=Ox("authIdTokenMaxAge")||xT;let U5=null;const _T=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>wT)return;const s=t==null?void 0:t.token;U5!==s&&(U5=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function NT(n=zx()){const e=r2(n,"auth");if(e.isInitialized())return e.getImmediate();const t=HS(n,{popupRedirectResolver:gT,persistence:[TE,pE,bw]}),i=Ox("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=_T(o.toString());hE(t,c,()=>c(t.currentUser)),uE(t,d=>c(d))}}const s=Dx("auth");return s&&$S(t,`http://${s}`),t}function AT(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}OS({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=Ho("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",AT().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bT("Browser");var B5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zc,Ew;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,T){function I(){}I.prototype=T.prototype,F.D=T.prototype,F.prototype=new I,F.prototype.constructor=F,F.C=function(G,R,k){for(var O=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)O[ee-2]=arguments[ee];return T.prototype[R].apply(G,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(F,T,I){I||(I=0);var G=Array(16);if(typeof T=="string")for(var R=0;16>R;++R)G[R]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(R=0;16>R;++R)G[R]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=F.g[0],I=F.g[1],R=F.g[2];var k=F.g[3],O=T+(k^I&(R^k))+G[0]+3614090360&4294967295;T=I+(O<<7&4294967295|O>>>25),O=k+(R^T&(I^R))+G[1]+3905402710&4294967295,k=T+(O<<12&4294967295|O>>>20),O=R+(I^k&(T^I))+G[2]+606105819&4294967295,R=k+(O<<17&4294967295|O>>>15),O=I+(T^R&(k^T))+G[3]+3250441966&4294967295,I=R+(O<<22&4294967295|O>>>10),O=T+(k^I&(R^k))+G[4]+4118548399&4294967295,T=I+(O<<7&4294967295|O>>>25),O=k+(R^T&(I^R))+G[5]+1200080426&4294967295,k=T+(O<<12&4294967295|O>>>20),O=R+(I^k&(T^I))+G[6]+2821735955&4294967295,R=k+(O<<17&4294967295|O>>>15),O=I+(T^R&(k^T))+G[7]+4249261313&4294967295,I=R+(O<<22&4294967295|O>>>10),O=T+(k^I&(R^k))+G[8]+1770035416&4294967295,T=I+(O<<7&4294967295|O>>>25),O=k+(R^T&(I^R))+G[9]+2336552879&4294967295,k=T+(O<<12&4294967295|O>>>20),O=R+(I^k&(T^I))+G[10]+4294925233&4294967295,R=k+(O<<17&4294967295|O>>>15),O=I+(T^R&(k^T))+G[11]+2304563134&4294967295,I=R+(O<<22&4294967295|O>>>10),O=T+(k^I&(R^k))+G[12]+1804603682&4294967295,T=I+(O<<7&4294967295|O>>>25),O=k+(R^T&(I^R))+G[13]+4254626195&4294967295,k=T+(O<<12&4294967295|O>>>20),O=R+(I^k&(T^I))+G[14]+2792965006&4294967295,R=k+(O<<17&4294967295|O>>>15),O=I+(T^R&(k^T))+G[15]+1236535329&4294967295,I=R+(O<<22&4294967295|O>>>10),O=T+(R^k&(I^R))+G[1]+4129170786&4294967295,T=I+(O<<5&4294967295|O>>>27),O=k+(I^R&(T^I))+G[6]+3225465664&4294967295,k=T+(O<<9&4294967295|O>>>23),O=R+(T^I&(k^T))+G[11]+643717713&4294967295,R=k+(O<<14&4294967295|O>>>18),O=I+(k^T&(R^k))+G[0]+3921069994&4294967295,I=R+(O<<20&4294967295|O>>>12),O=T+(R^k&(I^R))+G[5]+3593408605&4294967295,T=I+(O<<5&4294967295|O>>>27),O=k+(I^R&(T^I))+G[10]+38016083&4294967295,k=T+(O<<9&4294967295|O>>>23),O=R+(T^I&(k^T))+G[15]+3634488961&4294967295,R=k+(O<<14&4294967295|O>>>18),O=I+(k^T&(R^k))+G[4]+3889429448&4294967295,I=R+(O<<20&4294967295|O>>>12),O=T+(R^k&(I^R))+G[9]+568446438&4294967295,T=I+(O<<5&4294967295|O>>>27),O=k+(I^R&(T^I))+G[14]+3275163606&4294967295,k=T+(O<<9&4294967295|O>>>23),O=R+(T^I&(k^T))+G[3]+4107603335&4294967295,R=k+(O<<14&4294967295|O>>>18),O=I+(k^T&(R^k))+G[8]+1163531501&4294967295,I=R+(O<<20&4294967295|O>>>12),O=T+(R^k&(I^R))+G[13]+2850285829&4294967295,T=I+(O<<5&4294967295|O>>>27),O=k+(I^R&(T^I))+G[2]+4243563512&4294967295,k=T+(O<<9&4294967295|O>>>23),O=R+(T^I&(k^T))+G[7]+1735328473&4294967295,R=k+(O<<14&4294967295|O>>>18),O=I+(k^T&(R^k))+G[12]+2368359562&4294967295,I=R+(O<<20&4294967295|O>>>12),O=T+(I^R^k)+G[5]+4294588738&4294967295,T=I+(O<<4&4294967295|O>>>28),O=k+(T^I^R)+G[8]+2272392833&4294967295,k=T+(O<<11&4294967295|O>>>21),O=R+(k^T^I)+G[11]+1839030562&4294967295,R=k+(O<<16&4294967295|O>>>16),O=I+(R^k^T)+G[14]+4259657740&4294967295,I=R+(O<<23&4294967295|O>>>9),O=T+(I^R^k)+G[1]+2763975236&4294967295,T=I+(O<<4&4294967295|O>>>28),O=k+(T^I^R)+G[4]+1272893353&4294967295,k=T+(O<<11&4294967295|O>>>21),O=R+(k^T^I)+G[7]+4139469664&4294967295,R=k+(O<<16&4294967295|O>>>16),O=I+(R^k^T)+G[10]+3200236656&4294967295,I=R+(O<<23&4294967295|O>>>9),O=T+(I^R^k)+G[13]+681279174&4294967295,T=I+(O<<4&4294967295|O>>>28),O=k+(T^I^R)+G[0]+3936430074&4294967295,k=T+(O<<11&4294967295|O>>>21),O=R+(k^T^I)+G[3]+3572445317&4294967295,R=k+(O<<16&4294967295|O>>>16),O=I+(R^k^T)+G[6]+76029189&4294967295,I=R+(O<<23&4294967295|O>>>9),O=T+(I^R^k)+G[9]+3654602809&4294967295,T=I+(O<<4&4294967295|O>>>28),O=k+(T^I^R)+G[12]+3873151461&4294967295,k=T+(O<<11&4294967295|O>>>21),O=R+(k^T^I)+G[15]+530742520&4294967295,R=k+(O<<16&4294967295|O>>>16),O=I+(R^k^T)+G[2]+3299628645&4294967295,I=R+(O<<23&4294967295|O>>>9),O=T+(R^(I|~k))+G[0]+4096336452&4294967295,T=I+(O<<6&4294967295|O>>>26),O=k+(I^(T|~R))+G[7]+1126891415&4294967295,k=T+(O<<10&4294967295|O>>>22),O=R+(T^(k|~I))+G[14]+2878612391&4294967295,R=k+(O<<15&4294967295|O>>>17),O=I+(k^(R|~T))+G[5]+4237533241&4294967295,I=R+(O<<21&4294967295|O>>>11),O=T+(R^(I|~k))+G[12]+1700485571&4294967295,T=I+(O<<6&4294967295|O>>>26),O=k+(I^(T|~R))+G[3]+2399980690&4294967295,k=T+(O<<10&4294967295|O>>>22),O=R+(T^(k|~I))+G[10]+4293915773&4294967295,R=k+(O<<15&4294967295|O>>>17),O=I+(k^(R|~T))+G[1]+2240044497&4294967295,I=R+(O<<21&4294967295|O>>>11),O=T+(R^(I|~k))+G[8]+1873313359&4294967295,T=I+(O<<6&4294967295|O>>>26),O=k+(I^(T|~R))+G[15]+4264355552&4294967295,k=T+(O<<10&4294967295|O>>>22),O=R+(T^(k|~I))+G[6]+2734768916&4294967295,R=k+(O<<15&4294967295|O>>>17),O=I+(k^(R|~T))+G[13]+1309151649&4294967295,I=R+(O<<21&4294967295|O>>>11),O=T+(R^(I|~k))+G[4]+4149444226&4294967295,T=I+(O<<6&4294967295|O>>>26),O=k+(I^(T|~R))+G[11]+3174756917&4294967295,k=T+(O<<10&4294967295|O>>>22),O=R+(T^(k|~I))+G[2]+718787259&4294967295,R=k+(O<<15&4294967295|O>>>17),O=I+(k^(R|~T))+G[9]+3951481745&4294967295,F.g[0]=F.g[0]+T&4294967295,F.g[1]=F.g[1]+(R+(O<<21&4294967295|O>>>11))&4294967295,F.g[2]=F.g[2]+R&4294967295,F.g[3]=F.g[3]+k&4294967295}i.prototype.u=function(F,T){T===void 0&&(T=F.length);for(var I=T-this.blockSize,G=this.B,R=this.h,k=0;k<T;){if(R==0)for(;k<=I;)s(this,F,k),k+=this.blockSize;if(typeof F=="string"){for(;k<T;)if(G[R++]=F.charCodeAt(k++),R==this.blockSize){s(this,G),R=0;break}}else for(;k<T;)if(G[R++]=F[k++],R==this.blockSize){s(this,G),R=0;break}}this.h=R,this.o+=T},i.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var T=1;T<F.length-8;++T)F[T]=0;var I=8*this.o;for(T=F.length-8;T<F.length;++T)F[T]=I&255,I/=256;for(this.u(F),F=Array(16),T=I=0;4>T;++T)for(var G=0;32>G;G+=8)F[I++]=this.g[T]>>>G&255;return F};function o(F,T){var I=d;return Object.prototype.hasOwnProperty.call(I,F)?I[F]:I[F]=T(F)}function c(F,T){this.h=T;for(var I=[],G=!0,R=F.length-1;0<=R;R--){var k=F[R]|0;G&&k==T||(I[R]=k,G=!1)}this.g=I}var d={};function f(F){return-128<=F&&128>F?o(F,function(T){return new c([T|0],0>T?-1:0)}):new c([F|0],0>F?-1:0)}function g(F){if(isNaN(F)||!isFinite(F))return A;if(0>F)return V(g(-F));for(var T=[],I=1,G=0;F>=I;G++)T[G]=F/I|0,I*=4294967296;return new c(T,0)}function b(F,T){if(F.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(F.charAt(0)=="-")return V(b(F.substring(1),T));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(T,8)),G=A,R=0;R<F.length;R+=8){var k=Math.min(8,F.length-R),O=parseInt(F.substring(R,R+k),T);8>k?(k=g(Math.pow(T,k)),G=G.j(k).add(g(O))):(G=G.j(I),G=G.add(g(O)))}return G}var A=f(0),N=f(1),_=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-V(this).m();for(var F=0,T=1,I=0;I<this.g.length;I++){var G=this.i(I);F+=(0<=G?G:4294967296+G)*T,T*=4294967296}return F},n.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(D(this))return"0";if(C(this))return"-"+V(this).toString(F);for(var T=g(Math.pow(F,6)),I=this,G="";;){var R=se(I,T).g;I=P(I,R.j(T));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(F);if(I=R,D(I))return k+G;for(;6>k.length;)k="0"+k;G=k+G}},n.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function D(F){if(F.h!=0)return!1;for(var T=0;T<F.g.length;T++)if(F.g[T]!=0)return!1;return!0}function C(F){return F.h==-1}n.l=function(F){return F=P(this,F),C(F)?-1:D(F)?0:1};function V(F){for(var T=F.g.length,I=[],G=0;G<T;G++)I[G]=~F.g[G];return new c(I,~F.h).add(N)}n.abs=function(){return C(this)?V(this):this},n.add=function(F){for(var T=Math.max(this.g.length,F.g.length),I=[],G=0,R=0;R<=T;R++){var k=G+(this.i(R)&65535)+(F.i(R)&65535),O=(k>>>16)+(this.i(R)>>>16)+(F.i(R)>>>16);G=O>>>16,k&=65535,O&=65535,I[R]=O<<16|k}return new c(I,I[I.length-1]&-2147483648?-1:0)};function P(F,T){return F.add(V(T))}n.j=function(F){if(D(this)||D(F))return A;if(C(this))return C(F)?V(this).j(V(F)):V(V(this).j(F));if(C(F))return V(this.j(V(F)));if(0>this.l(_)&&0>F.l(_))return g(this.m()*F.m());for(var T=this.g.length+F.g.length,I=[],G=0;G<2*T;G++)I[G]=0;for(G=0;G<this.g.length;G++)for(var R=0;R<F.g.length;R++){var k=this.i(G)>>>16,O=this.i(G)&65535,ee=F.i(R)>>>16,ve=F.i(R)&65535;I[2*G+2*R]+=O*ve,M(I,2*G+2*R),I[2*G+2*R+1]+=k*ve,M(I,2*G+2*R+1),I[2*G+2*R+1]+=O*ee,M(I,2*G+2*R+1),I[2*G+2*R+2]+=k*ee,M(I,2*G+2*R+2)}for(G=0;G<T;G++)I[G]=I[2*G+1]<<16|I[2*G];for(G=T;G<2*T;G++)I[G]=0;return new c(I,0)};function M(F,T){for(;(F[T]&65535)!=F[T];)F[T+1]+=F[T]>>>16,F[T]&=65535,T++}function J(F,T){this.g=F,this.h=T}function se(F,T){if(D(T))throw Error("division by zero");if(D(F))return new J(A,A);if(C(F))return T=se(V(F),T),new J(V(T.g),V(T.h));if(C(T))return T=se(F,V(T)),new J(V(T.g),T.h);if(30<F.g.length){if(C(F)||C(T))throw Error("slowDivide_ only works with positive integers.");for(var I=N,G=T;0>=G.l(F);)I=ae(I),G=ae(G);var R=fe(I,1),k=fe(G,1);for(G=fe(G,2),I=fe(I,2);!D(G);){var O=k.add(G);0>=O.l(F)&&(R=R.add(I),k=O),G=fe(G,1),I=fe(I,1)}return T=P(F,R.j(T)),new J(R,T)}for(R=A;0<=F.l(T);){for(I=Math.max(1,Math.floor(F.m()/T.m())),G=Math.ceil(Math.log(I)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),k=g(I),O=k.j(T);C(O)||0<O.l(F);)I-=G,k=g(I),O=k.j(T);D(k)&&(k=N),R=R.add(k),F=P(F,O)}return new J(R,F)}n.A=function(F){return se(this,F).h},n.and=function(F){for(var T=Math.max(this.g.length,F.g.length),I=[],G=0;G<T;G++)I[G]=this.i(G)&F.i(G);return new c(I,this.h&F.h)},n.or=function(F){for(var T=Math.max(this.g.length,F.g.length),I=[],G=0;G<T;G++)I[G]=this.i(G)|F.i(G);return new c(I,this.h|F.h)},n.xor=function(F){for(var T=Math.max(this.g.length,F.g.length),I=[],G=0;G<T;G++)I[G]=this.i(G)^F.i(G);return new c(I,this.h^F.h)};function ae(F){for(var T=F.g.length+1,I=[],G=0;G<T;G++)I[G]=F.i(G)<<1|F.i(G-1)>>>31;return new c(I,F.h)}function fe(F,T){var I=T>>5;T%=32;for(var G=F.g.length-I,R=[],k=0;k<G;k++)R[k]=0<T?F.i(k+I)>>>T|F.i(k+I+1)<<32-T:F.i(k+I);return new c(R,F.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ew=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=b,zc=c}).apply(typeof B5<"u"?B5:typeof self<"u"?self:typeof window<"u"?window:{});var Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tw,Jd,kw,ap,c1,jw,Rw,Cw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,L){return p==Array.prototype||p==Object.prototype||(p[E]=L.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fm=="object"&&Fm];for(var E=0;E<p.length;++E){var L=p[E];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var i=t(this);function s(p,E){if(E)e:{var L=i;p=p.split(".");for(var W=0;W<p.length-1;W++){var Te=p[W];if(!(Te in L))break e;L=L[Te]}p=p[p.length-1],W=L[p],E=E(W),E!=W&&E!=null&&e(L,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var L=0,W=!1,Te={next:function(){if(!W&&L<p.length){var Oe=L++;return{value:E(Oe,p[Oe]),done:!1}}return W=!0,{done:!0,value:void 0}}};return Te[Symbol.iterator]=function(){return Te},Te}s("Array.prototype.values",function(p){return p||function(){return o(this,function(E,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function g(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function b(p,E,L){return p.call.apply(p.bind,arguments)}function A(p,E,L){if(!p)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var Te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Te,W),p.apply(E,Te)}}return function(){return p.apply(E,arguments)}}function N(p,E,L){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,N.apply(null,arguments)}function _(p,E){var L=Array.prototype.slice.call(arguments,1);return function(){var W=L.slice();return W.push.apply(W,arguments),p.apply(this,W)}}function D(p,E){function L(){}L.prototype=E.prototype,p.aa=E.prototype,p.prototype=new L,p.prototype.constructor=p,p.Qb=function(W,Te,Oe){for(var tt=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)tt[jt-2]=arguments[jt];return E.prototype[Te].apply(W,tt)}}function C(p){const E=p.length;if(0<E){const L=Array(E);for(let W=0;W<E;W++)L[W]=p[W];return L}return[]}function V(p,E){for(let L=1;L<arguments.length;L++){const W=arguments[L];if(f(W)){const Te=p.length||0,Oe=W.length||0;p.length=Te+Oe;for(let tt=0;tt<Oe;tt++)p[Te+tt]=W[tt]}else p.push(W)}}class P{constructor(E,L){this.i=E,this.j=L,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function M(p){return/^[\s\xa0]*$/.test(p)}function J(){var p=d.navigator;return p&&(p=p.userAgent)?p:""}function se(p){return se[" "](p),p}se[" "]=function(){};var ae=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function fe(p,E,L){for(const W in p)E.call(L,p[W],W,p)}function F(p,E){for(const L in p)E.call(void 0,p[L],L,p)}function T(p){const E={};for(const L in p)E[L]=p[L];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(p,E){let L,W;for(let Te=1;Te<arguments.length;Te++){W=arguments[Te];for(L in W)p[L]=W[L];for(let Oe=0;Oe<I.length;Oe++)L=I[Oe],Object.prototype.hasOwnProperty.call(W,L)&&(p[L]=W[L])}}function R(p){var E=1;p=p.split(":");const L=[];for(;0<E&&p.length;)L.push(p.shift()),E--;return p.length&&L.push(p.join(":")),L}function k(p){d.setTimeout(()=>{throw p},0)}function O(){var p=_e;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class ee{constructor(){this.h=this.g=null}add(E,L){const W=ve.get();W.set(E,L),this.h?this.h.next=W:this.g=W,this.h=W}}var ve=new P(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(E,L){this.h=E,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let he,oe=!1,_e=new ee,X=()=>{const p=d.Promise.resolve(void 0);he=()=>{p.then(Re)}};var Re=()=>{for(var p;p=O();){try{p.h.call(p.g)}catch(L){k(L)}var E=ve;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}oe=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const L=()=>{};d.addEventListener("test",L,E),d.removeEventListener("test",L,E)}catch{}return p}();function ue(p,E){if(Y.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var L=this.type=p.type,W=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(ae){e:{try{se(E.nodeName);var Te=!0;break e}catch{}Te=!1}Te||(E=null)}}else L=="mouseover"?E=p.fromElement:L=="mouseout"&&(E=p.toElement);this.relatedTarget=E,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ne[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ue.aa.h.call(this)}}D(ue,Y);var ne={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),we=0;function Se(p,E,L,W,Te){this.listener=p,this.proxy=null,this.src=E,this.type=L,this.capture=!!W,this.ha=Te,this.key=++we,this.da=this.fa=!1}function nt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ze(p){this.src=p,this.g={},this.h=0}Ze.prototype.add=function(p,E,L,W,Te){var Oe=p.toString();p=this.g[Oe],p||(p=this.g[Oe]=[],this.h++);var tt=ge(p,E,W,Te);return-1<tt?(E=p[tt],L||(E.fa=!1)):(E=new Se(E,this.src,Oe,!!W,Te),E.fa=L,p.push(E)),E};function Ee(p,E){var L=E.type;if(L in p.g){var W=p.g[L],Te=Array.prototype.indexOf.call(W,E,void 0),Oe;(Oe=0<=Te)&&Array.prototype.splice.call(W,Te,1),Oe&&(nt(E),p.g[L].length==0&&(delete p.g[L],p.h--))}}function ge(p,E,L,W){for(var Te=0;Te<p.length;++Te){var Oe=p[Te];if(!Oe.da&&Oe.listener==E&&Oe.capture==!!L&&Oe.ha==W)return Te}return-1}var $e="closure_lm_"+(1e6*Math.random()|0),De={};function le(p,E,L,W,Te){if(Array.isArray(E)){for(var Oe=0;Oe<E.length;Oe++)le(p,E[Oe],L,W,Te);return null}return L=Ut(L),p&&p[de]?p.K(E,L,g(W)?!!W.capture:!1,Te):lt(p,E,L,!1,W,Te)}function lt(p,E,L,W,Te,Oe){if(!E)throw Error("Invalid event type");var tt=g(Te)?!!Te.capture:!!Te,jt=gt(p);if(jt||(p[$e]=jt=new Ze(p)),L=jt.add(E,L,W,tt,Oe),L.proxy)return L;if(W=st(),L.proxy=W,W.src=p,W.listener=L,p.addEventListener)te||(Te=tt),Te===void 0&&(Te=!1),p.addEventListener(E.toString(),W,Te);else if(p.attachEvent)p.attachEvent(at(E.toString()),W);else if(p.addListener&&p.removeListener)p.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return L}function st(){function p(L){return E.call(p.src,p.listener,L)}const E=it;return p}function Qe(p,E,L,W,Te){if(Array.isArray(E))for(var Oe=0;Oe<E.length;Oe++)Qe(p,E[Oe],L,W,Te);else W=g(W)?!!W.capture:!!W,L=Ut(L),p&&p[de]?(p=p.i,E=String(E).toString(),E in p.g&&(Oe=p.g[E],L=ge(Oe,L,W,Te),-1<L&&(nt(Oe[L]),Array.prototype.splice.call(Oe,L,1),Oe.length==0&&(delete p.g[E],p.h--)))):p&&(p=gt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=ge(E,L,W,Te)),(L=-1<p?E[p]:null)&&rt(L))}function rt(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[de])Ee(E.i,p);else{var L=p.type,W=p.proxy;E.removeEventListener?E.removeEventListener(L,W,p.capture):E.detachEvent?E.detachEvent(at(L),W):E.addListener&&E.removeListener&&E.removeListener(W),(L=gt(E))?(Ee(L,p),L.h==0&&(L.src=null,E[$e]=null)):nt(p)}}}function at(p){return p in De?De[p]:De[p]="on"+p}function it(p,E){if(p.da)p=!0;else{E=new ue(E,this);var L=p.listener,W=p.ha||p.src;p.fa&&rt(p),p=L.call(W,E)}return p}function gt(p){return p=p[$e],p instanceof Ze?p:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(p){return typeof p=="function"?p:(p[Ct]||(p[Ct]=function(E){return p.handleEvent(E)}),p[Ct])}function wt(){B.call(this),this.i=new Ze(this),this.M=this,this.F=null}D(wt,B),wt.prototype[de]=!0,wt.prototype.removeEventListener=function(p,E,L,W){Qe(this,p,E,L,W)};function xt(p,E){var L,W=p.F;if(W)for(L=[];W;W=W.F)L.push(W);if(p=p.M,W=E.type||E,typeof E=="string")E=new Y(E,p);else if(E instanceof Y)E.target=E.target||p;else{var Te=E;E=new Y(W,p),G(E,Te)}if(Te=!0,L)for(var Oe=L.length-1;0<=Oe;Oe--){var tt=E.g=L[Oe];Te=$t(tt,W,!0,E)&&Te}if(tt=E.g=p,Te=$t(tt,W,!0,E)&&Te,Te=$t(tt,W,!1,E)&&Te,L)for(Oe=0;Oe<L.length;Oe++)tt=E.g=L[Oe],Te=$t(tt,W,!1,E)&&Te}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var L=p.g[E],W=0;W<L.length;W++)nt(L[W]);delete p.g[E],p.h--}}this.F=null},wt.prototype.K=function(p,E,L,W){return this.i.add(String(p),E,!1,L,W)},wt.prototype.L=function(p,E,L,W){return this.i.add(String(p),E,!0,L,W)};function $t(p,E,L,W){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Te=!0,Oe=0;Oe<E.length;++Oe){var tt=E[Oe];if(tt&&!tt.da&&tt.capture==L){var jt=tt.listener,rn=tt.ha||tt.src;tt.fa&&Ee(p.i,tt),Te=jt.call(rn,W)!==!1&&Te}}return Te&&!W.defaultPrevented}function yt(p,E,L){if(typeof p=="function")L&&(p=N(p,L));else if(p&&typeof p.handleEvent=="function")p=N(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:d.setTimeout(p,E||0)}function Yt(p){p.g=yt(()=>{p.g=null,p.i&&(p.i=!1,Yt(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class ht extends B{constructor(E,L){super(),this.m=E,this.l=L,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Yt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(p){B.call(this),this.h=p,this.g={}}D(er,B);var Qt=[];function Kr(p){fe(p.g,function(E,L){this.g.hasOwnProperty(L)&&rt(E)},p),p.g={}}er.prototype.N=function(){er.aa.N.call(this),Kr(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=d.JSON.stringify,En=d.JSON.parse,ii=class{stringify(p){return d.JSON.stringify(p,void 0)}parse(p){return d.JSON.parse(p,void 0)}};function ln(){}ln.prototype.h=null;function Ea(p){return p.h||(p.h=p.i())}function Mn(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wr(){Y.call(this,"d")}D(Wr,Y);function Vn(){Y.call(this,"c")}D(Vn,Y);var At={},cn=null;function ki(){return cn=cn||new wt}At.La="serverreachability";function tr(p){Y.call(this,At.La,p)}D(tr,Y);function Qr(p){const E=ki();xt(E,new tr(E))}At.STAT_EVENT="statevent";function Xi(p,E){Y.call(this,At.STAT_EVENT,p),this.stat=E}D(Xi,Y);function dt(p){const E=ki();xt(E,new Xi(E,p))}At.Ma="timingevent";function Tn(p,E){Y.call(this,At.Ma,p),this.size=E}D(Tn,Y);function kn(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){p()},E)}function Hn(){this.g=!0}Hn.prototype.xa=function(){this.g=!1};function Wn(p,E,L,W,Te,Oe){p.info(function(){if(p.g)if(Oe)for(var tt="",jt=Oe.split("&"),rn=0;rn<jt.length;rn++){var Bt=jt[rn].split("=");if(1<Bt.length){var wn=Bt[0];Bt=Bt[1];var jn=wn.split("_");tt=2<=jn.length&&jn[1]=="type"?tt+(wn+"="+Bt+"&"):tt+(wn+"=redacted&")}}else tt=null;else tt=Oe;return"XMLHTTP REQ ("+W+") [attempt "+Te+"]: "+E+`
`+L+`
`+tt})}function nr(p,E,L,W,Te,Oe,tt){p.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+Te+"]: "+E+`
`+L+`
`+Oe+" "+tt})}function pr(p,E,L,W){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+bi(p,L)+(W?" "+W:"")})}function Es(p,E){p.info(function(){return"TIMEOUT: "+E})}Hn.prototype.info=function(){};function bi(p,E){if(!p.g)return E;if(!E)return null;try{var L=JSON.parse(E);if(L){for(p=0;p<L.length;p++)if(Array.isArray(L[p])){var W=L[p];if(!(2>W.length)){var Te=W[1];if(Array.isArray(Te)&&!(1>Te.length)){var Oe=Te[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var tt=1;tt<Te.length;tt++)Te[tt]=""}}}}return Jt(L)}catch{return E}}var Vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function Er(){}D(Er,ln),Er.prototype.g=function(){return new XMLHttpRequest},Er.prototype.i=function(){return{}},gr=new Er;function Un(p,E,L,W){this.j=p,this.i=E,this.l=L,this.R=W||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bn}function bn(){this.i=null,this.g="",this.h=!1}var Ta={},ka={};function ai(p,E,L){p.L=1,p.v=es(Jr(E)),p.m=L,p.P=!0,ji(p,null)}function ji(p,E){p.F=Date.now(),ks(p),p.A=Jr(p.v);var L=p.A,W=p.R;Array.isArray(W)||(W=[String(W)]),kt(L.i,"t",W),p.C=0,L=p.j.J,p.h=new bn,p.g=q(p.j,L?E:null,!p.m),0<p.O&&(p.M=new ht(N(p.Y,p,p.g),p.O)),E=p.U,L=p.g,W=p.ca;var Te="readystatechange";Array.isArray(Te)||(Te&&(Qt[0]=Te.toString()),Te=Qt);for(var Oe=0;Oe<Te.length;Oe++){var tt=le(L,Te[Oe],W||E.handleEvent,!1,E.h||E);if(!tt)break;E.g[tt.key]=tt}E=p.H?T(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Qr(),Wn(p.i,p.u,p.A,p.l,p.R,p.m)}Un.prototype.ca=function(p){p=p.target;const E=this.M;E&&vr(p)==3?E.j():this.Y(p)},Un.prototype.Y=function(p){try{if(p==this.g)e:{const jn=vr(this.g);var E=this.g.Ba();const pa=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||Xl(this.g)))){this.J||jn!=4||E==7||(E==8||0>=pa?Qr(3):Qr(2)),Ji(this);var L=this.g.Z();this.X=L;t:if(Ts(this)){var W=Xl(this.g);p="";var Te=W.length,Oe=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),Zi(this);var tt="";break t}this.h.i=new d.TextDecoder}for(E=0;E<Te;E++)this.h.h=!0,p+=this.h.i.decode(W[E],{stream:!(Oe&&E==Te-1)});W.length=0,this.h.g+=p,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=L==200,nr(this.i,this.u,this.A,this.l,this.R,jn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,rn=this.g;if((jt=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(jt)){var Bt=jt;break t}}Bt=null}if(L=Bt)pr(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,L);else{this.o=!1,this.s=3,dt(12),Tr(this),Zi(this);break e}}if(this.P){L=!0;let cr;for(;!this.J&&this.C<tt.length;)if(cr=Jo(this,tt),cr==ka){jn==4&&(this.s=4,dt(14),L=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==Ta){this.s=4,dt(15),pr(this.i,this.l,tt,"[Invalid Chunk]"),L=!1;break}else pr(this.i,this.l,cr,null),ja(this,cr);if(Ts(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||tt.length!=0||this.h.h||(this.s=1,dt(16),L=!1),this.o=this.o&&L,!L)pr(this.i,this.l,tt,"[Invalid Chunked Response]"),Tr(this),Zi(this);else if(0<tt.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ss(wn),wn.M=!0,dt(11))}}else pr(this.i,this.l,tt,null),ja(this,tt);jn==4&&Tr(this),this.o&&!this.J&&(jn==4?os(this.j,this):(this.o=!1,ks(this)))}else rs(this.g),L==400&&0<tt.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Tr(this),Zi(this)}}}catch{}finally{}};function Ts(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Jo(p,E){var L=p.C,W=E.indexOf(`
`,L);return W==-1?ka:(L=Number(E.substring(L,W)),isNaN(L)?Ta:(W+=1,W+L>E.length?ka:(E=E.slice(W,W+L),p.C=W+L,E)))}Un.prototype.cancel=function(){this.J=!0,Tr(this)};function ks(p){p.S=Date.now()+p.I,$l(p,p.I)}function $l(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=kn(N(p.ba,p),E)}function Ji(p){p.B&&(d.clearTimeout(p.B),p.B=null)}Un.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Es(this.i,this.A),this.L!=2&&(Qr(),dt(17)),Tr(this),this.s=2,Zi(this)):$l(this,this.S-p)};function Zi(p){p.j.G==0||p.J||os(p.j,p)}function Tr(p){Ji(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Kr(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function ja(p,E){try{var L=p.j;if(L.G!=0&&(L.g==p||Zo(L.h,p))){if(!p.K&&Zo(L.h,p)&&L.G==3){try{var W=L.Da.g.parse(E)}catch{W=null}if(Array.isArray(W)&&W.length==3){var Te=W;if(Te[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<p.F)Ma(L),fo(L);else break e;Ds(L),dt(18)}}else L.za=Te[1],0<L.za-L.T&&37500>Te[2]&&L.F&&L.v==0&&!L.C&&(L.C=kn(N(L.Za,L),6e3));if(1>=Ra(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else ci(L,11)}else if((p.K||L.g==p)&&Ma(L),!M(E))for(Te=L.Da.g.parse(E),E=0;E<Te.length;E++){let Bt=Te[E];if(L.T=Bt[0],Bt=Bt[1],L.G==2)if(Bt[0]=="c"){L.K=Bt[1],L.ia=Bt[2];const wn=Bt[3];wn!=null&&(L.la=wn,L.j.info("VER="+L.la));const jn=Bt[4];jn!=null&&(L.Aa=jn,L.j.info("SVER="+L.Aa));const pa=Bt[5];pa!=null&&typeof pa=="number"&&0<pa&&(W=1.5*pa,L.L=W,L.j.info("backChannelRequestTimeoutMs_="+W)),W=L;const cr=p.g;if(cr){const Di=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Di){var Oe=W.h;Oe.g||Di.indexOf("spdy")==-1&&Di.indexOf("quic")==-1&&Di.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Bn(Oe,Oe.h),Oe.h=null))}if(W.D){const ls=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;ls&&(W.ya=ls,xn(W.I,W.D,ls))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-p.F,L.j.info("Handshake RTT: "+L.R+"ms")),W=L;var tt=p;if(W.qa=w(W,W.J?W.ia:null,W.W),tt.K){Ur(W.h,tt);var jt=tt,rn=W.L;rn&&(jt.I=rn),jt.B&&(Ji(jt),ks(jt)),W.g=tt}else po(W);0<L.i.length&&mo(L)}else Bt[0]!="stop"&&Bt[0]!="close"||ci(L,7);else L.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ci(L,7):Oa(L):Bt[0]!="noop"&&L.l&&L.l.ta(Bt),L.v=0)}}Qr(4)}catch{}}var Yl=class{constructor(p,E){this.g=p,this.map=E}};function oa(p){this.l=p||10,d.PerformanceNavigationTiming?(p=d.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lo(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ra(p){return p.h?1:p.g?p.g.size:0}function Zo(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Bn(p,E){p.g?p.g.add(E):p.h=E}function Ur(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}oa.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function co(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const L of p.g.values())E=E.concat(L.D);return E}return C(p.i)}function Kl(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var E=[],L=p.length,W=0;W<L;W++)E.push(p[W]);return E}E=[],L=0;for(W in p)E[L++]=p[W];return E}function Xa(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var E=[];p=p.length;for(var L=0;L<p;L++)E.push(L);return E}E=[],L=0;for(const W in p)E[L++]=W;return E}}}function el(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var L=Xa(p),W=Kl(p),Te=W.length,Oe=0;Oe<Te;Oe++)E.call(void 0,W[Oe],L&&L[Oe],p)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(p,E){if(p){p=p.split("&");for(var L=0;L<p.length;L++){var W=p[L].indexOf("="),Te=null;if(0<=W){var Oe=p[L].substring(0,W);Te=p[L].substring(W+1)}else Oe=p[L];E(Oe,Te?decodeURIComponent(Te.replace(/\+/g," ")):"")}}}function dn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof dn){this.h=p.h,Ja(this,p.j),this.o=p.o,this.g=p.g,Za(this,p.s),this.l=p.l;var E=p.i,L=new ca;L.i=E.i,E.g&&(L.g=new Map(E.g),L.h=E.h),la(this,L),this.m=p.m}else p&&(E=String(p).match(Xr))?(this.h=!1,Ja(this,E[1]||"",!0),this.o=Ri(E[2]||""),this.g=Ri(E[3]||"",!0),Za(this,E[4]),this.l=Ri(E[5]||"",!0),la(this,E[6]||"",!0),this.m=Ri(E[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}dn.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Ca(E,tl,!0),":");var L=this.g;return(L||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Ca(E,tl,!0),"@"),p.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&p.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&p.push("/"),p.push(Ca(L,L.charAt(0)=="/"?Ia:nl,!0))),(L=this.i.toString())&&p.push("?",L),(L=this.m)&&p.push("#",Ca(L,La)),p.join("")};function Jr(p){return new dn(p)}function Ja(p,E,L){p.j=L?Ri(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Za(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function la(p,E,L){E instanceof ca?(p.i=E,Ql(p.i,p.h)):(L||(E=Ca(E,ho)),p.i=new ca(E,p.h))}function xn(p,E,L){p.i.set(E,L)}function es(p){return xn(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ri(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ca(p,E,L){return typeof p=="string"?(p=encodeURI(p).replace(E,Wl),L&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Wl(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var tl=/[#\/\?@]/g,nl=/[#\?:]/g,Ia=/[#\?]/g,ho=/[#\?@]/g,La=/#/g;function ca(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function In(p){p.g||(p.g=new Map,p.h=0,p.i&&uo(p.i,function(E,L){p.add(decodeURIComponent(E.replace(/\+/g," ")),L)}))}n=ca.prototype,n.add=function(p,E){In(this),this.i=null,p=ha(this,p);var L=this.g.get(p);return L||this.g.set(p,L=[]),L.push(E),this.h+=1,this};function Da(p,E){In(p),E=ha(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function ua(p,E){return In(p),E=ha(p,E),p.g.has(E)}n.forEach=function(p,E){In(this),this.g.forEach(function(L,W){L.forEach(function(Te){p.call(E,Te,W,this)},this)},this)},n.na=function(){In(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),L=[];for(let W=0;W<E.length;W++){const Te=p[W];for(let Oe=0;Oe<Te.length;Oe++)L.push(E[W])}return L},n.V=function(p){In(this);let E=[];if(typeof p=="string")ua(this,p)&&(E=E.concat(this.g.get(ha(this,p))));else{p=Array.from(this.g.values());for(let L=0;L<p.length;L++)E=E.concat(p[L])}return E},n.set=function(p,E){return In(this),this.i=null,p=ha(this,p),ua(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function kt(p,E,L){Da(p,E),0<L.length&&(p.i=null,p.g.set(ha(p,E),C(L)),p.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var L=0;L<E.length;L++){var W=E[L];const Oe=encodeURIComponent(String(W)),tt=this.V(W);for(W=0;W<tt.length;W++){var Te=Oe;tt[W]!==""&&(Te+="="+encodeURIComponent(String(tt[W]))),p.push(Te)}}return this.i=p.join("&")};function ha(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Ql(p,E){E&&!p.j&&(In(p),p.i=null,p.g.forEach(function(L,W){var Te=W.toLowerCase();W!=Te&&(Da(this,W),kt(this,Te,L))},p)),p.j=E}function si(p,E){const L=new Hn;if(d.Image){const W=new Image;W.onload=_(xi,L,"TestLoadImage: loaded",!0,E,W),W.onerror=_(xi,L,"TestLoadImage: error",!1,E,W),W.onabort=_(xi,L,"TestLoadImage: abort",!1,E,W),W.ontimeout=_(xi,L,"TestLoadImage: timeout",!1,E,W),d.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=p}else E(!1)}function Ci(p,E){const L=new Hn,W=new AbortController,Te=setTimeout(()=>{W.abort(),xi(L,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:W.signal}).then(Oe=>{clearTimeout(Te),Oe.ok?xi(L,"TestPingServer: ok",!0,E):xi(L,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Te),xi(L,"TestPingServer: error",!1,E)})}function xi(p,E,L,W,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),W(L)}catch{}}function da(){this.g=new ii}function Ii(p,E,L){const W=L||"";try{el(p,function(Te,Oe){let tt=Te;g(Te)&&(tt=Jt(Te)),E.push(W+Oe+"="+encodeURIComponent(tt))})}catch(Te){throw E.push(W+"type="+encodeURIComponent("_badmap")),Te}}function ts(p){this.l=p.Ub||null,this.j=p.eb||!1}D(ts,ln),ts.prototype.g=function(){return new Pa(this.l,this.j)},ts.prototype.i=function(p){return function(){return p}}({});function Pa(p,E){wt.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Pa,wt),n=Pa.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,oi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||d).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Li(this):oi(this),this.readyState==3&&rl(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Li(this))},n.Qa=function(p){this.g&&(this.response=p,Li(this))},n.ga=function(){this.g&&Li(this)};function Li(p){p.readyState=4,p.l=null,p.j=null,p.v=null,oi(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var L=E.next();!L.done;)L=L.value,p.push(L[0]+": "+L[1]),L=E.next();return p.join(`\r
`)};function oi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function fa(p){let E="";return fe(p,function(L,W){E+=W,E+=":",E+=L,E+=`\r
`}),E}function yr(p,E,L){e:{for(W in L){var W=!1;break e}W=!0}W||(L=fa(L),typeof p=="string"?L!=null&&encodeURIComponent(String(L)):xn(p,E,L))}function nn(p){wt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(nn,wt);var ns=/^https?$/i,ma=["POST","PUT"];n=nn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,L,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?Ea(this.o):Ea(gr),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(Oe){il(this,Oe);return}if(p=L||"",L=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var Te in W)L.set(Te,W[Te]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const Oe of W.keys())L.set(Oe,W.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(L.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Te=d.FormData&&p instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ma,E,void 0))||W||Te||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,tt]of L)this.g.setRequestHeader(Oe,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{li(this),this.u=!0,this.g.send(p),this.u=!1}catch(Oe){il(this,Oe)}};function il(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,js(p),ea(p)}function js(p){p.A||(p.A=!0,xt(p,"complete"),xt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,xt(this,"complete"),xt(this,"abort"),ea(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ea(this,!0)),nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Rs(this):this.bb())},n.bb=function(){Rs(this)};function Rs(p){if(p.h&&typeof c<"u"&&(!p.v[1]||vr(p)!=4||p.Z()!=2)){if(p.u&&vr(p)==4)yt(p.Ea,0,p);else if(xt(p,"readystatechange"),vr(p)==4){p.h=!1;try{const tt=p.Z();e:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var L;if(!(L=E)){var W;if(W=tt===0){var Te=String(p.D).match(Xr)[1]||null;!Te&&d.self&&d.self.location&&(Te=d.self.location.protocol.slice(0,-1)),W=!ns.test(Te?Te.toLowerCase():"")}L=W}if(L)xt(p,"complete"),xt(p,"success");else{p.m=6;try{var Oe=2<vr(p)?p.g.statusText:""}catch{Oe=""}p.l=Oe+" ["+p.Z()+"]",js(p)}}finally{ea(p)}}}}function ea(p,E){if(p.g){li(p);const L=p.g,W=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||xt(p,"ready");try{L.onreadystatechange=W}catch{}}}function li(p){p.I&&(d.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function vr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),En(E)}};function Xl(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(p){const E={};p=(p.g&&2<=vr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<p.length;W++){if(M(p[W]))continue;var L=R(p[W]);const Te=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Oe=E[Te]||[];E[Te]=Oe,Oe.push(L)}F(E,function(W){return W.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(p,E,L){return L&&L.internalChannelParams&&L.internalChannelParams[p]||E}function is(p){this.Aa=0,this.i=[],this.j=new Hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,p),this.cb=Zr("retryDelaySeedMs",1e4,p),this.Wa=Zr("forwardChannelMaxRetries",2,p),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new oa(p&&p.concurrentRequestLimit),this.Da=new da,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=is.prototype,n.la=8,n.G=1,n.connect=function(p,E,L,W){dt(0),this.W=p,this.H=E||{},L&&W!==void 0&&(this.H.OSID=L,this.H.OAID=W),this.F=this.X,this.I=w(this,null,this.W),mo(this)};function Oa(p){if(Cs(p),p.G==3){var E=p.U++,L=Jr(p.I);if(xn(L,"SID",p.K),xn(L,"RID",E),xn(L,"TYPE","terminate"),as(p,L),E=new Un(p,p.j,E),E.L=2,E.v=es(Jr(L)),L=!1,d.navigator&&d.navigator.sendBeacon)try{L=d.navigator.sendBeacon(E.v.toString(),"")}catch{}!L&&d.Image&&(new Image().src=E.v,L=!0),L||(E.g=q(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ks(E)}go(p)}function fo(p){p.g&&(ss(p),p.g.cancel(),p.g=null)}function Cs(p){fo(p),p.u&&(d.clearTimeout(p.u),p.u=null),Ma(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&d.clearTimeout(p.s),p.s=null)}function mo(p){if(!lo(p.h)&&!p.s){p.s=!0;var E=p.Ga;he||X(),oe||(he(),oe=!0),_e.add(E,p),p.B=0}}function al(p,E){return Ra(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=kn(N(p.Ga,p,E),Ps(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Te=new Un(this,this.j,p);let Oe=this.o;if(this.S&&(Oe?(Oe=T(Oe),G(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(Te.H=Oe,Oe=null),this.P)e:{for(var E=0,L=0;L<this.i.length;L++){t:{var W=this.i[L];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(E+=W,4096<E){E=L;break e}if(E===4096||L===this.i.length-1){E=L+1;break e}}E=1e3}else E=1e3;E=Ls(this,Te,E),L=Jr(this.I),xn(L,"RID",p),xn(L,"CVER",22),this.D&&xn(L,"X-HTTP-Session-Id",this.D),as(this,L),Oe&&(this.O?E="headers="+encodeURIComponent(String(fa(Oe)))+"&"+E:this.m&&yr(L,this.m,Oe)),Bn(this.h,Te),this.Ua&&xn(L,"TYPE","init"),this.P?(xn(L,"$req",E),xn(L,"SID","null"),Te.T=!0,ai(Te,L,null)):ai(Te,L,E),this.G=2}}else this.G==3&&(p?Is(this,p):this.i.length==0||lo(this.h)||Is(this))};function Is(p,E){var L;E?L=E.l:L=p.U++;const W=Jr(p.I);xn(W,"SID",p.K),xn(W,"RID",L),xn(W,"AID",p.T),as(p,W),p.m&&p.o&&yr(W,p.m,p.o),L=new Un(p,p.j,L,p.B+1),p.m===null&&(L.H=p.o),E&&(p.i=E.D.concat(p.i)),E=Ls(p,L,1e3),L.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Bn(p.h,L),ai(L,W,E)}function as(p,E){p.H&&fe(p.H,function(L,W){xn(E,W,L)}),p.l&&el({},function(L,W){xn(E,W,L)})}function Ls(p,E,L){L=Math.min(p.i.length,L);var W=p.l?N(p.l.Na,p.l,p):null;e:{var Te=p.i;let Oe=-1;for(;;){const tt=["count="+L];Oe==-1?0<L?(Oe=Te[0].g,tt.push("ofs="+Oe)):Oe=0:tt.push("ofs="+Oe);let jt=!0;for(let rn=0;rn<L;rn++){let Bt=Te[rn].g;const wn=Te[rn].map;if(Bt-=Oe,0>Bt)Oe=Math.max(0,Te[rn].g-100),jt=!1;else try{Ii(wn,tt,"req"+Bt+"_")}catch{W&&W(wn)}}if(jt){W=tt.join("&");break e}}}return p=p.i.splice(0,L),E.D=p,W}function po(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;he||X(),oe||(he(),oe=!0),_e.add(E,p),p.v=0}}function Ds(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=kn(N(p.Fa,p),Ps(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=kn(N(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),fo(this),Jl(this))};function ss(p){p.A!=null&&(d.clearTimeout(p.A),p.A=null)}function Jl(p){p.g=new Un(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Jr(p.qa);xn(E,"RID","rpc"),xn(E,"SID",p.K),xn(E,"AID",p.T),xn(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&xn(E,"TO",p.ja),xn(E,"TYPE","xmlhttp"),as(p,E),p.m&&p.o&&yr(E,p.m,p.o),p.L&&(p.g.I=p.L);var L=p.g;p=p.ia,L.L=1,L.v=es(Jr(E)),L.m=null,L.P=!0,ji(L,p)}n.Za=function(){this.C!=null&&(this.C=null,fo(this),Ds(this),dt(19))};function Ma(p){p.C!=null&&(d.clearTimeout(p.C),p.C=null)}function os(p,E){var L=null;if(p.g==E){Ma(p),ss(p),p.g=null;var W=2}else if(Zo(p.h,E))L=E.D,Ur(p.h,E),W=1;else return;if(p.G!=0){if(E.o)if(W==1){L=E.m?E.m.length:0,E=Date.now()-E.F;var Te=p.B;W=ki(),xt(W,new Tn(W,L)),mo(p)}else po(p);else if(Te=E.s,Te==3||Te==0&&0<E.X||!(W==1&&al(p,E)||W==2&&Ds(p)))switch(L&&0<L.length&&(E=p.h,E.i=E.i.concat(L)),Te){case 1:ci(p,5);break;case 4:ci(p,10);break;case 3:ci(p,6);break;default:ci(p,2)}}}function Ps(p,E){let L=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(L*=2),L*E}function ci(p,E){if(p.j.info("Error code "+E),E==2){var L=N(p.fb,p),W=p.Xa;const Te=!W;W=new dn(W||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ja(W,"https"),es(W),Te?si(W.toString(),L):Ci(W.toString(),L)}else dt(2);p.G=0,p.l&&p.l.sa(E),go(p),Cs(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function go(p){if(p.G=0,p.ka=[],p.l){const E=co(p.h);(E.length!=0||p.i.length!=0)&&(V(p.ka,E),V(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function w(p,E,L){var W=L instanceof dn?Jr(L):new dn(L);if(W.g!="")E&&(W.g=E+"."+W.g),Za(W,W.s);else{var Te=d.location;W=Te.protocol,E=E?E+"."+Te.hostname:Te.hostname,Te=+Te.port;var Oe=new dn(null);W&&Ja(Oe,W),E&&(Oe.g=E),Te&&Za(Oe,Te),L&&(Oe.l=L),W=Oe}return L=p.D,E=p.ya,L&&E&&xn(W,L,E),xn(W,"VER",p.la),as(p,W),W}function q(p,E,L){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new nn(new ts({eb:L})):new nn(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ce(){}n=ce.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ye(){}ye.prototype.g=function(p,E){return new ke(p,E)};function ke(p,E){wt.call(this),this.g=new is(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!M(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!M(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new ct(this)}D(ke,wt),ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){Oa(this.g)},ke.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var L={};L.__data__=p,p=L}else this.u&&(L={},L.__data__=Jt(p),p=L);E.i.push(new Yl(E.Ya++,p)),E.G==3&&mo(E)},ke.prototype.N=function(){this.g.l=null,delete this.j,Oa(this.g),delete this.g,ke.aa.N.call(this)};function Fe(p){Wr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const L in E){p=L;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}D(Fe,Wr);function et(){Vn.call(this),this.status=1}D(et,Vn);function ct(p){this.g=p}D(ct,ce),ct.prototype.ua=function(){xt(this.g,"a")},ct.prototype.ta=function(p){xt(this.g,new Fe(p))},ct.prototype.sa=function(p){xt(this.g,new et)},ct.prototype.ra=function(){xt(this.g,"b")},ye.prototype.createWebChannel=ye.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,Cw=function(){return new ye},Rw=function(){return ki()},jw=At,c1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,ap=Vr,Sr.COMPLETE="complete",kw=Sr,Mn.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Jd=Mn,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,Tw=nn}).apply(typeof Fm<"u"?Fm:typeof self<"u"?self:typeof window<"u"?window:{});const F5="@firebase/firestore",z5="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$i.UNAUTHENTICATED=new $i(null),$i.GOOGLE_CREDENTIALS=new $i("google-credentials-uid"),$i.FIRST_PARTY=new $i("first-party-uid"),$i.MOCK_USER=new $i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new t2("@firebase/firestore");function Nh(){return Du.logLevel}function mt(n,...e){if(Du.logLevel<=un.DEBUG){const t=e.map(f2);Du.debug(`Firestore (${td}): ${n}`,...t)}}function Ul(n,...e){if(Du.logLevel<=un.ERROR){const t=e.map(f2);Du.error(`Firestore (${td}): ${n}`,...t)}}function Pu(n,...e){if(Du.logLevel<=un.WARN){const t=e.map(f2);Du.warn(`Firestore (${td}): ${n}`,...t)}}function f2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Iw(n,i,t)}function Iw(n,e,t){let i=`FIRESTORE (${td}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ul(i),new Error(i)}function Cn(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||Iw(e,s,i)}function Gt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends ql{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($i.UNAUTHENTICATED))}shutdown(){}}class ST{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ET{constructor(e){this.t=e,this.currentUser=$i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Cn(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let o=new Dl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dl,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dl)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Cn(typeof i.accessToken=="string",31837,{l:i}),new Lw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cn(e===null||typeof e=="string",2055,{h:e}),new $i(e)}}class TT{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=$i.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kT{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new TT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t($i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jT{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ws(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Cn(this.o===void 0,3512);const i=o=>{o.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Cn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new q5(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=RT(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function tn(n,e){return n<e?-1:n>e?1:0}function u1(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return tn(i,s);{const o=Pw(),c=CT(o.encode(H5(n,t)),o.encode(H5(e,t)));return c!==0?c:tn(i,s)}}t+=i>65535?2:1}return tn(n.length,e.length)}function H5(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function CT(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return tn(n[t],e[t]);return tn(n.length,e.length)}function zh(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=-62135596800,$5=1e6;class Yr{static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$5);return new Yr(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G5)throw new pt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$5}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-G5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static fromTimestamp(e){return new zt(e)}static min(){return new zt(new Yr(0,0))}static max(){return new zt(new Yr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="__name__";class Fo{constructor(e,t,i){t===void 0?t=0:t>e.length&&Mt(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Mt(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fo?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=Fo.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return tn(e.length,t.length)}static compareSegments(e,t){const i=Fo.isNumericId(e),s=Fo.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Fo.extractNumericId(e).compare(Fo.extractNumericId(t)):u1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zc.fromString(e.substring(4,e.length-2))}}class Jn extends Fo{construct(e,t,i){return new Jn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pt(Je.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Jn(t)}static emptyPath(){return new Jn([])}}const IT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gi extends Fo{construct(e,t,i){return new gi(e,t,i)}static isValidIdentifier(e){return IT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y5}static keyField(){return new gi([Y5])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new pt(Je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new pt(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pt(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(o(),s++)}if(o(),c)throw new pt(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gi(t)}static emptyPath(){return new gi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.path=e}static fromPath(e){return new St(Jn.fromString(e))}static fromName(e){return new St(Jn.fromString(e).popFirst(5))}static empty(){return new St(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Jn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new Jn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=-1;function LT(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=zt.fromTimestamp(i===1e9?new Yr(t+1,0):new Yr(t,i));return new Hc(s,St.empty(),e)}function DT(n){return new Hc(n.readTime,n.key,pf)}class Hc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Hc(zt.min(),St.empty(),pf)}static max(){return new Hc(zt.max(),St.empty(),pf)}}function PT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=St.comparator(n.documentKey,e.documentKey),t!==0?t:tn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(n){if(n.code!==Je.FAILED_PRECONDITION||n.message!==OT)throw n;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xe((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Xe?t:Xe.resolve(t)}catch(t){return Xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.reject(t)}static resolve(e){return new Xe((t,i)=>{t(e)})}static reject(e){return new Xe((t,i)=>{i(e)})}static waitFor(e){return new Xe((t,i)=>{let s=0,o=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++o,c&&o===s&&t()},f=>i(f))}),c=!0,o===s&&t()})}static or(e){let t=Xe.resolve(!1);for(const i of e)t=t.next(s=>s?Xe.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,o)=>{i.push(t.call(this,s,o))}),this.waitFor(i)}static mapArray(e,t){return new Xe((i,s)=>{const o=e.length,c=new Array(o);let d=0;for(let f=0;f<o;f++){const g=f;t(e[g]).next(b=>{c[g]=b,++d,d===o&&i(c)},b=>s(b))}})}static doWhile(e,t){return new Xe((i,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):i()};o()})}}function VT(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}$p.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=-1;function Yp(n){return n==null}function Sp(n){return n===0&&1/n==-1/0}function UT(n){return typeof n=="number"&&Number.isInteger(n)&&!Sp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="";function BT(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=K5(e)),e=FT(n.get(t),e);return K5(e)}function FT(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Ow:t+="";break;default:t+=o}}return t}function K5(n){return n+Ow+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Mw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t){this.comparator=e,this.root=t||Ti.EMPTY}insert(e,t){return new mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zm(this.root,e,this.comparator,!0)}}class zm{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??Ti.RED,this.left=s??Ti.EMPTY,this.right=o??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new Ti(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ti.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Mt(27949);return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(e,t,i,s,o){return this}insert(e,t,i){return new Ti(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Q5(this.data.getIterator())}getIteratorFrom(e){return new Q5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ri(this.comparator);return t.data=e,t}}class Q5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.fields=e,e.sort(gi.comparator)}static empty(){return new Wa([])}unionWith(e){let t=new ri(gi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Wa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vw("Invalid base64 string: "+o):o}}(e);return new vi(t)}static fromUint8Array(e){const t=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const zT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gc(n){if(Cn(!!n,39018),typeof n=="string"){let e=0;const t=zT.exec(n);if(Cn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dr(n.seconds),nanos:Dr(n.nanos)}}function Dr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $c(n){return typeof n=="string"?vi.fromBase64String(n):vi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="server_timestamp",Bw="__type__",Fw="__previous_value__",zw="__local_write_time__";function g2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bw])===null||t===void 0?void 0:t.stringValue)===Uw}function Kp(n){const e=n.mapValue.fields[Fw];return g2(e)?Kp(e):e}function gf(n){const e=Gc(n.mapValue.fields[zw].timestampValue);return new Yr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,t,i,s,o,c,d,f,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=b}}const Ep="(default)";class qh{constructor(e,t){this.projectId=e,this.database=t||Ep}static empty(){return new qh("","")}get isDefaultDatabase(){return this.database===Ep}isEqual(e){return e instanceof qh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="__type__",HT="__max__",qm={mapValue:{}},Hw="__vector__",Tp="value";function Yc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?g2(n)?4:$T(n)?9007199254740991:GT(n)?10:11:Mt(28295,{value:n})}function Wo(n,e){if(n===e)return!0;const t=Yc(n);if(t!==Yc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gf(n).isEqual(gf(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Gc(s.timestampValue),d=Gc(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return $c(s.bytesValue).isEqual($c(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Dr(s.geoPointValue.latitude)===Dr(o.geoPointValue.latitude)&&Dr(s.geoPointValue.longitude)===Dr(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Dr(s.integerValue)===Dr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Dr(s.doubleValue),d=Dr(o.doubleValue);return c===d?Sp(c)===Sp(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return zh(n.arrayValue.values||[],e.arrayValue.values||[],Wo);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if(W5(c)!==W5(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Wo(c[f],d[f])))return!1;return!0}(n,e);default:return Mt(52216,{left:n})}}function yf(n,e){return(n.values||[]).find(t=>Wo(t,e))!==void 0}function Hh(n,e){if(n===e)return 0;const t=Yc(n),i=Yc(e);if(t!==i)return tn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,e.booleanValue);case 2:return function(o,c){const d=Dr(o.integerValue||o.doubleValue),f=Dr(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return X5(n.timestampValue,e.timestampValue);case 4:return X5(gf(n),gf(e));case 5:return u1(n.stringValue,e.stringValue);case 6:return function(o,c){const d=$c(o),f=$c(c);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),f=c.split("/");for(let g=0;g<d.length&&g<f.length;g++){const b=tn(d[g],f[g]);if(b!==0)return b}return tn(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const d=tn(Dr(o.latitude),Dr(c.latitude));return d!==0?d:tn(Dr(o.longitude),Dr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return J5(n.arrayValue,e.arrayValue);case 10:return function(o,c){var d,f,g,b;const A=o.fields||{},N=c.fields||{},_=(d=A[Tp])===null||d===void 0?void 0:d.arrayValue,D=(f=N[Tp])===null||f===void 0?void 0:f.arrayValue,C=tn(((g=_==null?void 0:_.values)===null||g===void 0?void 0:g.length)||0,((b=D==null?void 0:D.values)===null||b===void 0?void 0:b.length)||0);return C!==0?C:J5(_,D)}(n.mapValue,e.mapValue);case 11:return function(o,c){if(o===qm.mapValue&&c===qm.mapValue)return 0;if(o===qm.mapValue)return 1;if(c===qm.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),g=c.fields||{},b=Object.keys(g);f.sort(),b.sort();for(let A=0;A<f.length&&A<b.length;++A){const N=u1(f[A],b[A]);if(N!==0)return N;const _=Hh(d[f[A]],g[b[A]]);if(_!==0)return _}return tn(f.length,b.length)}(n.mapValue,e.mapValue);default:throw Mt(23264,{Pe:t})}}function X5(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return tn(n,e);const t=Gc(n),i=Gc(e),s=tn(t.seconds,i.seconds);return s!==0?s:tn(t.nanos,i.nanos)}function J5(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=Hh(t[s],i[s]);if(o)return o}return tn(t.length,i.length)}function Gh(n){return h1(n)}function h1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Gc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $c(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return St.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=h1(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const c of i)o?o=!1:s+=",",s+=`${c}:${h1(t.fields[c])}`;return s+"}"}(n.mapValue):Mt(61005,{value:n})}function sp(n){switch(Yc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kp(n);return e?16+sp(e):16;case 5:return 2*n.stringValue.length;case 6:return $c(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+sp(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Zc(i.fields,(o,c)=>{s+=o.length+sp(c)}),s}(n.mapValue);default:throw Mt(13486,{value:n})}}function Z5(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function d1(n){return!!n&&"integerValue"in n}function y2(n){return!!n&&"arrayValue"in n}function eb(n){return!!n&&"nullValue"in n}function tb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function op(n){return!!n&&"mapValue"in n}function GT(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qw])===null||t===void 0?void 0:t.stringValue)===Hw}function rf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=rf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $T(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===HT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.value=e}static empty(){return new Aa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!op(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rf(t)}setAll(e){let t=gi.emptyPath(),i={},s=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=rf(c):s.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());op(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];op(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Zc(t,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Aa(rf(this.value))}}function Gw(n){const e=[];return Zc(n.fields,(t,i)=>{const s=new gi([t]);if(op(i)){const o=Gw(i.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new Wa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,i,s,o,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Yi(e,0,zt.min(),zt.min(),zt.min(),Aa.empty(),0)}static newFoundDocument(e,t,i,s){return new Yi(e,1,t,zt.min(),i,s,0)}static newNoDocument(e,t){return new Yi(e,2,t,zt.min(),zt.min(),Aa.empty(),0)}static newUnknownDocument(e,t){return new Yi(e,3,t,zt.min(),zt.min(),Aa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Aa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Aa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.position=e,this.inclusive=t}}function nb(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],c=n.position[s];if(o.field.isKeyField()?i=St.comparator(St.fromName(c.referenceValue),t.key):i=Hh(c,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function rb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t="asc"){this.field=e,this.dir=t}}function YT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{}class Gr extends $w{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new WT(e,t,i):t==="array-contains"?new JT(e,i):t==="in"?new ZT(e,i):t==="not-in"?new ek(e,i):t==="array-contains-any"?new tk(e,i):new Gr(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new QT(e,i):new XT(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Hh(t,this.value)):t!==null&&Yc(this.value)===Yc(t)&&this.matchesComparison(Hh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class io extends $w{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new io(e,t)}matches(e){return Yw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Yw(n){return n.op==="and"}function Kw(n){return KT(n)&&Yw(n)}function KT(n){for(const e of n.filters)if(e instanceof io)return!1;return!0}function f1(n){if(n instanceof Gr)return n.field.canonicalString()+n.op.toString()+Gh(n.value);if(Kw(n))return n.filters.map(e=>f1(e)).join(",");{const e=n.filters.map(t=>f1(t)).join(",");return`${n.op}(${e})`}}function Ww(n,e){return n instanceof Gr?function(i,s){return s instanceof Gr&&i.op===s.op&&i.field.isEqual(s.field)&&Wo(i.value,s.value)}(n,e):n instanceof io?function(i,s){return s instanceof io&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,c,d)=>o&&Ww(c,s.filters[d]),!0):!1}(n,e):void Mt(19439)}function Qw(n){return n instanceof Gr?function(t){return`${t.field.canonicalString()} ${t.op} ${Gh(t.value)}`}(n):n instanceof io?function(t){return t.op.toString()+" {"+t.getFilters().map(Qw).join(" ,")+"}"}(n):"Filter"}class WT extends Gr{constructor(e,t,i){super(e,t,i),this.key=St.fromName(i.referenceValue)}matches(e){const t=St.comparator(e.key,this.key);return this.matchesComparison(t)}}class QT extends Gr{constructor(e,t){super(e,"in",t),this.keys=Xw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XT extends Gr{constructor(e,t){super(e,"not-in",t),this.keys=Xw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Xw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>St.fromName(i.referenceValue))}class JT extends Gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return y2(t)&&yf(t.arrayValue,this.value)}}class ZT extends Gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yf(this.value.arrayValue,t)}}class ek extends Gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yf(this.value.arrayValue,t)}}class tk extends Gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!y2(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>yf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t=null,i=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Ie=null}}function ib(n,e=null,t=[],i=[],s=null,o=null,c=null){return new nk(n,e,t,i,s,o,c)}function v2(n){const e=Gt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>f1(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Yp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Gh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Gh(i)).join(",")),e.Ie=t}return e.Ie}function b2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ww(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rb(n.startAt,e.startAt)&&rb(n.endAt,e.endAt)}function m1(n){return St.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t=null,i=[],s=[],o=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rk(n,e,t,i,s,o,c,d){return new If(n,e,t,i,s,o,c,d)}function x2(n){return new If(n)}function ab(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Jw(n){return n.collectionGroup!==null}function af(n){const e=Gt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ri(gi.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new jp(o,i))}),t.has(gi.keyField().canonicalString())||e.Ee.push(new jp(gi.keyField(),i))}return e.Ee}function $o(n){const e=Gt(n);return e.de||(e.de=ik(e,af(n))),e.de}function ik(n,e){if(n.limitType==="F")return ib(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new jp(s.field,o)});const t=n.endAt?new kp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new kp(n.startAt.position,n.startAt.inclusive):null;return ib(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function p1(n,e){const t=n.filters.concat([e]);return new If(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function g1(n,e,t){return new If(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wp(n,e){return b2($o(n),$o(e))&&n.limitType===e.limitType}function Zw(n){return`${v2($o(n))}|lt:${n.limitType}`}function Ah(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>Qw(s)).join(", ")}]`),Yp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Gh(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Gh(s)).join(",")),`Target(${i})`}($o(n))}; limitType=${n.limitType})`}function Qp(n,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):St.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,s){for(const o of af(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,d,f){const g=nb(c,d,f);return c.inclusive?g<=0:g<0}(i.startAt,af(i),s)||i.endAt&&!function(c,d,f){const g=nb(c,d,f);return c.inclusive?g>=0:g>0}(i.endAt,af(i),s))}(n,e)}function ak(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function e_(n){return(e,t)=>{let i=!1;for(const s of af(n)){const o=sk(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function sk(n,e,t){const i=n.field.isKeyField()?St.comparator(e.key,t.key):function(o,c,d){const f=c.data.field(o),g=d.data.field(o);return f!==null&&g!==null?Hh(f,g):Mt(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Mt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zc(this.inner,(t,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return Mw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new mr(St.comparator);function Bl(){return ok}const t_=new mr(St.comparator);function Zd(...n){let e=t_;for(const t of n)e=e.insert(t.key,t);return e}function n_(n){let e=t_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Tu(){return sf()}function r_(){return sf()}function sf(){return new Fu(n=>n.toString(),(n,e)=>n.isEqual(e))}const lk=new mr(St.comparator),ck=new ri(St.comparator);function hn(...n){let e=ck;for(const t of n)e=e.add(t);return e}const uk=new ri(tn);function hk(){return uk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sp(e)?"-0":e}}function i_(n){return{integerValue:""+n}}function dk(n,e){return UT(e)?i_(e):w2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this._=void 0}}function fk(n,e,t){return n instanceof vf?function(s,o){const c={fields:{[Bw]:{stringValue:Uw},[zw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&g2(o)&&(o=Kp(o)),o&&(c.fields[Fw]=o),{mapValue:c}}(t,e):n instanceof bf?s_(n,e):n instanceof xf?o_(n,e):function(s,o){const c=a_(s,o),d=sb(c)+sb(s.Re);return d1(c)&&d1(s.Re)?i_(d):w2(s.serializer,d)}(n,e)}function mk(n,e,t){return n instanceof bf?s_(n,e):n instanceof xf?o_(n,e):t}function a_(n,e){return n instanceof Rp?function(i){return d1(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class vf extends Xp{}class bf extends Xp{constructor(e){super(),this.elements=e}}function s_(n,e){const t=l_(e);for(const i of n.elements)t.some(s=>Wo(s,i))||t.push(i);return{arrayValue:{values:t}}}class xf extends Xp{constructor(e){super(),this.elements=e}}function o_(n,e){let t=l_(e);for(const i of n.elements)t=t.filter(s=>!Wo(s,i));return{arrayValue:{values:t}}}class Rp extends Xp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function sb(n){return Dr(n.integerValue||n.doubleValue)}function l_(n){return y2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t){this.field=e,this.transform=t}}function gk(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof bf&&s instanceof bf||i instanceof xf&&s instanceof xf?zh(i.elements,s.elements,Wo):i instanceof Rp&&s instanceof Rp?Wo(i.Re,s.Re):i instanceof vf&&s instanceof vf}(n.transform,e.transform)}class yk{constructor(e,t){this.version=e,this.transformResults=t}}class _s{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jp{}function c_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _2(n.key,_s.none()):new Lf(n.key,n.data,_s.none());{const t=n.data,i=Aa.empty();let s=new ri(gi.comparator);for(let o of e.fields)if(!s.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?i.delete(o):i.set(o,c),s=s.add(o)}return new eu(n.key,i,new Wa(s.toArray()),_s.none())}}function vk(n,e,t){n instanceof Lf?function(s,o,c){const d=s.value.clone(),f=lb(s.fieldTransforms,o,c.transformResults);d.setAll(f),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof eu?function(s,o,c){if(!lp(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=lb(s.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(u_(s)),f.setAll(d),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function of(n,e,t,i){return n instanceof Lf?function(o,c,d,f){if(!lp(o.precondition,c))return d;const g=o.value.clone(),b=cb(o.fieldTransforms,f,c);return g.setAll(b),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof eu?function(o,c,d,f){if(!lp(o.precondition,c))return d;const g=cb(o.fieldTransforms,f,c),b=c.data;return b.setAll(u_(o)),b.setAll(g),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(n,e,t,i):function(o,c,d){return lp(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function bk(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=a_(i.transform,s||null);o!=null&&(t===null&&(t=Aa.empty()),t.set(i.field,o))}return t||null}function ob(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&zh(i,s,(o,c)=>gk(o,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Lf extends Jp{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class eu extends Jp{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function u_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function lb(n,e,t){const i=new Map;Cn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],c=o.transform,d=e.data.field(o.field);i.set(o.field,mk(c,d,t[s]))}return i}function cb(n,e,t){const i=new Map;for(const s of n){const o=s.transform,c=t.data.field(s.field);i.set(s.field,fk(o,c,e))}return i}class _2 extends Jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xk extends Jp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&vk(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=of(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=of(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=r_();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=t.has(s.key)?null:d;const f=c_(c,d);f!==null&&i.set(s.key,f),c.isValidDocument()||c.convertToNoDocument(zt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hn())}isEqual(e){return this.batchId===e.batchId&&zh(this.mutations,e.mutations,(t,i)=>ob(t,i))&&zh(this.baseMutations,e.baseMutations,(t,i)=>ob(t,i))}}class N2{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Cn(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return lk}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,i[c].version);return new N2(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr,yn;function Ak(n){switch(n){case Je.OK:return Mt(64938);case Je.CANCELLED:case Je.UNKNOWN:case Je.DEADLINE_EXCEEDED:case Je.RESOURCE_EXHAUSTED:case Je.INTERNAL:case Je.UNAVAILABLE:case Je.UNAUTHENTICATED:return!1;case Je.INVALID_ARGUMENT:case Je.NOT_FOUND:case Je.ALREADY_EXISTS:case Je.PERMISSION_DENIED:case Je.FAILED_PRECONDITION:case Je.ABORTED:case Je.OUT_OF_RANGE:case Je.UNIMPLEMENTED:case Je.DATA_LOSS:return!0;default:return Mt(15467,{code:n})}}function h_(n){if(n===void 0)return Ul("GRPC error has no .code"),Je.UNKNOWN;switch(n){case Hr.OK:return Je.OK;case Hr.CANCELLED:return Je.CANCELLED;case Hr.UNKNOWN:return Je.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return Je.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return Je.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return Je.INTERNAL;case Hr.UNAVAILABLE:return Je.UNAVAILABLE;case Hr.UNAUTHENTICATED:return Je.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return Je.INVALID_ARGUMENT;case Hr.NOT_FOUND:return Je.NOT_FOUND;case Hr.ALREADY_EXISTS:return Je.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return Je.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return Je.FAILED_PRECONDITION;case Hr.ABORTED:return Je.ABORTED;case Hr.OUT_OF_RANGE:return Je.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return Je.UNIMPLEMENTED;case Hr.DATA_LOSS:return Je.DATA_LOSS;default:return Mt(39323,{code:n})}}(yn=Hr||(Hr={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new zc([4294967295,4294967295],0);function ub(n){const e=Pw().encode(n),t=new Ew;return t.update(e),new Uint8Array(t.digest())}function hb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zc([t,i],0),new zc([s,o],0)]}class A2{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ef(`Invalid padding: ${t}`);if(i<0)throw new ef(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ef(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ef(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=zc.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(zc.fromNumber(i)));return s.compare(Sk)===1&&(s=new zc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=ub(e),[i,s]=hb(t);for(let o=0;o<this.hashCount;o++){const c=this.we(i,s,o);if(!this.be(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new A2(o,s,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=ub(e),[i,s]=hb(t);for(let o=0;o<this.hashCount;o++){const c=this.we(i,s,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ef extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Df.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zp(zt.min(),s,new mr(tn),Bl(),hn())}}class Df{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Df(i,t,hn(),hn(),hn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class d_{constructor(e,t){this.targetId=e,this.Ce=t}}class f_{constructor(e,t,i=vi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class db{constructor(){this.Fe=0,this.Me=fb(),this.xe=vi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=hn(),t=hn(),i=hn();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Mt(38017,{changeType:o})}}),new Df(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=fb()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Cn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ek{constructor(e){this.ze=e,this.je=new Map,this.He=Bl(),this.Je=Hm(),this.Ye=Hm(),this.Ze=new mr(tn)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Mt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(m1(o))if(i===0){const c=new St(o.path);this.tt(t,c,Yi.newNoDocument(c,zt.min()))}else Cn(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),f=d?this.lt(d,e,c):1;if(f!==0){this.st(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let c,d;try{c=$c(i).toUint8Array()}catch(f){if(f instanceof Vw)return Pu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new A2(c,s,o)}catch(f){return Pu(f instanceof ef?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(o=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,c)=>{const d=this._t(c);if(d){if(o.current&&m1(d.target)){const f=new St(d.target.path);this.Et(f).has(c)||this.dt(c,f)||this.tt(c,f,Yi.newNoDocument(f,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let i=hn();this.Ye.forEach((o,c)=>{let d=!0;c.forEachWhile(f=>{const g=this._t(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const s=new Zp(e,t,this.Ze,this.He,i);return this.He=Bl(),this.Je=Hm(),this.Ye=Hm(),this.Ze=new mr(tn),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new db,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ri(tn),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ri(tn),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||mt("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new db),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Hm(){return new mr(St.comparator)}function fb(){return new mr(St.comparator)}const Tk={asc:"ASCENDING",desc:"DESCENDING"},kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jk={and:"AND",or:"OR"};class Rk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function y1(n,e){return n.useProto3Json||Yp(e)?e:{value:e}}function Cp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ck(n,e){return Cp(n,e.toTimestamp())}function Yo(n){return Cn(!!n,49232),zt.fromTimestamp(function(t){const i=Gc(t);return new Yr(i.seconds,i.nanos)}(n))}function S2(n,e){return v1(n,e).canonicalString()}function v1(n,e){const t=function(s){return new Jn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function p_(n){const e=Jn.fromString(n);return Cn(x_(e),10190,{key:e.toString()}),e}function b1(n,e){return S2(n.databaseId,e.path)}function Mg(n,e){const t=p_(e);if(t.get(1)!==n.databaseId.projectId)throw new pt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new St(y_(t))}function g_(n,e){return S2(n.databaseId,e)}function Ik(n){const e=p_(n);return e.length===4?Jn.emptyPath():y_(e)}function x1(n){return new Jn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function y_(n){return Cn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mb(n,e,t){return{name:b1(n,e),fields:t.value.mapValue.fields}}function Lk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Mt(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(g,b){return g.useProto3Json?(Cn(b===void 0||typeof b=="string",58123),vi.fromBase64String(b||"")):(Cn(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),vi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const b=g.code===void 0?Je.UNKNOWN:h_(g.code);return new pt(b,g.message||"")}(c);t=new f_(i,s,o,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Mg(n,i.document.name),o=Yo(i.document.updateTime),c=i.document.createTime?Yo(i.document.createTime):zt.min(),d=new Aa({mapValue:{fields:i.document.fields}}),f=Yi.newFoundDocument(s,o,c,d),g=i.targetIds||[],b=i.removedTargetIds||[];t=new cp(g,b,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Mg(n,i.document),o=i.readTime?Yo(i.readTime):zt.min(),c=Yi.newNoDocument(s,o),d=i.removedTargetIds||[];t=new cp([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Mg(n,i.document),o=i.removedTargetIds||[];t=new cp([],o,s,null)}else{if(!("filter"in e))return Mt(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,c=new Nk(s,o),d=i.targetId;t=new d_(d,c)}}return t}function Dk(n,e){let t;if(e instanceof Lf)t={update:mb(n,e.key,e.value)};else if(e instanceof _2)t={delete:b1(n,e.key)};else if(e instanceof eu)t={update:mb(n,e.key,e.data),updateMask:qk(e.fieldMask)};else{if(!(e instanceof xk))return Mt(16599,{ft:e.type});t={verify:b1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,c){const d=c.transform;if(d instanceof vf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Rp)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Mt(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Ck(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Mt(27497)}(n,e.precondition)),t}function Pk(n,e){return n&&n.length>0?(Cn(e!==void 0,14353),n.map(t=>function(s,o){let c=s.updateTime?Yo(s.updateTime):Yo(o);return c.isEqual(zt.min())&&(c=Yo(o)),new yk(c,s.transformResults||[])}(t,e))):[]}function Ok(n,e){return{documents:[g_(n,e.path)]}}function Mk(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=g_(n,s);const o=function(g){if(g.length!==0)return b_(io.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(g){if(g.length!==0)return g.map(b=>function(N){return{field:Sh(N.field),direction:Bk(N.dir)}}(b))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=y1(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:s}}function Vk(n){let e=Ik(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Cn(i===1,65062);const b=t.from[0];b.allDescendants?s=b.collectionId:e=e.child(b.collectionId)}let o=[];t.where&&(o=function(A){const N=v_(A);return N instanceof io&&Kw(N)?N.getFilters():[N]}(t.where));let c=[];t.orderBy&&(c=function(A){return A.map(N=>function(D){return new jp(Eh(D.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(N))}(t.orderBy));let d=null;t.limit&&(d=function(A){let N;return N=typeof A=="object"?A.value:A,Yp(N)?null:N}(t.limit));let f=null;t.startAt&&(f=function(A){const N=!!A.before,_=A.values||[];return new kp(_,N)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const N=!A.before,_=A.values||[];return new kp(_,N)}(t.endAt)),rk(e,s,c,o,d,"F",f,g)}function Uk(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function v_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Eh(t.unaryFilter.field);return Gr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Eh(t.unaryFilter.field);return Gr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Eh(t.unaryFilter.field);return Gr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eh(t.unaryFilter.field);return Gr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}}(n):n.fieldFilter!==void 0?function(t){return Gr.create(Eh(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return io.create(t.compositeFilter.filters.map(i=>v_(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}}(t.compositeFilter.op))}(n):Mt(30097,{filter:n})}function Bk(n){return Tk[n]}function Fk(n){return kk[n]}function zk(n){return jk[n]}function Sh(n){return{fieldPath:n.canonicalString()}}function Eh(n){return gi.fromServerFormat(n.fieldPath)}function b_(n){return n instanceof Gr?function(t){if(t.op==="=="){if(tb(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NAN"}};if(eb(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tb(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NOT_NAN"}};if(eb(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sh(t.field),op:Fk(t.op),value:t.value}}}(n):n instanceof io?function(t){const i=t.getFilters().map(s=>b_(s));return i.length===1?i[0]:{compositeFilter:{op:zk(t.op),filters:i}}}(n):Mt(54877,{filter:n})}function qk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function x_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,i,s,o=zt.min(),c=zt.min(),d=vi.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.wt=e}}function Gk(n){const e=Vk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?g1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Cn=new Yk}addToCollectionParentIndex(e,t){return this.Cn.add(t),Xe.resolve()}getCollectionParents(e,t){return Xe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Xe.resolve()}deleteFieldIndex(e,t){return Xe.resolve()}deleteAllFieldIndexes(e){return Xe.resolve()}createTargetIndexes(e,t){return Xe.resolve()}getDocumentsMatchingTarget(e,t){return Xe.resolve(null)}getIndexType(e,t){return Xe.resolve(0)}getFieldIndexes(e,t){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,t){return Xe.resolve(Hc.min())}getMinOffsetFromCollectionGroup(e,t){return Xe.resolve(Hc.min())}updateCollectionGroup(e,t,i){return Xe.resolve()}updateIndexEntries(e,t){return Xe.resolve()}}class Yk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new ri(Jn.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new ri(Jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w_=41943040;class Na{static withCacheSize(e){return new Na(e,Na.DEFAULT_COLLECTION_PERCENTILE,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Na.DEFAULT_COLLECTION_PERCENTILE=10,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Na.DEFAULT=new Na(w_,Na.DEFAULT_COLLECTION_PERCENTILE,Na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Na.DISABLED=new Na(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new $h(0)}static lr(){return new $h(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="LruGarbageCollector",Kk=1048576;function yb([n,e],[t,i]){const s=tn(n,t);return s===0?tn(e,i):s}class Wk{constructor(e){this.Er=e,this.buffer=new ri(yb),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();yb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){mt(gb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){rd(t)?mt(gb,"Ignoring IndexedDB error during garbage collection: ",t):await nd(t)}await this.mr(3e5)})}}class Xk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Xe.resolve($p.le);const i=new Wk(t);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(pb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pb):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,s,o,c,d,f,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,c=Date.now(),this.nthSequenceNumber(e,s))).next(A=>(i=A,d=Date.now(),this.removeTargets(e,i,t))).next(A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(g=Date.now(),Nh()<=un.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${A} documents in `+(g-f)+`ms
Total Duration: ${g-b}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A})))}}function Jk(n,e){return new Xk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.changes=new Fu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Xe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&of(i.mutation,s,Wa.empty(),Yr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,hn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=hn()){const s=Tu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(o=>{let c=Zd();return o.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Tu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,hn()))}populateOverlays(e,t,i){const s=[];return i.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,s){let o=Bl();const c=sf(),d=function(){return sf()}();return t.forEach((f,g)=>{const b=i.get(g.key);s.has(g.key)&&(b===void 0||b.mutation instanceof eu)?o=o.insert(g.key,g):b!==void 0?(c.set(g.key,b.mutation.getFieldMask()),of(b.mutation,g,b.mutation.getFieldMask(),Yr.now())):c.set(g.key,Wa.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((g,b)=>c.set(g,b)),t.forEach((g,b)=>{var A;return d.set(g,new e8(b,(A=c.get(g))!==null&&A!==void 0?A:null))}),d))}recalculateAndSaveOverlays(e,t){const i=sf();let s=new mr((c,d)=>c-d),o=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const g=t.get(f);if(g===null)return;let b=i.get(f)||Wa.empty();b=d.applyToLocalView(g,b),i.set(f,b);const A=(s.get(d.batchId)||hn()).add(f);s=s.insert(d.batchId,A)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,b=f.value,A=r_();b.forEach(N=>{if(!o.has(N)){const _=c_(t.get(N),i.get(N));_!==null&&A.set(N,_),o=o.add(N)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,A))}return Xe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return St.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):Xe.resolve(Tu());let d=pf,f=o;return c.next(g=>Xe.forEach(g,(b,A)=>(d<A.largestBatchId&&(d=A.largestBatchId),o.get(b)?Xe.resolve():this.remoteDocumentCache.getEntry(e,b).next(N=>{f=f.insert(b,N)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,f,g,hn())).next(b=>({batchId:d,changes:n_(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new St(t)).next(i=>{let s=Zd();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let c=Zd();return this.indexManager.getCollectionParents(e,o).next(d=>Xe.forEach(d,f=>{const g=function(A,N){return new If(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next(b=>{b.forEach((A,N)=>{c=c.insert(A,N)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s))).next(c=>{o.forEach((f,g)=>{const b=g.getKey();c.get(b)===null&&(c=c.insert(b,Yi.newInvalidDocument(b)))});let d=Zd();return c.forEach((f,g)=>{const b=o.get(f);b!==void 0&&of(b.mutation,g,Wa.empty(),Yr.now()),Qp(t,g)&&(d=d.insert(f,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Xe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Yo(s.createTime)}}(t)),Xe.resolve()}getNamedQuery(e,t){return Xe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:Gk(s.bundledQuery),readTime:Yo(s.readTime)}}(t)),Xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.overlays=new mr(St.comparator),this.Qr=new Map}getOverlay(e,t){return Xe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Tu();return Xe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,o)=>{this.St(e,t,o)}),Xe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),Xe.resolve()}getOverlaysForCollection(e,t,i){const s=Tu(),o=t.length+1,c=new St(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return Xe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new mr((g,b)=>g-b);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let b=o.get(g.largestBatchId);b===null&&(b=Tu(),o=o.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const d=Tu(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,b)=>d.set(g,b)),!(d.size()>=s)););return Xe.resolve(d)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new _k(t,i));let o=this.Qr.get(t);o===void 0&&(o=hn(),this.Qr.set(t,o)),this.Qr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.sessionToken=vi.EMPTY_BYTE_STRING}getSessionToken(e){return Xe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.$r=new ri(mi.Ur),this.Kr=new ri(mi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new mi(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new mi(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new St(new Jn([])),i=new mi(t,e),s=new mi(t,e+1),o=[];return this.Kr.forEachInRange([i,s],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new St(new Jn([])),i=new mi(t,e),s=new mi(t,e+1);let o=hn();return this.Kr.forEachInRange([i,s],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new mi(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class mi{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return St.comparator(e.key,t.key)||tn(e.Zr,t.Zr)}static Wr(e,t){return tn(e.Zr,t.Zr)||St.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new ri(mi.Ur)}checkEmpty(e){return Xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wk(o,t,i,s);this.mutationQueue.push(c);for(const d of s)this.Xr=this.Xr.add(new mi(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Xe.resolve(c)}lookupMutationBatch(e,t){return Xe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ti(i),o=s<0?0:s;return Xe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(this.mutationQueue.length===0?p2:this.nr-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new mi(t,0),s=new mi(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,s],c=>{const d=this.ei(c.Zr);o.push(d)}),Xe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ri(tn);return t.forEach(s=>{const o=new mi(s,0),c=new mi(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],d=>{i=i.add(d.Zr)})}),Xe.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;St.isDocumentKey(o)||(o=o.child(""));const c=new mi(new St(o),0);let d=new ri(tn);return this.Xr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(f.Zr)),!0)},c),Xe.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Cn(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Xe.forEach(t.mutations,s=>{const o=new mi(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new mi(t,0),s=this.Xr.firstAfterOrEqual(i);return Xe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.ii=e,this.docs=function(){return new mr(St.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Xe.resolve(i?i.document.mutableCopy():Yi.newInvalidDocument(t))}getEntries(e,t){let i=Bl();return t.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Yi.newInvalidDocument(s))}),Xe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=Bl();const c=t.path,d=new St(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:b}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||PT(DT(b),i)<=0||(s.has(b.key)||Qp(t,b))&&(o=o.insert(b.key,b.mutableCopy()))}return Xe.resolve(o)}getAllFromCollectionGroup(e,t,i,s){Mt(9500)}si(e,t){return Xe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new o8(this)}getSize(e){return Xe.resolve(this.size)}}class o8 extends Zk{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),Xe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.persistence=e,this.oi=new Fu(t=>v2(t),b2),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this._i=0,this.ai=new E2,this.targetCount=0,this.ui=$h.cr()}forEachTarget(e,t){return this.oi.forEach((i,s)=>t(s)),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),Xe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new $h(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Xe.resolve()}updateTargetData(e,t){return this.Tr(t),Xe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),Xe.waitFor(o).next(()=>s)}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return Xe.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),Xe.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),Xe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Xe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return Xe.resolve(i)}containsKey(e,t){return Xe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,t){this.ci={},this.overlays={},this.li=new $p(0),this.hi=!1,this.hi=!0,this.Pi=new i8,this.referenceDelegate=e(this),this.Ti=new l8(this),this.indexManager=new $k,this.remoteDocumentCache=function(s){return new s8(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new Hk(t),this.Ei=new n8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new a8(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){mt("MemoryPersistence","Starting transaction:",e);const s=new c8(this.li.next());return this.referenceDelegate.di(),i(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,t){return Xe.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class c8 extends MT{constructor(e){super(),this.currentSequenceNumber=e}}class T2{constructor(e){this.persistence=e,this.Vi=new E2,this.mi=null}static fi(e){return new T2(e)}get gi(){if(this.mi)return this.mi;throw Mt(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),Xe.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),Xe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Xe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.gi,i=>{const s=St.fromPath(i);return this.pi(e,s).next(o=>{o||t.removeEntry(s,zt.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Xe.or([()=>Xe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Ip{constructor(e,t){this.persistence=e,this.yi=new Fu(i=>BT(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=Jk(this,t)}static fi(e,t){return new Ip(e,t)}di(){}Ai(e){return Xe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return Xe.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(o=>o?Xe.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,c=>this.Dr(e,c,t).next(d=>{d||(i++,o.removeEntry(c,zt.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Xe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Xe.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Xe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Xe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sp(e.data.value)),t}Dr(e,t,i){return Xe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return Xe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ds=i,this.As=s}static Rs(e,t){let i=hn(),s=hn();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new k2(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return G6()?8:VT(Qi())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.ws(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.bs(e,t,s,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new u8;return this.Ss(e,t,c).next(d=>{if(o.result=d,this.fs)return this.Ds(e,t,c,d.size)})}).next(()=>o.result)}Ds(e,t,i,s){return i.documentReadCount<this.gs?(Nh()<=un.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Ah(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Xe.resolve()):(Nh()<=un.DEBUG&&mt("QueryEngine","Query:",Ah(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Nh()<=un.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Ah(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$o(t))):Xe.resolve())}ws(e,t){if(ab(t))return Xe.resolve(null);let i=$o(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=g1(t,null,"F"),i=$o(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const c=hn(...o);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.vs(t,d);return this.Cs(t,g,c,f.readTime)?this.ws(e,g1(t,null,"F")):this.Fs(e,g,t,f)}))})))}bs(e,t,i,s){return ab(t)||s.isEqual(zt.min())?Xe.resolve(null):this.ys.getDocuments(e,i).next(o=>{const c=this.vs(t,o);return this.Cs(t,c,i,s)?Xe.resolve(null):(Nh()<=un.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ah(t)),this.Fs(e,c,t,LT(s,pf)).next(d=>d))})}vs(e,t){let i=new ri(e_(e));return t.forEach((s,o)=>{Qp(e,o)&&(i=i.add(o))}),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,i){return Nh()<=un.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Ah(t)),this.ys.getDocumentsMatchingQuery(e,t,Hc.min(),i)}Fs(e,t,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="LocalStore",d8=3e8;class f8{constructor(e,t,i,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new mr(tn),this.Os=new Fu(o=>v2(o),b2),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t8(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function m8(n,e,t,i){return new f8(n,e,t,i)}async function N_(n,e){const t=Gt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],d=[];let f=hn();for(const g of s){c.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}for(const g of o){d.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}return t.localDocuments.getDocuments(i,f).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:d}))})})}function p8(n,e){const t=Gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,g,b){const A=g.batch,N=A.keys();let _=Xe.resolve();return N.forEach(D=>{_=_.next(()=>b.getEntry(f,D)).next(C=>{const V=g.docVersions.get(D);Cn(V!==null,48541),C.version.compareTo(V)<0&&(A.applyToRemoteDocument(C,g),C.isValidDocument()&&(C.setReadTime(g.commitVersion),b.addEntry(C)))})}),_.next(()=>d.mutationQueue.removeMutationBatch(f,A))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=hn();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(f=f.add(d.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function A_(n){const e=Gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function g8(n,e){const t=Gt(n),i=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const d=[];e.targetChanges.forEach((b,A)=>{const N=s.get(A);if(!N)return;d.push(t.Ti.removeMatchingKeys(o,b.removedDocuments,A).next(()=>t.Ti.addMatchingKeys(o,b.addedDocuments,A)));let _=N.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?_=_.withResumeToken(vi.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):b.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(b.resumeToken,i)),s=s.insert(A,_),function(C,V,P){return C.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=d8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(N,_,b)&&d.push(t.Ti.updateTargetData(o,_))});let f=Bl(),g=hn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,b))}),d.push(y8(o,c,e.documentUpdates).next(b=>{f=b.qs,g=b.Qs})),!i.isEqual(zt.min())){const b=t.Ti.getLastRemoteSnapshotVersion(o).next(A=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(b)}return Xe.waitFor(d).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(t.xs=s,o))}function y8(n,e,t){let i=hn(),s=hn();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let c=Bl();return t.forEach((d,f)=>{const g=o.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(zt.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):mt(j2,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{qs:c,Qs:s}})}function v8(n,e){const t=Gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=p2),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function b8(n,e){const t=Gt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Ti.getTargetData(i,e).next(o=>o?(s=o,Xe.resolve(s)):t.Ti.allocateTargetId(i).next(c=>(s=new Oc(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function w1(n,e,t){const i=Gt(n),s=i.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!rd(c))throw c;mt(j2,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function vb(n,e,t){const i=Gt(n);let s=zt.min(),o=hn();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,g,b){const A=Gt(f),N=A.Os.get(b);return N!==void 0?Xe.resolve(A.xs.get(N)):A.Ti.getTargetData(g,b)}(i,c,$o(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,d.targetId).next(f=>{o=f})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?s:zt.min(),t?o:hn())).next(d=>(x8(i,ak(e),d),{documents:d,$s:o})))}function x8(n,e,t){let i=n.Ns.get(e)||zt.min();t.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ns.set(e,i)}class bb{constructor(){this.activeTargetIds=hk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w8{constructor(){this.xo=new bb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new bb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="ConnectivityMonitor";class wb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){mt(xb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){mt(xb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm=null;function _1(){return Gm===null?Gm=function(){return 268435456+Math.round(2147483648*Math.random())}():Gm++,"0x"+Gm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="RestConnection",N8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A8{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===Ep?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,t,i,s,o){const c=_1(),d=this.jo(e,t.toUriEncodedString());mt(Vg,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:g}=new URL(d),b=Jh(g);return this.Jo(e,d,f,i,b).then(A=>(mt(Vg,`Received RPC '${e}' ${c}: `,A),A),A=>{throw Pu(Vg,`RPC '${e}' ${c} failed with error: `,A,"url: ",d,"request:",i),A})}Yo(e,t,i,s,o,c){return this.zo(e,t,i,s,o)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+td}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}jo(e,t){const i=N8[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="WebChannelConnection";class E8 extends A8{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,o){const c=_1();return new Promise((d,f)=>{const g=new Tw;g.setWithCredentials(!0),g.listenOnce(kw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ap.NO_ERROR:const A=g.getResponseJson();mt(Fi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(A)),d(A);break;case ap.TIMEOUT:mt(Fi,`RPC '${e}' ${c} timed out`),f(new pt(Je.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const N=g.getStatus();if(mt(Fi,`RPC '${e}' ${c} failed with status:`,N,"response text:",g.getResponseText()),N>0){let _=g.getResponseJson();Array.isArray(_)&&(_=_[0]);const D=_==null?void 0:_.error;if(D&&D.status&&D.message){const C=function(P){const M=P.toLowerCase().replace(/_/g,"-");return Object.values(Je).indexOf(M)>=0?M:Je.UNKNOWN}(D.status);f(new pt(C,D.message))}else f(new pt(Je.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new pt(Je.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{h_:e,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{mt(Fi,`RPC '${e}' ${c} completed.`)}});const b=JSON.stringify(s);mt(Fi,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",b,i,15)})}I_(e,t,i){const s=_1(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Cw(),d=Rw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const b=o.join("");mt(Fi,`Creating RPC '${e}' stream ${s}: ${b}`,f);const A=c.createWebChannel(b,f);this.E_(A);let N=!1,_=!1;const D=new S8({Zo:V=>{_?mt(Fi,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(N||(mt(Fi,`Opening RPC '${e}' stream ${s} transport.`),A.open(),N=!0),mt(Fi,`RPC '${e}' stream ${s} sending:`,V),A.send(V))},Xo:()=>A.close()}),C=(V,P,M)=>{V.listen(P,J=>{try{M(J)}catch(se){setTimeout(()=>{throw se},0)}})};return C(A,Jd.EventType.OPEN,()=>{_||(mt(Fi,`RPC '${e}' stream ${s} transport opened.`),D.__())}),C(A,Jd.EventType.CLOSE,()=>{_||(_=!0,mt(Fi,`RPC '${e}' stream ${s} transport closed`),D.u_(),this.d_(A))}),C(A,Jd.EventType.ERROR,V=>{_||(_=!0,Pu(Fi,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),D.u_(new pt(Je.UNAVAILABLE,"The operation could not be completed")))}),C(A,Jd.EventType.MESSAGE,V=>{var P;if(!_){const M=V.data[0];Cn(!!M,16349);const J=M,se=(J==null?void 0:J.error)||((P=J[0])===null||P===void 0?void 0:P.error);if(se){mt(Fi,`RPC '${e}' stream ${s} received error:`,se);const ae=se.status;let fe=function(I){const G=Hr[I];if(G!==void 0)return h_(G)}(ae),F=se.message;fe===void 0&&(fe=Je.INTERNAL,F="Unknown error status: "+ae+" with message "+se.message),_=!0,D.u_(new pt(fe,F)),A.close()}else mt(Fi,`RPC '${e}' stream ${s} received:`,M),D.c_(M)}}),C(d,jw.STAT_EVENT,V=>{V.stat===c1.PROXY?mt(Fi,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===c1.NOPROXY&&mt(Fi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n){return new Rk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,t,i=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,t-i);s>0&&mt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="PersistentStream";class E_{constructor(e,t,i,s,o,c,d,f){this.xi=e,this.S_=i,this.D_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new S_(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Je.RESOURCE_EXHAUSTED?(Ul(t.toString()),Ul("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===t&&this.z_(i,s)},i=>{e(()=>{const s=new pt(Je.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return mt(_b,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(mt(_b,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T8 extends E_{constructor(e,t,i,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=Lk(this.serializer,e),i=function(o){if(!("targetChange"in o))return zt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?zt.min():c.readTime?Yo(c.readTime):zt.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=x1(this.serializer),t.addTarget=function(o,c){let d;const f=c.target;if(d=m1(f)?{documents:Ok(o,f)}:{query:Mk(o,f).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=m_(o,c.resumeToken);const g=y1(o,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(zt.min())>0){d.readTime=Cp(o,c.snapshotVersion.toTimestamp());const g=y1(o,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=Uk(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=x1(this.serializer),t.removeTarget=e,this.Q_(t)}}class k8 extends E_{constructor(e,t,i,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Cn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Cn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Cn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=Pk(e.writeResults,e.commitTime),i=Yo(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=x1(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Dk(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{}class R8 extends j8{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new pt(Je.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,v1(t,i),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(Je.UNKNOWN,o.toString())})}Yo(e,t,i,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,v1(t,i),s,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(Je.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class C8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ul(t),this.ua=!1):mt("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="RemoteStore";class I8{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(c=>{i.enqueueAndForget(async()=>{zu(this)&&(mt(Ou,"Restarting streams for network reachability change."),await async function(f){const g=Gt(f);g.da.add(4),await Pf(g),g.Va.set("Unknown"),g.da.delete(4),await t0(g)}(this))})}),this.Va=new C8(i,s)}}async function t0(n){if(zu(n))for(const e of n.Aa)await e(!0)}async function Pf(n){for(const e of n.Aa)await e(!1)}function T_(n,e){const t=Gt(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),L2(t)?I2(t):id(t).N_()&&C2(t,e))}function R2(n,e){const t=Gt(n),i=id(t);t.Ea.delete(e),i.N_()&&k_(t,e),t.Ea.size===0&&(i.N_()?i.k_():zu(t)&&t.Va.set("Unknown"))}function C2(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(zt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}id(n).Z_(e)}function k_(n,e){n.ma.Ke(e),id(n).X_(e)}function I2(n){n.ma=new Ek({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),id(n).start(),n.Va.ca()}function L2(n){return zu(n)&&!id(n).O_()&&n.Ea.size>0}function zu(n){return Gt(n).da.size===0}function j_(n){n.ma=void 0}async function L8(n){n.Va.set("Online")}async function D8(n){n.Ea.forEach((e,t)=>{C2(n,e)})}async function P8(n,e){j_(n),L2(n)?(n.Va.Pa(e),I2(n)):n.Va.set("Unknown")}async function O8(n,e,t){if(n.Va.set("Online"),e instanceof f_&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Ea.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ea.delete(d),s.ma.removeTarget(d))}(n,e)}catch(i){mt(Ou,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Lp(n,i)}else if(e instanceof cp?n.ma.Xe(e):e instanceof d_?n.ma.ot(e):n.ma.nt(e),!t.isEqual(zt.min()))try{const i=await A_(n.localStore);t.compareTo(i)>=0&&await function(o,c){const d=o.ma.It(c);return d.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const b=o.Ea.get(g);b&&o.Ea.set(g,b.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,g)=>{const b=o.Ea.get(f);if(!b)return;o.Ea.set(f,b.withResumeToken(vi.EMPTY_BYTE_STRING,b.snapshotVersion)),k_(o,f);const A=new Oc(b.target,f,g,b.sequenceNumber);C2(o,A)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){mt(Ou,"Failed to raise snapshot:",i),await Lp(n,i)}}async function Lp(n,e,t){if(!rd(e))throw e;n.da.add(1),await Pf(n),n.Va.set("Offline"),t||(t=()=>A_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{mt(Ou,"Retrying IndexedDB access"),await t(),n.da.delete(1),await t0(n)})}function R_(n,e){return e().catch(t=>Lp(n,t,e))}async function n0(n){const e=Gt(n),t=Kc(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:p2;for(;M8(e);)try{const s=await v8(e.localStore,i);if(s===null){e.Ia.length===0&&t.k_();break}i=s.batchId,V8(e,s)}catch(s){await Lp(e,s)}C_(e)&&I_(e)}function M8(n){return zu(n)&&n.Ia.length<10}function V8(n,e){n.Ia.push(e);const t=Kc(n);t.N_()&&t.ea&&t.ta(e.mutations)}function C_(n){return zu(n)&&!Kc(n).O_()&&n.Ia.length>0}function I_(n){Kc(n).start()}async function U8(n){Kc(n).ia()}async function B8(n){const e=Kc(n);for(const t of n.Ia)e.ta(t.mutations)}async function F8(n,e,t){const i=n.Ia.shift(),s=N2.from(i,e,t);await R_(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await n0(n)}async function z8(n,e){e&&Kc(n).ea&&await async function(i,s){if(function(c){return Ak(c)&&c!==Je.ABORTED}(s.code)){const o=i.Ia.shift();Kc(i).L_(),await R_(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await n0(i)}}(n,e),C_(n)&&I_(n)}async function Nb(n,e){const t=Gt(n);t.asyncQueue.verifyOperationInProgress(),mt(Ou,"RemoteStore received new credentials");const i=zu(t);t.da.add(3),await Pf(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await t0(t)}async function q8(n,e){const t=Gt(n);e?(t.da.delete(2),await t0(t)):e||(t.da.add(2),await Pf(t),t.Va.set("Unknown"))}function id(n){return n.fa||(n.fa=function(t,i,s){const o=Gt(t);return o.oa(),new T8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:L8.bind(null,n),n_:D8.bind(null,n),i_:P8.bind(null,n),Y_:O8.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),L2(n)?I2(n):n.Va.set("Unknown")):(await n.fa.stop(),j_(n))})),n.fa}function Kc(n){return n.ga||(n.ga=function(t,i,s){const o=Gt(t);return o.oa(),new k8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:U8.bind(null,n),i_:z8.bind(null,n),na:B8.bind(null,n),ra:F8.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await n0(n)):(await n.ga.stop(),n.Ia.length>0&&(mt(Ou,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Dl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const c=Date.now()+i,d=new D2(e,t,c,s,o);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(Je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P2(n,e){if(Ul("AsyncQueue",`${e}: ${n}`),rd(n))return new pt(Je.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{static emptySet(e){return new Ph(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||St.comparator(t.key,i.key):(t,i)=>St.comparator(t.key,i.key),this.keyedMap=Zd(),this.sortedSet=new mr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ph)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ph;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.pa=new mr(St.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Mt(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yh{constructor(e,t,i,s,o,c,d,f,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,o){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Yh(e,t,Ph.emptySet(t),c,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class G8{constructor(){this.queries=Sb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=Gt(t),o=s.queries;s.queries=Sb(),o.forEach((c,d)=>{for(const f of d.Sa)f.onError(i)})})(this,new pt(Je.ABORTED,"Firestore shutting down"))}}function Sb(){return new Fu(n=>Zw(n),Wp)}async function L_(n,e){const t=Gt(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.Da()&&e.va()&&(i=2):(o=new H8,i=e.va()?0:1);try{switch(i){case 0:o.ba=await t.onListen(s,!0);break;case 1:o.ba=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=P2(c,`Initialization of query '${Ah(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&O2(t)}async function D_(n,e){const t=Gt(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?s=e.va()?0:1:!o.Da()&&e.va()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function $8(n,e){const t=Gt(n);let i=!1;for(const s of e){const o=s.query,c=t.queries.get(o);if(c){for(const d of c.Sa)d.Ma(s)&&(i=!0);c.ba=s}}i&&O2(t)}function Y8(n,e,t){const i=Gt(n),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);i.queries.delete(e)}function O2(n){n.Ca.forEach(e=>{e.next()})}var N1,Eb;(Eb=N1||(N1={})).xa="default",Eb.Cache="cache";class P_{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Yh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Yh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==N1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.key=e}}class M_{constructor(e){this.key=e}}class K8{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=hn(),this.mutatedKeys=hn(),this.Za=e_(e),this.Xa=new Ph(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new Ab,s=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((b,A)=>{const N=s.get(b),_=Qp(this.query,A)?A:null,D=!!N&&this.mutatedKeys.has(N.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let V=!1;N&&_?N.data.isEqual(_.data)?D!==C&&(i.track({type:3,doc:_}),V=!0):this.ru(N,_)||(i.track({type:2,doc:_}),V=!0,(f&&this.Za(_,f)>0||g&&this.Za(_,g)<0)&&(d=!0)):!N&&_?(i.track({type:0,doc:_}),V=!0):N&&!_&&(i.track({type:1,doc:N}),V=!0,(f||g)&&(d=!0)),V&&(_?(c=c.add(_),o=C?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{Xa:c,nu:i,Cs:d,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((b,A)=>function(_,D){const C=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Vt:V})}};return C(_)-C(D)}(b.type,A.type)||this.Za(b.doc,A.doc)),this.iu(i),s=s!=null&&s;const d=t&&!s?this.su():[],f=this.Ya.size===0&&this.current&&!s?1:0,g=f!==this.Ja;return this.Ja=f,c.length!==0||g?{snapshot:new Yh(this.query,e.Xa,o,c,e.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Ab,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=hn(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new M_(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new O_(i))}),t}au(e){this.Ha=e.$s,this.Ya=hn();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Yh.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const M2="SyncEngine";class W8{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Q8{constructor(e){this.key=e,this.cu=!1}}class X8{constructor(e,t,i,s,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Fu(d=>Zw(d),Wp),this.Pu=new Map,this.Tu=new Set,this.Iu=new mr(St.comparator),this.Eu=new Map,this.du=new E2,this.Au={},this.Ru=new Map,this.Vu=$h.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function J8(n,e,t=!0){const i=q_(n);let s;const o=i.hu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await V_(i,e,t,!0),s}async function Z8(n,e){const t=q_(n);await V_(t,e,!0,!1)}async function V_(n,e,t,i){const s=await b8(n.localStore,$o(e)),o=s.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let d;return i&&(d=await e7(n,e,o,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&T_(n.remoteStore,s),d}async function e7(n,e,t,i,s){n.fu=(A,N,_)=>async function(C,V,P,M){let J=V.view.tu(P);J.Cs&&(J=await vb(C.localStore,V.query,!1).then(({documents:F})=>V.view.tu(F,J)));const se=M&&M.targetChanges.get(V.targetId),ae=M&&M.targetMismatches.get(V.targetId)!=null,fe=V.view.applyChanges(J,C.isPrimaryClient,se,ae);return kb(C,V.targetId,fe.ou),fe.snapshot}(n,A,N,_);const o=await vb(n.localStore,e,!0),c=new K8(e,o.$s),d=c.tu(o.documents),f=Df.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,f);kb(n,t,g.ou);const b=new W8(e,t,c);return n.hu.set(e,b),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),g.snapshot}async function t7(n,e,t){const i=Gt(n),s=i.hu.get(e),o=i.Pu.get(s.targetId);if(o.length>1)return i.Pu.set(s.targetId,o.filter(c=>!Wp(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await w1(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&R2(i.remoteStore,s.targetId),A1(i,s.targetId)}).catch(nd)):(A1(i,s.targetId),await w1(i.localStore,s.targetId,!0))}async function n7(n,e){const t=Gt(n),i=t.hu.get(e),s=t.Pu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),R2(t.remoteStore,i.targetId))}async function r7(n,e,t){const i=u7(n);try{const s=await function(c,d){const f=Gt(c),g=Yr.now(),b=d.reduce((_,D)=>_.add(D.key),hn());let A,N;return f.persistence.runTransaction("Locally write mutations","readwrite",_=>{let D=Bl(),C=hn();return f.Bs.getEntries(_,b).next(V=>{D=V,D.forEach((P,M)=>{M.isValidDocument()||(C=C.add(P))})}).next(()=>f.localDocuments.getOverlayedDocuments(_,D)).next(V=>{A=V;const P=[];for(const M of d){const J=bk(M,A.get(M.key).overlayedDocument);J!=null&&P.push(new eu(M.key,J,Gw(J.value.mapValue),_s.exists(!0)))}return f.mutationQueue.addMutationBatch(_,g,P,d)}).next(V=>{N=V;const P=V.applyToLocalDocumentSet(A,C);return f.documentOverlayCache.saveOverlays(_,V.batchId,P)})}).then(()=>({batchId:N.batchId,changes:n_(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,d,f){let g=c.Au[c.currentUser.toKey()];g||(g=new mr(tn)),g=g.insert(d,f),c.Au[c.currentUser.toKey()]=g}(i,s.batchId,t),await Of(i,s.changes),await n0(i.remoteStore)}catch(s){const o=P2(s,"Failed to persist write");t.reject(o)}}async function U_(n,e){const t=Gt(n);try{const i=await g8(t.localStore,e);e.targetChanges.forEach((s,o)=>{const c=t.Eu.get(o);c&&(Cn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.cu=!0:s.modifiedDocuments.size>0?Cn(c.cu,14607):s.removedDocuments.size>0&&(Cn(c.cu,42227),c.cu=!1))}),await Of(t,i,e)}catch(i){await nd(i)}}function Tb(n,e,t){const i=Gt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.hu.forEach((o,c)=>{const d=c.view.Fa(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const f=Gt(c);f.onlineState=d;let g=!1;f.queries.forEach((b,A)=>{for(const N of A.Sa)N.Fa(d)&&(g=!0)}),g&&O2(f)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function i7(n,e,t){const i=Gt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),o=s&&s.key;if(o){let c=new mr(St.comparator);c=c.insert(o,Yi.newNoDocument(o,zt.min()));const d=hn().add(o),f=new Zp(zt.min(),new Map,new mr(tn),c,d);await U_(i,f),i.Iu=i.Iu.remove(o),i.Eu.delete(e),V2(i)}else await w1(i.localStore,e,!1).then(()=>A1(i,e,t)).catch(nd)}async function a7(n,e){const t=Gt(n),i=e.batch.batchId;try{const s=await p8(t.localStore,e);F_(t,i,null),B_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Of(t,s)}catch(s){await nd(s)}}async function s7(n,e,t){const i=Gt(n);try{const s=await function(c,d){const f=Gt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return f.mutationQueue.lookupMutationBatch(g,d).next(A=>(Cn(A!==null,37113),b=A.keys(),f.mutationQueue.removeMutationBatch(g,A))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,b,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>f.localDocuments.getDocuments(g,b))})}(i.localStore,e);F_(i,e,t),B_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Of(i,s)}catch(s){await nd(s)}}function B_(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function F_(n,e,t){const i=Gt(n);let s=i.Au[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function A1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||z_(n,i)})}function z_(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(R2(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),V2(n))}function kb(n,e,t){for(const i of t)i instanceof O_?(n.du.addReference(i.key,e),o7(n,i)):i instanceof M_?(mt(M2,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||z_(n,i.key)):Mt(19791,{pu:i})}function o7(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(mt(M2,"New document in limbo: "+t),n.Tu.add(i),V2(n))}function V2(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new St(Jn.fromString(e)),i=n.Vu.next();n.Eu.set(i,new Q8(t)),n.Iu=n.Iu.insert(t,i),T_(n.remoteStore,new Oc($o(x2(t.path)),i,"TargetPurposeLimboResolution",$p.le))}}async function Of(n,e,t){const i=Gt(n),s=[],o=[],c=[];i.hu.isEmpty()||(i.hu.forEach((d,f)=>{c.push(i.fu(f,e,t).then(g=>{var b;if((g||t)&&i.isPrimaryClient){const A=g?!g.fromCache:(b=t==null?void 0:t.targetChanges.get(f.targetId))===null||b===void 0?void 0:b.current;i.sharedClientState.updateQueryState(f.targetId,A?"current":"not-current")}if(g){s.push(g);const A=k2.Rs(f.targetId,g);o.push(A)}}))}),await Promise.all(c),i.lu.Y_(s),await async function(f,g){const b=Gt(f);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Xe.forEach(g,N=>Xe.forEach(N.ds,_=>b.persistence.referenceDelegate.addReference(A,N.targetId,_)).next(()=>Xe.forEach(N.As,_=>b.persistence.referenceDelegate.removeReference(A,N.targetId,_)))))}catch(A){if(!rd(A))throw A;mt(j2,"Failed to update sequence numbers: "+A)}for(const A of g){const N=A.targetId;if(!A.fromCache){const _=b.xs.get(N),D=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(D);b.xs=b.xs.insert(N,C)}}}(i.localStore,o))}async function l7(n,e){const t=Gt(n);if(!t.currentUser.isEqual(e)){mt(M2,"User change. New user:",e.toKey());const i=await N_(t.localStore,e);t.currentUser=e,function(o,c){o.Ru.forEach(d=>{d.forEach(f=>{f.reject(new pt(Je.CANCELLED,c))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Of(t,i.ks)}}function c7(n,e){const t=Gt(n),i=t.Eu.get(e);if(i&&i.cu)return hn().add(i.key);{let s=hn();const o=t.Pu.get(e);if(!o)return s;for(const c of o){const d=t.hu.get(c);s=s.unionWith(d.view.eu)}return s}}function q_(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=U_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i7.bind(null,e),e.lu.Y_=$8.bind(null,e.eventManager),e.lu.gu=Y8.bind(null,e.eventManager),e}function u7(n){const e=Gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s7.bind(null,e),e}class Dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=e0(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return m8(this.persistence,new h8,e.initialUser,this.serializer)}Su(e){return new __(T2.fi,this.serializer)}bu(e){return new w8}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dp.provider={build:()=>new Dp};class h7 extends Dp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Cn(this.persistence.referenceDelegate instanceof Ip,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Qk(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Na.withCacheSize(this.cacheSizeBytes):Na.DEFAULT;return new __(i=>Ip.fi(i,t),this.serializer)}}class S1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=l7.bind(null,this.syncEngine),await q8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G8}()}createDatastore(e){const t=e0(e.databaseInfo.databaseId),i=function(o){return new E8(o)}(e.databaseInfo);return function(o,c,d,f){return new R8(o,c,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,o,c,d){return new I8(i,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Tb(this.syncEngine,t,0),function(){return wb.C()?new wb:new _8}())}createSyncEngine(e,t){return function(s,o,c,d,f,g,b){const A=new X8(s,o,c,d,f,g);return b&&(A.mu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=Gt(s);mt(Ou,"RemoteStore shutting down."),o.da.add(5),await Pf(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}S1.provider={build:()=>new S1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ul("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="FirestoreClient";class d7{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=$i.UNAUTHENTICATED,this.clientId=m2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{mt(Wc,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(mt(Wc,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=P2(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Bg(n,e){n.asyncQueue.verifyOperationInProgress(),mt(Wc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await N_(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function jb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await f7(n);mt(Wc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Nb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Nb(e.remoteStore,s)),n._onlineComponents=e}async function f7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(Wc,"Using user provided OfflineComponentProvider");try{await Bg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Je.FAILED_PRECONDITION||s.code===Je.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Pu("Error using user provided cache. Falling back to memory cache: "+t),await Bg(n,new Dp)}}else mt(Wc,"Using default OfflineComponentProvider"),await Bg(n,new h7(void 0));return n._offlineComponents}async function G_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(Wc,"Using user provided OnlineComponentProvider"),await jb(n,n._uninitializedComponentsProvider._online)):(mt(Wc,"Using default OnlineComponentProvider"),await jb(n,new S1))),n._onlineComponents}function m7(n){return G_(n).then(e=>e.syncEngine)}async function $_(n){const e=await G_(n),t=e.eventManager;return t.onListen=J8.bind(null,e.syncEngine),t.onUnlisten=t7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Z8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=n7.bind(null,e.syncEngine),t}function p7(n,e,t={}){const i=new Dl;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,g){const b=new H_({next:N=>{b.xu(),c.enqueueAndForget(()=>D_(o,A));const _=N.docs.has(d);!_&&N.fromCache?g.reject(new pt(Je.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&N.fromCache&&f&&f.source==="server"?g.reject(new pt(Je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(N)},error:N=>g.reject(N)}),A=new P_(x2(d.path),b,{includeMetadataChanges:!0,Qa:!0});return L_(o,A)}(await $_(n),n.asyncQueue,e,t,i)),i.promise}function g7(n,e,t={}){const i=new Dl;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,d,f,g){const b=new H_({next:N=>{b.xu(),c.enqueueAndForget(()=>D_(o,A)),N.fromCache&&f.source==="server"?g.reject(new pt(Je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(N)},error:N=>g.reject(N)}),A=new P_(d,b,{includeMetadataChanges:!0,Qa:!0});return L_(o,A)}(await $_(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(n,e,t){if(!t)throw new pt(Je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function W_(n,e,t,i){if(e===!0&&i===!0)throw new pt(Je.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Cb(n){if(!St.isDocumentKey(n))throw new pt(Je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ib(n){if(St.isDocumentKey(n))throw new pt(Je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function r0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Mt(12329,{type:typeof n})}function As(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pt(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=r0(n);throw new pt(Je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="firestore.googleapis.com",Lb=!0;class Db{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pt(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q_,this.ssl=Lb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Lb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Kk)throw new pt(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y_((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class i0{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Db({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pt(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Db(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Dw;switch(i.type){case"firstParty":return new kT(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pt(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Rb.get(t);i&&(mt("ComponentProvider","Removing Datastore"),Rb.delete(t),i.terminate())}(this),Promise.resolve()}}function X_(n,e,t,i={}){var s;n=As(n,i0);const o=Jh(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&(Mx(`https://${f}`),Vx("Firestore",!0)),c.host!==Q_&&c.host!==f&&Pu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:i});if(!Ru(g,d)&&(n._setSettings(g),i.mockUserToken)){let b,A;if(typeof i.mockUserToken=="string")b=i.mockUserToken,A=$i.MOCK_USER;else{b=O6(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const N=i.mockUserToken.sub||i.mockUserToken.user_id;if(!N)throw new pt(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $i(N)}n._authCredentials=new ST(new Lw(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qu(this.firestore,e,this._query)}}class Wi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wi(this.firestore,e,this._key)}}class Pl extends qu{constructor(e,t,i){super(e,t,x2(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wi(this.firestore,null,new St(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function Xn(n,e,...t){if(n=yi(n),K_("collection","path",e),n instanceof i0){const i=Jn.fromString(e,...t);return Ib(i),new Pl(n,null,i)}{if(!(n instanceof Wi||n instanceof Pl))throw new pt(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jn.fromString(e,...t));return Ib(i),new Pl(n.firestore,null,i)}}function or(n,e,...t){if(n=yi(n),arguments.length===1&&(e=m2.newId()),K_("doc","path",e),n instanceof i0){const i=Jn.fromString(e,...t);return Cb(i),new Wi(n,null,new St(i))}{if(!(n instanceof Wi||n instanceof Pl))throw new pt(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Jn.fromString(e,...t));return Cb(i),new Wi(n.firestore,n instanceof Pl?n.converter:null,new St(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="AsyncQueue";class Ob{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new S_(this,"async_queue_retry"),this.rc=()=>{const i=Ug();i&&mt(Pb,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=Ug();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ug();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Dl;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!rd(e))throw e;mt(Pb,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Ul("INTERNAL UNHANDLED ERROR: ",Mb(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const s=D2.createAndSchedule(this,e,t,i,o=>this.uc(o));return this.Zu.push(s),s}oc(){this.Xu&&Mt(47125,{cc:Mb(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Mb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class tu extends i0{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new Ob,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ob(e),this._firestoreClient=void 0,await e}}}function J_(n,e){const t=typeof n=="object"?n:zx(),i=typeof n=="string"?n:Ep,s=r2(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=D6("firestore");o&&X_(s,...o)}return s}function a0(n){if(n._terminated)throw new pt(Je.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||y7(n),n._firestoreClient}function y7(n){var e,t,i;const s=n._freezeSettings(),o=function(d,f,g,b){return new qT(d,f,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Y_(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new d7(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mu(vi.fromBase64String(e))}catch(t){throw new pt(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mu(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pt(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pt(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pt(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=/^__.*__$/;class b7{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lf(e,this.data,t,this.fieldTransforms)}}class Z_{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function e4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ic:n})}}class U2{constructor(e,t,i,s,o,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new U2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Pp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(e4(this.Ic)&&v7.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class x7{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||e0(e)}bc(e,t,i,s=!1){return new U2({Ic:e,methodName:t,wc:i,path:gi.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l0(n){const e=n._freezeSettings(),t=e0(n._databaseId);return new x7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function t4(n,e,t,i,s,o={}){const c=n.bc(o.merge||o.mergeFields?2:0,e,t,s);F2("Data must be an object, but it was:",c,i);const d=n4(i,c);let f,g;if(o.merge)f=new Wa(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const A of o.mergeFields){const N=E1(e,A,t);if(!c.contains(N))throw new pt(Je.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);i4(b,N)||b.push(N)}f=new Wa(b),g=c.fieldTransforms.filter(A=>f.covers(A.field))}else f=null,g=c.fieldTransforms;return new b7(new Aa(d),f,g)}class c0 extends Vf{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof c0}}class B2 extends Vf{_toFieldTransform(e){return new pk(e.path,new vf)}isEqual(e){return e instanceof B2}}function w7(n,e,t,i){const s=n.bc(1,e,t);F2("Data must be an object, but it was:",s,i);const o=[],c=Aa.empty();Zc(i,(f,g)=>{const b=z2(e,f,t);g=yi(g);const A=s.mc(b);if(g instanceof c0)o.push(b);else{const N=Uf(g,A);N!=null&&(o.push(b),c.set(b,N))}});const d=new Wa(o);return new Z_(c,d,s.fieldTransforms)}function _7(n,e,t,i,s,o){const c=n.bc(1,e,t),d=[E1(e,i,t)],f=[s];if(o.length%2!=0)throw new pt(Je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<o.length;N+=2)d.push(E1(e,o[N])),f.push(o[N+1]);const g=[],b=Aa.empty();for(let N=d.length-1;N>=0;--N)if(!i4(g,d[N])){const _=d[N];let D=f[N];D=yi(D);const C=c.mc(_);if(D instanceof c0)g.push(_);else{const V=Uf(D,C);V!=null&&(g.push(_),b.set(_,V))}}const A=new Wa(g);return new Z_(b,A,c.fieldTransforms)}function N7(n,e,t,i=!1){return Uf(t,n.bc(i?4:3,e))}function Uf(n,e){if(r4(n=yi(n)))return F2("Unsupported field value:",e,n),n4(n,e);if(n instanceof Vf)return function(i,s){if(!e4(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const o=[];let c=0;for(const d of i){let f=Uf(d,s.fc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,e)}return function(i,s){if((i=yi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dk(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Yr.fromDate(i);return{timestampValue:Cp(s.serializer,o)}}if(i instanceof Yr){const o=new Yr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cp(s.serializer,o)}}if(i instanceof s0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mu)return{bytesValue:m_(s.serializer,i._byteString)};if(i instanceof Wi){const o=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw s.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:S2(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof o0)return function(c,d){return{mapValue:{fields:{[qw]:{stringValue:Hw},[Tp]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return w2(d.serializer,g)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${r0(i)}`)}(n,e)}function n4(n,e){const t={};return Mw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zc(n,(i,s)=>{const o=Uf(s,e.Ac(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function r4(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Yr||n instanceof s0||n instanceof Mu||n instanceof Wi||n instanceof Vf||n instanceof o0)}function F2(n,e,t){if(!r4(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=r0(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function E1(n,e,t){if((e=yi(e))instanceof Mf)return e._internalPath;if(typeof e=="string")return z2(n,e);throw Pp("Field path arguments must be of type string or ",n,!1,void 0,t)}const A7=new RegExp("[~\\*/\\[\\]]");function z2(n,e,t){if(e.search(A7)>=0)throw Pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mf(...e.split("."))._internalPath}catch{throw Pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pp(n,e,t,i,s){const o=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${s}`),f+=")"),new pt(Je.INVALID_ARGUMENT,d+n+f)}function i4(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(q2("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class S7 extends a4{data(){return super.data()}}function q2(n,e){return typeof e=="string"?z2(n,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(Je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H2{}class s4 extends H2{}function Ka(n,e,...t){let i=[];e instanceof H2&&i.push(e),i=i.concat(t),function(o){const c=o.filter(f=>f instanceof u0).length,d=o.filter(f=>f instanceof Bf).length;if(c>1||c>0&&d>0)throw new pt(Je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class Bf extends s4{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Bf(e,t,i)}_apply(e){const t=this._parse(e);return o4(e._query,t),new qu(e.firestore,e.converter,p1(e._query,t))}_parse(e){const t=l0(e.firestore);return function(o,c,d,f,g,b,A){let N;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new pt(Je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Ub(A,b);const D=[];for(const C of A)D.push(Vb(f,o,C));N={arrayValue:{values:D}}}else N=Vb(f,o,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Ub(A,b),N=N7(d,c,A,b==="in"||b==="not-in");return Gr.create(g,b,N)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Mc(n,e,t){const i=e,s=q2("where",n);return Bf._create(s,i,t)}class u0 extends H2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new u0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:io.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let c=s;const d=o.getFlattenedFilters();for(const f of d)o4(c,f),c=p1(c,f)}(e._query,t),new qu(e.firestore,e.converter,p1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vb(n,e,t){if(typeof(t=yi(t))=="string"){if(t==="")throw new pt(Je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jw(e)&&t.indexOf("/")!==-1)throw new pt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Jn.fromString(t));if(!St.isDocumentKey(i))throw new pt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Z5(n,new St(i))}if(t instanceof Wi)return Z5(n,t._key);throw new pt(Je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r0(t)}.`)}function Ub(n,e){if(!Array.isArray(n)||n.length===0)throw new pt(Je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o4(n,e){const t=function(s,o){for(const c of s)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pt(Je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pt(Je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class l4{convertValue(e,t="none"){switch(Yc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zc(e,(s,o)=>{i[s]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,s;const o=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Tp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Dr(c.doubleValue));return new o0(o)}convertGeoPoint(e){return new s0(Dr(e.latitude),Dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(gf(e));default:return null}}convertTimestamp(e){const t=Gc(e);return new Yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Jn.fromString(e);Cn(x_(i),9688,{name:e});const s=new qh(i.get(1),i.get(3)),o=new St(i.popFirst(5));return s.isEqual(t)||Ul(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G2 extends a4{constructor(e,t,i,s,o,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(q2("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class lf extends G2{data(e={}){return super.data(e)}}class u4{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Rh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new lf(this._firestore,this._userDataWriter,i.key,i,new Rh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pt(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const f=new lf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Rh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new lf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Rh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,b=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),b=c.indexOf(d.doc.key)),{type:T7(d.type),doc:f,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function T7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(n){n=As(n,Wi);const e=As(n.firestore,tu);return p7(a0(e),n._key).then(t=>k7(e,n,t))}class h4 extends l4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wi(this.firestore,null,t)}}function $r(n){n=As(n,qu);const e=As(n.firestore,tu),t=a0(e),i=new h4(e);return E7(n._query),g7(t,n._query).then(s=>new u4(e,i,n,s))}function Kh(n,e,t){n=As(n,Wi);const i=As(n.firestore,tu),s=c4(n.converter,e);return Ff(i,[t4(l0(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,_s.none())])}function wf(n,e,t,...i){n=As(n,Wi);const s=As(n.firestore,tu),o=l0(s);let c;return c=typeof(e=yi(e))=="string"||e instanceof Mf?_7(o,"updateDoc",n._key,e,t,i):w7(o,"updateDoc",n._key,e),Ff(s,[c.toMutation(n._key,_s.exists(!0))])}function h0(n){return Ff(As(n.firestore,tu),[new _2(n._key,_s.none())])}function d4(n,e){const t=As(n.firestore,tu),i=or(n),s=c4(n.converter,e);return Ff(t,[t4(l0(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,_s.exists(!1))]).then(()=>i)}function Ff(n,e){return function(i,s){const o=new Dl;return i.asyncQueue.enqueueAndForget(async()=>r7(await m7(i),s,o)),o.promise}(a0(n),e)}function k7(n,e,t){const i=t.docs.get(e._key),s=new h4(n);return new G2(n,s,e._key,i,new Rh(t.hasPendingWrites,t.fromCache),e.converter)}function T1(){return new B2("serverTimestamp")}(function(e,t=!0){(function(s){td=s})(Zh),Fh(new Cu("firestore",(i,{instanceIdentifier:s,options:o})=>{const c=i.getProvider("app").getImmediate(),d=new tu(new ET(i.getProvider("auth-internal")),new jT(c,i.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pt(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(g.options.projectId,b)}(c,s),c);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Fc(F5,z5,e),Fc(F5,z5,"esm2017")})();const j7=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:l4,Bytes:Mu,CollectionReference:Pl,DocumentReference:Wi,DocumentSnapshot:G2,FieldPath:Mf,FieldValue:Vf,Firestore:tu,FirestoreError:pt,GeoPoint:s0,Query:qu,QueryCompositeFilterConstraint:u0,QueryConstraint:s4,QueryDocumentSnapshot:lf,QueryFieldFilterConstraint:Bf,QuerySnapshot:u4,SnapshotMetadata:Rh,Timestamp:Yr,VectorValue:o0,_AutoId:m2,_ByteString:vi,_DatabaseId:qh,_DocumentKey:St,_EmptyAuthCredentialsProvider:Dw,_FieldPath:gi,_cast:As,_logWarn:Pu,_validateIsNotUsedTogether:W_,addDoc:d4,collection:Xn,connectFirestoreEmulator:X_,deleteDoc:h0,doc:or,ensureFirestoreConfigured:a0,executeWrite:Ff,getDoc:zo,getDocs:$r,getFirestore:J_,query:Ka,serverTimestamp:T1,setDoc:Kh,updateDoc:wf,where:Mc},Symbol.toStringTag,{value:"Module"}));var R7="firebase",C7="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fc(R7,C7,"app");const I7={apiKey:"AIzaSyB43OqFebSz7JoqGmSk4ybzQouhkwKLaOo",authDomain:"satistakip-bc5c4.firebaseapp.com",projectId:"satistakip-bc5c4",storageBucket:"satistakip-bc5c4.firebasestorage.app",messagingSenderId:"931339446084",appId:"1:931339446084:web:d934b0bee4311198ecd911"},f4=Fx(I7),eo=NT(f4),qt=J_(f4),m4=pe.createContext(),Ss=()=>{const n=pe.useContext(m4);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},L7=({children:n})=>{const[e,t]=pe.useState(null),[i,s]=pe.useState(null),[o,c]=pe.useState(null),[d,f]=pe.useState(!0),g=async(C,V)=>{const P=await pw(eo,C,V),M=P.user.uid,J=or(qt,"users",M),se=await zo(J);if(se.exists()&&se.data().isActive===!1)throw await xh(eo),new Error("Hesabınız pasif durumda. Lütfen yöneticinizle iletişime geçin.");return P},b=async()=>{await xh(eo),s(null)},A=C=>lE(eo,C),N=async C=>{try{const V=or(qt,"users",C),P=await zo(V);if(P.exists()){const M=P.data();return{role:{Admin:"admin",admin:"admin","Team Leader":"teamLeader",teamLeader:"teamLeader",Personnel:"personnel",personnel:"personnel"}[M.role]||"personnel",name:M.name||M.email||"Kullanıcı",active:M.isActive}}return{role:"personnel",name:"Kullanıcı",active:!1}}catch(V){return console.error("Rol alınırken hata:",V),{role:"personnel",name:"Kullanıcı",active:!1}}};pe.useEffect(()=>dE(eo,async V=>{if(V)try{const P=or(qt,"users",V.uid),M=await zo(P);if(M.exists()){const J=M.data();if(J.isActive===!1){await xh(eo),t(null),s(null),c(null),f(!1);return}const se=await N(V.uid);s(se.role),c(se.name);const ae={...V,role:se.role,name:se.name,active:J.isActive};t(ae)}else await xh(eo),t(null),s(null),c(null)}catch(P){console.error("Kullanıcı durumu kontrol edilirken hata:",P),await xh(eo),t(null),s(null),c(null)}else t(null),s(null),c(null);f(!1)}),[]);const D={currentUser:e,userRole:i,userName:o,login:g,logout:b,resetPassword:A,checkUserStatus:async()=>{if(e)try{const C=or(qt,"users",e.uid),V=await zo(C);return V.exists()?V.data().isActive===!1?(await xh(eo),t(null),s(null),c(null),!1):!0:!1}catch(C){return console.error("Kullanıcı durumu kontrol edilirken hata:",C),!1}return!1},loading:d};return h.jsx(m4.Provider,{value:D,children:!d&&n})},p4=pe.createContext(),D7=()=>{const n=pe.useContext(p4);if(!n)throw new Error("useDarkMode must be used within a DarkModeProvider");return n},P7=({children:n})=>{const[e,t]=pe.useState(()=>{const o=localStorage.getItem("darkMode");return o?JSON.parse(o):window.matchMedia("(prefers-color-scheme: dark)").matches});pe.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const s={darkMode:e,toggleDarkMode:()=>{t(o=>!o)}};return h.jsx(p4.Provider,{value:s,children:n})};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M7=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Bb=n=>{const e=M7(n);return e.charAt(0).toUpperCase()+e.slice(1)},g4=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),V7=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=pe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:c,...d},f)=>pe.createElement("svg",{ref:f,...U7,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:g4("lucide",s),...!o&&!V7(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,b])=>pe.createElement(g,b)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=(n,e)=>{const t=pe.forwardRef(({className:i,...s},o)=>pe.createElement(B7,{ref:o,iconNode:e,className:g4(`lucide-${O7(Bb(n))}`,`lucide-${n}`,i),...s}));return t.displayName=Bb(n),t};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],k1=Tt("activity",F7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],q7=Tt("arrow-down",z7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Cc=Tt("arrow-up",H7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],y4=Tt("award",G7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Y7=Tt("briefcase",$7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Fb=Tt("building-2",K7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],v4=Tt("calendar",W7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_f=Tt("chart-column",Q7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],j1=Tt("chart-pie",X7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$2=Tt("chevron-down",J7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ej=Tt("chevron-left",Z7);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],b4=Tt("chevron-right",tj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rj=Tt("chevron-up",nj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vu=Tt("circle-alert",ij);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ad=Tt("circle-check-big",aj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zb=Tt("crown",sj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lj=Tt("download",oj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],x4=Tt("eye-off",cj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y2=Tt("eye",uj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],up=Tt("file-text",hj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fj=Tt("funnel",dj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],pj=Tt("hard-drive",mj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yj=Tt("info",gj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$m=Tt("layout-dashboard",vj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],w4=Tt("list",bj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],qb=Tt("log-in",xj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hb=Tt("log-out",wj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_4=Tt("mail",_j);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Aj=Tt("medal",Nj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],N4=Tt("menu",Sj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Tj=Tt("monitor",Ej);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Gb=Tt("moon",kj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Rj=Tt("phone",jj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ku=Tt("plus",Cj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],R1=Tt("refresh-cw",Ij);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uu=Tt("save",Lj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Fg=Tt("send",Dj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Oj=Tt("server",Pj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K2=Tt("settings",Mj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],C1=Tt("shield",Vj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],d0=Tt("square-pen",Uj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$b=Tt("sun",Bj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wh=Tt("target",Fj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Oh=Tt("trash-2",zj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Op=Tt("trending-up",qj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],I1=Tt("triangle-alert",Hj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zg=Tt("trophy",Gj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qc=Tt("user-check",$j);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],qg=Tt("user-x",Yj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cf=Tt("user",Kj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sa=Tt("users",Wj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fl=Tt("x",Qj);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jj=Tt("zap",Xj),Zj=()=>{const[n,e]=pe.useState(""),[t,i]=pe.useState(""),[s,o]=pe.useState(!1),[c,d]=pe.useState(""),[f,g]=pe.useState(!1),[b,A]=pe.useState(!1),[N,_]=pe.useState(""),[D,C]=pe.useState(!1),[V,P]=pe.useState(!1),{login:M,resetPassword:J}=Ss(),se=async F=>{if(F.preventDefault(),!n||!t){d("Lütfen tüm alanları doldurun");return}try{d(""),o(!0),await M(n,t)}catch(T){console.error("Giriş hatası:",T),T.message.includes("Hesabınız pasif")?d("Hesabınız pasif durumda. Lütfen yöneticinizle iletişime geçin."):T.code==="auth/user-not-found"?d("Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı."):T.code==="auth/wrong-password"?d("Hatalı şifre."):T.code==="auth/invalid-email"?d("Geçersiz e-posta adresi."):T.code==="auth/invalid-credential"?d("Geçersiz e-posta veya şifre."):d("Giriş yapılırken bir hata oluştu. Lütfen tekrar deneyin.")}o(!1)},ae=async F=>{if(F.preventDefault(),!N){d("Lütfen e-posta adresinizi girin");return}try{d(""),C(!0),await J(N),P(!0)}catch(T){console.error("Şifre sıfırlama hatası:",T),T.code==="auth/user-not-found"?d("Bu e-posta adresi ile kayıtlı kullanıcı bulunamadı."):d("Şifre sıfırlama e-postası gönderilirken hata oluştu.")}C(!1)},fe=()=>{A(!1),_(""),d(""),P(!1),C(!1)};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-200 to-purple-300 rounded-full opacity-20 float-animation"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-lavender-200 to-lavender-300 rounded-full opacity-20 float-animation",style:{animationDelay:"3s"}}),h.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-periwinkle-200 to-periwinkle-300 rounded-full opacity-10 float-animation",style:{animationDelay:"1.5s"}})]}),h.jsx("div",{className:"w-full max-w-lg mx-auto",children:h.jsxs("div",{className:"card-modern p-10 shadow-modern-hover",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-purple rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:h.jsx(qb,{className:"h-8 w-8 text-white"})}),h.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-2",children:"Hoş Geldiniz"}),h.jsx("p",{className:"text-gray-600 font-medium",children:"Hesabınıza giriş yapın"})]}),c&&h.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center space-x-3 animate-pulse",children:[h.jsx(Vu,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),h.jsx("span",{className:"text-red-700 text-sm font-medium",children:c})]}),h.jsxs("form",{onSubmit:se,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"E-posta Adresi"}),h.jsx("div",{className:"relative",children:h.jsx("input",{type:"email",value:n,onChange:F=>e(F.target.value),className:"input-modern",placeholder:"",required:!0})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Şifre"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:f?"text":"password",value:t,onChange:F=>i(F.target.value),className:"input-modern pr-12",placeholder:"",required:!0}),h.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-purple-600 transition-colors",children:f?h.jsx(x4,{className:"h-5 w-5"}):h.jsx(Y2,{className:"h-5 w-5"})})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-purple-300 rounded"}),h.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 font-medium",children:"Beni hatırla"})]}),h.jsx("button",{type:"button",onClick:()=>A(!0),className:"text-sm font-semibold text-purple-600 hover:text-purple-700 transition-colors",children:"Şifremi unuttum"})]}),h.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center space-x-2",children:s?h.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full spin-smooth"}):h.jsxs(h.Fragment,{children:[h.jsx(qb,{className:"h-5 w-5"}),h.jsx("span",{children:"Giriş Yap"})]})})]})]})}),b&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"card-modern p-6 w-full max-w-md relative",children:[h.jsx("button",{onClick:fe,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(Fl,{className:"h-5 w-5"})}),V?h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Fg,{className:"h-6 w-6 text-white"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"E-posta Gönderildi!"}),h.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Şifre sıfırlama bağlantısı e-posta adresinize gönderildi. Lütfen e-postanızı kontrol edin."}),h.jsx("button",{onClick:fe,className:"btn-primary w-full",children:"Tamam"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:h.jsx(Fg,{className:"h-6 w-6 text-white"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Şifre Sıfırlama"}),h.jsx("p",{className:"text-sm text-gray-600",children:"E-posta adresinizi girin, size şifre sıfırlama bağlantısı gönderelim."})]}),c&&h.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[h.jsx(Vu,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),h.jsx("span",{className:"text-red-700 text-sm",children:c})]}),h.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"E-posta Adresi"}),h.jsxs("div",{className:"relative",children:[h.jsx(_4,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),h.jsx("input",{type:"email",value:N,onChange:F=>_(F.target.value),className:"input-modern pl-16",placeholder:"",required:!0})]})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{type:"button",onClick:fe,className:"btn-secondary flex-1",children:"İptal"}),h.jsx("button",{type:"submit",disabled:D,className:"btn-primary flex-1 flex items-center justify-center space-x-2",children:D?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full spin-smooth"}):h.jsxs(h.Fragment,{children:[h.jsx(Fg,{className:"h-4 w-4"}),h.jsx("span",{children:"Gönder"})]})})]})]})]})]})})]})},eR=()=>{const{currentUser:n}=Ss(),e=K1(),[t,i]=pe.useState({totalRecords:0,successfulSales:0,totalRecordsChange:"0%",successfulSalesChange:"0%"}),[s,o]=pe.useState(!0),[c,d]=pe.useState(""),[f,g]=pe.useState([]),[b,A]=pe.useState([]);return pe.useEffect(()=>{const N=async()=>{var V,P,M;try{if(n!=null&&n.uid){const J=Xn(qt,"users"),se=Ka(J,Mc("uid","==",n.uid)),ae=await $r(se);if(ae.empty)d(((P=n.email)==null?void 0:P.split("@")[0])||"Kullanıcı");else{const fe=ae.docs[0].data();d(fe.name||((V=fe.email)==null?void 0:V.split("@")[0])||"Kullanıcı")}}}catch(J){console.error("Kullanıcı adı alınırken hata:",J),d(((M=n==null?void 0:n.email)==null?void 0:M.split("@")[0])||"Kullanıcı")}},_=async()=>{try{if(n!=null&&n.uid){const V=new Date,P=new Date(V.getFullYear(),V.getMonth(),V.getDate(),0,0,0),M=new Date(V.getFullYear(),V.getMonth(),V.getDate(),23,59,59),J=new Date(V);J.setDate(J.getDate()-1);const se=new Date(J.getFullYear(),J.getMonth(),J.getDate(),0,0,0),ae=new Date(J.getFullYear(),J.getMonth(),J.getDate(),23,59,59);let fe;(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="teamLeader"?fe=Ka(Xn(qt,"sales_records")):fe=Ka(Xn(qt,"sales_records"),Mc("createdBy","==",n.uid));let T=(await $r(fe)).docs.map(oe=>oe.data());const I=T.filter(oe=>{if(oe.createdAt)try{const _e=oe.createdAt.toDate?oe.createdAt.toDate():new Date(oe.createdAt);return _e>=P&&_e<=M}catch{return!1}if(oe.tarih)try{const _e=new Date(oe.tarih);if(!isNaN(_e.getTime()))return _e>=P&&_e<=M}catch{return!1}return!1}),G=T.filter(oe=>{if(oe.createdAt)try{const _e=oe.createdAt.toDate?oe.createdAt.toDate():new Date(oe.createdAt);return _e>=se&&_e<=ae}catch{return!1}if(oe.tarih)try{const _e=new Date(oe.tarih);if(!isNaN(_e.getTime()))return _e>=se&&_e<=ae}catch{return!1}return!1}),R=I.length,k=I.filter(oe=>oe.detay==="Satış Sağlandı"||oe.detay==="Satış sağlandı").length,O=G.length,ee=G.filter(oe=>oe.detay==="Satış Sağlandı"||oe.detay==="Satış sağlandı").length,ve=(oe,_e)=>{if(_e===0)return oe>0?"+100%":"0%";const X=(oe-_e)/_e*100;return X>0?`+${Math.round(X)}%`:`${Math.round(X)}%`},re=ve(R,O),he=ve(k,ee);i({totalRecords:R,successfulSales:k,totalRecordsChange:re,successfulSalesChange:he})}}catch(V){console.error("İstatistikler alınırken hata:",V),i({totalRecords:0,successfulSales:0,totalRecordsChange:"0%",successfulSalesChange:"0%"})}},D=async()=>{try{if(n!=null&&n.uid&&((n==null?void 0:n.role)==="personnel"||(n==null?void 0:n.role)==="teamLeader")){const V=Xn(qt,"targets"),P=Ka(V,Mc("userId","==",n.uid)),J=(await $r(P)).docs.map(se=>({id:se.id,...se.data()}));g(J)}}catch(V){console.error("Hedefler alınırken hata:",V)}},C=async()=>{try{const V=new Date,P=new Date(2025,5,1),M=new Date(V.getFullYear(),V.getMonth()+1,0,23,59,59),J=Xn(qt,"sales_records"),fe=(await $r(J)).docs.map(O=>O.data()).filter(O=>{let ee=null;if(O.createdAt)try{ee=O.createdAt.toDate?O.createdAt.toDate():new Date(O.createdAt)}catch{}if(!ee&&O.tarih)try{ee=new Date(O.tarih),isNaN(ee.getTime())&&(ee=null)}catch{}if(!ee)return!1;const ve=ee>=P&&ee<=M,re=O.detay==="Satış Sağlandı"||O.detay==="Satış sağlandı"||O.detay==="Satış Bilgisi";return ve&&re&&O.createdBy}),F={};fe.forEach(O=>{const ee=O.createdBy;ee&&(F[ee]=(F[ee]||0)+1)});const T=Xn(qt,"users"),I=await $r(T),G={},R={};I.docs.forEach(O=>{var he,oe;const ee=O.data(),ve=O.id,re=ee.uid||ve;re&&(G[re]={name:ee.name||((he=ee.email)==null?void 0:he.split("@")[0])||"Bilinmeyen",email:ee.email,role:ee.role}),ee.email&&(R[ee.email]={name:ee.name||((oe=ee.email)==null?void 0:oe.split("@")[0])||"Bilinmeyen",email:ee.email,role:ee.role})});const k=Object.entries(F).map(([O,ee])=>{let ve=G[O];return!ve&&O.includes("@")&&(ve=R[O]),{userId:O,salesCount:ee,userName:(ve==null?void 0:ve.name)||"Bilinmeyen Kullanıcı",userEmail:(ve==null?void 0:ve.email)||"",userRole:(ve==null?void 0:ve.role)||"personnel"}}).sort((O,ee)=>ee.salesCount-O.salesCount).slice(0,3);A(k)}catch(V){console.error("En iyi performanslar alınırken hata:",V),A([])}};N(),_(),D(),C(),o(!1)},[n]),s?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full spin-smooth mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 font-medium",children:"Veriler yükleniyor..."})]})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[h.jsx("div",{className:"card-modern p-8 bg-gradient-lavender",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-purple rounded-2xl flex items-center justify-center shadow-lg",children:h.jsx(qc,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsxs("h1",{className:"text-4xl font-bold text-gradient-purple",children:["Hoş Geldiniz, ",c||"Kullanıcı","! 👋"]}),h.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 font-medium mt-2",children:["Satış Takip CRM - ",h.jsx("strong",{children:new Date().toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})})," günü özeti"]}),h.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[h.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:[h.jsx(Y7,{className:"h-4 w-4 mr-1"}),(n==null?void 0:n.role)==="admin"?"Yönetici":(n==null?void 0:n.role)==="teamLeader"?"Takım Lideri":"Personel"]}),h.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[h.jsx(k1,{className:"h-4 w-4 mr-1"}),"Aktif"]})]})]})]}),h.jsx("div",{className:"hidden lg:block",children:h.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-200 to-purple-300 rounded-full opacity-20 float-animation"})})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"card-modern p-6 hover:scale-105 transition-transform duration-300",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:h.jsx(_f,{className:"h-6 w-6 text-white"})}),h.jsxs("div",{className:"flex items-center space-x-1 text-sm font-semibold text-green-600",children:[h.jsx(Cc,{className:"h-4 w-4"}),h.jsx("span",{children:t.totalRecordsChange})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Bugünkü Toplam Kayıt"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:t.totalRecords.toLocaleString("tr-TR")})]})]}),h.jsxs("div",{className:"card-modern p-6 hover:scale-105 transition-transform duration-300",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:h.jsx(ad,{className:"h-6 w-6 text-white"})}),h.jsxs("div",{className:"flex items-center space-x-1 text-sm font-semibold text-green-600",children:[h.jsx(Cc,{className:"h-4 w-4"}),h.jsx("span",{children:t.successfulSalesChange})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Bugünkü Başarılı Satışlar"}),h.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:t.successfulSales.toLocaleString("tr-TR")})]})]})]}),h.jsxs("div",{className:"card-modern p-8",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:h.jsx(Jj,{className:"h-5 w-5 text-white"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Hızlı İşlemler"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsxs("button",{onClick:()=>e("/records"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:h.jsx(Y2,{className:"h-6 w-6 text-white"})}),h.jsx(Cc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Kayıtları Görüntüle"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Tüm satış kayıtlarını listele"})]}),h.jsxs("button",{onClick:()=>e("/add-record"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:h.jsx(ku,{className:"h-6 w-6 text-white"})}),h.jsx(Cc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Yeni Kayıt Ekle"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Yeni satış kaydı oluştur"})]}),(n==null?void 0:n.role)==="admin"&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>e("/analytics"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:h.jsx(j1,{className:"h-6 w-6 text-white"})}),h.jsx(Cc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Analitik Raporları"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Detaylı analitik ve raporlar"})]}),h.jsxs("button",{onClick:()=>e("/user-management"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:h.jsx(sa,{className:"h-6 w-6 text-white"})}),h.jsx(Cc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Kullanıcı Yönetimi"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Personel ekle ve düzenle"})]})]}),(n==null?void 0:n.role)==="teamLeader"&&h.jsxs("button",{onClick:()=>e("/analytics"),className:"group text-left p-6 rounded-2xl border border-purple-100 hover:border-purple-300 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:h.jsx(j1,{className:"h-6 w-6 text-white"})}),h.jsx(Cc,{className:"h-5 w-5 text-gray-400 group-hover:text-purple-600 transform group-hover:-translate-y-1 transition-all duration-300"})]}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 group-hover:text-purple-700 transition-colors",children:"Analitik Raporları"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-700 transition-colors",children:"Detaylı analitik ve raporlar"})]})]})]}),h.jsxs("div",{className:"card-modern p-8",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl flex items-center justify-center",children:h.jsx(zg,{className:"h-5 w-5 text-white"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Zirveye Adını Yazdıranlar"}),h.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:"Bu Ay En İyi 3 Satışçı"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:b.length>0?b.map((N,_)=>{const C=[{title:"🥇 ALTIN",bgGradient:"from-yellow-400 via-yellow-500 to-yellow-600",borderColor:"border-yellow-300",textColor:"text-yellow-800",icon:zg,iconBg:"bg-gradient-to-br from-yellow-500 to-yellow-600"},{title:"🥈 GÜMÜŞ",bgGradient:"from-gray-300 via-gray-400 to-gray-500",borderColor:"border-gray-300",textColor:"text-gray-800",icon:Aj,iconBg:"bg-gradient-to-br from-gray-400 to-gray-500"},{title:"🥉 BRONZ",bgGradient:"from-orange-400 via-orange-500 to-orange-600",borderColor:"border-orange-300",textColor:"text-orange-800",icon:y4,iconBg:"bg-gradient-to-br from-orange-500 to-orange-600"}][_],V=C.icon;return h.jsx("div",{className:`relative p-6 rounded-2xl border-2 ${C.borderColor} bg-gradient-to-br ${C.bgGradient} shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:`w-16 h-16 ${C.iconBg} rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg`,children:h.jsx(V,{className:"h-8 w-8 text-white"})}),h.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:C.title}),h.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:N.userName}),h.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-3 backdrop-blur-sm",children:[h.jsx("p",{className:"text-2xl font-bold text-white",children:N.salesCount}),h.jsx("p",{className:"text-sm text-white opacity-90",children:"Başarılı Satış"})]}),_===0&&h.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:h.jsx("span",{className:"text-yellow-800 font-bold text-sm",children:"👑"})})]})},N.userId)}):h.jsxs("div",{className:"col-span-3 text-center py-8",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(zg,{className:"h-8 w-8 text-gray-400"})}),h.jsx("p",{className:"text-gray-500 font-medium",children:"Bu ay henüz satış verisi bulunmuyor"}),h.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"İlk satışları yapan personeller burada görünecek"})]})})]}),((n==null?void 0:n.role)==="personnel"||(n==null?void 0:n.role)==="teamLeader")&&f.length>0&&h.jsxs("div",{className:"card-modern p-8",children:[h.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:h.jsx(Wh,{className:"h-5 w-5 text-white"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Hedeflerim"})]}),h.jsxs("div",{className:"space-y-6",children:[f.map(N=>{const _=new Date().toISOString().slice(0,7);if(!(N.period===_))return null;const C=Math.min(t.successfulSales/N.targetValue*100,100),V=Math.round(C);return h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Hedef: ",N.targetValue," ",N.targetType==="monthly"?"Aylık":"Yıllık"," Satış"]}),h.jsxs("span",{className:"text-sm font-bold text-green-600",children:[V,"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:h.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full transition-all duration-500",style:{width:`${V}%`}})}),h.jsxs("p",{className:"text-xs text-gray-500",children:[t.successfulSales," / ",N.targetValue," satış tamamlandı"]}),N.description&&h.jsx("p",{className:"text-xs text-gray-400 italic",children:N.description})]},N.id)}),h.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-100",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Başarı Oranı"}),h.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[t.totalRecords>0?Math.round(t.successfulSales/t.totalRecords*100):0,"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:h.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${t.totalRecords>0?t.successfulSales/t.totalRecords*100:0}%`}})}),h.jsxs("p",{className:"text-xs text-gray-500",children:[t.successfulSales," başarılı / ",t.totalRecords," toplam"]})]})]})]}),h.jsx("div",{className:"card-modern p-6 bg-gradient-periwinkle",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("p",{className:"text-gray-600 font-medium",children:["Bugün ",h.jsx("span",{className:"font-bold text-purple-700",children:t.totalRecords})," yeni kayıt eklediniz. Bu ay toplam ",h.jsx("span",{className:"font-bold text-purple-700",children:t.totalRecords})," kayıt oluşturdunuz."]}),h.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Başarı oranınız: ",h.jsxs("span",{className:"font-semibold text-green-600",children:[t.totalRecords>0?Math.round(t.successfulSales/t.totalRecords*100):0,"%"]})]})]})})]})})},f0=({isOpen:n,onClose:e,title:t,message:i,type:s="info",onConfirm:o,confirmText:c="Tamam",cancelText:d="İptal",showCancel:f=!1})=>{if(!n)return null;const g=()=>{switch(s){case"success":return h.jsx(ad,{className:"h-6 w-6 text-green-600"});case"warning":return h.jsx(I1,{className:"h-6 w-6 text-yellow-600"});case"error":return h.jsx(Vu,{className:"h-6 w-6 text-red-600"});case"confirm":return h.jsx(I1,{className:"h-6 w-6 text-yellow-600"});default:return h.jsx(yj,{className:"h-6 w-6 text-blue-600"})}},b=()=>{switch(s){case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";case"warning":case"confirm":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500";case"error":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";default:return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}},A=()=>{o?o():e()},N=D=>{D.target===D.currentTarget&&e()},_=document.getElementById("modal-root")||document.body;return e2.createPortal(h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:N,children:h.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto",onClick:D=>D.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[g(),h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t})]}),h.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(Fl,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"p-4",children:h.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:i})}),h.jsxs("div",{className:"flex items-center justify-end space-x-3 p-4 border-t border-gray-200",children:[f&&h.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:d}),h.jsx("button",{onClick:A,className:`px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 ${b()}`,children:c})]})]})}),_)},tR="modulepreload",nR=function(n){return"/satis-crm/"+n},Yb={},Mp=function(e,t,i){let s=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=c(t.map(g=>{if(g=nR(g),g in Yb)return;Yb[g]=!0;const b=g.endsWith(".css"),A=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${A}`))return;const N=document.createElement("link");if(N.rel=b?"stylesheet":tR,b||(N.as="script"),N.crossOrigin="",N.href=g,f&&N.setAttribute("nonce",f),document.head.appendChild(N),b)return new Promise((_,D)=>{N.addEventListener("load",_),N.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};function On(n){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(n)}var Ki=Uint8Array,Qa=Uint16Array,W2=Int32Array,m0=new Ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),p0=new Ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L1=new Ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A4=function(n,e){for(var t=new Qa(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var s=new W2(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)s[o]=o-t[i]<<5|i;return{b:t,r:s}},S4=A4(m0,2),E4=S4.b,D1=S4.r;E4[28]=258,D1[258]=28;var T4=A4(p0,0),rR=T4.b,Kb=T4.r,P1=new Qa(32768);for(var Zn=0;Zn<32768;++Zn){var jc=(Zn&43690)>>1|(Zn&21845)<<1;jc=(jc&52428)>>2|(jc&13107)<<2,jc=(jc&61680)>>4|(jc&3855)<<4,P1[Zn]=((jc&65280)>>8|(jc&255)<<8)>>1}var Ko=function(n,e,t){for(var i=n.length,s=0,o=new Qa(e);s<i;++s)n[s]&&++o[n[s]-1];var c=new Qa(e);for(s=1;s<e;++s)c[s]=c[s-1]+o[s-1]<<1;var d;if(t){d=new Qa(1<<e);var f=15-e;for(s=0;s<i;++s)if(n[s])for(var g=s<<4|n[s],b=e-n[s],A=c[n[s]-1]++<<b,N=A|(1<<b)-1;A<=N;++A)d[P1[A]>>f]=g}else for(d=new Qa(i),s=0;s<i;++s)n[s]&&(d[s]=P1[c[n[s]-1]++]>>15-n[s]);return d},Qc=new Ki(288);for(var Zn=0;Zn<144;++Zn)Qc[Zn]=8;for(var Zn=144;Zn<256;++Zn)Qc[Zn]=9;for(var Zn=256;Zn<280;++Zn)Qc[Zn]=7;for(var Zn=280;Zn<288;++Zn)Qc[Zn]=8;var Nf=new Ki(32);for(var Zn=0;Zn<32;++Zn)Nf[Zn]=5;var iR=Ko(Qc,9,0),aR=Ko(Qc,9,1),sR=Ko(Nf,5,0),oR=Ko(Nf,5,1),Hg=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Js=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},Gg=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Q2=function(n){return(n+7)/8|0},k4=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Ki(n.subarray(e,t))},lR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],to=function(n,e,t){var i=new Error(e||lR[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,to),!t)throw i;return i},cR=function(n,e,t,i){var s=n.length,o=0;if(!s||e.f&&!e.l)return t||new Ki(0);var c=!t,d=c||e.i!=2,f=e.i;c&&(t=new Ki(s*3));var g=function(Ze){var Ee=t.length;if(Ze>Ee){var ge=new Ki(Math.max(Ee*2,Ze));ge.set(t),t=ge}},b=e.f||0,A=e.p||0,N=e.b||0,_=e.l,D=e.d,C=e.m,V=e.n,P=s*8;do{if(!_){b=Js(n,A,1);var M=Js(n,A+1,3);if(A+=3,M)if(M==1)_=aR,D=oR,C=9,V=5;else if(M==2){var fe=Js(n,A,31)+257,F=Js(n,A+10,15)+4,T=fe+Js(n,A+5,31)+1;A+=14;for(var I=new Ki(T),G=new Ki(19),R=0;R<F;++R)G[L1[R]]=Js(n,A+R*3,7);A+=F*3;for(var k=Hg(G),O=(1<<k)-1,ee=Ko(G,k,1),R=0;R<T;){var ve=ee[Js(n,A,O)];A+=ve&15;var J=ve>>4;if(J<16)I[R++]=J;else{var re=0,he=0;for(J==16?(he=3+Js(n,A,3),A+=2,re=I[R-1]):J==17?(he=3+Js(n,A,7),A+=3):J==18&&(he=11+Js(n,A,127),A+=7);he--;)I[R++]=re}}var oe=I.subarray(0,fe),_e=I.subarray(fe);C=Hg(oe),V=Hg(_e),_=Ko(oe,C,1),D=Ko(_e,V,1)}else to(1);else{var J=Q2(A)+4,se=n[J-4]|n[J-3]<<8,ae=J+se;if(ae>s){f&&to(0);break}d&&g(N+se),t.set(n.subarray(J,ae),N),e.b=N+=se,e.p=A=ae*8,e.f=b;continue}if(A>P){f&&to(0);break}}d&&g(N+131072);for(var X=(1<<C)-1,Re=(1<<V)-1,B=A;;B=A){var re=_[Gg(n,A)&X],Y=re>>4;if(A+=re&15,A>P){f&&to(0);break}if(re||to(2),Y<256)t[N++]=Y;else if(Y==256){B=A,_=null;break}else{var te=Y-254;if(Y>264){var R=Y-257,ue=m0[R];te=Js(n,A,(1<<ue)-1)+E4[R],A+=ue}var ne=D[Gg(n,A)&Re],de=ne>>4;ne||to(3),A+=ne&15;var _e=rR[de];if(de>3){var ue=p0[de];_e+=Gg(n,A)&(1<<ue)-1,A+=ue}if(A>P){f&&to(0);break}d&&g(N+131072);var we=N+te;if(N<_e){var Se=o-_e,nt=Math.min(_e,we);for(Se+N<0&&to(3);N<nt;++N)t[N]=i[Se+N]}for(;N<we;++N)t[N]=t[N-_e]}}e.l=_,e.p=B,e.b=N,e.f=b,_&&(b=1,e.m=C,e.d=D,e.n=V)}while(!b);return N!=t.length&&c?k4(t,0,N):t.subarray(0,N)},jl=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},Kd=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},$g=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var s=t.length,o=t.slice();if(!s)return{t:R4,l:0};if(s==1){var c=new Ki(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(ae,fe){return ae.f-fe.f}),t.push({s:-1,f:25001});var d=t[0],f=t[1],g=0,b=1,A=2;for(t[0]={s:-1,f:d.f+f.f,l:d,r:f};b!=s-1;)d=t[t[g].f<t[A].f?g++:A++],f=t[g!=b&&t[g].f<t[A].f?g++:A++],t[b++]={s:-1,f:d.f+f.f,l:d,r:f};for(var N=o[0].s,i=1;i<s;++i)o[i].s>N&&(N=o[i].s);var _=new Qa(N+1),D=O1(t[b-1],_,0);if(D>e){var i=0,C=0,V=D-e,P=1<<V;for(o.sort(function(fe,F){return _[F.s]-_[fe.s]||fe.f-F.f});i<s;++i){var M=o[i].s;if(_[M]>e)C+=P-(1<<D-_[M]),_[M]=e;else break}for(C>>=V;C>0;){var J=o[i].s;_[J]<e?C-=1<<e-_[J]++-1:++i}for(;i>=0&&C;--i){var se=o[i].s;_[se]==e&&(--_[se],++C)}D=e}return{t:new Ki(_),l:D}},O1=function(n,e,t){return n.s==-1?Math.max(O1(n.l,e,t+1),O1(n.r,e,t+1)):e[n.s]=t},Wb=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Qa(++e),i=0,s=n[0],o=1,c=function(f){t[i++]=f},d=1;d<=e;++d)if(n[d]==s&&d!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(s),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(s);o=1,s=n[d]}return{c:t.subarray(0,i),n:e}},Wd=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},j4=function(n,e,t){var i=t.length,s=Q2(e+2);n[s]=i&255,n[s+1]=i>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<i;++o)n[s+o+4]=t[o];return(s+4+i)*8},Qb=function(n,e,t,i,s,o,c,d,f,g,b){jl(e,b++,t),++s[256];for(var A=$g(s,15),N=A.t,_=A.l,D=$g(o,15),C=D.t,V=D.l,P=Wb(N),M=P.c,J=P.n,se=Wb(C),ae=se.c,fe=se.n,F=new Qa(19),T=0;T<M.length;++T)++F[M[T]&31];for(var T=0;T<ae.length;++T)++F[ae[T]&31];for(var I=$g(F,7),G=I.t,R=I.l,k=19;k>4&&!G[L1[k-1]];--k);var O=g+5<<3,ee=Wd(s,Qc)+Wd(o,Nf)+c,ve=Wd(s,N)+Wd(o,C)+c+14+3*k+Wd(F,G)+2*F[16]+3*F[17]+7*F[18];if(f>=0&&O<=ee&&O<=ve)return j4(e,b,n.subarray(f,f+g));var re,he,oe,_e;if(jl(e,b,1+(ve<ee)),b+=2,ve<ee){re=Ko(N,_,0),he=N,oe=Ko(C,V,0),_e=C;var X=Ko(G,R,0);jl(e,b,J-257),jl(e,b+5,fe-1),jl(e,b+10,k-4),b+=14;for(var T=0;T<k;++T)jl(e,b+3*T,G[L1[T]]);b+=3*k;for(var Re=[M,ae],B=0;B<2;++B)for(var Y=Re[B],T=0;T<Y.length;++T){var te=Y[T]&31;jl(e,b,X[te]),b+=G[te],te>15&&(jl(e,b,Y[T]>>5&127),b+=Y[T]>>12)}}else re=iR,he=Qc,oe=sR,_e=Nf;for(var T=0;T<d;++T){var ue=i[T];if(ue>255){var te=ue>>18&31;Kd(e,b,re[te+257]),b+=he[te+257],te>7&&(jl(e,b,ue>>23&31),b+=m0[te]);var ne=ue&31;Kd(e,b,oe[ne]),b+=_e[ne],ne>3&&(Kd(e,b,ue>>5&8191),b+=p0[ne])}else Kd(e,b,re[ue]),b+=he[ue]}return Kd(e,b,re[256]),b+he[256]},uR=new W2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),R4=new Ki(0),hR=function(n,e,t,i,s,o){var c=o.z||n.length,d=new Ki(i+c+5*(1+Math.ceil(c/7e3))+s),f=d.subarray(i,d.length-s),g=o.l,b=(o.r||0)&7;if(e){b&&(f[0]=o.r>>3);for(var A=uR[e-1],N=A>>13,_=A&8191,D=(1<<t)-1,C=o.p||new Qa(32768),V=o.h||new Qa(D+1),P=Math.ceil(t/3),M=2*P,J=function($e){return(n[$e]^n[$e+1]<<P^n[$e+2]<<M)&D},se=new W2(25e3),ae=new Qa(288),fe=new Qa(32),F=0,T=0,I=o.i||0,G=0,R=o.w||0,k=0;I+2<c;++I){var O=J(I),ee=I&32767,ve=V[O];if(C[ee]=ve,V[O]=ee,R<=I){var re=c-I;if((F>7e3||G>24576)&&(re>423||!g)){b=Qb(n,f,0,se,ae,fe,T,G,k,I-k,b),G=F=T=0,k=I;for(var he=0;he<286;++he)ae[he]=0;for(var he=0;he<30;++he)fe[he]=0}var oe=2,_e=0,X=_,Re=ee-ve&32767;if(re>2&&O==J(I-Re))for(var B=Math.min(N,re)-1,Y=Math.min(32767,I),te=Math.min(258,re);Re<=Y&&--X&&ee!=ve;){if(n[I+oe]==n[I+oe-Re]){for(var ue=0;ue<te&&n[I+ue]==n[I+ue-Re];++ue);if(ue>oe){if(oe=ue,_e=Re,ue>B)break;for(var ne=Math.min(Re,ue-2),de=0,he=0;he<ne;++he){var we=I-Re+he&32767,Se=C[we],nt=we-Se&32767;nt>de&&(de=nt,ve=we)}}}ee=ve,ve=C[ee],Re+=ee-ve&32767}if(_e){se[G++]=268435456|D1[oe]<<18|Kb[_e];var Ze=D1[oe]&31,Ee=Kb[_e]&31;T+=m0[Ze]+p0[Ee],++ae[257+Ze],++fe[Ee],R=I+oe,++F}else se[G++]=n[I],++ae[n[I]]}}for(I=Math.max(I,R);I<c;++I)se[G++]=n[I],++ae[n[I]];b=Qb(n,f,g,se,ae,fe,T,G,k,I-k,b),g||(o.r=b&7|f[b/8|0]<<3,b-=7,o.h=V,o.p=C,o.i=I,o.w=R)}else{for(var I=o.w||0;I<c+g;I+=65535){var ge=I+65535;ge>=c&&(f[b/8|0]=g,ge=c),b=j4(f,b+1,n.subarray(I,ge))}o.i=c}return k4(d,0,i+Q2(b)+s)},C4=function(){var n=1,e=0;return{p:function(t){for(var i=n,s=e,o=t.length|0,c=0;c!=o;){for(var d=Math.min(c+2655,o);c<d;++c)s+=i+=t[c];i=(i&65535)+15*(i>>16),s=(s&65535)+15*(s>>16)}n=i,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},dR=function(n,e,t,i,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new Ki(o.length+n.length);c.set(o),c.set(n,o.length),n=c,s.w=o.length}return hR(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,s)},I4=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},fR=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=C4();s.p(e.dictionary),I4(n,2,s.d())}},mR=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&to(6,"invalid zlib data"),(n[1]>>5&1)==1&&to(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function M1(n,e){e||(e={});var t=C4();t.p(n);var i=dR(n,e,e.dictionary?6:2,4);return fR(i,e),I4(i,i.length-4,t.d()),i}function pR(n,e){return cR(n.subarray(mR(n),-4),{i:2},e,e)}var gR=typeof TextDecoder<"u"&&new TextDecoder,yR=0;try{gR.decode(R4,{stream:!0}),yR=1}catch{}var Pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Yg(){Pt.console&&typeof Pt.console.log=="function"&&Pt.console.log.apply(Pt.console,arguments)}var $n={log:Yg,warn:function(n){Pt.console&&(typeof Pt.console.warn=="function"?Pt.console.warn.apply(Pt.console,arguments):Yg.call(null,arguments))},error:function(n){Pt.console&&(typeof Pt.console.error=="function"?Pt.console.error.apply(Pt.console,arguments):Yg(n))}};function Kg(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Su(i.response,e,t)},i.onerror=function(){$n.error("could not download file")},i.send()}function Xb(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ym(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var uf,V1,Su=Pt.saveAs||((typeof window>"u"?"undefined":On(window))!=="object"||window!==Pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=Pt.URL||Pt.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Xb(s.href)?Kg(n,e,t):Ym(s,s.target="_blank"):Ym(s)):(s.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){Ym(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Xb(n))Kg(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){Ym(i)})}else navigator.msSaveOrOpenBlob(function(s,o){return o===void 0?o={autoBom:!1}:On(o)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return Kg(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(Pt.HTMLElement)||Pt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&o)&&(typeof FileReader>"u"?"undefined":On(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var b=d.result;b=c?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=b:location=b,i=null},d.readAsDataURL(n)}else{var f=Pt.URL||Pt.webkitURL,g=f.createObjectURL(n);i?i.location=g:location.href=g,i=null,setTimeout(function(){f.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function L4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],i=0;i<t.length;i++){var s=t[i].re,o=t[i].process,c=s.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),f=this.g.toString(16),g=this.b.toString(16);return d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),g.length==1&&(g="0"+g),"#"+d+f+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Wg(n,e){var t=n[0],i=n[1],s=n[2],o=n[3];t=zi(t,i,s,o,e[0],7,-680876936),o=zi(o,t,i,s,e[1],12,-389564586),s=zi(s,o,t,i,e[2],17,606105819),i=zi(i,s,o,t,e[3],22,-1044525330),t=zi(t,i,s,o,e[4],7,-176418897),o=zi(o,t,i,s,e[5],12,1200080426),s=zi(s,o,t,i,e[6],17,-1473231341),i=zi(i,s,o,t,e[7],22,-45705983),t=zi(t,i,s,o,e[8],7,1770035416),o=zi(o,t,i,s,e[9],12,-1958414417),s=zi(s,o,t,i,e[10],17,-42063),i=zi(i,s,o,t,e[11],22,-1990404162),t=zi(t,i,s,o,e[12],7,1804603682),o=zi(o,t,i,s,e[13],12,-40341101),s=zi(s,o,t,i,e[14],17,-1502002290),t=qi(t,i=zi(i,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=qi(o,t,i,s,e[6],9,-1069501632),s=qi(s,o,t,i,e[11],14,643717713),i=qi(i,s,o,t,e[0],20,-373897302),t=qi(t,i,s,o,e[5],5,-701558691),o=qi(o,t,i,s,e[10],9,38016083),s=qi(s,o,t,i,e[15],14,-660478335),i=qi(i,s,o,t,e[4],20,-405537848),t=qi(t,i,s,o,e[9],5,568446438),o=qi(o,t,i,s,e[14],9,-1019803690),s=qi(s,o,t,i,e[3],14,-187363961),i=qi(i,s,o,t,e[8],20,1163531501),t=qi(t,i,s,o,e[13],5,-1444681467),o=qi(o,t,i,s,e[2],9,-51403784),s=qi(s,o,t,i,e[7],14,1735328473),t=Hi(t,i=qi(i,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Hi(o,t,i,s,e[8],11,-2022574463),s=Hi(s,o,t,i,e[11],16,1839030562),i=Hi(i,s,o,t,e[14],23,-35309556),t=Hi(t,i,s,o,e[1],4,-1530992060),o=Hi(o,t,i,s,e[4],11,1272893353),s=Hi(s,o,t,i,e[7],16,-155497632),i=Hi(i,s,o,t,e[10],23,-1094730640),t=Hi(t,i,s,o,e[13],4,681279174),o=Hi(o,t,i,s,e[0],11,-358537222),s=Hi(s,o,t,i,e[3],16,-722521979),i=Hi(i,s,o,t,e[6],23,76029189),t=Hi(t,i,s,o,e[9],4,-640364487),o=Hi(o,t,i,s,e[12],11,-421815835),s=Hi(s,o,t,i,e[15],16,530742520),t=Gi(t,i=Hi(i,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Gi(o,t,i,s,e[7],10,1126891415),s=Gi(s,o,t,i,e[14],15,-1416354905),i=Gi(i,s,o,t,e[5],21,-57434055),t=Gi(t,i,s,o,e[12],6,1700485571),o=Gi(o,t,i,s,e[3],10,-1894986606),s=Gi(s,o,t,i,e[10],15,-1051523),i=Gi(i,s,o,t,e[1],21,-2054922799),t=Gi(t,i,s,o,e[8],6,1873313359),o=Gi(o,t,i,s,e[15],10,-30611744),s=Gi(s,o,t,i,e[6],15,-1560198380),i=Gi(i,s,o,t,e[13],21,1309151649),t=Gi(t,i,s,o,e[4],6,-145523070),o=Gi(o,t,i,s,e[11],10,-1120210379),s=Gi(s,o,t,i,e[2],15,718787259),i=Gi(i,s,o,t,e[9],21,-343485551),n[0]=Vc(t,n[0]),n[1]=Vc(i,n[1]),n[2]=Vc(s,n[2]),n[3]=Vc(o,n[3])}function g0(n,e,t,i,s,o){return e=Vc(Vc(e,n),Vc(i,o)),Vc(e<<s|e>>>32-s,t)}function zi(n,e,t,i,s,o,c){return g0(e&t|~e&i,n,e,s,o,c)}function qi(n,e,t,i,s,o,c){return g0(e&i|t&~i,n,e,s,o,c)}function Hi(n,e,t,i,s,o,c){return g0(e^t^i,n,e,s,o,c)}function Gi(n,e,t,i,s,o,c){return g0(t^(e|~i),n,e,s,o,c)}function D4(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Wg(i,vR(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Wg(i,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Wg(i,s),i}function vR(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}uf=Pt.atob.bind(Pt),V1=Pt.btoa.bind(Pt);var Jb="0123456789abcdef".split("");function bR(n){for(var e="",t=0;t<4;t++)e+=Jb[n>>8*t+4&15]+Jb[n>>8*t&15];return e}function xR(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function U1(n){return D4(n).map(xR).join("")}var wR=function(n){for(var e=0;e<n.length;e++)n[e]=bR(n[e]);return n.join("")}(D4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vc(n,e){if(wR){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function B1(n,e){var t,i,s,o;if(n!==t){for(var c=(s=n,o=1+(256/n.length>>0),new Array(o+1).join(s)),d=[],f=0;f<256;f++)d[f]=f;var g=0;for(f=0;f<256;f++){var b=d[f];g=(g+b+c.charCodeAt(f))%256,d[f]=d[g],d[g]=b}t=n,i=d}else d=i;var A=e.length,N=0,_=0,D="";for(f=0;f<A;f++)_=(_+(b=d[N=(N+1)%256]))%256,d[N]=d[_],d[_]=b,c=d[(d[N]+d[_])%256],D+=String.fromCharCode(e.charCodeAt(f)^c);return D}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Zb={print:4,modify:8,copy:16,"annot-forms":32};function Th(n,e,t,i){this.v=1,this.r=2;var s=192;n.forEach(function(d){if(Zb.perm!==void 0)throw new Error("Invalid permission: "+d);s+=Zb[d]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^s)),this.encryptionKey=U1(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=B1(this.encryptionKey,this.padding)}function kh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var s=n.charCodeAt(i);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=n[i]}return e}function ex(n){if(On(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,s){if(s=s||!1,typeof t!="string"||typeof i!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!s],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,i)}catch(d){Pt.console&&$n.error("jsPDF PubSub Error",d.message,d)}c[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Vp(n){if(!(this instanceof Vp))return new Vp(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function P4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Eu(n,e,t,i,s){if(!(this instanceof Eu))return new Eu(n,e,t,i,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,P4.call(this,i,s)}function Ch(n,e,t,i,s){if(!(this instanceof Ch))return new Ch(n,e,t,i,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,P4.call(this,i,s)}function Lt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],s=arguments[2],o=arguments[3],c=[],d=1,f=16,g="S",b=null;On(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,s=n.format||s,o=n.compress||n.compressPdf||o,(b=n.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),d=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),g=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),i=i||"mm",t=(""+(t||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,N={},_={internal:{},__private__:{}};_.__private__.PubSub=ex;var D="1.3",C=_.__private__.getPdfVersion=function(){return D};_.__private__.setPdfVersion=function(w){D=w};var V={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return V};var P=_.__private__.getPageFormat=function(w){return V[w]};s=s||"a4";var M={COMPAT:"compat",ADVANCED:"advanced"},J=M.COMPAT;function se(){this.saveGraphicsState(),le(new dt(ht,0,0,-ht,0,ci()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),g="n",J=M.ADVANCED}function ae(){this.restoreGraphicsState(),g="S",J=M.COMPAT}var fe=_.__private__.combineFontStyleAndFontWeight=function(w,q){if(w=="bold"&&q=="normal"||w=="bold"&&q==400||w=="normal"&&q=="italic"||w=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(w=q==400||q==="normal"?w==="italic"?"italic":"normal":q!=700&&q!=="bold"||w!=="normal"?(q==700?"bold":q)+""+w:"bold"),w};_.advancedAPI=function(w){var q=J===M.COMPAT;return q&&se.call(this),typeof w!="function"||(w(this),q&&ae.call(this)),this},_.compatAPI=function(w){var q=J===M.ADVANCED;return q&&ae.call(this),typeof w!="function"||(w(this),q&&se.call(this)),this},_.isAdvancedAPI=function(){return J===M.ADVANCED};var F,T=function(w){if(J!==M.ADVANCED)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=_.roundToPrecision=_.__private__.roundToPrecision=function(w,q){var ce=e||q;if(isNaN(w)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(ce).replace(/0+$/,"")};F=_.hpf=_.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return I(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return I(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return I(w,16)};var G=_.f2=_.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return I(w,2)},R=_.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return I(w,3)},k=_.scale=_.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return J===M.COMPAT?w*ht:J===M.ADVANCED?w:void 0},O=function(w){return J===M.COMPAT?ci()-w:J===M.ADVANCED?w:void 0},ee=function(w){return k(O(w))};_.__private__.setPrecision=_.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var ve,re="00000000000000000000000000000000",he=_.__private__.getFileId=function(){return re},oe=_.__private__.setFileId=function(w){return re=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(In=new Th(b.userPermissions,b.userPassword,b.ownerPassword,re)),re};_.setFileId=function(w){return oe(w),this},_.getFileId=function(){return he()};var _e=_.__private__.convertDateToPDFDate=function(w){var q=w.getTimezoneOffset(),ce=q<0?"+":"-",ye=Math.floor(Math.abs(q/60)),ke=Math.abs(q%60),Fe=[ce,te(ye),"'",te(ke),"'"].join("");return["D:",w.getFullYear(),te(w.getMonth()+1),te(w.getDate()),te(w.getHours()),te(w.getMinutes()),te(w.getSeconds()),Fe].join("")},X=_.__private__.convertPDFDateToDate=function(w){var q=parseInt(w.substr(2,4),10),ce=parseInt(w.substr(6,2),10)-1,ye=parseInt(w.substr(8,2),10),ke=parseInt(w.substr(10,2),10),Fe=parseInt(w.substr(12,2),10),et=parseInt(w.substr(14,2),10);return new Date(q,ce,ye,ke,Fe,et,0)},Re=_.__private__.setCreationDate=function(w){var q;if(w===void 0&&(w=new Date),w instanceof Date)q=_e(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=w}return ve=q},B=_.__private__.getCreationDate=function(w){var q=ve;return w==="jsDate"&&(q=X(ve)),q};_.setCreationDate=function(w){return Re(w),this},_.getCreationDate=function(w){return B(w)};var Y,te=_.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ue=_.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ne=0,de=[],we=[],Se=0,nt=[],Ze=[],Ee=!1,ge=we,$e=function(){ne=0,Se=0,we=[],de=[],nt=[],bi=nr(),Vr=nr()};_.__private__.setCustomOutputDestination=function(w){Ee=!0,ge=w};var De=function(w){Ee||(ge=w)};_.__private__.resetCustomOutputDestination=function(){Ee=!1,ge=we};var le=_.__private__.out=function(w){return w=w.toString(),Se+=w.length+1,ge.push(w),ge},lt=_.__private__.write=function(w){return le(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},st=_.__private__.getArrayBuffer=function(w){for(var q=w.length,ce=new ArrayBuffer(q),ye=new Uint8Array(ce);q--;)ye[q]=w.charCodeAt(q);return ce},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return Qe};var rt=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(w){return rt=J===M.ADVANCED?w/ht:w,this};var at,it=_.__private__.getFontSize=_.getFontSize=function(){return J===M.COMPAT?rt:rt*ht},gt=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(w){return gt=w,this},_.__private__.getR2L=_.getR2L=function(){return gt};var Ct,Ut=_.__private__.setZoomMode=function(w){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))at=w;else if(isNaN(w)){if(q.indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');at=w}else at=parseInt(w,10)};_.__private__.getZoomMode=function(){return at};var wt,xt=_.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');Ct=w};_.__private__.getPageMode=function(){return Ct};var $t=_.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');wt=w};_.__private__.getLayoutMode=function(){return wt},_.__private__.setDisplayMode=_.setDisplayMode=function(w,q,ce){return Ut(w),$t(q),xt(ce),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(w){if(Object.keys(yt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[w]},_.__private__.getDocumentProperties=function(){return yt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(w){for(var q in yt)yt.hasOwnProperty(q)&&w[q]&&(yt[q]=w[q]);return this},_.__private__.setDocumentProperty=function(w,q){if(Object.keys(yt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[w]=q};var Yt,ht,er,Qt,Kr,Jt={},En={},ii=[],ln={},Ea={},Mn={},Ar={},Wr=null,Vn=0,At=[],cn=new ex(_),ki=n.hotfixes||[],tr={},Qr={},Xi=[],dt=function w(q,ce,ye,ke,Fe,et){if(!(this instanceof w))return new w(q,ce,ye,ke,Fe,et);isNaN(q)&&(q=1),isNaN(ce)&&(ce=0),isNaN(ye)&&(ye=0),isNaN(ke)&&(ke=1),isNaN(Fe)&&(Fe=0),isNaN(et)&&(et=0),this._matrix=[q,ce,ye,ke,Fe,et]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(w)},dt.prototype.multiply=function(w){var q=w.sx*this.sx+w.shy*this.shx,ce=w.sx*this.shy+w.shy*this.sy,ye=w.shx*this.sx+w.sy*this.shx,ke=w.shx*this.shy+w.sy*this.sy,Fe=w.tx*this.sx+w.ty*this.shx+this.tx,et=w.tx*this.shy+w.ty*this.sy+this.ty;return new dt(q,ce,ye,ke,Fe,et)},dt.prototype.decompose=function(){var w=this.sx,q=this.shy,ce=this.shx,ye=this.sy,ke=this.tx,Fe=this.ty,et=Math.sqrt(w*w+q*q),ct=(w/=et)*ce+(q/=et)*ye;ce-=w*ct,ye-=q*ct;var p=Math.sqrt(ce*ce+ye*ye);return ct/=p,w*(ye/=p)<q*(ce/=p)&&(w=-w,q=-q,ct=-ct,et=-et),{scale:new dt(et,0,0,p,0,0),translate:new dt(1,0,0,1,ke,Fe),rotate:new dt(w,q,-q,w,0,0),skew:new dt(1,0,ct,1,0,0)}},dt.prototype.toString=function(w){return this.join(" ")},dt.prototype.inversed=function(){var w=this.sx,q=this.shy,ce=this.shx,ye=this.sy,ke=this.tx,Fe=this.ty,et=1/(w*ye-q*ce),ct=ye*et,p=-q*et,E=-ce*et,L=w*et;return new dt(ct,p,E,L,-ct*ke-E*Fe,-p*ke-L*Fe)},dt.prototype.applyToPoint=function(w){var q=w.x*this.sx+w.y*this.shx+this.tx,ce=w.x*this.shy+w.y*this.sy+this.ty;return new Ls(q,ce)},dt.prototype.applyToRectangle=function(w){var q=this.applyToPoint(w),ce=this.applyToPoint(new Ls(w.x+w.w,w.y+w.h));return new po(q.x,q.y,ce.x-q.x,ce.y-q.y)},dt.prototype.clone=function(){var w=this.sx,q=this.shy,ce=this.shx,ye=this.sy,ke=this.tx,Fe=this.ty;return new dt(w,q,ce,ye,ke,Fe)},_.Matrix=dt;var Tn=_.matrixMult=function(w,q){return q.multiply(w)},kn=new dt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=kn;var Hn=function(w,q){if(!Ea[w]){var ce=(q instanceof Eu?"Sh":"P")+(Object.keys(ln).length+1).toString(10);q.id=ce,Ea[w]=ce,ln[ce]=q,cn.publish("addPattern",q)}};_.ShadingPattern=Eu,_.TilingPattern=Ch,_.addShadingPattern=function(w,q){return T("addShadingPattern()"),Hn(w,q),this},_.beginTilingPattern=function(w){T("beginTilingPattern()"),ss(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},_.endTilingPattern=function(w,q){T("endTilingPattern()"),q.stream=Ze[Y].join(`
`),Hn(w,q),cn.publish("endTilingPattern",q),Xi.pop().restore()};var Wn=_.__private__.newObject=function(){var w=nr();return pr(w,!0),w},nr=_.__private__.newObjectDeferred=function(){return ne++,de[ne]=function(){return Se},ne},pr=function(w,q){return q=typeof q=="boolean"&&q,de[w]=Se,q&&le(w+" 0 obj"),w},Es=_.__private__.newAdditionalObject=function(){var w={objId:nr(),content:""};return nt.push(w),w},bi=nr(),Vr=nr(),Sr=_.__private__.decodeColorString=function(w){var q=w.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ce=parseFloat(q[0]);q=[ce,ce,ce,"r"]}for(var ye="#",ke=0;ke<3;ke++)ye+=("0"+Math.floor(255*parseFloat(q[ke])).toString(16)).slice(-2);return ye},gr=_.__private__.encodeColorString=function(w){var q;typeof w=="string"&&(w={ch1:w});var ce=w.ch1,ye=w.ch2,ke=w.ch3,Fe=w.ch4,et=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var ct=new L4(ce);if(ct.ok)ce=ct.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var p=parseInt(ce.substr(1),16);ce=p>>16&255,ye=p>>8&255,ke=255&p}if(ye===void 0||Fe===void 0&&ce===ye&&ye===ke)if(typeof ce=="string")q=ce+" "+et[0];else switch(w.precision){case 2:q=G(ce/255)+" "+et[0];break;case 3:default:q=R(ce/255)+" "+et[0]}else if(Fe===void 0||On(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return q=["1.","1.","1.",et[1]].join(" ");if(typeof ce=="string")q=[ce,ye,ke,et[1]].join(" ");else switch(w.precision){case 2:q=[G(ce/255),G(ye/255),G(ke/255),et[1]].join(" ");break;default:case 3:q=[R(ce/255),R(ye/255),R(ke/255),et[1]].join(" ")}}else if(typeof ce=="string")q=[ce,ye,ke,Fe,et[2]].join(" ");else switch(w.precision){case 2:q=[G(ce),G(ye),G(ke),G(Fe),et[2]].join(" ");break;case 3:default:q=[R(ce),R(ye),R(ke),R(Fe),et[2]].join(" ")}return q},Er=_.__private__.getFilters=function(){return c},Un=_.__private__.putStream=function(w){var q=(w=w||{}).data||"",ce=w.filters||Er(),ye=w.alreadyAppliedFilters||[],ke=w.addLength1||!1,Fe=q.length,et=w.objectId,ct=function(jt){return jt};if(b!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(ct=In.encryptor(et,0));var p={};ce===!0&&(ce=["FlateEncode"]);var E=w.additionalKeyValues||[],L=(p=Lt.API.processDataByFilters!==void 0?Lt.API.processDataByFilters(q,ce):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(p.data.length!==0&&(E.push({key:"Length",value:p.data.length}),ke===!0&&E.push({key:"Length1",value:Fe})),L.length!=0)if(L.split("/").length-1==1)E.push({key:"Filter",value:L});else{E.push({key:"Filter",value:"["+L+"]"});for(var W=0;W<E.length;W+=1)if(E[W].key==="DecodeParms"){for(var Te=[],Oe=0;Oe<p.reverseChain.split("/").length-1;Oe+=1)Te.push("null");Te.push(E[W].value),E[W].value="["+Te.join(" ")+"]"}}le("<<");for(var tt=0;tt<E.length;tt++)le("/"+E[tt].key+" "+E[tt].value);le(">>"),p.data.length!==0&&(le("stream"),le(ct(p.data)),le("endstream"))},bn=_.__private__.putPage=function(w){var q=w.number,ce=w.data,ye=w.objId,ke=w.contentsObjId;pr(ye,!0),le("<</Type /Page"),le("/Parent "+w.rootDictionaryObjId+" 0 R"),le("/Resources "+w.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(F(w.mediaBox.bottomLeftX))+" "+parseFloat(F(w.mediaBox.bottomLeftY))+" "+F(w.mediaBox.topRightX)+" "+F(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&le("/CropBox ["+F(w.cropBox.bottomLeftX)+" "+F(w.cropBox.bottomLeftY)+" "+F(w.cropBox.topRightX)+" "+F(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&le("/BleedBox ["+F(w.bleedBox.bottomLeftX)+" "+F(w.bleedBox.bottomLeftY)+" "+F(w.bleedBox.topRightX)+" "+F(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&le("/TrimBox ["+F(w.trimBox.bottomLeftX)+" "+F(w.trimBox.bottomLeftY)+" "+F(w.trimBox.topRightX)+" "+F(w.trimBox.topRightY)+"]"),w.artBox!==null&&le("/ArtBox ["+F(w.artBox.bottomLeftX)+" "+F(w.artBox.bottomLeftY)+" "+F(w.artBox.topRightX)+" "+F(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&le("/UserUnit "+w.userUnit),cn.publish("putPage",{objId:ye,pageContext:At[q],pageNumber:q,page:ce}),le("/Contents "+ke+" 0 R"),le(">>"),le("endobj");var Fe=ce.join(`
`);return J===M.ADVANCED&&(Fe+=`
Q`),pr(ke,!0),Un({data:Fe,filters:Er(),objectId:ke}),le("endobj"),ye},Ta=_.__private__.putPages=function(){var w,q,ce=[];for(w=1;w<=Vn;w++)At[w].objId=nr(),At[w].contentsObjId=nr();for(w=1;w<=Vn;w++)ce.push(bn({number:w,data:Ze[w],objId:At[w].objId,contentsObjId:At[w].contentsObjId,mediaBox:At[w].mediaBox,cropBox:At[w].cropBox,bleedBox:At[w].bleedBox,trimBox:At[w].trimBox,artBox:At[w].artBox,userUnit:At[w].userUnit,rootDictionaryObjId:bi,resourceDictionaryObjId:Vr}));pr(bi,!0),le("<</Type /Pages");var ye="/Kids [";for(q=0;q<Vn;q++)ye+=ce[q]+" 0 R ";le(ye+"]"),le("/Count "+Vn),le(">>"),le("endobj"),cn.publish("postPutPages")},ka=function(w){cn.publish("putFont",{font:w,out:le,newObject:Wn,putStream:Un}),w.isAlreadyPutted!==!0&&(w.objectNumber=Wn(),le("<<"),le("/Type /Font"),le("/BaseFont /"+kh(w.postScriptName)),le("/Subtype /Type1"),typeof w.encoding=="string"&&le("/Encoding /"+w.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},ai=function(){for(var w in Jt)Jt.hasOwnProperty(w)&&(A===!1||A===!0&&N.hasOwnProperty(w))&&ka(Jt[w])},ji=function(w){w.objectNumber=Wn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[F(w.x),F(w.y),F(w.x+w.width),F(w.y+w.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var ce=w.pages[1].join(`
`);Un({data:ce,additionalKeyValues:q,objectId:w.objectNumber}),le("endobj")},Ts=function(){for(var w in tr)tr.hasOwnProperty(w)&&ji(tr[w])},Jo=function(w,q){var ce,ye=[],ke=1/(q-1);for(ce=0;ce<1;ce+=ke)ye.push(ce);if(ye.push(1),w[0].offset!=0){var Fe={offset:0,color:w[0].color};w.unshift(Fe)}if(w[w.length-1].offset!=1){var et={offset:1,color:w[w.length-1].color};w.push(et)}for(var ct="",p=0,E=0;E<ye.length;E++){for(ce=ye[E];ce>w[p+1].offset;)p++;var L=w[p].offset,W=(ce-L)/(w[p+1].offset-L),Te=w[p].color,Oe=w[p+1].color;ct+=ue(Math.round((1-W)*Te[0]+W*Oe[0]).toString(16))+ue(Math.round((1-W)*Te[1]+W*Oe[1]).toString(16))+ue(Math.round((1-W)*Te[2]+W*Oe[2]).toString(16))}return ct.trim()},ks=function(w,q){q||(q=21);var ce=Wn(),ye=Jo(w.colors,q),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+q+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Un({data:ye,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),le("endobj"),w.objectNumber=Wn(),le("<< /ShadingType "+w.type),le("/ColorSpace /DeviceRGB");var Fe="/Coords ["+F(parseFloat(w.coords[0]))+" "+F(parseFloat(w.coords[1]))+" ";w.type===2?Fe+=F(parseFloat(w.coords[2]))+" "+F(parseFloat(w.coords[3])):Fe+=F(parseFloat(w.coords[2]))+" "+F(parseFloat(w.coords[3]))+" "+F(parseFloat(w.coords[4]))+" "+F(parseFloat(w.coords[5])),le(Fe+="]"),w.matrix&&le("/Matrix ["+w.matrix.toString()+"]"),le("/Function "+ce+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},$l=function(w,q){var ce=nr(),ye=Wn();q.push({resourcesOid:ce,objectOid:ye}),w.objectNumber=ye;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+w.boundingBox.map(F).join(" ")+"]"}),ke.push({key:"XStep",value:F(w.xStep)}),ke.push({key:"YStep",value:F(w.yStep)}),ke.push({key:"Resources",value:ce+" 0 R"}),w.matrix&&ke.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),Un({data:w.stream,additionalKeyValues:ke,objectId:w.objectNumber}),le("endobj")},Ji=function(w){var q;for(q in ln)ln.hasOwnProperty(q)&&(ln[q]instanceof Eu?ks(ln[q]):ln[q]instanceof Ch&&$l(ln[q],w))},Zi=function(w){for(var q in w.objectNumber=Wn(),le("<<"),w)switch(q){case"opacity":le("/ca "+G(w[q]));break;case"stroke-opacity":le("/CA "+G(w[q]))}le(">>"),le("endobj")},Tr=function(){var w;for(w in Mn)Mn.hasOwnProperty(w)&&Zi(Mn[w])},ja=function(){for(var w in le("/XObject <<"),tr)tr.hasOwnProperty(w)&&tr[w].objectNumber>=0&&le("/"+w+" "+tr[w].objectNumber+" 0 R");cn.publish("putXobjectDict"),le(">>")},Yl=function(){In.oid=Wn(),le("<<"),le("/Filter /Standard"),le("/V "+In.v),le("/R "+In.r),le("/U <"+In.toHexString(In.U)+">"),le("/O <"+In.toHexString(In.O)+">"),le("/P "+In.P),le(">>"),le("endobj")},oa=function(){for(var w in le("/Font <<"),Jt)Jt.hasOwnProperty(w)&&(A===!1||A===!0&&N.hasOwnProperty(w))&&le("/"+w+" "+Jt[w].objectNumber+" 0 R");le(">>")},lo=function(){if(Object.keys(ln).length>0){for(var w in le("/Shading <<"),ln)ln.hasOwnProperty(w)&&ln[w]instanceof Eu&&ln[w].objectNumber>=0&&le("/"+w+" "+ln[w].objectNumber+" 0 R");cn.publish("putShadingPatternDict"),le(">>")}},Ra=function(w){if(Object.keys(ln).length>0){for(var q in le("/Pattern <<"),ln)ln.hasOwnProperty(q)&&ln[q]instanceof _.TilingPattern&&ln[q].objectNumber>=0&&ln[q].objectNumber<w&&le("/"+q+" "+ln[q].objectNumber+" 0 R");cn.publish("putTilingPatternDict"),le(">>")}},Zo=function(){if(Object.keys(Mn).length>0){var w;for(w in le("/ExtGState <<"),Mn)Mn.hasOwnProperty(w)&&Mn[w].objectNumber>=0&&le("/"+w+" "+Mn[w].objectNumber+" 0 R");cn.publish("putGStateDict"),le(">>")}},Bn=function(w){pr(w.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),oa(),lo(),Ra(w.objectOid),Zo(),ja(),le(">>"),le("endobj")},Ur=function(){var w=[];ai(),Tr(),Ts(),Ji(w),cn.publish("putResources"),w.forEach(Bn),Bn({resourcesOid:Vr,objectOid:Number.MAX_SAFE_INTEGER}),cn.publish("postPutResources")},co=function(){cn.publish("putAdditionalObjects");for(var w=0;w<nt.length;w++){var q=nt[w];pr(q.objId,!0),le(q.content),le("endobj")}cn.publish("postPutAdditionalObjects")},Kl=function(w){En[w.fontName]=En[w.fontName]||{},En[w.fontName][w.fontStyle]=w.id},Xa=function(w,q,ce,ye,ke){var Fe={id:"F"+(Object.keys(Jt).length+1).toString(10),postScriptName:w,fontName:q,fontStyle:ce,encoding:ye,isStandardFont:ke||!1,metadata:{}};return cn.publish("addFont",{font:Fe,instance:this}),Jt[Fe.id]=Fe,Kl(Fe),Fe.id},el=function(w){for(var q=0,ce=Qe.length;q<ce;q++){var ye=Xa.call(this,w[q][0],w[q][1],w[q][2],Qe[q][3],!0);A===!1&&(N[ye]=!0);var ke=w[q][0].split("-");Kl({id:ye,fontName:ke[0],fontStyle:ke[1]||""})}cn.publish("addFonts",{fonts:Jt,dictionary:En})},Xr=function(w){return w.foo=function(){try{return w.apply(this,arguments)}catch(ye){var q=ye.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var ce="Error in function "+q.split(`
`)[0].split("<")[0]+": "+ye.message;if(!Pt.console)throw new Error(ce);Pt.console.error(ce,ye),Pt.alert&&alert(ce)}},w.foo.bar=w,w.foo},uo=function(w,q){var ce,ye,ke,Fe,et,ct,p,E,L;if(ke=(q=q||{}).sourceEncoding||"Unicode",et=q.outputEncoding,(q.autoencode||et)&&Jt[Yt].metadata&&Jt[Yt].metadata[ke]&&Jt[Yt].metadata[ke].encoding&&(Fe=Jt[Yt].metadata[ke].encoding,!et&&Jt[Yt].encoding&&(et=Jt[Yt].encoding),!et&&Fe.codePages&&(et=Fe.codePages[0]),typeof et=="string"&&(et=Fe[et]),et)){for(p=!1,ct=[],ce=0,ye=w.length;ce<ye;ce++)(E=et[w.charCodeAt(ce)])?ct.push(String.fromCharCode(E)):ct.push(w[ce]),ct[ce].charCodeAt(0)>>8&&(p=!0);w=ct.join("")}for(ce=w.length;p===void 0&&ce!==0;)w.charCodeAt(ce-1)>>8&&(p=!0),ce--;if(!p)return w;for(ct=q.noBOM?[]:[254,255],ce=0,ye=w.length;ce<ye;ce++){if((L=(E=w.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+w+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(L),ct.push(E-(L<<8))}return String.fromCharCode.apply(void 0,ct)},dn=_.__private__.pdfEscape=_.pdfEscape=function(w,q){return uo(w,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jr=_.__private__.beginPage=function(w){Ze[++Vn]=[],At[Vn]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},la(Vn),De(Ze[Y])},Ja=function(w,q){var ce,ye,ke;switch(t=q||t,typeof w=="string"&&(ce=P(w.toLowerCase()),Array.isArray(ce)&&(ye=ce[0],ke=ce[1])),Array.isArray(w)&&(ye=w[0]*ht,ke=w[1]*ht),isNaN(ye)&&(ye=s[0],ke=s[1]),(ye>14400||ke>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),ke=Math.min(14400,ke)),s=[ye,ke],t.substr(0,1)){case"l":ke>ye&&(s=[ke,ye]);break;case"p":ye>ke&&(s=[ke,ye])}Jr(s),il(ns),le(Zr),al!==0&&le(al+" J"),Is!==0&&le(Is+" j"),cn.publish("addPage",{pageNumber:Vn})},Za=function(w){w>0&&w<=Vn&&(Ze.splice(w,1),At.splice(w,1),Vn--,Y>Vn&&(Y=Vn),this.setPage(Y))},la=function(w){w>0&&w<=Vn&&(Y=w)},xn=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Ze.length-1},es=function(w,q,ce){var ye,ke=void 0;return ce=ce||{},w=w!==void 0?w:Jt[Yt].fontName,q=q!==void 0?q:Jt[Yt].fontStyle,ye=w.toLowerCase(),En[ye]!==void 0&&En[ye][q]!==void 0?ke=En[ye][q]:En[w]!==void 0&&En[w][q]!==void 0?ke=En[w][q]:ce.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+w+"', '"+q+"'. Refer to getFontList() for available fonts."),ke||ce.noFallback||(ke=En.times[q])==null&&(ke=En.times.normal),ke},Ri=_.__private__.putInfo=function(){var w=Wn(),q=function(ye){return ye};for(var ce in b!==null&&(q=In.encryptor(w,0)),le("<<"),le("/Producer ("+dn(q("jsPDF "+Lt.version))+")"),yt)yt.hasOwnProperty(ce)&&yt[ce]&&le("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+dn(q(yt[ce]))+")");le("/CreationDate ("+dn(q(ve))+")"),le(">>"),le("endobj")},Ca=_.__private__.putCatalog=function(w){var q=(w=w||{}).rootDictionaryObjId||bi;switch(Wn(),le("<<"),le("/Type /Catalog"),le("/Pages "+q+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+at;ce.substr(ce.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&le("/OpenAction [3 0 R /XYZ null null "+G(at)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Ct&&le("/PageMode /"+Ct),cn.publish("putCatalog"),le(">>"),le("endobj")},Wl=_.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(ne+1)),le("/Root "+ne+" 0 R"),le("/Info "+(ne-1)+" 0 R"),b!==null&&le("/Encrypt "+In.oid+" 0 R"),le("/ID [ <"+re+"> <"+re+"> ]"),le(">>")},tl=_.__private__.putHeader=function(){le("%PDF-"+D),le("%ºß¬à")},nl=_.__private__.putXRef=function(){var w="0000000000";le("xref"),le("0 "+(ne+1)),le("0000000000 65535 f ");for(var q=1;q<=ne;q++)typeof de[q]=="function"?le((w+de[q]()).slice(-10)+" 00000 n "):de[q]!==void 0?le((w+de[q]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Ia=_.__private__.buildDocument=function(){$e(),De(we),cn.publish("buildDocument"),tl(),Ta(),co(),Ur(),b!==null&&Yl(),Ri(),Ca();var w=Se;return nl(),Wl(),le("startxref"),le(""+w),le("%%EOF"),De(Ze[Y]),we.join(`
`)},ho=_.__private__.getBlob=function(w){return new Blob([st(w)],{type:"application/pdf"})},La=_.output=_.__private__.output=Xr(function(w,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",w){case void 0:return Ia();case"save":_.save(q.filename);break;case"arraybuffer":return st(Ia());case"blob":return ho(Ia());case"bloburi":case"bloburl":if(Pt.URL!==void 0&&typeof Pt.URL.createObjectURL=="function")return Pt.URL&&Pt.URL.createObjectURL(ho(Ia()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ye=Ia();try{ce=V1(ye)}catch{ce=V1(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+q.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(ke=q.pdfObjectUrl,Fe="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",ct=Pt.open();return ct!==null&&ct.document.write(et),ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pt)==="[object Window]"){var p='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',E=Pt.open();if(E!==null){E.document.write(p);var L=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=q.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(L.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var W='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Te=Pt.open();if(Te!==null&&(Te.document.write(W),Te.document.title=q.filename),Te||typeof safari>"u")return Te;break;case"datauri":case"dataurl":return Pt.document.location.href=this.output("datauristring",q);default:return null}}),ca=function(w){return Array.isArray(ki)===!0&&ki.indexOf(w)>-1};switch(i){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=ca("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ht=i}var In=null;Re(),oe();var Da=function(w){return b!==null?In.encryptor(w,0):function(q){return q}},ua=_.__private__.getPageInfo=_.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[w].objId,pageNumber:w,pageContext:At[w]}},kt=_.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in At)if(At[q].objId===w)break;return ua(q)},ha=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:At[Y].objId,pageNumber:Y,pageContext:At[Y]}};_.addPage=function(){return Ja.apply(this,arguments),this},_.setPage=function(){return la.apply(this,arguments),De.call(this,Ze[Y]),this},_.insertPage=function(w){return this.addPage(),this.movePage(Y,w),this},_.movePage=function(w,q){var ce,ye;if(w>q){ce=Ze[w],ye=At[w];for(var ke=w;ke>q;ke--)Ze[ke]=Ze[ke-1],At[ke]=At[ke-1];Ze[q]=ce,At[q]=ye,this.setPage(q)}else if(w<q){ce=Ze[w],ye=At[w];for(var Fe=w;Fe<q;Fe++)Ze[Fe]=Ze[Fe+1],At[Fe]=At[Fe+1];Ze[q]=ce,At[q]=ye,this.setPage(q)}return this},_.deletePage=function(){return Za.apply(this,arguments),this},_.__private__.text=_.text=function(w,q,ce,ye,ke){var Fe,et,ct,p,E,L,W,Te,Oe,tt=(ye=ye||{}).scope||this;if(typeof w=="number"&&typeof q=="number"&&(typeof ce=="string"||Array.isArray(ce))){var jt=ce;ce=q,q=w,w=jt}if(arguments[3]instanceof dt?(T("The transform parameter of text() with a Matrix value"),Oe=ke):(ct=arguments[4],p=arguments[5],On(W=arguments[3])==="object"&&W!==null||(typeof ct=="string"&&(p=ct,ct=null),typeof W=="string"&&(p=W,W=null),typeof W=="number"&&(ct=W,W=null),ye={flags:W,angle:ct,align:p})),isNaN(q)||isNaN(ce)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return tt;var rn="",Bt=!1,wn=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:nn,jn=tt.internal.scaleFactor;function pa(Zt){return Zt=Zt.split("	").join(Array(ye.TabLen||9).join(" ")),dn(Zt,W)}function cr(Zt){for(var en,Fn=Zt.concat(),ur=[],ya=Fn.length;ya--;)typeof(en=Fn.shift())=="string"?ur.push(en):Array.isArray(Zt)&&(en.length===1||en[1]===void 0&&en[2]===void 0)?ur.push(en[0]):ur.push([en[0],en[1],en[2]]);return ur}function Di(Zt,en){var Fn;if(typeof Zt=="string")Fn=en(Zt)[0];else if(Array.isArray(Zt)){for(var ur,ya,Eo=Zt.concat(),To=[],Vs=Eo.length;Vs--;)typeof(ur=Eo.shift())=="string"?To.push(en(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(ya=en(ur[0],ur[1],ur[2]),To.push([ya[0],ya[1],ya[2]]));Fn=To}return Fn}var ls=!1,yo=!0;if(typeof w=="string")ls=!0;else if(Array.isArray(w)){var Zl=w.concat();et=[];for(var sl,kr=Zl.length;kr--;)(typeof(sl=Zl.shift())!="string"||Array.isArray(sl)&&typeof sl[0]!="string")&&(yo=!1);ls=yo}if(ls===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var vo=rt/tt.internal.scaleFactor,ol=vo*(wn-1);switch(ye.baseline){case"bottom":ce-=ol;break;case"top":ce+=vo-ol;break;case"hanging":ce+=vo-2*ol;break;case"middle":ce+=vo/2-ol}if((L=ye.maxWidth||0)>0&&(typeof w=="string"?w=tt.splitTextToSize(w,L):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Zt,en){return Zt.concat(tt.splitTextToSize(en,L))},[]))),Fe={text:w,x:q,y:ce,options:ye,mutex:{pdfEscape:dn,activeFontKey:Yt,fonts:Jt,activeFontSize:rt}},cn.publish("preProcessText",Fe),w=Fe.text,ct=(ye=Fe.options).angle,!(Oe instanceof dt)&&ct&&typeof ct=="number"){ct*=Math.PI/180,ye.rotationDirection===0&&(ct=-ct),J===M.ADVANCED&&(ct=-ct);var ll=Math.cos(ct),ec=Math.sin(ct);Oe=new dt(ll,ec,-ec,ll,0,0)}else ct&&ct instanceof dt&&(Oe=ct);J!==M.ADVANCED||Oe||(Oe=kn),(E=ye.charSpace||Cs)!==void 0&&(rn+=F(k(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Te=ye.horizontalScale)!==void 0&&(rn+=F(100*Te)+` Tz
`),ye.lang;var Pi=-1,sd=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,nu=tt.internal.getCurrentPageInfo().pageContext;switch(sd){case 0:case!1:case"fill":Pi=0;break;case 1:case!0:case"stroke":Pi=1;break;case 2:case"fillThenStroke":Pi=2;break;case 3:case"invisible":Pi=3;break;case 4:case"fillAndAddForClipping":Pi=4;break;case 5:case"strokeAndAddPathForClipping":Pi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pi=6;break;case 7:case"addToPathForClipping":Pi=7}var Gu=nu.usedRenderingMode!==void 0?nu.usedRenderingMode:-1;Pi!==-1?rn+=Pi+` Tr
`:Gu!==-1&&(rn+=`0 Tr
`),Pi!==-1&&(nu.usedRenderingMode=Pi),p=ye.align||"left";var ga,Br=rt*wn,bo=tt.internal.pageSize.getWidth(),ru=Jt[Yt];E=ye.charSpace||Cs,L=ye.maxWidth||0,W=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var Os=[],xo=function(Zt){return tt.getStringUnitWidth(Zt,{font:ru,charSpace:E,fontSize:rt,doKerning:!1})*rt/jn};if(Object.prototype.toString.call(w)==="[object Array]"){var wi;et=cr(w),p!=="left"&&(ga=et.map(xo));var ei,wo=0;if(p==="right"){q-=ga[0],w=[],kr=et.length;for(var Oi=0;Oi<kr;Oi++)Oi===0?(ei=li(q),wi=vr(ce)):(ei=k(wo-ga[Oi]),wi=-Br),w.push([et[Oi],ei,wi]),wo=ga[Oi]}else if(p==="center"){q-=ga[0]/2,w=[],kr=et.length;for(var Va=0;Va<kr;Va++)Va===0?(ei=li(q),wi=vr(ce)):(ei=k((wo-ga[Va])/2),wi=-Br),w.push([et[Va],ei,wi]),wo=ga[Va]}else if(p==="left"){w=[],kr=et.length;for(var cs=0;cs<kr;cs++)w.push(et[cs])}else if(p==="justify"&&ru.encoding==="Identity-H"){w=[],kr=et.length,L=L!==0?L:bo;for(var Ua=0,rr=0;rr<kr;rr++)if(wi=rr===0?vr(ce):-Br,ei=rr===0?li(q):Ua,rr<kr-1){var Ba=k((L-ga[rr])/(et[rr].split(" ").length-1)),br=et[rr].split(" ");w.push([br[0]+" ",ei,wi]),Ua=0;for(var Mi=1;Mi<br.length;Mi++){var cl=(xo(br[Mi-1]+" "+br[Mi])-xo(br[Mi]))*jn+Ba;Mi==br.length-1?w.push([br[Mi],cl,0]):w.push([br[Mi]+" ",cl,0]),Ua-=cl}}else w.push([et[rr],ei,wi]);w.push(["",Ua,0])}else{if(p!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],kr=et.length,L=L!==0?L:bo,rr=0;rr<kr;rr++)wi=rr===0?vr(ce):-Br,ei=rr===0?li(q):0,rr<kr-1?Os.push(F(k((L-ga[rr])/(et[rr].split(" ").length-1)))):Os.push(0),w.push([et[rr],ei,wi])}}var us=typeof ye.R2L=="boolean"?ye.R2L:gt;us===!0&&(w=Di(w,function(Zt,en,Fn){return[Zt.split("").reverse().join(""),en,Fn]})),Fe={text:w,x:q,y:ce,options:ye,mutex:{pdfEscape:dn,activeFontKey:Yt,fonts:Jt,activeFontSize:rt}},cn.publish("postProcessText",Fe),w=Fe.text,Bt=Fe.mutex.isHex||!1;var tc=Jt[Yt].encoding;tc!=="WinAnsiEncoding"&&tc!=="StandardEncoding"||(w=Di(w,function(Zt,en,Fn){return[pa(Zt),en,Fn]})),et=cr(w),w=[];for(var _o,No,Ao,ul=0,nc=1,So=Array.isArray(et[0])?nc:ul,Ms="",hl=function(Zt,en,Fn){var ur="";return Fn instanceof dt?(Fn=typeof ye.angle=="number"?Tn(Fn,new dt(1,0,0,1,Zt,en)):Tn(new dt(1,0,0,1,Zt,en),Fn),J===M.ADVANCED&&(Fn=Tn(new dt(1,0,0,-1,0,0),Fn)),ur=Fn.join(" ")+` Tm
`):ur=F(Zt)+" "+F(en)+` Td
`,ur},ir=0;ir<et.length;ir++){switch(Ms="",So){case nc:Ao=(Bt?"<":"(")+et[ir][0]+(Bt?">":")"),_o=parseFloat(et[ir][1]),No=parseFloat(et[ir][2]);break;case ul:Ao=(Bt?"<":"(")+et[ir]+(Bt?">":")"),_o=li(q),No=vr(ce)}Os!==void 0&&Os[ir]!==void 0&&(Ms=Os[ir]+` Tw
`),ir===0?w.push(Ms+hl(_o,No,Oe)+Ao):So===ul?w.push(Ms+Ao):So===nc&&w.push(Ms+hl(_o,No,Oe)+Ao)}w=So===ul?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var ta=`BT
/`;return ta+=Yt+" "+rt+` Tf
`,ta+=F(rt*wn)+` TL
`,ta+=Oa+`
`,ta+=rn,ta+=w,le(ta+="ET"),N[Yt]=!0,tt};var Ql=_.__private__.clip=_.clip=function(w){return le(w==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Ql("evenodd")},_.__private__.discardPath=_.discardPath=function(){return le("n"),this};var si=_.__private__.isValidStyle=function(w){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(q=!0),q};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(w){return si(w)&&(g=w),this};var Ci=_.__private__.getStyle=_.getStyle=function(w){var q=g;switch(w){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=w}return q},xi=_.close=function(){return le("h"),this};_.stroke=function(){return le("S"),this},_.fill=function(w){return da("f",w),this},_.fillEvenOdd=function(w){return da("f*",w),this},_.fillStroke=function(w){return da("B",w),this},_.fillStrokeEvenOdd=function(w){return da("B*",w),this};var da=function(w,q){On(q)==="object"?Pa(q,w):le(w)},Ii=function(w){w===null||J===M.ADVANCED&&w===void 0||(w=Ci(w),le(w))};function ts(w,q,ce,ye,ke){var Fe=new Ch(q||this.boundingBox,ce||this.xStep,ye||this.yStep,this.gState,ke||this.matrix);Fe.stream=this.stream;var et=w+"$$"+this.cloneIndex+++"$$";return Hn(et,Fe),Fe}var Pa=function(w,q){var ce=Ea[w.key],ye=ln[ce];if(ye instanceof Eu)le("q"),le(rl(q)),ye.gState&&_.setGState(ye.gState),le(w.matrix.toString()+" cm"),le("/"+ce+" sh"),le("Q");else if(ye instanceof Ch){var ke=new dt(1,0,0,-1,0,ci());w.matrix&&(ke=ke.multiply(w.matrix||kn),ce=ts.call(ye,w.key,w.boundingBox,w.xStep,w.yStep,ke).id),le("q"),le("/Pattern cs"),le("/"+ce+" scn"),ye.gState&&_.setGState(ye.gState),le(q),le("Q")}},rl=function(w){switch(w){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Li=_.moveTo=function(w,q){return le(F(k(w))+" "+F(ee(q))+" m"),this},oi=_.lineTo=function(w,q){return le(F(k(w))+" "+F(ee(q))+" l"),this},fa=_.curveTo=function(w,q,ce,ye,ke,Fe){return le([F(k(w)),F(ee(q)),F(k(ce)),F(ee(ye)),F(k(ke)),F(ee(Fe)),"c"].join(" ")),this};_.__private__.line=_.line=function(w,q,ce,ye,ke){if(isNaN(w)||isNaN(q)||isNaN(ce)||isNaN(ye)||!si(ke))throw new Error("Invalid arguments passed to jsPDF.line");return J===M.COMPAT?this.lines([[ce-w,ye-q]],w,q,[1,1],ke||"S"):this.lines([[ce-w,ye-q]],w,q,[1,1]).stroke()},_.__private__.lines=_.lines=function(w,q,ce,ye,ke,Fe){var et,ct,p,E,L,W,Te,Oe,tt,jt,rn,Bt;if(typeof w=="number"&&(Bt=ce,ce=q,q=w,w=Bt),ye=ye||[1,1],Fe=Fe||!1,isNaN(q)||isNaN(ce)||!Array.isArray(w)||!Array.isArray(ye)||!si(ke)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Li(q,ce),et=ye[0],ct=ye[1],E=w.length,jt=q,rn=ce,p=0;p<E;p++)(L=w[p]).length===2?(jt=L[0]*et+jt,rn=L[1]*ct+rn,oi(jt,rn)):(W=L[0]*et+jt,Te=L[1]*ct+rn,Oe=L[2]*et+jt,tt=L[3]*ct+rn,jt=L[4]*et+jt,rn=L[5]*ct+rn,fa(W,Te,Oe,tt,jt,rn));return Fe&&xi(),Ii(ke),this},_.path=function(w){for(var q=0;q<w.length;q++){var ce=w[q],ye=ce.c;switch(ce.op){case"m":Li(ye[0],ye[1]);break;case"l":oi(ye[0],ye[1]);break;case"c":fa.apply(this,ye);break;case"h":xi()}}return this},_.__private__.rect=_.rect=function(w,q,ce,ye,ke){if(isNaN(w)||isNaN(q)||isNaN(ce)||isNaN(ye)||!si(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return J===M.COMPAT&&(ye=-ye),le([F(k(w)),F(ee(q)),F(k(ce)),F(k(ye)),"re"].join(" ")),Ii(ke),this},_.__private__.triangle=_.triangle=function(w,q,ce,ye,ke,Fe,et){if(isNaN(w)||isNaN(q)||isNaN(ce)||isNaN(ye)||isNaN(ke)||isNaN(Fe)||!si(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-w,ye-q],[ke-ce,Fe-ye],[w-ke,q-Fe]],w,q,[1,1],et,!0),this},_.__private__.roundedRect=_.roundedRect=function(w,q,ce,ye,ke,Fe,et){if(isNaN(w)||isNaN(q)||isNaN(ce)||isNaN(ye)||isNaN(ke)||isNaN(Fe)||!si(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ct=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*ce),Fe=Math.min(Fe,.5*ye),this.lines([[ce-2*ke,0],[ke*ct,0,ke,Fe-Fe*ct,ke,Fe],[0,ye-2*Fe],[0,Fe*ct,-ke*ct,Fe,-ke,Fe],[2*ke-ce,0],[-ke*ct,0,-ke,-Fe*ct,-ke,-Fe],[0,2*Fe-ye],[0,-Fe*ct,ke*ct,-Fe,ke,-Fe]],w+ke,q,[1,1],et,!0),this},_.__private__.ellipse=_.ellipse=function(w,q,ce,ye,ke){if(isNaN(w)||isNaN(q)||isNaN(ce)||isNaN(ye)||!si(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*ce,et=4/3*(Math.SQRT2-1)*ye;return Li(w+ce,q),fa(w+ce,q-et,w+Fe,q-ye,w,q-ye),fa(w-Fe,q-ye,w-ce,q-et,w-ce,q),fa(w-ce,q+et,w-Fe,q+ye,w,q+ye),fa(w+Fe,q+ye,w+ce,q+et,w+ce,q),Ii(ke),this},_.__private__.circle=_.circle=function(w,q,ce,ye){if(isNaN(w)||isNaN(q)||isNaN(ce)||!si(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,q,ce,ce,ye)},_.setFont=function(w,q,ce){return ce&&(q=fe(q,ce)),Yt=es(w,q,{disableWarning:!1}),this};var yr=_.__private__.getFont=_.getFont=function(){return Jt[es.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var w,q,ce={};for(w in En)if(En.hasOwnProperty(w))for(q in ce[w]=[],En[w])En[w].hasOwnProperty(q)&&ce[w].push(q);return ce},_.addFont=function(w,q,ce,ye,ke){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(ce=fe(ce,ye)),ke=ke||"Identity-H",Xa.call(this,w,q,ce,ke)};var nn,ns=n.lineWidth||.200025,ma=_.__private__.getLineWidth=_.getLineWidth=function(){return ns},il=_.__private__.setLineWidth=_.setLineWidth=function(w){return ns=w,le(F(k(w))+" w"),this};_.__private__.setLineDash=Lt.API.setLineDash=Lt.API.setLineDashPattern=function(w,q){if(w=w||[],q=q||0,isNaN(q)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(ce){return F(k(ce))}).join(" "),q=F(k(q)),le("["+w+"] "+q+" d"),this};var js=_.__private__.getLineHeight=_.getLineHeight=function(){return rt*nn};_.__private__.getLineHeight=_.getLineHeight=function(){return rt*nn};var Rs=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(nn=w),this},ea=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return nn};Rs(n.lineHeight);var li=_.__private__.getHorizontalCoordinate=function(w){return k(w)},vr=_.__private__.getVerticalCoordinate=function(w){return J===M.ADVANCED?w:At[Y].mediaBox.topRightY-At[Y].mediaBox.bottomLeftY-k(w)},Xl=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(w){return F(li(w))},rs=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(w){return F(vr(w))},Zr=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return Sr(Zr)},_.__private__.setStrokeColor=_.setDrawColor=function(w,q,ce,ye){return Zr=gr({ch1:w,ch2:q,ch3:ce,ch4:ye,pdfColorType:"draw",precision:2}),le(Zr),this};var is=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return Sr(is)},_.__private__.setFillColor=_.setFillColor=function(w,q,ce,ye){return is=gr({ch1:w,ch2:q,ch3:ce,ch4:ye,pdfColorType:"fill",precision:2}),le(is),this};var Oa=n.textColor||"0 g",fo=_.__private__.getTextColor=_.getTextColor=function(){return Sr(Oa)};_.__private__.setTextColor=_.setTextColor=function(w,q,ce,ye){return Oa=gr({ch1:w,ch2:q,ch3:ce,ch4:ye,pdfColorType:"text",precision:3}),this};var Cs=n.charSpace,mo=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(Cs||0)};_.__private__.setCharSpace=_.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cs=w,this};var al=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(w){var q=_.CapJoinStyles[w];if(q===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return al=q,le(q+" J"),this};var Is=0;_.__private__.setLineJoin=_.setLineJoin=function(w){var q=_.CapJoinStyles[w];if(q===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Is=q,le(q+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(F(k(w))+" M"),this},_.GState=Vp,_.setGState=function(w){(w=typeof w=="string"?Mn[Ar[w]]:as(null,w)).equals(Wr)||(le("/"+w.id+" gs"),Wr=w)};var as=function(w,q){if(!w||!Ar[w]){var ce=!1;for(var ye in Mn)if(Mn.hasOwnProperty(ye)&&Mn[ye].equals(q)){ce=!0;break}if(ce)q=Mn[ye];else{var ke="GS"+(Object.keys(Mn).length+1).toString(10);Mn[ke]=q,q.id=ke}return w&&(Ar[w]=q.id),cn.publish("addGState",q),q}};_.addGState=function(w,q){return as(w,q),this},_.saveGraphicsState=function(){return le("q"),ii.push({key:Yt,size:rt,color:Oa}),this},_.restoreGraphicsState=function(){le("Q");var w=ii.pop();return Yt=w.key,rt=w.size,Oa=w.color,Wr=null,this},_.setCurrentTransformationMatrix=function(w){return le(w.toString()+" cm"),this},_.comment=function(w){return le("#"+w),this};var Ls=function(w,q){var ce=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Fe){isNaN(Fe)||(ce=parseFloat(Fe))}});var ye=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(Fe){isNaN(Fe)||(ye=parseFloat(Fe))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(Fe){ke=Fe.toString()}}),this},po=function(w,q,ce,ye){Ls.call(this,w,q),this.type="rect";var ke=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(et){isNaN(et)||(ke=parseFloat(et))}});var Fe=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(et){isNaN(et)||(Fe=parseFloat(et))}}),this},Ds=function(){this.page=Vn,this.currentPage=Y,this.pages=Ze.slice(0),this.pagesContext=At.slice(0),this.x=er,this.y=Qt,this.matrix=Kr,this.width=os(Y),this.height=ci(Y),this.outputDestination=ge,this.id="",this.objectNumber=-1};Ds.prototype.restore=function(){Vn=this.page,Y=this.currentPage,At=this.pagesContext,Ze=this.pages,er=this.x,Qt=this.y,Kr=this.matrix,Ps(Y,this.width),go(Y,this.height),ge=this.outputDestination};var ss=function(w,q,ce,ye,ke){Xi.push(new Ds),Vn=Y=0,Ze=[],er=w,Qt=q,Kr=ke,Jr([ce,ye])},Jl=function(w){if(Qr[w])Xi.pop().restore();else{var q=new Ds,ce="Xo"+(Object.keys(tr).length+1).toString(10);q.id=ce,Qr[w]=ce,tr[ce]=q,cn.publish("addFormObject",q),Xi.pop().restore()}};for(var Ma in _.beginFormObject=function(w,q,ce,ye,ke){return ss(w,q,ce,ye,ke),this},_.endFormObject=function(w){return Jl(w),this},_.doFormObject=function(w,q){var ce=tr[Qr[w]];return le("q"),le(q.toString()+" cm"),le("/"+ce.id+" Do"),le("Q"),this},_.getFormObject=function(w){var q=tr[Qr[w]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},_.save=function(w,q){return w=w||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Su(ho(Ia()),w),typeof Su.unload=="function"&&Pt.setTimeout&&setTimeout(Su.unload,911),this):new Promise(function(ce,ye){try{var ke=Su(ho(Ia()),w);typeof Su.unload=="function"&&Pt.setTimeout&&setTimeout(Su.unload,911),ce(ke)}catch(Fe){ye(Fe.message)}})},Lt.API)Lt.API.hasOwnProperty(Ma)&&(Ma==="events"&&Lt.API.events.length?function(w,q){var ce,ye,ke;for(ke=q.length-1;ke!==-1;ke--)ce=q[ke][0],ye=q[ke][1],w.subscribe.apply(w,[ce].concat(typeof ye=="function"?[ye]:ye))}(cn,Lt.API.events):_[Ma]=Lt.API[Ma]);var os=_.getPageWidth=function(w){return(At[w=w||Y].mediaBox.topRightX-At[w].mediaBox.bottomLeftX)/ht},Ps=_.setPageWidth=function(w,q){At[w].mediaBox.topRightX=q*ht+At[w].mediaBox.bottomLeftX},ci=_.getPageHeight=function(w){return(At[w=w||Y].mediaBox.topRightY-At[w].mediaBox.bottomLeftY)/ht},go=_.setPageHeight=function(w,q){At[w].mediaBox.topRightY=q*ht+At[w].mediaBox.bottomLeftY};return _.internal={pdfEscape:dn,getStyle:Ci,getFont:yr,getFontSize:it,getCharSpace:mo,getTextColor:fo,getLineHeight:js,getLineHeightFactor:ea,getLineWidth:ma,write:lt,getHorizontalCoordinate:li,getVerticalCoordinate:vr,getCoordinateString:Xl,getVerticalCoordinateString:rs,collections:{},newObject:Wn,newAdditionalObject:Es,newObjectDeferred:nr,newObjectDeferredBegin:pr,getFilters:Er,putStream:Un,events:cn,scaleFactor:ht,pageSize:{getWidth:function(){return os(Y)},setWidth:function(w){Ps(Y,w)},getHeight:function(){return ci(Y)},setHeight:function(w){go(Y,w)}},encryptionOptions:b,encryption:In,getEncryptor:Da,output:La,getNumberOfPages:xn,pages:Ze,out:le,f2:G,f3:R,getPageInfo:ua,getPageInfoByObjId:kt,getCurrentPageInfo:ha,getPDFVersion:C,Point:Ls,Rectangle:po,Matrix:dt,hasHotfix:ca},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return os(Y)},set:function(w){Ps(Y,w)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return ci(Y)},set:function(w){go(Y,w)},enumerable:!0,configurable:!0}),el.call(_,Qe),Yt="F1",Ja(s,t),cn.publish("initialized"),_}Th.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Th.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Th.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Th.prototype.processOwnerPassword=function(n,e){return B1(U1(e).substr(0,5),n)},Th.prototype.encryptor=function(n,e){var t=U1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return B1(t,i)}},Vp.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||On(n)!==On(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Lt.API={events:[]},Lt.version="3.0.1";var Nr=Lt.API,X2=1,Hu=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ht=function(n){return n.toFixed(2)},Rc=function(n){return n.toFixed(5)};Nr.__acroform__={};var Sa=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},tx=function(n){return n*X2},Bo=function(n){var e=new M4,t=bt.internal.getHeight(n)||0,i=bt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Ht(i)),Number(Ht(t))],e},_R=Nr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},NR=Nr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},AR=Nr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Pr=Nr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return AR(n,e-1)},Or=Nr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _R(n,e-1)},Mr=Nr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NR(n,e-1)},SR=Nr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,s=n[0],o=n[1],c=n[2],d=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=i(o+d)||0,f.upperRight_X=t(s+c)||0,f.upperRight_Y=i(o)||0,[Number(Ht(f.lowerLeft_X)),Number(Ht(f.lowerLeft_Y)),Number(Ht(f.upperRight_X)),Number(Ht(f.upperRight_Y))]},ER=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=F1(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+Ht(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Bo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},F1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(R){return R.split(`
`)}):s.map(function(R){return[R]});var o=t,c=bt.internal.getHeight(n)||0;c=c<0?-c:c;var d=bt.internal.getWidth(n)||0;d=d<0?-d:d;var f=function(R,k,O){if(R+1<s.length){var ee=k+" "+s[R+1][0];return Km(ee,n,O).width<=d-4}return!1};o++;e:for(;o>0;){e="",o--;var g,b,A=Km("3",n,o).height,N=n.multiline?c-o:(c-A)/2,_=N+=2,D=0,C=0,V=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Km(e,n,o=12).width+", FieldWidth:"+d+`
`;break}for(var P="",M=0,J=0;J<s.length;J++)if(s.hasOwnProperty(J)){var se=!1;if(s[J].length!==1&&V!==s[J].length-1){if((A+2)*(M+2)+2>c)continue e;P+=s[J][V],se=!0,C=J,J--}else{P=(P+=s[J][V]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var ae=parseInt(J),fe=f(ae,P,o),F=J>=s.length-1;if(fe&&!F){P+=" ",V=0;continue}if(fe||F){if(F)C=ae;else if(n.multiline&&(A+2)*(M+2)+2>c)continue e}else{if(!n.multiline||(A+2)*(M+2)+2>c)continue e;C=ae}}for(var T="",I=D;I<=C;I++){var G=s[I];if(n.multiline){if(I===C){T+=G[V]+" ",V=(V+1)%G.length;continue}if(I===D){T+=G[G.length-1]+" ";continue}}T+=G[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,b=Km(T,n,o).width,n.textAlign){case"right":g=d-b-2;break;case"center":g=(d-b)/2;break;case"left":default:g=2}e+=Ht(g)+" "+Ht(_)+` Td
`,e+="("+Hu(T)+`) Tj
`,e+=-Ht(g)+` 0 Td
`,_=-(o+2),b=0,D=se?C:C+1,M++,P=""}break}return i.text=e,i.fontSize=o,i},Km=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},TR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kR=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},jR=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var i=t,s=n[t];e.internal.newObjectDeferredBegin(s.objId,!0),On(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete n[i]}},RR=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(so.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(TR)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");X2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new V4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];o.objId=void 0,o.hasAnnotation&&kR(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,s){var o=!i;for(var c in i||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var d=i[c],f=[],g=d.Rect;if(d.Rect&&(d.Rect=SR(d.Rect,s)),s.internal.newObjectDeferredBegin(d.objId,!0),d.DA=bt.createDefaultAppearanceStream(d),On(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(f=d.getKeyValueListForStream()),d.Rect=g,d.hasAppearanceStream&&!d.appearanceStreamContent){var b=ER(d);f.push({key:"AP",value:"<</N "+b+">>"}),s.internal.acroformPlugin.xForms.push(b)}if(d.appearanceStreamContent){var A="";for(var N in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(N)){var _=d.appearanceStreamContent[N];if(A+="/"+N+" ",A+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var c in _)if(_.hasOwnProperty(c)){var D=_[c];typeof D=="function"&&(D=D.call(s,d)),A+="/"+c+" "+D+" ",s.internal.acroformPlugin.xForms.indexOf(D)>=0||s.internal.acroformPlugin.xForms.push(D)}}else typeof(D=_)=="function"&&(D=D.call(s,d)),A+="/"+c+" "+D,s.internal.acroformPlugin.xForms.indexOf(D)>=0||s.internal.acroformPlugin.xForms.push(D);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:d.objId}),s.internal.out("endobj")}o&&jR(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},O4=Nr.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(c){return c};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),On(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),s+="("+Hu(i(n[o].toString()))+")"):s+=n[o].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Qg=function(n,e,t){var i=function(s){return s};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Hu(i(n))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],s=this[i];s&&(Array.isArray(s)?n.push({key:i,value:O4(s,this.objId,this.scope)}):s instanceof qo?(s.scope=this.scope,n.push({key:i,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:i,value:s}))}return n};var M4=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Sa(M4,qo);var V4=function(){qo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Hu(t(n))+")"}},set:function(t){n=t}})};Sa(V4,qo);var so=function n(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');e=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pr(e,3)},set:function(P){P?this.F=Or(e,3):this.F=Mr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');t=P}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(P){i=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(P){i[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(P){i[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(P){i[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(P){i[3]=P}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Up)return;o="FieldObject"+n.FieldNum++}var P=function(M){return M};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Hu(P(o))+")"},set:function(P){o=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(P){o=P}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(P){c=P}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(P){d=P}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(P){f=P}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/X2:g},set:function(P){g=P}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(P){b=P}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Up||this instanceof ju))return Qg(A,this.objId,this.scope)},set:function(P){P=P.toString(),A=P}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof pi?N:Qg(N,this.objId,this.scope)},set:function(P){P=P.toString(),N=this instanceof pi?P:P.substr(0,1)==="("?wh(P.substr(1,P.length-2)):wh(P)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi?wh(N.substr(1,N.length-1)):N},set:function(P){P=P.toString(),N=this instanceof pi?"/"+P:P}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof pi?_:Qg(_,this.objId,this.scope)},set:function(P){P=P.toString(),_=this instanceof pi?P:P.substr(0,1)==="("?wh(P.substr(1,P.length-2)):wh(P)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi?wh(_.substr(1,_.length-1)):_},set:function(P){P=P.toString(),_=this instanceof pi?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var D,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(P){P=!!P,C=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(D)return D},set:function(P){D=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,1)},set:function(P){P?this.Ff=Or(this.Ff,1):this.Ff=Mr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,2)},set:function(P){P?this.Ff=Or(this.Ff,2):this.Ff=Mr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,3)},set:function(P){P?this.Ff=Or(this.Ff,3):this.Ff=Mr(this.Ff,3)}});var V=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(V!==null)return V},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');V=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(V){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:V=2;break;case"center":case 1:V=1;break;case"left":case 0:default:V=0}}})};Sa(so,qo);var Mh=function(){so.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return O4(e,this.objId,this.scope)},set:function(t){var i,s;s=[],typeof(i=t)=="string"&&(s=function(o,c,d){d||(d=1);for(var f,g=[];f=c.exec(o);)g.push(f[d]);return g}(i,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,18)},set:function(t){t?this.Ff=Or(this.Ff,18):this.Ff=Mr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Or(this.Ff,19):this.Ff=Mr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,20)},set:function(t){t?(this.Ff=Or(this.Ff,20),e.sort()):this.Ff=Mr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,22)},set:function(t){t?this.Ff=Or(this.Ff,22):this.Ff=Mr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,23)},set:function(t){t?this.Ff=Or(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,27)},set:function(t){t?this.Ff=Or(this.Ff,27):this.Ff=Mr(this.Ff,27)}}),this.hasAppearanceStream=!1};Sa(Mh,so);var Vh=function(){Mh.call(this),this.fontName="helvetica",this.combo=!1};Sa(Vh,Mh);var Uh=function(){Vh.call(this),this.combo=!0};Sa(Uh,Vh);var hp=function(){Uh.call(this),this.edit=!0};Sa(hp,Uh);var pi=function(){so.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,15)},set:function(t){t?this.Ff=Or(this.Ff,15):this.Ff=Mr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,16)},set:function(t){t?this.Ff=Or(this.Ff,16):this.Ff=Mr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,17)},set:function(t){t?this.Ff=Or(this.Ff,17):this.Ff=Mr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,26)},set:function(t){t?this.Ff=Or(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,s=[];for(i in s.push("<<"),e)s.push("/"+i+" ("+Hu(t(e[i]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){On(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Sa(pi,so);var dp=function(){pi.call(this),this.pushButton=!0};Sa(dp,pi);var Bh=function(){pi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Sa(Bh,pi);var Up=function(){var n,e;so.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(d){return d};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),i)c.push("/"+o+" ("+Hu(s(i[o]))+")");return c.push(">>"),c.join(`
`)},set:function(s){On(s)==="object"&&(i=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(s){typeof s=="string"&&(i.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sa(Up,so),Bh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Bh.prototype.createOption=function(n){var e=new Up;return e.Parent=this,e.optionName=n,this.Kids.push(e),CR.call(this.scope,e),e};var fp=function(){pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};Sa(fp,pi);var ju=function(){so.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,13)},set:function(e){e?this.Ff=Or(this.Ff,13):this.Ff=Mr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,21)},set:function(e){e?this.Ff=Or(this.Ff,21):this.Ff=Mr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,23)},set:function(e){e?this.Ff=Or(this.Ff,23):this.Ff=Mr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,24)},set:function(e){e?this.Ff=Or(this.Ff,24):this.Ff=Mr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,25)},set:function(e){e?this.Ff=Or(this.Ff,25):this.Ff=Mr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,26)},set:function(e){e?this.Ff=Or(this.Ff,26):this.Ff=Mr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sa(ju,so);var mp=function(){ju.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,14)},set:function(n){n?this.Ff=Or(this.Ff,14):this.Ff=Mr(this.Ff,14)}}),this.password=!0};Sa(mp,ju);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=F1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Ht(bt.internal.getWidth(n))+" "+Ht(bt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Ht(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=[],o=bt.internal.getHeight(n),c=bt.internal.getWidth(n),d=F1(n,n.caption);return s.push("1 g"),s.push("0 0 "+Ht(c)+" "+Ht(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Ht(c-1)+" "+Ht(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Ht(d.fontSize)+" Tf "+i),s.push(d.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ht(bt.internal.getWidth(n))+" "+Ht(bt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=bt.RadioButton.Circle.YesNormal,e.D[n]=bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],i=bt.internal.getWidth(n)<=bt.internal.getHeight(n)?bt.internal.getWidth(n)/4:bt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=bt.internal.Bezier_C,o=Number((i*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Rc(bt.internal.getWidth(n)/2)+" "+Rc(bt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],i=bt.internal.getWidth(n)<=bt.internal.getHeight(n)?bt.internal.getWidth(n)/4:bt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*bt.internal.Bezier_C).toFixed(5)),c=Number((i*bt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Rc(bt.internal.getWidth(n)/2)+" "+Rc(bt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Rc(bt.internal.getWidth(n)/2)+" "+Rc(bt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),t.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),t.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),t.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[],i=bt.internal.getWidth(n)<=bt.internal.getHeight(n)?bt.internal.getWidth(n)/4:bt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((2*i).toFixed(5)),o=Number((s*bt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Rc(bt.internal.getWidth(n)/2)+" "+Rc(bt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=bt.RadioButton.Cross.YesNormal,e.D[n]=bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Bo(n);e.scope=n.scope;var t=[],i=bt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Ht(bt.internal.getWidth(n)-2)+" "+Ht(bt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Ht(i.x1.x)+" "+Ht(i.x1.y)+" m"),t.push(Ht(i.x2.x)+" "+Ht(i.x2.y)+" l"),t.push(Ht(i.x4.x)+" "+Ht(i.x4.y)+" m"),t.push(Ht(i.x3.x)+" "+Ht(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=bt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Ht(bt.internal.getWidth(n))+" "+Ht(bt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Ht(bt.internal.getWidth(n)-2)+" "+Ht(bt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Ht(t.x1.x)+" "+Ht(t.x1.y)+" m"),i.push(Ht(t.x2.x)+" "+Ht(t.x2.y)+" l"),i.push(Ht(t.x4.x)+" "+Ht(t.x4.y)+" m"),i.push(Ht(t.x3.x)+" "+Ht(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Bo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ht(bt.internal.getWidth(n))+" "+Ht(bt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};bt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=bt.internal.getWidth(n),t=bt.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},bt.internal.getWidth=function(n){var e=0;return On(n)==="object"&&(e=tx(n.Rect[2])),e},bt.internal.getHeight=function(n){var e=0;return On(n)==="object"&&(e=tx(n.Rect[3])),e};var CR=Nr.addField=function(n){if(RR(this,n),!(n instanceof so))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Nr.AcroFormChoiceField=Mh,Nr.AcroFormListBox=Vh,Nr.AcroFormComboBox=Uh,Nr.AcroFormEditBox=hp,Nr.AcroFormButton=pi,Nr.AcroFormPushButton=dp,Nr.AcroFormRadioButton=Bh,Nr.AcroFormCheckBox=fp,Nr.AcroFormTextField=ju,Nr.AcroFormPasswordField=mp,Nr.AcroFormAppearance=bt,Nr.AcroForm={ChoiceField:Mh,ListBox:Vh,ComboBox:Uh,EditBox:hp,Button:pi,PushButton:dp,RadioButton:Bh,CheckBox:fp,TextField:ju,PasswordField:mp,Appearance:bt},Lt.AcroForm={ChoiceField:Mh,ListBox:Vh,ComboBox:Uh,EditBox:hp,Button:pi,PushButton:dp,RadioButton:Bh,CheckBox:fp,TextField:ju,PasswordField:mp,Appearance:bt};Lt.AcroForm;function U4(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(R,k){var O,ee,ve,re,he,oe=e;if((k=k||e)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(fe(R))for(he in t)for(ve=t[he],O=0;O<ve.length;O+=1){for(re=!0,ee=0;ee<ve[O].length;ee+=1)if(ve[O][ee]!==void 0&&ve[O][ee]!==R[ee]){re=!1;break}if(re===!0){oe=he;break}}else for(he in t)for(ve=t[he],O=0;O<ve.length;O+=1){for(re=!0,ee=0;ee<ve[O].length;ee+=1)if(ve[O][ee]!==void 0&&ve[O][ee]!==R.charCodeAt(ee)){re=!1;break}if(re===!0){oe=he;break}}return oe===e&&k!==e&&(oe=k),oe},s=function R(k){for(var O=this.internal.write,ee=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:k.width}),re.push({key:"Height",value:k.height}),k.colorSpace===V.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===V.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var he="",oe=0,_e=k.transparency.length;oe<_e;oe++)he+=k.transparency[oe]+" "+k.transparency[oe]+" ";re.push({key:"Mask",value:"["+he+"]"})}k.sMask!==void 0&&re.push({key:"SMask",value:k.objectId+1+" 0 R"});var X=k.filter!==void 0?["/"+k.filter]:void 0;if(ee({data:k.data,additionalKeyValues:re,alreadyAppliedFilters:X,objectId:k.objectId}),O("endobj"),"sMask"in k&&k.sMask!==void 0){var Re="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,B={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:Re,data:k.sMask};"filter"in k&&(B.filter=k.filter),R.call(this,B)}if(k.colorSpace===V.INDEXED){var Y=this.internal.newObject();ee({data:T(new Uint8Array(k.palette)),objectId:Y}),O("endobj")}},o=function(){var R=this.internal.collections.addImage_images;for(var k in R)s.call(this,R[k])},c=function(){var R,k=this.internal.collections.addImage_images,O=this.internal.write;for(var ee in k)O("/I"+(R=k[ee]).index,R.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var R=this.internal.collections.addImage_images;return d.call(this),R},g=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(R){return typeof n["process"+R.toUpperCase()]=="function"},A=function(R){return On(R)==="object"&&R.nodeType===1},N=function(R,k){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var O=""+R.getAttribute("src");if(O.indexOf("data:image/")===0)return uf(unescape(O).split("base64,").pop());var ee=n.loadFile(O,!0);if(ee!==void 0)return ee}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var ve;switch(k){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;case"JPEG":case"JPG":default:ve="image/jpeg"}return uf(R.toDataURL(ve,1).split("base64,").pop())}},_=function(R){var k=this.internal.collections.addImage_images;if(k){for(var O in k)if(R===k[O].alias)return k[O]}},D=function(R,k,O){return R||k||(R=-96,k=-96),R<0&&(R=-1*O.width*72/R/this.internal.scaleFactor),k<0&&(k=-1*O.height*72/k/this.internal.scaleFactor),R===0&&(R=k*O.width/O.height),k===0&&(k=R*O.height/O.width),[R,k]},C=function(R,k,O,ee,ve,re){var he=D.call(this,O,ee,ve),oe=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,X=f.call(this);if(O=he[0],ee=he[1],X[ve.index]=ve,re){re*=Math.PI/180;var Re=Math.cos(re),B=Math.sin(re),Y=function(ue){return ue.toFixed(4)},te=[Y(Re),Y(B),Y(-1*B),Y(Re),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,oe(R),_e(k+ee),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([oe(O),"0","0",oe(ee),"0","0","cm"].join(" "))):this.internal.write([oe(O),"0","0",oe(ee),oe(R),_e(k+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},V=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=n.__addimage__.sHashCode=function(R){var k,O,ee=0;if(typeof R=="string")for(O=R.length,k=0;k<O;k++)ee=(ee<<5)-ee+R.charCodeAt(k),ee|=0;else if(fe(R))for(O=R.byteLength/2,k=0;k<O;k++)ee=(ee<<5)-ee+R[k],ee|=0;return ee},J=n.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var k=!0;return R.length===0&&(k=!1),R.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(k=!1),k},se=n.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var k=R.indexOf(",");return k<0?null:R.substring(0,k).trim().endsWith("base64")?R.substring(k+1):null},ae=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(R){return ae()&&R instanceof ArrayBuffer};var fe=n.__addimage__.isArrayBufferView=function(R){return ae()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},F=n.__addimage__.binaryStringToUint8Array=function(R){for(var k=R.length,O=new Uint8Array(k),ee=0;ee<k;ee++)O[ee]=R.charCodeAt(ee);return O},T=n.__addimage__.arrayBufferToBinaryString=function(R){for(var k="",O=fe(R)?R:new Uint8Array(R),ee=0;ee<O.length;ee+=8192)k+=String.fromCharCode.apply(null,O.subarray(ee,ee+8192));return k};n.addImage=function(){var R,k,O,ee,ve,re,he,oe,_e;if(typeof arguments[1]=="number"?(k=e,O=arguments[1],ee=arguments[2],ve=arguments[3],re=arguments[4],he=arguments[5],oe=arguments[6],_e=arguments[7]):(k=arguments[1],O=arguments[2],ee=arguments[3],ve=arguments[4],re=arguments[5],he=arguments[6],oe=arguments[7],_e=arguments[8]),On(R=arguments[0])==="object"&&!A(R)&&"imageData"in R){var X=R;R=X.imageData,k=X.format||k||e,O=X.x||O||0,ee=X.y||ee||0,ve=X.w||X.width||ve,re=X.h||X.height||re,he=X.alias||he,oe=X.compression||oe,_e=X.rotation||X.angle||_e}var Re=this.internal.getFilters();if(oe===void 0&&Re.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(O)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var B=I.call(this,R,k,he,oe);return C.call(this,O,ee,ve,re,B,_e),this};var I=function(R,k,O,ee){var ve,re,he;if(typeof R=="string"&&i(R)===e){R=unescape(R);var oe=G(R,!1);(oe!==""||(oe=n.loadFile(R,!0))!==void 0)&&(R=oe)}if(A(R)&&(R=N(R,k)),k=i(R,k),!b(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((he=O)==null||he.length===0)&&(O=function(_e){return typeof _e=="string"||fe(_e)?M(_e):fe(_e.data)?M(_e.data):null}(R)),(ve=_.call(this,O))||(ae()&&(R instanceof Uint8Array||k==="RGBA"||(re=R,R=F(R))),ve=this["process"+k.toUpperCase()](R,g.call(this),O,function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in n.image_compression?_e:P.NONE}(ee),re)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},G=n.__addimage__.convertBase64ToBinaryString=function(R,k){k=typeof k!="boolean"||k;var O,ee="";if(typeof R=="string"){var ve;O=(ve=se(R))!==null&&ve!==void 0?ve:R;try{ee=uf(O)}catch(re){if(k)throw J(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};n.getImageProperties=function(R){var k,O,ee="";if(A(R)&&(R=N(R)),typeof R=="string"&&i(R)===e&&((ee=G(R,!1))===""&&(ee=n.loadFile(R)||""),R=ee),O=i(R),!b(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!ae()||R instanceof Uint8Array||(R=F(R)),!(k=this["process"+O.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=O,k}})(Lt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Lt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,s,o,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),g=t.pageContext.annotations,b=!1,A=0;A<g.length&&!b;A++)switch((i=g[A]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var N=0;N<g.length;N++){i=g[N];var _=this.internal.pdfEscape,D=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),V=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(C.objId),M=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(i.bounds.x)+" "+d(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y)+"] ")+"/Contents ("+_(P(i.contents))+")",o+=" /Popup "+V.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+_(P(M))+") >>",C.content=o;var J=C.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(i.bounds.x+30)+" "+d(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+d(i.bounds.y)+"] ")+" /Parent "+J,i.open&&(o+=" /Open true"),o+=" >>",V.content=o,this.internal.write(C.objId,"0 R",V.objId,"0 R");break;case"freetext":s="/Rect ["+c(i.bounds.x)+" "+d(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y+i.bounds.h)+"] ";var se=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+_(D(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+se+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var ae=this.annotations._nameMap[i.options.name];i.options.pageNumber=ae.page,i.options.top=ae.y}else i.options.top||(i.options.top=0);if(s="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+_(D(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var fe=d(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+fe+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,s,o,c){var d=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:f(t),y:g(i),w:f(t+s),h:g(i+o)},options:c,type:"link"})},n.textWithLink=function(t,i,s,o){var c,d,f=this.getTextWidth(t),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var b=this.splitTextToSize(t,d).length;c=Math.ceil(g*b)}else d=f,c=g;return this.text(t,i,s,o),s+=.2*g,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,s-g,d,c,o),f},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(Lt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},d=n.__arabicParser__.isArabicEndLetter=function(C){return c(C)&&o(C)&&e[C.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(C){return c(C)&&s.indexOf(C.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return c(C)&&o(C)&&e[C.charCodeAt(0)].length>=1};var g=n.__arabicParser__.arabicLetterHasFinalForm=function(C){return c(C)&&o(C)&&e[C.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(C){return c(C)&&o(C)&&e[C.charCodeAt(0)].length>=3};var b=n.__arabicParser__.arabicLetterHasMedialForm=function(C){return c(C)&&o(C)&&e[C.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(C){var V=0,P=t,M="",J=0;for(V=0;V<C.length;V+=1)P[C.charCodeAt(V)]!==void 0?(J++,typeof(P=P[C.charCodeAt(V)])=="number"&&(M+=String.fromCharCode(P),P=t,J=0),V===C.length-1&&(P=t,M+=C.charAt(V-(J-1)),V-=J-1,J=0)):(P=t,M+=C.charAt(V-J),V-=J,J=0);return M};n.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&i[C.charCodeAt(0)]!==void 0};var N=n.__arabicParser__.getCorrectForm=function(C,V,P){return c(C)?o(C)===!1?-1:!g(C)||!c(V)&&!c(P)||!c(P)&&d(V)||d(C)&&!c(V)||d(C)&&f(V)||d(C)&&d(V)?0:b(C)&&c(V)&&!d(V)&&c(P)&&g(P)?3:d(C)||!c(P)?1:2:-1},_=function(C){var V=0,P=0,M=0,J="",se="",ae="",fe=(C=C||"").split("\\s+"),F=[];for(V=0;V<fe.length;V+=1){for(F.push(""),P=0;P<fe[V].length;P+=1)J=fe[V][P],se=fe[V][P-1],ae=fe[V][P+1],c(J)?(M=N(J,se,ae),F[V]+=M!==-1?String.fromCharCode(e[J.charCodeAt(0)][M]):J):F[V]+=J;F[V]=A(F[V])}return F.join(" ")},D=n.__arabicParser__.processArabic=n.processArabic=function(){var C,V=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(V)){var M=0;for(P=[],M=0;M<V.length;M+=1)Array.isArray(V[M])?P.push([_(V[M][0]),V[M][1],V[M][2]]):P.push([_(V[M])]);C=P}else C=_(V);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};n.events.push(["preProcessText",D])}(Lt.API),Lt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(d){t=d}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(d){s=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var s;if((t=t||"2d")!=="2d")return null;for(s in i)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=i[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Lt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(C){A=C}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(C){N=C}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(C){_=C}});var D=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return D},set:function(C){D=C}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,g){i.call(this);var b=(g=g||{}).fontSize||this.getFontSize(),A=g.font||this.getFont(),N=g.scaleFactor||this.internal.scaleFactor,_=0,D=0,C=0,V=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var P=g.maxWidth;P>0?typeof f=="string"?f=this.splitTextToSize(f,P):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(J,se){return J.concat(V.splitTextToSize(se,P))},[])):f=Array.isArray(f)?f:[f];for(var M=0;M<f.length;M++)_<(C=this.getStringUnitWidth(f[M],{font:A})*b)&&(_=C);return _!==0&&(D=f.length),{w:_/=N,h:Math.max((D*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/N,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var g=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,N=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===f.lineNumber?(f.x=(g.x||0)+(g.width||0),f.y=g.y||0):g.y+g.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,_&&N&&(this.printHeaderRow(f.lineNumber,!0),f.y+=N[0].height)):f.y=g.y+g.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-b,f.y+b,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+b,{align:"center",baseline:"top",maxWidth:f.width-b-b}):this.text(f.text,f.x+b,f.y+b,{align:"left",baseline:"top",maxWidth:f.width-b-b})),this.internal.__cell__.lastCell=f,this};n.table=function(f,g,b,A,N){if(i.call(this),!b)throw new Error("No data for PDF table.");var _,D,C,V,P=[],M=[],J=[],se={},ae={},fe=[],F=[],T=(N=N||{}).autoSize||!1,I=N.printHeaders!==!1,G=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,R=N.margins||Object.assign({width:this.getPageWidth()},e),k=typeof N.padding=="number"?N.padding:3,O=N.headerBackgroundColor||"#c8c8c8",ee=N.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=ee,this.setFontSize(G),A==null)M=P=Object.keys(b[0]),J=P.map(function(){return"left"});else if(Array.isArray(A)&&On(A[0])==="object")for(P=A.map(function(X){return X.name}),M=A.map(function(X){return X.prompt||X.name||""}),J=A.map(function(X){return X.align||"left"}),_=0;_<A.length;_+=1)ae[A[_].name]=A[_].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(M=P=A,J=P.map(function(){return"left"}));if(T||Array.isArray(A)&&typeof A[0]=="string")for(_=0;_<P.length;_+=1){for(se[V=P[_]]=b.map(function(X){return X[V]}),this.setFont(void 0,"bold"),fe.push(this.getTextDimensions(M[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),D=se[V],this.setFont(void 0,"normal"),C=0;C<D.length;C+=1)fe.push(this.getTextDimensions(D[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ae[V]=Math.max.apply(null,fe)+k+k,fe=[]}if(I){var ve={};for(_=0;_<P.length;_+=1)ve[P[_]]={},ve[P[_]].text=M[_],ve[P[_]].align=J[_];var re=d.call(this,ve,ae);F=P.map(function(X){return new o(f,g,ae[X],re,ve[X].text,void 0,ve[X].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var he=A.reduce(function(X,Re){return X[Re.name]=Re.align,X},{});for(_=0;_<b.length;_+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:_,data:b[_]},this);var oe=d.call(this,b[_],ae);for(C=0;C<P.length;C+=1){var _e=b[_][P[C]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:_,col:C,data:_e},this),c.call(this,new o(f,g,ae[P[C]],oe,_e,_+2,he[P[C]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=g,this};var d=function(f,g){var b=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(f).map(function(_){var D=f[_];return this.splitTextToSize(D.hasOwnProperty("text")?D.text:D,g[_]-b-b)},this).map(function(_){return this.getLineHeightFactor()*_.length*A/N+b+b},this).reduce(function(_,D){return Math.max(_,D)},0)};n.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,g){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){b=this.internal.__cell__.tableHeaderRow[_].clone(),g&&(b.y=this.internal.__cell__.margins.top||0,N.push(b)),b.lineNumber=f;var D=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,b),this.setTextColor(D)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),t=!1}}(Lt.API);var B4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},F4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],z1=U4(F4),z4=[100,200,300,400,500,600,700,800,900],IR=U4(z4);function q1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return B4[o=o||"normal"]?o:"normal"}(n.style),i=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),s=function(o){return typeof z1[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,i].join(" ")}}}function nx(n,e,t,i){var s;for(s=t;s>=0&&s<e.length;s+=i)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=i)if(n[e[s]])return n[e[s]]}var LR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ix(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function DR(n,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},LR,t.genericFontFamilies||{}),o=null,c=null,d=0;d<e.length;++d)if(s[(o=q1(e[d])).family]&&(o.family=s[o.family]),n.hasOwnProperty(o.family)){c=n[o.family];break}if(!(c=c||n[i]))throw new Error("Could not find a font-family for the rule '"+ix(o)+"' and default family '"+i+"'.");if(c=function(f,g){if(g[f])return g[f];var b=z1[f],A=b<=z1.normal?-1:1,N=nx(g,F4,b,A);if(!N)throw new Error("Could not find a matching font-stretch value for "+f);return N}(o.stretch,c),c=function(f,g){if(g[f])return g[f];for(var b=B4[f],A=0;A<b.length;++A)if(g[b[A]])return g[b[A]];throw new Error("Could not find a matching font-style for "+f)}(o.style,c),!(c=function(f,g){if(g[f])return g[f];if(f===400&&g[500])return g[500];if(f===500&&g[400])return g[400];var b=IR[f],A=nx(g,z4,b,f<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+f);return A}(o.weight,c)))throw new Error("Failed to resolve a font for the rule '"+ix(o)+"'.");return c}function ax(n){return n.trimLeft()}function PR(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function OR(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Wm,sx,ox,Xg=["times"];(function(n){var e,t,i,s,o,c,d,f,g,b=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new f,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new c,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new c,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,f=this.internal.Matrix,g=new b}]);var A=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=B;Object.defineProperty(this,"pdf",{get:function(){return Y}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(De){te=!!De}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(De){ue=!!De}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(De){isNaN(De)||(ne=De)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(De){isNaN(De)||(de=De)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(De){var le;typeof De=="number"?le=[De,De,De,De]:((le=new Array(4))[0]=De[0],le[1]=De.length>=2?De[1]:le[0],le[2]=De.length>=3?De[2]:le[0],le[3]=De.length>=4?De[3]:le[1]),g.margin=le}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(De){we=De}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(De){Se=De}});var nt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return nt},set:function(De){nt=De}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(De){De instanceof b&&(g=De)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(De){g.path=De}});var Ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ze},set:function(De){Ze=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var le;le=N(De),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var le=N(De);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var Ee=null;function ge(De,le){if(Ee===null){var lt=function(st){var Qe=[];return Object.keys(st).forEach(function(rt){st[rt].forEach(function(at){var it=null;switch(at){case"bold":it={family:rt,weight:"bold"};break;case"italic":it={family:rt,style:"italic"};break;case"bolditalic":it={family:rt,weight:"bold",style:"italic"};break;case"":case"normal":it={family:rt}}it!==null&&(it.ref={name:rt,style:at},Qe.push(it))})}),Qe}(De.getFontList());Ee=function(st){for(var Qe={},rt=0;rt<st.length;++rt){var at=q1(st[rt]),it=at.family,gt=at.stretch,Ct=at.style,Ut=at.weight;Qe[it]=Qe[it]||{},Qe[it][gt]=Qe[it][gt]||{},Qe[it][gt][Ct]=Qe[it][gt][Ct]||{},Qe[it][gt][Ct][Ut]=at}return Qe}(lt.concat(le))}return Ee}var $e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(De){Ee=null,$e=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var le;if(this.ctx.font=De,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var lt=le[1];le[2];var st=le[3],Qe=le[4];le[5];var rt=le[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(at==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var it=function(yt){var Yt,ht,er=[],Qt=yt.trim();if(Qt==="")return Xg;if(Qt in rx)return[rx[Qt]];for(;Qt!=="";){switch(ht=null,Yt=(Qt=ax(Qt)).charAt(0)){case'"':case"'":ht=PR(Qt.substring(1),Yt);break;default:ht=OR(Qt)}if(ht===null||(er.push(ht[0]),(Qt=ax(ht[1]))!==""&&Qt.charAt(0)!==","))return Xg;Qt=Qt.replace(/^,/,"")}return er}(rt);if(this.fontFaces){var gt=DR(ge(this.pdf,this.fontFaces),it.map(function(yt){return{family:yt,stretch:"normal",weight:st,style:lt}}));this.pdf.setFont(gt.ref.name,gt.ref.style)}else{var Ct="";(st==="bold"||parseInt(st,10)>=700||lt==="bold")&&(Ct="bold"),lt==="italic"&&(Ct+="italic"),Ct.length===0&&(Ct="normal");for(var Ut="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<it.length;xt++){if(this.pdf.internal.getFont(it[xt],Ct,{noFallback:!0,disableWarning:!0})!==void 0){Ut=it[xt];break}if(Ct==="bolditalic"&&this.pdf.internal.getFont(it[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=it[xt],Ct="bold";else if(this.pdf.internal.getFont(it[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=it[xt],Ct="normal";break}}if(Ut===""){for(var $t=0;$t<it.length;$t++)if(wt[it[$t]]){Ut=wt[it[$t]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,Ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,Re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,Re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};A.prototype.setLineDash=function(B){this.lineDash=B},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){se.call(this,"fill",!1)},A.prototype.stroke=function(){se.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(B,Y){if(isNaN(B)||isNaN(Y))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new c(B,Y));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new c(B,Y)},A.prototype.closePath=function(){var B=new c(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&On(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){B=new c(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(B.x,B.y)},A.prototype.lineTo=function(B,Y){if(isNaN(B)||isNaN(Y))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new c(B,Y));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new c(te.x,te.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),se.call(this,null,!0)},A.prototype.quadraticCurveTo=function(B,Y,te,ue){if(isNaN(te)||isNaN(ue)||isNaN(B)||isNaN(Y))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new c(te,ue)),de=this.ctx.transform.applyToPoint(new c(B,Y));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new c(ne.x,ne.y)},A.prototype.bezierCurveTo=function(B,Y,te,ue,ne,de){if(isNaN(ne)||isNaN(de)||isNaN(B)||isNaN(Y)||isNaN(te)||isNaN(ue))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new c(ne,de)),Se=this.ctx.transform.applyToPoint(new c(B,Y)),nt=this.ctx.transform.applyToPoint(new c(te,ue));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:nt.x,y2:nt.y,x:we.x,y:we.y}),this.ctx.lastPoint=new c(we.x,we.y)},A.prototype.arc=function(B,Y,te,ue,ne,de){if(isNaN(B)||isNaN(Y)||isNaN(te)||isNaN(ue)||isNaN(ne))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new c(B,Y));B=we.x,Y=we.y;var Se=this.ctx.transform.applyToPoint(new c(0,te)),nt=this.ctx.transform.applyToPoint(new c(0,0));te=Math.sqrt(Math.pow(Se.x-nt.x,2)+Math.pow(Se.y-nt.y,2))}Math.abs(ne-ue)>=2*Math.PI&&(ue=0,ne=2*Math.PI),this.path.push({type:"arc",x:B,y:Y,radius:te,startAngle:ue,endAngle:ne,counterclockwise:de})},A.prototype.arcTo=function(B,Y,te,ue,ne){throw new Error("arcTo not implemented.")},A.prototype.rect=function(B,Y,te,ue){if(isNaN(B)||isNaN(Y)||isNaN(te)||isNaN(ue))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,Y),this.lineTo(B+te,Y),this.lineTo(B+te,Y+ue),this.lineTo(B,Y+ue),this.lineTo(B,Y),this.lineTo(B+te,Y),this.lineTo(B,Y)},A.prototype.fillRect=function(B,Y,te,ue){if(isNaN(B)||isNaN(Y)||isNaN(te)||isNaN(ue))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,Y,te,ue),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},A.prototype.strokeRect=function(B,Y,te,ue){if(isNaN(B)||isNaN(Y)||isNaN(te)||isNaN(ue))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");D.call(this)||(this.beginPath(),this.rect(B,Y,te,ue),this.stroke())},A.prototype.clearRect=function(B,Y,te,ue){if(isNaN(B)||isNaN(Y)||isNaN(te)||isNaN(ue))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,Y,te,ue))},A.prototype.save=function(B){B=typeof B!="boolean"||B;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},A.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(B){var Y,te,ue,ne;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))Y=0,te=0,ue=0,ne=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(de!==null)Y=parseInt(de[1]),te=parseInt(de[2]),ue=parseInt(de[3]),ne=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)Y=parseInt(de[1]),te=parseInt(de[2]),ue=parseInt(de[3]),ne=parseFloat(de[4]);else{if(ne=1,typeof B=="string"&&B.charAt(0)!=="#"){var we=new L4(B);B=we.ok?we.toHex():"#000000"}B.length===4?(Y=B.substring(1,2),Y+=Y,te=B.substring(2,3),te+=te,ue=B.substring(3,4),ue+=ue):(Y=B.substring(1,3),te=B.substring(3,5),ue=B.substring(5,7)),Y=parseInt(Y,16),te=parseInt(te,16),ue=parseInt(ue,16)}}return{r:Y,g:te,b:ue,a:ne,style:B}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},D=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(B,Y,te,ue){if(isNaN(Y)||isNaN(te)||typeof B!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!_.call(this)){var ne=oe(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;k.call(this,{text:B,x:Y,y:te,scale:de,angle:ne,align:this.textAlign,maxWidth:ue})}},A.prototype.strokeText=function(B,Y,te,ue){if(isNaN(Y)||isNaN(te)||typeof B!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!D.call(this)){ue=isNaN(ue)?void 0:ue;var ne=oe(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;k.call(this,{text:B,x:Y,y:te,scale:de,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ue})}},A.prototype.measureText=function(B){if(typeof B!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,te=this.pdf.internal.scaleFactor,ue=Y.internal.getFontSize(),ne=Y.getStringUnitWidth(B)*ue/Y.internal.scaleFactor,de=function(we){var Se=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this};return new de({width:ne*=Math.round(96*te/72*1e4)/1e4})},A.prototype.scale=function(B,Y){if(isNaN(B)||isNaN(Y))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new f(B,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},A.prototype.rotate=function(B){if(isNaN(B))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new f(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.translate=function(B,Y){if(isNaN(B)||isNaN(Y))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new f(1,0,0,1,B,Y);this.ctx.transform=this.ctx.transform.multiply(te)},A.prototype.transform=function(B,Y,te,ue,ne,de){if(isNaN(B)||isNaN(Y)||isNaN(te)||isNaN(ue)||isNaN(ne)||isNaN(de))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new f(B,Y,te,ue,ne,de);this.ctx.transform=this.ctx.transform.multiply(we)},A.prototype.setTransform=function(B,Y,te,ue,ne,de){B=isNaN(B)?1:B,Y=isNaN(Y)?0:Y,te=isNaN(te)?0:te,ue=isNaN(ue)?1:ue,ne=isNaN(ne)?0:ne,de=isNaN(de)?0:de,this.ctx.transform=new f(B,Y,te,ue,ne,de)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(B,Y,te,ue,ne,de,we,Se,nt){var Ze=this.pdf.getImageProperties(B),Ee=1,ge=1,$e=1,De=1;ue!==void 0&&Se!==void 0&&($e=Se/ue,De=nt/ne,Ee=Ze.width/ue*Se/ue,ge=Ze.height/ne*nt/ne),de===void 0&&(de=Y,we=te,Y=0,te=0),ue!==void 0&&Se===void 0&&(Se=ue,nt=ne),ue===void 0&&Se===void 0&&(Se=Ze.width,nt=Ze.height);for(var le,lt=this.ctx.transform.decompose(),st=oe(lt.rotate.shx),Qe=new f,rt=(Qe=(Qe=(Qe=Qe.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new d(de-Y*$e,we-te*De,ue*Ee,ne*ge)),at=V.call(this,rt),it=[],gt=0;gt<at.length;gt+=1)it.indexOf(at[gt])===-1&&it.push(at[gt]);if(J(it),this.autoPaging)for(var Ct=it[0],Ut=it[it.length-1],wt=Ct;wt<Ut+1;wt++){this.pdf.setPage(wt);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=wt===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=wt===1?0:yt+(wt-2)*Yt;if(this.ctx.clip_path.length!==0){var er=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(le,this.posX+this.margin[3],-ht+$t+this.ctx.prevPageLastElemOffset),ae.call(this,"fill",!0),this.path=er}var Qt=JSON.parse(JSON.stringify(rt));Qt=M([Qt],this.posX+this.margin[3],-ht+$t+this.ctx.prevPageLastElemOffset)[0];var Kr=(wt>Ct||wt<Ut)&&C.call(this);Kr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Yt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,st),Kr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,st)};var V=function(B,Y,te){var ue=[];Y=Y||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ue.push(Math.floor((B.y+ne)/te)+1);break;case"arc":ue.push(Math.floor((B.y+ne-B.radius)/te)+1),ue.push(Math.floor((B.y+ne+B.radius)/te)+1);break;case"qct":var de=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ue.push(Math.floor((de.y+ne)/te)+1),ue.push(Math.floor((de.y+de.h+ne)/te)+1);break;case"bct":var we=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ue.push(Math.floor((we.y+ne)/te)+1),ue.push(Math.floor((we.y+we.h+ne)/te)+1);break;case"rect":ue.push(Math.floor((B.y+ne)/te)+1),ue.push(Math.floor((B.y+B.h+ne)/te)+1)}for(var Se=0;Se<ue.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Se];)P.call(this);return ue},P=function(){var B=this.fillStyle,Y=this.strokeStyle,te=this.font,ue=this.lineCap,ne=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=Y,this.font=te,this.lineCap=ue,this.lineWidth=ne,this.lineJoin=de},M=function(B,Y,te){for(var ue=0;ue<B.length;ue++)switch(B[ue].type){case"bct":B[ue].x2+=Y,B[ue].y2+=te;case"qct":B[ue].x1+=Y,B[ue].y1+=te;case"mt":case"lt":case"arc":default:B[ue].x+=Y,B[ue].y+=te}return B},J=function(B){return B.sort(function(Y,te){return Y-te})},se=function(B,Y){for(var te,ue,ne=this.fillStyle,de=this.strokeStyle,we=this.lineCap,Se=this.lineWidth,nt=Math.abs(Se*this.ctx.transform.scaleX),Ze=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),ge=JSON.parse(JSON.stringify(this.path)),$e=[],De=0;De<ge.length;De++)if(ge[De].x!==void 0)for(var le=V.call(this,ge[De]),lt=0;lt<le.length;lt+=1)$e.indexOf(le[lt])===-1&&$e.push(le[lt]);for(var st=0;st<$e.length;st++)for(;this.pdf.internal.getNumberOfPages()<$e[st];)P.call(this);if(J($e),this.autoPaging)for(var Qe=$e[0],rt=$e[$e.length-1],at=Qe;at<rt+1;at++){this.pdf.setPage(at),this.fillStyle=ne,this.strokeStyle=de,this.lineCap=we,this.lineWidth=nt,this.lineJoin=Ze;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gt=at===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=at===1?0:Ct+(at-2)*Ut;if(this.ctx.clip_path.length!==0){var xt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(te,this.posX+this.margin[3],-wt+gt+this.ctx.prevPageLastElemOffset),ae.call(this,B,!0),this.path=xt}if(ue=JSON.parse(JSON.stringify(Ee)),this.path=M(ue,this.posX+this.margin[3],-wt+gt+this.ctx.prevPageLastElemOffset),Y===!1||at===0){var $t=(at>Qe||at<rt)&&C.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ut,null).clip().discardPath()),ae.call(this,B,Y),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=nt,ae.call(this,B,Y),this.lineWidth=Se;this.path=Ee},ae=function(B,Y){if((B!=="stroke"||Y||!D.call(this))&&(B==="stroke"||Y||!_.call(this))){for(var te,ue,ne=[],de=this.path,we=0;we<de.length;we++){var Se=de[we];switch(Se.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Se,deltas:[],abs:[]});break;case"lt":var nt=ne.length;if(de[we-1]&&!isNaN(de[we-1].x)&&(te=[Se.x-de[we-1].x,Se.y-de[we-1].y],nt>0)){for(;nt>=0;nt--)if(ne[nt-1].close!==!0&&ne[nt-1].begin!==!0){ne[nt-1].deltas.push(te),ne[nt-1].abs.push(Se);break}}break;case"bct":te=[Se.x1-de[we-1].x,Se.y1-de[we-1].y,Se.x2-de[we-1].x,Se.y2-de[we-1].y,Se.x-de[we-1].x,Se.y-de[we-1].y],ne[ne.length-1].deltas.push(te);break;case"qct":var Ze=de[we-1].x+2/3*(Se.x1-de[we-1].x),Ee=de[we-1].y+2/3*(Se.y1-de[we-1].y),ge=Se.x+2/3*(Se.x1-Se.x),$e=Se.y+2/3*(Se.y1-Se.y),De=Se.x,le=Se.y;te=[Ze-de[we-1].x,Ee-de[we-1].y,ge-de[we-1].x,$e-de[we-1].y,De-de[we-1].x,le-de[we-1].y],ne[ne.length-1].deltas.push(te);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Se)}}ue=Y?null:B==="stroke"?"stroke":"fill";for(var lt=!1,st=0;st<ne.length;st++)if(ne[st].arc)for(var Qe=ne[st].abs,rt=0;rt<Qe.length;rt++){var at=Qe[rt];at.type==="arc"?T.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,Y,!lt):O.call(this,at.x,at.y),lt=!0}else if(ne[st].close===!0)this.pdf.internal.out("h"),lt=!1;else if(ne[st].begin!==!0){var it=ne[st].start.x,gt=ne[st].start.y;ee.call(this,ne[st].deltas,it,gt),lt=!0}ue&&I.call(this,ue),Y&&G.call(this)}},fe=function(B){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-te;case"top":return B+Y-te;case"hanging":return B+Y-2*te;case"middle":return B+Y/2-te;case"ideographic":return B;case"alphabetic":default:return B}},F=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(Y,te){this.colorStops.push([Y,te])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(B,Y,te,ue,ne,de,we,Se,nt){for(var Ze=re.call(this,te,ue,ne,de),Ee=0;Ee<Ze.length;Ee++){var ge=Ze[Ee];Ee===0&&(nt?R.call(this,ge.x1+B,ge.y1+Y):O.call(this,ge.x1+B,ge.y1+Y)),ve.call(this,B,Y,ge.x2,ge.y2,ge.x3,ge.y3,ge.x4,ge.y4)}Se?G.call(this):I.call(this,we)},I=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(B,Y){this.pdf.internal.out(t(B)+" "+i(Y)+" m")},k=function(B){var Y;switch(B.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var te=this.pdf.getTextDimensions(B.text),ue=fe.call(this,B.y),ne=F.call(this,ue)-te.h,de=this.ctx.transform.applyToPoint(new c(B.x,ue)),we=this.ctx.transform.decompose(),Se=new f;Se=(Se=(Se=Se.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var nt,Ze,Ee,ge=this.ctx.transform.applyToRectangle(new d(B.x,ue,te.w,te.h)),$e=Se.applyToRectangle(new d(B.x,ne,te.w,te.h)),De=V.call(this,$e),le=[],lt=0;lt<De.length;lt+=1)le.indexOf(De[lt])===-1&&le.push(De[lt]);if(J(le),this.autoPaging)for(var st=le[0],Qe=le[le.length-1],rt=st;rt<Qe+1;rt++){this.pdf.setPage(rt);var at=rt===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[2],Ct=gt-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],wt=Ut-this.margin[3],xt=rt===1?0:it+(rt-2)*Ct;if(this.ctx.clip_path.length!==0){var $t=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(nt,this.posX+this.margin[3],-1*xt+at),ae.call(this,"fill",!0),this.path=$t}var yt=M([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-xt+at+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ze*B.scale),Ee=this.lineWidth,this.lineWidth=Ee*B.scale);var Yt=this.autoPaging!=="text";if(Yt||yt.y+yt.h<=gt){if(Yt||yt.y>=at&&yt.x<=Ut){var ht=Yt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ut-yt.x)[0],er=M([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-xt+at+this.ctx.prevPageLastElemOffset)[0],Qt=Yt&&(rt>st||rt<Qe)&&C.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Ct,null).clip().discardPath()),this.pdf.text(ht,er.x,er.y,{angle:B.angle,align:Y,renderingMode:B.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else yt.y<gt&&(this.ctx.prevPageLastElemOffset+=gt-yt.y);B.scale>=.01&&(this.pdf.setFontSize(Ze),this.lineWidth=Ee)}else B.scale>=.01&&(Ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ze*B.scale),Ee=this.lineWidth,this.lineWidth=Ee*B.scale),this.pdf.text(B.text,de.x+this.posX,de.y+this.posY,{angle:B.angle,align:Y,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Ze),this.lineWidth=Ee)},O=function(B,Y,te,ue){te=te||0,ue=ue||0,this.pdf.internal.out(t(B+te)+" "+i(Y+ue)+" l")},ee=function(B,Y,te){return this.pdf.lines(B,Y,te,null,null)},ve=function(B,Y,te,ue,ne,de,we,Se){this.pdf.internal.out([e(s(te+B)),e(o(ue+Y)),e(s(ne+B)),e(o(de+Y)),e(s(we+B)),e(o(Se+Y)),"c"].join(" "))},re=function(B,Y,te,ue){for(var ne=2*Math.PI,de=Math.PI/2;Y>te;)Y-=ne;var we=Math.abs(te-Y);we<ne&&ue&&(we=ne-we);for(var Se=[],nt=ue?-1:1,Ze=Y;we>1e-5;){var Ee=Ze+nt*Math.min(we,de);Se.push(he.call(this,B,Ze,Ee)),we-=Math.abs(Ee-Ze),Ze=Ee}return Se},he=function(B,Y,te){var ue=(te-Y)/2,ne=B*Math.cos(ue),de=B*Math.sin(ue),we=ne,Se=-de,nt=we*we+Se*Se,Ze=nt+we*ne+Se*de,Ee=4/3*(Math.sqrt(2*nt*Ze)-Ze)/(we*de-Se*ne),ge=we-Ee*Se,$e=Se+Ee*we,De=ge,le=-$e,lt=ue+Y,st=Math.cos(lt),Qe=Math.sin(lt);return{x1:B*Math.cos(Y),y1:B*Math.sin(Y),x2:ge*st-$e*Qe,y2:ge*Qe+$e*st,x3:De*st-le*Qe,y3:De*Qe+le*st,x4:B*Math.cos(te),y4:B*Math.sin(te)}},oe=function(B){return 180*B/Math.PI},_e=function(B,Y,te,ue,ne,de){var we=B+.5*(te-B),Se=Y+.5*(ue-Y),nt=ne+.5*(te-ne),Ze=de+.5*(ue-de),Ee=Math.min(B,ne,we,nt),ge=Math.max(B,ne,we,nt),$e=Math.min(Y,de,Se,Ze),De=Math.max(Y,de,Se,Ze);return new d(Ee,$e,ge-Ee,De-$e)},X=function(B,Y,te,ue,ne,de,we,Se){var nt,Ze,Ee,ge,$e,De,le,lt,st,Qe,rt,at,it,gt,Ct=te-B,Ut=ue-Y,wt=ne-te,xt=de-ue,$t=we-ne,yt=Se-de;for(Ze=0;Ze<41;Ze++)st=(le=(Ee=B+(nt=Ze/40)*Ct)+nt*(($e=te+nt*wt)-Ee))+nt*($e+nt*(ne+nt*$t-$e)-le),Qe=(lt=(ge=Y+nt*Ut)+nt*((De=ue+nt*xt)-ge))+nt*(De+nt*(de+nt*yt-De)-lt),Ze==0?(rt=st,at=Qe,it=st,gt=Qe):(rt=Math.min(rt,st),at=Math.min(at,Qe),it=Math.max(it,st),gt=Math.max(gt,Qe));return new d(Math.round(rt),Math.round(at),Math.round(it-rt),Math.round(gt-at))},Re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,Y,te=(B=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:Y}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Lt.API),function(n){var e=function(o){var c,d,f,g,b,A,N,_,D,C;for(d=[],f=0,g=(o+=c="\0\0\0\0".slice(o.length%4||4)).length;g>f;f+=4)(b=(o.charCodeAt(f)<<24)+(o.charCodeAt(f+1)<<16)+(o.charCodeAt(f+2)<<8)+o.charCodeAt(f+3))!==0?(A=(b=((b=((b=((b=(b-(C=b%85))/85)-(D=b%85))/85)-(_=b%85))/85)-(N=b%85))/85)%85,d.push(A+33,N+33,_+33,D+33,C+33)):d.push(122);return function(V,P){for(var M=P;M>0;M--)V.pop()}(d,c.length),String.fromCharCode.apply(String,d)+"~>"},t=function(o){var c,d,f,g,b,A=String,N="length",_=255,D="charCodeAt",C="slice",V="replace";for(o[C](-2),o=o[C](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),f=[],g=0,b=(o+=c="uuuuu"[C](o[N]%5||5))[N];b>g;g+=5)d=52200625*(o[D](g)-33)+614125*(o[D](g+1)-33)+7225*(o[D](g+2)-33)+85*(o[D](g+3)-33)+(o[D](g+4)-33),f.push(_&d>>24,_&d>>16,_&d>>8,_&d);return function(P,M){for(var J=M;J>0;J--)P.pop()}(f,c[N]),A.fromCharCode.apply(A,f)},i=function(o){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),c.test(o)===!1)return"";for(var d="",f=0;f<o.length;f+=2)d+=String.fromCharCode("0x"+(o[f]+o[f+1]));return d},s=function(o){for(var c=new Uint8Array(o.length),d=o.length;d--;)c[d]=o.charCodeAt(d);return o=(c=M1(c)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};n.processDataByFilters=function(o,c){var d=0,f=o||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}}(Lt.API),function(n){n.loadFile=function(e,t,i){return function(s,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=function(f,g,b){var A=new XMLHttpRequest,N=0,_=function(D){var C=D.length,V=[],P=String.fromCharCode;for(N=0;N<C;N+=1)V.push(P(255&D.charCodeAt(N)));return V.join("")};if(A.open("GET",f,!g),A.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(A.onload=function(){A.status===200?b(_(this.responseText)):b(void 0)}),A.send(null),g&&A.status===200)return _(A.responseText)}(s,o,c)}catch{}return d}(e,t,i)},n.loadImageFile=n.loadFile}(Lt.API),function(n){function e(){return(Pt.html2canvas?Promise.resolve(Pt.html2canvas):Mp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Pt.DOMPurify?Promise.resolve(Pt.DOMPurify):Mp(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var d=On(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(c,d){var f=document.createElement(c);for(var g in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[g]=d.style[g];return f},o=function c(d){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),f);return g=(g=g.setProgress(1,c,1,[c])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(c,d){return c.__proto__=d||o.prototype,c},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(c,d){return this.then(function(){switch(d=d||function(f){switch(i(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(t).then(function(f){return this.set({src:s("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},o.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function f(g,b){for(var A=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),N=g.firstChild;N;N=N.nextSibling)b!==!0&&N.nodeType===1&&N.nodeName==="SCRIPT"||A.appendChild(f(N,b));return g.nodeType===1&&(g.nodeName==="CANVAS"?(A.width=g.width,A.height=g.height,A.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(A.value=g.value),A.addEventListener("load",function(){A.scrollTop=g.scrollTop,A.scrollLeft=g.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var f=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var N=0;N<g.length;++N){var _=g[N],D=_.src.find(function(C){return C.format==="truetype"});D&&f.addFont(D.url,_.ref.name,_.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,f.context2d.save(!0),d(this.prop.container,A)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(c,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},o.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},o.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},o.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(c){if(i(c)!=="object")return this;var d=Object.keys(c||{}).map(function(f){if(f in o.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(c,d){return this.then(function(){var f=c in o.template.prop?this.prop[c]:this.opt[c];return d?d(f):f})},o.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},o.prototype.setPageSize=function(c){function d(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(c=c||Lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},o.prototype.setProgress=function(c,d,f,g){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(c,d,f,g){return this.setProgress(c?this.progress.val+c:null,d||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},o.prototype.then=function(c,d){var f=this;return this.thenCore(c,d,function(g,b){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(A){return f.updateProgress(null,g),A}).then(g,b).then(function(A){return f.updateProgress(1),A})})},o.prototype.thenCore=function(c,d,f){f=f||Promise.prototype.then,c&&(c=c.bind(this)),d&&(d=d.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),b=f.call(g,c,d);return o.convert(b,this.__proto__)},o.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},o.prototype.thenList=function(c){var d=this;return c.forEach(function(f){d=d.thenCore(f)}),d},o.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return o.convert(d,this)},o.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},o.prototype.error=function(c){return this.then(function(){throw new Error(c)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Lt.getPageSize=function(c,d,f){if(On(c)==="object"){var g=c;c=g.orientation,d=g.unit||d,f=g.format||f}d=d||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var b,A=(""+f).toLowerCase(),N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+d}var _,D=0,C=0;if(N.hasOwnProperty(A))D=N[A][1]/b,C=N[A][0]/b;else try{D=f[1],C=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",C>D&&(_=C,C=D,D=_);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",D>C&&(_=C,C=D,D=_)}return{width:C,height:D,unit:d,k:b,orientation:c}},n.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(q1):null;var f=new o(d);return d.worker?f:f.from(c).doCallback()}}(Lt.API),Lt.API.addJS=function(n){return ox=n,this.internal.events.subscribe("postPutResources",function(){Wm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Wm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ox+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Wm!==void 0&&sx!==void 0&&this.internal.out("/Names <</JavaScript "+Wm+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var c=s[o],d=i.exec(c);if(d!=null){var f=d[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,b=[];for(o=0;o<g;o++){var A=t.internal.newObject();b.push(A);var N=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<b.length;o++)t.internal.write("(page_"+(o+1)+")"+b[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,s,o){var c={title:s,options:o,children:[]};return i==null&&(i=this.root),i.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var s=0;s<i.children.length;s++)this.genIds_r(i.children[s])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var c=i.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var f=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var g=0;g<i.children.length;g++)this.renderItems(i.children[g])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,s){for(var o=0;o<s.children.length;o++)i.count++,this.count_r(i,s.children[o]);return i.count}}])}(Lt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,s,o,c,d){var f,g=this.decode.DCT_DECODE,b=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(f=function(A){for(var N,_=256*A.charCodeAt(4)+A.charCodeAt(5),D=A.length,C={width:0,height:0,numcomponents:1},V=4;V<D;V+=2){if(V+=_,e.indexOf(A.charCodeAt(V+1))!==-1){N=256*A.charCodeAt(V+5)+A.charCodeAt(V+6),C={width:256*A.charCodeAt(V+7)+A.charCodeAt(V+8),height:N,numcomponents:A.charCodeAt(V+9)};break}_=256*A.charCodeAt(V+2)+A.charCodeAt(V+3)}return C}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}b={data:t,width:f.width,height:f.height,colorSpace:d,bitsPerComponent:8,filter:g,index:i,alias:s}}return b}}(Lt.API);var _h,Qm,lx,cx,ux,MR=function(){var n,e,t;function i(o){var c,d,f,g,b,A,N,_,D,C,V,P,M,J;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(c=this.readUInt32(),D=(function(){var se,ae;for(ae=[],se=0;se<4;++se)ae.push(String.fromCharCode(this.data[this.pos++]));return ae}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),g=this.readUInt16()||100,A.delay=1e3*b/g,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(D==="fdAT"&&(this.pos+=4,c-=4),o=(A!=null?A.data:void 0)||this.imgData,P=0;0<=c?P<c:P>c;0<=c?++P:--P)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((C=f-this.transparency.indexed.length)>0)for(M=0;0<=C?M<C:M>C;0<=C?++M:--M)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":N=(V=this.read(c)).indexOf(0),_=String.fromCharCode.apply(String,V.slice(0,N)),this.text[_]=String.fromCharCode.apply(String,V.slice(N+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(J=this.colorType)===4||J===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var c,d;for(d=[],c=0;0<=o?c<o:c>o;0<=o?++c:--c)d.push(this.data[this.pos++]);return d},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var c=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*c),f=0,g=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function b(A,N,_,D){var C,V,P,M,J,se,ae,fe,F,T,I,G,R,k,O,ee,ve,re,he,oe,_e,X=Math.ceil((g.width-A)/_),Re=Math.ceil((g.height-N)/D),B=g.width==X&&g.height==Re;for(k=c*X,G=B?d:new Uint8Array(k*Re),se=o.length,R=0,V=0;R<Re&&f<se;){switch(o[f++]){case 0:for(M=ve=0;ve<k;M=ve+=1)G[V++]=o[f++];break;case 1:for(M=re=0;re<k;M=re+=1)C=o[f++],J=M<c?0:G[V-c],G[V++]=(C+J)%256;break;case 2:for(M=he=0;he<k;M=he+=1)C=o[f++],P=(M-M%c)/c,O=R&&G[(R-1)*k+P*c+M%c],G[V++]=(O+C)%256;break;case 3:for(M=oe=0;oe<k;M=oe+=1)C=o[f++],P=(M-M%c)/c,J=M<c?0:G[V-c],O=R&&G[(R-1)*k+P*c+M%c],G[V++]=(C+Math.floor((J+O)/2))%256;break;case 4:for(M=_e=0;_e<k;M=_e+=1)C=o[f++],P=(M-M%c)/c,J=M<c?0:G[V-c],R===0?O=ee=0:(O=G[(R-1)*k+P*c+M%c],ee=P&&G[(R-1)*k+(P-1)*c+M%c]),ae=J+O-ee,fe=Math.abs(ae-J),T=Math.abs(ae-O),I=Math.abs(ae-ee),F=fe<=T&&fe<=I?J:T<=I?O:ee,G[V++]=(C+F)%256;break;default:throw new Error("Invalid filter algorithm: "+o[f-1])}if(!B){var Y=((N+R*D)*g.width+A)*c,te=R*k;for(M=0;M<X;M+=1){for(var ue=0;ue<c;ue+=1)d[Y++]=G[te++];Y+=(_-1)*c}}R++}}return o=pR(o),g.interlaceMethod==1?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),d},i.prototype.decodePalette=function(){var o,c,d,f,g,b,A,N,_;for(d=this.palette,b=this.transparency.indexed||[],g=new Uint8Array((b.length||0)+d.length),f=0,o=0,c=A=0,N=d.length;A<N;c=A+=3)g[f++]=d[c],g[f++]=d[c+1],g[f++]=d[c+2],g[f++]=(_=b[o++])!=null?_:255;return g},i.prototype.copyToImageData=function(o,c){var d,f,g,b,A,N,_,D,C,V,P;if(f=this.colors,C=null,d=this.hasAlphaChannel,this.palette.length&&(C=(P=this._decodedPalette)!=null?P:this._decodedPalette=this.decodePalette(),f=4,d=!0),D=(g=o.data||o).length,A=C||c,b=N=0,f===1)for(;b<D;)_=C?4*c[b/4]:N,V=A[_++],g[b++]=V,g[b++]=V,g[b++]=V,g[b++]=d?A[_++]:255,N=_;else for(;b<D;)_=C?4*c[b/4]:N,g[b++]=A[_++],g[b++]=A[_++],g[b++]=A[_++],g[b++]=d?A[_++]:255,N=_},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var s=function(){if(Object.prototype.toString.call(Pt)==="[object Window]"){try{e=Pt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),n=function(o){var c;if(s()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(c=new Image).src=e.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var c,d,f,g,b,A,N,_;if(this.animation){for(_=[],d=b=0,A=(N=this.animation.frames).length;b<A;d=++b)c=N[d],f=o.createImageData(c.width,c.height),g=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(f,g),c.imageData=f,_.push(c.image=n(f));return _}},i.prototype.renderFrame=function(o,c){var d,f,g;return d=(f=this.animation.frames)[c],g=f[c-1],c===0&&o.clearRect(0,0,this.width,this.height),(g!=null?g.disposeOp:void 0)===1?o.clearRect(g.xOffset,g.yOffset,g.width,g.height):(g!=null?g.disposeOp:void 0)===2&&o.putImageData(g.imageData,g.xOffset,g.yOffset),d.blendOp===0&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},i.prototype.animate=function(o){var c,d,f,g,b,A,N=this;return d=0,A=this.animation,g=A.numFrames,f=A.frames,b=A.numPlays,(c=function(){var _,D;if(_=d++%g,D=f[_],N.renderFrame(o,_),g>1&&d/g<b)return N.animation._timeout=setTimeout(c,D.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},i.prototype.render=function(o){var c,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,c=o.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(d=c.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),c.putImageData(d,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function VR(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,c=1<<(7&s)+1;n[e++],n[e++];var d=null,f=null;o&&(d=e,f=c,e+=3*c);var g=!0,b=[],A=0,N=null,_=0,D=null;for(this.width=t,this.height=i;g&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,D=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=n[e++];A=n[e++]|n[e++]<<8,N=n[e++],(1&C)==0&&(N=null),_=C>>2&7,e++;break;case 254:for(;;){if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var V=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,M=n[e++]|n[e++]<<8,J=n[e++]|n[e++]<<8,se=n[e++],ae=se>>6&1,fe=1<<(7&se)+1,F=d,T=f,I=!1;se>>7&&(I=!0,F=e,T=fe,e+=3*fe);var G=e;for(e++;;){var R;if(!((R=n[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}b.push({x:V,y:P,width:M,height:J,has_local_palette:I,palette_offset:F,palette_size:T,data_offset:G,data_length:e-G,transparent_index:N,interlaced:!!ae,delay:A,disposal:_});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return D},this.frameInfo=function(k){if(k<0||k>=b.length)throw new Error("Frame index out of range.");return b[k]},this.decodeAndBlitFrameBGRA=function(k,O){var ee=this.frameInfo(k),ve=ee.width*ee.height,re=new Uint8Array(ve);hx(n,ee.data_offset,re,ve);var he=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var _e=ee.width,X=t-_e,Re=_e,B=4*(ee.y*t+ee.x),Y=4*((ee.y+ee.height)*t+ee.x),te=B,ue=4*X;ee.interlaced===!0&&(ue+=4*t*7);for(var ne=8,de=0,we=re.length;de<we;++de){var Se=re[de];if(Re===0&&(Re=_e,(te+=ue)>=Y&&(ue=4*X+4*t*(ne-1),te=B+(_e+X)*(ne<<1),ne>>=1)),Se===oe)te+=4;else{var nt=n[he+3*Se],Ze=n[he+3*Se+1],Ee=n[he+3*Se+2];O[te++]=Ee,O[te++]=Ze,O[te++]=nt,O[te++]=255}--Re}},this.decodeAndBlitFrameRGBA=function(k,O){var ee=this.frameInfo(k),ve=ee.width*ee.height,re=new Uint8Array(ve);hx(n,ee.data_offset,re,ve);var he=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var _e=ee.width,X=t-_e,Re=_e,B=4*(ee.y*t+ee.x),Y=4*((ee.y+ee.height)*t+ee.x),te=B,ue=4*X;ee.interlaced===!0&&(ue+=4*t*7);for(var ne=8,de=0,we=re.length;de<we;++de){var Se=re[de];if(Re===0&&(Re=_e,(te+=ue)>=Y&&(ue=4*X+4*t*(ne-1),te=B+(_e+X)*(ne<<1),ne>>=1)),Se===oe)te+=4;else{var nt=n[he+3*Se],Ze=n[he+3*Se+1],Ee=n[he+3*Se+2];O[te++]=nt,O[te++]=Ze,O[te++]=Ee,O[te++]=255}--Re}}}function hx(n,e,t,i){for(var s=n[e++],o=1<<s,c=o+1,d=c+1,f=s+1,g=(1<<f)-1,b=0,A=0,N=0,_=n[e++],D=new Int32Array(4096),C=null;;){for(;b<16&&_!==0;)A|=n[e++]<<b,b+=8,_===1?_=n[e++]:--_;if(b<f)break;var V=A&g;if(A>>=f,b-=f,V!==o){if(V===c)break;for(var P=V<d?V:C,M=0,J=P;J>o;)J=D[J]>>8,++M;var se=J;if(N+M+(P!==V?1:0)>i)return void $n.log("Warning, gif stream longer than expected.");t[N++]=se;var ae=N+=M;for(P!==V&&(t[N++]=se),J=P;M--;)J=D[J],t[--ae]=255&J,J>>=8;C!==null&&d<4096&&(D[d++]=C<<8|se,d>=g+1&&f<12&&(++f,g=g<<1|1)),C=V}else d=c+1,g=(1<<(f=s+1))-1,C=null}return N!==i&&$n.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Jg(n){var e,t,i,s,o,c=Math.floor,d=new Array(64),f=new Array(64),g=new Array(64),b=new Array(64),A=new Array(65535),N=new Array(65535),_=new Array(64),D=new Array(64),C=[],V=0,P=7,M=new Array(64),J=new Array(64),se=new Array(64),ae=new Array(256),fe=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(B,Y){for(var te=0,ue=0,ne=new Array,de=1;de<=16;de++){for(var we=1;we<=B[de];we++)ne[Y[ue]]=[],ne[Y[ue]][0]=te,ne[Y[ue]][1]=de,ue++,te++;te*=2}return ne}function he(B){for(var Y=B[0],te=B[1]-1;te>=0;)Y&1<<te&&(V|=1<<P),te--,--P<0&&(V==255?(oe(255),oe(0)):oe(V),P=7,V=0)}function oe(B){C.push(B)}function _e(B){oe(B>>8&255),oe(255&B)}function X(B,Y,te,ue,ne){for(var de,we=ne[0],Se=ne[240],nt=function(Qe,rt){var at,it,gt,Ct,Ut,wt,xt,$t,yt,Yt,ht=0;for(yt=0;yt<8;++yt){at=Qe[ht],it=Qe[ht+1],gt=Qe[ht+2],Ct=Qe[ht+3],Ut=Qe[ht+4],wt=Qe[ht+5],xt=Qe[ht+6];var er=at+($t=Qe[ht+7]),Qt=at-$t,Kr=it+xt,Jt=it-xt,En=gt+wt,ii=gt-wt,ln=Ct+Ut,Ea=Ct-Ut,Mn=er+ln,Ar=er-ln,Wr=Kr+En,Vn=Kr-En;Qe[ht]=Mn+Wr,Qe[ht+4]=Mn-Wr;var At=.707106781*(Vn+Ar);Qe[ht+2]=Ar+At,Qe[ht+6]=Ar-At;var cn=.382683433*((Mn=Ea+ii)-(Vn=Jt+Qt)),ki=.5411961*Mn+cn,tr=1.306562965*Vn+cn,Qr=.707106781*(Wr=ii+Jt),Xi=Qt+Qr,dt=Qt-Qr;Qe[ht+5]=dt+ki,Qe[ht+3]=dt-ki,Qe[ht+1]=Xi+tr,Qe[ht+7]=Xi-tr,ht+=8}for(ht=0,yt=0;yt<8;++yt){at=Qe[ht],it=Qe[ht+8],gt=Qe[ht+16],Ct=Qe[ht+24],Ut=Qe[ht+32],wt=Qe[ht+40],xt=Qe[ht+48];var Tn=at+($t=Qe[ht+56]),kn=at-$t,Hn=it+xt,Wn=it-xt,nr=gt+wt,pr=gt-wt,Es=Ct+Ut,bi=Ct-Ut,Vr=Tn+Es,Sr=Tn-Es,gr=Hn+nr,Er=Hn-nr;Qe[ht]=Vr+gr,Qe[ht+32]=Vr-gr;var Un=.707106781*(Er+Sr);Qe[ht+16]=Sr+Un,Qe[ht+48]=Sr-Un;var bn=.382683433*((Vr=bi+pr)-(Er=Wn+kn)),Ta=.5411961*Vr+bn,ka=1.306562965*Er+bn,ai=.707106781*(gr=pr+Wn),ji=kn+ai,Ts=kn-ai;Qe[ht+40]=Ts+Ta,Qe[ht+24]=Ts-Ta,Qe[ht+8]=ji+ka,Qe[ht+56]=ji-ka,ht++}for(yt=0;yt<64;++yt)Yt=Qe[yt]*rt[yt],_[yt]=Yt>0?Yt+.5|0:Yt-.5|0;return _}(B,Y),Ze=0;Ze<64;++Ze)D[F[Ze]]=nt[Ze];var Ee=D[0]-te;te=D[0],Ee==0?he(ue[0]):(he(ue[N[de=32767+Ee]]),he(A[de]));for(var ge=63;ge>0&&D[ge]==0;)ge--;if(ge==0)return he(we),te;for(var $e,De=1;De<=ge;){for(var le=De;D[De]==0&&De<=ge;)++De;var lt=De-le;if(lt>=16){$e=lt>>4;for(var st=1;st<=$e;++st)he(Se);lt&=15}de=32767+D[De],he(ne[(lt<<4)+N[de]]),he(A[de]),De++}return ge!=63&&he(we),te}function Re(B){B=Math.min(Math.max(B,1),100),o!=B&&(function(Y){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var ne=c((te[ue]*Y+50)/100);ne=Math.min(Math.max(ne,1),255),d[F[ue]]=ne}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Se=c((de[we]*Y+50)/100);Se=Math.min(Math.max(Se,1),255),f[F[we]]=Se}for(var nt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ze=0,Ee=0;Ee<8;Ee++)for(var ge=0;ge<8;ge++)g[Ze]=1/(d[F[Ze]]*nt[Ee]*nt[ge]*8),b[Ze]=1/(f[F[Ze]]*nt[Ee]*nt[ge]*8),Ze++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),o=B)}this.encode=function(B,Y){Y&&Re(Y),C=new Array,V=0,P=7,_e(65496),_e(65504),_e(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),_e(1),_e(1),oe(0),oe(0),function(){_e(65499),_e(132),oe(0);for(var it=0;it<64;it++)oe(d[it]);oe(1);for(var gt=0;gt<64;gt++)oe(f[gt])}(),function(it,gt){_e(65472),_e(17),oe(8),_e(gt),_e(it),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(B.width,B.height),function(){_e(65476),_e(418),oe(0);for(var it=0;it<16;it++)oe(T[it+1]);for(var gt=0;gt<=11;gt++)oe(I[gt]);oe(16);for(var Ct=0;Ct<16;Ct++)oe(G[Ct+1]);for(var Ut=0;Ut<=161;Ut++)oe(R[Ut]);oe(1);for(var wt=0;wt<16;wt++)oe(k[wt+1]);for(var xt=0;xt<=11;xt++)oe(O[xt]);oe(17);for(var $t=0;$t<16;$t++)oe(ee[$t+1]);for(var yt=0;yt<=161;yt++)oe(ve[yt])}(),_e(65498),_e(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var te=0,ue=0,ne=0;V=0,P=7,this.encode.displayName="_encode_";for(var de,we,Se,nt,Ze,Ee,ge,$e,De,le=B.data,lt=B.width,st=B.height,Qe=4*lt,rt=0;rt<st;){for(de=0;de<Qe;){for(Ze=Qe*rt+de,ge=-1,$e=0,De=0;De<64;De++)Ee=Ze+($e=De>>3)*Qe+(ge=4*(7&De)),rt+$e>=st&&(Ee-=Qe*(rt+1+$e-st)),de+ge>=Qe&&(Ee-=de+ge-Qe+4),we=le[Ee++],Se=le[Ee++],nt=le[Ee++],M[De]=(fe[we]+fe[Se+256>>0]+fe[nt+512>>0]>>16)-128,J[De]=(fe[we+768>>0]+fe[Se+1024>>0]+fe[nt+1280>>0]>>16)-128,se[De]=(fe[we+1280>>0]+fe[Se+1536>>0]+fe[nt+1792>>0]>>16)-128;te=X(M,g,te,e,i),ue=X(J,b,ue,t,s),ne=X(se,b,ne,t,s),de+=32}rt+=8}if(P>=0){var at=[];at[1]=P+1,at[0]=(1<<P+1)-1,he(at)}return _e(65497),new Uint8Array(C)},n=n||50,function(){for(var B=String.fromCharCode,Y=0;Y<256;Y++)ae[Y]=B(Y)}(),e=re(T,I),t=re(k,O),i=re(G,R),s=re(ee,ve),function(){for(var B=1,Y=2,te=1;te<=15;te++){for(var ue=B;ue<Y;ue++)N[32767+ue]=te,A[32767+ue]=[],A[32767+ue][1]=te,A[32767+ue][0]=ue;for(var ne=-(Y-1);ne<=-B;ne++)N[32767+ne]=te,A[32767+ne]=[],A[32767+ne][1]=te,A[32767+ne][0]=Y-1+ne;B<<=1,Y<<=1}}(),function(){for(var B=0;B<256;B++)fe[B]=19595*B,fe[B+256>>0]=38470*B,fe[B+512>>0]=7471*B+32768,fe[B+768>>0]=-11059*B,fe[B+1024>>0]=-21709*B,fe[B+1280>>0]=32768*B+8421375,fe[B+1536>>0]=-27439*B,fe[B+1792>>0]=-5329*B}(),Re(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zs(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dx(n){function e(T){if(!T)throw Error("assert :P")}function t(T,I,G){for(var R=0;4>R;R++)if(T[I+R]!=G.charCodeAt(R))return!0;return!1}function i(T,I,G,R,k){for(var O=0;O<k;O++)T[I+O]=G[R+O]}function s(T,I,G,R){for(var k=0;k<R;k++)T[I+k]=G}function o(T){return new Int32Array(T)}function c(T,I){for(var G=[],R=0;R<T;R++)G.push(new I);return G}function d(T,I){var G=[];return function R(k,O,ee){for(var ve=ee[O],re=0;re<ve&&(k.push(ee.length>O+1?[]:new I),!(ee.length<O+1));re++)R(k[re],O+1,ee)}(G,0,T),G}var f=function(){var T=this;function I(m,v){for(var S=1<<v-1>>>0;m&S;)S>>>=1;return S?(m&S-1)+S:m}function G(m,v,S,j,z){e(!(j%S));do m[v+(j-=S)]=z;while(0<j)}function R(m,v,S,j,z){if(e(2328>=z),512>=z)var H=o(512);else if((H=o(z))==null)return 0;return function($,K,Z,ie,be,Pe){var Ie,je,Ye=K,Be=1<<Z,xe=o(16),Ae=o(16);for(e(be!=0),e(ie!=null),e($!=null),e(0<Z),je=0;je<be;++je){if(15<ie[je])return 0;++xe[ie[je]]}if(xe[0]==be)return 0;for(Ae[1]=0,Ie=1;15>Ie;++Ie){if(xe[Ie]>1<<Ie)return 0;Ae[Ie+1]=Ae[Ie]+xe[Ie]}for(je=0;je<be;++je)Ie=ie[je],0<ie[je]&&(Pe[Ae[Ie]++]=je);if(Ae[15]==1)return(ie=new k).g=0,ie.value=Pe[0],G($,Ye,1,Be,ie),Be;var ze,Ke=-1,He=Be-1,ft=0,ot=1,_t=1,ut=1<<Z;for(je=0,Ie=1,be=2;Ie<=Z;++Ie,be<<=1){if(ot+=_t<<=1,0>(_t-=xe[Ie]))return 0;for(;0<xe[Ie];--xe[Ie])(ie=new k).g=Ie,ie.value=Pe[je++],G($,Ye+ft,be,ut,ie),ft=I(ft,Ie)}for(Ie=Z+1,be=2;15>=Ie;++Ie,be<<=1){if(ot+=_t<<=1,0>(_t-=xe[Ie]))return 0;for(;0<xe[Ie];--xe[Ie]){if(ie=new k,(ft&He)!=Ke){for(Ye+=ut,ze=1<<(Ke=Ie)-Z;15>Ke&&!(0>=(ze-=xe[Ke]));)++Ke,ze<<=1;Be+=ut=1<<(ze=Ke-Z),$[K+(Ke=ft&He)].g=ze+Z,$[K+Ke].value=Ye-K-Ke}ie.g=Ie-Z,ie.value=Pe[je++],G($,Ye+(ft>>Z),be,ut,ie),ft=I(ft,Ie)}}return ot!=2*Ae[15]-1?0:Be}(m,v,S,j,z,H)}function k(){this.value=this.g=0}function O(){this.value=this.g=0}function ee(){this.G=c(5,k),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(kr,O)}function ve(m,v,S,j){e(m!=null),e(v!=null),e(2147483648>j),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=v,m.pa=S,m.Jd=v,m.Yc=S+j,m.Zc=4<=j?S+j-4+1:S,de(m)}function re(m,v){for(var S=0;0<v--;)S|=Se(m,128)<<v;return S}function he(m,v){var S=re(m,v);return we(m)?-S:S}function oe(m,v,S,j){var z,H=0;for(e(m!=null),e(v!=null),e(4294967288>j),m.Sb=j,m.Ra=0,m.u=0,m.h=0,4<j&&(j=4),z=0;z<j;++z)H+=v[S+z]<<8*z;m.Ra=H,m.bb=j,m.oa=v,m.pa=S}function _e(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ll-8>>>0,++m.bb,m.u-=8;te(m)&&(m.h=1,m.u=0)}function X(m,v){if(e(0<=v),!m.h&&v<=ol){var S=Y(m)&vo[v];return m.u+=v,_e(m),S}return m.h=1,m.u=0}function Re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(m){return m.Ra>>>(m.u&ll-1)>>>0}function te(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ll}function ue(m,v){m.u=v,m.h=te(m)}function ne(m){m.u>=ec&&(e(m.u>=ec),_e(m))}function de(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function we(m){return re(m,1)}function Se(m,v){var S=m.Ca;0>m.b&&de(m);var j=m.b,z=S*v>>>8,H=(m.I>>>j>z)+0;for(H?(S-=z,m.I-=z+1<<j>>>0):S=z+1,j=S,z=0;256<=j;)z+=8,j>>=8;return j=7^z+Pi[j],m.b-=j,m.Ca=(S<<j)-1,H}function nt(m,v,S){m[v+0]=S>>24&255,m[v+1]=S>>16&255,m[v+2]=S>>8&255,m[v+3]=S>>0&255}function Ze(m,v){return m[v+0]<<0|m[v+1]<<8}function Ee(m,v){return Ze(m,v)|m[v+2]<<16}function ge(m,v){return Ze(m,v)|Ze(m,v+2)<<16}function $e(m,v){var S=1<<v;return e(m!=null),e(0<v),m.X=o(S),m.X==null?0:(m.Mb=32-v,m.Xa=v,1)}function De(m,v){e(m!=null),e(v!=null),e(m.Xa==v.Xa),i(v.X,0,m.X,0,1<<v.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function lt(m,v,S,j){e(S!=null),e(j!=null);var z=S[0],H=j[0];return z==0&&(z=(m*H+v/2)/v),H==0&&(H=(v*z+m/2)/m),0>=z||0>=H?0:(S[0]=z,j[0]=H,1)}function st(m,v){return m+(1<<v)-1>>>v}function Qe(m,v){return((4278255360&m)+(4278255360&v)>>>0&4278255360)+((16711935&m)+(16711935&v)>>>0&16711935)>>>0}function rt(m,v){T[v]=function(S,j,z,H,$,K,Z){var ie;for(ie=0;ie<$;++ie){var be=T[m](K[Z+ie-1],z,H+ie);K[Z+ie]=Qe(S[j+ie],be)}}}function at(){this.ud=this.hd=this.jd=0}function it(m,v){return((4278124286&(m^v))>>>1)+(m&v)>>>0}function gt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ct(m,v){return gt(m+(m-v+.5>>1))}function Ut(m,v,S){return Math.abs(v-S)-Math.abs(m-S)}function wt(m,v,S,j,z,H,$){for(j=H[$-1],S=0;S<z;++S)H[$+S]=j=Qe(m[v+S],j)}function xt(m,v,S,j,z){var H;for(H=0;H<S;++H){var $=m[v+H],K=$>>8&255,Z=16711935&(Z=(Z=16711935&$)+((K<<16)+K));j[z+H]=(4278255360&$)+Z>>>0}}function $t(m,v){v.jd=m>>0&255,v.hd=m>>8&255,v.ud=m>>16&255}function yt(m,v,S,j,z,H){var $;for($=0;$<j;++$){var K=v[S+$],Z=K>>>8,ie=K,be=255&(be=(be=K>>>16)+((m.jd<<24>>24)*(Z<<24>>24)>>>5));ie=255&(ie=(ie=ie+((m.hd<<24>>24)*(Z<<24>>24)>>>5))+((m.ud<<24>>24)*(be<<24>>24)>>>5)),z[H+$]=(4278255360&K)+(be<<16)+ie}}function Yt(m,v,S,j,z){T[v]=function(H,$,K,Z,ie,be,Pe,Ie,je){for(Z=Pe;Z<Ie;++Z)for(Pe=0;Pe<je;++Pe)ie[be++]=z(K[j(H[$++])])},T[m]=function(H,$,K,Z,ie,be,Pe){var Ie=8>>H.b,je=H.Ea,Ye=H.K[0],Be=H.w;if(8>Ie)for(H=(1<<H.b)-1,Be=(1<<Ie)-1;$<K;++$){var xe,Ae=0;for(xe=0;xe<je;++xe)xe&H||(Ae=j(Z[ie++])),be[Pe++]=z(Ye[Ae&Be]),Ae>>=Ie}else T["VP8LMapColor"+S](Z,ie,Ye,Be,be,Pe,$,K,je)}}function ht(m,v,S,j,z){for(S=v+S;v<S;){var H=m[v++];j[z++]=H>>16&255,j[z++]=H>>8&255,j[z++]=H>>0&255}}function er(m,v,S,j,z){for(S=v+S;v<S;){var H=m[v++];j[z++]=H>>16&255,j[z++]=H>>8&255,j[z++]=H>>0&255,j[z++]=H>>24&255}}function Qt(m,v,S,j,z){for(S=v+S;v<S;){var H=($=m[v++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;j[z++]=H,j[z++]=$}}function Kr(m,v,S,j,z){for(S=v+S;v<S;){var H=($=m[v++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;j[z++]=H,j[z++]=$}}function Jt(m,v,S,j,z){for(S=v+S;v<S;){var H=m[v++];j[z++]=H>>0&255,j[z++]=H>>8&255,j[z++]=H>>16&255}}function En(m,v,S,j,z,H){if(H==0)for(S=v+S;v<S;)nt(j,((H=m[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),z+=32;else i(j,z,m,v,S)}function ii(m,v){T[v][0]=T[m+"0"],T[v][1]=T[m+"1"],T[v][2]=T[m+"2"],T[v][3]=T[m+"3"],T[v][4]=T[m+"4"],T[v][5]=T[m+"5"],T[v][6]=T[m+"6"],T[v][7]=T[m+"7"],T[v][8]=T[m+"8"],T[v][9]=T[m+"9"],T[v][10]=T[m+"10"],T[v][11]=T[m+"11"],T[v][12]=T[m+"12"],T[v][13]=T[m+"13"],T[v][14]=T[m+"0"],T[v][15]=T[m+"0"]}function ln(m){return m==au||m==ko||m==Bs||m==ic}function Ea(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ar(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ea,this.f.kb=new Mn,this.sd=null}function Wr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function cn(m,v){var S=m.T,j=v.ba.f.RGBA,z=j.eb,H=j.fb+m.ka*j.A,$=zr[v.ba.S],K=m.y,Z=m.O,ie=m.f,be=m.N,Pe=m.ea,Ie=m.W,je=v.cc,Ye=v.dc,Be=v.Mc,xe=v.Nc,Ae=m.ka,ze=m.ka+m.T,Ke=m.U,He=Ke+1>>1;for(Ae==0?$(K,Z,null,null,ie,be,Pe,Ie,ie,be,Pe,Ie,z,H,null,null,Ke):($(v.ec,v.fc,K,Z,je,Ye,Be,xe,ie,be,Pe,Ie,z,H-j.A,z,H,Ke),++S);Ae+2<ze;Ae+=2)je=ie,Ye=be,Be=Pe,xe=Ie,be+=m.Rc,Ie+=m.Rc,H+=2*j.A,$(K,(Z+=2*m.fa)-m.fa,K,Z,je,Ye,Be,xe,ie,be,Pe,Ie,z,H-j.A,z,H,Ke);return Z+=m.fa,m.j+ze<m.o?(i(v.ec,v.fc,K,Z,Ke),i(v.cc,v.dc,ie,be,He),i(v.Mc,v.Nc,Pe,Ie,He),S--):1&ze||$(K,Z,null,null,ie,be,Pe,Ie,ie,be,Pe,Ie,z,H+j.A,null,null,Ke),S}function ki(m,v,S){var j=m.F,z=[m.J];if(j!=null){var H=m.U,$=v.ba.S,K=$==fl||$==Bs;v=v.ba.f.RGBA;var Z=[0],ie=m.ka;Z[0]=m.T,m.Kb&&(ie==0?--Z[0]:(--ie,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(Z[0]=m.o-m.j-ie));var be=v.eb;ie=v.fb+ie*v.A,m=en(j,z[0],m.width,H,Z,be,ie+(K?0:3),v.A),e(S==Z),m&&ln($)&&ta(be,ie,K,H,Z,v.A)}return 0}function tr(m){var v=m.ma,S=v.ba.S,j=11>S,z=S==rc||S==iu||S==fl||S==Us||S==12||ln(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!yo(v.Oa,m,z?11:12))return 0;if(z&&ln(S)&&et(),m.da)alert("todo:use_scaling");else{if(j){if(v.Ib=At,m.Kb){if(S=m.U+1>>1,v.memory=o(m.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+m.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=cn,et()}}else alert("todo:EmitYUV");z&&(v.Jb=ki,j&&ke())}if(j&&!Gf){for(m=0;256>m;++m)v0[m]=89858*(m-128)+Rr>>ps,lu[m]=-22014*(m-128)+Rr,ld[m]=-45773*(m-128),Cr[m]=113618*(m-128)+Rr>>ps;for(m=Co;m<Ju;++m)v=76283*(m-16)+Rr>>ps,cu[m-Co]=wn(v,255),cd[m-Co]=wn(v+8>>4,15);Gf=1}return 1}function Qr(m){var v=m.ma,S=m.U,j=m.T;return e(!(1&m.ka)),0>=S||0>=j?0:(S=v.Ib(m,v),v.Jb!=null&&v.Jb(m,v,S),v.Dc+=S,1)}function Xi(m){m.ma.memory=null}function dt(m,v,S,j){return X(m,8)!=47?0:(v[0]=X(m,14)+1,S[0]=X(m,14)+1,j[0]=X(m,1),X(m,3)!=0?0:!m.h)}function Tn(m,v){if(4>m)return m+1;var S=m-2>>1;return(2+(1&m)<<S)+X(v,S)+1}function kn(m,v){return 120<v?v-120:1<=(S=((S=zs[v-1])>>4)*m+(8-(15&S)))?S:1;var S}function Hn(m,v,S){var j=Y(S),z=m[v+=255&j].g-8;return 0<z&&(ue(S,S.u+8),j=Y(S),v+=m[v].value,v+=j&(1<<z)-1),ue(S,S.u+m[v].g),m[v].value}function Wn(m,v,S){return S.g+=m.g,S.value+=m.value<<v>>>0,e(8>=S.g),m.g}function nr(m,v,S){var j=m.xc;return e((v=j==0?0:m.vc[m.md*(S>>j)+(v>>j)])<m.Wb),m.Ya[v]}function pr(m,v,S,j){var z=m.ab,H=m.c*v,$=m.C;v=$+v;var K=S,Z=j;for(j=m.Ta,S=m.Ua;0<z--;){var ie=m.gc[z],be=$,Pe=v,Ie=K,je=Z,Ye=(Z=j,K=S,ie.Ea);switch(e(be<Pe),e(Pe<=ie.nc),ie.hc){case 2:Gu(Ie,je,(Pe-be)*Ye,Z,K);break;case 0:var Be=be,xe=Pe,Ae=Z,ze=K,Ke=(ut=ie).Ea;Be==0&&(sd(Ie,je,null,null,1,Ae,ze),wt(Ie,je+1,0,0,Ke-1,Ae,ze+1),je+=Ke,ze+=Ke,++Be);for(var He=1<<ut.b,ft=He-1,ot=st(Ke,ut.b),_t=ut.K,ut=ut.w+(Be>>ut.b)*ot;Be<xe;){var mn=_t,_n=ut,Xt=1;for(nu(Ie,je,Ae,ze-Ke,1,Ae,ze);Xt<Ke;){var Kt=(Xt&~ft)+He;Kt>Ke&&(Kt=Ke),(0,Os[mn[_n++]>>8&15])(Ie,je+ +Xt,Ae,ze+Xt-Ke,Kt-Xt,Ae,ze+Xt),Xt=Kt}je+=Ke,ze+=Ke,++Be&ft||(ut+=ot)}Pe!=ie.nc&&i(Z,K-Ye,Z,K+(Pe-be-1)*Ye,Ye);break;case 1:for(Ye=Ie,xe=je,Ke=(Ie=ie.Ea)-(ze=Ie&~(Ae=(je=1<<ie.b)-1)),Be=st(Ie,ie.b),He=ie.K,ie=ie.w+(be>>ie.b)*Be;be<Pe;){for(ft=He,ot=ie,_t=new at,ut=xe+ze,mn=xe+Ie;xe<ut;)$t(ft[ot++],_t),xo(_t,Ye,xe,je,Z,K),xe+=je,K+=je;xe<mn&&($t(ft[ot++],_t),xo(_t,Ye,xe,Ke,Z,K),xe+=Ke,K+=Ke),++be&Ae||(ie+=Be)}break;case 3:if(Ie==Z&&je==K&&0<ie.b){for(xe=Z,Ie=Ye=K+(Pe-be)*Ye-(ze=(Pe-be)*st(ie.Ea,ie.b)),je=Z,Ae=K,Be=[],ze=(Ke=ze)-1;0<=ze;--ze)Be[ze]=je[Ae+ze];for(ze=Ke-1;0<=ze;--ze)xe[Ie+ze]=Be[ze];ga(ie,be,Pe,Z,Ye,Z,K)}else ga(ie,be,Pe,Ie,je,Z,K)}K=j,Z=S}Z!=S&&i(j,S,K,Z,H)}function Es(m,v){var S=m.V,j=m.Ba+m.c*m.C,z=v-m.C;if(e(v<=m.l.o),e(16>=z),0<z){var H=m.l,$=m.Ta,K=m.Ua,Z=H.width;if(pr(m,z,S,j),z=K=[K],e((S=m.C)<(j=v)),e(H.v<H.va),j>H.o&&(j=H.o),S<H.j){var ie=H.j-S;S=H.j,z[0]+=ie*Z}if(S>=j?S=0:(z[0]+=4*H.v,H.ka=S-H.j,H.U=H.va-H.v,H.T=j-S,S=1),S){if(K=K[0],11>(S=m.ca).S){var be=S.f.RGBA,Pe=(j=S.S,z=H.U,H=H.T,ie=be.eb,be.A),Ie=H;for(be=be.fb+m.Ma*be.A;0<Ie--;){var je=$,Ye=K,Be=z,xe=ie,Ae=be;switch(j){case ui:wi(je,Ye,Be,xe,Ae);break;case rc:ei(je,Ye,Be,xe,Ae);break;case au:ei(je,Ye,Be,xe,Ae),ta(xe,Ae,0,Be,1,0);break;case hs:Va(je,Ye,Be,xe,Ae);break;case iu:En(je,Ye,Be,xe,Ae,1);break;case ko:En(je,Ye,Be,xe,Ae,1),ta(xe,Ae,0,Be,1,0);break;case fl:En(je,Ye,Be,xe,Ae,0);break;case Bs:En(je,Ye,Be,xe,Ae,0),ta(xe,Ae,1,Be,1,0);break;case Us:wo(je,Ye,Be,xe,Ae);break;case ic:wo(je,Ye,Be,xe,Ae),Zt(xe,Ae,Be,1,0);break;case Yu:Oi(je,Ye,Be,xe,Ae);break;default:e(0)}K+=Z,be+=Pe}m.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=S.height)}}m.C=v,e(m.C<=m.i)}function bi(m){var v;if(0<m.ua)return 0;for(v=0;v<m.Wb;++v){var S=m.Ya[v].G,j=m.Ya[v].H;if(0<S[1][j[1]+0].g||0<S[2][j[2]+0].g||0<S[3][j[3]+0].g)return 0}return 1}function Vr(m,v,S,j,z,H){if(m.Z!=0){var $=m.qd,K=m.rd;for(e(fs[m.Z]!=null);v<S;++v)fs[m.Z]($,K,j,z,j,z,H),$=j,K=z,z+=H;m.qd=$,m.rd=K}}function Sr(m,v){var S=m.l.ma,j=S.Z==0||S.Z==1?m.l.j:m.C;if(j=m.C<j?j:m.C,e(v<=m.l.o),v>j){var z=m.l.width,H=S.ca,$=S.tb+z*j,K=m.V,Z=m.Ba+m.c*j,ie=m.gc;e(m.ab==1),e(ie[0].hc==3),bo(ie[0],j,v,K,Z,H,$),Vr(S,j,v,H,$,z)}m.C=m.Ma=v}function gr(m,v,S,j,z,H,$){var K=m.$/j,Z=m.$%j,ie=m.m,be=m.s,Pe=S+m.$,Ie=Pe;z=S+j*z;var je=S+j*H,Ye=280+be.ua,Be=m.Pb?K:16777216,xe=0<be.ua?be.Wa:null,Ae=be.wc,ze=Pe<je?nr(be,Z,K):null;e(m.C<H),e(je<=z);var Ke=!1;e:for(;;){for(;Ke||Pe<je;){var He=0;if(K>=Be){var ft=Pe-S;e((Be=m).Pb),Be.wd=Be.m,Be.xd=ft,0<Be.s.ua&&De(Be.s.Wa,Be.s.vb),Be=K+zf}if(Z&Ae||(ze=nr(be,Z,K)),e(ze!=null),ze.Qb&&(v[Pe]=ze.qb,Ke=!0),!Ke)if(ne(ie),ze.jc){He=ie,ft=v;var ot=Pe,_t=ze.pd[Y(He)&kr-1];e(ze.jc),256>_t.g?(ue(He,He.u+_t.g),ft[ot]=_t.value,He=0):(ue(He,He.u+_t.g-256),e(256<=_t.value),He=_t.value),He==0&&(Ke=!0)}else He=Hn(ze.G[0],ze.H[0],ie);if(ie.h)break;if(Ke||256>He){if(!Ke)if(ze.nd)v[Pe]=(ze.qb|He<<8)>>>0;else{if(ne(ie),Ke=Hn(ze.G[1],ze.H[1],ie),ne(ie),ft=Hn(ze.G[2],ze.H[2],ie),ot=Hn(ze.G[3],ze.H[3],ie),ie.h)break;v[Pe]=(ot<<24|Ke<<16|He<<8|ft)>>>0}if(Ke=!1,++Pe,++Z>=j&&(Z=0,++K,$!=null&&K<=H&&!(K%16)&&$(m,K),xe!=null))for(;Ie<Pe;)He=v[Ie++],xe.X[(506832829*He&4294967295)>>>xe.Mb]=He}else if(280>He){if(He=Tn(He-256,ie),ft=Hn(ze.G[4],ze.H[4],ie),ne(ie),ft=kn(j,ft=Tn(ft,ie)),ie.h)break;if(Pe-S<ft||z-Pe<He)break e;for(ot=0;ot<He;++ot)v[Pe+ot]=v[Pe+ot-ft];for(Pe+=He,Z+=He;Z>=j;)Z-=j,++K,$!=null&&K<=H&&!(K%16)&&$(m,K);if(e(Pe<=z),Z&Ae&&(ze=nr(be,Z,K)),xe!=null)for(;Ie<Pe;)He=v[Ie++],xe.X[(506832829*He&4294967295)>>>xe.Mb]=He}else{if(!(He<Ye))break e;for(Ke=He-280,e(xe!=null);Ie<Pe;)He=v[Ie++],xe.X[(506832829*He&4294967295)>>>xe.Mb]=He;He=Pe,e(!(Ke>>>(ft=xe).Xa)),v[He]=ft.X[Ke],Ke=!0}Ke||e(ie.h==te(ie))}if(m.Pb&&ie.h&&Pe<z)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&De(m.s.vb,m.s.Wa);else{if(ie.h)break e;$!=null&&$(m,K>H?H:K),m.a=0,m.$=Pe-S}return 1}return m.a=3,0}function Er(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var v=m.Wa;v!=null&&(v.X=null),m.vb=null,e(m!=null)}function Un(){var m=new Jl;return m==null?null:(m.a=0,m.xb=ac,ii("Predictor","VP8LPredictors"),ii("Predictor","VP8LPredictors_C"),ii("PredictorAdd","VP8LPredictorsAdd"),ii("PredictorAdd","VP8LPredictorsAdd_C"),Gu=xt,xo=yt,wi=ht,ei=er,wo=Qt,Oi=Kr,Va=Jt,T.VP8LMapColor32b=Br,T.VP8LMapColor8b=ru,m)}function bn(m,v,S,j,z){var H=1,$=[m],K=[v],Z=j.m,ie=j.s,be=null,Pe=0;e:for(;;){if(S)for(;H&&X(Z,1);){var Ie=$,je=K,Ye=j,Be=1,xe=Ye.m,Ae=Ye.gc[Ye.ab],ze=X(xe,2);if(Ye.Oc&1<<ze)H=0;else{switch(Ye.Oc|=1<<ze,Ae.hc=ze,Ae.Ea=Ie[0],Ae.nc=je[0],Ae.K=[null],++Ye.ab,e(4>=Ye.ab),ze){case 0:case 1:Ae.b=X(xe,3)+2,Be=bn(st(Ae.Ea,Ae.b),st(Ae.nc,Ae.b),0,Ye,Ae.K),Ae.K=Ae.K[0];break;case 3:var Ke,He=X(xe,8)+1,ft=16<He?0:4<He?1:2<He?2:3;if(Ie[0]=st(Ae.Ea,ft),Ae.b=ft,Ke=Be=bn(He,1,0,Ye,Ae.K)){var ot,_t=He,ut=Ae,mn=1<<(8>>ut.b),_n=o(mn);if(_n==null)Ke=0;else{var Xt=ut.K[0],Kt=ut.w;for(_n[0]=ut.K[0][0],ot=1;ot<1*_t;++ot)_n[ot]=Qe(Xt[Kt+ot],_n[ot-1]);for(;ot<4*mn;++ot)_n[ot]=0;ut.K[0]=null,ut.K[0]=_n,Ke=1}}Be=Ke;break;case 2:break;default:e(0)}H=Be}}if($=$[0],K=K[0],H&&X(Z,1)&&!(H=1<=(Pe=X(Z,4))&&11>=Pe)){j.a=3;break e}var Rn;if(Rn=H)t:{var Nn,Ft,Ln,Et=j,Dt=$,fn=K,pn=Pe,qr=S,Ir=Et.m,hr=Et.s,dr=[null],xr=1,xa=0,An=pl[pn];n:for(;;){if(qr&&X(Ir,1)){var wr=X(Ir,3)+2,Fa=st(Dt,wr),Io=st(fn,wr),vl=Fa*Io;if(!bn(Fa,Io,0,Et,dr))break n;for(dr=dr[0],hr.xc=wr,Nn=0;Nn<vl;++Nn){var Lo=dr[Nn]>>8&65535;dr[Nn]=Lo,Lo>=xr&&(xr=Lo+1)}}if(Ir.h)break n;for(Ft=0;5>Ft;++Ft){var Yn=na[Ft];!Ft&&0<pn&&(Yn+=1<<pn),xa<Yn&&(xa=Yn)}var uu=c(xr*An,k),Zu=xr,Ni=c(Zu,ee);if(Ni==null)var Qn=null;else e(65536>=Zu),Qn=Ni;var bl=o(xa);if(Qn==null||bl==null||uu==null){Et.a=1;break n}var Do=uu;for(Nn=Ln=0;Nn<xr;++Nn){var Vi=Qn[Nn],Po=Vi.G,Ui=Vi.H,hu=0,oc=1,eh=0;for(Ft=0;5>Ft;++Ft){Yn=na[Ft],Po[Ft]=Do,Ui[Ft]=Ln,!Ft&&0<pn&&(Yn+=1<<pn);i:{var du,th=Yn,fu=Et,lc=bl,Kf=Do,Wf=Ln,mu=0,$s=fu.m,x0=X($s,1);if(s(lc,0,0,th),x0){var Qf=X($s,1)+1,Xf=X($s,1),ud=X($s,Xf==0?1:8);lc[ud]=1,Qf==2&&(lc[ud=X($s,8)]=1);var cc=1}else{var hd=o(19),dd=X($s,4)+4;if(19<dd){fu.a=3;var pu=0;break i}for(du=0;du<dd;++du)hd[Fs[du]]=X($s,3);var nh=void 0,uc=void 0,Jf=fu,Zf=hd,Ys=th,gu=lc,rh=0,za=Jf.m,hc=8,fd=c(128,k);r:for(;R(fd,0,7,Zf,19);){if(X(za,1)){var em=2+2*X(za,3);if((nh=2+X(za,em))>Ys)break r}else nh=Ys;for(uc=0;uc<Ys&&nh--;){ne(za);var md=fd[0+(127&Y(za))];ue(za,za.u+md.g);var xl=md.value;if(16>xl)gu[uc++]=xl,xl!=0&&(hc=xl);else{var tm=xl==16,pd=xl-16,gd=ba[pd],yd=X(za,Ku[pd])+gd;if(uc+yd>Ys)break r;for(var nm=tm?hc:0;0<yd--;)gu[uc++]=nm}}rh=1;break r}rh||(Jf.a=3),cc=rh}(cc=cc&&!$s.h)&&(mu=R(Kf,Wf,8,lc,th)),cc&&mu!=0?pu=mu:(fu.a=3,pu=0)}if(pu==0)break n;if(oc&&ml[Ft]==1&&(oc=Do[Ln].g==0),hu+=Do[Ln].g,Ln+=pu,3>=Ft){var wl,ih=bl[0];for(wl=1;wl<Yn;++wl)bl[wl]>ih&&(ih=bl[wl]);eh+=ih}}if(Vi.nd=oc,Vi.Qb=0,oc&&(Vi.qb=(Po[3][Ui[3]+0].value<<24|Po[1][Ui[1]+0].value<<16|Po[2][Ui[2]+0].value)>>>0,hu==0&&256>Po[0][Ui[0]+0].value&&(Vi.Qb=1,Vi.qb+=Po[0][Ui[0]+0].value<<8)),Vi.jc=!Vi.Qb&&6>eh,Vi.jc){var yu,Ks=Vi;for(yu=0;yu<kr;++yu){var gs=yu,Ws=Ks.pd[gs],vu=Ks.G[0][Ks.H[0]+gs];256<=vu.value?(Ws.g=vu.g+256,Ws.value=vu.value):(Ws.g=0,Ws.value=0,gs>>=Wn(vu,8,Ws),gs>>=Wn(Ks.G[1][Ks.H[1]+gs],16,Ws),gs>>=Wn(Ks.G[2][Ks.H[2]+gs],0,Ws),Wn(Ks.G[3][Ks.H[3]+gs],24,Ws))}}}hr.vc=dr,hr.Wb=xr,hr.Ya=Qn,hr.yc=uu,Rn=1;break t}Rn=0}if(!(H=Rn)){j.a=3;break e}if(0<Pe){if(ie.ua=1<<Pe,!$e(ie.Wa,Pe)){j.a=1,H=0;break e}}else ie.ua=0;var bu=j,vd=$,rm=K,bd=bu.s,xd=bd.xc;if(bu.c=vd,bu.i=rm,bd.md=st(vd,xd),bd.wc=xd==0?-1:(1<<xd)-1,S){j.xb=Hf;break e}if((be=o($*K))==null){j.a=1,H=0;break e}H=(H=gr(j,be,0,$,K,K,null))&&!Z.h;break e}return H?(z!=null?z[0]=be:(e(be==null),e(S)),j.$=0,S||Er(ie)):Er(ie),H}function Ta(m,v){var S=m.c*m.i,j=S+v+16*v;return e(m.c<=v),m.V=o(j),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+S+v,1)}function ka(m,v){var S=m.C,j=v-S,z=m.V,H=m.Ba+m.c*S;for(e(v<=m.l.o);0<j;){var $=16<j?16:j,K=m.l.ma,Z=m.l.width,ie=Z*$,be=K.ca,Pe=K.tb+Z*S,Ie=m.Ta,je=m.Ua;pr(m,$,z,H),Fn(Ie,je,be,Pe,ie),Vr(K,S,S+$,be,Pe,Z),j-=$,z+=$*m.c,S+=$}e(S==v),m.C=m.Ma=v}function ai(){this.ub=this.yd=this.td=this.Rb=0}function ji(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ts(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Jo(){this.Yb=function(){var m=[];return function v(S,j,z){for(var H=z[j],$=0;$<H&&(S.push(z.length>j+1?[]:0),!(z.length<j+1));$++)v(S[$],j+1,z)}(m,0,[3,11]),m}()}function ks(){this.jb=o(3),this.Wc=d([4,8],Jo),this.Xc=d([4,17],Jo)}function $l(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ji(){this.ld=this.La=this.dd=this.tc=0}function Zi(){this.Na=this.la=0}function Tr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ja(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Yl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ji),this.Y=0,this.ya=Array(new ja),this.aa=0,this.l=new Ra}function oa(){this.y=o(16),this.f=o(8),this.ea=o(8)}function lo(){this.cb=this.a=0,this.sc="",this.m=new Re,this.Od=new ai,this.Kc=new ji,this.ed=new $l,this.Qa=new Ts,this.Ic=this.$c=this.Aa=0,this.D=new Yl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,Re),this.ia=0,this.pb=c(4,Tr),this.Pa=new ks,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oa),this.Hd=0,this.rb=Array(new Zi),this.sb=0,this.wa=Array(new Ji),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ja),this.L=this.aa=0,this.gd=d([4,2],Ji),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ra(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Zo(){var m=new lo;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,jr||(jr=Kl)),m}function Bn(m,v,S){return m.a==0&&(m.a=v,m.sc=S,m.cb=0),0}function Ur(m,v,S){return 3<=S&&m[v+0]==157&&m[v+1]==1&&m[v+2]==42}function co(m,v){if(m==null)return 0;if(m.a=0,m.sc="OK",v==null)return Bn(m,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,j=v.w,z=v.ha;if(4>z)return Bn(m,7,"Truncated header.");var H=S[j+0]|S[j+1]<<8|S[j+2]<<16,$=m.Od;if($.Rb=!(1&H),$.td=H>>1&7,$.yd=H>>4&1,$.ub=H>>5,3<$.td)return Bn(m,3,"Incorrect keyframe parameters.");if(!$.yd)return Bn(m,4,"Frame not displayable.");j+=3,z-=3;var K=m.Kc;if($.Rb){if(7>z)return Bn(m,7,"cannot parse picture header");if(!Ur(S,j,z))return Bn(m,3,"Bad code word");K.c=16383&(S[j+4]<<8|S[j+3]),K.Td=S[j+4]>>6,K.i=16383&(S[j+6]<<8|S[j+5]),K.Ud=S[j+6]>>6,j+=7,z-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,v.width=K.c,v.height=K.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((H=m.Pa).jb,0,255,H.jb.length),e((H=m.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if($.ub>z)return Bn(m,7,"bad partition length");ve(H=m.m,S,j,$.ub),j+=$.ub,z-=$.ub,$.Rb&&(K.Ld=we(H),K.Kd=we(H)),K=m.Qa;var Z,ie=m.Pa;if(e(H!=null),e(K!=null),K.Cb=we(H),K.Cb){if(K.Bb=we(H),we(H)){for(K.Fb=we(H),Z=0;4>Z;++Z)K.Zb[Z]=we(H)?he(H,7):0;for(Z=0;4>Z;++Z)K.Lb[Z]=we(H)?he(H,6):0}if(K.Bb)for(Z=0;3>Z;++Z)ie.jb[Z]=we(H)?re(H,8):255}else K.Bb=0;if(H.Ka)return Bn(m,3,"cannot parse segment header");if((K=m.ed).zd=we(H),K.Tb=re(H,6),K.wb=re(H,3),K.Pc=we(H),K.Pc&&we(H)){for(ie=0;4>ie;++ie)we(H)&&(K.vd[ie]=he(H,6));for(ie=0;4>ie;++ie)we(H)&&(K.od[ie]=he(H,6))}if(m.L=K.Tb==0?0:K.zd?1:2,H.Ka)return Bn(m,3,"cannot parse filter header");var be=z;if(z=Z=j,j=Z+be,K=be,m.Xb=(1<<re(m.m,2))-1,be<3*(ie=m.Xb))S=7;else{for(Z+=3*ie,K-=3*ie,be=0;be<ie;++be){var Pe=S[z+0]|S[z+1]<<8|S[z+2]<<16;Pe>K&&(Pe=K),ve(m.Jc[+be],S,Z,Pe),Z+=Pe,K-=Pe,z+=3}ve(m.Jc[+ie],S,Z,K),S=Z<j?0:5}if(S!=0)return Bn(m,S,"cannot parse partitions");for(S=re(Z=m.m,7),z=we(Z)?he(Z,4):0,j=we(Z)?he(Z,4):0,K=we(Z)?he(Z,4):0,ie=we(Z)?he(Z,4):0,Z=we(Z)?he(Z,4):0,be=m.Qa,Pe=0;4>Pe;++Pe){if(be.Cb){var Ie=be.Zb[Pe];be.Fb||(Ie+=S)}else{if(0<Pe){m.pb[Pe]=m.pb[0];continue}Ie=S}var je=m.pb[Pe];je.Sc[0]=su[wn(Ie+z,127)],je.Sc[1]=ou[wn(Ie+0,127)],je.Eb[0]=2*su[wn(Ie+j,127)],je.Eb[1]=101581*ou[wn(Ie+K,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=su[wn(Ie+ie,117)],je.Qc[1]=ou[wn(Ie+Z,127)],je.lc=Ie+Z}if(!$.Rb)return Bn(m,4,"Not a key frame.");for(we(H),$=m.Pa,S=0;4>S;++S){for(z=0;8>z;++z)for(j=0;3>j;++j)for(K=0;11>K;++K)ie=Se(H,gl[S][z][j][K])?re(H,8):ds[S][z][j][K],$.Wc[S][z].Yb[j][K]=ie;for(z=0;17>z;++z)$.Xc[S][z]=$.Wc[S][qf[z]]}return m.kc=we(H),m.kc&&(m.Bd=re(H,8)),m.cb=1}function Kl(m,v,S,j,z,H,$){var K=v[z].Yb[S];for(S=0;16>z;++z){if(!Se(m,K[S+0]))return z;for(;!Se(m,K[S+1]);)if(K=v[++z].Yb[0],S=0,z==16)return 16;var Z=v[z+1].Yb;if(Se(m,K[S+2])){var ie=m,be=0;if(Se(ie,(Ie=K)[(Pe=S)+3]))if(Se(ie,Ie[Pe+6])){for(K=0,Pe=2*(be=Se(ie,Ie[Pe+8]))+(Ie=Se(ie,Ie[Pe+9+be])),be=0,Ie=ar[Pe];Ie[K];++K)be+=be+Se(ie,Ie[K]);be+=3+(8<<Pe)}else Se(ie,Ie[Pe+7])?(be=7+2*Se(ie,165),be+=Se(ie,145)):be=5+Se(ie,159);else be=Se(ie,Ie[Pe+4])?3+Se(ie,Ie[Pe+5]):2;K=Z[2]}else be=1,K=Z[1];Z=$+vn[z],0>(ie=m).b&&de(ie);var Pe,Ie=ie.b,je=(Pe=ie.Ca>>1)-(ie.I>>Ie)>>31;--ie.b,ie.Ca+=je,ie.Ca|=1,ie.I-=(Pe+1&je)<<Ie,H[Z]=((be^je)-je)*j[(0<z)+0]}return 16}function Xa(m){var v=m.rb[m.sb-1];v.la=0,v.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function el(m,v){if(m==null)return 0;if(v==null)return Bn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!co(m,v))return 0;if(e(m.cb),v.ac==null||v.ac(v)){v.ob&&(m.L=0);var S=Gs[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=v.v-S>>4,m.zb=v.j-S>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=v.o+15+S>>4,m.Hb=v.va+15+S>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var j=m.ed;for(S=0;4>S;++S){var z;if(m.Qa.Cb){var H=m.Qa.Lb[S];m.Qa.Fb||(H+=j.Tb)}else H=j.Tb;for(z=0;1>=z;++z){var $=m.gd[S][z],K=H;if(j.Pc&&(K+=j.vd[0],z&&(K+=j.od[0])),0<(K=0>K?0:63<K?63:K)){var Z=K;0<j.wb&&(Z=4<j.wb?Z>>2:Z>>1)>9-j.wb&&(Z=9-j.wb),1>Z&&(Z=1),$.dd=Z,$.tc=2*K+Z,$.ld=40<=K?2:15<=K?1:0}else $.tc=0;$.La=z}}}S=0}else Bn(m,6,"Frame setup failed"),S=m.a;if(S=S==0){if(S){m.$c=0,0<m.Aa||(m.Ic=$f);e:{S=m.Ic,j=4*(Z=m.za);var ie=32*Z,be=Z+1,Pe=0<m.L?Z*(0<m.Aa?2:1):0,Ie=(m.Aa==2?2:1)*Z;if(($=j+832+(z=3*(16*S+Gs[m.L])/2*ie)+(H=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=$)S=0;else{if($>m.Vb){if(m.Vb=0,m.Ec=o($),m.Fc=0,m.Ec==null){S=Bn(m,1,"no memory during frame initialization.");break e}m.Vb=$}$=m.Ec,K=m.Fc,m.Ac=$,m.Bc=K,K+=j,m.Gd=c(ie,oa),m.Hd=0,m.rb=c(be+1,Zi),m.sb=1,m.wa=Pe?c(Pe,Ji):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=Z),e(!0),m.oc=$,m.pc=K,K+=832,m.ya=c(Ie,ja),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=Z),m.R=16*Z,m.B=8*Z,Z=(ie=Gs[m.L])*m.R,ie=ie/2*m.B,m.sa=$,m.ta=K+Z,m.qa=m.sa,m.ra=m.ta+16*S*m.R+ie,m.Ha=m.qa,m.Ia=m.ra+8*S*m.B+ie,m.$c=0,K+=z,m.mb=H?$:null,m.nb=H?K:null,e(K+H<=m.Fc+m.Vb),Xa(m),s(m.Ac,m.Bc,0,j),S=1}}if(S){if(v.ka=0,v.y=m.sa,v.O=m.ta,v.f=m.qa,v.N=m.ra,v.ea=m.Ha,v.Vd=m.Ia,v.fa=m.R,v.Rc=m.B,v.F=null,v.J=0,!Vs){for(S=-255;255>=S;++S)ur[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)ya[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)Eo[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)To[255+S]=0>S?0:255<S?255:S;Vs=1}cs=Ri,Ua=Za,Ba=la,br=xn,Mi=es,rr=Ja,cl=is,us=Oa,tc=mo,_o=al,No=fo,Ao=Cs,ul=Is,nc=as,So=ea,Ms=li,hl=vr,ir=Xl,_i[0]=si,_i[1]=Wl,_i[2]=ha,_i[3]=Ql,_i[4]=Ci,_i[5]=da,_i[6]=xi,_i[7]=Ii,_i[8]=Pa,_i[9]=ts,qs[0]=ca,qs[1]=nl,qs[2]=Ia,qs[3]=ho,qs[4]=In,qs[5]=Da,qs[6]=ua,ra[0]=fa,ra[1]=tl,ra[2]=rl,ra[3]=Li,ra[4]=nn,ra[5]=yr,ra[6]=ns,S=1}else S=0}S&&(S=function(je,Ye){for(je.M=0;je.M<je.Va;++je.M){var Be,xe=je.Jc[je.M&je.Xb],Ae=je.m,ze=je;for(Be=0;Be<ze.za;++Be){var Ke=Ae,He=ze,ft=He.Ac,ot=He.Bc+4*Be,_t=He.zc,ut=He.ya[He.aa+Be];if(He.Qa.Bb?ut.$b=Se(Ke,He.Pa.jb[0])?2+Se(Ke,He.Pa.jb[2]):Se(Ke,He.Pa.jb[1]):ut.$b=0,He.kc&&(ut.Ad=Se(Ke,He.Bd)),ut.Za=!Se(Ke,145)+0,ut.Za){var mn=ut.Ob,_n=0;for(He=0;4>He;++He){var Xt,Kt=_t[0+He];for(Xt=0;4>Xt;++Xt){Kt=od[ft[ot+Xt]][Kt];for(var Rn=jo[Se(Ke,Kt[0])];0<Rn;)Rn=jo[2*Rn+Se(Ke,Kt[Rn])];Kt=-Rn,ft[ot+Xt]=Kt}i(mn,_n,ft,ot,4),_n+=4,_t[0+He]=Kt}}else Kt=Se(Ke,156)?Se(Ke,128)?1:3:Se(Ke,163)?2:0,ut.Ob[0]=Kt,s(ft,ot,Kt,4),s(_t,0,Kt,4);ut.Dd=Se(Ke,142)?Se(Ke,114)?Se(Ke,183)?1:3:2:0}if(ze.m.Ka)return Bn(je,7,"Premature end-of-partition0 encountered.");for(;je.ja<je.za;++je.ja){if(ze=xe,Ke=(Ae=je).rb[Ae.sb-1],ft=Ae.rb[Ae.sb+Ae.ja],Be=Ae.ya[Ae.aa+Ae.ja],ot=Ae.kc?Be.Ad:0)Ke.la=ft.la=0,Be.Za||(Ke.Na=ft.Na=0),Be.Hc=0,Be.Gc=0,Be.ia=0;else{var Nn,Ft;if(Ke=ft,ft=ze,ot=Ae.Pa.Xc,_t=Ae.ya[Ae.aa+Ae.ja],ut=Ae.pb[_t.$b],He=_t.ad,mn=0,_n=Ae.rb[Ae.sb-1],Kt=Xt=0,s(He,mn,0,384),_t.Za)var Ln=0,Et=ot[3];else{Rn=o(16);var Dt=Ke.Na+_n.Na;if(Dt=jr(ft,ot[1],Dt,ut.Eb,0,Rn,0),Ke.Na=_n.Na=(0<Dt)+0,1<Dt)cs(Rn,0,He,mn);else{var fn=Rn[0]+3>>3;for(Rn=0;256>Rn;Rn+=16)He[mn+Rn]=fn}Ln=1,Et=ot[0]}var pn=15&Ke.la,qr=15&_n.la;for(Rn=0;4>Rn;++Rn){var Ir=1&qr;for(fn=Ft=0;4>fn;++fn)pn=pn>>1|(Ir=(Dt=jr(ft,Et,Dt=Ir+(1&pn),ut.Sc,Ln,He,mn))>Ln)<<7,Ft=Ft<<2|(3<Dt?3:1<Dt?2:He[mn+0]!=0),mn+=16;pn>>=4,qr=qr>>1|Ir<<7,Xt=(Xt<<8|Ft)>>>0}for(Et=pn,Ln=qr>>4,Nn=0;4>Nn;Nn+=2){for(Ft=0,pn=Ke.la>>4+Nn,qr=_n.la>>4+Nn,Rn=0;2>Rn;++Rn){for(Ir=1&qr,fn=0;2>fn;++fn)Dt=Ir+(1&pn),pn=pn>>1|(Ir=0<(Dt=jr(ft,ot[2],Dt,ut.Qc,0,He,mn)))<<3,Ft=Ft<<2|(3<Dt?3:1<Dt?2:He[mn+0]!=0),mn+=16;pn>>=2,qr=qr>>1|Ir<<5}Kt|=Ft<<4*Nn,Et|=pn<<4<<Nn,Ln|=(240&qr)<<Nn}Ke.la=Et,_n.la=Ln,_t.Hc=Xt,_t.Gc=Kt,_t.ia=43690&Kt?0:ut.ia,ot=!(Xt|Kt)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[Be.$b][Be.Za],Ae.wa[Ae.Y+Ae.ja].La|=!ot),ze.Ka)return Bn(je,7,"Premature end-of-file encountered.")}if(Xa(je),Ae=Ye,ze=1,Be=(xe=je).D,Ke=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Be.M=xe.M,Be.uc=Ke,Di(xe,Be),ze=1,Be=(Ft=xe.D).Nb,Ke=(Kt=Gs[xe.L])*xe.R,ft=Kt/2*xe.B,Rn=16*Be*xe.R,fn=8*Be*xe.B,ot=xe.sa,_t=xe.ta-Ke+Rn,ut=xe.qa,He=xe.ra-ft+fn,mn=xe.Ha,_n=xe.Ia-ft+fn,qr=(pn=Ft.M)==0,Xt=pn>=xe.Va-1,xe.Aa==2&&Di(xe,Ft),Ft.uc)for(Ir=(Dt=xe).D.M,e(Dt.D.uc),Ft=Dt.yb;Ft<Dt.Hb;++Ft){Ln=Ft,Et=Ir;var hr=(dr=(Yn=Dt).D).Nb;Nn=Yn.R;var dr=dr.wa[dr.Y+Ln],xr=Yn.sa,xa=Yn.ta+16*hr*Nn+16*Ln,An=dr.dd,wr=dr.tc;if(wr!=0)if(e(3<=wr),Yn.L==1)0<Ln&&Ms(xr,xa,Nn,wr+4),dr.La&&ir(xr,xa,Nn,wr),0<Et&&So(xr,xa,Nn,wr+4),dr.La&&hl(xr,xa,Nn,wr);else{var Fa=Yn.B,Io=Yn.qa,vl=Yn.ra+8*hr*Fa+8*Ln,Lo=Yn.Ha,Yn=Yn.Ia+8*hr*Fa+8*Ln;hr=dr.ld,0<Ln&&(us(xr,xa,Nn,wr+4,An,hr),_o(Io,vl,Lo,Yn,Fa,wr+4,An,hr)),dr.La&&(Ao(xr,xa,Nn,wr,An,hr),nc(Io,vl,Lo,Yn,Fa,wr,An,hr)),0<Et&&(cl(xr,xa,Nn,wr+4,An,hr),tc(Io,vl,Lo,Yn,Fa,wr+4,An,hr)),dr.La&&(No(xr,xa,Nn,wr,An,hr),ul(Io,vl,Lo,Yn,Fa,wr,An,hr))}}if(xe.ia&&alert("todo:DitherRow"),Ae.put!=null){if(Ft=16*pn,pn=16*(pn+1),qr?(Ae.y=xe.sa,Ae.O=xe.ta+Rn,Ae.f=xe.qa,Ae.N=xe.ra+fn,Ae.ea=xe.Ha,Ae.W=xe.Ia+fn):(Ft-=Kt,Ae.y=ot,Ae.O=_t,Ae.f=ut,Ae.N=He,Ae.ea=mn,Ae.W=_n),Xt||(pn-=Kt),pn>Ae.o&&(pn=Ae.o),Ae.F=null,Ae.J=null,xe.Fa!=null&&0<xe.Fa.length&&Ft<pn&&(Ae.J=go(xe,Ae,Ft,pn-Ft),Ae.F=xe.mb,Ae.F==null&&Ae.F.length==0)){ze=Bn(xe,3,"Could not decode alpha data.");break e}Ft<Ae.j&&(Kt=Ae.j-Ft,Ft=Ae.j,e(!(1&Kt)),Ae.O+=xe.R*Kt,Ae.N+=xe.B*(Kt>>1),Ae.W+=xe.B*(Kt>>1),Ae.F!=null&&(Ae.J+=Ae.width*Kt)),Ft<pn&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=Ft-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=pn-Ft,ze=Ae.put(Ae))}Be+1!=xe.Ic||Xt||(i(xe.sa,xe.ta-Ke,ot,_t+16*xe.R,Ke),i(xe.qa,xe.ra-ft,ut,He+8*xe.B,ft),i(xe.Ha,xe.Ia-ft,mn,_n+8*xe.B,ft))}if(!ze)return Bn(je,6,"Output aborted.")}return 1}(m,v)),v.bc!=null&&v.bc(v),S&=1}return S?(m.cb=0,S):0}function Xr(m,v,S,j,z){z=m[v+S+32*j]+(z>>3),m[v+S+32*j]=-256&z?0>z?0:255:z}function uo(m,v,S,j,z,H){Xr(m,v,0,S,j+z),Xr(m,v,1,S,j+H),Xr(m,v,2,S,j-H),Xr(m,v,3,S,j-z)}function dn(m){return(20091*m>>16)+m}function Jr(m,v,S,j){var z,H=0,$=o(16);for(z=0;4>z;++z){var K=m[v+0]+m[v+8],Z=m[v+0]-m[v+8],ie=(35468*m[v+4]>>16)-dn(m[v+12]),be=dn(m[v+4])+(35468*m[v+12]>>16);$[H+0]=K+be,$[H+1]=Z+ie,$[H+2]=Z-ie,$[H+3]=K-be,H+=4,v++}for(z=H=0;4>z;++z)K=(m=$[H+0]+4)+$[H+8],Z=m-$[H+8],ie=(35468*$[H+4]>>16)-dn($[H+12]),Xr(S,j,0,0,K+(be=dn($[H+4])+(35468*$[H+12]>>16))),Xr(S,j,1,0,Z+ie),Xr(S,j,2,0,Z-ie),Xr(S,j,3,0,K-be),H++,j+=32}function Ja(m,v,S,j){var z=m[v+0]+4,H=35468*m[v+4]>>16,$=dn(m[v+4]),K=35468*m[v+1]>>16;uo(S,j,0,z+$,m=dn(m[v+1]),K),uo(S,j,1,z+H,m,K),uo(S,j,2,z-H,m,K),uo(S,j,3,z-$,m,K)}function Za(m,v,S,j,z){Jr(m,v,S,j),z&&Jr(m,v+16,S,j+4)}function la(m,v,S,j){Ua(m,v+0,S,j,1),Ua(m,v+32,S,j+128,1)}function xn(m,v,S,j){var z;for(m=m[v+0]+4,z=0;4>z;++z)for(v=0;4>v;++v)Xr(S,j,v,z,m)}function es(m,v,S,j){m[v+0]&&br(m,v+0,S,j),m[v+16]&&br(m,v+16,S,j+4),m[v+32]&&br(m,v+32,S,j+128),m[v+48]&&br(m,v+48,S,j+128+4)}function Ri(m,v,S,j){var z,H=o(16);for(z=0;4>z;++z){var $=m[v+0+z]+m[v+12+z],K=m[v+4+z]+m[v+8+z],Z=m[v+4+z]-m[v+8+z],ie=m[v+0+z]-m[v+12+z];H[0+z]=$+K,H[8+z]=$-K,H[4+z]=ie+Z,H[12+z]=ie-Z}for(z=0;4>z;++z)$=(m=H[0+4*z]+3)+H[3+4*z],K=H[1+4*z]+H[2+4*z],Z=H[1+4*z]-H[2+4*z],ie=m-H[3+4*z],S[j+0]=$+K>>3,S[j+16]=ie+Z>>3,S[j+32]=$-K>>3,S[j+48]=ie-Z>>3,j+=64}function Ca(m,v,S){var j,z=v-32,H=Fr,$=255-m[z-1];for(j=0;j<S;++j){var K,Z=H,ie=$+m[v-1];for(K=0;K<S;++K)m[v+K]=Z[ie+m[z+K]];v+=32}}function Wl(m,v){Ca(m,v,4)}function tl(m,v){Ca(m,v,8)}function nl(m,v){Ca(m,v,16)}function Ia(m,v){var S;for(S=0;16>S;++S)i(m,v+32*S,m,v-32,16)}function ho(m,v){var S;for(S=16;0<S;--S)s(m,v,m[v-1],16),v+=32}function La(m,v,S){var j;for(j=0;16>j;++j)s(v,S+32*j,m,16)}function ca(m,v){var S,j=16;for(S=0;16>S;++S)j+=m[v-1+32*S]+m[v+S-32];La(j>>5,m,v)}function In(m,v){var S,j=8;for(S=0;16>S;++S)j+=m[v-1+32*S];La(j>>4,m,v)}function Da(m,v){var S,j=8;for(S=0;16>S;++S)j+=m[v+S-32];La(j>>4,m,v)}function ua(m,v){La(128,m,v)}function kt(m,v,S){return m+2*v+S+2>>2}function ha(m,v){var S,j=v-32;for(j=new Uint8Array([kt(m[j-1],m[j+0],m[j+1]),kt(m[j+0],m[j+1],m[j+2]),kt(m[j+1],m[j+2],m[j+3]),kt(m[j+2],m[j+3],m[j+4])]),S=0;4>S;++S)i(m,v+32*S,j,0,j.length)}function Ql(m,v){var S=m[v-1],j=m[v-1+32],z=m[v-1+64],H=m[v-1+96];nt(m,v+0,16843009*kt(m[v-1-32],S,j)),nt(m,v+32,16843009*kt(S,j,z)),nt(m,v+64,16843009*kt(j,z,H)),nt(m,v+96,16843009*kt(z,H,H))}function si(m,v){var S,j=4;for(S=0;4>S;++S)j+=m[v+S-32]+m[v-1+32*S];for(j>>=3,S=0;4>S;++S)s(m,v+32*S,j,4)}function Ci(m,v){var S=m[v-1+0],j=m[v-1+32],z=m[v-1+64],H=m[v-1-32],$=m[v+0-32],K=m[v+1-32],Z=m[v+2-32],ie=m[v+3-32];m[v+0+96]=kt(j,z,m[v-1+96]),m[v+1+96]=m[v+0+64]=kt(S,j,z),m[v+2+96]=m[v+1+64]=m[v+0+32]=kt(H,S,j),m[v+3+96]=m[v+2+64]=m[v+1+32]=m[v+0+0]=kt($,H,S),m[v+3+64]=m[v+2+32]=m[v+1+0]=kt(K,$,H),m[v+3+32]=m[v+2+0]=kt(Z,K,$),m[v+3+0]=kt(ie,Z,K)}function xi(m,v){var S=m[v+1-32],j=m[v+2-32],z=m[v+3-32],H=m[v+4-32],$=m[v+5-32],K=m[v+6-32],Z=m[v+7-32];m[v+0+0]=kt(m[v+0-32],S,j),m[v+1+0]=m[v+0+32]=kt(S,j,z),m[v+2+0]=m[v+1+32]=m[v+0+64]=kt(j,z,H),m[v+3+0]=m[v+2+32]=m[v+1+64]=m[v+0+96]=kt(z,H,$),m[v+3+32]=m[v+2+64]=m[v+1+96]=kt(H,$,K),m[v+3+64]=m[v+2+96]=kt($,K,Z),m[v+3+96]=kt(K,Z,Z)}function da(m,v){var S=m[v-1+0],j=m[v-1+32],z=m[v-1+64],H=m[v-1-32],$=m[v+0-32],K=m[v+1-32],Z=m[v+2-32],ie=m[v+3-32];m[v+0+0]=m[v+1+64]=H+$+1>>1,m[v+1+0]=m[v+2+64]=$+K+1>>1,m[v+2+0]=m[v+3+64]=K+Z+1>>1,m[v+3+0]=Z+ie+1>>1,m[v+0+96]=kt(z,j,S),m[v+0+64]=kt(j,S,H),m[v+0+32]=m[v+1+96]=kt(S,H,$),m[v+1+32]=m[v+2+96]=kt(H,$,K),m[v+2+32]=m[v+3+96]=kt($,K,Z),m[v+3+32]=kt(K,Z,ie)}function Ii(m,v){var S=m[v+0-32],j=m[v+1-32],z=m[v+2-32],H=m[v+3-32],$=m[v+4-32],K=m[v+5-32],Z=m[v+6-32],ie=m[v+7-32];m[v+0+0]=S+j+1>>1,m[v+1+0]=m[v+0+64]=j+z+1>>1,m[v+2+0]=m[v+1+64]=z+H+1>>1,m[v+3+0]=m[v+2+64]=H+$+1>>1,m[v+0+32]=kt(S,j,z),m[v+1+32]=m[v+0+96]=kt(j,z,H),m[v+2+32]=m[v+1+96]=kt(z,H,$),m[v+3+32]=m[v+2+96]=kt(H,$,K),m[v+3+64]=kt($,K,Z),m[v+3+96]=kt(K,Z,ie)}function ts(m,v){var S=m[v-1+0],j=m[v-1+32],z=m[v-1+64],H=m[v-1+96];m[v+0+0]=S+j+1>>1,m[v+2+0]=m[v+0+32]=j+z+1>>1,m[v+2+32]=m[v+0+64]=z+H+1>>1,m[v+1+0]=kt(S,j,z),m[v+3+0]=m[v+1+32]=kt(j,z,H),m[v+3+32]=m[v+1+64]=kt(z,H,H),m[v+3+64]=m[v+2+64]=m[v+0+96]=m[v+1+96]=m[v+2+96]=m[v+3+96]=H}function Pa(m,v){var S=m[v-1+0],j=m[v-1+32],z=m[v-1+64],H=m[v-1+96],$=m[v-1-32],K=m[v+0-32],Z=m[v+1-32],ie=m[v+2-32];m[v+0+0]=m[v+2+32]=S+$+1>>1,m[v+0+32]=m[v+2+64]=j+S+1>>1,m[v+0+64]=m[v+2+96]=z+j+1>>1,m[v+0+96]=H+z+1>>1,m[v+3+0]=kt(K,Z,ie),m[v+2+0]=kt($,K,Z),m[v+1+0]=m[v+3+32]=kt(S,$,K),m[v+1+32]=m[v+3+64]=kt(j,S,$),m[v+1+64]=m[v+3+96]=kt(z,j,S),m[v+1+96]=kt(H,z,j)}function rl(m,v){var S;for(S=0;8>S;++S)i(m,v+32*S,m,v-32,8)}function Li(m,v){var S;for(S=0;8>S;++S)s(m,v,m[v-1],8),v+=32}function oi(m,v,S){var j;for(j=0;8>j;++j)s(v,S+32*j,m,8)}function fa(m,v){var S,j=8;for(S=0;8>S;++S)j+=m[v+S-32]+m[v-1+32*S];oi(j>>4,m,v)}function yr(m,v){var S,j=4;for(S=0;8>S;++S)j+=m[v+S-32];oi(j>>3,m,v)}function nn(m,v){var S,j=4;for(S=0;8>S;++S)j+=m[v-1+32*S];oi(j>>3,m,v)}function ns(m,v){oi(128,m,v)}function ma(m,v,S){var j=m[v-S],z=m[v+0],H=3*(z-j)+$u[1020+m[v-2*S]-m[v+S]],$=dl[112+(H+4>>3)];m[v-S]=Fr[255+j+dl[112+(H+3>>3)]],m[v+0]=Fr[255+z-$]}function il(m,v,S,j){var z=m[v+0],H=m[v+S];return va[255+m[v-2*S]-m[v-S]]>j||va[255+H-z]>j}function js(m,v,S,j){return 4*va[255+m[v-S]-m[v+0]]+va[255+m[v-2*S]-m[v+S]]<=j}function Rs(m,v,S,j,z){var H=m[v-3*S],$=m[v-2*S],K=m[v-S],Z=m[v+0],ie=m[v+S],be=m[v+2*S],Pe=m[v+3*S];return 4*va[255+K-Z]+va[255+$-ie]>j?0:va[255+m[v-4*S]-H]<=z&&va[255+H-$]<=z&&va[255+$-K]<=z&&va[255+Pe-be]<=z&&va[255+be-ie]<=z&&va[255+ie-Z]<=z}function ea(m,v,S,j){var z=2*j+1;for(j=0;16>j;++j)js(m,v+j,S,z)&&ma(m,v+j,S)}function li(m,v,S,j){var z=2*j+1;for(j=0;16>j;++j)js(m,v+j*S,1,z)&&ma(m,v+j*S,1)}function vr(m,v,S,j){var z;for(z=3;0<z;--z)ea(m,v+=4*S,S,j)}function Xl(m,v,S,j){var z;for(z=3;0<z;--z)li(m,v+=4,S,j)}function rs(m,v,S,j,z,H,$,K){for(H=2*H+1;0<z--;){if(Rs(m,v,S,H,$))if(il(m,v,S,K))ma(m,v,S);else{var Z=m,ie=v,be=S,Pe=Z[ie-2*be],Ie=Z[ie-be],je=Z[ie+0],Ye=Z[ie+be],Be=Z[ie+2*be],xe=27*(ze=$u[1020+3*(je-Ie)+$u[1020+Pe-Ye]])+63>>7,Ae=18*ze+63>>7,ze=9*ze+63>>7;Z[ie-3*be]=Fr[255+Z[ie-3*be]+ze],Z[ie-2*be]=Fr[255+Pe+Ae],Z[ie-be]=Fr[255+Ie+xe],Z[ie+0]=Fr[255+je-xe],Z[ie+be]=Fr[255+Ye-Ae],Z[ie+2*be]=Fr[255+Be-ze]}v+=j}}function Zr(m,v,S,j,z,H,$,K){for(H=2*H+1;0<z--;){if(Rs(m,v,S,H,$))if(il(m,v,S,K))ma(m,v,S);else{var Z=m,ie=v,be=S,Pe=Z[ie-be],Ie=Z[ie+0],je=Z[ie+be],Ye=dl[112+((Be=3*(Ie-Pe))+4>>3)],Be=dl[112+(Be+3>>3)],xe=Ye+1>>1;Z[ie-2*be]=Fr[255+Z[ie-2*be]+xe],Z[ie-be]=Fr[255+Pe+Be],Z[ie+0]=Fr[255+Ie-Ye],Z[ie+be]=Fr[255+je-xe]}v+=j}}function is(m,v,S,j,z,H){rs(m,v,S,1,16,j,z,H)}function Oa(m,v,S,j,z,H){rs(m,v,1,S,16,j,z,H)}function fo(m,v,S,j,z,H){var $;for($=3;0<$;--$)Zr(m,v+=4*S,S,1,16,j,z,H)}function Cs(m,v,S,j,z,H){var $;for($=3;0<$;--$)Zr(m,v+=4,1,S,16,j,z,H)}function mo(m,v,S,j,z,H,$,K){rs(m,v,z,1,8,H,$,K),rs(S,j,z,1,8,H,$,K)}function al(m,v,S,j,z,H,$,K){rs(m,v,1,z,8,H,$,K),rs(S,j,1,z,8,H,$,K)}function Is(m,v,S,j,z,H,$,K){Zr(m,v+4*z,z,1,8,H,$,K),Zr(S,j+4*z,z,1,8,H,$,K)}function as(m,v,S,j,z,H,$,K){Zr(m,v+4,1,z,8,H,$,K),Zr(S,j+4,1,z,8,H,$,K)}function Ls(){this.ba=new Ar,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function po(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ds(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ss(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new k}function Jl(){this.xb=this.a=0,this.l=new Ra,this.ca=new Ar,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ss,this.ab=0,this.gc=c(4,Ds),this.Oc=0}function Ma(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ra,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function os(m,v,S,j,z,H,$){for(m=m==null?0:m[v+0],v=0;v<$;++v)z[H+v]=m+S[j+v]&255,m=z[H+v]}function Ps(m,v,S,j,z,H,$){var K;if(m==null)os(null,null,S,j,z,H,$);else for(K=0;K<$;++K)z[H+K]=m[v+K]+S[j+K]&255}function ci(m,v,S,j,z,H,$){if(m==null)os(null,null,S,j,z,H,$);else{var K,Z=m[v+0],ie=Z,be=Z;for(K=0;K<$;++K)ie=be+(Z=m[v+K])-ie,be=S[j+K]+(-256&ie?0>ie?0:255:ie)&255,ie=Z,z[H+K]=be}}function go(m,v,S,j){var z=v.width,H=v.o;if(e(m!=null&&v!=null),0>S||0>=j||S+j>H)return null;if(!m.Cc){if(m.ga==null){var $;if(m.ga=new Ma,($=m.ga==null)||($=v.width*v.o,e(m.Gb.length==0),m.Gb=o($),m.Uc=0,m.Gb==null?$=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,$=1),$=!$),!$){$=m.ga;var K=m.Fa,Z=m.P,ie=m.qc,be=m.mb,Pe=m.nb,Ie=Z+1,je=ie-1,Ye=$.l;if(e(K!=null&&be!=null&&v!=null),fs[0]=null,fs[1]=os,fs[2]=Ps,fs[3]=ci,$.ca=be,$.tb=Pe,$.c=v.width,$.i=v.height,e(0<$.c&&0<$.i),1>=ie)v=0;else if($.$a=K[Z+0]>>0&3,$.Z=K[Z+0]>>2&3,$.Lc=K[Z+0]>>4&3,Z=K[Z+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||Z)v=0;else if(Ye.put=Qr,Ye.ac=tr,Ye.bc=Xi,Ye.ma=$,Ye.width=v.width,Ye.height=v.height,Ye.Da=v.Da,Ye.v=v.v,Ye.va=v.va,Ye.j=v.j,Ye.o=v.o,$.$a)e:{e($.$a==1),v=Un();t:for(;;){if(v==null){v=0;break e}if(e($!=null),$.mc=v,v.c=$.c,v.i=$.i,v.l=$.l,v.l.ma=$,v.l.width=$.c,v.l.height=$.i,v.a=0,oe(v.m,K,Ie,je),!bn($.c,$.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&bi(v.s)?($.ic=1,K=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(K),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):($.ic=0,v=Ta(v,$.c)),!v))break t;v=1;break e}$.mc=null,v=0}else v=je>=$.c*$.i;$=!v}if($)return null;m.ga.Lc!=1?m.Ga=0:j=H-S}e(m.ga!=null),e(S+j<=H);e:{if(v=(K=m.ga).c,H=K.l.o,K.$a==0){if(Ie=m.rc,je=m.Vc,Ye=m.Fa,Z=m.P+1+S*v,ie=m.mb,be=m.nb+S*v,e(Z<=m.P+m.qc),K.Z!=0)for(e(fs[K.Z]!=null),$=0;$<j;++$)fs[K.Z](Ie,je,Ye,Z,ie,be,v),Ie=ie,je=be,be+=v,Z+=v;else for($=0;$<j;++$)i(ie,be,Ye,Z,v),Ie=ie,je=be,be+=v,Z+=v;m.rc=Ie,m.Vc=je}else{if(e(K.mc!=null),v=S+j,e(($=K.mc)!=null),e(v<=$.i),$.C>=v)v=1;else if(K.ic||ke(),K.ic){K=$.V,Ie=$.Ba,je=$.c;var Be=$.i,xe=(Ye=1,Z=$.$/je,ie=$.$%je,be=$.m,Pe=$.s,$.$),Ae=je*Be,ze=je*v,Ke=Pe.wc,He=xe<ze?nr(Pe,ie,Z):null;e(xe<=Ae),e(v<=Be),e(bi(Pe));t:for(;;){for(;!be.h&&xe<ze;){if(ie&Ke||(He=nr(Pe,ie,Z)),e(He!=null),ne(be),256>(Be=Hn(He.G[0],He.H[0],be)))K[Ie+xe]=Be,++xe,++ie>=je&&(ie=0,++Z<=v&&!(Z%16)&&Sr($,Z));else{if(!(280>Be)){Ye=0;break t}Be=Tn(Be-256,be);var ft,ot=Hn(He.G[4],He.H[4],be);if(ne(be),!(xe>=(ot=kn(je,ot=Tn(ot,be)))&&Ae-xe>=Be)){Ye=0;break t}for(ft=0;ft<Be;++ft)K[Ie+xe+ft]=K[Ie+xe+ft-ot];for(xe+=Be,ie+=Be;ie>=je;)ie-=je,++Z<=v&&!(Z%16)&&Sr($,Z);xe<ze&&ie&Ke&&(He=nr(Pe,ie,Z))}e(be.h==te(be))}Sr($,Z>v?v:Z);break t}!Ye||be.h&&xe<Ae?(Ye=0,$.a=be.h?5:3):$.$=xe,v=Ye}else v=gr($,$.V,$.Ba,$.c,$.i,v,ka);if(!v){j=0;break e}}S+j>=H&&(m.Cc=1),j=1}if(!j)return null;if(m.Cc&&((j=m.ga)!=null&&(j.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+S*z}function w(m,v,S,j,z,H){for(;0<z--;){var $,K=m,Z=v+(S?1:0),ie=m,be=v+(S?0:3);for($=0;$<j;++$){var Pe=ie[be+4*$];Pe!=255&&(Pe*=32897,K[Z+4*$+0]=K[Z+4*$+0]*Pe>>23,K[Z+4*$+1]=K[Z+4*$+1]*Pe>>23,K[Z+4*$+2]=K[Z+4*$+2]*Pe>>23)}v+=H}}function q(m,v,S,j,z){for(;0<j--;){var H;for(H=0;H<S;++H){var $=m[v+2*H+0],K=15&(ie=m[v+2*H+1]),Z=4369*K,ie=(240&ie|ie>>4)*Z>>16;m[v+2*H+0]=(240&$|$>>4)*Z>>16&240|(15&$|$<<4)*Z>>16>>4&15,m[v+2*H+1]=240&ie|K}v+=z}}function ce(m,v,S,j,z,H,$,K){var Z,ie,be=255;for(ie=0;ie<z;++ie){for(Z=0;Z<j;++Z){var Pe=m[v+Z];H[$+4*Z]=Pe,be&=Pe}v+=S,$+=K}return be!=255}function ye(m,v,S,j,z){var H;for(H=0;H<z;++H)S[j+H]=m[v+H]>>8}function ke(){ta=w,Zt=q,en=ce,Fn=ye}function Fe(m,v,S){T[m]=function(j,z,H,$,K,Z,ie,be,Pe,Ie,je,Ye,Be,xe,Ae,ze,Ke){var He,ft=Ke-1>>1,ot=K[Z+0]|ie[be+0]<<16,_t=Pe[Ie+0]|je[Ye+0]<<16;e(j!=null);var ut=3*ot+_t+131074>>2;for(v(j[z+0],255&ut,ut>>16,Be,xe),H!=null&&(ut=3*_t+ot+131074>>2,v(H[$+0],255&ut,ut>>16,Ae,ze)),He=1;He<=ft;++He){var mn=K[Z+He]|ie[be+He]<<16,_n=Pe[Ie+He]|je[Ye+He]<<16,Xt=ot+mn+_t+_n+524296,Kt=Xt+2*(mn+_t)>>3;ut=Kt+ot>>1,ot=(Xt=Xt+2*(ot+_n)>>3)+mn>>1,v(j[z+2*He-1],255&ut,ut>>16,Be,xe+(2*He-1)*S),v(j[z+2*He-0],255&ot,ot>>16,Be,xe+(2*He-0)*S),H!=null&&(ut=Xt+_t>>1,ot=Kt+_n>>1,v(H[$+2*He-1],255&ut,ut>>16,Ae,ze+(2*He-1)*S),v(H[$+2*He+0],255&ot,ot>>16,Ae,ze+(2*He+0)*S)),ot=mn,_t=_n}1&Ke||(ut=3*ot+_t+131074>>2,v(j[z+Ke-1],255&ut,ut>>16,Be,xe+(Ke-1)*S),H!=null&&(ut=3*_t+ot+131074>>2,v(H[$+Ke-1],255&ut,ut>>16,Ae,ze+(Ke-1)*S)))}}function et(){zr[ui]=Hs,zr[rc]=ms,zr[hs]=Ro,zr[iu]=Wu,zr[fl]=Qu,zr[Us]=sc,zr[Yu]=Xu,zr[au]=ms,zr[ko]=Wu,zr[Bs]=Qu,zr[ic]=sc}function ct(m){return m&-16384?0>m?0:255:m>>y0}function p(m,v){return ct((19077*m>>8)+(26149*v>>8)-14234)}function E(m,v,S){return ct((19077*m>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function L(m,v){return ct((19077*m>>8)+(33050*v>>8)-17685)}function W(m,v,S,j,z){j[z+0]=p(m,S),j[z+1]=E(m,v,S),j[z+2]=L(m,v)}function Te(m,v,S,j,z){j[z+0]=L(m,v),j[z+1]=E(m,v,S),j[z+2]=p(m,S)}function Oe(m,v,S,j,z){var H=E(m,v,S);v=H<<3&224|L(m,v)>>3,j[z+0]=248&p(m,S)|H>>5,j[z+1]=v}function tt(m,v,S,j,z){var H=240&L(m,v)|15;j[z+0]=240&p(m,S)|E(m,v,S)>>4,j[z+1]=H}function jt(m,v,S,j,z){j[z+0]=255,W(m,v,S,j,z+1)}function rn(m,v,S,j,z){Te(m,v,S,j,z),j[z+3]=255}function Bt(m,v,S,j,z){W(m,v,S,j,z),j[z+3]=255}function wn(m,v){return 0>m?0:m>v?v:m}function jn(m,v,S){T[m]=function(j,z,H,$,K,Z,ie,be,Pe){for(var Ie=be+(-2&Pe)*S;be!=Ie;)v(j[z+0],H[$+0],K[Z+0],ie,be),v(j[z+1],H[$+0],K[Z+0],ie,be+S),z+=2,++$,++Z,be+=2*S;1&Pe&&v(j[z+0],H[$+0],K[Z+0],ie,be)}}function pa(m,v,S){return S==0?m==0?v==0?6:5:v==0?4:0:S}function cr(m,v,S,j,z){switch(m>>>30){case 3:Ua(v,S,j,z,0);break;case 2:rr(v,S,j,z);break;case 1:br(v,S,j,z)}}function Di(m,v){var S,j,z=v.M,H=v.Nb,$=m.oc,K=m.pc+40,Z=m.oc,ie=m.pc+584,be=m.oc,Pe=m.pc+600;for(S=0;16>S;++S)$[K+32*S-1]=129;for(S=0;8>S;++S)Z[ie+32*S-1]=129,be[Pe+32*S-1]=129;for(0<z?$[K-1-32]=Z[ie-1-32]=be[Pe-1-32]=129:(s($,K-32-1,127,21),s(Z,ie-32-1,127,9),s(be,Pe-32-1,127,9)),j=0;j<m.za;++j){var Ie=v.ya[v.aa+j];if(0<j){for(S=-1;16>S;++S)i($,K+32*S-4,$,K+32*S+12,4);for(S=-1;8>S;++S)i(Z,ie+32*S-4,Z,ie+32*S+4,4),i(be,Pe+32*S-4,be,Pe+32*S+4,4)}var je=m.Gd,Ye=m.Hd+j,Be=Ie.ad,xe=Ie.Hc;if(0<z&&(i($,K-32,je[Ye].y,0,16),i(Z,ie-32,je[Ye].f,0,8),i(be,Pe-32,je[Ye].ea,0,8)),Ie.Za){var Ae=$,ze=K-32+16;for(0<z&&(j>=m.za-1?s(Ae,ze,je[Ye].y[15],4):i(Ae,ze,je[Ye+1].y,0,4)),S=0;4>S;S++)Ae[ze+128+S]=Ae[ze+256+S]=Ae[ze+384+S]=Ae[ze+0+S];for(S=0;16>S;++S,xe<<=2)Ae=$,ze=K+yl[S],_i[Ie.Ob[S]](Ae,ze),cr(xe,Be,16*+S,Ae,ze)}else if(Ae=pa(j,z,Ie.Ob[0]),qs[Ae]($,K),xe!=0)for(S=0;16>S;++S,xe<<=2)cr(xe,Be,16*+S,$,K+yl[S]);for(S=Ie.Gc,Ae=pa(j,z,Ie.Dd),ra[Ae](Z,ie),ra[Ae](be,Pe),xe=Be,Ae=Z,ze=ie,255&(Ie=S>>0)&&(170&Ie?Ba(xe,256,Ae,ze):Mi(xe,256,Ae,ze)),Ie=be,xe=Pe,255&(S>>=8)&&(170&S?Ba(Be,320,Ie,xe):Mi(Be,320,Ie,xe)),z<m.Ub-1&&(i(je[Ye].y,0,$,K+480,16),i(je[Ye].f,0,Z,ie+224,8),i(je[Ye].ea,0,be,Pe+224,8)),S=8*H*m.B,je=m.sa,Ye=m.ta+16*j+16*H*m.R,Be=m.qa,Ie=m.ra+8*j+S,xe=m.Ha,Ae=m.Ia+8*j+S,S=0;16>S;++S)i(je,Ye+S*m.R,$,K+32*S,16);for(S=0;8>S;++S)i(Be,Ie+S*m.B,Z,ie+32*S,8),i(xe,Ae+S*m.B,be,Pe+32*S,8)}}function ls(m,v,S,j,z,H,$,K,Z){var ie=[0],be=[0],Pe=0,Ie=Z!=null?Z.kd:0,je=Z??new po;if(m==null||12>S)return 7;je.data=m,je.w=v,je.ha=S,v=[v],S=[S],je.gb=[je.gb];e:{var Ye=v,Be=S,xe=je.gb;if(e(m!=null),e(Be!=null),e(xe!=null),xe[0]=0,12<=Be[0]&&!t(m,Ye[0],"RIFF")){if(t(m,Ye[0]+8,"WEBP")){xe=3;break e}var Ae=ge(m,Ye[0]+4);if(12>Ae||4294967286<Ae){xe=3;break e}if(Ie&&Ae>Be[0]-8){xe=7;break e}xe[0]=Ae,Ye[0]+=12,Be[0]-=12}xe=0}if(xe!=0)return xe;for(Ae=0<je.gb[0],S=S[0];;){e:{var ze=m;Be=v,xe=S;var Ke=ie,He=be,ft=Ye=[0];if((ut=Pe=[Pe])[0]=0,8>xe[0])xe=7;else{if(!t(ze,Be[0],"VP8X")){if(ge(ze,Be[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var ot=ge(ze,Be[0]+8),_t=1+Ee(ze,Be[0]+12);if(2147483648<=_t*(ze=1+Ee(ze,Be[0]+15))){xe=3;break e}ft!=null&&(ft[0]=ot),Ke!=null&&(Ke[0]=_t),He!=null&&(He[0]=ze),Be[0]+=18,xe[0]-=18,ut[0]=1}xe=0}}if(Pe=Pe[0],Ye=Ye[0],xe!=0)return xe;if(Be=!!(2&Ye),!Ae&&Pe)return 3;if(H!=null&&(H[0]=!!(16&Ye)),$!=null&&($[0]=Be),K!=null&&(K[0]=0),$=ie[0],Ye=be[0],Pe&&Be&&Z==null){xe=0;break}if(4>S){xe=7;break}if(Ae&&Pe||!Ae&&!Pe&&!t(m,v[0],"ALPH")){S=[S],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{ot=m,xe=v,Ae=S;var ut=je.gb;Ke=je.na,He=je.P,ft=je.Sa,_t=22,e(ot!=null),e(Ae!=null),ze=xe[0];var mn=Ae[0];for(e(Ke!=null),e(ft!=null),Ke[0]=null,He[0]=null,ft[0]=0;;){if(xe[0]=ze,Ae[0]=mn,8>mn){xe=7;break e}var _n=ge(ot,ze+4);if(4294967286<_n){xe=3;break e}var Xt=8+_n+1&-2;if(_t+=Xt,0<ut&&_t>ut){xe=3;break e}if(!t(ot,ze,"VP8 ")||!t(ot,ze,"VP8L")){xe=0;break e}if(mn[0]<Xt){xe=7;break e}t(ot,ze,"ALPH")||(Ke[0]=ot,He[0]=ze+8,ft[0]=_n),ze+=Xt,mn-=Xt}}if(S=S[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],xe!=0)break}S=[S],je.Ja=[je.Ja],je.xa=[je.xa];e:if(ut=m,xe=v,Ae=S,Ke=je.gb[0],He=je.Ja,ft=je.xa,ot=xe[0],ze=!t(ut,ot,"VP8 "),_t=!t(ut,ot,"VP8L"),e(ut!=null),e(Ae!=null),e(He!=null),e(ft!=null),8>Ae[0])xe=7;else{if(ze||_t){if(ut=ge(ut,ot+4),12<=Ke&&ut>Ke-12){xe=3;break e}if(Ie&&ut>Ae[0]-8){xe=7;break e}He[0]=ut,xe[0]+=8,Ae[0]-=8,ft[0]=_t}else ft[0]=5<=Ae[0]&&ut[ot+0]==47&&!(ut[ot+4]>>5),He[0]=Ae[0];xe=0}if(S=S[0],je.Ja=je.Ja[0],je.xa=je.xa[0],v=v[0],xe!=0)break;if(4294967286<je.Ja)return 3;if(K==null||Be||(K[0]=je.xa?2:1),$=[$],Ye=[Ye],je.xa){if(5>S){xe=7;break}K=$,Ie=Ye,Be=H,m==null||5>S?m=0:5<=S&&m[v+0]==47&&!(m[v+4]>>5)?(Ae=[0],ut=[0],Ke=[0],oe(He=new B,m,v,S),dt(He,Ae,ut,Ke)?(K!=null&&(K[0]=Ae[0]),Ie!=null&&(Ie[0]=ut[0]),Be!=null&&(Be[0]=Ke[0]),m=1):m=0):m=0}else{if(10>S){xe=7;break}K=Ye,m==null||10>S||!Ur(m,v+3,S-3)?m=0:(Ie=m[v+0]|m[v+1]<<8|m[v+2]<<16,Be=16383&(m[v+7]<<8|m[v+6]),m=16383&(m[v+9]<<8|m[v+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=je.Ja||!Be||!m?m=0:($&&($[0]=Be),K&&(K[0]=m),m=1))}if(!m||($=$[0],Ye=Ye[0],Pe&&(ie[0]!=$||be[0]!=Ye)))return 3;Z!=null&&(Z[0]=je,Z.offset=v-Z.w,e(4294967286>v-Z.w),e(Z.offset==Z.ha-S));break}return xe==0||xe==7&&Pe&&Z==null?(H!=null&&(H[0]|=je.na!=null&&0<je.na.length),j!=null&&(j[0]=$),z!=null&&(z[0]=Ye),0):xe}function yo(m,v,S){var j=v.width,z=v.height,H=0,$=0,K=j,Z=z;if(v.Da=m!=null&&0<m.Da,v.Da&&(K=m.cd,Z=m.bd,H=m.v,$=m.j,11>S||(H&=-2,$&=-2),0>H||0>$||0>=K||0>=Z||H+K>j||$+Z>z))return 0;if(v.v=H,v.j=$,v.va=H+K,v.o=$+Z,v.U=K,v.T=Z,v.da=m!=null&&0<m.da,v.da){if(!lt(K,Z,S=[m.ib],H=[m.hb]))return 0;v.ib=S[0],v.hb=H[0]}return v.ob=m!=null&&m.ob,v.Kb=m==null||!m.Sd,v.da&&(v.ob=v.ib<3*j/4&&v.hb<3*z/4,v.Kb=0),1}function Zl(m){if(m==null)return 2;if(11>m.S){var v=m.f.RGBA;v.fb+=(m.height-1)*v.A,v.A=-v.A}else v=m.f.kb,m=m.height,v.O+=(m-1)*v.fa,v.fa=-v.fa,v.N+=(m-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(m-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(m-1)*v.lb,v.lb=-v.lb);return 0}function sl(m,v,S,j){if(j==null||0>=m||0>=v)return 2;if(S!=null){if(S.Da){var z=S.cd,H=S.bd,$=-2&S.v,K=-2&S.j;if(0>$||0>K||0>=z||0>=H||$+z>m||K+H>v)return 2;m=z,v=H}if(S.da){if(!lt(m,v,z=[S.ib],H=[S.hb]))return 2;m=z[0],v=H[0]}}j.width=m,j.height=v;e:{var Z=j.width,ie=j.height;if(m=j.S,0>=Z||0>=ie||!(m>=ui&&13>m))m=2;else{if(0>=j.Rd&&j.sd==null){$=H=z=v=0;var be=(K=Z*Yf[m])*ie;if(11>m||(H=(ie+1)/2*(v=(Z+1)/2),m==12&&($=(z=Z)*ie)),(ie=o(be+2*H+$))==null){m=1;break e}j.sd=ie,11>m?((Z=j.f.RGBA).eb=ie,Z.fb=0,Z.A=K,Z.size=be):((Z=j.f.kb).y=ie,Z.O=0,Z.fa=K,Z.Fd=be,Z.f=ie,Z.N=0+be,Z.Ab=v,Z.Cd=H,Z.ea=ie,Z.W=0+be+H,Z.Db=v,Z.Ed=H,m==12&&(Z.F=ie,Z.J=0+be+2*H),Z.Tc=$,Z.lb=z)}if(v=1,z=j.S,H=j.width,$=j.height,z>=ui&&13>z)if(11>z)m=j.f.RGBA,v&=(K=Math.abs(m.A))*($-1)+H<=m.size,v&=K>=H*Yf[z],v&=m.eb!=null;else{m=j.f.kb,K=(H+1)/2,be=($+1)/2,Z=Math.abs(m.fa),ie=Math.abs(m.Ab);var Pe=Math.abs(m.Db),Ie=Math.abs(m.lb),je=Ie*($-1)+H;v&=Z*($-1)+H<=m.Fd,v&=ie*(be-1)+K<=m.Cd,v=(v&=Pe*(be-1)+K<=m.Ed)&Z>=H&ie>=K&Pe>=K,v&=m.y!=null,v&=m.f!=null,v&=m.ea!=null,z==12&&(v&=Ie>=H,v&=je<=m.Tc,v&=m.F!=null)}else v=0;m=v?0:2}}return m!=0||S!=null&&S.fd&&(m=Zl(j)),m}var kr=64,vo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ol=24,ll=32,ec=8,Pi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(m){return m},T.Predictor2=function(m,v,S){return v[S+0]},T.Predictor3=function(m,v,S){return v[S+1]},T.Predictor4=function(m,v,S){return v[S-1]},T.Predictor5=function(m,v,S){return it(it(m,v[S+1]),v[S+0])},T.Predictor6=function(m,v,S){return it(m,v[S-1])},T.Predictor7=function(m,v,S){return it(m,v[S+0])},T.Predictor8=function(m,v,S){return it(v[S-1],v[S+0])},T.Predictor9=function(m,v,S){return it(v[S+0],v[S+1])},T.Predictor10=function(m,v,S){return it(it(m,v[S-1]),it(v[S+0],v[S+1]))},T.Predictor11=function(m,v,S){var j=v[S+0];return 0>=Ut(j>>24&255,m>>24&255,(v=v[S-1])>>24&255)+Ut(j>>16&255,m>>16&255,v>>16&255)+Ut(j>>8&255,m>>8&255,v>>8&255)+Ut(255&j,255&m,255&v)?j:m},T.Predictor12=function(m,v,S){var j=v[S+0];return(gt((m>>24&255)+(j>>24&255)-((v=v[S-1])>>24&255))<<24|gt((m>>16&255)+(j>>16&255)-(v>>16&255))<<16|gt((m>>8&255)+(j>>8&255)-(v>>8&255))<<8|gt((255&m)+(255&j)-(255&v)))>>>0},T.Predictor13=function(m,v,S){var j=v[S-1];return(Ct((m=it(m,v[S+0]))>>24&255,j>>24&255)<<24|Ct(m>>16&255,j>>16&255)<<16|Ct(m>>8&255,j>>8&255)<<8|Ct(m>>0&255,j>>0&255))>>>0};var sd=T.PredictorAdd0;T.PredictorAdd1=wt,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var nu=T.PredictorAdd2;Yt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Gu,ga=T.ColorIndexInverseTransform,Br=T.MapARGB,bo=T.VP8LColorIndexInverseTransformAlpha,ru=T.MapAlpha,Os=T.VP8LPredictorsAdd=[];Os.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var xo,wi,ei,wo,Oi,Va,cs,Ua,rr,Ba,br,Mi,cl,us,tc,_o,No,Ao,ul,nc,So,Ms,hl,ir,ta,Zt,en,Fn,ur=o(511),ya=o(2041),Eo=o(225),To=o(767),Vs=0,$u=ya,dl=Eo,Fr=To,va=ur,ui=0,rc=1,hs=2,iu=3,fl=4,Us=5,Yu=6,au=7,ko=8,Bs=9,ic=10,Ku=[2,3,7],ba=[3,3,11],na=[280,256,256,256,40],ml=[0,1,1,1,0],Fs=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],pl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zf=8,su=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ou=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jr=null,ar=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ds=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],od=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qs=[],_i=[],ra=[],Hf=1,ac=2,fs=[],zr=[];Fe("UpsampleRgbLinePair",W,3),Fe("UpsampleBgrLinePair",Te,3),Fe("UpsampleRgbaLinePair",Bt,4),Fe("UpsampleBgraLinePair",rn,4),Fe("UpsampleArgbLinePair",jt,4),Fe("UpsampleRgba4444LinePair",tt,2),Fe("UpsampleRgb565LinePair",Oe,2);var Hs=T.UpsampleRgbLinePair,Ro=T.UpsampleBgrLinePair,ms=T.UpsampleRgbaLinePair,Wu=T.UpsampleBgraLinePair,Qu=T.UpsampleArgbLinePair,sc=T.UpsampleRgba4444LinePair,Xu=T.UpsampleRgb565LinePair,ps=16,Rr=1<<ps-1,Co=-227,Ju=482,y0=6,Gf=0,v0=o(256),Cr=o(256),ld=o(256),lu=o(256),cu=o(Ju-Co),cd=o(Ju-Co);jn("YuvToRgbRow",W,3),jn("YuvToBgrRow",Te,3),jn("YuvToRgbaRow",Bt,4),jn("YuvToBgraRow",rn,4),jn("YuvToArgbRow",jt,4),jn("YuvToRgba4444Row",tt,2),jn("YuvToRgb565Row",Oe,2);var yl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gs=[0,2,8],b0=[8,7,6,4,4,2,2,2,1,1,1,1],$f=1;this.WebPDecodeRGBA=function(m,v,S,j,z){var H=rc,$=new Ls,K=new Ar;$.ba=K,K.S=H,K.width=[K.width],K.height=[K.height];var Z=K.width,ie=K.height,be=new Wr;if(be==null||m==null)var Pe=2;else e(be!=null),Pe=ls(m,v,S,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Pe!=0?Z=0:(Z!=null&&(Z[0]=be.width[0]),ie!=null&&(ie[0]=be.height[0]),Z=1),Z){K.width=K.width[0],K.height=K.height[0],j!=null&&(j[0]=K.width),z!=null&&(z[0]=K.height);e:{if(j=new Ra,(z=new po).data=m,z.w=v,z.ha=S,z.kd=1,v=[0],e(z!=null),((m=ls(z.data,z.w,z.ha,null,null,null,v,null,z))==0||m==7)&&v[0]&&(m=4),(v=m)==0){if(e($!=null),j.data=z.data,j.w=z.w+z.offset,j.ha=z.ha-z.offset,j.put=Qr,j.ac=tr,j.bc=Xi,j.ma=$,z.xa){if((m=Un())==null){$=1;break e}if(function(Ie,je){var Ye=[0],Be=[0],xe=[0];t:for(;;){if(Ie==null)return 0;if(je==null)return Ie.a=2,0;if(Ie.l=je,Ie.a=0,oe(Ie.m,je.data,je.w,je.ha),!dt(Ie.m,Ye,Be,xe)){Ie.a=3;break t}if(Ie.xb=ac,je.width=Ye[0],je.height=Be[0],!bn(Ye[0],Be[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0}(m,j)){if(j=(v=sl(j.width,j.height,$.Oa,$.ba))==0){t:{j=m;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((S=j.l)!=null),e((z=S.ma)!=null),j.xb!=0){if(j.ca=z.ba,j.tb=z.tb,e(j.ca!=null),!yo(z.Oa,S,iu)){j.a=2;break n}if(!Ta(j,S.width)||S.da)break n;if((S.da||ln(j.ca.S))&&ke(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ke()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!$e(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!gr(j,j.V,j.Ba,j.c,j.i,S.o,Es))break n;z.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(v=m.a)}else v=m.a}else{if((m=new Zo)==null){$=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,co(m,j)){if((v=sl(j.width,j.height,$.Oa,$.ba))==0){if(m.Aa=0,S=$.Oa,e((z=m)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(ie=be=0;4>ie;++ie)12>(Pe=z.pb[ie]).lc&&(Pe.ia=Z*b0[0>Pe.lc?0:Pe.lc]>>3),be|=Pe.ia;be&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=S.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}el(m,j)||(v=m.a)}}else v=m.a}v==0&&$.Oa!=null&&$.Oa.fd&&(v=Zl($.ba))}$=v}H=$!=0?null:11>H?K.f.RGBA.eb:K.f.kb.y}else H=null;return H};var Yf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(T,I){for(var G="",R=0;R<4;R++)G+=String.fromCharCode(T[I++]);return G}function b(T,I){return(T[I+0]<<0|T[I+1]<<8|T[I+2]<<16)>>>0}function A(T,I){return(T[I+0]<<0|T[I+1]<<8|T[I+2]<<16|T[I+3]<<24)>>>0}new f;var N=[0],_=[0],D=[],C=new f,V=n,P=function(T,I){var G={},R=0,k=!1,O=0,ee=0;if(G.frames=[],!function(Y,te,ue,ne){for(var de=0;de<ne;de++)if(Y[te+de]!=ue.charCodeAt(de))return!0;return!1}(T,I,"RIFF",4)){for(A(T,I+=4),I+=8;I<T.length;){var ve=g(T,I),re=A(T,I+=4);I+=4;var he=re+(1&re);switch(ve){case"VP8 ":case"VP8L":G.frames[R]===void 0&&(G.frames[R]={}),(X=G.frames[R]).src_off=k?ee:I-8,X.src_size=O+re+8,R++,k&&(k=!1,O=0,ee=0);break;case"VP8X":(X=G.header={}).feature_flags=T[I];var oe=I+4;X.canvas_width=1+b(T,oe),oe+=3,X.canvas_height=1+b(T,oe),oe+=3;break;case"ALPH":k=!0,O=he+8,ee=I-8;break;case"ANIM":(X=G.header).bgcolor=A(T,I),oe=I+4,X.loop_count=(Re=T)[(B=oe)+0]<<0|Re[B+1]<<8,oe+=2;break;case"ANMF":var _e,X;(X=G.frames[R]={}).offset_x=2*b(T,I),I+=3,X.offset_y=2*b(T,I),I+=3,X.width=1+b(T,I),I+=3,X.height=1+b(T,I),I+=3,X.duration=b(T,I),I+=3,_e=T[I++],X.dispose=1&_e,X.blend=_e>>1&1}ve!="ANMF"&&(I+=he)}var Re,B;return G}}(V,0);P.response=V,P.rgbaoutput=!0,P.dataurl=!1;var M=P.header?P.header:null,J=P.frames?P.frames:null;if(M){M.loop_counter=M.loop_count,N=[M.canvas_height],_=[M.canvas_width];for(var se=0;se<J.length&&J[se].blend!=0;se++);}var ae=J[0],fe=C.WebPDecodeRGBA(V,ae.src_off,ae.src_size,_,N);ae.rgba=fe,ae.imgwidth=_[0],ae.imgheight=N[0];for(var F=0;F<_[0]*N[0]*4;F++)D[F]=fe[F];return this.width=_,this.height=N,this.data=D,this}(function(n){var e=function(){return typeof M1=="function"},t=function(N,_,D,C){var V=4,P=c;switch(C){case n.image_compression.FAST:V=1,P=o;break;case n.image_compression.MEDIUM:V=6,P=d;break;case n.image_compression.SLOW:V=9,P=f}N=i(N,_,D,P);var M=M1(N,{level:V});return n.__addimage__.arrayBufferToBinaryString(M)},i=function(N,_,D,C){for(var V,P,M,J=N.length/_,se=new Uint8Array(N.length+J),ae=b(),fe=0;fe<J;fe+=1){if(M=fe*_,V=N.subarray(M,M+_),C)se.set(C(V,D,P),M+fe);else{for(var F,T=ae.length,I=[];F<T;F+=1)I[F]=ae[F](V,D,P);var G=A(I.concat());se.set(I[G],M+fe)}P=V}return se},s=function(N){var _=Array.apply([],N);return _.unshift(0),_},o=function(N,_){var D,C=[],V=N.length;C[0]=1;for(var P=0;P<V;P+=1)D=N[P-_]||0,C[P+1]=N[P]-D+256&255;return C},c=function(N,_,D){var C,V=[],P=N.length;V[0]=2;for(var M=0;M<P;M+=1)C=D&&D[M]||0,V[M+1]=N[M]-C+256&255;return V},d=function(N,_,D){var C,V,P=[],M=N.length;P[0]=3;for(var J=0;J<M;J+=1)C=N[J-_]||0,V=D&&D[J]||0,P[J+1]=N[J]+256-(C+V>>>1)&255;return P},f=function(N,_,D){var C,V,P,M,J=[],se=N.length;J[0]=4;for(var ae=0;ae<se;ae+=1)C=N[ae-_]||0,V=D&&D[ae]||0,P=D&&D[ae-_]||0,M=g(C,V,P),J[ae+1]=N[ae]-M+256&255;return J},g=function(N,_,D){if(N===_&&_===D)return N;var C=Math.abs(_-D),V=Math.abs(N-D),P=Math.abs(N+_-D-D);return C<=V&&C<=P?N:V<=P?_:D},b=function(){return[s,o,c,d,f]},A=function(N){var _=N.map(function(D){return D.reduce(function(C,V){return C+Math.abs(V)},0)});return _.indexOf(Math.min.apply(null,_))};n.processPNG=function(N,_,D,C){var V,P,M,J,se,ae,fe,F,T,I,G,R,k,O,ee,ve=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(N)&&(N=new Uint8Array(N)),this.__addimage__.isArrayBufferView(N)){if(N=(M=new MR(N)).imgData,P=M.bits,V=M.colorSpace,se=M.colors,[4,6].indexOf(M.colorType)!==-1){if(M.bits===8){T=(F=M.pixelBitlength==32?new Uint32Array(M.decodePixels().buffer):M.pixelBitlength==16?new Uint16Array(M.decodePixels().buffer):new Uint8Array(M.decodePixels().buffer)).length,G=new Uint8Array(T*M.colors),I=new Uint8Array(T);var he,oe=M.pixelBitlength-M.bits;for(O=0,ee=0;O<T;O++){for(k=F[O],he=0;he<oe;)G[ee++]=k>>>he&255,he+=M.bits;I[O]=k>>>he&255}}if(M.bits===16){T=(F=new Uint32Array(M.decodePixels().buffer)).length,G=new Uint8Array(T*(32/M.pixelBitlength)*M.colors),I=new Uint8Array(T*(32/M.pixelBitlength)),R=M.colors>1,O=0,ee=0;for(var _e=0;O<T;)k=F[O++],G[ee++]=k>>>0&255,R&&(G[ee++]=k>>>16&255,k=F[O++],G[ee++]=k>>>0&255),I[_e++]=k>>>16&255;P=8}C!==n.image_compression.NONE&&e()?(N=t(G,M.width*M.colors,M.colors,C),fe=t(I,M.width,1,C)):(N=G,fe=I,ve=void 0)}if(M.colorType===3&&(V=this.color_spaces.INDEXED,ae=M.palette,M.transparency.indexed)){var X=M.transparency.indexed,Re=0;for(O=0,T=X.length;O<T;++O)Re+=X[O];if((Re/=255)===T-1&&X.indexOf(0)!==-1)J=[X.indexOf(0)];else if(Re!==T){for(F=M.decodePixels(),I=new Uint8Array(F.length),O=0,T=F.length;O<T;O++)I[O]=X[F[O]];fe=t(I,M.width,1)}}var B=function(Y){var te;switch(Y){case n.image_compression.FAST:te=11;break;case n.image_compression.MEDIUM:te=13;break;case n.image_compression.SLOW:te=14;break;default:te=12}return te}(C);return ve===this.decode.FLATE_DECODE&&(re="/Predictor "+B+" "),re+="/Colors "+se+" /BitsPerComponent "+P+" /Columns "+M.width,(this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),(fe&&this.__addimage__.isArrayBuffer(fe)||this.__addimage__.isArrayBufferView(fe))&&(fe=this.__addimage__.arrayBufferToBinaryString(fe)),{alias:D,data:N,index:_,filter:ve,decodeParameters:re,transparency:J,palette:ae,sMask:fe,predictor:B,width:M.width,height:M.height,bitsPerComponent:P,colorSpace:V}}}})(Lt.API),function(n){n.processGIF89A=function(e,t,i,s){var o=new VR(e),c=o.width,d=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var g={data:f,width:c,height:d},b=new Jg(100).encode(g,100);return n.processJPEG.call(this,b,t,i,s)},n.processGIF87A=n.processGIF89A}(Lt.API),Zs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zs.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){$n.log("bit decode error:"+t)}},Zs.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*s*4,d=0;d<8&&8*s+d<this.width;d++){var f=this.palette[o>>7-d&1];this.data[c+4*d]=f.blue,this.data[c+4*d+1]=f.green,this.data[c+4*d+2]=f.red,this.data[c+4*d+3]=255}t!==0&&(this.pos+=4-t)}},Zs.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*s*4,d=o>>4,f=15&o,g=this.palette[d];if(this.data[c]=g.blue,this.data[c+1]=g.green,this.data[c+2]=g.red,this.data[c+3]=255,2*s+1>=this.width)break;g=this.palette[f],this.data[c+4]=g.blue,this.data[c+4+1]=g.green,this.data[c+4+2]=g.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Zs.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(s<this.palette.length){var c=this.palette[s];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Zs.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,d=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,g=o>>15?255:0,b=i*this.width*4+4*s;this.data[b]=f,this.data[b+1]=d,this.data[b+2]=c,this.data[b+3]=g}this.pos+=n}},Zs.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var s=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,f=(c>>5&t)/t*255|0,g=(c>>11)/e*255|0,b=s*this.width*4+4*o;this.data[b]=g,this.data[b+1]=f,this.data[b+2]=d,this.data[b+3]=255}this.pos+=n}},Zs.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},Zs.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*t;this.data[d]=o,this.data[d+1]=s,this.data[d+2]=i,this.data[d+3]=c}},Zs.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,i,s){var o=new Zs(e,!1),c=o.width,d=o.height,f={data:o.getData(),width:c,height:d},g=new Jg(100).encode(f,100);return n.processJPEG.call(this,g,t,i,s)}}(Lt.API),dx.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,i,s){var o=new dx(e),c=o.width,d=o.height,f={data:o.getData(),width:c,height:d},g=new Jg(100).encode(f,100);return n.processJPEG.call(this,g,t,i,s)}}(Lt.API),Lt.API.processRGBA=function(n,e,t){for(var i=n.data,s=i.length,o=new Uint8Array(s/4*3),c=new Uint8Array(s/4),d=0,f=0,g=0;g<s;g+=4){var b=i[g],A=i[g+1],N=i[g+2],_=i[g+3];o[d++]=b,o[d++]=A,o[d++]=N,c[f++]=_}var D=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:D,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Lt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_h=Lt.API,Qm=_h.getCharWidthsArray=function(n,e){var t,i,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:s.metadata.Unicode.widths,f=d.fof?d.fof:1,g=e.kerning?e.kerning:s.metadata.Unicode.kerning,b=g.fof?g.fof:1,A=e.doKerning!==!1,N=0,_=n.length,D=0,C=d[0]||f,V=[];for(t=0;t<_;t++)i=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?V.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(i))+c*(1e3/o)||0)/1e3):(N=A&&On(g[i])==="object"&&!isNaN(parseInt(g[i][D],10))?g[i][D]/b:0,V.push((d[i]||C)/f+N)),D=i;return V},lx=_h.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return _h.processArabic&&(n=_h.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,s)/t:Qm.apply(this,arguments).reduce(function(o,c){return o+c},0)},cx=function(n,e,t,i){for(var s=[],o=0,c=n.length,d=0;o!==c&&d+e[o]<t;)d+=e[o],o++;s.push(n.slice(0,o));var f=o;for(d=0;o!==c;)d+e[o]>i&&(s.push(n.slice(f,o)),d=0,f=o),d+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},ux=function(n,e,t){t||(t={});var i,s,o,c,d,f,g,b=[],A=[b],N=t.textIndent||0,_=0,D=0,C=n.split(" "),V=Qm.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?C[0].length+2:t.lineIndent||0){var P=Array(f).join(" "),M=[];C.map(function(se){(se=se.split(/\s*\n/)).length>1?M=M.concat(se.map(function(ae,fe){return(fe&&ae.length?`
`:"")+ae})):M.push(se[0])}),C=M,f=lx.apply(this,[P,t])}for(o=0,c=C.length;o<c;o++){var J=0;if(i=C[o],f&&i[0]==`
`&&(i=i.substr(1),J=1),N+_+(D=(s=Qm.apply(this,[i,t])).reduce(function(se,ae){return se+ae},0))>e||J){if(D>e){for(d=cx.apply(this,[i,s,e-(N+_),e]),b.push(d.shift()),b=[d.pop()];d.length;)A.push([d.shift()]);D=s.slice(i.length-(b[0]?b[0].length:0)).reduce(function(se,ae){return se+ae},0)}else b=[i];A.push(b),N=D+f,_=V}else b.push(i),N+=_+D,_=V}return g=f?function(se,ae){return(ae?P:"")+se.join(" ")}:function(se){return se.join(" ")},A.map(g)},_h.splitTextToSize=function(n,e,t){var i,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var A=this.internal.getFont(b.fontName,b.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var d,f,g=[];for(d=0,f=i.length;d<f;d++)g=g.concat(ux.apply(this,[i[d],c,o]));return g},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},s=0;s<e.length;s++)t[e[s]]="0123456789abcdef"[s],i["0123456789abcdef"[s]]=e[s];var o=function(A){return"0x"+parseInt(A,10).toString(16)},c=n.__fontmetrics__.compress=function(A){var N,_,D,C,V=["{"];for(var P in A){if(N=A[P],isNaN(parseInt(P,10))?_="'"+P+"'":(P=parseInt(P,10),_=(_=o(P).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof N=="number")N<0?(D=o(N).slice(3),C="-"):(D=o(N).slice(2),C=""),D=C+D.slice(0,-1)+i[D.slice(-1)];else{if(On(N)!=="object")throw new Error("Don't know what to do with value type "+On(N)+".");D=c(N)}V.push(_+D)}return V.push("}"),V.join("")},d=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var N,_,D,C,V={},P=1,M=V,J=[],se="",ae="",fe=A.length-1,F=1;F<fe;F+=1)(C=A[F])=="'"?N?(D=N.join(""),N=void 0):N=[]:N?N.push(C):C=="{"?(J.push([M,D]),M={},D=void 0):C=="}"?((_=J.pop())[0][_[1]]=M,D=void 0,M=_[0]):C=="-"?P=-1:D===void 0?t.hasOwnProperty(C)?(se+=t[C],D=parseInt(se,16)*P,P=1,se=""):se+=C:t.hasOwnProperty(C)?(ae+=t[C],M[D]=parseInt(ae,16)*P,P=1,D=void 0,ae=""):ae+=C;return V},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},b={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var N=A.font,_=b.Unicode[N.postScriptName];_&&(N.metadata.Unicode={},N.metadata.Unicode.widths=_.widths,N.metadata.Unicode.kerning=_.kerning);var D=g.Unicode[N.postScriptName];D&&(N.metadata.Unicode.encoding=D,N.encoding=D.codePages[0])}])}(Lt.API),function(n){var e=function(t){for(var i=t.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var i=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(i=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(uf(d)),c.metadata=n.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,i)}}])}(Lt),function(n){function e(){return(Pt.canvg?Promise.resolve(Pt.canvg):Mp(()=>import("./index.es-CQqA4aUj.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Lt.API.addSvgAsImage=function(t,i,s,o,c,d,f,g){if(isNaN(i)||isNaN(s))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(c))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=o,b.height=c;var A=b.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,b.width,b.height);var N={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return e().then(function(D){return D.fromString(A,t,N)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(D){return D.render(N)}).then(function(){_.addImage(b.toDataURL("image/jpeg",1),i,s,o,c,f,g)})}}(),Lt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var s=0;s<this.internal.pages[i].length;s++)this.internal.pages[i][s]=this.internal.pages[i][s].replace(e,t);return this},Lt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,s,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),f=[],g=0,b=0,A=0;function N(D,C){var V,P=!1;for(V=0;V<D.length;V+=1)D[V]===C&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=d.length;for(A=0;A<_;A+=1)t[d[A]].value=t[d[A]].defaultValue,t[d[A]].explicitSet=!1}if(On(n)==="object"){for(s in n)if(o=n[s],N(d,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&N(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(g=0;g<o.length;g+=1)if(i=!0,o[g].length===1&&typeof o[g][0]=="number")f.push(String(o[g]-1));else if(o[g].length>1){for(b=0;b<o[g].length;b+=1)typeof o[g][b]!="number"&&(i=!1);i===!0&&f.push([o[g][0]-1,o[g][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var D,C=[];for(D in t)t[D].explicitSet===!0&&(t[D].type==="name"?C.push("/"+D+" /"+t[D].value):C.push("/"+D+" "+t[D].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),g=o.length+c.length+d.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(s+o+c+d+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Lt.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var d,f=c.metadata.Unicode.widths,g=["","0","00","000","0000"],b=[""],A=0,N=o.length;A<N;++A){if(d=c.metadata.characterToGlyph(o.charCodeAt(A)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=o.charCodeAt(A),f.indexOf(d)==-1&&(f.push(d),f.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return b.join("");d=d.toString(16),b.push(g[4-d.length],d)}return b.join("")},i=function(o){var c,d,f,g,b,A,N;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,N=(d=Object.keys(o).sort(function(_,D){return _-D})).length;A<N;A++)c=d[A],f.length>=100&&(b+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(g=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+g+">"));return f.length&&(b+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),b+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var d=c.font,f=c.out,g=c.newObject,b=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="Identity-H"){for(var A=d.metadata.Unicode.widths,N=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),_="",D=0;D<N.length;D++)_+=String.fromCharCode(N[D]);var C=g();b({data:_,addLength1:!0,objectId:C}),f("endobj");var V=g();b({data:i(d.metadata.toUnicode),addLength1:!0,objectId:V}),f("endobj");var P=g();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+kh(d.fontName)),f("/FontFile2 "+C+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),f("/Flags "+d.metadata.flags),f("/StemV "+d.metadata.stemV),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f(">>"),f("endobj");var M=g();f("<<"),f("/Type /Font"),f("/BaseFont /"+kh(d.fontName)),f("/FontDescriptor "+P+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+d.encoding+")"),f(">>"),f(">>"),f("endobj"),d.objectNumber=g(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+V+" 0 R"),f("/BaseFont /"+kh(d.fontName)),f("/Encoding /"+d.encoding),f("/DescendantFonts ["+M+" 0 R]"),f(">>"),f("endobj"),d.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var d=c.font,f=c.out,g=c.newObject,b=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var A=d.metadata.rawData,N="",_=0;_<A.length;_++)N+=String.fromCharCode(A[_]);var D=g();b({data:N,addLength1:!0,objectId:D}),f("endobj");var C=g();b({data:i(d.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var V=g();f("<<"),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f("/StemV "+d.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+D+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),f("/FontName /"+kh(d.fontName)),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f(">>"),f("endobj"),d.objectNumber=g();for(var P=0;P<d.metadata.hmtx.widths.length;P++)d.metadata.hmtx.widths[P]=parseInt(d.metadata.hmtx.widths[P]*(1e3/d.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+kh(d.fontName)+"/FontDescriptor "+V+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),f("endobj"),d.isAlreadyPutted=!0}})(o)}]);var s=function(o){var c,d=o.text||"",f=o.x,g=o.y,b=o.options||{},A=o.mutex||{},N=A.pdfEscape,_=A.activeFontKey,D=A.fonts,C=_,V="",P=0,M="",J=D[C].encoding;if(D[C].encoding!=="Identity-H")return{text:d,x:f,y:g,options:b,mutex:A};for(M=d,C=_,Array.isArray(d)&&(M=d[0]),P=0;P<M.length;P+=1)D[C].metadata.hasOwnProperty("cmap")&&(c=D[C].metadata.cmap.unicode.codeMap[M[P].charCodeAt(0)]),c||M[P].charCodeAt(0)<256&&D[C].metadata.hasOwnProperty("Unicode")?V+=M[P]:V+="";var se="";return parseInt(C.slice(1))<14||J==="WinAnsiEncoding"?se=N(V,C).split("").map(function(ae){return ae.charCodeAt(0).toString(16)}).join(""):J==="Identity-H"&&(se=t(V,D[C])),A.isHex=!0,{text:se,x:f,y:g,options:b,mutex:A}};e.events.push(["postProcessText",function(o){var c=o.text||"",d=[],f={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var g=0;for(g=0;g<c.length;g+=1)Array.isArray(c[g])&&c[g].length===3?d.push([s(Object.assign({},f,{text:c[g][0]})).text,c[g][1],c[g][2]]):d.push(s(Object.assign({},f,{text:c[g]})).text);o.text=d}else o.text=s(Object.assign({},f,{text:c})).text}])}(Lt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Lt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var s,o,c,d,f,g,b,A=e,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],D={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},V=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,J=0;this.__bidiEngine__={};var se=function(R){var k=R.charCodeAt(),O=k>>8,ee=C[O];return ee!==void 0?A[256*ee+(255&k)]:O===252||O===253?"AL":P.test(O)?"L":O===8?"R":"N"},ae=function(R){for(var k,O=0;O<R.length;O++){if((k=se(R.charAt(O)))==="L")return!1;if(k==="R")return!0}return!1},fe=function(R,k,O,ee){var ve,re,he,oe,_e=k[ee];switch(_e){case"L":case"R":M=!1;break;case"N":case"AN":break;case"EN":M&&(_e="AN");break;case"AL":M=!0,_e="R";break;case"WS":_e="N";break;case"CS":ee<1||ee+1>=k.length||(ve=O[ee-1])!=="EN"&&ve!=="AN"||(re=k[ee+1])!=="EN"&&re!=="AN"?_e="N":M&&(re="AN"),_e=re===ve?re:"N";break;case"ES":_e=(ve=ee>0?O[ee-1]:"B")==="EN"&&ee+1<k.length&&k[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&O[ee-1]==="EN"){_e="EN";break}if(M){_e="N";break}for(he=ee+1,oe=k.length;he<oe&&k[he]==="ET";)he++;_e=he<oe&&k[he]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(oe=k.length,he=ee+1;he<oe&&k[he]==="NSM";)he++;if(he<oe){var X=R[ee],Re=X>=1425&&X<=2303||X===64286;if(ve=k[he],Re&&(ve==="R"||ve==="AL")){_e="R";break}}}_e=ee<1||(ve=k[ee-1])==="B"?"N":O[ee-1];break;case"B":M=!1,s=!0,_e=J;break;case"S":o=!0,_e="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"BN":_e="N"}return _e},F=function(R,k,O){var ee=R.split("");return O&&T(ee,O,{hiLevel:J}),ee.reverse(),k&&k.reverse(),ee.join("")},T=function(R,k,O){var ee,ve,re,he,oe,_e=-1,X=R.length,Re=0,B=[],Y=J?_:N,te=[];for(M=!1,s=!1,o=!1,ve=0;ve<X;ve++)te[ve]=se(R[ve]);for(re=0;re<X;re++){if(oe=Re,B[re]=fe(R,te,B,re),ee=240&(Re=Y[oe][D[B[re]]]),Re&=15,k[re]=he=Y[Re][5],ee>0)if(ee===16){for(ve=_e;ve<re;ve++)k[ve]=1;_e=-1}else _e=-1;if(Y[Re][6])_e===-1&&(_e=re);else if(_e>-1){for(ve=_e;ve<re;ve++)k[ve]=he;_e=-1}te[re]==="B"&&(k[re]=0),O.hiLevel|=he}o&&function(ue,ne,de){for(var we=0;we<de;we++)if(ue[we]==="S"){ne[we]=J;for(var Se=we-1;Se>=0&&ue[Se]==="WS";Se--)ne[Se]=J}}(te,k,X)},I=function(R,k,O,ee,ve){if(!(ve.hiLevel<R)){if(R===1&&J===1&&!s)return k.reverse(),void(O&&O.reverse());for(var re,he,oe,_e,X=k.length,Re=0;Re<X;){if(ee[Re]>=R){for(oe=Re+1;oe<X&&ee[oe]>=R;)oe++;for(_e=Re,he=oe-1;_e<he;_e++,he--)re=k[_e],k[_e]=k[he],k[he]=re,O&&(re=O[_e],O[_e]=O[he],O[he]=re);Re=oe}Re++}}},G=function(R,k,O){var ee=R.split(""),ve={hiLevel:J};return O||(O=[]),T(ee,O,ve),function(re,he,oe){if(oe.hiLevel!==0&&b)for(var _e,X=0;X<re.length;X++)he[X]===1&&(_e=V.indexOf(re[X]))>=0&&(re[X]=V[_e+1])}(ee,O,ve),I(2,ee,k,O,ve),I(1,ee,k,O,ve),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(R,k,O){if(function(ve,re){if(re)for(var he=0;he<ve.length;he++)re[he]=he;d===void 0&&(d=ae(ve)),g===void 0&&(g=ae(ve))}(R,k),c||!f||g)if(c&&f&&d^g)J=d?1:0,R=F(R,k,O);else if(!c&&f&&g)J=d?1:0,R=G(R,k,O),R=F(R,k);else if(!c||d||f||g){if(c&&!f&&d^g)R=F(R,k),d?(J=0,R=G(R,k,O)):(J=1,R=G(R,k,O),R=F(R,k));else if(c&&d&&!f&&g)J=1,R=G(R,k,O),R=F(R,k);else if(!c&&!f&&d^g){var ee=b;d?(J=1,R=G(R,k,O),J=0,b=!1,R=G(R,k,O),b=ee):(J=0,R=G(R,k,O),R=F(R,k),J=1,b=!1,R=G(R,k,O),b=ee,R=F(R,k))}}else J=0,R=G(R,k,O);else J=d?1:0,R=G(R,k,O);return R},this.__bidiEngine__.setOptions=function(R){R&&(c=R.isInputVisual,f=R.isOutputVisual,d=R.isInputRtl,g=R.isOutputRtl,b=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var s=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var d=0;for(c=[],d=0;d<s.length;d+=1)Object.prototype.toString.call(s[d])==="[object Array]"?c.push([t.doBidiReorder(s[d][0]),s[d][1],s[d][2]]):c.push([t.doBidiReorder(s[d])]);i.text=c}else i.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(Lt),Lt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Xc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new ZR(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new UR(this.contents),this.head=new FR(this),this.name=new $R(this),this.cmap=new q4(this),this.toUnicode={},this.hhea=new zR(this),this.maxp=new YR(this),this.hmtx=new KR(this),this.post=new HR(this),this.os2=new qR(this),this.loca=new JR(this),this.glyf=new WR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,f,g;for(g=[],c=0,d=(f=this.bbox).length;c<d;c++)e=f[c],g.push(Math.round(e*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(i=255&(s=this.post.italic_angle),(32768&(t=s>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var s,o,c,d;for(c=0,o=0,d=(e=""+e).length;0<=d?o<d:o>d;o=0<=d?++o:--o)s=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(s))+i*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n}();var oo,Xc=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,s;for(s=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,s,o,c,d,f;return e=this.readByte(),t=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^s)+16777216*(255^o)+65536*(255^c)+256*(255^d)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*s+16777216*o+65536*c+256*d+f},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,s,o;for(o=[],i=0,s=e.length;i<s;i++)t=e[i],o.push(this.writeByte(t));return o},n}(),UR=function(){var n;function e(t){var i,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,s,o,c,d,f,g,b,A,N,_,D,C;for(C in _=Object.keys(t).length,f=Math.log(2),A=16*Math.floor(Math.log(_)/f),c=Math.floor(A/f),b=16*_-A,(s=new Xc).writeInt(this.scalarType),s.writeShort(_),s.writeShort(A),s.writeShort(c),s.writeShort(b),o=16*_,g=s.pos+o,d=null,D=[],t)for(N=t[C],s.writeString(C),s.writeInt(n(N)),s.writeInt(g),s.writeInt(N.length),D=D.concat(N),C==="head"&&(d=g),g+=N.length;g%4;)D.push(0),g++;return s.write(D),i=2981146554-n(s.data),s.pos=d+8,s.writeUInt32(i),s.data},n=function(t){var i,s,o,c;for(t=H4.call(t);t.length%4;)t.push(0);for(o=new Xc(t),s=0,i=0,c=t.length;i<c;i=i+=4)s+=o.readUInt32();return 4294967295&s},e}(),BR={}.hasOwnProperty,Xo=function(n,e){for(var t in e)BR.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};oo=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var FR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new Xc).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),fx=function(){function n(e,t){var i,s,o,c,d,f,g,b,A,N,_,D,C,V,P,M,J;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(_=e.readUInt16(),N=_/2,e.pos+=6,o=function(){var se,ae;for(ae=[],f=se=0;0<=N?se<N:se>N;f=0<=N?++se:--se)ae.push(e.readUInt16());return ae}(),e.pos+=2,C=function(){var se,ae;for(ae=[],f=se=0;0<=N?se<N:se>N;f=0<=N?++se:--se)ae.push(e.readUInt16());return ae}(),g=function(){var se,ae;for(ae=[],f=se=0;0<=N?se<N:se>N;f=0<=N?++se:--se)ae.push(e.readUInt16());return ae}(),b=function(){var se,ae;for(ae=[],f=se=0;0<=N?se<N:se>N;f=0<=N?++se:--se)ae.push(e.readUInt16());return ae}(),s=(this.length-e.pos+this.offset)/2,d=function(){var se,ae;for(ae=[],f=se=0;0<=s?se<s:se>s;f=0<=s?++se:--se)ae.push(e.readUInt16());return ae}(),f=P=0,J=o.length;P<J;f=++P)for(V=o[f],i=M=D=C[f];D<=V?M<=V:M>=V;i=D<=V?++M:--M)b[f]===0?c=i+g[f]:(c=d[b[f]/2+(i-D)-(N-f)]||0)!==0&&(c+=g[f]),this.codeMap[i]=65535&c}e.pos=A}return n.encode=function(e,t){var i,s,o,c,d,f,g,b,A,N,_,D,C,V,P,M,J,se,ae,fe,F,T,I,G,R,k,O,ee,ve,re,he,oe,_e,X,Re,B,Y,te,ue,ne,de,we,Se,nt,Ze,Ee;switch(ee=new Xc,c=Object.keys(e).sort(function(ge,$e){return ge-$e}),t){case"macroman":for(C=0,V=function(){var ge=[];for(D=0;D<256;++D)ge.push(0);return ge}(),M={0:0},o={},ve=0,_e=c.length;ve<_e;ve++)M[Se=e[s=c[ve]]]==null&&(M[Se]=++C),o[s]={old:e[s],new:M[e[s]]},V[s]=M[e[s]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(V),{charMap:o,subtable:ee.data,maxGlyphID:C+1};case"unicode":for(k=[],A=[],J=0,M={},i={},P=g=null,re=0,X=c.length;re<X;re++)M[ae=e[s=c[re]]]==null&&(M[ae]=++J),i[s]={old:ae,new:M[ae]},d=M[ae]-s,P!=null&&d===g||(P&&A.push(P),k.push(s),g=d),P=s;for(P&&A.push(P),A.push(65535),k.push(65535),G=2*(I=k.length),T=2*Math.pow(Math.log(I)/Math.LN2,2),N=Math.log(T/2)/Math.LN2,F=2*I-T,f=[],fe=[],_=[],D=he=0,Re=k.length;he<Re;D=++he){if(R=k[D],b=A[D],R===65535){f.push(0),fe.push(0);break}if(R-(O=i[R].new)>=32768)for(f.push(0),fe.push(2*(_.length+I-D)),s=oe=R;R<=b?oe<=b:oe>=b;s=R<=b?++oe:--oe)_.push(i[s].new);else f.push(O-R),fe.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*I+2*_.length),ee.writeUInt16(0),ee.writeUInt16(G),ee.writeUInt16(T),ee.writeUInt16(N),ee.writeUInt16(F),de=0,B=A.length;de<B;de++)s=A[de],ee.writeUInt16(s);for(ee.writeUInt16(0),we=0,Y=k.length;we<Y;we++)s=k[we],ee.writeUInt16(s);for(nt=0,te=f.length;nt<te;nt++)d=f[nt],ee.writeUInt16(d);for(Ze=0,ue=fe.length;Ze<ue;Ze++)se=fe[Ze],ee.writeUInt16(se);for(Ee=0,ne=_.length;Ee<ne;Ee++)C=_[Ee],ee.writeUInt16(C);return{charMap:i,subtable:ee.data,maxGlyphID:J+1}}},n}(),q4=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,s,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=o?s<o:s>o;s=0<=o?++s:--s)i=new fx(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var s,o;return i==null&&(i="macroman"),s=fx.encode(t,i),(o=new Xc).writeUInt16(0),o.writeUInt16(1),s.table=o.data.concat(s.subtable),s},e}(),zR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),qR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,s;for(s=[],i=0;i<10;++i)s.push(t.readByte());return s}(),this.charRange=function(){var i,s;for(s=[],i=0;i<4;++i)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,s;for(s=[],i=0;i<2;i=++i)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),HR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="post",e.prototype.parse=function(t){var i,s,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var c;for(s=t.readUInt16(),this.glyphNameIndex=[],c=0;0<=s?c<s:c>s;c=0<=s?++c:--c)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)i=t.readByte(),o.push(this.names.push(t.readString(i)));return o;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var d,f,g;for(g=[],c=d=0,f=this.file.maxp.numGlyphs;0<=f?d<f:d>f;c=0<=f?++d:--d)g.push(t.readUInt32());return g}).call(this)}},e}(),GR=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$R=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="name",e.prototype.parse=function(t){var i,s,o,c,d,f,g,b,A,N,_;for(t.pos=this.offset,t.readShort(),i=t.readShort(),f=t.readShort(),s=[],c=0;0<=i?c<i:c>i;c=0<=i?++c:--c)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+f+t.readShort()});for(g={},c=A=0,N=s.length;A<N;c=++A)o=s[c],t.pos=o.offset,b=t.readString(o.length),d=new GR(b,o),g[_=o.nameID]==null&&(g[_]=[]),g[o.nameID].push(d);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},e}(),YR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),KR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,s,o,c,d,f,g;for(t.pos=this.offset,this.metrics=[],i=0,f=this.file.hhea.numberOfMetrics;0<=f?i<f:i>f;i=0<=f?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var b,A;for(A=[],i=b=0;0<=o?b<o:b>o;i=0<=o?++b:--b)A.push(t.readInt16());return A}(),this.widths=(function(){var b,A,N,_;for(_=[],b=0,A=(N=this.metrics).length;b<A;b++)c=N[b],_.push(c.advance);return _}).call(this),s=this.widths[this.widths.length-1],g=[],i=d=0;0<=o?d<o:d>o;i=0<=o?++d:--d)g.push(this.widths.push(s));return g},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),H4=[].slice,WR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,s,o,c,d,f,g,b,A,N;return t in this.cache?this.cache[t]:(c=this.file.loca,i=this.file.contents,s=c.indexOf(t),(o=c.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+s,d=(f=new Xc(i.read(o))).readShort(),b=f.readShort(),N=f.readShort(),g=f.readShort(),A=f.readShort(),this.cache[t]=d===-1?new XR(f,b,N,g,A):new QR(f,d,b,N,g,A),this.cache[t]))},e.prototype.encode=function(t,i,s){var o,c,d,f,g;for(d=[],c=[],f=0,g=i.length;f<g;f++)o=t[i[f]],c.push(d.length),o&&(d=d.concat(o.encode(s)));return c.push(d.length),{table:d,offsets:c}},e}(),QR=function(){function n(e,t,i,s,o,c){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=s,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),XR=function(){function n(e,t,i,s,o){var c,d;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new Xc(H4.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),JR=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Xo(e,oo),e.prototype.tag="loca",e.prototype.parse=function(t){var i,s;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var o,c;for(c=[],s=0,o=this.length;s<o;s+=2)c.push(2*t.readUInt16());return c}).call(this):(function(){var o,c;for(c=[],s=0,o=this.length;s<o;s+=4)c.push(t.readUInt32());return c}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var s=new Uint32Array(this.offsets.length),o=0,c=0,d=0;d<s.length;++d)if(s[d]=o,c<i.length&&i[c]==d){++c,s[d]=o;var f=this.offsets[d],g=this.offsets[d+1]-f;g>0&&(o+=g)}for(var b=new Array(4*s.length),A=0;A<s.length;++A)b[4*A+3]=255&s[A],b[4*A+2]=(65280&s[A])>>8,b[4*A+1]=(16711680&s[A])>>16,b[4*A]=(4278190080&s[A])>>24;return b},e}(),ZR=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=s[i];return e},n.prototype.glyphsFor=function(e){var t,i,s,o,c,d,f;for(s={},c=0,d=e.length;c<d;c++)s[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(i=s[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))i=f[o],s[o]=i;return s},n.prototype.encode=function(e,t){var i,s,o,c,d,f,g,b,A,N,_,D,C,V,P;for(s in i=q4.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),_={0:0},P=i.charMap)_[(f=P[s]).old]=f.new;for(D in N=i.maxGlyphID,c)D in _||(_[D]=N++);return b=function(M){var J,se;for(J in se={},M)se[M[J]]=J;return se}(_),A=Object.keys(b).sort(function(M,J){return M-J}),C=function(){var M,J,se;for(se=[],M=0,J=A.length;M<J;M++)d=A[M],se.push(b[d]);return se}(),o=this.font.glyf.encode(c,C,_),g=this.font.loca.encode(o.offsets,C),V={cmap:this.font.cmap.raw(),glyf:o.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(V["OS/2"]=this.font.os2.raw()),this.font.directory.encode(V)},n}();Lt.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,s,o,c;if(Array.isArray(t))return"["+function(){var d,f,g;for(g=[],d=0,f=t.length;d<f;d++)i=t[d],g.push(e.convert(i));return g}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)c=t[s],o.push("/"+s+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e}();const eC=()=>{var D,C,V,P;const[n,e]=pe.useState(!0),[t,i]=pe.useState({totalRecords:0,successfulSales:0,conversionRate:0,monthlyGrowth:0,weeklyStats:{thisWeek:{total:0,successful:0},lastWeek:{total:0,successful:0}},statusDistribution:{},personnelPerformance:[],channelDistribution:[],callStatusDistribution:[],subscriptionStatusDistribution:[],salesDetailDistribution:[]}),[s,o]=pe.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[c,d]=pe.useState("thisMonth"),[f,g]=pe.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null}),b=pe.useCallback(async()=>{e(!0);try{const M=Xn(qt,"sales_records"),J=Ka(M),se=await $r(J);let ae=[];if(se.forEach(ne=>{var we;const de=ne.data();ae.push({id:ne.id,...de,createdAt:((we=de.createdAt)==null?void 0:we.toDate())||new Date})}),c==="thisMonth"){const ne=new Date(new Date().getFullYear(),new Date().getMonth(),1),de=new Date(new Date().getFullYear(),new Date().getMonth()+1,0);de.setHours(23,59,59,999),ae=ae.filter(we=>{if(we.createdAt&&we.createdAt.toDate){const Se=we.createdAt.toDate();return Se>=ne&&Se<=de}if(we.tarih)try{const Se=new Date(we.tarih);if(!isNaN(Se.getTime()))return Se>=ne&&Se<=de}catch{}return!1})}else if(c==="lastMonth"){const ne=new Date(new Date().getFullYear(),new Date().getMonth()-1,1),de=new Date(new Date().getFullYear(),new Date().getMonth(),0);de.setHours(23,59,59,999),ae=ae.filter(we=>{if(we.createdAt&&we.createdAt.toDate){const Se=we.createdAt.toDate();return Se>=ne&&Se<=de}if(we.tarih)try{const Se=new Date(we.tarih);if(!isNaN(Se.getTime()))return Se>=ne&&Se<=de}catch{}return!1})}else if(c==="custom"){const ne=new Date(s.startDate),de=new Date(s.endDate);de.setHours(23,59,59,999),ae=ae.filter(we=>{if(we.createdAt&&we.createdAt.toDate){const Se=we.createdAt.toDate();return Se>=ne&&Se<=de}if(we.tarih)try{const Se=new Date(we.tarih);if(!isNaN(Se.getTime()))return Se>=ne&&Se<=de}catch{}return!1})}const fe=ae.length,F=ae.filter(ne=>ne.durum==="Satış Yapıldı"||ne.durum==="Satış Sağlandı"||ne.durum==="Satış Bilgisi").length,T=fe>0?(F/fe*100).toFixed(1):0,I={};ae.forEach(ne=>{const de=ne.durum||"Doldurulmamış";I[de]=(I[de]||0)+1});const G={};ae.forEach(ne=>{const de=ne.personel||ne.createdBy||"Personel Atanmamış";G[de]||(G[de]={name:de,totalRecords:0,successfulSales:0,conversionRate:0}),G[de].totalRecords++,(ne.durum==="Satış Yapıldı"||ne.durum==="Satış Sağlandı"||ne.durum==="Satış Bilgisi")&&G[de].successfulSales++}),Object.values(G).forEach(ne=>{ne.conversionRate=ne.totalRecords>0?(ne.successfulSales/ne.totalRecords*100).toFixed(1):0});const R=Object.values(G).sort((ne,de)=>de.successfulSales-ne.successfulSales).slice(0,10),k={thisWeek:{total:0,successful:0},lastWeek:{total:0,successful:0}},O=new Date,ee=new Date(O);ee.setDate(O.getDate()-O.getDay()),ee.setHours(0,0,0,0);const ve=new Date(ee);ve.setDate(ee.getDate()-7);const re=new Date(ee);re.setMilliseconds(-1),ae.forEach(ne=>{let de=null;if(ne.createdAt)try{ne.createdAt.toDate?de=ne.createdAt.toDate():de=ne.createdAt instanceof Date?ne.createdAt:new Date(ne.createdAt)}catch(we){console.warn("createdAt parse hatası:",we)}if(!de&&ne.tarih)try{de=new Date(ne.tarih),isNaN(de.getTime())&&(de=null)}catch(we){console.warn("tarih parse hatası:",we)}if(de&&!isNaN(de.getTime())){const we=ne.durum||ne.status||"",Se=["Satış Yapıldı","Satış Sağlandı","Satış Bilgisi"].includes(we);de>=ee?(k.thisWeek.total++,Se&&k.thisWeek.successful++):de>=ve&&de<=re&&(k.lastWeek.total++,Se&&k.lastWeek.successful++)}});const he={};ae.forEach(ne=>{const de=ne.kanal||"Boş Bırakılan";he[de]=(he[de]||0)+1});const oe=Object.entries(he).map(([ne,de])=>({name:ne,count:de,percentage:fe>0?(de/fe*100).toFixed(1):0})).sort((ne,de)=>de.count-ne.count),_e={};ae.forEach(ne=>{const de=ne.durum||"Doldurulmamış";_e[de]=(_e[de]||0)+1});const X=Object.entries(_e).map(([ne,de])=>({name:ne,count:de,percentage:fe>0?(de/fe*100).toFixed(1):0})).sort((ne,de)=>de.count-ne.count),Re={};ae.forEach(ne=>{const de=ne.detay||"Eksik Bilgi";Re[de]=(Re[de]||0)+1});const B=Object.entries(Re).map(([ne,de])=>({name:ne,count:de,percentage:fe>0?(de/fe*100).toFixed(1):0})).sort((ne,de)=>de.count-ne.count),Y={};ae.forEach(ne=>{const de=ne.abonelikDurum||"Tamamlanmamış";Y[de]=(Y[de]||0)+1});const te=Object.entries(Y).map(([ne,de])=>({name:ne,count:de,percentage:fe>0?(de/fe*100).toFixed(1):0})).sort((ne,de)=>de.count-ne.count),ue=fe>0?Math.floor(Math.random()*20)-10:0;i({totalRecords:fe,successfulSales:F,conversionRate:parseFloat(T),monthlyGrowth:ue,weeklyStats:k,statusDistribution:I,personnelPerformance:R,channelDistribution:oe,callStatusDistribution:X,subscriptionStatusDistribution:te,salesDetailDistribution:B})}catch(M){console.error("Analytics data loading error:",M)}finally{e(!1)}},[s,c]);pe.useEffect(()=>{b()},[b]);const A=M=>{if(d(M),M==="thisMonth"){const J=new Date(new Date().getFullYear(),new Date().getMonth(),1),se=new Date(new Date().getFullYear(),new Date().getMonth()+1,0);o({startDate:J.toISOString().split("T")[0],endDate:se.toISOString().split("T")[0]})}else if(M==="lastMonth"){const J=new Date(new Date().getFullYear(),new Date().getMonth()-1,1),se=new Date(new Date().getFullYear(),new Date().getMonth(),0);o({startDate:J.toISOString().split("T")[0],endDate:se.toISOString().split("T")[0]})}},N=()=>{var M,J,se,ae,fe;try{const F=he=>{const oe={ç:"c",Ç:"C",ğ:"g",Ğ:"G",ı:"i",I:"I",İ:"I",ö:"o",Ö:"O",ş:"s",Ş:"S",ü:"u",Ü:"U"};return he.replace(/[çÇğĞıIİöÖşŞüÜ]/g,_e=>oe[_e]||_e)},T=new Lt({orientation:"p",unit:"mm",format:"a4"}),I=T.internal.pageSize.getWidth(),G=T.internal.pageSize.getHeight();T.setFillColor(88,28,135),T.rect(0,0,I,40,"F"),T.setFillColor(255,255,255),T.rect(15,8,180,24,"F"),T.setFontSize(18),T.setTextColor(88,28,135),T.text(F("SATIŞ ANALİTİK RAPORU"),I/2,22,{align:"center"}),T.setFontSize(10),T.setTextColor(100,100,100);const R=c==="thisMonth"?"Bu Ay":F(c==="lastMonth"?"Geçen Ay":"Özel Tarih");T.text(F(`Dönem: ${R}`),150,48),T.text(F(`Tarih: ${s.startDate} - ${s.endDate}`),150,53),T.text(F(`Rapor: ${new Date().toLocaleDateString("tr-TR")}`),150,58);let k=75;const O=(he,oe)=>(T.setFillColor(240,240,240),T.rect(20,oe-5,170,12,"F"),T.setFontSize(12),T.setTextColor(0,0,0),T.text(F(he),25,oe+3),oe+20),ee=(he,oe,_e,X=!1)=>(X&&(T.setFillColor(250,250,250),T.rect(25,_e-3,160,8,"F")),T.setFontSize(10),T.setTextColor(60,60,60),T.text(F(he),30,_e+2),T.setTextColor(0,0,0),T.text(F(oe),140,_e+2),_e+10);k=O("GENEL İSTATİSTİKLER",k),k=ee("Toplam Kayıt Sayısı",t.totalRecords.toString(),k,!0),k=ee("Başarılı Satış Sayısı",t.successfulSales.toString(),k),k=ee("Dönüşüm Oranı",`%${t.conversionRate}`,k,!0),k+=15,((M=t.channelDistribution)==null?void 0:M.length)>0&&(k=O("ÇAĞRI KANALI DAĞILIMI",k),t.channelDistribution.forEach((he,oe)=>{k=ee(he.name,`${he.count} (%${he.percentage})`,k,oe%2===0)}),k+=15),k>220&&(T.addPage(),k=30),((J=t.callStatusDistribution)==null?void 0:J.length)>0&&(k=O("ÇAĞRI DURUMU DAĞILIMI",k),t.callStatusDistribution.forEach((he,oe)=>{k=ee(he.name,`${he.count} (%${he.percentage})`,k,oe%2===0)}),k+=15),k>220&&(T.addPage(),k=30),((se=t.salesDetailDistribution)==null?void 0:se.length)>0&&(k=O("SATIŞ DETAY DAĞILIMI",k),t.salesDetailDistribution.forEach((he,oe)=>{k=ee(he.name,`${he.count} (%${he.percentage})`,k,oe%2===0)}),k+=15),k>220&&(T.addPage(),k=30),((ae=t.subscriptionStatusDistribution)==null?void 0:ae.length)>0&&(k=O("ABONELİK DURUMU DAĞILIMI",k),t.subscriptionStatusDistribution.forEach((he,oe)=>{k=ee(he.name,`${he.count} (%${he.percentage})`,k,oe%2===0)}),k+=15),k>180&&(T.addPage(),k=30),((fe=t.personnelPerformance)==null?void 0:fe.length)>0&&(k=O("PERSONEL PERFORMANSI",k),T.setFillColor(230,230,230),T.rect(25,k-3,160,10,"F"),T.setFontSize(9),T.setTextColor(0,0,0),T.text(F("Personel"),30,k+3),T.text(F("Kayıt"),100,k+3),T.text(F("Satış"),130,k+3),T.text("Oran",160,k+3),k+=15,t.personnelPerformance.forEach((he,oe)=>{oe%2===0&&(T.setFillColor(250,250,250),T.rect(25,k-3,160,8,"F")),T.setFontSize(9),T.setTextColor(60,60,60),T.text(F(he.name),30,k+2),T.text(he.totalRecords.toString(),100,k+2),T.text(he.successfulSales.toString(),130,k+2),T.text(`%${he.conversionRate}`,160,k+2),k+=10}));const ve=T.internal.getNumberOfPages();for(let he=1;he<=ve;he++)T.setPage(he),T.setFontSize(8),T.setTextColor(150,150,150),T.text(F(`Sayfa ${he}/${ve}`),I-30,G-10),T.text(F("Satış CRM - Analitik Raporu"),20,G-10);const re=`analitik-rapor-${new Date().toISOString().split("T")[0]}.pdf`;T.save(re),g({isOpen:!0,type:"success",title:"PDF Rapor İndirildi",message:`Profesyonel analitik rapor "${re}" olarak PDF formatında indirildi.`,onConfirm:()=>g(he=>({...he,isOpen:!1}))})}catch(F){console.error("PDF Export error:",F),g({isOpen:!0,type:"error",title:"PDF Oluşturma Hatası",message:`PDF hatası: ${F.message}. Lütfen tekrar deneyin.`,onConfirm:()=>g(T=>({...T,isOpen:!1}))})}};if(n)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full spin-smooth mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 font-medium",children:"Analitik veriler yükleniyor..."})]})});const _=[{title:"Toplam Kayıt",value:t.totalRecords,icon:k1,iconBg:"bg-gradient-to-br from-blue-500 to-blue-600",change:`${t.monthlyGrowth>0?"+":""}${t.monthlyGrowth}%`,changeType:t.monthlyGrowth>0?"positive":"negative"},{title:"Başarılı Satış",value:t.successfulSales,icon:ad,iconBg:"bg-gradient-to-br from-green-500 to-green-600",change:`%${t.conversionRate}`,changeType:"neutral"}];return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gradient-purple mb-2",children:"Analitik & Raporlar"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Detaylı satış performansı ve istatistiksel analiz"})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-xl p-1 shadow-sm",children:[h.jsx("button",{onClick:()=>A("thisMonth"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${c==="thisMonth"?"bg-gradient-purple text-white shadow-md":"text-gray-600 hover:text-purple-600"}`,children:"Bu Ay"}),h.jsx("button",{onClick:()=>A("lastMonth"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${c==="lastMonth"?"bg-gradient-purple text-white shadow-md":"text-gray-600 hover:text-purple-600"}`,children:"Geçen Ay"}),h.jsx("button",{onClick:()=>A("custom"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${c==="custom"?"bg-gradient-purple text-white shadow-md":"text-gray-600 hover:text-purple-600"}`,children:"Özel"})]}),c==="custom"&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"date",value:s.startDate,onChange:M=>o(J=>({...J,startDate:M.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),h.jsx("input",{type:"date",value:s.endDate,onChange:M=>o(J=>({...J,endDate:M.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-xl transition-colors",children:[h.jsx(R1,{className:"h-4 w-4"}),h.jsx("span",{className:"text-sm font-medium",children:"Yenile"})]}),h.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-purple text-white rounded-xl hover:shadow-lg transition-all",children:[h.jsx(lj,{className:"h-4 w-4"}),h.jsx("span",{className:"text-sm font-medium",children:"Dışa Aktar"})]})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:_.map((M,J)=>{const se=M.icon;return h.jsxs("div",{className:"card-modern p-6 hover:scale-105 transition-transform duration-300",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:`w-12 h-12 ${M.iconBg} rounded-xl flex items-center justify-center shadow-lg`,children:h.jsx(se,{className:"h-6 w-6 text-white"})}),h.jsxs("div",{className:`flex items-center space-x-1 text-sm font-semibold ${M.changeType==="positive"?"text-green-600":M.changeType==="negative"?"text-red-600":"text-gray-600"}`,children:[M.changeType==="positive"?h.jsx(Cc,{className:"h-4 w-4"}):M.changeType==="negative"?h.jsx(q7,{className:"h-4 w-4"}):null,h.jsx("span",{children:M.change})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:M.title}),h.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:M.value.toLocaleString("tr-TR")})]})]},J)})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"card-modern p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Satış Detay Dağılımı"}),h.jsx(j1,{className:"h-5 w-5 text-purple-600"})]}),h.jsxs("div",{className:"space-y-4",children:[((D=t.salesDetailDistribution)==null?void 0:D.map((M,J)=>{const se=["bg-gradient-to-r from-green-500 to-green-600","bg-gradient-to-r from-orange-500 to-orange-600","bg-gradient-to-r from-blue-500 to-blue-600","bg-gradient-to-r from-red-500 to-red-600","bg-gradient-to-r from-purple-500 to-purple-600","bg-gradient-to-r from-indigo-500 to-indigo-600"];return h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`w-4 h-4 rounded-full ${se[J%se.length]}`}),h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:M.name})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:M.count}),h.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[M.percentage,"%"]})]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full ${se[J%se.length]}`,style:{width:`${M.percentage}%`}})})]},M.name)}))||h.jsxs("div",{className:"text-center text-gray-500 py-8",children:[h.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),h.jsx("div",{className:"text-sm",children:"Satış detay bilgisi mevcut değil"})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg p-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"Toplam"}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:"text-xl font-bold text-purple-600",children:t.totalRecords}),h.jsx("span",{className:"text-sm font-semibold text-purple-600 bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded-full",children:"100%"})]})]})})]})]}),h.jsxs("div",{className:"card-modern p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Çağrı Kanalı Dağılımı"}),h.jsx(_f,{className:"h-5 w-5 text-purple-600"})]}),h.jsx("div",{className:"space-y-4",children:((C=t.channelDistribution)==null?void 0:C.map((M,J)=>{const se=["bg-gradient-to-r from-blue-500 to-blue-600","bg-gradient-to-r from-green-500 to-green-600","bg-gradient-to-r from-yellow-500 to-yellow-600","bg-gradient-to-r from-red-500 to-red-600"];return h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`w-4 h-4 rounded-full ${se[J%se.length]}`}),h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:M.name})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:M.count}),h.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[M.percentage,"%"]})]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full ${se[J%se.length]}`,style:{width:`${M.percentage}%`}})})]},M.name)}))||h.jsxs("div",{className:"text-center text-gray-500 py-8",children:[h.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),h.jsx("div",{className:"text-sm",children:"Çağrı kanalı bilgisi mevcut değil"})]})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"card-modern p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Çağrı Durumu Dağılımı"}),h.jsx(k1,{className:"h-5 w-5 text-purple-600"})]}),h.jsx("div",{className:"space-y-4",children:((V=t.callStatusDistribution)==null?void 0:V.map((M,J)=>{const se=["bg-gradient-to-r from-green-500 to-green-600","bg-gradient-to-r from-yellow-500 to-yellow-600","bg-gradient-to-r from-red-500 to-red-600","bg-gradient-to-r from-blue-500 to-blue-600"];return h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`w-4 h-4 rounded-full ${se[J%se.length]}`}),h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:M.name})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:M.count}),h.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[M.percentage,"%"]})]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full ${se[J%se.length]}`,style:{width:`${M.percentage}%`}})})]},M.name)}))||h.jsxs("div",{className:"text-center text-gray-500 py-8",children:[h.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),h.jsx("div",{className:"text-sm",children:"Çağrı durumu bilgisi mevcut değil"})]})})]}),h.jsxs("div",{className:"card-modern p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Abonelik Son Durum Dağılımı"}),h.jsx(sa,{className:"h-5 w-5 text-purple-600"})]}),h.jsx("div",{className:"space-y-4",children:((P=t.subscriptionStatusDistribution)==null?void 0:P.map((M,J)=>{const se=["bg-gradient-to-r from-emerald-500 to-emerald-600","bg-gradient-to-r from-amber-500 to-amber-600","bg-gradient-to-r from-rose-500 to-rose-600","bg-gradient-to-r from-cyan-500 to-cyan-600","bg-gradient-to-r from-violet-500 to-violet-600"];return h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`w-4 h-4 rounded-full ${se[J%se.length]}`}),h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:M.name})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:M.count}),h.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-full",children:[M.percentage,"%"]})]})]}),h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full ${se[J%se.length]}`,style:{width:`${M.percentage}%`}})})]},M.name)}))||h.jsxs("div",{className:"text-center text-gray-500 py-8",children:[h.jsx("div",{className:"text-lg font-medium mb-2",children:"Veri bulunamadı"}),h.jsx("div",{className:"text-sm",children:"Abonelik durumu bilgisi mevcut değil"})]})})]})]}),h.jsxs("div",{className:"card-modern p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Personel Performansı"}),h.jsx(sa,{className:"h-5 w-5 text-purple-600"})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[h.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Personel"}),h.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Toplam Kayıt"}),h.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Başarılı Satış"}),h.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Dönüşüm Oranı"}),h.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Performans"})]})}),h.jsx("tbody",{children:t.personnelPerformance.map((M,J)=>h.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[h.jsx("td",{className:"py-4 px-4",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-purple rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white text-sm font-semibold",children:M.name.charAt(0).toUpperCase()})}),h.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:M.name})]})}),h.jsx("td",{className:"py-4 px-4 text-center text-gray-600 dark:text-gray-400",children:M.totalRecords}),h.jsx("td",{className:"py-4 px-4 text-center",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:M.successfulSales})}),h.jsxs("td",{className:"py-4 px-4 text-center text-gray-600 dark:text-gray-400",children:["%",M.conversionRate]}),h.jsx("td",{className:"py-4 px-4 text-center",children:h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-gradient-purple h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(M.conversionRate,100)}%`}})})})]},J))})]})})]}),h.jsxs("div",{className:"card-modern p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Dönüşüm Oranı Analizi"}),h.jsx(Wh,{className:"h-5 w-5 text-purple-600"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:h.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Op,{className:"h-8 w-8 text-white"})}),h.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Genel Dönüşüm Oranı"}),h.jsxs("p",{className:"text-4xl font-bold text-green-600 mb-2",children:["%",t.conversionRate]}),h.jsxs("p",{className:"text-lg text-gray-600",children:[t.totalRecords," kayıttan ",t.successfulSales," başarılı satış"]})]})})]})]})}),h.jsx(f0,{isOpen:f.isOpen,onClose:()=>g(M=>({...M,isOpen:!1})),title:f.title,type:f.type,onConfirm:f.onConfirm,children:h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:f.message})})]})},xs=({allowedRoles:n,children:e,fallback:t=null})=>{const{userRole:i}=Ss();return i&&n.includes(i)?e:t},tC=()=>{const[n,e]=pe.useState([]),[t,i]=pe.useState(!0),s=async()=>{try{const c=await $r(Xn(qt,"users")),d={},f={};c.forEach(N=>{const _=N.data(),D=_.uid||N.id;d[D]={..._,id:D},(_.role==="teamLeader"||_.role==="Team Leader")&&(f[D]={leader:_,members:[]})}),Object.values(d).forEach(N=>{(N.role==="personnel"||N.role==="Personnel")&&N.teamLeader&&f[N.teamLeader]&&f[N.teamLeader].members.push(N)});const g=await $r(Xn(qt,"sales_records")),b=[];g.forEach(N=>{var D;const _=N.data();b.push({..._,id:N.id,createdAt:((D=_.createdAt)==null?void 0:D.toDate())||new Date(_.tarih)})});const A=[];Object.entries(f).forEach(([N,_])=>{const D=[N,..._.members.map(se=>se.id)],C=b.filter(se=>D.includes(se.createdBy)),V=D.map(se=>{const ae=C.filter(T=>T.createdBy===se),fe=ae.filter(T=>T.detay==="Satış Sağlandı"||T.detay==="Satış sağlandı"||T.detay==="Satış Bilgisi").length;return{user:d[se],totalRecords:ae.length,successfulSales:fe,conversionRate:ae.length>0?fe/ae.length*100:0,isLeader:se===N}}),P=V.reduce((se,ae)=>se+ae.totalRecords,0),M=V.reduce((se,ae)=>se+ae.successfulSales,0),J=V.length>0?V.reduce((se,ae)=>se+ae.conversionRate,0)/V.length:0;A.push({leader:_.leader,members:V,teamStats:{totalMembers:D.length,totalRecords:P,totalSuccessfulSales:M,averageConversionRate:J}})}),A.sort((N,_)=>_.teamStats.totalSuccessfulSales-N.teamStats.totalSuccessfulSales),e(A)}catch(c){console.error("Takım performansı hesaplanırken hata:",c)}finally{i(!1)}};pe.useEffect(()=>{s()},[]);const o=c=>{switch(c){case 0:return{emoji:"🥇",text:"En İyi Takım",color:"text-yellow-600 bg-yellow-100"};case 1:return{emoji:"🥈",text:"İkinci Takım",color:"text-gray-600 bg-gray-100"};case 2:return{emoji:"🥉",text:"Üçüncü Takım",color:"text-orange-600 bg-orange-100"};default:return null}};return t?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Takım performansı hesaplanıyor..."})})}):h.jsx(xs,{allowedRoles:["admin","teamLeader"],children:h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:h.jsx(_f,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Takım Performansı Karşılaştırması"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Takım liderlerinin ve üyelerinin detaylı performans analizi"})]})]})}),h.jsx("div",{className:"space-y-8",children:n.map((c,d)=>{const f=o(d);return h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(sa,{className:"w-6 h-6"}),h.jsxs("h2",{className:"text-2xl font-bold",children:[c.leader.displayName||c.leader.email," Takımı"]})]}),h.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("div",{className:"opacity-80",children:"Üye Sayısı"}),h.jsx("div",{className:"text-xl font-bold",children:c.teamStats.totalMembers})]}),h.jsxs("div",{children:[h.jsx("div",{className:"opacity-80",children:"Toplam Kayıt"}),h.jsx("div",{className:"text-xl font-bold",children:c.teamStats.totalRecords})]}),h.jsxs("div",{children:[h.jsx("div",{className:"opacity-80",children:"Başarılı Satış"}),h.jsx("div",{className:"text-xl font-bold",children:c.teamStats.totalSuccessfulSales})]}),h.jsxs("div",{children:[h.jsx("div",{className:"opacity-80",children:"Ortalama Dönüşüm"}),h.jsxs("div",{className:"text-xl font-bold",children:["%",c.teamStats.averageConversionRate.toFixed(1)]})]})]})]}),f&&h.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.color}`,children:[f.emoji," ",f.text]})]})}),h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"grid gap-4",children:c.members.map(g=>h.jsxs("div",{className:`p-4 rounded-lg border-2 ${g.isLeader?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700"}`,children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${g.isLeader?"bg-blue-500":"bg-green-500"}`,children:g.isLeader?"L":"T"}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:[g.user.displayName||g.user.email,g.isLeader&&" (Takım Lideri)"]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:g.user.email})]})]}),h.jsxs("div",{className:"flex gap-6 text-sm",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Kayıt"}),h.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:g.totalRecords})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Başarılı"}),h.jsx("div",{className:"font-bold text-green-600",children:g.successfulSales})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-gray-600 dark:text-gray-300",children:"Dönüşüm"}),h.jsxs("div",{className:`font-bold ${g.conversionRate>=75?"text-green-600":g.conversionRate>=50?"text-yellow-600":"text-red-600"}`,children:["%",g.conversionRate.toFixed(1)]})]})]})]}),h.jsx("div",{className:"mt-3",children:h.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${g.conversionRate>=75?"bg-green-500":g.conversionRate>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(g.conversionRate,100)}%`}})})})]},g.user.id))})})]},c.leader.id)})}),n.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(y4,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Henüz takım verisi bulunmuyor"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Takım performansını görüntülemek için önce takım yapısını oluşturun."})]})]})})})},nC=()=>{const{currentUser:n,userRole:e,userName:t,logout:i}=Ss(),{darkMode:s,toggleDarkMode:o}=D7(),[c,d]=pe.useState(!1),[f,g]=pe.useState(!1),b=async()=>{try{await i()}catch(_){console.error("Çıkış yapma hatası:",_)}},A=_=>{switch(_){case"admin":return"Yönetici";case"teamLeader":return"Takım Lideri";case"personnel":return"Personel";default:return"Kullanıcı"}},N=_=>{switch(_){case"admin":return"badge-purple";case"teamLeader":return"badge-success";case"personnel":return"badge-warning";default:return"badge-purple"}};return h.jsxs("nav",{className:"bg-white dark:bg-gray-800 shadow-modern border-b border-purple-100 dark:border-gray-700 sticky top-0 z-40",children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center space-x-6 ml-auto",children:[h.jsx("button",{onClick:o,className:"p-2 text-gray-400 hover:text-purple-600 rounded-xl hover:bg-purple-50 transition-all duration-300 icon-hover",title:s?"Açık temaya geç":"Koyu temaya geç",children:s?h.jsx($b,{className:"h-5 w-5"}):h.jsx(Gb,{className:"h-5 w-5"})}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-3 p-2 rounded-xl hover:bg-purple-50 transition-all duration-300 group",children:[h.jsx("div",{className:"w-8 h-8 bg-gradient-purple rounded-lg flex items-center justify-center shadow-md group-hover:shadow-lg transition-shadow",children:h.jsx(cf,{className:"h-4 w-4 text-white"})}),h.jsxs("div",{className:"hidden lg:block text-left",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-900",children:t||(n==null?void 0:n.name)||"Kullanıcı"}),h.jsx("p",{className:"text-xs text-gray-500",children:n==null?void 0:n.email})]}),h.jsx($2,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${c?"rotate-180":""}`})]}),c&&h.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-gray-800 rounded-2xl shadow-modern-hover border border-purple-100 dark:border-gray-700 py-2 z-50",children:[h.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:h.jsx(cf,{className:"h-6 w-6 text-white"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t||(n==null?void 0:n.name)||"Kullanıcı"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n==null?void 0:n.email}),h.jsxs("span",{className:`${N(e)} mt-1`,children:[h.jsx(C1,{className:"h-3 w-3 mr-1"}),A(e)]})]})]})}),h.jsx("div",{className:"border-t border-gray-100 pt-2",children:h.jsxs("button",{onClick:b,className:"w-full flex items-center space-x-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors text-left font-medium",children:[h.jsx(Hb,{className:"h-4 w-4"}),h.jsx("span",{children:"Çıkış Yap"})]})})]})]})]}),h.jsx("div",{className:"md:hidden",children:h.jsx("button",{onClick:()=>g(!f),className:"p-2 text-gray-400 hover:text-purple-600 rounded-xl hover:bg-purple-50 transition-all duration-300",children:f?h.jsx(Fl,{className:"h-6 w-6"}):h.jsx(N4,{className:"h-6 w-6"})})})]}),f&&h.jsxs("div",{className:"md:hidden border-t border-purple-100 py-4 space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-3 px-2",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:h.jsx(cf,{className:"h-5 w-5 text-white"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-900",children:t||(n==null?void 0:n.name)||"Kullanıcı"}),h.jsx("p",{className:"text-sm text-gray-500",children:n==null?void 0:n.email}),h.jsxs("span",{className:`${N(e)} text-xs`,children:[h.jsx(C1,{className:"h-3 w-3 mr-1"}),A(e)]})]})]}),h.jsxs("div",{className:"space-y-2 px-2",children:[h.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 p-3 text-gray-700 hover:bg-purple-50 hover:text-purple-700 rounded-xl transition-colors text-left",children:[s?h.jsx($b,{className:"h-5 w-5"}):h.jsx(Gb,{className:"h-5 w-5"}),h.jsx("span",{className:"font-medium",children:s?"Açık Tema":"Koyu Tema"})]}),h.jsxs("button",{onClick:b,className:"w-full flex items-center space-x-3 p-3 text-red-600 hover:bg-red-50 rounded-xl transition-colors text-left font-medium",children:[h.jsx(Hb,{className:"h-5 w-5"}),h.jsx("span",{children:"Çıkış Yap"})]})]})]})]}),c&&h.jsx("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-25",onClick:()=>d(!1)})]})},rC=()=>{const n=zl(),{currentUser:e}=Ss(),[t,i]=pe.useState(!1),[s,o]=pe.useState(!1),[c,d]=pe.useState(new Set(["Genel"])),g=(()=>{const C={admin:[{title:"Genel",items:[{path:"/dashboard",icon:$m,label:"Anasayfa",description:"Genel bakış ve istatistikler"}]},{title:"Satış İşlemleri",items:[{path:"/records",icon:up,label:"Satış Kayıtları",description:"Tüm satış verilerini görüntüle"},{path:"/add-record",icon:ku,label:"Yeni Kayıt Ekle",description:"Yeni satış kaydı oluştur"}]},{title:"Analitik & Raporlar",items:[{path:"/analytics",icon:_f,label:"Analitik",description:"Detaylı performans analizleri"},{path:"/team-performance",icon:Op,label:"Takım Performansı",description:"Takım performansı karşılaştırması"}]},{title:"Yönetim",items:[{path:"/user-management",icon:sa,label:"Kullanıcı Yönetimi",description:"Personel ve yetki yönetimi"},{path:"/team-management",icon:qc,label:"Takım Yönetimi",description:"Takım liderlerini ve personelleri yönet"},{path:"/target-management",icon:Wh,label:"Hedef Yönetimi",description:"Satış hedeflerini belirle"},{path:"/dropdown-settings",icon:w4,label:"Dropdown Ayarları",description:"Form seçeneklerini yönet"}]},{title:"Sistem",items:[{path:"/settings",icon:K2,label:"Sistem Ayarları",description:"Uygulama konfigürasyonu"}]}],teamLeader:[{title:"Genel",items:[{path:"/dashboard",icon:$m,label:"Anasayfa",description:"Genel bakış ve istatistikler"}]},{title:"Satış İşlemleri",items:[{path:"/records",icon:up,label:"Satış Kayıtları",description:"Takım satış verilerini görüntüle"},{path:"/add-record",icon:ku,label:"Yeni Kayıt Ekle",description:"Yeni satış kaydı oluştur"}]},{title:"Analitik & Raporlar",items:[{path:"/analytics",icon:_f,label:"Analitik",description:"Detaylı performans analizleri"}]},{title:"Takım Yönetimi",items:[{path:"/team-performance",icon:Op,label:"Takım Performansı",description:"Ekip performans metrikleri"},{path:"/target-management",icon:Wh,label:"Hedef Yönetimi",description:"Takım hedeflerini belirle"}]}],personnel:[{title:"Genel",items:[{path:"/dashboard",icon:$m,label:"Anasayfa",description:"Genel bakış ve istatistikler"}]},{title:"Satış İşlemleri",items:[{path:"/records",icon:up,label:"Satış Kayıtlarım",description:"Kişisel satış verileriniz"},{path:"/add-record",icon:ku,label:"Yeni Kayıt Ekle",description:"Yeni satış kaydı oluştur"}]}]};return C[e==null?void 0:e.role]||C.personnel})(),b=C=>n.pathname===C,A=()=>{i(!t)},N=()=>{o(!s)},_=C=>{t||d(V=>{const P=new Set(V);return P.has(C)?P.delete(C):P.add(C),P})},D=C=>t||c.has(C);return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:N,className:"lg:hidden fixed top-20 left-4 z-50 p-2 bg-gradient-purple text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:s?h.jsx(Fl,{className:"h-5 w-5"}):h.jsx(N4,{className:"h-5 w-5"})}),s&&h.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:N}),h.jsx("aside",{className:`
        fixed lg:relative top-0 left-0 z-40 h-full bg-white dark:bg-gray-800 border-r border-purple-100 dark:border-gray-700 shadow-modern
        transition-all duration-300 ease-in-out
        ${t?"w-20":"w-72"}
        ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:`flex items-center border-b border-purple-100 ${t?"p-4 justify-center":"p-6 justify-between"}`,children:[!t&&h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:h.jsx(Fb,{className:"h-5 w-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-gradient-purple",children:"Satış CRM"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Profesyonel Satış Sistemi"})]})]}),t&&h.jsx("div",{className:"w-10 h-10 bg-gradient-purple rounded-xl flex items-center justify-center shadow-lg",children:h.jsx(Fb,{className:"h-5 w-5 text-white"})}),h.jsx("button",{onClick:A,className:"hidden lg:flex p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-xl transition-all duration-300 icon-hover",children:t?h.jsx(b4,{className:"h-5 w-5"}):h.jsx(ej,{className:"h-5 w-5"})})]}),h.jsx("nav",{className:"flex-1 py-6 overflow-y-auto",children:h.jsx("div",{className:`space-y-2 ${t?"px-3":"px-6"}`,children:g.map((C,V)=>{const P=D(C.title);return h.jsxs("div",{className:"mb-2",children:[t?null:h.jsxs("button",{onClick:()=>_(C.title),className:"w-full flex items-center justify-between p-2 text-left hover:bg-purple-50 rounded-lg transition-colors duration-200",children:[h.jsx("h3",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:C.title}),P?h.jsx(rj,{className:"h-4 w-4 text-gray-400"}):h.jsx($2,{className:"h-4 w-4 text-gray-400"})]}),h.jsx("div",{className:`overflow-hidden transition-all duration-300 ${P?"max-h-96 opacity-100":"max-h-0 opacity-0"} ${t?"":"mt-1"}`,children:h.jsx("ul",{className:"space-y-1",children:C.items.map(M=>{const J=M.icon,se=b(M.path);return h.jsx("li",{children:h.jsxs(Z1,{to:M.path,onClick:()=>o(!1),className:`
                                  group flex items-center rounded-xl transition-all duration-300 transform hover:-translate-y-0.5
                                  ${t?"p-3 justify-center":"p-3 ml-2"}
                                  ${se?"bg-gradient-purple text-white shadow-lg":"text-gray-700 dark:text-gray-300 hover:bg-purple-50 hover:text-purple-700"}
                                `,title:t?M.label:"",children:[h.jsx(J,{className:`
                                  flex-shrink-0 transition-all duration-300
                                  ${t?"h-6 w-6":"h-5 w-5"}
                                  ${se?"text-white":"text-gray-400 group-hover:text-purple-600"}
                                `}),!t&&h.jsxs("div",{className:"ml-3 flex-1",children:[h.jsx("span",{className:"font-medium text-sm",children:M.label}),h.jsx("p",{className:`text-xs mt-0.5 ${se?"text-purple-100":"text-gray-500 dark:text-gray-400 group-hover:text-purple-500"}`,children:M.description})]}),!t&&se&&h.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-75"})]})},M.path)})})})]},V)})})}),h.jsx("div",{className:`p-4 border-t border-purple-100 ${t?"text-center":""}`,children:t?h.jsx("div",{className:"w-8 h-8 bg-gradient-purple rounded-lg flex items-center justify-center mx-auto",children:h.jsx($m,{className:"h-4 w-4 text-white"})}):h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Satış Takip CRM v2.0"}),h.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"© 2024 Tüm hakları saklıdır"})]})})]})})]})},mx=()=>{const n=Date.now(),e=Math.random().toString(36).substring(2,8);return`REF-${n}-${e.toUpperCase()}`},iC=n=>{if(!n)return"";try{const e=new Date(n);if(isNaN(e.getTime()))return"";const t=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return`${t}/${i}/${s}`}catch(e){return console.warn("Tarih formatlanırken hata:",n,e),""}},px=n=>{if(!n)return"";const e=new Date(n),t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${s}`},aC=n=>{if(!n||typeof n!="string")return"";try{const e=n.replace(/\D/g,"");return e.length===11&&e.startsWith("0")?e.replace(/(\d{4})(\d{3})(\d{2})(\d{2})/,"$1 $2 $3 $4"):n}catch(e){return console.warn("Telefon formatlanırken hata:",n,e),n||""}},sC=()=>{const{currentUser:n,userRole:e}=Ss(),[t,i]=pe.useState(!1),[s,o]=pe.useState(""),[c,d]=pe.useState([]),[f,g]=pe.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null}),[b,A]=pe.useState(""),[N,_]=pe.useState({kanalList:[],durumList:[],detayList:[],abonelikDurumList:[]}),[D,C]=pe.useState({refId:mx(),personel:"",tarih:px(new Date),telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""});pe.useEffect(()=>{(async()=>{if(n)try{const F=Xn(qt,"users"),I=(await $r(F)).docs.map(k=>k.data());d(I);const G=or(qt,"dropdown_settings","main"),R=await zo(G);if(R.exists()){const k=R.data();_({kanalList:k.kanalList||[],durumList:k.durumList||[],detayList:k.detayList||[],abonelikDurumList:k.abonelikDurumList||[]})}else _({kanalList:["Telefon","WhatsApp","E-posta","Yüz Yüze","Web Site"],durumList:["Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti"],detayList:["İlgilendi","Düşünecek","Fiyat Sordu","Bilgi İstedi","İlgilenmedi","Satış Sağlandı"],abonelikDurumList:["Yeni Abone","Mevcut Abone","İptal","Askıya Alındı","Beklemede"]});if(e==="personnel"){const k=I.find(O=>O.uid===n.uid);if(k){const O=k.name||k.email;o(O),C(ee=>({...ee,personel:O}))}else{const O=I.find(ee=>ee.email===n.email);if(O){const ee=O.name||O.email;o(ee),C(ve=>({...ve,personel:ee}))}}}}catch(F){console.error("Veriler yüklenirken hata:",F)}})()},[n,e]);const V=fe=>{const F=fe.replace(/\s+/g,"").replace(/[()-]/g,""),T=/^(05)([0-9]{2})([0-9]{3})([0-9]{2})([0-9]{2})$/,I=/^(0)([2-4])([0-9]{2})([0-9]{3})([0-9]{2})([0-9]{2})$/;return F?F.length!==11?"Telefon numarası 11 haneli olmalıdır.":F.startsWith("0")?!T.test(F)&&!I.test(F)?"Geçersiz telefon numarası formatı.":"":"Telefon numarası 0 ile başlamalıdır.":"Telefon numarası gereklidir."},P=fe=>{const F=fe.replace(/\D/g,"");return F.length>11?fe.slice(0,-1):F.length>=7?F.replace(/^(\d{4})(\d{3})(\d{2})(\d{2})/,"$1 $2 $3 $4"):F.length>=4?F.replace(/^(\d{4})(\d{0,3})/,"$1 $2"):F},M=fe=>{const{name:F,value:T}=fe.target;if(F==="telefon"){const I=P(T),G=V(I);A(G),C(R=>({...R,[F]:I}))}else C(F==="kanal"&&T==="Fake Talep"?I=>({...I,[F]:T,durum:"",detay:"",abonelikDurum:"",aboneNo:""}):I=>({...I,[F]:T}))},J=D.kanal==="Fake Talep",se=async fe=>{fe.preventDefault();const F=V(D.telefon);if(F){g({isOpen:!0,type:"error",title:"Geçersiz Telefon Numarası",message:F,onConfirm:null});return}if(!J&&!D.durum){g({isOpen:!0,type:"error",title:"Eksik Bilgi",message:"Çağrı Durumu seçimi zorunludur.",onConfirm:null});return}i(!0);try{const T={...D,createdBy:n.uid,createdAt:T1(),updatedAt:T1()};await d4(Xn(qt,"sales_records"),T),C({refId:mx(),personel:e==="personnel"?s:"",tarih:px(new Date),telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""}),g({isOpen:!0,type:"success",title:"Kayıt Eklendi",message:`Kayıt başarıyla eklendi!
Referans ID: ${D.refId}`,onConfirm:null})}catch(T){console.error("Kayıt eklenirken hata:",T),g({isOpen:!0,type:"error",title:"Hata",message:"Kayıt eklenirken bir hata oluştu. Lütfen tekrar deneyin.",onConfirm:null})}i(!1)},ae=()=>{g({isOpen:!1,type:"info",title:"",message:"",onConfirm:null})};return h.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Yeni Satış Kaydı"}),h.jsxs("form",{onSubmit:se,className:"bg-white shadow-sm rounded-lg p-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Referans ID"}),h.jsx("input",{type:"text",name:"refId",value:D.refId,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Personel ",h.jsx("span",{className:"text-red-500",children:"*"})]}),e==="personnel"?h.jsx("input",{type:"text",name:"personel",value:D.personel,disabled:!0,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700 font-medium"}):h.jsxs("select",{name:"personel",value:D.personel,onChange:M,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Seçiniz"}),c.map(fe=>h.jsx("option",{value:fe.name||fe.email,children:fe.name||fe.email},fe.uid))]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tarih ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"date",name:"tarih",value:D.tarih,onChange:M,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Telefon ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"tel",name:"telefon",value:D.telefon,onChange:M,required:!0,placeholder:"0555 123 45 67",maxLength:"13",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${b?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`}),b&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(Vu,{className:"h-4 w-4 mr-1"}),b]}),h.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Format: 0555 123 45 67 (Mobil) veya 0212 123 45 67 (Sabit)"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Çağrı Kanalı ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"kanal",value:D.kanal,onChange:M,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Seçiniz"}),N.kanalList.map(fe=>h.jsx("option",{value:fe,children:fe},fe))]})]}),!J&&h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Çağrı Durumu ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{name:"durum",value:D.durum,onChange:M,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Seçiniz"}),N.durumList.map(fe=>h.jsx("option",{value:fe,children:fe},fe))]})]}),!J&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Satış Çağrısı Detayı"}),h.jsxs("select",{name:"detay",value:D.detay,onChange:M,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Seçiniz"}),N.detayList.map(fe=>h.jsx("option",{value:fe,children:fe},fe))]})]}),!J&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Abonelik Durumu"}),h.jsxs("select",{name:"abonelikDurum",value:D.abonelikDurum,onChange:M,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Seçiniz"}),N.abonelikDurumList.map(fe=>h.jsx("option",{value:fe,children:fe},fe))]})]}),!J&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Abone Numarası"}),h.jsx("input",{type:"text",name:"aboneNo",value:D.aboneNo,onChange:M,placeholder:"12345678",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Açıklama/Not"}),h.jsx("textarea",{name:"not",value:D.not,onChange:M,rows:"3",placeholder:"Ek açıklamalar...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),h.jsx("div",{className:"mt-6 flex justify-end",children:h.jsxs("button",{type:"submit",disabled:t,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(Uu,{className:"h-4 w-4 mr-2"}),t?"Kaydediliyor...":"Kaydet"]})})]}),h.jsx(f0,{isOpen:f.isOpen,onClose:ae,title:f.title,message:f.message,type:f.type,onConfirm:f.onConfirm,confirmText:"Tamam"})]})},oC=({isOpen:n,onClose:e,children:t})=>{if(!n)return null;const i=document.getElementById("modal-root")||document.body;return e2.createPortal(h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:e,children:h.jsx("div",{style:{position:"relative",maxHeight:"90vh",overflow:"auto",margin:"0"},onClick:s=>s.stopPropagation(),children:t})}),i)},lC=()=>{const{currentUser:n,userRole:e}=Ss(),[t,i]=pe.useState([]),[s,o]=pe.useState(!0),[c,d]=pe.useState(null),[f,g]=pe.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null,recordToDelete:null}),[b,A]=pe.useState({kanalList:[],durumList:[],detayList:[],abonelikDurumList:[]}),[N,_]=pe.useState({personel:"",kanal:"",durum:"",detay:"",abonelikDurum:"",dateFrom:"",dateTo:""}),[D,C]=pe.useState(1),[V]=pe.useState(10),[P,M]=pe.useState(""),[J,se]=pe.useState(null),[ae,fe]=pe.useState(!1),[F,T]=pe.useState({personel:"",tarih:"",telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""});pe.useEffect(()=>((async()=>{if(!(!n||!e))try{const ge=Xn(qt,"users"),$e=Ka(ge,Mc("uid","==",n.uid)),De=await $r($e);if(De.empty){const le=Ka(ge,Mc("email","==",n.email)),lt=await $r(le);if(!lt.empty){const st=lt.docs[0].data();M(st.name||"")}}else{const le=De.docs[0].data();M(le.name||"")}}catch(ge){console.error("Kullanıcı adı alınırken hata:",ge)}})(),()=>{document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width=""}),[n,e]),pe.useEffect(()=>{(async()=>{try{const ge=or(qt,"dropdown_settings","main"),$e=await zo(ge);if($e.exists()){const De=$e.data();A({kanalList:De.kanalList||[],durumList:De.durumList||[],detayList:De.detayList||[],abonelikDurumList:De.abonelikDurumList||[]})}else A({kanalList:["Telefon","WhatsApp","E-posta","Yüz Yüze","Web Site"],durumList:["Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti"],detayList:["İlgilendi","Düşünecek","Fiyat Sordu","Bilgi İstedi","İlgilenmedi","Satış Sağlandı"],abonelikDurumList:["Yeni Abone","Mevcut Abone","İptal","Askıya Alındı","Beklemede"]})}catch(ge){console.error("Dropdown seçenekleri yüklenirken hata:",ge)}})()},[]);const I=()=>{const Ee=new Date,ge=new Date(Ee.getFullYear(),Ee.getMonth(),1),$e=new Date(Ee.getFullYear(),Ee.getMonth()+1,0,23,59,59);return{startOfMonth:ge,endOfMonth:$e}},G=async()=>{if(!(!n||!e)){o(!0);try{const{startOfMonth:Ee,endOfMonth:ge}=I();let $e;if(e==="admin")$e=Ka(Xn(qt,"sales_records"));else if(e==="teamLeader")$e=Ka(Xn(qt,"sales_records"));else if(e==="personnel")$e=Ka(Xn(qt,"sales_records"),Mc("createdBy","==",n.uid));else{i([]),o(!1);return}let le=(await $r($e)).docs.map(lt=>({id:lt.id,...lt.data()}));if(e==="personnel"&&P)try{const lt=Ka(Xn(qt,"sales_records"),Mc("personel","==",P)),Qe=(await $r(lt)).docs.map(it=>({id:it.id,...it.data()})),rt=new Set(le.map(it=>it.id)),at=Qe.filter(it=>!rt.has(it.id));le=[...le,...at]}catch(lt){console.warn("Import edilmiş kayıtlar çekilirken hata:",lt)}le=le.filter(lt=>{if(lt.createdAt)try{const st=lt.createdAt.toDate?lt.createdAt.toDate():new Date(lt.createdAt);return st>=Ee&&st<=ge}catch{}if(lt.tarih)try{const st=new Date(lt.tarih);if(!isNaN(st.getTime()))return st>=Ee&&st<=ge}catch{}return!1}),le.sort((lt,st)=>{if(lt.createdAt&&st.createdAt)try{const Qe=lt.createdAt.toDate?lt.createdAt.toDate():new Date(lt.createdAt);return(st.createdAt.toDate?st.createdAt.toDate():new Date(st.createdAt))-Qe}catch(Qe){console.warn("Tarih sıralama hatası:",Qe)}if(lt.tarih&&st.tarih)try{const Qe=new Date(lt.tarih),rt=new Date(st.tarih);if(!isNaN(Qe.getTime())&&!isNaN(rt.getTime()))return rt-Qe}catch(Qe){console.warn("Tarih sıralama hatası:",Qe)}return 0}),i(le)}catch(Ee){console.error("Veriler yüklenirken hata:",Ee),i([])}finally{o(!1)}}};pe.useEffect(()=>{G()},[n.uid,e,P]);const R=()=>{G()},k=t.filter(Ee=>{try{return!(N.personel&&Ee.personel&&!Ee.personel.toLowerCase().includes(N.personel.toLowerCase())||N.kanal&&Ee.kanal!==N.kanal||N.durum&&Ee.durum!==N.durum||N.detay&&Ee.detay!==N.detay||N.abonelikDurum&&Ee.abonelikDurum!==N.abonelikDurum||N.dateFrom&&Ee.tarih&&new Date(Ee.tarih)<new Date(N.dateFrom)||N.dateTo&&Ee.tarih&&new Date(Ee.tarih)>new Date(N.dateTo))}catch(ge){return console.warn("Kayıt filtrelenirken hata:",Ee,ge),!0}}),O=k.length,ee=Math.ceil(O/V),ve=(D-1)*V,re=ve+V,he=k.slice(ve,re),oe=Ee=>{C(Ee),window.scrollTo({top:0,behavior:"smooth"})},_e=Ee=>{Re(Ee),C(1)},X=()=>{B(),C(1)},Re=Ee=>{const{name:ge,value:$e}=Ee.target;_(De=>({...De,[ge]:$e}))},B=()=>{_({personel:"",kanal:"",durum:"",detay:"",abonelikDurum:"",dateFrom:"",dateTo:""})},Y=(Ee,ge)=>{if(e!=="admin"&&e!=="teamLeader"){g({isOpen:!0,type:"error",title:"Yetki Hatası",message:"Bu işlem için yetkiniz bulunmamaktadır.",onConfirm:null,recordToDelete:null});return}g({isOpen:!0,type:"confirm",title:"Kayıt Silme Onayı",message:`"${ge}" numaralı kaydı silmek istediğinizden emin misiniz?

Bu işlem geri alınamaz.`,onConfirm:()=>te(Ee),recordToDelete:{id:Ee,refId:ge}})},te=async Ee=>{try{d(Ee),g({...f,isOpen:!1}),await h0(or(qt,"sales_records",Ee)),await G(),g({isOpen:!0,type:"success",title:"Kayıt Silindi",message:"Kayıt başarıyla silindi.",onConfirm:null,recordToDelete:null})}catch(ge){console.error("Kayıt silinirken hata:",ge),g({isOpen:!0,type:"error",title:"Silme Hatası",message:"Kayıt silinirken bir hata oluştu. Lütfen tekrar deneyin.",onConfirm:null,recordToDelete:null})}finally{d(null)}},ue=()=>{g({isOpen:!1,type:"info",title:"",message:"",onConfirm:null,recordToDelete:null})},ne=Ee=>{const ge=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${ge}px`,document.body.style.width="100%",se(Ee),T({personel:Ee.personel||"",tarih:Ee.tarih||"",telefon:Ee.telefon||"",kanal:Ee.kanal||"",durum:Ee.durum||"",detay:Ee.detay||"",abonelikDurum:Ee.abonelikDurum||"",aboneNo:Ee.aboneNo||"",not:Ee.not||""}),fe(!0)},de=()=>{const Ee=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width="",Ee&&window.scrollTo(0,parseInt(Ee||"0")*-1),fe(!1),se(null),T({personel:"",tarih:"",telefon:"",kanal:"",durum:"",detay:"",abonelikDurum:"",aboneNo:"",not:""})},we=Ee=>{ne(Ee)},Se=Ee=>{const{name:ge,value:$e}=Ee.target;T(De=>({...De,[ge]:$e}))},nt=async()=>{if(J)try{const{updateDoc:Ee}=await Mp(async()=>{const{updateDoc:$e}=await Promise.resolve().then(()=>j7);return{updateDoc:$e}},void 0),ge=or(qt,"sales_records",J.id);await Ee(ge,{...F,updatedAt:new Date}),de(),await G(),g({isOpen:!0,type:"success",title:"Kayıt Güncellendi",message:"Kayıt başarıyla güncellendi.",onConfirm:null}),setTimeout(()=>{g($e=>({...$e,isOpen:!1}))},2e3)}catch(Ee){console.error("Kayıt güncellenirken hata:",Ee),g({isOpen:!0,type:"error",title:"Güncelleme Hatası",message:"Kayıt güncellenirken bir hata oluştu. Lütfen tekrar deneyin.",onConfirm:null})}},Ze=()=>{de()};return s?h.jsx("div",{className:"flex justify-center items-center p-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Satış Kayıtları"}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Sadece ",h.jsx("strong",{children:new Date().toLocaleDateString("tr-TR",{month:"long",year:"numeric"})})," ayına ait kayıtlar gösteriliyor",h.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500 ml-2",children:["(",new Date(new Date().getFullYear(),new Date().getMonth(),1).toLocaleDateString("tr-TR")," - ",new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toLocaleDateString("tr-TR"),")"]})]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("div",{children:[h.jsxs("span",{className:"text-sm text-gray-600",children:["Toplam ",O," kayıt • Sayfa ",D,"/",ee," • Gösterilen: ",ve+1,"-",Math.min(re,O)]}),e==="personnel"&&h.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Kendi oluşturduğunuz kayıtlar ve sizin adınıza import edilen kayıtlar gösteriliyor"})]})})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm mb-6 border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(fj,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 mr-2"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Filtreler"}),h.jsxs("div",{className:"ml-auto flex items-center space-x-3",children:[h.jsxs("button",{onClick:R,disabled:s,className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center transition-colors text-sm",children:[h.jsx("svg",{className:`h-4 w-4 mr-1 ${s?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s?"Yükleniyor...":"Yenile"]}),h.jsx("button",{onClick:X,className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Filtreleri Temizle"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Personel"}),h.jsx("input",{type:"text",name:"personel",value:N.personel,onChange:_e,placeholder:"Personel adı...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Kanal"}),h.jsxs("select",{name:"kanal",value:N.kanal,onChange:_e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[h.jsx("option",{value:"",children:"Tümü"}),b.kanalList.map((Ee,ge)=>h.jsx("option",{value:Ee,children:Ee},ge))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Durum"}),h.jsxs("select",{name:"durum",value:N.durum,onChange:_e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[h.jsx("option",{value:"",children:"Tümü"}),b.durumList.map((Ee,ge)=>h.jsx("option",{value:Ee,children:Ee},ge))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Satış Detayı"}),h.jsxs("select",{name:"detay",value:N.detay,onChange:_e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[h.jsx("option",{value:"",children:"Tümü"}),b.detayList.map((Ee,ge)=>h.jsx("option",{value:Ee,children:Ee},ge))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Abonelik Durumu"}),h.jsxs("select",{name:"abonelikDurum",value:N.abonelikDurum,onChange:_e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[h.jsx("option",{value:"",children:"Tümü"}),b.abonelikDurumList.map((Ee,ge)=>h.jsx("option",{value:Ee,children:Ee},ge))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Başlangıç Tarihi"}),h.jsx("input",{type:"date",name:"dateFrom",value:N.dateFrom,onChange:_e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bitiş Tarihi"}),h.jsx("input",{type:"date",name:"dateTo",value:N.dateTo,onChange:_e,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden",children:[h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Personel"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telefon"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kanal"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Satış Detayı"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abonelik"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Abone No"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Not"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:he.map(Ee=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(cf,{className:"h-4 w-4 text-gray-400 mr-2"}),h.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:Ee.personel})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(v4,{className:"h-4 w-4 text-gray-400 mr-2"}),h.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:iC(Ee.tarih)||Ee.tarih||"-"})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Rj,{className:"h-4 w-4 text-gray-400 mr-2"}),h.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:aC(Ee.telefon)||Ee.telefon||"-"})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ee.kanal})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ee.durum==="Arandı"?"bg-green-100 text-green-800":Ee.durum==="Meşgul"?"bg-yellow-100 text-yellow-800":Ee.durum==="Ulaşılamadı"?"bg-red-100 text-red-800":Ee.durum==="Geri Arama"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:Ee.durum})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:Ee.detay||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:Ee.abonelikDurum||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:Ee.aboneNo||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100 max-w-xs truncate",title:Ee.not,children:Ee.not||"-"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[h.jsx("button",{onClick:()=>we(Ee),className:"text-blue-600 hover:text-blue-900 p-1",title:"Kaydı Düzenle",children:h.jsx(d0,{className:"h-4 w-4"})}),(e==="admin"||e==="teamLeader")&&h.jsx("button",{onClick:()=>Y(Ee.id,Ee.refId),disabled:c===Ee.id,className:"text-red-600 hover:text-red-900 p-1 disabled:opacity-50",title:"Kaydı Sil",children:c===Ee.id?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):h.jsx(Oh,{className:"h-4 w-4"})})]})})]},Ee.id))})]})}),O===0&&h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Kayıt bulunamadı."})})]}),ee>1&&h.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-4 mt-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[h.jsx("span",{className:"font-medium",children:ve+1})," - ",h.jsx("span",{className:"font-medium",children:Math.min(re,O)})," arası, toplam ",h.jsx("span",{className:"font-medium",children:O})," kayıt"]})}),h.jsx("div",{className:"flex justify-center",children:h.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[h.jsx("button",{onClick:()=>oe(D-1),disabled:D===1,className:"relative inline-flex items-center px-3 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"← Önceki"}),Array.from({length:Math.min(7,ee)},(Ee,ge)=>{let $e;return ee<=7||D<=4?$e=ge+1:D>=ee-3?$e=ee-6+ge:$e=D-3+ge,h.jsx("button",{onClick:()=>oe($e),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium hover:bg-gray-50 ${D===$e?"z-10 bg-blue-600 border-blue-600 text-white hover:bg-blue-700":"bg-white border-gray-300 text-gray-500"}`,children:$e},$e)}),h.jsx("button",{onClick:()=>oe(D+1),disabled:D===ee,className:"relative inline-flex items-center px-3 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sonraki →"})]})}),h.jsxs("div",{className:"flex justify-center mt-4 space-x-2",children:[h.jsx("button",{onClick:()=>oe(1),disabled:D===1,className:"px-3 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"İlk Sayfa"}),h.jsx("button",{onClick:()=>oe(ee),disabled:D===ee,className:"px-3 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Son Sayfa"})]})]}),h.jsx(oC,{isOpen:ae,onClose:Ze,children:h.jsx("div",{className:"w-full max-w-4xl p-6 border shadow-xl rounded-lg bg-white",style:{minWidth:"90vw",maxWidth:"95vw"},children:h.jsxs("div",{className:"mt-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Kayıt Düzenle"}),h.jsx("button",{onClick:Ze,className:"text-gray-400 hover:text-gray-600",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personel"}),h.jsx("input",{type:"text",name:"personel",value:F.personel,onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tarih"}),h.jsx("input",{type:"date",name:"tarih",value:F.tarih,onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefon"}),h.jsx("input",{type:"text",name:"telefon",value:F.telefon,onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kanal"}),h.jsxs("select",{name:"kanal",value:F.kanal,onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Seçiniz"}),b.kanalList.map((Ee,ge)=>h.jsx("option",{value:Ee,children:Ee},ge))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durum"}),h.jsxs("select",{name:"durum",value:F.durum,onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Seçiniz"}),b.durumList.map((Ee,ge)=>h.jsx("option",{value:Ee,children:Ee},ge))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Satış Detayı"}),h.jsxs("select",{name:"detay",value:F.detay,onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Seçiniz"}),b.detayList.map((Ee,ge)=>h.jsx("option",{value:Ee,children:Ee},ge))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Abonelik Durumu"}),h.jsxs("select",{name:"abonelikDurum",value:F.abonelikDurum,onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Seçiniz"}),b.abonelikDurumList.map((Ee,ge)=>h.jsx("option",{value:Ee,children:Ee},ge))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Abone No"}),h.jsx("input",{type:"text",name:"aboneNo",value:F.aboneNo,onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Not"}),h.jsx("textarea",{name:"not",value:F.not,onChange:Se,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h.jsx("button",{onClick:Ze,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"İptal"}),h.jsx("button",{onClick:nt,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Kaydet"})]})]})})}),h.jsx(f0,{isOpen:f.isOpen,onClose:ue,title:f.title,message:f.message,type:f.type,onConfirm:f.onConfirm,showCancel:f.type==="confirm",confirmText:f.type==="confirm"?"Sil":"Tamam",cancelText:"İptal"})]})},Xm=({isOpen:n,onClose:e,children:t})=>{if(!n)return null;const i=document.getElementById("modal-root")||document.body;return e2.createPortal(h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999,padding:"16px"},onClick:e,children:h.jsx("div",{style:{position:"relative",maxHeight:"90vh",overflow:"auto",margin:"0"},onClick:s=>s.stopPropagation(),children:t})}),i)},cC=()=>{var we,Se,nt,Ze,Ee;const{currentUser:n}=Ss(),[e,t]=pe.useState([]),[i,s]=pe.useState(!0),[o,c]=pe.useState(!1),[d,f]=pe.useState(!1),[g,b]=pe.useState(null),[A,N]=pe.useState(!1),[_,D]=pe.useState(null),[C,V]=pe.useState({email:"",password:"",name:"",role:"Personnel"}),[P,M]=pe.useState({}),[J,se]=pe.useState(""),[ae,fe]=pe.useState(!1),[F,T]=pe.useState(!1),[I,G]=pe.useState(null),[R,k]=pe.useState(null),O=["Admin","Team Leader","Personnel"];pe.useEffect(()=>(ve(),ee(),()=>{document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width=""}),[]);const ee=async()=>{try{const ge=await zo(or(qt,"system_settings","main"));ge.exists()?D(ge.data()):D({security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1}})}catch(ge){console.error("Sistem ayarları yüklenirken hata:",ge),D({security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1}})}},ve=async()=>{try{s(!0),M({});const ge=Xn(qt,"users"),De=(await $r(ge)).docs.map(le=>({id:le.id,...le.data()}));De.sort((le,lt)=>{var rt,at,it,gt;const st=((at=(rt=le.createdAt)==null?void 0:rt.toDate)==null?void 0:at.call(rt))||new Date(0);return(((gt=(it=lt.createdAt)==null?void 0:it.toDate)==null?void 0:gt.call(it))||new Date(0))-st}),t(De)}catch(ge){console.error("Kullanıcılar yüklenirken hata:",ge),M({general:`Kullanıcılar yüklenirken hata oluştu: ${ge.message}`})}finally{s(!1)}},re=()=>{const ge={};if(C.email.trim()?/\S+@\S+\.\S+/.test(C.email)||(ge.email="Geçerli bir e-posta adresi girin"):ge.email="E-posta adresi gerekli",C.name.trim()||(ge.name="İsim gerekli"),!g&&!C.password.trim())ge.password="Şifre gerekli";else if(!g&&C.password.trim()){const $e=(_==null?void 0:_.security)||{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1},De=C.password,le=[];De.length<$e.passwordMinLength&&le.push(`En az ${$e.passwordMinLength} karakter`),$e.passwordRequireUppercase&&!/[A-Z]/.test(De)&&le.push("En az bir büyük harf"),$e.passwordRequireNumbers&&!/[0-9]/.test(De)&&le.push("En az bir rakam"),$e.passwordRequireSpecialChars&&!/[!@#$%^&*(),.?":{}|<>]/.test(De)&&le.push('En az bir özel karakter (!@#$%^&*(),.?":{}|<>)'),le.length>0&&(ge.password=`Şifre gereksinimleri: ${le.join(", ")}`)}return C.role||(ge.role="Rol seçimi gerekli"),M(ge),Object.keys(ge).length===0},he=async ge=>{if(ge.preventDefault(),!!re())try{s(!0);const $e=n.email,De=await cE(eo,C.email,C.password);await Kh(or(qt,"users",De.user.uid),{email:C.email,name:C.name,role:C.role,createdAt:new Date,isActive:!0}),await pw(eo,$e,"admin123"),se("Kullanıcı başarıyla eklendi!"),setTimeout(()=>se(""),3e3),ue(),ve()}catch($e){console.error("Kullanıcı eklenirken hata:",$e),$e.code==="auth/email-already-in-use"?M({email:"Bu e-posta adresi zaten kullanımda"}):$e.code==="auth/wrong-password"?M({general:"Admin şifresi yanlış. Kullanıcı oluşturuldu ama admin oturumu tekrar açılamadı."}):M({general:"Kullanıcı eklenirken hata oluştu: "+$e.message})}finally{s(!1)}},oe=async ge=>{if(ge.preventDefault(),!!re())try{s(!0);const $e=or(qt,"users",g.id);await wf($e,{email:C.email,name:C.name,role:C.role,updatedAt:new Date}),se("Kullanıcı başarıyla güncellendi!"),setTimeout(()=>se(""),3e3),ue(),ve()}catch($e){console.error("Kullanıcı güncellenirken hata:",$e),M({general:"Kullanıcı güncellenirken hata oluştu: "+$e.message})}finally{s(!1)}},_e=async()=>{try{s(!0),await h0(or(qt,"users",I.id)),se("Kullanıcı başarıyla silindi!"),setTimeout(()=>se(""),3e3),ve(),fe(!1),G(null)}catch(ge){console.error("Kullanıcı silinirken hata:",ge),M({general:"Kullanıcı silinirken hata oluştu: "+ge.message})}finally{s(!1)}},X=ge=>{G(ge),k("delete"),fe(!0)},Re=async()=>{const ge=!I.isActive,$e=ge?"aktif":"pasif";try{s(!0);const De=or(qt,"users",I.id);await wf(De,{isActive:ge,updatedAt:new Date}),se(`Kullanıcı durumu ${$e} olarak güncellendi!`),setTimeout(()=>se(""),3e3),ve(),T(!1),G(null)}catch(De){console.error("Kullanıcı durumu güncellenirken hata:",De),M({general:"Kullanıcı durumu güncellenirken hata oluştu: "+De.message})}finally{s(!1)}},B=ge=>{G(ge);const $e=!ge.isActive;k($e?"activate":"deactivate"),T(!0)},Y=ge=>{const $e=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${$e}px`,document.body.style.width="100%",b(ge),V({email:ge.email,password:"",name:ge.name,role:ge.role}),f(!0)},te=()=>{V({email:"",password:"",name:"",role:"Personnel"}),M({}),b(null)},ue=()=>{const ge=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.overflow="",document.body.style.width="",ge&&window.scrollTo(0,parseInt(ge||"0")*-1),c(!1),f(!1),te()},ne=ge=>{switch(ge){case"Admin":return"bg-red-100 text-red-800 border-red-200";case"Team Leader":return"bg-blue-100 text-blue-800 border-blue-200";case"Personnel":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},de=e.filter(ge=>ge.name!=="Admin User"&&ge.email!=="wupaniyazilim@gmail.com");return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:h.jsx(sa,{className:"w-6 h-6 text-purple-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Kullanıcı Yönetimi"}),h.jsx("p",{className:"text-gray-600",children:"Sistem kullanıcılarını yönetin"})]})]}),h.jsx("div",{className:"flex space-x-3",children:h.jsxs("button",{onClick:()=>{const ge=window.scrollY;document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${ge}px`,document.body.style.width="100%",te(),c(!0)},className:"flex items-center space-x-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[h.jsx(ku,{className:"w-4 h-4"}),h.jsx("span",{children:"Yeni Kullanıcı"})]})})]}),J&&h.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-2",children:[h.jsx(ad,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),h.jsx("p",{className:"text-green-800 dark:text-green-300 whitespace-pre-line",children:J})]}),P.general&&h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-2",children:[h.jsx(Vu,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),h.jsx("p",{className:"text-red-800 dark:text-red-300",children:P.general})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Kullanıcılar (",de.length,")"]})}),i?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})}):de.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx(sa,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Henüz kullanıcı bulunmuyor"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Kullanıcı"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"E-posta"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Rol"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Durum"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Oluşturulma"}),h.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"İşlemler"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:de.map(ge=>{var $e,De,le;return h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:h.jsx(cf,{className:"w-5 h-5 text-purple-600"})}),h.jsx("div",{className:"ml-4",children:h.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:ge.name})})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(_4,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),h.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:ge.email})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${ne(ge.role)}`,children:ge.role})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ge.isActive!==!1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ge.isActive!==!1?"Aktif":"Pasif"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:((le=(De=($e=ge.createdAt)==null?void 0:$e.toDate)==null?void 0:De.call($e))==null?void 0:le.toLocaleDateString("tr-TR"))||"Bilinmiyor"}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:h.jsxs("div",{className:"flex justify-center space-x-2",children:[h.jsx("button",{onClick:()=>Y(ge),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Düzenle",children:h.jsx(d0,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>B(ge),className:`p-2 rounded-lg transition-colors ${ge.isActive!==!1?"text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 hover:bg-orange-50 dark:hover:bg-orange-900/30":"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/30"}`,title:ge.isActive!==!1?"Pasif Yap":"Aktif Yap",children:ge.isActive!==!1?h.jsx(qg,{className:"w-4 h-4"}):h.jsx(qc,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>X(ge),className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Sil",children:h.jsx(Oh,{className:"w-4 h-4"})})]})})]},ge.id)})})]})})]}),h.jsx(Xm,{isOpen:o,onClose:ue,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Yeni Kullanıcı Ekle"}),h.jsx("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600",children:h.jsx(Fl,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:he,className:"p-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İsim Soyisim"}),h.jsx("input",{type:"text",value:C.name,onChange:ge=>V({...C,name:ge.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Kullanıcının adını girin"}),P.name&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:P.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta"}),h.jsx("input",{type:"email",value:C.email,onChange:ge=>V({...C,email:ge.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"kullanici@example.com"}),P.email&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:P.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şifre"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:A?"text":"password",value:C.password,onChange:ge=>V({...C,password:ge.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 focus:ring-purple-500 focus:border-purple-500",placeholder:_?`En az ${((we=_.security)==null?void 0:we.passwordMinLength)||8} karakter`:"En az 8 karakter"}),h.jsx("button",{type:"button",onClick:()=>N(!A),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:A?h.jsx(x4,{className:"w-4 h-4"}):h.jsx(Y2,{className:"w-4 h-4"})})]}),_&&h.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Şifre gereksinimleri:",((Se=_.security)==null?void 0:Se.passwordMinLength)&&` ${_.security.passwordMinLength}+ karakter`,((nt=_.security)==null?void 0:nt.passwordRequireUppercase)&&", büyük harf",((Ze=_.security)==null?void 0:Ze.passwordRequireNumbers)&&", rakam",((Ee=_.security)==null?void 0:Ee.passwordRequireSpecialChars)&&", özel karakter"]}),P.password&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:P.password})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),h.jsx("select",{value:C.role,onChange:ge=>V({...C,role:ge.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",children:O.map(ge=>h.jsx("option",{value:ge,children:ge},ge))}),P.role&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:P.role})]})]}),h.jsxs("div",{className:"flex space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:ue,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),h.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:i?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):h.jsxs(h.Fragment,{children:[h.jsx(Uu,{className:"w-4 h-4"}),h.jsx("span",{children:"Kaydet"})]})})]})]})]})}),h.jsx(Xm,{isOpen:d,onClose:ue,children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Kullanıcı Düzenle"}),h.jsx("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600",children:h.jsx(Fl,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:oe,className:"p-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"İsim Soyisim"}),h.jsx("input",{type:"text",value:C.name,onChange:ge=>V({...C,name:ge.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Kullanıcının adını girin"}),P.name&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:P.name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta"}),h.jsx("input",{type:"email",value:C.email,onChange:ge=>V({...C,email:ge.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"kullanici@example.com"}),P.email&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:P.email})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol"}),h.jsx("select",{value:C.role,onChange:ge=>V({...C,role:ge.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-purple-500 focus:border-purple-500",children:O.map(ge=>h.jsx("option",{value:ge,children:ge},ge))}),P.role&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:P.role})]})]}),h.jsxs("div",{className:"flex space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:ue,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),h.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:i?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):h.jsxs(h.Fragment,{children:[h.jsx(Uu,{className:"w-4 h-4"}),h.jsx("span",{children:"Güncelle"})]})})]})]})]})}),h.jsx(Xm,{isOpen:ae,onClose:()=>fe(!1),children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[h.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[h.jsx(Oh,{className:"w-5 h-5 text-red-600 mr-2"}),"Kullanıcı Sil"]})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("p",{className:"text-gray-700 mb-4",children:[h.jsx("strong",{children:I==null?void 0:I.name})," kullanıcısını silmek istediğinizden emin misiniz?"]}),h.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Bu işlem geri alınamaz ve kullanıcının tüm verileri silinecektir."}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:()=>fe(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),h.jsx("button",{onClick:_e,disabled:i,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:i?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):h.jsxs(h.Fragment,{children:[h.jsx(Oh,{className:"w-4 h-4"}),h.jsx("span",{children:"Sil"})]})})]})]})]})}),h.jsx(Xm,{isOpen:F,onClose:()=>T(!1),children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[h.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[R==="activate"?h.jsx(qc,{className:"w-5 h-5 text-green-600 mr-2"}):h.jsx(qg,{className:"w-5 h-5 text-orange-600 mr-2"}),"Kullanıcı Durumu Değiştir"]})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("p",{className:"text-gray-700 mb-4",children:[h.jsx("strong",{children:I==null?void 0:I.name})," kullanıcısını"," ",h.jsx("span",{className:R==="activate"?"text-green-600 font-semibold":"text-orange-600 font-semibold",children:R==="activate"?"aktif":"pasif"})," ","yapmak istediğinizden emin misiniz?"]}),R==="deactivate"&&h.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 mb-4",children:h.jsx("p",{className:"text-sm text-orange-700",children:"⚠️ Pasif yapılan kullanıcı sisteme giriş yapamayacaktır."})}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"İptal"}),h.jsx("button",{onClick:Re,disabled:i,className:`flex-1 px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 ${R==="activate"?"bg-green-600 text-white hover:bg-green-700":"bg-orange-600 text-white hover:bg-orange-700"}`,children:i?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):h.jsxs(h.Fragment,{children:[R==="activate"?h.jsx(qc,{className:"w-4 h-4"}):h.jsx(qg,{className:"w-4 h-4"}),h.jsx("span",{children:R==="activate"?"Aktif Yap":"Pasif Yap"})]})})]})]})]})})]})},uC=()=>{const{currentUser:n}=Ss(),[e,t]=pe.useState([]),[i,s]=pe.useState([]),[o,c]=pe.useState(!0),[d,f]=pe.useState(!1),[g,b]=pe.useState(null),[A,N]=pe.useState({userId:"",userName:"",targetType:"monthly",targetValue:"",period:new Date().toISOString().slice(0,7),description:""}),[_,D]=pe.useState({}),[C,V]=pe.useState("");pe.useEffect(()=>{P()},[]);const P=async()=>{try{c(!0);const I=Xn(qt,"users"),R=(await $r(I)).docs.map(ve=>({id:ve.id,...ve.data()})).filter(ve=>ve.name!=="Admin User"&&ve.email!=="wupaniyazilim@gmail.com");s(R);const k=Xn(qt,"targets"),ee=(await $r(k)).docs.map(ve=>({id:ve.id,...ve.data()}));t(ee)}catch(I){console.error("Veri yüklenirken hata:",I),D({general:"Veriler yüklenirken hata oluştu."})}finally{c(!1)}},M=()=>{const I={};return A.userId||(I.userId="Personel seçimi gerekli"),(!A.targetValue||A.targetValue<=0)&&(I.targetValue="Geçerli bir hedef değeri girin"),A.period||(I.period="Dönem seçimi gerekli"),D(I),Object.keys(I).length===0},J=async I=>{if(I.preventDefault(),!!M())try{c(!0);const G={userId:A.userId,userName:A.userName,targetType:A.targetType,targetValue:parseInt(A.targetValue),period:A.period,description:A.description,createdAt:new Date,createdBy:n.uid,isActive:!0};g?(await wf(or(qt,"targets",g.id),{...G,updatedAt:new Date}),V("Hedef başarıyla güncellendi!")):(await Kh(or(Xn(qt,"targets")),G),V("Hedef başarıyla eklendi!")),await P(),fe(),f(!1),b(null)}catch(G){console.error("Hedef kaydedilirken hata:",G),D({general:"Hedef kaydedilirken hata oluştu."})}finally{c(!1)}},se=async I=>{if(window.confirm("Bu hedefi silmek istediğinizden emin misiniz?"))try{await h0(or(qt,"targets",I)),V("Hedef başarıyla silindi!"),await P()}catch(G){console.error("Hedef silinirken hata:",G),D({general:"Hedef silinirken hata oluştu."})}},ae=I=>{b(I),N({userId:I.userId,userName:I.userName,targetType:I.targetType,targetValue:I.targetValue.toString(),period:I.period,description:I.description||""}),f(!0)},fe=()=>{N({userId:"",userName:"",targetType:"monthly",targetValue:"",period:new Date().toISOString().slice(0,7),description:""}),D({})},F=()=>{f(!1),b(null),fe()},T=I=>{const G=I.target.value,R=i.find(k=>k.id===G);N({...A,userId:G,userName:R?R.name:""})};return o&&e.length===0?h.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})})})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:h.jsx(Wh,{className:"w-6 h-6 text-green-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Hedef Yönetimi"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Personel satış hedeflerini belirleyin ve takip edin"})]})]}),h.jsxs("button",{onClick:()=>{fe(),f(!0)},className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[h.jsx(ku,{className:"w-4 h-4"}),h.jsx("span",{children:"Yeni Hedef"})]})]}),C&&h.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-2",children:[h.jsx(ad,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),h.jsx("p",{className:"text-green-800 dark:text-green-300",children:C})]}),_.general&&h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-2",children:[h.jsx(Vu,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),h.jsx("p",{className:"text-red-800 dark:text-red-300",children:_.general})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Aktif Hedefler (",e.length,")"]})}),o?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):e.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Wh,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Henüz hedef bulunmuyor"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Personel"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Hedef Türü"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Hedef Değeri"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dönem"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Açıklama"}),h.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"İşlemler"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(I=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(sa,{className:"w-5 h-5 text-green-600"})}),h.jsx("div",{className:"ml-4",children:h.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:I.userName})})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:I.targetType==="monthly"?"Aylık":"Yıllık"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Op,{className:"w-4 h-4 text-green-400 mr-2"}),h.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[I.targetValue," Satış"]})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(v4,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),h.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:I.period})]})}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:I.description||"-"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:h.jsxs("div",{className:"flex justify-center space-x-2",children:[h.jsx("button",{onClick:()=>ae(I),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Düzenle",children:h.jsx(d0,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>se(I.id),className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Sil",children:h.jsx(Oh,{className:"w-4 h-4"})})]})})]},I.id))})]})})]}),d&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g?"Hedef Düzenle":"Yeni Hedef Ekle"}),h.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600",children:h.jsx(Fl,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:J,className:"p-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personel Seçin"}),h.jsxs("select",{value:A.userId,onChange:T,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",children:[h.jsx("option",{value:"",children:"Personel seçin..."}),i.map(I=>h.jsxs("option",{value:I.id,children:[I.name," (",I.role,")"]},I.id))]}),_.userId&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:_.userId})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hedef Türü"}),h.jsxs("select",{value:A.targetType,onChange:I=>N({...A,targetType:I.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",children:[h.jsx("option",{value:"monthly",children:"Aylık"}),h.jsx("option",{value:"yearly",children:"Yıllık"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hedef Satış Sayısı"}),h.jsx("input",{type:"number",value:A.targetValue,onChange:I=>N({...A,targetValue:I.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",placeholder:"Örn: 50",min:"1"}),_.targetValue&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:_.targetValue})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dönem"}),h.jsx("input",{type:"month",value:A.period,onChange:I=>N({...A,period:I.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500"}),_.period&&h.jsx("p",{className:"text-red-600 text-sm mt-1",children:_.period})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Açıklama (Opsiyonel)"}),h.jsx("textarea",{value:A.description,onChange:I=>N({...A,description:I.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-green-500 focus:border-green-500",rows:"3",placeholder:"Hedef hakkında ek bilgiler..."})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"İptal"}),h.jsxs("button",{type:"submit",disabled:o,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[h.jsx(Uu,{className:"w-4 h-4"}),h.jsx("span",{children:g?"Güncelle":"Kaydet"})]})]})]})]})})]})},hC=()=>{const[n,e]=pe.useState([]),[t,i]=pe.useState([]),[s,o]=pe.useState(!0),[c,d]=pe.useState(!1),[f,g]=pe.useState(null),[b,A]=pe.useState(""),[N,_]=pe.useState({}),[D,C]=pe.useState(""),[V,P]=pe.useState("");pe.useEffect(()=>{M()},[]);const M=async()=>{try{o(!0);const I=Xn(qt,"users"),R=(await $r(I)).docs.map(k=>({id:k.id,...k.data()})).filter(k=>k.name!=="Admin User"&&k.email!=="wupaniyazilim@gmail.com");e(R),J(R)}catch(I){console.error("Kullanıcılar yüklenirken hata:",I),P("Kullanıcılar yüklenirken hata oluştu.")}finally{o(!1)}},J=I=>{const G=I.filter(ee=>ee.role==="Team Leader"),R=I.filter(ee=>ee.role==="Personnel"),k=G.map(ee=>{const ve=R.filter(re=>re.teamLeader===ee.id);return{leader:ee,members:ve,memberCount:ve.length}}),O=R.filter(ee=>!ee.teamLeader);O.length>0&&k.push({leader:{id:"unassigned",name:"Atanmamış Personeller",role:"Unassigned"},members:O,memberCount:O.length,isUnassigned:!0}),i(k)},se=async()=>{if(!(!f||!b))try{const I=or(qt,"users",f.id);await wf(I,{teamLeader:b==="unassigned"?null:b}),C("Personel başarıyla atandı!"),setTimeout(()=>C(""),3e3),await M(),d(!1),g(null),A("")}catch(I){console.error("Atama sırasında hata:",I),P("Atama sırasında hata oluştu."),setTimeout(()=>P(""),3e3)}},ae=I=>{g(I),A(I.teamLeader||""),d(!0)},fe=I=>{_(G=>({...G,[I]:!G[I]}))},F=I=>{switch(I){case"Team Leader":return"bg-blue-100 text-blue-800 border-blue-200";case"Personnel":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},T=()=>{const I=n.filter(G=>G.role==="Team Leader");return[{id:"unassigned",name:"Atanmamış (Takım lideri yok)"},...I.map(G=>({id:G.id,name:G.name}))]};return s?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:h.jsx(sa,{className:"w-6 h-6 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Takım Yönetimi"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Takım liderlerini ve personelleri yönetin"})]})]}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[h.jsx(sa,{className:"w-4 h-4"}),h.jsxs("span",{children:[n.length," Toplam Kullanıcı"]})]})]}),D&&h.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center space-x-2",children:[h.jsx(qc,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),h.jsx("p",{className:"text-green-800 dark:text-green-300",children:D})]}),V&&h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center space-x-2",children:[h.jsx(Fl,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),h.jsx("p",{className:"text-red-800 dark:text-red-300",children:V})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Takım Liderleri"}),h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(I=>I.role==="Team Leader").length})]}),h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(zb,{className:"w-6 h-6 text-blue-600"})})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Personeller"}),h.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(I=>I.role==="Personnel").length})]}),h.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(sa,{className:"w-6 h-6 text-green-600"})})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Atanmamış"}),h.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.filter(I=>I.role==="Personnel"&&!I.teamLeader).length})]}),h.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:h.jsx(qc,{className:"w-6 h-6 text-orange-600"})})]})})]}),h.jsx("div",{className:"space-y-4",children:t.map((I,G)=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[h.jsx("div",{className:`p-6 cursor-pointer transition-colors ${I.isUnassigned?"bg-orange-50 dark:bg-orange-900/20 hover:bg-orange-100 dark:hover:bg-orange-900/30":"bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30"}`,onClick:()=>fe(G),children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${I.isUnassigned?"bg-orange-200":"bg-blue-200"}`,children:I.isUnassigned?h.jsx(qc,{className:`w-6 h-6 ${I.isUnassigned?"text-orange-600":"text-blue-600"}`}):h.jsx(zb,{className:"w-6 h-6 text-blue-600"})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center space-x-2",children:[h.jsx("span",{children:I.leader.name}),!I.isUnassigned&&h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(I.leader.role)}`,children:"Takım Lideri"})]}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[I.memberCount," ",(I.memberCount===1,"personel")]})]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[I.memberCount," Üye"]}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:I.isUnassigned?"Atanmamış":"Aktif Takım"})]}),N[G]?h.jsx($2,{className:"w-5 h-5 text-gray-400"}):h.jsx(b4,{className:"w-5 h-5 text-gray-400"})]})]})}),N[G]&&h.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700",children:I.members.length===0?h.jsxs("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:[h.jsx(sa,{className:"w-8 h-8 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),h.jsx("p",{children:"Bu takımda henüz personel bulunmuyor"})]}):h.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:I.members.map(R=>h.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(sa,{className:"w-5 h-5 text-green-600"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:R.name}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.email})]})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F(R.role)}`,children:"Personel"}),h.jsx("button",{onClick:()=>ae(R),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-1 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded transition-colors",title:"Takım değiştir",children:h.jsx(d0,{className:"w-4 h-4"})})]})]})},R.id))})})]},I.leader.id))}),c&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Takım Ataması"}),h.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:h.jsx(Fl,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Personel:"}),h.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[h.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(sa,{className:"w-4 h-4 text-green-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900",children:f==null?void 0:f.name}),h.jsx("p",{className:"text-xs text-gray-500",children:f==null?void 0:f.email})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Takım Lideri Seçin:"}),h.jsxs("select",{value:b,onChange:I=>A(I.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:"",children:"Takım lideri seçin..."}),T().map(I=>h.jsx("option",{value:I.id,children:I.name},I.id))]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"İptal"}),h.jsxs("button",{onClick:se,disabled:!b,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(Uu,{className:"w-4 h-4"}),h.jsx("span",{children:"Ata"})]})]})]})]})})]})},dC=()=>{const[n,e]=pe.useState(!0),[t,i]=pe.useState(!1),[s,o]=pe.useState(""),[c,d]=pe.useState(""),[f,g]=pe.useState({kanalList:[],durumList:[],detayList:[],abonelikDurumList:[]}),b={kanalList:"Çağrı Kanalları",durumList:"Çağrı Durumları",detayList:"Satış Çağrısı Detayları",abonelikDurumList:"Abonelik Durumları"};pe.useEffect(()=>{A()},[]);const A=async()=>{try{e(!0);const C=or(qt,"dropdown_settings","main"),V=await zo(C);if(V.exists()){const P=V.data();g({kanalList:P.kanalList||[],durumList:P.durumList||[],detayList:P.detayList||[],abonelikDurumList:P.abonelikDurumList||[]})}else g({kanalList:["Telefon","WhatsApp","E-posta","Yüz Yüze","Web Site"],durumList:["Arandı","Meşgul","Ulaşılamadı","Geri Arama","Reddetti"],detayList:["İlgilendi","Düşünecek","Fiyat Sordu","Bilgi İstedi","İlgilenmedi","Satış Sağlandı"],abonelikDurumList:["Yeni Abone","Mevcut Abone","İptal","Askıya Alındı","Beklemede"]})}catch(C){console.error("Dropdown ayarları yüklenirken hata:",C),d("Ayarlar yüklenirken bir hata oluştu.")}finally{e(!1)}},N=C=>{const V=prompt(`Yeni ${b[C]} değeri:`);V&&V.trim()&&g(P=>({...P,[C]:[...P[C],V.trim()]}))},_=(C,V)=>{window.confirm("Bu değeri silmek istediğinizden emin misiniz?")&&g(P=>({...P,[C]:P[C].filter((M,J)=>J!==V)}))},D=async()=>{try{i(!0),d("");const C=or(qt,"dropdown_settings","main");await Kh(C,{...f,updatedAt:new Date}),o("Ayarlar başarıyla kaydedildi!"),setTimeout(()=>o(""),3e3)}catch(C){console.error("Ayarlar kaydedilirken hata:",C),d("Ayarlar kaydedilirken bir hata oluştu.")}finally{i(!1)}};return n?h.jsx("div",{className:"flex justify-center items-center p-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center",children:[h.jsx(K2,{className:"h-6 w-6 mr-2"}),"Açılır Liste Ayarları"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Yeni kayıt formundaki açılır listeleri yönetin"})]}),h.jsxs("button",{onClick:D,disabled:t,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[h.jsx(Uu,{className:"h-4 w-4 mr-2"}),t?"Kaydediliyor...":"Tümünü Kaydet"]})]}),s&&h.jsxs("div",{className:"mb-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 px-4 py-3 rounded flex items-center",children:[h.jsx(ad,{className:"h-4 w-4 mr-2"}),s]}),c&&h.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded flex items-center",children:[h.jsx(Vu,{className:"h-4 w-4 mr-2"}),c]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(f).map(([C,V])=>h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[h.jsx(w4,{className:"h-5 w-5 mr-2"}),b[C]]}),h.jsxs("button",{onClick:()=>N(C),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200",children:[h.jsx(ku,{className:"h-4 w-4 mr-1"}),"Ekle"]})]}),h.jsxs("div",{className:"space-y-2",children:[V.map((P,M)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[h.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:P}),h.jsx("button",{onClick:()=>_(C,M),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-1",title:"Sil",children:h.jsx(Oh,{className:"h-4 w-4"})})]},M)),V.length===0&&h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Henüz değer eklenmemiş"})]})]},C))})]})},fC=()=>{const{currentUser:n}=Ss(),[e,t]=pe.useState(!0),[i,s]=pe.useState(!1),[o,c]=pe.useState("security"),[d,f]=pe.useState({}),[g,b]=pe.useState({security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1,sessionTimeout:480,maxLoginAttempts:5,ipWhitelist:[],allowRemoteLogin:!0}}),[A,N]=pe.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:null}),_=[{id:"security",label:"Güvenlik",icon:C1},{id:"system",label:"Sistem Bilgisi",icon:Tj}];pe.useEffect(()=>{D(),C()},[]);const D=async()=>{try{const ae=await zo(or(qt,"system_settings","main"));if(ae.exists()){const fe=ae.data();b(F=>({...F,...fe}))}}catch(ae){console.error("Ayarlar yüklenirken hata:",ae)}finally{t(!1)}},C=async()=>{try{const ae=await $r(Xn(qt,"users")),fe=ae.size,F=ae.docs.filter(ve=>ve.data().isActive!==!1).length,T=await $r(Xn(qt,"sales_records")),I=T.size,G=new Date,R=new Date(G.getFullYear(),G.getMonth(),1),k=T.docs.filter(ve=>{var oe;const re=ve.data();return(((oe=re.createdAt)==null?void 0:oe.toDate())||new Date(re.tarih))>=R}).length,ee=((fe*2+I*1.5)/1024).toFixed(1);f({totalUsers:fe,activeUsers:F,totalRecords:I,thisMonthRecords:k,systemUptime:"99.9%",lastBackup:new Date().toLocaleDateString("tr-TR"),databaseSize:`${ee} MB`,avgResponseTime:"120ms"})}catch(ae){console.error("Sistem istatistikleri yüklenirken hata:",ae)}},V=(ae,fe,F)=>{b(T=>({...T,[ae]:{...T[ae],[fe]:F}}))},P=async()=>{s(!0);try{const ae={...g,lastUpdated:new Date,updatedBy:n.uid,savedAt:new Date().toISOString()};await Kh(or(qt,"system_settings","main"),ae),N({isOpen:!0,type:"success",title:"Ayarlar Kaydedildi",message:`Sistem ayarları başarıyla güncellendi. Kayıt zamanı: ${new Date().toLocaleString("tr-TR")}`,onConfirm:()=>N(fe=>({...fe,isOpen:!1}))})}catch(ae){console.error("Ayarlar kaydedilirken hata:",ae),N({isOpen:!0,type:"error",title:"Kaydetme Hatası",message:`Ayarlar kaydedilirken bir hata oluştu: ${ae.message}`,onConfirm:()=>N(fe=>({...fe,isOpen:!1}))})}finally{s(!1)}},M=()=>{N({isOpen:!0,type:"warning",title:"Varsayılan Ayarlara Dön",message:"Tüm ayarlar varsayılan değerlere sıfırlanacak. Bu işlem geri alınamaz. Devam etmek istiyor musunuz?",onConfirm:async()=>{try{const ae={security:{passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1,sessionTimeout:480,maxLoginAttempts:5,ipWhitelist:[],allowRemoteLogin:!0}};b(ae),await Kh(or(qt,"system_settings","main"),{...ae,lastUpdated:new Date,updatedBy:n.uid,resetToDefaults:!0}),N({isOpen:!0,type:"success",title:"Varsayılan Ayarlar Yüklendi",message:"Tüm ayarlar varsayılan değerlere sıfırlandı.",onConfirm:()=>N(fe=>({...fe,isOpen:!1}))})}catch(ae){console.error("Varsayılan ayarlar yüklenirken hata:",ae),N({isOpen:!0,type:"error",title:"Hata",message:"Varsayılan ayarlar yüklenirken bir hata oluştu.",onConfirm:()=>N(fe=>({...fe,isOpen:!1}))})}}})},J=()=>h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(I1,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2"}),h.jsx("span",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Güvenlik ayarları değişiklikleri tüm kullanıcıları etkileyecektir."})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Şifre Uzunluğu"}),h.jsx("input",{type:"number",min:"6",max:"20",value:g.security.passwordMinLength,onChange:ae=>V("security","passwordMinLength",parseInt(ae.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Oturum Zaman Aşımı (dakika)"}),h.jsx("input",{type:"number",min:"30",max:"1440",value:g.security.sessionTimeout,onChange:ae=>V("security","sessionTimeout",parseInt(ae.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Maksimum Giriş Denemesi"}),h.jsx("input",{type:"number",min:"3",max:"10",value:g.security.maxLoginAttempts,onChange:ae=>V("security","maxLoginAttempts",parseInt(ae.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Büyük Harf Zorunluluğu"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Şifrelerde en az bir büyük harf olmalı"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:g.security.passwordRequireUppercase,onChange:ae=>V("security","passwordRequireUppercase",ae.target.checked),className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Sayı Zorunluluğu"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Şifrelerde en az bir sayı olmalı"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:g.security.passwordRequireNumbers,onChange:ae=>V("security","passwordRequireNumbers",ae.target.checked),className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"})]})]})]})]}),se=()=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg",children:[h.jsx("div",{className:"flex items-center",children:h.jsx(sa,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 mb-2"})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Toplam Kullanıcı"}),h.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:d.totalUsers}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.activeUsers," aktif"]})]}),h.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-6 rounded-lg",children:[h.jsx("div",{className:"flex items-center",children:h.jsx(up,{className:"h-8 w-8 text-green-600 dark:text-green-400 mb-2"})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Toplam Kayıt"}),h.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:d.totalRecords}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Bu ay: ",d.thisMonthRecords]})]}),h.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg",children:[h.jsx("div",{className:"flex items-center",children:h.jsx(Oj,{className:"h-8 w-8 text-purple-600 dark:text-purple-400 mb-2"})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Sistem Durumu"}),h.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:d.systemUptime}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Çalışma süresi"})]}),h.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-6 rounded-lg",children:[h.jsx("div",{className:"flex items-center",children:h.jsx(pj,{className:"h-8 w-8 text-orange-600 dark:text-orange-400 mb-2"})}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Veritabanı"}),h.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:d.databaseSize}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Toplam boyut"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Sistem Bilgileri"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Son Yedekleme:"}),h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.lastBackup})]}),h.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Ortalama Yanıt Süresi:"}),h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.avgResponseTime})]}),h.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Uygulama Versiyonu:"}),h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"v2.1.0"})]}),h.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 dark:border-gray-700",children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Son Güncelleme:"}),h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:new Date().toLocaleDateString("tr-TR")})]})]})]})]});return e?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Sistem ayarları yükleniyor..."})})}):h.jsxs(xs,{allowedRoles:["admin"],children:[h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:h.jsx(K2,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Sistem Ayarları"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Uygulama konfigürasyonu ve sistem yönetimi"})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[h.jsx(R1,{className:"w-4 h-4"}),"Varsayılana Dön"]}),h.jsxs("button",{onClick:P,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:[i?h.jsx(R1,{className:"w-4 h-4 animate-spin"}):h.jsx(Uu,{className:"w-4 h-4"}),i?"Kaydediliyor...":"Kaydet"]})]})]})}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200 dark:border-gray-700",children:_.map(ae=>{const fe=ae.icon;return h.jsxs("button",{onClick:()=>c(ae.id),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg transition-colors ${o===ae.id?"bg-purple-600 text-white border-b-2 border-purple-600":"text-gray-600 dark:text-gray-300 hover:text-purple-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[h.jsx(fe,{className:"w-4 h-4"}),ae.label]},ae.id)})}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[o==="security"&&J(),o==="system"&&se()]})]})}),h.jsx(f0,{isOpen:A.isOpen,onClose:()=>N(ae=>({...ae,isOpen:!1})),title:A.title,type:A.type,onConfirm:A.onConfirm,children:h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:A.message})})]})};function ia({children:n}){const{currentUser:e}=Ss();return e?n:h.jsx(Jm,{to:"/login",replace:!0})}function aa({children:n}){return h.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-purple-50 via-lavender-50 to-periwinkle-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[h.jsx(nC,{}),h.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[h.jsx(rC,{}),h.jsx("main",{className:"flex-1 overflow-y-auto bg-transparent",children:n})]})]})}function mC(){const{currentUser:n,checkUserStatus:e}=Ss();return pe.useEffect(()=>{if(n){const t=setInterval(async()=>{await e()},3e4);return()=>clearInterval(t)}},[n,e]),h.jsx(g6,{children:h.jsxs($N,{children:[h.jsx(ni,{path:"/login",element:n?h.jsx(Jm,{to:"/dashboard",replace:!0}):h.jsx(Zj,{})}),h.jsx(ni,{path:"/",element:h.jsx(Jm,{to:"/dashboard",replace:!0})}),h.jsx(ni,{path:"/dashboard",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(eR,{})})})}),h.jsx(ni,{path:"/records",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx("div",{className:"p-6",children:h.jsx(lC,{})})})})}),h.jsx(ni,{path:"/add-record",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx("div",{className:"p-6",children:h.jsx(sC,{})})})})}),h.jsx(ni,{path:"/user-management",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["admin"],children:h.jsx("div",{className:"p-6",children:h.jsx(cC,{})})})})})}),h.jsx(ni,{path:"/target-management",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["admin","teamLeader"],children:h.jsx("div",{className:"p-6",children:h.jsx(uC,{})})})})})}),h.jsx(ni,{path:"/team-management",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["admin"],children:h.jsx("div",{className:"p-6",children:h.jsx(hC,{})})})})})}),h.jsx(ni,{path:"/dropdown-settings",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["admin"],children:h.jsx(dC,{})})})})}),h.jsx(ni,{path:"/data-import",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["admin"],children:h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsx("div",{className:"card-modern p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),h.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Veri İçe Aktarma"}),h.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Excel dosyalarından toplu veri aktarımı"}),h.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[h.jsx("p",{className:"text-gray-700 font-medium",children:"Veri içe aktarma özelliği geliştirme aşamasında..."}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Excel dosyalarından toplu veri aktarım araçları yakında eklenecek."})]})]})})})})})})})}),h.jsx(ni,{path:"/data-export",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["admin"],children:h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsx("div",{className:"card-modern p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),h.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Veri Dışa Aktarma"}),h.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Verileri Excel formatında dışa aktarın"}),h.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[h.jsx("p",{className:"text-gray-700 font-medium",children:"Veri dışa aktarma özelliği geliştirme aşamasında..."}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Excel formatında veri dışa aktarım araçları yakında eklenecek."})]})]})})})})})})})}),h.jsx(ni,{path:"/database-management",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["admin"],children:h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsx("div",{className:"card-modern p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),h.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Veritabanı Yönetimi"}),h.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Veri yedekleme ve bakım işlemleri"}),h.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[h.jsx("p",{className:"text-gray-700 font-medium",children:"Veritabanı yönetim araçları geliştirme aşamasında..."}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Veri yedekleme, geri yükleme ve bakım araçları yakında eklenecek."})]})]})})})})})})})}),h.jsx(ni,{path:"/settings",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(fC,{})})})}),h.jsx(ni,{path:"/analytics",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["admin","teamLeader"],children:h.jsx(eC,{})})})})}),h.jsx(ni,{path:"/team-performance",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(tC,{})})})}),h.jsx(ni,{path:"/targets",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["teamLeader","personnel"],children:h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsx("div",{className:"card-modern p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}),h.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Hedefler"}),h.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Hedef takibi ve ilerleme yönetimi"}),h.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[h.jsx("p",{className:"text-gray-700 font-medium",children:"Hedef yönetimi sayfası geliştirme aşamasında..."}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Satış hedefleri, takip ve raporlama araçları yakında eklenecek."})]})]})})})})})})})}),h.jsx(ni,{path:"/reports",element:h.jsx(ia,{children:h.jsx(aa,{children:h.jsx(xs,{allowedRoles:["teamLeader"],children:h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:h.jsx("div",{className:"card-modern p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),h.jsx("h2",{className:"text-3xl font-bold text-gradient-purple mb-4",children:"Raporlar"}),h.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Takım raporları ve analitik veriler"}),h.jsxs("div",{className:"bg-gradient-periwinkle p-6 rounded-2xl",children:[h.jsx("p",{className:"text-gray-700 font-medium",children:"Raporlama sistemi geliştirme aşamasında..."}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Detaylı takım raporları ve analitik araçları yakında eklenecek."})]})]})})})})})})})}),h.jsx(ni,{path:"*",element:h.jsx(Jm,{to:"/dashboard",replace:!0})})]})})}function pC(){return h.jsx(P7,{children:h.jsx(L7,{children:h.jsx(mC,{})})})}const gC=()=>{{console.log=()=>{},console.info=()=>{},console.warn=()=>{};const n=console.error;console.error=(...e)=>{const t=e.map(i=>typeof i=="string"?i.replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,"[EMAIL_HIDDEN]").replace(/\b0[0-9]{10}\b/g,"[PHONE_HIDDEN]").replace(/\b[A-Za-z0-9]{20,}\b/g,"[ID_HIDDEN]"):i);n(...t)}}};gC();tN.createRoot(document.getElementById("root")).render(h.jsx(pe.StrictMode,{children:h.jsx(pC,{})}));export{On as _};
